var j_=Object.defineProperty;var N_=(t,e,r)=>e in t?j_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var m2=(t,e,r)=>N_(t,typeof e!="symbol"?e+"":e,r);function S_(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var Wk={exports:{}},Q0={},Gk={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=Symbol.for("react.element"),__=Symbol.for("react.portal"),E_=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),P_=Symbol.for("react.profiler"),D_=Symbol.for("react.provider"),I_=Symbol.for("react.context"),L_=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),T_=Symbol.for("react.memo"),O_=Symbol.for("react.lazy"),g2=Symbol.iterator;function M_(t){return t===null||typeof t!="object"?null:(t=g2&&t[g2]||t["@@iterator"],typeof t=="function"?t:null)}var Jk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kk=Object.assign,Yk={};function Jd(t,e,r){this.props=t,this.context=e,this.refs=Yk,this.updater=r||Jk}Jd.prototype.isReactComponent={};Jd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xk(){}Xk.prototype=Jd.prototype;function Rb(t,e,r){this.props=t,this.context=e,this.refs=Yk,this.updater=r||Jk}var Tb=Rb.prototype=new Xk;Tb.constructor=Rb;Kk(Tb,Jd.prototype);Tb.isPureReactComponent=!0;var y2=Array.isArray,Qk=Object.prototype.hasOwnProperty,Ob={current:null},Zk={key:!0,ref:!0,__self:!0,__source:!0};function ej(t,e,r){var n,a={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Qk.call(e,n)&&!Zk.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Jh,type:t,key:o,ref:i,props:a,_owner:Ob.current}}function F_(t,e){return{$$typeof:Jh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jh}function B_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var x2=/\/+/g;function Cg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?B_(""+t.key):e.toString(36)}function wp(t,e,r,n,a){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Jh:case __:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+Cg(i,0):n,y2(a)?(r="",t!=null&&(r=t.replace(x2,"$&/")+"/"),wp(a,e,r,"",function(d){return d})):a!=null&&(Mb(a)&&(a=F_(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(x2,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",y2(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+Cg(o,l);i+=wp(o,e,r,c,a)}else if(c=M_(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+Cg(o,l++),i+=wp(o,e,r,c,a);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Bf(t,e,r){if(t==null)return t;var n=[],a=0;return wp(t,n,"","",function(o){return e.call(r,o,a++)}),n}function $_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Da={current:null},kp={transition:null},q_={ReactCurrentDispatcher:Da,ReactCurrentBatchConfig:kp,ReactCurrentOwner:Ob};function tj(){throw Error("act(...) is not supported in production builds of React.")}ar.Children={map:Bf,forEach:function(t,e,r){Bf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Bf(t,function(){e++}),e},toArray:function(t){return Bf(t,function(e){return e})||[]},only:function(t){if(!Mb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ar.Component=Jd;ar.Fragment=E_;ar.Profiler=P_;ar.PureComponent=Rb;ar.StrictMode=A_;ar.Suspense=R_;ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q_;ar.act=tj;ar.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Kk({},t.props),a=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Ob.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Qk.call(e,c)&&!Zk.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Jh,type:t.type,key:a,ref:o,props:n,_owner:i}};ar.createContext=function(t){return t={$$typeof:I_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D_,_context:t},t.Consumer=t};ar.createElement=ej;ar.createFactory=function(t){var e=ej.bind(null,t);return e.type=t,e};ar.createRef=function(){return{current:null}};ar.forwardRef=function(t){return{$$typeof:L_,render:t}};ar.isValidElement=Mb;ar.lazy=function(t){return{$$typeof:O_,_payload:{_status:-1,_result:t},_init:$_}};ar.memo=function(t,e){return{$$typeof:T_,type:t,compare:e===void 0?null:e}};ar.startTransition=function(t){var e=kp.transition;kp.transition={};try{t()}finally{kp.transition=e}};ar.unstable_act=tj;ar.useCallback=function(t,e){return Da.current.useCallback(t,e)};ar.useContext=function(t){return Da.current.useContext(t)};ar.useDebugValue=function(){};ar.useDeferredValue=function(t){return Da.current.useDeferredValue(t)};ar.useEffect=function(t,e){return Da.current.useEffect(t,e)};ar.useId=function(){return Da.current.useId()};ar.useImperativeHandle=function(t,e,r){return Da.current.useImperativeHandle(t,e,r)};ar.useInsertionEffect=function(t,e){return Da.current.useInsertionEffect(t,e)};ar.useLayoutEffect=function(t,e){return Da.current.useLayoutEffect(t,e)};ar.useMemo=function(t,e){return Da.current.useMemo(t,e)};ar.useReducer=function(t,e,r){return Da.current.useReducer(t,e,r)};ar.useRef=function(t){return Da.current.useRef(t)};ar.useState=function(t){return Da.current.useState(t)};ar.useSyncExternalStore=function(t,e,r){return Da.current.useSyncExternalStore(t,e,r)};ar.useTransition=function(){return Da.current.useTransition()};ar.version="18.3.1";Gk.exports=ar;var D=Gk.exports;const Ar=Hk(D),b2=S_({__proto__:null,default:Ar},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_=D,z_=Symbol.for("react.element"),V_=Symbol.for("react.fragment"),H_=Object.prototype.hasOwnProperty,W_=U_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G_={key:!0,ref:!0,__self:!0,__source:!0};function rj(t,e,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)H_.call(e,n)&&!G_.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:z_,type:t,key:o,ref:i,props:a,_owner:W_.current}}Q0.Fragment=V_;Q0.jsx=rj;Q0.jsxs=rj;Wk.exports=Q0;var s=Wk.exports,nj={exports:{}},xs={},aj={exports:{}},sj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,B){var G=W.length;W.push(B);e:for(;0<G;){var X=G-1>>>1,T=W[X];if(0<a(T,B))W[X]=B,W[G]=T,G=X;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var B=W[0],G=W.pop();if(G!==B){W[0]=G;e:for(var X=0,T=W.length,J=T>>>1;X<J;){var ee=2*(X+1)-1,le=W[ee],ue=ee+1,de=W[ue];if(0>a(le,G))ue<T&&0>a(de,le)?(W[X]=de,W[ue]=G,X=ue):(W[X]=le,W[ee]=G,X=ee);else if(ue<T&&0>a(de,G))W[X]=de,W[ue]=G,X=ue;else break e}}return B}function a(W,B){var G=W.sortIndex-B.sortIndex;return G!==0?G:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,g=3,p=!1,w=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(W){for(var B=r(d);B!==null;){if(B.callback===null)n(d);else if(B.startTime<=W)n(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=r(d)}}function U(W){if(b=!1,L(W),!w)if(r(c)!==null)w=!0,V(M);else{var B=r(d);B!==null&&K(U,B.startTime-W)}}function M(W,B){w=!1,b&&(b=!1,v(R),R=-1),p=!0;var G=g;try{for(L(B),h=r(c);h!==null&&(!(h.expirationTime>B)||W&&!x());){var X=h.callback;if(typeof X=="function"){h.callback=null,g=h.priorityLevel;var T=X(h.expirationTime<=B);B=t.unstable_now(),typeof T=="function"?h.callback=T:h===r(c)&&n(c),L(B)}else n(c);h=r(c)}if(h!==null)var J=!0;else{var ee=r(d);ee!==null&&K(U,ee.startTime-B),J=!1}return J}finally{h=null,g=G,p=!1}}var q=!1,y=null,R=-1,A=5,P=-1;function x(){return!(t.unstable_now()-P<A)}function k(){if(y!==null){var W=t.unstable_now();P=W;var B=!0;try{B=y(!0,W)}finally{B?E():(q=!1,y=null)}}else q=!1}var E;if(typeof j=="function")E=function(){j(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,z=C.port2;C.port1.onmessage=k,E=function(){z.postMessage(null)}}else E=function(){_(k,0)};function V(W){y=W,q||(q=!0,E())}function K(W,B){R=_(function(){W(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,V(M))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var G=g;g=B;try{return W()}finally{g=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=g;g=W;try{return B()}finally{g=G}},t.unstable_scheduleCallback=function(W,B,G){var X=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?X+G:X):G=X,W){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=G+T,W={id:u++,callback:B,priorityLevel:W,startTime:G,expirationTime:T,sortIndex:-1},G>X?(W.sortIndex=G,e(d,W),r(c)===null&&W===r(d)&&(b?(v(R),R=-1):b=!0,K(U,G-X))):(W.sortIndex=T,e(c,W),w||p||(w=!0,V(M))),W},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(W){var B=g;return function(){var G=g;g=B;try{return W.apply(this,arguments)}finally{g=G}}}})(sj);aj.exports=sj;var J_=aj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=D,gs=J_;function lt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oj=new Set,xh={};function vc(t,e){Ld(t,e),Ld(t+"Capture",e)}function Ld(t,e){for(xh[t]=e,t=0;t<e.length;t++)oj.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vy=Object.prototype.hasOwnProperty,Y_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v2={},w2={};function X_(t){return Vy.call(w2,t)?!0:Vy.call(v2,t)?!1:Y_.test(t)?w2[t]=!0:(v2[t]=!0,!1)}function Q_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z_(t,e,r,n){if(e===null||typeof e>"u"||Q_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ia(t,e,r,n,a,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var la={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){la[t]=new Ia(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];la[e]=new Ia(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){la[t]=new Ia(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){la[t]=new Ia(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){la[t]=new Ia(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){la[t]=new Ia(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){la[t]=new Ia(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){la[t]=new Ia(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){la[t]=new Ia(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fb=/[\-:]([a-z])/g;function Bb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fb,Bb);la[e]=new Ia(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fb,Bb);la[e]=new Ia(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fb,Bb);la[e]=new Ia(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){la[t]=new Ia(t,1,!1,t.toLowerCase(),null,!1,!1)});la.xlinkHref=new Ia("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){la[t]=new Ia(t,1,!1,t.toLowerCase(),null,!0,!0)});function $b(t,e,r,n){var a=la.hasOwnProperty(e)?la[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z_(e,r,a,n)&&(r=null),n||a===null?X_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ai=K_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$f=Symbol.for("react.element"),nd=Symbol.for("react.portal"),ad=Symbol.for("react.fragment"),qb=Symbol.for("react.strict_mode"),Hy=Symbol.for("react.profiler"),ij=Symbol.for("react.provider"),lj=Symbol.for("react.context"),Ub=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),Gy=Symbol.for("react.suspense_list"),zb=Symbol.for("react.memo"),al=Symbol.for("react.lazy"),cj=Symbol.for("react.offscreen"),k2=Symbol.iterator;function Du(t){return t===null||typeof t!="object"?null:(t=k2&&t[k2]||t["@@iterator"],typeof t=="function"?t:null)}var ln=Object.assign,_g;function Wu(t){if(_g===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_g=e&&e[1]||""}return`
`+_g+t}var Eg=!1;function Ag(t,e){if(!t||Eg)return"";Eg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Eg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Wu(t):""}function eE(t){switch(t.tag){case 5:return Wu(t.type);case 16:return Wu("Lazy");case 13:return Wu("Suspense");case 19:return Wu("SuspenseList");case 0:case 2:case 15:return t=Ag(t.type,!1),t;case 11:return t=Ag(t.type.render,!1),t;case 1:return t=Ag(t.type,!0),t;default:return""}}function Jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ad:return"Fragment";case nd:return"Portal";case Hy:return"Profiler";case qb:return"StrictMode";case Wy:return"Suspense";case Gy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lj:return(t.displayName||"Context")+".Consumer";case ij:return(t._context.displayName||"Context")+".Provider";case Ub:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zb:return e=t.displayName||null,e!==null?e:Jy(t.type)||"Memo";case al:e=t._payload,t=t._init;try{return Jy(t(e))}catch{}}return null}function tE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jy(e);case 8:return e===qb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rE(t){var e=dj(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qf(t){t._valueTracker||(t._valueTracker=rE(t))}function uj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=dj(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Jp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ky(t,e){var r=e.checked;return ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function j2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Cl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hj(t,e){e=e.checked,e!=null&&$b(t,"checked",e,!1)}function Yy(t,e){hj(t,e);var r=Cl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Xy(t,e.type,Cl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Xy(t,e,r){(e!=="number"||Jp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Gu=Array.isArray;function gd(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Cl(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Qy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(lt(91));return ln({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(lt(92));if(Gu(r)){if(1<r.length)throw Error(lt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Cl(r)}}function fj(t,e){var r=Cl(e.value),n=Cl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function C2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uf,mj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uf=Uf||document.createElement("div"),Uf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nE=["Webkit","ms","Moz","O"];Object.keys(eh).forEach(function(t){nE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eh[e]=eh[t]})});function gj(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||eh.hasOwnProperty(t)&&eh[t]?(""+e).trim():e+"px"}function yj(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=gj(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var aE=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ex(t,e){if(e){if(aE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(lt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(lt(62))}}function tx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rx=null;function Vb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nx=null,yd=null,xd=null;function _2(t){if(t=Xh(t)){if(typeof nx!="function")throw Error(lt(280));var e=t.stateNode;e&&(e=nm(e),nx(t.stateNode,t.type,e))}}function xj(t){yd?xd?xd.push(t):xd=[t]:yd=t}function bj(){if(yd){var t=yd,e=xd;if(xd=yd=null,_2(t),e)for(t=0;t<e.length;t++)_2(e[t])}}function vj(t,e){return t(e)}function wj(){}var Pg=!1;function kj(t,e,r){if(Pg)return t(e,r);Pg=!0;try{return vj(t,e,r)}finally{Pg=!1,(yd!==null||xd!==null)&&(wj(),bj())}}function vh(t,e){var r=t.stateNode;if(r===null)return null;var n=nm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(lt(231,e,typeof r));return r}var ax=!1;if(bi)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){ax=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{ax=!1}function sE(t,e,r,n,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var th=!1,Kp=null,Yp=!1,sx=null,oE={onError:function(t){th=!0,Kp=t}};function iE(t,e,r,n,a,o,i,l,c){th=!1,Kp=null,sE.apply(oE,arguments)}function lE(t,e,r,n,a,o,i,l,c){if(iE.apply(this,arguments),th){if(th){var d=Kp;th=!1,Kp=null}else throw Error(lt(198));Yp||(Yp=!0,sx=d)}}function wc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function jj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function E2(t){if(wc(t)!==t)throw Error(lt(188))}function cE(t){var e=t.alternate;if(!e){if(e=wc(t),e===null)throw Error(lt(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return E2(a),t;if(o===n)return E2(a),e;o=o.sibling}throw Error(lt(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(lt(189))}}if(r.alternate!==n)throw Error(lt(190))}if(r.tag!==3)throw Error(lt(188));return r.stateNode.current===r?t:e}function Nj(t){return t=cE(t),t!==null?Sj(t):null}function Sj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sj(t);if(e!==null)return e;t=t.sibling}return null}var Cj=gs.unstable_scheduleCallback,A2=gs.unstable_cancelCallback,dE=gs.unstable_shouldYield,uE=gs.unstable_requestPaint,vn=gs.unstable_now,hE=gs.unstable_getCurrentPriorityLevel,Hb=gs.unstable_ImmediatePriority,_j=gs.unstable_UserBlockingPriority,Xp=gs.unstable_NormalPriority,fE=gs.unstable_LowPriority,Ej=gs.unstable_IdlePriority,Z0=null,qo=null;function pE(t){if(qo&&typeof qo.onCommitFiberRoot=="function")try{qo.onCommitFiberRoot(Z0,t,void 0,(t.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:yE,mE=Math.log,gE=Math.LN2;function yE(t){return t>>>=0,t===0?32:31-(mE(t)/gE|0)|0}var zf=64,Vf=4194304;function Ju(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Ju(l):(o&=i,o!==0&&(n=Ju(o)))}else i=r&~a,i!==0?n=Ju(i):o!==0&&(n=Ju(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,o=e&-e,a>=o||a===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-lo(e),a=1<<r,n|=t[r],e&=~a;return n}function xE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bE(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-lo(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=xE(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function ox(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Aj(){var t=zf;return zf<<=1,!(zf&4194240)&&(zf=64),t}function Dg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Kh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lo(e),t[e]=r}function vE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-lo(r),o=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~o}}function Wb(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-lo(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Dr=0;function Pj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dj,Gb,Ij,Lj,Rj,ix=!1,Hf=[],yl=null,xl=null,bl=null,wh=new Map,kh=new Map,ll=[],wE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P2(t,e){switch(t){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":wh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kh.delete(e.pointerId)}}function Lu(t,e,r,n,a,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},e!==null&&(e=Xh(e),e!==null&&Gb(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function kE(t,e,r,n,a){switch(e){case"focusin":return yl=Lu(yl,t,e,r,n,a),!0;case"dragenter":return xl=Lu(xl,t,e,r,n,a),!0;case"mouseover":return bl=Lu(bl,t,e,r,n,a),!0;case"pointerover":var o=a.pointerId;return wh.set(o,Lu(wh.get(o)||null,t,e,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,kh.set(o,Lu(kh.get(o)||null,t,e,r,n,a)),!0}return!1}function Tj(t){var e=rc(t.target);if(e!==null){var r=wc(e);if(r!==null){if(e=r.tag,e===13){if(e=jj(r),e!==null){t.blockedOn=e,Rj(t.priority,function(){Ij(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=lx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);rx=n,r.target.dispatchEvent(n),rx=null}else return e=Xh(r),e!==null&&Gb(e),t.blockedOn=r,!1;e.shift()}return!0}function D2(t,e,r){jp(t)&&r.delete(e)}function jE(){ix=!1,yl!==null&&jp(yl)&&(yl=null),xl!==null&&jp(xl)&&(xl=null),bl!==null&&jp(bl)&&(bl=null),wh.forEach(D2),kh.forEach(D2)}function Ru(t,e){t.blockedOn===e&&(t.blockedOn=null,ix||(ix=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,jE)))}function jh(t){function e(a){return Ru(a,t)}if(0<Hf.length){Ru(Hf[0],t);for(var r=1;r<Hf.length;r++){var n=Hf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(yl!==null&&Ru(yl,t),xl!==null&&Ru(xl,t),bl!==null&&Ru(bl,t),wh.forEach(e),kh.forEach(e),r=0;r<ll.length;r++)n=ll[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ll.length&&(r=ll[0],r.blockedOn===null);)Tj(r),r.blockedOn===null&&ll.shift()}var bd=Ai.ReactCurrentBatchConfig,Zp=!0;function NE(t,e,r,n){var a=Dr,o=bd.transition;bd.transition=null;try{Dr=1,Jb(t,e,r,n)}finally{Dr=a,bd.transition=o}}function SE(t,e,r,n){var a=Dr,o=bd.transition;bd.transition=null;try{Dr=4,Jb(t,e,r,n)}finally{Dr=a,bd.transition=o}}function Jb(t,e,r,n){if(Zp){var a=lx(t,e,r,n);if(a===null)qg(t,e,n,e0,r),P2(t,n);else if(kE(a,t,e,r,n))n.stopPropagation();else if(P2(t,n),e&4&&-1<wE.indexOf(t)){for(;a!==null;){var o=Xh(a);if(o!==null&&Dj(o),o=lx(t,e,r,n),o===null&&qg(t,e,n,e0,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else qg(t,e,n,null,r)}}var e0=null;function lx(t,e,r,n){if(e0=null,t=Vb(n),t=rc(t),t!==null)if(e=wc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=jj(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return e0=t,null}function Oj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hE()){case Hb:return 1;case _j:return 4;case Xp:case fE:return 16;case Ej:return 536870912;default:return 16}default:return 16}}var ul=null,Kb=null,Np=null;function Mj(){if(Np)return Np;var t,e=Kb,r=e.length,n,a="value"in ul?ul.value:ul.textContent,o=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[o-n];n++);return Np=a.slice(t,1<n?1-n:void 0)}function Sp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wf(){return!0}function I2(){return!1}function bs(t){function e(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wf:I2,this.isPropagationStopped=I2,this}return ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),e}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yb=bs(Kd),Yh=ln({},Kd,{view:0,detail:0}),CE=bs(Yh),Ig,Lg,Tu,em=ln({},Yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tu&&(Tu&&t.type==="mousemove"?(Ig=t.screenX-Tu.screenX,Lg=t.screenY-Tu.screenY):Lg=Ig=0,Tu=t),Ig)},movementY:function(t){return"movementY"in t?t.movementY:Lg}}),L2=bs(em),_E=ln({},em,{dataTransfer:0}),EE=bs(_E),AE=ln({},Yh,{relatedTarget:0}),Rg=bs(AE),PE=ln({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),DE=bs(PE),IE=ln({},Kd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LE=bs(IE),RE=ln({},Kd,{data:0}),R2=bs(RE),TE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ME={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ME[t])?!!e[t]:!1}function Xb(){return FE}var BE=ln({},Yh,{key:function(t){if(t.key){var e=TE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xb,charCode:function(t){return t.type==="keypress"?Sp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$E=bs(BE),qE=ln({},em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T2=bs(qE),UE=ln({},Yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xb}),zE=bs(UE),VE=ln({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),HE=bs(VE),WE=ln({},em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GE=bs(WE),JE=[9,13,27,32],Qb=bi&&"CompositionEvent"in window,rh=null;bi&&"documentMode"in document&&(rh=document.documentMode);var KE=bi&&"TextEvent"in window&&!rh,Fj=bi&&(!Qb||rh&&8<rh&&11>=rh),O2=" ",M2=!1;function Bj(t,e){switch(t){case"keyup":return JE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $j(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sd=!1;function YE(t,e){switch(t){case"compositionend":return $j(e);case"keypress":return e.which!==32?null:(M2=!0,O2);case"textInput":return t=e.data,t===O2&&M2?null:t;default:return null}}function XE(t,e){if(sd)return t==="compositionend"||!Qb&&Bj(t,e)?(t=Mj(),Np=Kb=ul=null,sd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fj&&e.locale!=="ko"?null:e.data;default:return null}}var QE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QE[t.type]:e==="textarea"}function qj(t,e,r,n){xj(n),e=t0(e,"onChange"),0<e.length&&(r=new Yb("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var nh=null,Nh=null;function ZE(t){Qj(t,0)}function tm(t){var e=ld(t);if(uj(e))return t}function eA(t,e){if(t==="change")return e}var Uj=!1;if(bi){var Tg;if(bi){var Og="oninput"in document;if(!Og){var B2=document.createElement("div");B2.setAttribute("oninput","return;"),Og=typeof B2.oninput=="function"}Tg=Og}else Tg=!1;Uj=Tg&&(!document.documentMode||9<document.documentMode)}function $2(){nh&&(nh.detachEvent("onpropertychange",zj),Nh=nh=null)}function zj(t){if(t.propertyName==="value"&&tm(Nh)){var e=[];qj(e,Nh,t,Vb(t)),kj(ZE,e)}}function tA(t,e,r){t==="focusin"?($2(),nh=e,Nh=r,nh.attachEvent("onpropertychange",zj)):t==="focusout"&&$2()}function rA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tm(Nh)}function nA(t,e){if(t==="click")return tm(e)}function aA(t,e){if(t==="input"||t==="change")return tm(e)}function sA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uo=typeof Object.is=="function"?Object.is:sA;function Sh(t,e){if(uo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vy.call(e,a)||!uo(t[a],e[a]))return!1}return!0}function q2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U2(t,e){var r=q2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=q2(r)}}function Vj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hj(){for(var t=window,e=Jp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Jp(t.document)}return e}function Zb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oA(t){var e=Hj(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Vj(r.ownerDocument.documentElement,r)){if(n!==null&&Zb(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!t.extend&&o>n&&(a=n,n=o,o=a),a=U2(r,o);var i=U2(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iA=bi&&"documentMode"in document&&11>=document.documentMode,od=null,cx=null,ah=null,dx=!1;function z2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dx||od==null||od!==Jp(n)||(n=od,"selectionStart"in n&&Zb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ah&&Sh(ah,n)||(ah=n,n=t0(cx,"onSelect"),0<n.length&&(e=new Yb("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=od)))}function Gf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var id={animationend:Gf("Animation","AnimationEnd"),animationiteration:Gf("Animation","AnimationIteration"),animationstart:Gf("Animation","AnimationStart"),transitionend:Gf("Transition","TransitionEnd")},Mg={},Wj={};bi&&(Wj=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function rm(t){if(Mg[t])return Mg[t];if(!id[t])return t;var e=id[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Wj)return Mg[t]=e[r];return t}var Gj=rm("animationend"),Jj=rm("animationiteration"),Kj=rm("animationstart"),Yj=rm("transitionend"),Xj=new Map,V2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(t,e){Xj.set(t,e),vc(e,[t])}for(var Fg=0;Fg<V2.length;Fg++){var Bg=V2[Fg],lA=Bg.toLowerCase(),cA=Bg[0].toUpperCase()+Bg.slice(1);Ll(lA,"on"+cA)}Ll(Gj,"onAnimationEnd");Ll(Jj,"onAnimationIteration");Ll(Kj,"onAnimationStart");Ll("dblclick","onDoubleClick");Ll("focusin","onFocus");Ll("focusout","onBlur");Ll(Yj,"onTransitionEnd");Ld("onMouseEnter",["mouseout","mouseover"]);Ld("onMouseLeave",["mouseout","mouseover"]);Ld("onPointerEnter",["pointerout","pointerover"]);Ld("onPointerLeave",["pointerout","pointerover"]);vc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vc("onBeforeInput",["compositionend","keypress","textInput","paste"]);vc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ku));function H2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,lE(n,e,void 0,t),t.currentTarget=null}function Qj(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;H2(a,l,d),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;H2(a,l,d),o=c}}}if(Yp)throw t=sx,Yp=!1,sx=null,t}function Jr(t,e){var r=e[mx];r===void 0&&(r=e[mx]=new Set);var n=t+"__bubble";r.has(n)||(Zj(e,t,2,!1),r.add(n))}function $g(t,e,r){var n=0;e&&(n|=4),Zj(r,t,n,e)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function Ch(t){if(!t[Jf]){t[Jf]=!0,oj.forEach(function(r){r!=="selectionchange"&&(dA.has(r)||$g(r,!1,t),$g(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jf]||(e[Jf]=!0,$g("selectionchange",!1,e))}}function Zj(t,e,r,n){switch(Oj(e)){case 1:var a=NE;break;case 4:a=SE;break;default:a=Jb}r=a.bind(null,e,r,t),a=void 0,!ax||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function qg(t,e,r,n,a){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=rc(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}kj(function(){var d=o,u=Vb(r),h=[];e:{var g=Xj.get(t);if(g!==void 0){var p=Yb,w=t;switch(t){case"keypress":if(Sp(r)===0)break e;case"keydown":case"keyup":p=$E;break;case"focusin":w="focus",p=Rg;break;case"focusout":w="blur",p=Rg;break;case"beforeblur":case"afterblur":p=Rg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=L2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zE;break;case Gj:case Jj:case Kj:p=DE;break;case Yj:p=HE;break;case"scroll":p=CE;break;case"wheel":p=GE;break;case"copy":case"cut":case"paste":p=LE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=T2}var b=(e&4)!==0,_=!b&&t==="scroll",v=b?g!==null?g+"Capture":null:g;b=[];for(var j=d,L;j!==null;){L=j;var U=L.stateNode;if(L.tag===5&&U!==null&&(L=U,v!==null&&(U=vh(j,v),U!=null&&b.push(_h(j,U,L)))),_)break;j=j.return}0<b.length&&(g=new p(g,w,null,r,u),h.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&r!==rx&&(w=r.relatedTarget||r.fromElement)&&(rc(w)||w[vi]))break e;if((p||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=d,w=w?rc(w):null,w!==null&&(_=wc(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(b=L2,U="onMouseLeave",v="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(b=T2,U="onPointerLeave",v="onPointerEnter",j="pointer"),_=p==null?g:ld(p),L=w==null?g:ld(w),g=new b(U,j+"leave",p,r,u),g.target=_,g.relatedTarget=L,U=null,rc(u)===d&&(b=new b(v,j+"enter",w,r,u),b.target=L,b.relatedTarget=_,U=b),_=U,p&&w)t:{for(b=p,v=w,j=0,L=b;L;L=Gc(L))j++;for(L=0,U=v;U;U=Gc(U))L++;for(;0<j-L;)b=Gc(b),j--;for(;0<L-j;)v=Gc(v),L--;for(;j--;){if(b===v||v!==null&&b===v.alternate)break t;b=Gc(b),v=Gc(v)}b=null}else b=null;p!==null&&W2(h,g,p,b,!1),w!==null&&_!==null&&W2(h,_,w,b,!0)}}e:{if(g=d?ld(d):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var M=eA;else if(F2(g))if(Uj)M=aA;else{M=rA;var q=tA}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=nA);if(M&&(M=M(t,d))){qj(h,M,r,u);break e}q&&q(t,g,d),t==="focusout"&&(q=g._wrapperState)&&q.controlled&&g.type==="number"&&Xy(g,"number",g.value)}switch(q=d?ld(d):window,t){case"focusin":(F2(q)||q.contentEditable==="true")&&(od=q,cx=d,ah=null);break;case"focusout":ah=cx=od=null;break;case"mousedown":dx=!0;break;case"contextmenu":case"mouseup":case"dragend":dx=!1,z2(h,r,u);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":z2(h,r,u)}var y;if(Qb)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else sd?Bj(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Fj&&r.locale!=="ko"&&(sd||R!=="onCompositionStart"?R==="onCompositionEnd"&&sd&&(y=Mj()):(ul=u,Kb="value"in ul?ul.value:ul.textContent,sd=!0)),q=t0(d,R),0<q.length&&(R=new R2(R,t,null,r,u),h.push({event:R,listeners:q}),y?R.data=y:(y=$j(r),y!==null&&(R.data=y)))),(y=KE?YE(t,r):XE(t,r))&&(d=t0(d,"onBeforeInput"),0<d.length&&(u=new R2("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=y))}Qj(h,e)})}function _h(t,e,r){return{instance:t,listener:e,currentTarget:r}}function t0(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=vh(t,r),o!=null&&n.unshift(_h(t,o,a)),o=vh(t,e),o!=null&&n.push(_h(t,o,a))),t=t.return}return n}function Gc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W2(t,e,r,n,a){for(var o=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=vh(r,o),c!=null&&i.unshift(_h(r,c,l))):a||(c=vh(r,o),c!=null&&i.push(_h(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var uA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function G2(t){return(typeof t=="string"?t:""+t).replace(uA,`
`).replace(hA,"")}function Kf(t,e,r){if(e=G2(e),G2(t)!==e&&r)throw Error(lt(425))}function r0(){}var ux=null,hx=null;function fx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var px=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,J2=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof J2<"u"?function(t){return J2.resolve(null).then(t).catch(mA)}:px;function mA(t){setTimeout(function(){throw t})}function Ug(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),jh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);jh(e)}function vl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function K2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Yd=Math.random().toString(36).slice(2),Bo="__reactFiber$"+Yd,Eh="__reactProps$"+Yd,vi="__reactContainer$"+Yd,mx="__reactEvents$"+Yd,gA="__reactListeners$"+Yd,yA="__reactHandles$"+Yd;function rc(t){var e=t[Bo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[vi]||r[Bo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=K2(t);t!==null;){if(r=t[Bo])return r;t=K2(t)}return e}t=r,r=t.parentNode}return null}function Xh(t){return t=t[Bo]||t[vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ld(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(lt(33))}function nm(t){return t[Eh]||null}var gx=[],cd=-1;function Rl(t){return{current:t}}function Yr(t){0>cd||(t.current=gx[cd],gx[cd]=null,cd--)}function Hr(t,e){cd++,gx[cd]=t.current,t.current=e}var _l={},wa=Rl(_l),Ha=Rl(!1),hc=_l;function Rd(t,e){var r=t.type.contextTypes;if(!r)return _l;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Wa(t){return t=t.childContextTypes,t!=null}function n0(){Yr(Ha),Yr(wa)}function Y2(t,e,r){if(wa.current!==_l)throw Error(lt(168));Hr(wa,e),Hr(Ha,r)}function eN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(lt(108,tE(t)||"Unknown",a));return ln({},r,n)}function a0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_l,hc=wa.current,Hr(wa,t),Hr(Ha,Ha.current),!0}function X2(t,e,r){var n=t.stateNode;if(!n)throw Error(lt(169));r?(t=eN(t,e,hc),n.__reactInternalMemoizedMergedChildContext=t,Yr(Ha),Yr(wa),Hr(wa,t)):Yr(Ha),Hr(Ha,r)}var ui=null,am=!1,zg=!1;function tN(t){ui===null?ui=[t]:ui.push(t)}function xA(t){am=!0,tN(t)}function Tl(){if(!zg&&ui!==null){zg=!0;var t=0,e=Dr;try{var r=ui;for(Dr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ui=null,am=!1}catch(a){throw ui!==null&&(ui=ui.slice(t+1)),Cj(Hb,Tl),a}finally{Dr=e,zg=!1}}return null}var dd=[],ud=0,s0=null,o0=0,Ts=[],Os=0,fc=null,hi=1,fi="";function Yl(t,e){dd[ud++]=o0,dd[ud++]=s0,s0=t,o0=e}function rN(t,e,r){Ts[Os++]=hi,Ts[Os++]=fi,Ts[Os++]=fc,fc=t;var n=hi;t=fi;var a=32-lo(n)-1;n&=~(1<<a),r+=1;var o=32-lo(e)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,hi=1<<32-lo(e)+a|r<<a|n,fi=o+t}else hi=1<<o|r<<a|n,fi=t}function ev(t){t.return!==null&&(Yl(t,1),rN(t,1,0))}function tv(t){for(;t===s0;)s0=dd[--ud],dd[ud]=null,o0=dd[--ud],dd[ud]=null;for(;t===fc;)fc=Ts[--Os],Ts[Os]=null,fi=Ts[--Os],Ts[Os]=null,hi=Ts[--Os],Ts[Os]=null}var fs=null,us=null,en=!1,io=null;function nN(t,e){var r=Ms(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Q2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fs=t,us=vl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fs=t,us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=fc!==null?{id:hi,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ms(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fs=t,us=null,!0):!1;default:return!1}}function yx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xx(t){if(en){var e=us;if(e){var r=e;if(!Q2(t,e)){if(yx(t))throw Error(lt(418));e=vl(r.nextSibling);var n=fs;e&&Q2(t,e)?nN(n,r):(t.flags=t.flags&-4097|2,en=!1,fs=t)}}else{if(yx(t))throw Error(lt(418));t.flags=t.flags&-4097|2,en=!1,fs=t}}}function Z2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fs=t}function Yf(t){if(t!==fs)return!1;if(!en)return Z2(t),en=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fx(t.type,t.memoizedProps)),e&&(e=us)){if(yx(t))throw aN(),Error(lt(418));for(;e;)nN(t,e),e=vl(e.nextSibling)}if(Z2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(lt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){us=vl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}us=null}}else us=fs?vl(t.stateNode.nextSibling):null;return!0}function aN(){for(var t=us;t;)t=vl(t.nextSibling)}function Td(){us=fs=null,en=!1}function rv(t){io===null?io=[t]:io.push(t)}var bA=Ai.ReactCurrentBatchConfig;function Ou(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(lt(309));var n=r.stateNode}if(!n)throw Error(lt(147,t));var a=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(lt(284));if(!r._owner)throw Error(lt(290,t))}return t}function Xf(t,e){throw t=Object.prototype.toString.call(e),Error(lt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function e1(t){var e=t._init;return e(t._payload)}function sN(t){function e(v,j){if(t){var L=v.deletions;L===null?(v.deletions=[j],v.flags|=16):L.push(j)}}function r(v,j){if(!t)return null;for(;j!==null;)e(v,j),j=j.sibling;return null}function n(v,j){for(v=new Map;j!==null;)j.key!==null?v.set(j.key,j):v.set(j.index,j),j=j.sibling;return v}function a(v,j){return v=Nl(v,j),v.index=0,v.sibling=null,v}function o(v,j,L){return v.index=L,t?(L=v.alternate,L!==null?(L=L.index,L<j?(v.flags|=2,j):L):(v.flags|=2,j)):(v.flags|=1048576,j)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,j,L,U){return j===null||j.tag!==6?(j=Yg(L,v.mode,U),j.return=v,j):(j=a(j,L),j.return=v,j)}function c(v,j,L,U){var M=L.type;return M===ad?u(v,j,L.props.children,U,L.key):j!==null&&(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===al&&e1(M)===j.type)?(U=a(j,L.props),U.ref=Ou(v,j,L),U.return=v,U):(U=Ip(L.type,L.key,L.props,null,v.mode,U),U.ref=Ou(v,j,L),U.return=v,U)}function d(v,j,L,U){return j===null||j.tag!==4||j.stateNode.containerInfo!==L.containerInfo||j.stateNode.implementation!==L.implementation?(j=Xg(L,v.mode,U),j.return=v,j):(j=a(j,L.children||[]),j.return=v,j)}function u(v,j,L,U,M){return j===null||j.tag!==7?(j=lc(L,v.mode,U,M),j.return=v,j):(j=a(j,L),j.return=v,j)}function h(v,j,L){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Yg(""+j,v.mode,L),j.return=v,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $f:return L=Ip(j.type,j.key,j.props,null,v.mode,L),L.ref=Ou(v,null,j),L.return=v,L;case nd:return j=Xg(j,v.mode,L),j.return=v,j;case al:var U=j._init;return h(v,U(j._payload),L)}if(Gu(j)||Du(j))return j=lc(j,v.mode,L,null),j.return=v,j;Xf(v,j)}return null}function g(v,j,L,U){var M=j!==null?j.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return M!==null?null:l(v,j,""+L,U);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case $f:return L.key===M?c(v,j,L,U):null;case nd:return L.key===M?d(v,j,L,U):null;case al:return M=L._init,g(v,j,M(L._payload),U)}if(Gu(L)||Du(L))return M!==null?null:u(v,j,L,U,null);Xf(v,L)}return null}function p(v,j,L,U,M){if(typeof U=="string"&&U!==""||typeof U=="number")return v=v.get(L)||null,l(j,v,""+U,M);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case $f:return v=v.get(U.key===null?L:U.key)||null,c(j,v,U,M);case nd:return v=v.get(U.key===null?L:U.key)||null,d(j,v,U,M);case al:var q=U._init;return p(v,j,L,q(U._payload),M)}if(Gu(U)||Du(U))return v=v.get(L)||null,u(j,v,U,M,null);Xf(j,U)}return null}function w(v,j,L,U){for(var M=null,q=null,y=j,R=j=0,A=null;y!==null&&R<L.length;R++){y.index>R?(A=y,y=null):A=y.sibling;var P=g(v,y,L[R],U);if(P===null){y===null&&(y=A);break}t&&y&&P.alternate===null&&e(v,y),j=o(P,j,R),q===null?M=P:q.sibling=P,q=P,y=A}if(R===L.length)return r(v,y),en&&Yl(v,R),M;if(y===null){for(;R<L.length;R++)y=h(v,L[R],U),y!==null&&(j=o(y,j,R),q===null?M=y:q.sibling=y,q=y);return en&&Yl(v,R),M}for(y=n(v,y);R<L.length;R++)A=p(y,v,R,L[R],U),A!==null&&(t&&A.alternate!==null&&y.delete(A.key===null?R:A.key),j=o(A,j,R),q===null?M=A:q.sibling=A,q=A);return t&&y.forEach(function(x){return e(v,x)}),en&&Yl(v,R),M}function b(v,j,L,U){var M=Du(L);if(typeof M!="function")throw Error(lt(150));if(L=M.call(L),L==null)throw Error(lt(151));for(var q=M=null,y=j,R=j=0,A=null,P=L.next();y!==null&&!P.done;R++,P=L.next()){y.index>R?(A=y,y=null):A=y.sibling;var x=g(v,y,P.value,U);if(x===null){y===null&&(y=A);break}t&&y&&x.alternate===null&&e(v,y),j=o(x,j,R),q===null?M=x:q.sibling=x,q=x,y=A}if(P.done)return r(v,y),en&&Yl(v,R),M;if(y===null){for(;!P.done;R++,P=L.next())P=h(v,P.value,U),P!==null&&(j=o(P,j,R),q===null?M=P:q.sibling=P,q=P);return en&&Yl(v,R),M}for(y=n(v,y);!P.done;R++,P=L.next())P=p(y,v,R,P.value,U),P!==null&&(t&&P.alternate!==null&&y.delete(P.key===null?R:P.key),j=o(P,j,R),q===null?M=P:q.sibling=P,q=P);return t&&y.forEach(function(k){return e(v,k)}),en&&Yl(v,R),M}function _(v,j,L,U){if(typeof L=="object"&&L!==null&&L.type===ad&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case $f:e:{for(var M=L.key,q=j;q!==null;){if(q.key===M){if(M=L.type,M===ad){if(q.tag===7){r(v,q.sibling),j=a(q,L.props.children),j.return=v,v=j;break e}}else if(q.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===al&&e1(M)===q.type){r(v,q.sibling),j=a(q,L.props),j.ref=Ou(v,q,L),j.return=v,v=j;break e}r(v,q);break}else e(v,q);q=q.sibling}L.type===ad?(j=lc(L.props.children,v.mode,U,L.key),j.return=v,v=j):(U=Ip(L.type,L.key,L.props,null,v.mode,U),U.ref=Ou(v,j,L),U.return=v,v=U)}return i(v);case nd:e:{for(q=L.key;j!==null;){if(j.key===q)if(j.tag===4&&j.stateNode.containerInfo===L.containerInfo&&j.stateNode.implementation===L.implementation){r(v,j.sibling),j=a(j,L.children||[]),j.return=v,v=j;break e}else{r(v,j);break}else e(v,j);j=j.sibling}j=Xg(L,v.mode,U),j.return=v,v=j}return i(v);case al:return q=L._init,_(v,j,q(L._payload),U)}if(Gu(L))return w(v,j,L,U);if(Du(L))return b(v,j,L,U);Xf(v,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,j!==null&&j.tag===6?(r(v,j.sibling),j=a(j,L),j.return=v,v=j):(r(v,j),j=Yg(L,v.mode,U),j.return=v,v=j),i(v)):r(v,j)}return _}var Od=sN(!0),oN=sN(!1),i0=Rl(null),l0=null,hd=null,nv=null;function av(){nv=hd=l0=null}function sv(t){var e=i0.current;Yr(i0),t._currentValue=e}function bx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vd(t,e){l0=t,nv=hd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Va=!0),t.firstContext=null)}function Bs(t){var e=t._currentValue;if(nv!==t)if(t={context:t,memoizedValue:e,next:null},hd===null){if(l0===null)throw Error(lt(308));hd=t,l0.dependencies={lanes:0,firstContext:t}}else hd=hd.next=t;return e}var nc=null;function ov(t){nc===null?nc=[t]:nc.push(t)}function iN(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,ov(e)):(r.next=a.next,a.next=r),e.interleaved=r,wi(t,n)}function wi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var sl=!1;function iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pr&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,wi(t,r)}return a=n.interleaved,a===null?(e.next=e,ov(n)):(e.next=a.next,a.next=e),n.interleaved=e,wi(t,r)}function Cp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wb(t,r)}}function t1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=e:o=o.next=e}else a=o=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function c0(t,e,r,n){var a=t.updateQueue;sl=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var h=a.baseState;i=0,u=d=c=null,l=o;do{var g=l.lane,p=l.eventTime;if((n&g)===g){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,b=l;switch(g=e,p=r,b.tag){case 1:if(w=b.payload,typeof w=="function"){h=w.call(p,h,g);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,g=typeof w=="function"?w.call(p,h,g):w,g==null)break e;h=ln({},h,g);break e;case 2:sl=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else p={eventTime:p,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,i|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else o===null&&(a.shared.lanes=0);mc|=i,t.lanes=i,t.memoizedState=h}}function r1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(lt(191,a));a.call(n)}}}var Qh={},Uo=Rl(Qh),Ah=Rl(Qh),Ph=Rl(Qh);function ac(t){if(t===Qh)throw Error(lt(174));return t}function lv(t,e){switch(Hr(Ph,e),Hr(Ah,t),Hr(Uo,Qh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zy(e,t)}Yr(Uo),Hr(Uo,e)}function Md(){Yr(Uo),Yr(Ah),Yr(Ph)}function cN(t){ac(Ph.current);var e=ac(Uo.current),r=Zy(e,t.type);e!==r&&(Hr(Ah,t),Hr(Uo,r))}function cv(t){Ah.current===t&&(Yr(Uo),Yr(Ah))}var sn=Rl(0);function d0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vg=[];function dv(){for(var t=0;t<Vg.length;t++)Vg[t]._workInProgressVersionPrimary=null;Vg.length=0}var _p=Ai.ReactCurrentDispatcher,Hg=Ai.ReactCurrentBatchConfig,pc=0,on=null,qn=null,Yn=null,u0=!1,sh=!1,Dh=0,vA=0;function ua(){throw Error(lt(321))}function uv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!uo(t[r],e[r]))return!1;return!0}function hv(t,e,r,n,a,o){if(pc=o,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_p.current=t===null||t.memoizedState===null?NA:SA,t=r(n,a),sh){o=0;do{if(sh=!1,Dh=0,25<=o)throw Error(lt(301));o+=1,Yn=qn=null,e.updateQueue=null,_p.current=CA,t=r(n,a)}while(sh)}if(_p.current=h0,e=qn!==null&&qn.next!==null,pc=0,Yn=qn=on=null,u0=!1,e)throw Error(lt(300));return t}function fv(){var t=Dh!==0;return Dh=0,t}function To(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?on.memoizedState=Yn=t:Yn=Yn.next=t,Yn}function $s(){if(qn===null){var t=on.alternate;t=t!==null?t.memoizedState:null}else t=qn.next;var e=Yn===null?on.memoizedState:Yn.next;if(e!==null)Yn=e,qn=t;else{if(t===null)throw Error(lt(310));qn=t,t={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Yn===null?on.memoizedState=Yn=t:Yn=Yn.next=t}return Yn}function Ih(t,e){return typeof e=="function"?e(t):e}function Wg(t){var e=$s(),r=e.queue;if(r===null)throw Error(lt(311));r.lastRenderedReducer=t;var n=qn,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((pc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=n):c=c.next=h,on.lanes|=u,mc|=u}d=d.next}while(d!==null&&d!==o);c===null?i=n:c.next=l,uo(n,e.memoizedState)||(Va=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do o=a.lane,on.lanes|=o,mc|=o,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Gg(t){var e=$s(),r=e.queue;if(r===null)throw Error(lt(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,o=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=t(o,i.action),i=i.next;while(i!==a);uo(o,e.memoizedState)||(Va=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function dN(){}function uN(t,e){var r=on,n=$s(),a=e(),o=!uo(n.memoizedState,a);if(o&&(n.memoizedState=a,Va=!0),n=n.queue,pv(pN.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Yn!==null&&Yn.memoizedState.tag&1){if(r.flags|=2048,Lh(9,fN.bind(null,r,n,a,e),void 0,null),Zn===null)throw Error(lt(349));pc&30||hN(r,e,a)}return a}function hN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function fN(t,e,r,n){e.value=r,e.getSnapshot=n,mN(e)&&gN(t)}function pN(t,e,r){return r(function(){mN(e)&&gN(t)})}function mN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!uo(t,r)}catch{return!0}}function gN(t){var e=wi(t,1);e!==null&&co(e,t,1,-1)}function n1(t){var e=To();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:t},e.queue=t,t=t.dispatch=jA.bind(null,on,t),[e.memoizedState,t]}function Lh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function yN(){return $s().memoizedState}function Ep(t,e,r,n){var a=To();on.flags|=t,a.memoizedState=Lh(1|e,r,void 0,n===void 0?null:n)}function sm(t,e,r,n){var a=$s();n=n===void 0?null:n;var o=void 0;if(qn!==null){var i=qn.memoizedState;if(o=i.destroy,n!==null&&uv(n,i.deps)){a.memoizedState=Lh(e,r,o,n);return}}on.flags|=t,a.memoizedState=Lh(1|e,r,o,n)}function a1(t,e){return Ep(8390656,8,t,e)}function pv(t,e){return sm(2048,8,t,e)}function xN(t,e){return sm(4,2,t,e)}function bN(t,e){return sm(4,4,t,e)}function vN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wN(t,e,r){return r=r!=null?r.concat([t]):null,sm(4,4,vN.bind(null,e,t),r)}function mv(){}function kN(t,e){var r=$s();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&uv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jN(t,e){var r=$s();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&uv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function NN(t,e,r){return pc&21?(uo(r,e)||(r=Aj(),on.lanes|=r,mc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Va=!0),t.memoizedState=r)}function wA(t,e){var r=Dr;Dr=r!==0&&4>r?r:4,t(!0);var n=Hg.transition;Hg.transition={};try{t(!1),e()}finally{Dr=r,Hg.transition=n}}function SN(){return $s().memoizedState}function kA(t,e,r){var n=jl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},CN(t))_N(e,r);else if(r=iN(t,e,r,n),r!==null){var a=Aa();co(r,t,n,a),EN(r,e,n)}}function jA(t,e,r){var n=jl(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(CN(t))_N(e,a);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,uo(l,i)){var c=e.interleaved;c===null?(a.next=a,ov(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=iN(t,e,a,n),r!==null&&(a=Aa(),co(r,t,n,a),EN(r,e,n))}}function CN(t){var e=t.alternate;return t===on||e!==null&&e===on}function _N(t,e){sh=u0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function EN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wb(t,r)}}var h0={readContext:Bs,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useInsertionEffect:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useDeferredValue:ua,useTransition:ua,useMutableSource:ua,useSyncExternalStore:ua,useId:ua,unstable_isNewReconciler:!1},NA={readContext:Bs,useCallback:function(t,e){return To().memoizedState=[t,e===void 0?null:e],t},useContext:Bs,useEffect:a1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ep(4194308,4,vN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ep(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ep(4,2,t,e)},useMemo:function(t,e){var r=To();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=To();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=kA.bind(null,on,t),[n.memoizedState,t]},useRef:function(t){var e=To();return t={current:t},e.memoizedState=t},useState:n1,useDebugValue:mv,useDeferredValue:function(t){return To().memoizedState=t},useTransition:function(){var t=n1(!1),e=t[0];return t=wA.bind(null,t[1]),To().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=on,a=To();if(en){if(r===void 0)throw Error(lt(407));r=r()}else{if(r=e(),Zn===null)throw Error(lt(349));pc&30||hN(n,e,r)}a.memoizedState=r;var o={value:r,getSnapshot:e};return a.queue=o,a1(pN.bind(null,n,o,t),[t]),n.flags|=2048,Lh(9,fN.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=To(),e=Zn.identifierPrefix;if(en){var r=fi,n=hi;r=(n&~(1<<32-lo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Dh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=vA++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SA={readContext:Bs,useCallback:kN,useContext:Bs,useEffect:pv,useImperativeHandle:wN,useInsertionEffect:xN,useLayoutEffect:bN,useMemo:jN,useReducer:Wg,useRef:yN,useState:function(){return Wg(Ih)},useDebugValue:mv,useDeferredValue:function(t){var e=$s();return NN(e,qn.memoizedState,t)},useTransition:function(){var t=Wg(Ih)[0],e=$s().memoizedState;return[t,e]},useMutableSource:dN,useSyncExternalStore:uN,useId:SN,unstable_isNewReconciler:!1},CA={readContext:Bs,useCallback:kN,useContext:Bs,useEffect:pv,useImperativeHandle:wN,useInsertionEffect:xN,useLayoutEffect:bN,useMemo:jN,useReducer:Gg,useRef:yN,useState:function(){return Gg(Ih)},useDebugValue:mv,useDeferredValue:function(t){var e=$s();return qn===null?e.memoizedState=t:NN(e,qn.memoizedState,t)},useTransition:function(){var t=Gg(Ih)[0],e=$s().memoizedState;return[t,e]},useMutableSource:dN,useSyncExternalStore:uN,useId:SN,unstable_isNewReconciler:!1};function no(t,e){if(t&&t.defaultProps){e=ln({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ln({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var om={isMounted:function(t){return(t=t._reactInternals)?wc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Aa(),a=jl(t),o=mi(n,a);o.payload=e,r!=null&&(o.callback=r),e=wl(t,o,a),e!==null&&(co(e,t,a,n),Cp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Aa(),a=jl(t),o=mi(n,a);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=wl(t,o,a),e!==null&&(co(e,t,a,n),Cp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Aa(),n=jl(t),a=mi(r,n);a.tag=2,e!=null&&(a.callback=e),e=wl(t,a,n),e!==null&&(co(e,t,n,r),Cp(e,t,n))}};function s1(t,e,r,n,a,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!Sh(r,n)||!Sh(a,o):!0}function AN(t,e,r){var n=!1,a=_l,o=e.contextType;return typeof o=="object"&&o!==null?o=Bs(o):(a=Wa(e)?hc:wa.current,n=e.contextTypes,o=(n=n!=null)?Rd(t,a):_l),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=om,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=o),e}function o1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&om.enqueueReplaceState(e,e.state,null)}function wx(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},iv(t);var o=e.contextType;typeof o=="object"&&o!==null?a.context=Bs(o):(o=Wa(e)?hc:wa.current,a.context=Rd(t,o)),a.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(vx(t,e,o,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&om.enqueueReplaceState(a,a.state,null),c0(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Fd(t,e){try{var r="",n=e;do r+=eE(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:a,digest:null}}function Jg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function kx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var _A=typeof WeakMap=="function"?WeakMap:Map;function PN(t,e,r){r=mi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){p0||(p0=!0,Ix=n),kx(t,e)},r}function DN(t,e,r){r=mi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){kx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){kx(t,e),typeof n!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function i1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new _A;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=qA.bind(null,t,e,r),e.then(t,t))}function l1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c1(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=mi(-1,1),e.tag=2,wl(r,e,1))),r.lanes|=1),t)}var EA=Ai.ReactCurrentOwner,Va=!1;function Ea(t,e,r,n){e.child=t===null?oN(e,null,r,n):Od(e,t.child,r,n)}function d1(t,e,r,n,a){r=r.render;var o=e.ref;return vd(e,a),n=hv(t,e,r,n,o,a),r=fv(),t!==null&&!Va?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ki(t,e,a)):(en&&r&&ev(e),e.flags|=1,Ea(t,e,n,a),e.child)}function u1(t,e,r,n,a){if(t===null){var o=r.type;return typeof o=="function"&&!jv(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,IN(t,e,o,n,a)):(t=Ip(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Sh,r(i,n)&&t.ref===e.ref)return ki(t,e,a)}return e.flags|=1,t=Nl(o,n),t.ref=e.ref,t.return=e,e.child=t}function IN(t,e,r,n,a){if(t!==null){var o=t.memoizedProps;if(Sh(o,n)&&t.ref===e.ref)if(Va=!1,e.pendingProps=n=o,(t.lanes&a)!==0)t.flags&131072&&(Va=!0);else return e.lanes=t.lanes,ki(t,e,a)}return jx(t,e,r,n,a)}function LN(t,e,r){var n=e.pendingProps,a=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(pd,ds),ds|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Hr(pd,ds),ds|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Hr(pd,ds),ds|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Hr(pd,ds),ds|=n;return Ea(t,e,a,r),e.child}function RN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jx(t,e,r,n,a){var o=Wa(r)?hc:wa.current;return o=Rd(e,o),vd(e,a),r=hv(t,e,r,n,o,a),n=fv(),t!==null&&!Va?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ki(t,e,a)):(en&&n&&ev(e),e.flags|=1,Ea(t,e,r,a),e.child)}function h1(t,e,r,n,a){if(Wa(r)){var o=!0;a0(e)}else o=!1;if(vd(e,a),e.stateNode===null)Ap(t,e),AN(e,r,n),wx(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Bs(d):(d=Wa(r)?hc:wa.current,d=Rd(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&o1(e,i,n,d),sl=!1;var g=e.memoizedState;i.state=g,c0(e,n,i,a),c=e.memoizedState,l!==n||g!==c||Ha.current||sl?(typeof u=="function"&&(vx(e,r,u,n),c=e.memoizedState),(l=sl||s1(e,r,l,n,g,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,lN(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:no(e.type,l),i.props=d,h=e.pendingProps,g=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bs(c):(c=Wa(r)?hc:wa.current,c=Rd(e,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||g!==c)&&o1(e,i,n,c),sl=!1,g=e.memoizedState,i.state=g,c0(e,n,i,a);var w=e.memoizedState;l!==h||g!==w||Ha.current||sl?(typeof p=="function"&&(vx(e,r,p,n),w=e.memoizedState),(d=sl||s1(e,r,d,n,g,w,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),i.props=n,i.state=w,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Nx(t,e,r,n,o,a)}function Nx(t,e,r,n,a,o){RN(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&X2(e,r,!1),ki(t,e,o);n=e.stateNode,EA.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Od(e,t.child,null,o),e.child=Od(e,null,l,o)):Ea(t,e,l,o),e.memoizedState=n.state,a&&X2(e,r,!0),e.child}function TN(t){var e=t.stateNode;e.pendingContext?Y2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y2(t,e.context,!1),lv(t,e.containerInfo)}function f1(t,e,r,n,a){return Td(),rv(a),e.flags|=256,Ea(t,e,r,n),e.child}var Sx={dehydrated:null,treeContext:null,retryLane:0};function Cx(t){return{baseLanes:t,cachePool:null,transitions:null}}function ON(t,e,r){var n=e.pendingProps,a=sn.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Hr(sn,a&1),t===null)return xx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=cm(i,n,0,null),t=lc(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Cx(r),e.memoizedState=Sx,t):gv(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return AA(t,e,i,n,l,a,r);if(o){o=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Nl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Nl(l,o):(o=lc(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?Cx(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=Sx,n}return o=t.child,t=o.sibling,n=Nl(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function gv(t,e){return e=cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qf(t,e,r,n){return n!==null&&rv(n),Od(e,t.child,null,r),t=gv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AA(t,e,r,n,a,o,i){if(r)return e.flags&256?(e.flags&=-257,n=Jg(Error(lt(422))),Qf(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,a=e.mode,n=cm({mode:"visible",children:n.children},a,0,null),o=lc(o,a,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Od(e,t.child,null,i),e.child.memoizedState=Cx(i),e.memoizedState=Sx,o);if(!(e.mode&1))return Qf(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(lt(419)),n=Jg(o,n,void 0),Qf(t,e,i,n)}if(l=(i&t.childLanes)!==0,Va||l){if(n=Zn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,wi(t,a),co(n,t,a,-1))}return kv(),n=Jg(Error(lt(421))),Qf(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=UA.bind(null,t),a._reactRetry=e,null):(t=o.treeContext,us=vl(a.nextSibling),fs=e,en=!0,io=null,t!==null&&(Ts[Os++]=hi,Ts[Os++]=fi,Ts[Os++]=fc,hi=t.id,fi=t.overflow,fc=e),e=gv(e,n.children),e.flags|=4096,e)}function p1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),bx(t.return,e,r)}function Kg(t,e,r,n,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function MN(t,e,r){var n=e.pendingProps,a=n.revealOrder,o=n.tail;if(Ea(t,e,n.children,r),n=sn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p1(t,r,e);else if(t.tag===19)p1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Hr(sn,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&d0(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Kg(e,!1,a,r,o);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&d0(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Kg(e,!0,r,null,o);break;case"together":Kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ap(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),mc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(lt(153));if(e.child!==null){for(t=e.child,r=Nl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Nl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function PA(t,e,r){switch(e.tag){case 3:TN(e),Td();break;case 5:cN(e);break;case 1:Wa(e.type)&&a0(e);break;case 4:lv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Hr(i0,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Hr(sn,sn.current&1),e.flags|=128,null):r&e.child.childLanes?ON(t,e,r):(Hr(sn,sn.current&1),t=ki(t,e,r),t!==null?t.sibling:null);Hr(sn,sn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return MN(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Hr(sn,sn.current),n)break;return null;case 22:case 23:return e.lanes=0,LN(t,e,r)}return ki(t,e,r)}var FN,_x,BN,$N;FN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_x=function(){};BN=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,ac(Uo.current);var o=null;switch(r){case"input":a=Ky(t,a),n=Ky(t,n),o=[];break;case"select":a=ln({},a,{value:void 0}),n=ln({},n,{value:void 0}),o=[];break;case"textarea":a=Qy(t,a),n=Qy(t,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=r0)}ex(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xh.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xh.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Jr("scroll",t),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};$N=function(t,e,r,n){r!==n&&(e.flags|=4)};function Mu(t,e){if(!en)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ha(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function DA(t,e,r){var n=e.pendingProps;switch(tv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ha(e),null;case 1:return Wa(e.type)&&n0(),ha(e),null;case 3:return n=e.stateNode,Md(),Yr(Ha),Yr(wa),dv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,io!==null&&(Tx(io),io=null))),_x(t,e),ha(e),null;case 5:cv(e);var a=ac(Ph.current);if(r=e.type,t!==null&&e.stateNode!=null)BN(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(lt(166));return ha(e),null}if(t=ac(Uo.current),Yf(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Bo]=e,n[Eh]=o,t=(e.mode&1)!==0,r){case"dialog":Jr("cancel",n),Jr("close",n);break;case"iframe":case"object":case"embed":Jr("load",n);break;case"video":case"audio":for(a=0;a<Ku.length;a++)Jr(Ku[a],n);break;case"source":Jr("error",n);break;case"img":case"image":case"link":Jr("error",n),Jr("load",n);break;case"details":Jr("toggle",n);break;case"input":j2(n,o),Jr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Jr("invalid",n);break;case"textarea":S2(n,o),Jr("invalid",n)}ex(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Kf(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Kf(n.textContent,l,t),a=["children",""+l]):xh.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Jr("scroll",n)}switch(r){case"input":qf(n),N2(n,o,!0);break;case"textarea":qf(n),C2(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=r0)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pj(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Bo]=e,t[Eh]=n,FN(t,e,!1,!1),e.stateNode=t;e:{switch(i=tx(r,n),r){case"dialog":Jr("cancel",t),Jr("close",t),a=n;break;case"iframe":case"object":case"embed":Jr("load",t),a=n;break;case"video":case"audio":for(a=0;a<Ku.length;a++)Jr(Ku[a],t);a=n;break;case"source":Jr("error",t),a=n;break;case"img":case"image":case"link":Jr("error",t),Jr("load",t),a=n;break;case"details":Jr("toggle",t),a=n;break;case"input":j2(t,n),a=Ky(t,n),Jr("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=ln({},n,{value:void 0}),Jr("invalid",t);break;case"textarea":S2(t,n),a=Qy(t,n),Jr("invalid",t);break;default:a=n}ex(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?yj(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mj(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bh(t,c):typeof c=="number"&&bh(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xh.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Jr("scroll",t):c!=null&&$b(t,o,c,i))}switch(r){case"input":qf(t),N2(t,n,!1);break;case"textarea":qf(t),C2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Cl(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?gd(t,!!n.multiple,o,!1):n.defaultValue!=null&&gd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=r0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ha(e),null;case 6:if(t&&e.stateNode!=null)$N(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(lt(166));if(r=ac(Ph.current),ac(Uo.current),Yf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bo]=e,(o=n.nodeValue!==r)&&(t=fs,t!==null))switch(t.tag){case 3:Kf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bo]=e,e.stateNode=n}return ha(e),null;case 13:if(Yr(sn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(en&&us!==null&&e.mode&1&&!(e.flags&128))aN(),Td(),e.flags|=98560,o=!1;else if(o=Yf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(lt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(lt(317));o[Bo]=e}else Td(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ha(e),o=!1}else io!==null&&(Tx(io),io=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||sn.current&1?zn===0&&(zn=3):kv())),e.updateQueue!==null&&(e.flags|=4),ha(e),null);case 4:return Md(),_x(t,e),t===null&&Ch(e.stateNode.containerInfo),ha(e),null;case 10:return sv(e.type._context),ha(e),null;case 17:return Wa(e.type)&&n0(),ha(e),null;case 19:if(Yr(sn),o=e.memoizedState,o===null)return ha(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)Mu(o,!1);else{if(zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=d0(t),i!==null){for(e.flags|=128,Mu(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Hr(sn,sn.current&1|2),e.child}t=t.sibling}o.tail!==null&&vn()>Bd&&(e.flags|=128,n=!0,Mu(o,!1),e.lanes=4194304)}else{if(!n)if(t=d0(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Mu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!en)return ha(e),null}else 2*vn()-o.renderingStartTime>Bd&&r!==1073741824&&(e.flags|=128,n=!0,Mu(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vn(),e.sibling=null,r=sn.current,Hr(sn,n?r&1|2:r&1),e):(ha(e),null);case 22:case 23:return wv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ds&1073741824&&(ha(e),e.subtreeFlags&6&&(e.flags|=8192)):ha(e),null;case 24:return null;case 25:return null}throw Error(lt(156,e.tag))}function IA(t,e){switch(tv(e),e.tag){case 1:return Wa(e.type)&&n0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Md(),Yr(Ha),Yr(wa),dv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cv(e),null;case 13:if(Yr(sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(lt(340));Td()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yr(sn),null;case 4:return Md(),null;case 10:return sv(e.type._context),null;case 22:case 23:return wv(),null;case 24:return null;default:return null}}var Zf=!1,xa=!1,LA=typeof WeakSet=="function"?WeakSet:Set,bt=null;function fd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fn(t,e,n)}else r.current=null}function Ex(t,e,r){try{r()}catch(n){fn(t,e,n)}}var m1=!1;function RA(t,e){if(ux=Zp,t=Hj(),Zb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=t,g=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=i+a),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)g=h,h=p;for(;;){if(h===t)break t;if(g===r&&++d===a&&(l=i),g===o&&++u===n&&(c=i),(p=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hx={focusedElem:t,selectionRange:r},Zp=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){e=bt;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,_=w.memoizedState,v=e.stateNode,j=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:no(e.type,b),_);v.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var L=e.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(U){fn(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}return w=m1,m1=!1,w}function oh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var o=a.destroy;a.destroy=void 0,o!==void 0&&Ex(e,r,o)}a=a.next}while(a!==n)}}function im(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ax(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function qN(t){var e=t.alternate;e!==null&&(t.alternate=null,qN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bo],delete e[Eh],delete e[mx],delete e[gA],delete e[yA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UN(t){return t.tag===5||t.tag===3||t.tag===4}function g1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Px(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=r0));else if(n!==4&&(t=t.child,t!==null))for(Px(t,e,r),t=t.sibling;t!==null;)Px(t,e,r),t=t.sibling}function Dx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Dx(t,e,r),t=t.sibling;t!==null;)Dx(t,e,r),t=t.sibling}var sa=null,so=!1;function Xi(t,e,r){for(r=r.child;r!==null;)zN(t,e,r),r=r.sibling}function zN(t,e,r){if(qo&&typeof qo.onCommitFiberUnmount=="function")try{qo.onCommitFiberUnmount(Z0,r)}catch{}switch(r.tag){case 5:xa||fd(r,e);case 6:var n=sa,a=so;sa=null,Xi(t,e,r),sa=n,so=a,sa!==null&&(so?(t=sa,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):sa.removeChild(r.stateNode));break;case 18:sa!==null&&(so?(t=sa,r=r.stateNode,t.nodeType===8?Ug(t.parentNode,r):t.nodeType===1&&Ug(t,r),jh(t)):Ug(sa,r.stateNode));break;case 4:n=sa,a=so,sa=r.stateNode.containerInfo,so=!0,Xi(t,e,r),sa=n,so=a;break;case 0:case 11:case 14:case 15:if(!xa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ex(r,e,i),a=a.next}while(a!==n)}Xi(t,e,r);break;case 1:if(!xa&&(fd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fn(r,e,l)}Xi(t,e,r);break;case 21:Xi(t,e,r);break;case 22:r.mode&1?(xa=(n=xa)||r.memoizedState!==null,Xi(t,e,r),xa=n):Xi(t,e,r);break;default:Xi(t,e,r)}}function y1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new LA),e.forEach(function(n){var a=zA.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function eo(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:sa=l.stateNode,so=!1;break e;case 3:sa=l.stateNode.containerInfo,so=!0;break e;case 4:sa=l.stateNode.containerInfo,so=!0;break e}l=l.return}if(sa===null)throw Error(lt(160));zN(o,i,a),sa=null,so=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){fn(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VN(e,t),e=e.sibling}function VN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(eo(e,t),Do(t),n&4){try{oh(3,t,t.return),im(3,t)}catch(b){fn(t,t.return,b)}try{oh(5,t,t.return)}catch(b){fn(t,t.return,b)}}break;case 1:eo(e,t),Do(t),n&512&&r!==null&&fd(r,r.return);break;case 5:if(eo(e,t),Do(t),n&512&&r!==null&&fd(r,r.return),t.flags&32){var a=t.stateNode;try{bh(a,"")}catch(b){fn(t,t.return,b)}}if(n&4&&(a=t.stateNode,a!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&hj(a,o),tx(l,i);var d=tx(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?yj(a,h):u==="dangerouslySetInnerHTML"?mj(a,h):u==="children"?bh(a,h):$b(a,u,h,d)}switch(l){case"input":Yy(a,o);break;case"textarea":fj(a,o);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?gd(a,!!o.multiple,p,!1):g!==!!o.multiple&&(o.defaultValue!=null?gd(a,!!o.multiple,o.defaultValue,!0):gd(a,!!o.multiple,o.multiple?[]:"",!1))}a[Eh]=o}catch(b){fn(t,t.return,b)}}break;case 6:if(eo(e,t),Do(t),n&4){if(t.stateNode===null)throw Error(lt(162));a=t.stateNode,o=t.memoizedProps;try{a.nodeValue=o}catch(b){fn(t,t.return,b)}}break;case 3:if(eo(e,t),Do(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jh(e.containerInfo)}catch(b){fn(t,t.return,b)}break;case 4:eo(e,t),Do(t);break;case 13:eo(e,t),Do(t),a=t.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(bv=vn())),n&4&&y1(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(xa=(d=xa)||u,eo(e,t),xa=d):eo(e,t),Do(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(bt=t,u=t.child;u!==null;){for(h=bt=u;bt!==null;){switch(g=bt,p=g.child,g.tag){case 0:case 11:case 14:case 15:oh(4,g,g.return);break;case 1:fd(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){fn(n,r,b)}}break;case 5:fd(g,g.return);break;case 22:if(g.memoizedState!==null){b1(h);continue}}p!==null?(p.return=g,bt=p):b1(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=gj("display",i))}catch(b){fn(t,t.return,b)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){fn(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:eo(e,t),Do(t),n&4&&y1(t);break;case 21:break;default:eo(e,t),Do(t)}}function Do(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(UN(r)){var n=r;break e}r=r.return}throw Error(lt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(bh(a,""),n.flags&=-33);var o=g1(t);Dx(t,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=g1(t);Px(t,l,i);break;default:throw Error(lt(161))}}catch(c){fn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TA(t,e,r){bt=t,HN(t)}function HN(t,e,r){for(var n=(t.mode&1)!==0;bt!==null;){var a=bt,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Zf;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||xa;l=Zf;var d=xa;if(Zf=i,(xa=c)&&!d)for(bt=a;bt!==null;)i=bt,c=i.child,i.tag===22&&i.memoizedState!==null?v1(a):c!==null?(c.return=i,bt=c):v1(a);for(;o!==null;)bt=o,HN(o),o=o.sibling;bt=a,Zf=l,xa=d}x1(t)}else a.subtreeFlags&8772&&o!==null?(o.return=a,bt=o):x1(t)}}function x1(t){for(;bt!==null;){var e=bt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xa||im(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!xa)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:no(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&r1(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}r1(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&jh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}xa||e.flags&512&&Ax(e)}catch(g){fn(e,e.return,g)}}if(e===t){bt=null;break}if(r=e.sibling,r!==null){r.return=e.return,bt=r;break}bt=e.return}}function b1(t){for(;bt!==null;){var e=bt;if(e===t){bt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,bt=r;break}bt=e.return}}function v1(t){for(;bt!==null;){var e=bt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{im(4,e)}catch(c){fn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){fn(e,a,c)}}var o=e.return;try{Ax(e)}catch(c){fn(e,o,c)}break;case 5:var i=e.return;try{Ax(e)}catch(c){fn(e,i,c)}}}catch(c){fn(e,e.return,c)}if(e===t){bt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,bt=l;break}bt=e.return}}var OA=Math.ceil,f0=Ai.ReactCurrentDispatcher,yv=Ai.ReactCurrentOwner,Fs=Ai.ReactCurrentBatchConfig,pr=0,Zn=null,Ln=null,ia=0,ds=0,pd=Rl(0),zn=0,Rh=null,mc=0,lm=0,xv=0,ih=null,Ua=null,bv=0,Bd=1/0,ci=null,p0=!1,Ix=null,kl=null,ep=!1,hl=null,m0=0,lh=0,Lx=null,Pp=-1,Dp=0;function Aa(){return pr&6?vn():Pp!==-1?Pp:Pp=vn()}function jl(t){return t.mode&1?pr&2&&ia!==0?ia&-ia:bA.transition!==null?(Dp===0&&(Dp=Aj()),Dp):(t=Dr,t!==0||(t=window.event,t=t===void 0?16:Oj(t.type)),t):1}function co(t,e,r,n){if(50<lh)throw lh=0,Lx=null,Error(lt(185));Kh(t,r,n),(!(pr&2)||t!==Zn)&&(t===Zn&&(!(pr&2)&&(lm|=r),zn===4&&cl(t,ia)),Ga(t,n),r===1&&pr===0&&!(e.mode&1)&&(Bd=vn()+500,am&&Tl()))}function Ga(t,e){var r=t.callbackNode;bE(t,e);var n=Qp(t,t===Zn?ia:0);if(n===0)r!==null&&A2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&A2(r),e===1)t.tag===0?xA(w1.bind(null,t)):tN(w1.bind(null,t)),pA(function(){!(pr&6)&&Tl()}),r=null;else{switch(Pj(n)){case 1:r=Hb;break;case 4:r=_j;break;case 16:r=Xp;break;case 536870912:r=Ej;break;default:r=Xp}r=ZN(r,WN.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function WN(t,e){if(Pp=-1,Dp=0,pr&6)throw Error(lt(327));var r=t.callbackNode;if(wd()&&t.callbackNode!==r)return null;var n=Qp(t,t===Zn?ia:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=g0(t,n);else{e=n;var a=pr;pr|=2;var o=JN();(Zn!==t||ia!==e)&&(ci=null,Bd=vn()+500,ic(t,e));do try{BA();break}catch(l){GN(t,l)}while(!0);av(),f0.current=o,pr=a,Ln!==null?e=0:(Zn=null,ia=0,e=zn)}if(e!==0){if(e===2&&(a=ox(t),a!==0&&(n=a,e=Rx(t,a))),e===1)throw r=Rh,ic(t,0),cl(t,n),Ga(t,vn()),r;if(e===6)cl(t,n);else{if(a=t.current.alternate,!(n&30)&&!MA(a)&&(e=g0(t,n),e===2&&(o=ox(t),o!==0&&(n=o,e=Rx(t,o))),e===1))throw r=Rh,ic(t,0),cl(t,n),Ga(t,vn()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(lt(345));case 2:Xl(t,Ua,ci);break;case 3:if(cl(t,n),(n&130023424)===n&&(e=bv+500-vn(),10<e)){if(Qp(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Aa(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=px(Xl.bind(null,t,Ua,ci),e);break}Xl(t,Ua,ci);break;case 4:if(cl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-lo(n);o=1<<i,i=e[i],i>a&&(a=i),n&=~o}if(n=a,n=vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OA(n/1960))-n,10<n){t.timeoutHandle=px(Xl.bind(null,t,Ua,ci),n);break}Xl(t,Ua,ci);break;case 5:Xl(t,Ua,ci);break;default:throw Error(lt(329))}}}return Ga(t,vn()),t.callbackNode===r?WN.bind(null,t):null}function Rx(t,e){var r=ih;return t.current.memoizedState.isDehydrated&&(ic(t,e).flags|=256),t=g0(t,e),t!==2&&(e=Ua,Ua=r,e!==null&&Tx(e)),t}function Tx(t){Ua===null?Ua=t:Ua.push.apply(Ua,t)}function MA(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!uo(o(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cl(t,e){for(e&=~xv,e&=~lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-lo(e),n=1<<r;t[r]=-1,e&=~n}}function w1(t){if(pr&6)throw Error(lt(327));wd();var e=Qp(t,0);if(!(e&1))return Ga(t,vn()),null;var r=g0(t,e);if(t.tag!==0&&r===2){var n=ox(t);n!==0&&(e=n,r=Rx(t,n))}if(r===1)throw r=Rh,ic(t,0),cl(t,e),Ga(t,vn()),r;if(r===6)throw Error(lt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xl(t,Ua,ci),Ga(t,vn()),null}function vv(t,e){var r=pr;pr|=1;try{return t(e)}finally{pr=r,pr===0&&(Bd=vn()+500,am&&Tl())}}function gc(t){hl!==null&&hl.tag===0&&!(pr&6)&&wd();var e=pr;pr|=1;var r=Fs.transition,n=Dr;try{if(Fs.transition=null,Dr=1,t)return t()}finally{Dr=n,Fs.transition=r,pr=e,!(pr&6)&&Tl()}}function wv(){ds=pd.current,Yr(pd)}function ic(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,fA(r)),Ln!==null)for(r=Ln.return;r!==null;){var n=r;switch(tv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&n0();break;case 3:Md(),Yr(Ha),Yr(wa),dv();break;case 5:cv(n);break;case 4:Md();break;case 13:Yr(sn);break;case 19:Yr(sn);break;case 10:sv(n.type._context);break;case 22:case 23:wv()}r=r.return}if(Zn=t,Ln=t=Nl(t.current,null),ia=ds=e,zn=0,Rh=null,xv=lm=mc=0,Ua=ih=null,nc!==null){for(e=0;e<nc.length;e++)if(r=nc[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}nc=null}return t}function GN(t,e){do{var r=Ln;try{if(av(),_p.current=h0,u0){for(var n=on.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}u0=!1}if(pc=0,Yn=qn=on=null,sh=!1,Dh=0,yv.current=null,r===null||r.return===null){zn=1,Rh=e,Ln=null;break}e:{var o=t,i=r.return,l=r,c=e;if(e=ia,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=l1(i);if(p!==null){p.flags&=-257,c1(p,i,l,o,e),p.mode&1&&i1(o,d,e),e=p,c=d;var w=e.updateQueue;if(w===null){var b=new Set;b.add(c),e.updateQueue=b}else w.add(c);break e}else{if(!(e&1)){i1(o,d,e),kv();break e}c=Error(lt(426))}}else if(en&&l.mode&1){var _=l1(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),c1(_,i,l,o,e),rv(Fd(c,l));break e}}o=c=Fd(c,l),zn!==4&&(zn=2),ih===null?ih=[o]:ih.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=PN(o,c,e);t1(o,v);break e;case 1:l=c;var j=o.type,L=o.stateNode;if(!(o.flags&128)&&(typeof j.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(kl===null||!kl.has(L)))){o.flags|=65536,e&=-e,o.lanes|=e;var U=DN(o,l,e);t1(o,U);break e}}o=o.return}while(o!==null)}YN(r)}catch(M){e=M,Ln===r&&r!==null&&(Ln=r=r.return);continue}break}while(!0)}function JN(){var t=f0.current;return f0.current=h0,t===null?h0:t}function kv(){(zn===0||zn===3||zn===2)&&(zn=4),Zn===null||!(mc&268435455)&&!(lm&268435455)||cl(Zn,ia)}function g0(t,e){var r=pr;pr|=2;var n=JN();(Zn!==t||ia!==e)&&(ci=null,ic(t,e));do try{FA();break}catch(a){GN(t,a)}while(!0);if(av(),pr=r,f0.current=n,Ln!==null)throw Error(lt(261));return Zn=null,ia=0,zn}function FA(){for(;Ln!==null;)KN(Ln)}function BA(){for(;Ln!==null&&!dE();)KN(Ln)}function KN(t){var e=QN(t.alternate,t,ds);t.memoizedProps=t.pendingProps,e===null?YN(t):Ln=e,yv.current=null}function YN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=IA(r,e),r!==null){r.flags&=32767,Ln=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zn=6,Ln=null;return}}else if(r=DA(r,e,ds),r!==null){Ln=r;return}if(e=e.sibling,e!==null){Ln=e;return}Ln=e=t}while(e!==null);zn===0&&(zn=5)}function Xl(t,e,r){var n=Dr,a=Fs.transition;try{Fs.transition=null,Dr=1,$A(t,e,r,n)}finally{Fs.transition=a,Dr=n}return null}function $A(t,e,r,n){do wd();while(hl!==null);if(pr&6)throw Error(lt(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(lt(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(vE(t,o),t===Zn&&(Ln=Zn=null,ia=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ep||(ep=!0,ZN(Xp,function(){return wd(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Fs.transition,Fs.transition=null;var i=Dr;Dr=1;var l=pr;pr|=4,yv.current=null,RA(t,r),VN(r,t),oA(hx),Zp=!!ux,hx=ux=null,t.current=r,TA(r),uE(),pr=l,Dr=i,Fs.transition=o}else t.current=r;if(ep&&(ep=!1,hl=t,m0=a),o=t.pendingLanes,o===0&&(kl=null),pE(r.stateNode),Ga(t,vn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(p0)throw p0=!1,t=Ix,Ix=null,t;return m0&1&&t.tag!==0&&wd(),o=t.pendingLanes,o&1?t===Lx?lh++:(lh=0,Lx=t):lh=0,Tl(),null}function wd(){if(hl!==null){var t=Pj(m0),e=Fs.transition,r=Dr;try{if(Fs.transition=null,Dr=16>t?16:t,hl===null)var n=!1;else{if(t=hl,hl=null,m0=0,pr&6)throw Error(lt(331));var a=pr;for(pr|=4,bt=t.current;bt!==null;){var o=bt,i=o.child;if(bt.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(bt=d;bt!==null;){var u=bt;switch(u.tag){case 0:case 11:case 15:oh(8,u,o)}var h=u.child;if(h!==null)h.return=u,bt=h;else for(;bt!==null;){u=bt;var g=u.sibling,p=u.return;if(qN(u),u===d){bt=null;break}if(g!==null){g.return=p,bt=g;break}bt=p}}}var w=o.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}bt=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,bt=i;else e:for(;bt!==null;){if(o=bt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:oh(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,bt=v;break e}bt=o.return}}var j=t.current;for(bt=j;bt!==null;){i=bt;var L=i.child;if(i.subtreeFlags&2064&&L!==null)L.return=i,bt=L;else e:for(i=j;bt!==null;){if(l=bt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:im(9,l)}}catch(M){fn(l,l.return,M)}if(l===i){bt=null;break e}var U=l.sibling;if(U!==null){U.return=l.return,bt=U;break e}bt=l.return}}if(pr=a,Tl(),qo&&typeof qo.onPostCommitFiberRoot=="function")try{qo.onPostCommitFiberRoot(Z0,t)}catch{}n=!0}return n}finally{Dr=r,Fs.transition=e}}return!1}function k1(t,e,r){e=Fd(r,e),e=PN(t,e,1),t=wl(t,e,1),e=Aa(),t!==null&&(Kh(t,1,e),Ga(t,e))}function fn(t,e,r){if(t.tag===3)k1(t,t,r);else for(;e!==null;){if(e.tag===3){k1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kl===null||!kl.has(n))){t=Fd(r,t),t=DN(e,t,1),e=wl(e,t,1),t=Aa(),e!==null&&(Kh(e,1,t),Ga(e,t));break}}e=e.return}}function qA(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Aa(),t.pingedLanes|=t.suspendedLanes&r,Zn===t&&(ia&r)===r&&(zn===4||zn===3&&(ia&130023424)===ia&&500>vn()-bv?ic(t,0):xv|=r),Ga(t,e)}function XN(t,e){e===0&&(t.mode&1?(e=Vf,Vf<<=1,!(Vf&130023424)&&(Vf=4194304)):e=1);var r=Aa();t=wi(t,e),t!==null&&(Kh(t,e,r),Ga(t,r))}function UA(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),XN(t,r)}function zA(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(lt(314))}n!==null&&n.delete(e),XN(t,r)}var QN;QN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ha.current)Va=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Va=!1,PA(t,e,r);Va=!!(t.flags&131072)}else Va=!1,en&&e.flags&1048576&&rN(e,o0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ap(t,e),t=e.pendingProps;var a=Rd(e,wa.current);vd(e,r),a=hv(null,e,n,t,a,r);var o=fv();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wa(n)?(o=!0,a0(e)):o=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,iv(e),a.updater=om,e.stateNode=a,a._reactInternals=e,wx(e,n,t,r),e=Nx(null,e,n,!0,o,r)):(e.tag=0,en&&o&&ev(e),Ea(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ap(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=HA(n),t=no(n,t),a){case 0:e=jx(null,e,n,t,r);break e;case 1:e=h1(null,e,n,t,r);break e;case 11:e=d1(null,e,n,t,r);break e;case 14:e=u1(null,e,n,no(n.type,t),r);break e}throw Error(lt(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:no(n,a),jx(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:no(n,a),h1(t,e,n,a,r);case 3:e:{if(TN(e),t===null)throw Error(lt(387));n=e.pendingProps,o=e.memoizedState,a=o.element,lN(t,e),c0(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){a=Fd(Error(lt(423)),e),e=f1(t,e,n,r,a);break e}else if(n!==a){a=Fd(Error(lt(424)),e),e=f1(t,e,n,r,a);break e}else for(us=vl(e.stateNode.containerInfo.firstChild),fs=e,en=!0,io=null,r=oN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Td(),n===a){e=ki(t,e,r);break e}Ea(t,e,n,r)}e=e.child}return e;case 5:return cN(e),t===null&&xx(e),n=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,i=a.children,fx(n,a)?i=null:o!==null&&fx(n,o)&&(e.flags|=32),RN(t,e),Ea(t,e,i,r),e.child;case 6:return t===null&&xx(e),null;case 13:return ON(t,e,r);case 4:return lv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Od(e,null,n,r):Ea(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:no(n,a),d1(t,e,n,a,r);case 7:return Ea(t,e,e.pendingProps,r),e.child;case 8:return Ea(t,e,e.pendingProps.children,r),e.child;case 12:return Ea(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,o=e.memoizedProps,i=a.value,Hr(i0,n._currentValue),n._currentValue=i,o!==null)if(uo(o.value,i)){if(o.children===a.children&&!Ha.current){e=ki(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=mi(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),bx(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(lt(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),bx(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ea(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,vd(e,r),a=Bs(a),n=n(a),e.flags|=1,Ea(t,e,n,r),e.child;case 14:return n=e.type,a=no(n,e.pendingProps),a=no(n.type,a),u1(t,e,n,a,r);case 15:return IN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:no(n,a),Ap(t,e),e.tag=1,Wa(n)?(t=!0,a0(e)):t=!1,vd(e,r),AN(e,n,a),wx(e,n,a,r),Nx(null,e,n,!0,t,r);case 19:return MN(t,e,r);case 22:return LN(t,e,r)}throw Error(lt(156,e.tag))};function ZN(t,e){return Cj(t,e)}function VA(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(t,e,r,n){return new VA(t,e,r,n)}function jv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HA(t){if(typeof t=="function")return jv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ub)return 11;if(t===zb)return 14}return 2}function Nl(t,e){var r=t.alternate;return r===null?(r=Ms(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ip(t,e,r,n,a,o){var i=2;if(n=t,typeof t=="function")jv(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ad:return lc(r.children,a,o,e);case qb:i=8,a|=8;break;case Hy:return t=Ms(12,r,e,a|2),t.elementType=Hy,t.lanes=o,t;case Wy:return t=Ms(13,r,e,a),t.elementType=Wy,t.lanes=o,t;case Gy:return t=Ms(19,r,e,a),t.elementType=Gy,t.lanes=o,t;case cj:return cm(r,a,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ij:i=10;break e;case lj:i=9;break e;case Ub:i=11;break e;case zb:i=14;break e;case al:i=16,n=null;break e}throw Error(lt(130,t==null?t:typeof t,""))}return e=Ms(i,r,e,a),e.elementType=t,e.type=n,e.lanes=o,e}function lc(t,e,r,n){return t=Ms(7,t,n,e),t.lanes=r,t}function cm(t,e,r,n){return t=Ms(22,t,n,e),t.elementType=cj,t.lanes=r,t.stateNode={isHidden:!1},t}function Yg(t,e,r){return t=Ms(6,t,null,e),t.lanes=r,t}function Xg(t,e,r){return e=Ms(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WA(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Nv(t,e,r,n,a,o,i,l,c){return t=new WA(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ms(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iv(o),t}function GA(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function e4(t){if(!t)return _l;t=t._reactInternals;e:{if(wc(t)!==t||t.tag!==1)throw Error(lt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(lt(171))}if(t.tag===1){var r=t.type;if(Wa(r))return eN(t,r,e)}return e}function t4(t,e,r,n,a,o,i,l,c){return t=Nv(r,n,!0,t,a,o,i,l,c),t.context=e4(null),r=t.current,n=Aa(),a=jl(r),o=mi(n,a),o.callback=e??null,wl(r,o,a),t.current.lanes=a,Kh(t,a,n),Ga(t,n),t}function dm(t,e,r,n){var a=e.current,o=Aa(),i=jl(a);return r=e4(r),e.context===null?e.context=r:e.pendingContext=r,e=mi(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wl(a,e,i),t!==null&&(co(t,a,i,o),Cp(t,a,i)),i}function y0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function j1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Sv(t,e){j1(t,e),(t=t.alternate)&&j1(t,e)}function JA(){return null}var r4=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cv(t){this._internalRoot=t}um.prototype.render=Cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(lt(409));dm(t,e,null,null)};um.prototype.unmount=Cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gc(function(){dm(null,t,null,null)}),e[vi]=null}};function um(t){this._internalRoot=t}um.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lj();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ll.length&&e!==0&&e<ll[r].priority;r++);ll.splice(r,0,t),r===0&&Tj(t)}};function _v(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N1(){}function KA(t,e,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var d=y0(i);o.call(d)}}var i=t4(e,n,t,0,null,!1,!1,"",N1);return t._reactRootContainer=i,t[vi]=i.current,Ch(t.nodeType===8?t.parentNode:t),gc(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=y0(c);l.call(d)}}var c=Nv(t,0,!1,null,null,!1,!1,"",N1);return t._reactRootContainer=c,t[vi]=c.current,Ch(t.nodeType===8?t.parentNode:t),gc(function(){dm(e,c,r,n)}),c}function fm(t,e,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=y0(i);l.call(c)}}dm(e,i,t,a)}else i=KA(r,e,t,a,n);return y0(i)}Dj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ju(e.pendingLanes);r!==0&&(Wb(e,r|1),Ga(e,vn()),!(pr&6)&&(Bd=vn()+500,Tl()))}break;case 13:gc(function(){var n=wi(t,1);if(n!==null){var a=Aa();co(n,t,1,a)}}),Sv(t,1)}};Gb=function(t){if(t.tag===13){var e=wi(t,134217728);if(e!==null){var r=Aa();co(e,t,134217728,r)}Sv(t,134217728)}};Ij=function(t){if(t.tag===13){var e=jl(t),r=wi(t,e);if(r!==null){var n=Aa();co(r,t,e,n)}Sv(t,e)}};Lj=function(){return Dr};Rj=function(t,e){var r=Dr;try{return Dr=t,e()}finally{Dr=r}};nx=function(t,e,r){switch(e){case"input":if(Yy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=nm(n);if(!a)throw Error(lt(90));uj(n),Yy(n,a)}}}break;case"textarea":fj(t,r);break;case"select":e=r.value,e!=null&&gd(t,!!r.multiple,e,!1)}};vj=vv;wj=gc;var YA={usingClientEntryPoint:!1,Events:[Xh,ld,nm,xj,bj,vv]},Fu={findFiberByHostInstance:rc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XA={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nj(t),t===null?null:t.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||JA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{Z0=tp.inject(XA),qo=tp}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;xs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_v(e))throw Error(lt(200));return GA(t,e,null,r)};xs.createRoot=function(t,e){if(!_v(t))throw Error(lt(299));var r=!1,n="",a=r4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Nv(t,1,!1,null,null,r,!1,n,a),t[vi]=e.current,Ch(t.nodeType===8?t.parentNode:t),new Cv(e)};xs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(lt(188)):(t=Object.keys(t).join(","),Error(lt(268,t)));return t=Nj(e),t=t===null?null:t.stateNode,t};xs.flushSync=function(t){return gc(t)};xs.hydrate=function(t,e,r){if(!hm(e))throw Error(lt(200));return fm(null,t,e,!0,r)};xs.hydrateRoot=function(t,e,r){if(!_v(t))throw Error(lt(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=r4;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=t4(e,null,t,1,r??null,a,!1,o,i),t[vi]=e.current,Ch(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new um(e)};xs.render=function(t,e,r){if(!hm(e))throw Error(lt(200));return fm(null,t,e,!1,r)};xs.unmountComponentAtNode=function(t){if(!hm(t))throw Error(lt(40));return t._reactRootContainer?(gc(function(){fm(null,null,t,!1,function(){t._reactRootContainer=null,t[vi]=null})}),!0):!1};xs.unstable_batchedUpdates=vv;xs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!hm(r))throw Error(lt(200));if(t==null||t._reactInternals===void 0)throw Error(lt(38));return fm(t,e,r,!1,n)};xs.version="18.3.1-next-f1338f8080-20240426";function n4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n4)}catch(t){console.error(t)}}n4(),nj.exports=xs;var sc=nj.exports,a4,S1=sc;a4=S1.createRoot,S1.hydrateRoot;var Ev={};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.parse=aP;Ev.serialize=sP;const QA=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,ZA=/^[\u0021-\u003A\u003C-\u007E]*$/,eP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,tP=/^[\u0020-\u003A\u003D-\u007E]*$/,rP=Object.prototype.toString,nP=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function aP(t,e){const r=new nP,n=t.length;if(n<2)return r;const a=(e==null?void 0:e.decode)||oP;let o=0;do{const i=t.indexOf("=",o);if(i===-1)break;const l=t.indexOf(";",o),c=l===-1?n:l;if(i>c){o=t.lastIndexOf(";",i-1)+1;continue}const d=C1(t,o,i),u=_1(t,i,d),h=t.slice(d,u);if(r[h]===void 0){let g=C1(t,i+1,c),p=_1(t,c,g);const w=a(t.slice(g,p));r[h]=w}o=c+1}while(o<n);return r}function C1(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function _1(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function sP(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!QA.test(t))throw new TypeError(`argument name is invalid: ${t}`);const a=n(e);if(!ZA.test(a))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+a;if(!r)return o;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);o+="; Max-Age="+r.maxAge}if(r.domain){if(!eP.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);o+="; Domain="+r.domain}if(r.path){if(!tP.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);o+="; Path="+r.path}if(r.expires){if(!iP(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return o}function oP(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function iP(t){return rP.call(t)==="[object Date]"}var E1="popstate";function lP(t={}){function e(n,a){let{pathname:o,search:i,hash:l}=n.location;return Ox("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Th(a)}return dP(e,r,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ho(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cP(){return Math.random().toString(36).substring(2,10)}function A1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ox(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xd(e):e,state:r,key:e&&e.key||n||cP()}}function Th({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function dP(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l="POP",c=null,d=u();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function u(){return(i.state||{idx:null}).idx}function h(){l="POP";let _=u(),v=_==null?null:_-d;d=_,c&&c({action:l,location:b.location,delta:v})}function g(_,v){l="PUSH";let j=Ox(b.location,_,v);d=u()+1;let L=A1(j,d),U=b.createHref(j);try{i.pushState(L,"",U)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(U)}o&&c&&c({action:l,location:b.location,delta:1})}function p(_,v){l="REPLACE";let j=Ox(b.location,_,v);d=u();let L=A1(j,d),U=b.createHref(j);i.replaceState(L,"",U),o&&c&&c({action:l,location:b.location,delta:0})}function w(_){return uP(_)}let b={get action(){return l},get location(){return t(a,i)},listen(_){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(E1,h),c=_,()=>{a.removeEventListener(E1,h),c=null}},createHref(_){return e(a,_)},createURL:w,encodeLocation(_){let v=w(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:p,go(_){return i.go(_)}};return b}function uP(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Th(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function s4(t,e,r="/"){return hP(t,e,r,!1)}function hP(t,e,r,n){let a=typeof e=="string"?Xd(e):e,o=ji(a.pathname||"/",r);if(o==null)return null;let i=o4(t);fP(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=NP(o);l=kP(i[c],d,n)}return l}function o4(t,e=[],r=[],n=""){let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(tn(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let d=gi([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),o4(o.children,e,u,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:vP(d,o.index),routesMeta:u})};return t.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of i4(o.path))a(o,i,c)}),e}function i4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=i4(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function fP(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:wP(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var pP=/^:[\w-]+$/,mP=3,gP=2,yP=1,xP=10,bP=-2,P1=t=>t==="*";function vP(t,e){let r=t.split("/"),n=r.length;return r.some(P1)&&(n+=bP),e&&(n+=gP),r.filter(a=>!P1(a)).reduce((a,o)=>a+(pP.test(o)?mP:o===""?yP:xP),n)}function wP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function kP(t,e,r=!1){let{routesMeta:n}=t,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=x0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),g=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=x0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:gi([o,h.pathname]),pathnameBase:EP(gi([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=gi([o,h.pathnameBase]))}return i}function x0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jP(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:h},g)=>{if(u==="*"){let w=l[g]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const p=l[g];return h&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:t}}function jP(t,e=!1,r=!0){ho(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function NP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ho(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function SP(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Xd(t):t;return{pathname:r?r.startsWith("/")?r:CP(r,e):e,search:AP(n),hash:PP(a)}}function CP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Qg(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _P(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Av(t){let e=_P(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Pv(t,e,r,n=!1){let a;typeof t=="string"?a=Xd(t):(a={...t},tn(!a.pathname||!a.pathname.includes("?"),Qg("?","pathname","search",a)),tn(!a.pathname||!a.pathname.includes("#"),Qg("#","pathname","hash",a)),tn(!a.search||!a.search.includes("#"),Qg("#","search","hash",a)));let o=t===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let h=e.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),h-=1;a.pathname=g.join("/")}l=h>=0?e[h]:"/"}let c=SP(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),EP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var l4=["POST","PUT","PATCH","DELETE"];new Set(l4);var IP=["GET",...l4];new Set(IP);var Qd=D.createContext(null);Qd.displayName="DataRouter";var pm=D.createContext(null);pm.displayName="DataRouterState";var c4=D.createContext({isTransitioning:!1});c4.displayName="ViewTransition";var LP=D.createContext(new Map);LP.displayName="Fetchers";var RP=D.createContext(null);RP.displayName="Await";var po=D.createContext(null);po.displayName="Navigation";var Zh=D.createContext(null);Zh.displayName="Location";var Go=D.createContext({outlet:null,matches:[],isDataRoute:!1});Go.displayName="Route";var Dv=D.createContext(null);Dv.displayName="RouteError";function TP(t,{relative:e}={}){tn(Zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=D.useContext(po),{hash:a,pathname:o,search:i}=tf(t,{relative:e}),l=o;return r!=="/"&&(l=o==="/"?r:gi([r,o])),n.createHref({pathname:l,search:i,hash:a})}function Zd(){return D.useContext(Zh)!=null}function Ol(){return tn(Zd(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Zh).location}var d4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u4(t){D.useContext(po).static||D.useLayoutEffect(t)}function ef(){let{isDataRoute:t}=D.useContext(Go);return t?JP():OP()}function OP(){tn(Zd(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Qd),{basename:e,navigator:r}=D.useContext(po),{matches:n}=D.useContext(Go),{pathname:a}=Ol(),o=JSON.stringify(Av(n)),i=D.useRef(!1);return u4(()=>{i.current=!0}),D.useCallback((c,d={})=>{if(ho(i.current,d4),!i.current)return;if(typeof c=="number"){r.go(c);return}let u=Pv(c,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:gi([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,o,a,t])}D.createContext(null);function tf(t,{relative:e}={}){let{matches:r}=D.useContext(Go),{pathname:n}=Ol(),a=JSON.stringify(Av(r));return D.useMemo(()=>Pv(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function MP(t,e){return h4(t,e)}function h4(t,e,r,n){var v;tn(Zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=D.useContext(po),{matches:o}=D.useContext(Go),i=o[o.length-1],l=i?i.params:{},c=i?i.pathname:"/",d=i?i.pathnameBase:"/",u=i&&i.route;{let j=u&&u.path||"";f4(c,!u||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let h=Ol(),g;if(e){let j=typeof e=="string"?Xd(e):e;tn(d==="/"||((v=j.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${j.pathname}" was given in the \`location\` prop.`),g=j}else g=h;let p=g.pathname||"/",w=p;if(d!=="/"){let j=d.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=s4(t,{pathname:w});ho(u||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ho(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=UP(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:gi([d,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:gi([d,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,r,n);return e&&_?D.createElement(Zh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function FP(){let t=GP(),e=DP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:a},r):null,i)}var BP=D.createElement(FP,null),$P=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(Go.Provider,{value:this.props.routeContext},D.createElement(Dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qP({routeContext:t,match:e,children:r}){let n=D.useContext(Qd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Go.Provider,{value:t},r)}function UP(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r==null?void 0:r.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);tn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let i=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:h}=r,g=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){i=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,u)=>{let h,g=!1,p=null,w=null;r&&(h=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||BP,i&&(l<0&&u===0?(f4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):l===u&&(g=!0,w=d.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,u+1)),_=()=>{let v;return h?v=p:g?v=w:d.route.Component?v=D.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,D.createElement(qP,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?D.createElement($P,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}function Iv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zP(t){let e=D.useContext(Qd);return tn(e,Iv(t)),e}function VP(t){let e=D.useContext(pm);return tn(e,Iv(t)),e}function HP(t){let e=D.useContext(Go);return tn(e,Iv(t)),e}function Lv(t){let e=HP(t),r=e.matches[e.matches.length-1];return tn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function WP(){return Lv("useRouteId")}function GP(){var n;let t=D.useContext(Dv),e=VP("useRouteError"),r=Lv("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function JP(){let{router:t}=zP("useNavigate"),e=Lv("useNavigate"),r=D.useRef(!1);return u4(()=>{r.current=!0}),D.useCallback(async(a,o={})=>{ho(r.current,d4),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var D1={};function f4(t,e,r){!e&&!D1[t]&&(D1[t]=!0,ho(!1,r))}D.memo(KP);function KP({routes:t,future:e,state:r}){return h4(t,void 0,r,e)}function Yu({to:t,replace:e,state:r,relative:n}){tn(Zd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(po);ho(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(Go),{pathname:i}=Ol(),l=ef(),c=Pv(t,Av(o),i,n==="path"),d=JSON.stringify(c);return D.useEffect(()=>{l(JSON.parse(d),{replace:e,state:r,relative:n})},[l,d,n,e,r]),null}function Sr(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YP({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){tn(!Zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:i,navigator:a,static:o,future:{}}),[i,a,o]);typeof r=="string"&&(r=Xd(r));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:g="default"}=r,p=D.useMemo(()=>{let w=ji(c,i);return w==null?null:{location:{pathname:w,search:d,hash:u,state:h,key:g},navigationType:n}},[i,c,d,u,h,g,n]);return ho(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:D.createElement(po.Provider,{value:l},D.createElement(Zh.Provider,{children:e,value:p}))}function XP({children:t,location:e}){return MP(Mx(t),e)}function Mx(t,e=[]){let r=[];return D.Children.forEach(t,(n,a)=>{if(!D.isValidElement(n))return;let o=[...e,a];if(n.type===D.Fragment){r.push.apply(r,Mx(n.props.children,o));return}tn(n.type===Sr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Mx(n.props.children,o)),r.push(i)}),r}var Lp="get",Rp="application/x-www-form-urlencoded";function mm(t){return t!=null&&typeof t.tagName=="string"}function QP(t){return mm(t)&&t.tagName.toLowerCase()==="button"}function ZP(t){return mm(t)&&t.tagName.toLowerCase()==="form"}function eD(t){return mm(t)&&t.tagName.toLowerCase()==="input"}function tD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rD(t,e){return t.button===0&&(!e||e==="_self")&&!tD(t)}var rp=null;function nD(){if(rp===null)try{new FormData(document.createElement("form"),0),rp=!1}catch{rp=!0}return rp}var aD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zg(t){return t!=null&&!aD.has(t)?(ho(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rp}"`),null):t}function sD(t,e){let r,n,a,o,i;if(ZP(t)){let l=t.getAttribute("action");n=l?ji(l,e):null,r=t.getAttribute("method")||Lp,a=Zg(t.getAttribute("enctype"))||Rp,o=new FormData(t)}else if(QP(t)||eD(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?ji(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Lp,a=Zg(t.getAttribute("formenctype"))||Zg(l.getAttribute("enctype"))||Rp,o=new FormData(l,t),!nD()){let{name:d,type:u,value:h}=t;if(u==="image"){let g=d?`${d}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else d&&o.append(d,h)}}else{if(mm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Lp,n=null,a=Rp,i=t}return o&&a==="text/plain"&&(i=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:i}}function Rv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oD(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lD(t,e,r){let n=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let i=await oD(o,r);return i.links?i.links():[]}return[]}));return hD(n.flat(1).filter(iD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function I1(t,e,r,n,a,o){let i=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,d)=>i(c,d)||l(c,d)):o==="data"?e.filter((c,d)=>{var h;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function cD(t,e,{includeHydrateFallback:r}={}){return dD(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function dD(t){return[...new Set(t)]}function uD(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function hD(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let o=JSON.stringify(uD(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fD=new Set([100,101,204,205]);function pD(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&ji(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function p4(){let t=D.useContext(Qd);return Rv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mD(){let t=D.useContext(pm);return Rv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tv=D.createContext(void 0);Tv.displayName="FrameworkContext";function m4(){let t=D.useContext(Tv);return Rv(t,"You must render this element inside a <HydratedRouter> element"),t}function gD(t,e){let r=D.useContext(Tv),[n,a]=D.useState(!1),[o,i]=D.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,g=D.useRef(null);D.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let b=v=>{v.forEach(j=>{i(j.isIntersecting)})},_=new IntersectionObserver(b,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[t]),D.useEffect(()=>{if(n){let b=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(b)}}},[n]);let p=()=>{a(!0)},w=()=>{a(!1),i(!1)};return r?t!=="intent"?[o,g,{}]:[o,g,{onFocus:Bu(l,p),onBlur:Bu(c,w),onMouseEnter:Bu(d,p),onMouseLeave:Bu(u,w),onTouchStart:Bu(h,p)}]:[!1,g,{}]}function Bu(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function yD({page:t,...e}){let{router:r}=p4(),n=D.useMemo(()=>s4(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?D.createElement(bD,{page:t,matches:n,...e}):null}function xD(t){let{manifest:e,routeModules:r}=m4(),[n,a]=D.useState([]);return D.useEffect(()=>{let o=!1;return lD(t,e,r).then(i=>{o||a(i)}),()=>{o=!0}},[t,e,r]),n}function bD({page:t,matches:e,...r}){let n=Ol(),{manifest:a,routeModules:o}=m4(),{basename:i}=p4(),{loaderData:l,matches:c}=mD(),d=D.useMemo(()=>I1(t,e,c,a,n,"data"),[t,e,c,a,n]),u=D.useMemo(()=>I1(t,e,c,a,n,"assets"),[t,e,c,a,n]),h=D.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,b=!1;if(e.forEach(v=>{var L;let j=a.routes[v.route.id];!j||!j.hasLoader||(!d.some(U=>U.route.id===v.route.id)&&v.route.id in l&&((L=o[v.route.id])!=null&&L.shouldRevalidate)||j.hasClientLoader?b=!0:w.add(v.route.id))}),w.size===0)return[];let _=pD(t,i);return b&&w.size>0&&_.searchParams.set("_routes",e.filter(v=>w.has(v.route.id)).map(v=>v.route.id).join(",")),[_.pathname+_.search]},[i,l,n,a,d,e,t,o]),g=D.useMemo(()=>cD(u,a),[u,a]),p=xD(u);return D.createElement(D.Fragment,null,h.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),g.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),p.map(({key:w,link:b})=>D.createElement("link",{key:w,...b})))}function vD(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var g4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g4&&(window.__reactRouterVersion="7.6.1")}catch{}function wD({basename:t,children:e,window:r}){let n=D.useRef();n.current==null&&(n.current=lP({window:r,v5Compat:!0}));let a=n.current,[o,i]=D.useState({action:a.action,location:a.location}),l=D.useCallback(c=>{D.startTransition(()=>i(c))},[i]);return D.useLayoutEffect(()=>a.listen(l),[a,l]),D.createElement(YP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var y4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x4=D.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...g},p){let{basename:w}=D.useContext(po),b=typeof d=="string"&&y4.test(d),_,v=!1;if(typeof d=="string"&&b&&(_=d,g4))try{let A=new URL(window.location.href),P=d.startsWith("//")?new URL(A.protocol+d):new URL(d),x=ji(P.pathname,w);P.origin===A.origin&&x!=null?d=x+P.search+P.hash:v=!0}catch{ho(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=TP(d,{relative:a}),[L,U,M]=gD(n,g),q=SD(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function y(A){e&&e(A),A.defaultPrevented||q(A)}let R=D.createElement("a",{...g,...M,href:_||j,onClick:v||o?e:y,ref:vD(p,U),target:c,"data-discover":!b&&r==="render"?"true":void 0});return L&&!b?D.createElement(D.Fragment,null,R,D.createElement(yD,{page:j})):R});x4.displayName="Link";var kD=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:i,viewTransition:l,children:c,...d},u){let h=tf(i,{relative:d.relative}),g=Ol(),p=D.useContext(pm),{navigator:w,basename:b}=D.useContext(po),_=p!=null&&PD(h)&&l===!0,v=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,j=g.pathname,L=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(j=j.toLowerCase(),L=L?L.toLowerCase():null,v=v.toLowerCase()),L&&b&&(L=ji(L,b)||L);const U=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let M=j===v||!a&&j.startsWith(v)&&j.charAt(U)==="/",q=L!=null&&(L===v||!a&&L.startsWith(v)&&L.charAt(v.length)==="/"),y={isActive:M,isPending:q,isTransitioning:_},R=M?e:void 0,A;typeof n=="function"?A=n(y):A=[n,M?"active":null,q?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(y):o;return D.createElement(x4,{...d,"aria-current":R,className:A,ref:u,style:P,to:i,viewTransition:l},typeof c=="function"?c(y):c)});kD.displayName="NavLink";var jD=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:o,method:i=Lp,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...g},p)=>{let w=ED(),b=AD(l,{relative:d}),_=i.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&y4.test(l),j=L=>{if(c&&c(L),L.defaultPrevented)return;L.preventDefault();let U=L.nativeEvent.submitter,M=(U==null?void 0:U.getAttribute("formmethod"))||i;w(U||L.currentTarget,{fetcherKey:e,method:M,navigate:r,replace:a,state:o,relative:d,preventScrollReset:u,viewTransition:h})};return D.createElement("form",{ref:p,method:_,action:b,onSubmit:n?c:j,...g,"data-discover":!v&&t==="render"?"true":void 0})});jD.displayName="Form";function ND(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b4(t){let e=D.useContext(Qd);return tn(e,ND(t)),e}function SD(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:i}={}){let l=ef(),c=Ol(),d=tf(t,{relative:o});return D.useCallback(u=>{if(rD(u,e)){u.preventDefault();let h=r!==void 0?r:Th(c)===Th(d);l(t,{replace:h,state:n,preventScrollReset:a,relative:o,viewTransition:i})}},[c,l,d,r,n,e,t,a,o,i])}var CD=0,_D=()=>`__${String(++CD)}__`;function ED(){let{router:t}=b4("useSubmit"),{basename:e}=D.useContext(po),r=WP();return D.useCallback(async(n,a={})=>{let{action:o,method:i,encType:l,formData:c,body:d}=sD(n,e);if(a.navigate===!1){let u=a.fetcherKey||_D();await t.fetch(u,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function AD(t,{relative:e}={}){let{basename:r}=D.useContext(po),n=D.useContext(Go);tn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...tf(t||".",{relative:e})},i=Ol();if(t==null){o.search=i.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:gi([r,o.pathname])),Th(o)}function PD(t,e={}){let r=D.useContext(c4);tn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=b4("useViewTransitionState"),a=tf(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=ji(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=ji(r.nextLocation.pathname,n)||r.nextLocation.pathname;return x0(a.pathname,i)!=null||x0(a.pathname,o)!=null}[...fD];/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pt=(t,e)=>{const r=D.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:c,...d},u)=>D.createElement("svg",{ref:u,...DD,width:a,height:a,stroke:n,strokeWidth:i?Number(o)*24/Number(a):o,className:["lucide",`lucide-${ID(t)}`,l].join(" "),...d},[...e.map(([h,g])=>D.createElement(h,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Pt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Pt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Pt("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Pt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Pt("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Pt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Pt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Pt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Pt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Pt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Pt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Pt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=Pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Pt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Pt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Pt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Pt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Pt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Pt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Pt("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=Pt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=Pt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=Pt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Pt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=Pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=Pt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Pt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Pt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=Pt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Pt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Pt("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=Pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=Pt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=Pt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=Pt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function e7({onPageChange:t,currentPage:e}){const[r,n]=D.useState(null),[a,o]=D.useState(!1),i=JSON.parse(localStorage.getItem("userPermissions")||"[]"),l=[{icon:UD,label:"Dashboard",href:"dashboard"},{icon:RD,label:"Pagamentos",href:"payments",submenu:[{label:"Central de Pagamentos",href:"payment-center"},{label:"Solicitaes de Pagamento",href:"payment-requests"}]},{icon:OD,label:"Recebimentos",href:"receivables",submenu:[{label:"Central de Recebimentos",href:"receivables-center"},{label:"Aprovaes de Pagamento",href:"payment-approvals"},{label:"Forecast",href:"receivables-forecast"}]},{icon:w0,label:"Caixas e Bancos",href:"reconciliation",submenu:[{label:"Extrato Bancrio",href:"bank-statement"},{label:"Conciliao de Contas",href:"bank-reconciliation"},{label:"Conciliao de Cartes",href:"credit-card-reconciliation"}]},{icon:ym,label:"Estornos",href:"refunds",submenu:[{label:"Solicitaes de Estorno",href:"refund-requests"},{label:"Motivos de Estorno",href:"refund-reasons"},{label:"Responsveis por Estorno",href:"refund-responsibles"}]},{icon:kc,label:"Balano",href:"balance",submenu:[{label:"Depreciao de Ativos",href:"asset-depreciation"},{label:"Gesto de Passivos",href:"passives"},{label:"Patrimnio Lquido",href:"equity"}]},{icon:Pl,label:"Relatrios",href:"reports",submenu:[{label:"DRE",href:"income-statement"},{label:"Fluxo de Caixa",href:"cash-flow"},{label:"Exportao Contbil",href:"accounting-export"}]},{icon:JD,label:"Configuraes",href:"settings",submenu:[{label:"Cadastro de CNPJs",href:"cnpjs"},{label:"Usurios",href:"users"},{label:"Permisses",href:"permissions"},{label:"Categorias Financeiras",href:"financial-categories"},{label:"Formas de Pagamento",href:"payment-methods"},{label:"Contas Bancrias",href:"bank-accounts"},{label:"Configurao de E-mail",href:"email-config"},{label:"Configurao DDA",href:"dda-config"},{label:"Alertas Financeiros",href:"alerts"}]},{icon:VD,label:"Sair",href:"logout"}],c=h=>{n(r===h?null:h)},d=(h,g)=>{g.stopPropagation(),t(h),n(null)},u=h=>i.includes(h);return s.jsxs("aside",{className:`fixed left-0 top-0 h-screen bg-white dark:bg-secondary-900 border-r border-secondary-200 dark:border-secondary-800 z-20 transition-all duration-300 ease-in-out ${a?"w-64":"w-16"}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[s.jsx("div",{className:"h-16 flex items-center justify-center px-4 border-b border-secondary-200 dark:border-secondary-800",children:a?s.jsx("h1",{className:"text-xl font-semibold text-secondary-900 dark:text-white truncate transition-all duration-300",children:"Sistema Financeiro"}):s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"SF"})})}),s.jsx("nav",{className:"mt-4 overflow-y-auto h-[calc(100vh-4rem)]",children:l.filter(h=>h.href==="logout"?!0:h.submenu?h.submenu.some(g=>u(g.href)):u(h.href)).map(h=>s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h.submenu?c(h.href):t(h.href),className:`w-full flex items-center px-4 py-3 text-secondary-600 dark:text-secondary-300 hover:bg-primary-50 dark:hover:bg-secondary-800 hover:text-primary-600 dark:hover:text-primary-400 transition-colors ${e===h.href||h.submenu&&h.submenu.some(g=>g.href===e)?"bg-primary-50 dark:bg-secondary-800 text-primary-600 dark:text-primary-400":""}`,children:[s.jsx(h.icon,{className:`h-5 w-5 min-w-[20px] ${a?"mr-3":"mx-auto"}`}),a&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium whitespace-nowrap",children:h.label}),h.submenu&&s.jsx(Ov,{className:`h-4 w-4 ml-auto transition-transform duration-300 ${r===h.href?"rotate-90":""}`})]})]}),a&&h.submenu&&r===h.href&&s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"ml-12 py-2",children:h.submenu.filter(g=>u(g.href)).map(g=>s.jsx("button",{onClick:p=>d(g.href,p),className:`w-full text-left px-4 py-2 text-sm text-secondary-600 dark:text-secondary-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors whitespace-nowrap ${e===g.href?"text-primary-600 dark:text-primary-400":""}`,children:g.label},g.href))})})]},h.href))})]})}function t7({theme:t,onThemeToggle:e}){return s.jsx("header",{className:"h-16 bg-white dark:bg-secondary-900 border-b border-secondary-200 dark:border-secondary-800 fixed top-0 right-0 left-16 z-10",children:s.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{className:"flex items-center space-x-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-2 text-secondary-700 dark:text-secondary-200 hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx("span",{children:"Todos os CNPJs"}),s.jsx(Ni,{className:"h-4 w-4"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"p-2 hover:bg-primary-50 dark:hover:bg-secondary-800 rounded-lg text-secondary-600 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.jsx(BD,{className:"h-5 w-5"})}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-primary-50 dark:hover:bg-secondary-800 rounded-lg text-secondary-600 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t==="light"?s.jsx(WD,{className:"h-5 w-5"}):s.jsx(XD,{className:"h-5 w-5"})}),s.jsx("div",{className:"flex items-center space-x-3 pl-4 border-l border-secondary-200 dark:border-secondary-700",children:s.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"JD"})})})]})]})})}function un({children:t,requiredPermission:e}){return JSON.parse(localStorage.getItem("userPermissions")||"[]").includes(e)?t:s.jsx(Yu,{to:"/login",replace:!0})}const r7="modulepreload",n7=function(t){return"/"+t},T1={},Ci=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=n7(c),c in T1)return;T1[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":r7,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,p)=>{h.addEventListener("load",g),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},a7=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>eu);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Bv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class s7 extends Bv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o7 extends Bv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class i7 extends Bv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bx||(Bx={}));var l7=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class c7{constructor(e,{headers:r={},customFetch:n,region:a=Bx.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=a7(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return l7(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(w=>{throw new s7(w)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new o7(u);if(!u.ok)throw new i7(u);let g=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return g==="application/json"?p=yield u.json():g==="application/octet-stream"?p=yield u.blob():g==="text/event-stream"?p=u:g==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var za={},$v={},xm={},rf={},bm={},vm={},d7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$d=d7();const u7=$d.fetch,_4=$d.fetch.bind($d),E4=$d.Headers,h7=$d.Request,f7=$d.Response,eu=Object.freeze(Object.defineProperty({__proto__:null,Headers:E4,Request:h7,Response:f7,default:_4,fetch:u7},Symbol.toStringTag,{value:"Module"})),p7=C_(eu);var wm={};Object.defineProperty(wm,"__esModule",{value:!0});let m7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};wm.default=m7;var A4=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vm,"__esModule",{value:!0});const g7=A4(p7),y7=A4(wm);let x7=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=g7.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let d=null,u=null,h=null,g=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const b=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),_=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,g=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const b=await o.text();try{d=JSON.parse(b),Array.isArray(d)&&o.status===404&&(u=[],d=null,g=200,p="OK")}catch{o.status===404&&b===""?(g=204,p="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,g=200,p="OK"),d&&this.shouldThrowOnError)throw new y7.default(d)}return{error:d,data:u,count:h,status:g,statusText:p}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};vm.default=x7;var b7=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bm,"__esModule",{value:!0});const v7=b7(vm);let w7=class extends v7.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bm.default=w7;var k7=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rf,"__esModule",{value:!0});const j7=k7(bm);let N7=class extends j7.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};rf.default=N7;var S7=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xm,"__esModule",{value:!0});const $u=S7(rf);let C7=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new $u.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new $u.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new $u.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new $u.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new $u.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xm.default=C7;var km={},jm={};Object.defineProperty(jm,"__esModule",{value:!0});jm.version=void 0;jm.version="0.0.0-automated";Object.defineProperty(km,"__esModule",{value:!0});km.DEFAULT_HEADERS=void 0;const _7=jm;km.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_7.version}`};var P4=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($v,"__esModule",{value:!0});const E7=P4(xm),A7=P4(rf),P7=km;let D7=class D4{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},P7.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new E7.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new D4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let c;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(i="POST",c=r);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new A7.default({method:i,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};$v.default=D7;var tu=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(za,"__esModule",{value:!0});za.PostgrestError=za.PostgrestBuilder=za.PostgrestTransformBuilder=za.PostgrestFilterBuilder=za.PostgrestQueryBuilder=za.PostgrestClient=void 0;const I4=tu($v);za.PostgrestClient=I4.default;const L4=tu(xm);za.PostgrestQueryBuilder=L4.default;const R4=tu(rf);za.PostgrestFilterBuilder=R4.default;const T4=tu(bm);za.PostgrestTransformBuilder=T4.default;const O4=tu(vm);za.PostgrestBuilder=O4.default;const M4=tu(wm);za.PostgrestError=M4.default;var I7=za.default={PostgrestClient:I4.default,PostgrestQueryBuilder:L4.default,PostgrestFilterBuilder:R4.default,PostgrestTransformBuilder:T4.default,PostgrestBuilder:O4.default,PostgrestError:M4.default};const{PostgrestClient:L7,PostgrestQueryBuilder:tG,PostgrestFilterBuilder:rG,PostgrestTransformBuilder:nG,PostgrestBuilder:aG,PostgrestError:sG}=I7,R7="2.11.2",T7={"X-Client-Info":`realtime-js/${R7}`},O7="1.0.0",F4=1e4,M7=1e3;var kd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kd||(kd={}));var cs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(cs||(cs={}));var oo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(oo||(oo={}));var $x;(function(t){t.websocket="websocket"})($x||($x={}));var ec;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ec||(ec={}));class F7{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(e.slice(i,i+a));i=i+a;const c=n.decode(e.slice(i,i+o));i=i+o;const d=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}let B4=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Vr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Vr||(Vr={}));const O1=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=B7(i,t,e,a),o),{})},B7=(t,e,r,n)=>{const a=e.find(l=>l.name===t),o=a==null?void 0:a.type,i=r[t];return o&&!n.includes(o)?$4(o,i):qx(i)},$4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return z7(e,r)}switch(t){case Vr.bool:return $7(e);case Vr.float4:case Vr.float8:case Vr.int2:case Vr.int4:case Vr.int8:case Vr.numeric:case Vr.oid:return q7(e);case Vr.json:case Vr.jsonb:return U7(e);case Vr.timestamp:return V7(e);case Vr.abstime:case Vr.date:case Vr.daterange:case Vr.int4range:case Vr.int8range:case Vr.money:case Vr.reltime:case Vr.text:case Vr.time:case Vr.timestamptz:case Vr.timetz:case Vr.tsrange:case Vr.tstzrange:return qx(e);default:return qx(e)}},qx=t=>t,$7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},q7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},U7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},z7=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>$4(e,l))}return t},V7=t=>typeof t=="string"?t.replace(" ","T"):t,q4=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ey{constructor(e,r,n={},a=F4){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var M1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(M1||(M1={}));class ch{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ch.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=ch.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ch.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const o=this.cloneDeep(e),i=this.transformState(r),l={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const h=o[d];if(h){const g=u.map(_=>_.presence_ref),p=h.map(_=>_.presence_ref),w=u.filter(_=>p.indexOf(_.presence_ref)<0),b=h.filter(_=>g.indexOf(_.presence_ref)<0);w.length>0&&(l[d]=w),b.length>0&&(c[d]=b)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(p=>p.presence_ref),g=u.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...g)}n(l,u,c)}),this.map(i,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var F1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(F1||(F1={}));var B1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(B1||(B1={}));var di;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(di||(di={}));class qv{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=cs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ey(this,oo.join,this.params,this.timeout),this.rejoinTimer=new B4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new ch(this),this.broadcastEndpointURL=q4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(u=>e==null?void 0:e(di.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(di.CLOSED));const c={},d={broadcast:o,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(di.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,p=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,w=[];for(let b=0;b<p;b++){const _=g[b],{filter:{event:v,schema:j,table:L,filter:U}}=_,M=u&&u[b];if(M&&M.event===v&&M.schema===j&&M.table===L&&M.filter===U)w.push(Object.assign(Object.assign({},_),{id:M.id}));else{this.unsubscribe(),e==null||e(di.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(di.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(di.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(di.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=cs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new ey(this,oo.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ey(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,o;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=oo;if(n&&[l,c,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let g=this._onMessage(i,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var w,b,_;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(b=p.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===i}).map(p=>p.callback(g,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,b,_,v,j,L;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const U=p.id,M=(w=p.filter)===null||w===void 0?void 0:w.event;return U&&((b=r.ids)===null||b===void 0?void 0:b.includes(U))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const U=(j=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return U==="*"||U===((L=r==null?void 0:r.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:b,table:_,commit_timestamp:v,type:j,errors:L}=w;g=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:v,eventType:j,new:{},old:{},errors:L}),this._getPayloadRecords(w))}p.callback(g,n)})}_isClosed(){return this.state===cs.closed}_isJoined(){return this.state===cs.joined}_isJoining(){return this.state===cs.joining}_isLeaving(){return this.state===cs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&qv.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oo.close,{},e)}_onError(e){this._on(oo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=O1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=O1(e.columns,e.old_record)),r}}const H7=()=>{},W7=typeof WebSocket<"u",G7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class J7{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=T7,this.params={},this.timeout=F4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=H7,this.conn=null,this.sendBuffer=[],this.serializer=new F7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Ci(async()=>{const{default:c}=await Promise.resolve().then(()=>eu);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${e}/${$x.websocket}`,this.httpEndpoint=q4(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new B4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(W7){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new K7(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ci(async()=>{const{default:e}=await import("./browser-iY3M9LWo.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:O7}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kd.connecting:return ec.Connecting;case kd.open:return ec.Open;case kd.closing:return ec.Closing;default:return ec.Closed}}isConnected(){return this.connectionState()===ec.Open}channel(e,r={config:{}}){const n=new qv(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:a,ref:o}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(oo.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(M7,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(oo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([G7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class K7{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=kd.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Uv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Y7 extends Uv{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ux extends Uv{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var X7=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const U4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>eu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Q7=()=>X7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ci(()=>Promise.resolve().then(()=>eu),void 0)).Response:Response}),zx=t=>{if(Array.isArray(t))return t.map(r=>zx(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=zx(n)}),e};var Nc=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const ty=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z7=(t,e,r)=>Nc(void 0,void 0,void 0,function*(){const n=yield Q7();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new Y7(ty(a),t.status||500))}).catch(a=>{e(new Ux(ty(a),a))}):e(new Ux(ty(t),t))}),eI=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function nf(t,e,r,n,a,o){return Nc(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(r,eI(e,n,a,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Z7(c,l,n))})})}function k0(t,e,r,n){return Nc(this,void 0,void 0,function*(){return nf(t,"GET",e,r,n)})}function ol(t,e,r,n,a){return Nc(this,void 0,void 0,function*(){return nf(t,"POST",e,n,a,r)})}function tI(t,e,r,n,a){return Nc(this,void 0,void 0,function*(){return nf(t,"PUT",e,n,a,r)})}function rI(t,e,r,n){return Nc(this,void 0,void 0,function*(){return nf(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function z4(t,e,r,n,a){return Nc(this,void 0,void 0,function*(){return nf(t,"DELETE",e,n,a,r)})}var qa=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const nI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aI{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=U4(a)}uploadOrUpdate(e,r,n,a){return qa(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},$1),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),g=yield h.json();return h.ok?{data:{path:d,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(o){if(Jn(o))return{data:null,error:o};throw o}})}upload(e,r,n){return qa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return qa(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:$1.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),g=yield h.json();return h.ok?{data:{path:o,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(Jn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return qa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield ol(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Uv("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}update(e,r,n){return qa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return qa(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return qa(this,void 0,void 0,function*(){try{return{data:{path:(yield ol(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return qa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield ol(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return qa(this,void 0,void 0,function*(){try{const a=yield ol(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}download(e,r){return qa(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield k0(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Jn(l))return{data:null,error:l};throw l}})}info(e){return qa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield k0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:zx(n),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}exists(e){return qa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield rI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Jn(n)&&n instanceof Ux){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return qa(this,void 0,void 0,function*(){try{return{data:yield z4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}list(e,r,n){return qa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},nI),r),{prefix:e||""});return{data:yield ol(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const sI="2.7.1",oI={"X-Client-Info":`storage-js/${sI}`};var Jc=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class iI{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},oI),r),this.fetch=U4(n)}listBuckets(){return Jc(this,void 0,void 0,function*(){try{return{data:yield k0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Jn(e))return{data:null,error:e};throw e}})}getBucket(e){return Jc(this,void 0,void 0,function*(){try{return{data:yield k0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Jc(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Jc(this,void 0,void 0,function*(){try{return{data:yield tI(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Jc(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Jc(this,void 0,void 0,function*(){try{return{data:yield z4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}}class lI extends iI{constructor(e,r={},n){super(e,r,n)}from(e){return new aI(this.url,this.headers,e,this.fetch)}}const cI="2.49.8";let Xu="";typeof Deno<"u"?Xu="deno":typeof document<"u"?Xu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xu="react-native":Xu="node";const dI={"X-Client-Info":`supabase-js-${Xu}/${cI}`},uI={headers:dI},hI={schema:"public"},fI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pI={};var mI=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const gI=t=>{let e;return t?e=t:typeof fetch>"u"?e=_4:e=fetch,(...r)=>e(...r)},yI=()=>typeof Headers>"u"?E4:Headers,xI=(t,e,r)=>{const n=gI(r),a=yI();return(o,i)=>mI(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:d}))})};var bI=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function vI(t){return t.endsWith("/")?t:t+"/"}function wI(t,e){var r,n;const{db:a,auth:o,realtime:i,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,g={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bI(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const V4="2.69.1",ed=30*1e3,Vx=3,ry=Vx*ed,kI="http://localhost:9999",jI="supabase.auth.token",NI={"X-Client-Info":`gotrue-js/${V4}`},Hx="X-Supabase-Api-Version",H4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CI=6e5;class zv extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Zt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _I extends zv{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function EI(t){return Zt(t)&&t.name==="AuthApiError"}class W4 extends zv{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ml extends zv{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class rl extends Ml{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AI(t){return Zt(t)&&t.name==="AuthSessionMissingError"}class ny extends Ml{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class np extends Ml{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ap extends Ml{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PI(t){return Zt(t)&&t.name==="AuthImplicitGrantRedirectError"}class q1 extends Ml{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wx extends Ml{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ay(t){return Zt(t)&&t.name==="AuthRetryableFetchError"}class U1 extends Ml{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class dh extends Ml{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const z1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),V1=` 	
\r=`.split(""),DI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<V1.length;e+=1)t[V1[e].charCodeAt(0)]=-2;for(let e=0;e<z1.length;e+=1)t[z1[e].charCodeAt(0)]=e;return t})();function G4(t,e,r){const n=DI[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function H1(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{RI(i,n,r)};for(let i=0;i<t.length;i+=1)G4(t.charCodeAt(i),a,o);return e.join("")}function II(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LI(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}II(n,e)}}function RI(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function TI(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)G4(t.charCodeAt(a),r,n);return new Uint8Array(e)}function OI(t){const e=[];return LI(t,r=>e.push(r)),new Uint8Array(e)}function MI(t){return Math.round(Date.now()/1e3)+t}function FI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Lo=()=>typeof window<"u"&&typeof document<"u",Jl={tested:!1,writable:!1},uh=()=>{if(!Lo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jl.tested)return Jl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jl.tested=!0,Jl.writable=!0}catch{Jl.tested=!0,Jl.writable=!1}return Jl.writable};function BI(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const J4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ci(async()=>{const{default:n}=await Promise.resolve().then(()=>eu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},$I=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",K4=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},sp=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},op=async(t,e)=>{await t.removeItem(e)};class Nm{constructor(){this.promise=new Nm.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Nm.promiseConstructor=Promise;function sy(t){const e=t.split(".");if(e.length!==3)throw new dh("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!SI.test(e[n]))throw new dh("JWT not in base64url format");return{header:JSON.parse(H1(e[0])),payload:JSON.parse(H1(e[1])),signature:TI(e[2]),raw:{header:e[0],payload:e[1]}}}async function qI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function UI(t,e){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){a(i);return}}})()})}function zI(t){return("0"+t.toString(16)).substr(-2)}function VI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,zI).join("")}async function HI(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function WI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await HI(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kc(t,e,r=!1){const n=VI();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await K4(t,`${e}-code-verifier`,a);const o=await WI(n);return[o,n===o?"plain":"s256"]}const GI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JI(t){const e=t.headers.get(Hx);if(!e||!e.match(GI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function KI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function YI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var XI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Ql=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QI=[502,503,504];async function W1(t){var e;if(!$I(t))throw new Wx(Ql(t),0);if(QI.includes(t.status))throw new Wx(Ql(t),t.status);let r;try{r=await t.json()}catch(o){throw new W4(Ql(o),o)}let n;const a=JI(t);if(a&&a.getTime()>=H4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new U1(Ql(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new rl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new U1(Ql(r),t.status,r.weak_password.reasons);throw new _I(Ql(r),t.status||500,n)}const ZI=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ir(t,e,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[Hx]||(o[Hx]=H4["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await eL(t,e,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function eL(t,e,r,n,a,o){const i=ZI(e,n,a,o);let l;try{l=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new Wx(Ql(c),0)}if(l.ok||await W1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await W1(c)}}function nl(t){var e;let r=null;aL(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=MI(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function G1(t){const e=nl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function dl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tL(t){return{data:t,error:null}}function rL(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=t,i=XI(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function nL(t){return t}function aL(t){return t.access_token&&t.refresh_token&&t.expires_in}var sL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class oL{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=J4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await ir(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ir(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:dl})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sL(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ir(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:rL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Zt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ir(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dl})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ir(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:nL});if(u.error)throw u.error;const h=await u.json(),g=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);d[`${_}Page`]=b}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Zt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await ir(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dl})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await ir(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:dl})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await ir(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:dl})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await ir(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await ir(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}}const iL={getItem:t=>uh()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{uh()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{uh()&&globalThis.localStorage.removeItem(t)}};function J1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function lL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yc={debug:!!(globalThis&&uh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Y4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cL extends Y4{}async function dL(t,e,r){Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}lL();const uL={url:kI,storageKey:jI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function K1(t,e,r){return await r()}class Mh{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mh.nextInstanceID,Mh.nextInstanceID+=1,this.instanceID>0&&Lo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},uL),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new oL({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=J4(a.fetch),this.lock=a.lock||K1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Lo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=dL:this.lock=K1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:uh()?this.storage=iL:(this.memoryStorage={},this.storage=J1(this.memoryStorage)):(this.memoryStorage={},this.storage=J1(this.memoryStorage)),Lo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${V4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=BI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lo()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),PI(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Zt(r)?{error:r}:{error:new W4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:nl}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Zt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,a;try{let o;if("email"in e){const{email:u,password:h,options:g}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Kc(this.storage,this.storageKey)),o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:u,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:w},xform:nl})}else if("phone"in e){const{phone:u,password:h,options:g}=e;o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:nl})}else throw new np("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Zt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:l}=e;r=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:G1})}else if("phone"in e){const{phone:o,password:i,options:l}=e;r=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:G1})}else throw new np("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ny}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await sp(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:i}=await ir(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:nl});if(await op(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ny}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(Zt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:o,nonce:i}=e,l=await ir(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nl}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ny}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,o,i;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Kc(this.storage,this.storageKey));const{error:h}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new np("You must provide either an email or phone number.")}catch(l){if(Zt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ir(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:nl});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Zt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Kc(this.storage,this.storageKey)),await ir(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:tL})}catch(o){if(Zt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new rl;const{error:a}=await ir(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Zt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:o}=e,{error:i}=await ir(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:a,options:o}=e,{data:i,error:l}=await ir(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new np("You must provide either an email or phone number and a type")}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await sp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ry:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dl}):await this._useSession(async r=>{var n,a,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rl}:await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:dl})})}catch(r){if(Zt(r))return AI(r)&&(await this._removeSession(),await op(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new rl;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Kc(this.storage,this.storageKey));const{data:d,error:u}=await ir(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:dl});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rl;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:i}=sy(e.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Zt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:l}=r;if(l)throw l;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new rl;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Lo())throw new ap("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ap(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new q1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ap("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new q1("No code detected.");const{data:j,error:L}=await this._exchangeCodeForSession(e.code);if(L)throw L;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=e;if(!o||!l||!i||!d)throw new ap("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let g=u+h;c&&(g=parseInt(c));const p=g-u;p*1e3<=ed&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=g-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,u);const{data:b,error:_}=await this._getUser(o);if(_)throw _;const v={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:h,expires_at:g,refresh_token:i,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(Zt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await sp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{error:o};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(EI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await op(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=FI(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Kc(this.storage,this.storageKey,!0));try{return await ir(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Zt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var i,l,c,d,u;const{data:h,error:g}=o;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ir(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Lo()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Zt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)throw i;return await ir(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await UI(async a=>(a>0&&await qI(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ir(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nl})),(a,o)=>{const i=200*Math.pow(2,a);return o&&ay(o)&&Date.now()+i-n<ed})}catch(n){if(this._debug(r,"error",n),Zt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Lo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await sp(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ry;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ry}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ay(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new rl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Nm;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new rl;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),Zt(o)){const i={session:null,error:o};return ay(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await K4(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await op(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ed);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/ed);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ed}ms, refresh threshold is ${Vx} ticks`),a<=Vx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Y4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Kc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await ir(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await ir(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await ir(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await ir(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=sy(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(i=>i.kid===e);if(n||(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+CI>Date.now()))return n;const{data:a,error:o}=await ir(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new dh("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===e),!n)throw new dh("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=sy(n);if(KI(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:a,signature:i},error:null}}const d=YI(a.alg),u=await this.fetchJwk(a.kid,r),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,OI(`${l}.${c}`)))throw new dh("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}}Mh.nextInstanceID=0;const hL=Mh;class fL extends hL{constructor(e){super(e)}}var pL=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(h){i(h)}}function c(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class mL{constructor(e,r,n){var a,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=vI(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:hI,realtime:pI,auth:Object.assign(Object.assign({},fI),{storageKey:d}),global:uI},h=wI(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=xI(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new L7(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new c7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new lI(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return pL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:o,flowType:i,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fL({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new J7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gL=(t,e,r)=>new mL(t,e,r),yL="https://lvlhrluhrmvfyutbywwn.supabase.co",xL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2bGhybHVocm12Znl1dGJ5d3duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcyMjY1MDAsImV4cCI6MjA1MjgwMjUwMH0.E_vxC0uXwcxZoyVURoR3un4UC2cFifORCNNWcH-UxwY",Ee=gL(yL,xL,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1},global:{headers:{"X-Client-Info":"supabase-js-web"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});Ee.handleFailedRequest=async t=>{if(console.error("Supabase request failed:",t),t.message==="Failed to fetch"||t.code==="NETWORK_ERROR")throw new Error("No foi possvel conectar ao banco de dados. Por favor, verifique sua conexo e tente novamente.");if(t.status===401){const{data:{session:e},error:r}=await Ee.auth.getSession();throw r||!e?new Error("Sesso expirada. Por favor, faa login novamente."):new Error("Sesso atualizada. Por favor, tente novamente.")}throw new Error("Erro ao acessar o banco de dados. Por favor, tente novamente.")};const bL=async(t,e=3,r=1e3)=>{let n;for(let a=0;a<e;a++)try{return await t()}catch(o){n=o,a<e-1&&await new Promise(i=>setTimeout(i,r*(a+1)))}throw n};async function vL(t){const e=t.replace(/[^\d]/g,"");try{const r=await fetch(`https://brasilapi.com.br/api/cnpj/v1/${e}`);if(!r.ok)throw new Error("CNPJ no encontrado ou servio indisponvel");const n=await r.json();return{razao_social:n.razao_social,nome_fantasia:n.nome_fantasia||"",inscricao_estadual:"",situacao:n.descricao_situacao_cadastral,data_abertura:n.data_inicio_atividade,endereco:{logradouro:n.logradouro,numero:n.numero,bairro:n.bairro,cidade:n.municipio,uf:n.uf,cep:n.cep},email:n.email||"",telefone:n.ddd_telefone_1||""}}catch(r){throw console.error("Erro ao buscar dados do CNPJ:",r),new Error("No foi possvel buscar os dados do CNPJ")}}async function X4(){try{const{data:t,error:e}=await Ee.from("cnpjs").select("*").order("name");if(e)throw e;return t||[]}catch(t){throw console.error("Erro ao listar CNPJs:",t),t}}async function wL(t){try{const{data:e,error:r}=await Ee.from("cnpjs").insert([{...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return e}catch(e){throw console.error("Erro ao criar CNPJ:",e),new Error("No foi possvel criar o CNPJ")}}async function kL(t,e){try{const{data:r,error:n}=await Ee.from("cnpjs").update({...e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Erro ao atualizar CNPJ:",r),new Error("No foi possvel atualizar o CNPJ")}}async function jL(t){try{const{data:e,error:r}=await Ee.from("payment_requests").select("id").eq("cnpj_id",t);if(r)throw r;if(e&&e.length>0)throw new Error("No  possvel excluir este CNPJ pois existem solicitaes de pagamento vinculadas a ele.");const{data:n,error:a}=await Ee.from("bank_accounts").select("id").eq("cnpjId",t);if(a)throw a;if(n&&n.length>0)throw new Error("No  possvel excluir este CNPJ pois existem contas bancrias vinculadas a ele.");const{data:o,error:i}=await Ee.from("email_configs").select("id").eq("cnpj_id",t);if(i)throw i;if(o&&o.length>0)throw new Error("No  possvel excluir este CNPJ pois existem configuraes de e-mail vinculadas a ele.");const{data:l,error:c}=await Ee.from("dda_configs").select("id").eq("cnpj_id",t);if(c)throw c;if(l&&l.length>0)throw new Error("No  possvel excluir este CNPJ pois existem configuraes DDA vinculadas a ele.");const{error:d}=await Ee.from("cnpjs").delete().eq("id",t);if(d)throw d}catch(e){throw console.error("Erro ao excluir CNPJ:",e),e}}async function NL(t,e){try{const{data:r,error:n}=await Ee.from("cnpjs").update({active:e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Erro ao alterar status do CNPJ:",r),new Error("No foi possvel alterar o status do CNPJ")}}function SL(t){return t.replace(/\D/g,"").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")}function CL(t){const e=t.replace(/[^\d]/g,"");if(e.length!==14||/^(\d)\1+$/.test(e))return!1;let r=0,n=5;for(let o=0;o<12;o++)r+=parseInt(e[o])*n,n=n===2?9:n-1;let a=r%11<2?0:11-r%11;if(a!==parseInt(e[12]))return!1;r=0,n=6;for(let o=0;o<13;o++)r+=parseInt(e[o])*n,n=n===2?9:n-1;return a=r%11<2?0:11-r%11,a===parseInt(e[13])}function jd(t){return t.replace(/[^\d]/g,"").length>11}async function Q4(){try{const{data:t,error:e}=await Ee.from("bank_accounts").select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).order("name");if(e)throw e;return t||[]}catch(t){return console.error("Erro ao listar contas bancrias:",t),[]}}async function _L(t){try{const{data:e,error:r}=await Ee.from("bank_accounts").insert([{...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(r)throw r;return e}catch(e){return console.error("Erro ao criar conta bancria:",e),null}}async function EL(t,e){try{const{data:r,error:n}=await Ee.from("bank_accounts").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar conta bancria:",r),null}}async function AL(t){try{const{error:e}=await Ee.from("bank_accounts").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Erro ao excluir conta bancria:",e),!1}}async function PL(t,e){try{const{data:r,error:n}=await Ee.from("bank_accounts").update({active:e,updated_at:new Date().toISOString()}).eq("id",t).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da conta bancria:",r),null}}function DL({isOpen:t,onClose:e,cnpj:r,onSuccess:n}){const[a,o]=D.useState({cnpj:"",name:"",tradingName:"",stateRegistration:"",registrationStatus:"",openingDate:"",address:"",number:"",neighborhood:"",city:"",state:"",zipCode:"",email:"",phone:"",active:!0,bank_account_id:""}),[i,l]=D.useState(!1),[c,d]=D.useState(""),[u,h]=D.useState([]);D.useEffect(()=>{o(r?{cnpj:r.cnpj,name:r.name,tradingName:r.tradingName||"",stateRegistration:r.stateRegistration||"",registrationStatus:r.registrationStatus||"",openingDate:r.openingDate||"",address:r.address||"",number:r.number||"",neighborhood:r.neighborhood||"",city:r.city||"",state:r.state||"",zipCode:r.zipCode||"",email:r.email||"",phone:r.phone||"",active:r.active,bank_account_id:r.bank_account_id||""}:{cnpj:"",name:"",tradingName:"",stateRegistration:"",registrationStatus:"",openingDate:"",address:"",number:"",neighborhood:"",city:"",state:"",zipCode:"",email:"",phone:"",active:!0,bank_account_id:""})},[r]),D.useEffect(()=>{(async()=>{try{const b=await Q4();console.log(b),h(b)}catch(b){console.error("Error loading bank accounts:",b)}})()},[]);const g=async w=>{const b=SL(w);if(o(_=>({..._,cnpj:b})),b.length===18&&CL(b)){l(!0),d("");try{const _=await vL(b);o(v=>({...v,name:_.razao_social,tradingName:_.nome_fantasia,stateRegistration:_.inscricao_estadual,registrationStatus:_.situacao,openingDate:_.data_abertura,address:_.endereco.logradouro,number:_.endereco.numero,neighborhood:_.endereco.bairro,city:_.endereco.cidade,state:_.endereco.uf,zipCode:_.endereco.cep,email:_.email,phone:_.telefone}))}catch{d("No foi possvel buscar os dados do CNPJ. Por favor, preencha manualmente.")}finally{l(!1)}}},p=async w=>{w.preventDefault(),l(!0),d("");try{r?await kL(r.id,a):await wL(a),n()}catch{d("Erro ao salvar CNPJ. Por favor, tente novamente.")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10 rounded-t-xl",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar CNPJ":"Adicionar Novo CNPJ"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:p,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[c&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:c}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("input",{type:"text",value:a.cnpj,onChange:w=>g(w.target.value),disabled:i||!!r,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",placeholder:"00.000.000/0001-00"})]}),s.jsxs("div",{className:"",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Razo Social"}),s.jsx("input",{type:"text",value:a.name,onChange:w=>o(b=>({...b,name:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:a.tradingName,onChange:w=>o(b=>({...b,tradingName:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Inscrio Estadual"}),s.jsx("input",{type:"text",value:a.stateRegistration,onChange:w=>o(b=>({...b,stateRegistration:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Endereo"}),s.jsx("input",{type:"text",value:a.address,onChange:w=>o(b=>({...b,address:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero"}),s.jsx("input",{type:"text",value:a.number,onChange:w=>o(b=>({...b,number:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:a.neighborhood,onChange:w=>o(b=>({...b,neighborhood:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:a.city,onChange:w=>o(b=>({...b,city:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Estado"}),s.jsxs("select",{value:a.state,onChange:w=>o(b=>({...b,state:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione um estado"}),s.jsx("option",{value:"AC",children:"Acre"}),s.jsx("option",{value:"AL",children:"Alagoas"}),s.jsx("option",{value:"AP",children:"Amap"}),s.jsx("option",{value:"AM",children:"Amazonas"}),s.jsx("option",{value:"BA",children:"Bahia"}),s.jsx("option",{value:"CE",children:"Cear"}),s.jsx("option",{value:"DF",children:"Distrito Federal"}),s.jsx("option",{value:"ES",children:"Esprito Santo"}),s.jsx("option",{value:"GO",children:"Gois"}),s.jsx("option",{value:"MA",children:"Maranho"}),s.jsx("option",{value:"MT",children:"Mato Grosso"}),s.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),s.jsx("option",{value:"MG",children:"Minas Gerais"}),s.jsx("option",{value:"PA",children:"Par"}),s.jsx("option",{value:"PB",children:"Paraba"}),s.jsx("option",{value:"PR",children:"Paran"}),s.jsx("option",{value:"PE",children:"Pernambuco"}),s.jsx("option",{value:"PI",children:"Piau"}),s.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),s.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),s.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),s.jsx("option",{value:"RO",children:"Rondnia"}),s.jsx("option",{value:"RR",children:"Roraima"}),s.jsx("option",{value:"SC",children:"Santa Catarina"}),s.jsx("option",{value:"SP",children:"So Paulo"}),s.jsx("option",{value:"SE",children:"Sergipe"}),s.jsx("option",{value:"TO",children:"Tocantins"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CEP"}),s.jsx("input",{type:"text",value:a.zipCode,onChange:w=>o(b=>({...b,zipCode:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Padro"}),s.jsxs("select",{value:a.bank_account_id,onChange:w=>o(b=>({...b,bank_account_id:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.bank," - ",w.branch,"/",w.account]},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:w=>o(b=>({...b,email:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:a.phone,onChange:w=>o(b=>({...b,phone:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-6 border-t border-secondary-200 dark:border-secondary-700 sticky bottom-0 bg-white dark:bg-secondary-800 rounded-b-xl",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar CNPJ"})]})]})]})}):null}function IL({cnpjs:t,onEdit:e,onDelete:r,onToggleStatus:n}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(kc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum CNPJ cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Novo CNPJ" para comear a cadastrar empresas no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Razo Social"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome Fantasia"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.cnpj}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.tradingName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},a.cnpj))})]})})}function Pi({isOpen:t,onClose:e,title:r,description:n,confirmLabel:a,cancelLabel:o,confirmVariant:i="primary",icon:l,onConfirm:c}){return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-xl w-full max-w-md",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l&&s.jsx(l,{className:`h-6 w-6 ${i==="danger"?"text-red-500 dark:text-red-400":"text-primary-500 dark:text-primary-400"}`}),s.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:r})]}),s.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:n})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:o}),s.jsx("button",{type:"button",onClick:c,className:`px-4 py-2 text-white rounded-lg transition-colors ${i==="danger"?"bg-red-500 hover:bg-red-600":"bg-primary-500 hover:bg-primary-600"}`,children:a})]})]})}):null}function LL(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState(null),[c,d]=D.useState([]),[u,h]=D.useState(!0),[g,p]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{h(!0),p(null);const M=await X4();d(M||[])}catch(M){p("Erro ao carregar CNPJs"),console.error(M)}finally{h(!1)}},b=()=>{l(null),e(!0)},_=M=>{l(M),e(!0)},v=M=>{l(M),n(!0)},j=async()=>{if(i)try{p(null),await jL(i.id),d(c.filter(M=>M.id!==i.id)),n(!1)}catch(M){p(M instanceof Error?M.message:"Erro ao excluir CNPJ"),n(!1)}},L=async M=>{try{p(null);const q=await NL(M.id,!M.active);q&&d(c.map(y=>y.id===M.id?q:y))}catch(q){p("Erro ao alterar o status do CNPJ"),console.error(q)}},U=c.filter(M=>{var q;return M.name.toLowerCase().includes(a.toLowerCase())||((q=M.tradingName)==null?void 0:q.toLowerCase().includes(a.toLowerCase()))||M.cnpj.includes(a)});return s.jsxs("div",{className:"p-4 sm:p-6",children:[g&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:g}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Cadastro de CNPJs"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os CNPJs cadastrados no sistema"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Novo CNPJ"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por CNPJ, Razo Social ou Nome Fantasia...",value:a,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(IL,{cnpjs:U,onEdit:_,onDelete:v,onToggleStatus:L})]}),s.jsx(DL,{isOpen:t,onClose:()=>e(!1),cnpj:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Pi,{isOpen:r,onClose:()=>n(!1),title:"Excluir CNPJ",description:`Tem certeza que deseja excluir o CNPJ ${i==null?void 0:i.cnpj}? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:j})]})}function RL({onYearClick:t,getYearTotal:e,formatCurrency:r}){const n=new Date().getFullYear(),a=[n-1,n,n+1,n+2],[o,i]=D.useState([]);return D.useEffect(()=>{const l=setTimeout(()=>{a.forEach((c,d)=>{setTimeout(()=>{i(u=>[...u,d])},d*100)})},100);return()=>clearTimeout(l)},[]),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((l,c)=>s.jsx("div",{className:`
              bg-white dark:bg-secondary-800 
              border border-secondary-200 dark:border-secondary-700 
              rounded-2xl p-6 shadow-sm
              hover:shadow-md hover:border-primary-500 dark:hover:border-primary-500
              cursor-pointer transition-all duration-300
              transform hover:scale-105
              ${o.includes(c)?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
            `,onClick:d=>{d.stopPropagation(),t(l)},children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[s.jsx("h3",{className:"text-3xl font-bold mb-3 text-primary-600 dark:text-primary-500",children:l}),s.jsxs("div",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:["Meta total: ",r(e(l))]})]})},l))})})}function TL({year:t,onMonthClick:e,getMonthTotal:r,formatCurrency:n}){const a=[{index:0,name:"Janeiro"},{index:1,name:"Fevereiro"},{index:2,name:"Maro"},{index:3,name:"Abril"},{index:4,name:"Maio"},{index:5,name:"Junho"},{index:6,name:"Julho"},{index:7,name:"Agosto"},{index:8,name:"Setembro"},{index:9,name:"Outubro"},{index:10,name:"Novembro"},{index:11,name:"Dezembro"}],[o,i]=D.useState([]);return D.useEffect(()=>{const l=setTimeout(()=>{a.forEach((c,d)=>{setTimeout(()=>{i(u=>[...u,d])},Math.floor(d/3)*100+d%3*50)})},100);return()=>clearTimeout(l)},[]),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map((l,c)=>s.jsx("div",{className:`
              bg-white dark:bg-secondary-800 
              border border-secondary-200 dark:border-secondary-700 
              rounded-2xl p-4 shadow-sm
              hover:shadow-md hover:border-primary-500 dark:hover:border-primary-500
              cursor-pointer transition-all duration-300
              transform hover:scale-105
              ${o.includes(c)?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
            `,onClick:d=>{d.stopPropagation(),e(l.index)},children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[s.jsx("h3",{className:"text-xl font-semibold text-primary-600 dark:text-primary-500 mb-2",children:l.name}),s.jsxs("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 font-medium",children:["Meta total: ",n(r(t,l.index))]})]})},l.index))})})}function OL({year:t,month:e,onDayClick:r,getDayTotal:n,formatCurrency:a}){const[o,i]=D.useState([]),l=new Date(t,e+1,0).getDate(),c=Array.from({length:l},(h,g)=>g+1),d=new Date(t,e,1).getDay(),u=Array.from({length:d},(h,g)=>-g-1);return D.useEffect(()=>{const h=setTimeout(()=>{i([]),[...u,...c].forEach((p,w)=>{setTimeout(()=>{i(b=>[...b,w])},Math.floor(w/7)*50+w%7*30)})},100);return()=>clearTimeout(h)},[e,t]),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map((h,g)=>s.jsx("div",{className:"text-center text-secondary-500 dark:text-secondary-400 font-medium text-sm py-2",children:h},g)),u.map(h=>s.jsx("div",{className:"h-20 rounded-xl"},`empty-${h}`)),c.map((h,g)=>{const p=g+u.length,w=n(t,e,h),b=w>0;return s.jsx("div",{className:`
                bg-white dark:bg-secondary-800 
                border ${b?"border-primary-200 dark:border-primary-800":"border-secondary-200 dark:border-secondary-700"}
                rounded-xl p-2 shadow-sm
                hover:shadow-md hover:border-primary-500 dark:hover:border-primary-500
                cursor-pointer transition-all duration-300
                transform hover:scale-105 h-20
                ${o.includes(p)?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
              `,onClick:_=>{_.stopPropagation(),r(h)},children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`
                    inline-block rounded-full w-7 h-7 text-center leading-7
                    ${b?"bg-primary-500 text-white":"text-secondary-700 dark:text-secondary-300"}
                  `,children:h})}),s.jsx("div",{className:"mt-auto text-xs text-secondary-600 dark:text-secondary-400 font-medium",children:b?a(w):""})]})},h)})]})})}async function ML(t){try{const{data:e}=await Ee.from("tables",{schema:"information_schema"}).select("table_name").eq("table_schema","public").eq("table_name","receivable_forecasts").single();if(!e){const h=[{id:"1",date:"2024-01-15",categoryId:"vendas-online",companyId:"12.345.678/0001-90",value:15e3},{id:"2",date:"2024-01-15",categoryId:"vendas-presenciais",companyId:"12.345.678/0001-90",value:8500},{id:"3",date:"2024-01-20",categoryId:"servicos",companyId:"98.765.432/0001-10",value:12e3}];let g=h;t&&(g=h.filter(w=>{const b=new Date(w.date),[_,v]=t.split("-"),j=parseInt(_),L=parseInt(v);return b.getFullYear()===j&&b.getMonth()+1===L}));const p=Y1(g,t);return{forecasts:g,summary:p}}let r=Ee.from("receivable_forecasts").select(`
        id,
        forecast_date,
        value,
        category_id,
        company_id,
        description,
        scenario_id,
        is_generated,
        recurring_rule_id,
        created_at
      `).eq("active",!0).order("forecast_date");if(t){const h=`${t}-01`,g=`${t}-31`;r=r.gte("forecast_date",h).lte("forecast_date",g)}const{data:n,error:a}=await r;if(a)throw a;const[o,i]=await Promise.all([Z4(),eS()]),l=new Map(o.map(h=>[h.id,h.name])),c=new Map(i.map(h=>[h.id,h.name])),d=(n||[]).map(h=>({id:h.id,date:h.forecast_date,categoryId:h.category_id,companyId:h.company_id,value:h.value})),u=Y1(d,t);return{forecasts:d,summary:u}}catch(e){throw console.error("Error fetching forecasts:",e),new Error("Erro ao carregar previses")}}async function FL(t){try{const{data:e}=await Ee.from("tables",{schema:"information_schema"}).select("table_name").eq("table_schema","public").eq("table_name","receivable_forecasts").single();if(!e){const c=t.forecasts.map((d,u)=>({id:`mock-${Date.now()}-${u}`,date:d.date,categoryId:d.categoryId,companyId:d.companyId,value:d.value}));return{success:!0,forecasts:c,count:c.length}}const{data:{user:r},error:n}=await Ee.auth.getUser();if(n)throw n;if(!r)throw new Error("Usurio no autenticado");const a=t.forecasts.map(c=>({forecast_date:c.date,value:c.value,category_id:c.categoryId,company_id:c.companyId,description:c.description||null,scenario_id:null,is_generated:!1,recurring_rule_id:null,created_by_id:r.id,active:!0})),{data:o,error:i}=await Ee.from("receivable_forecasts").insert(a).select();if(i)throw i;const l=(o||[]).map(c=>({id:c.id,date:c.forecast_date,categoryId:c.category_id,companyId:c.company_id,value:c.value}));return{success:!0,forecasts:l,count:l.length}}catch(e){throw console.error("Error creating forecasts:",e),new Error("Erro ao criar previses")}}async function BL(t,e){try{const r={};e.forecast.date&&(r.forecast_date=e.forecast.date),e.forecast.value!==void 0&&(r.value=e.forecast.value),e.forecast.categoryId&&(r.category_id=e.forecast.categoryId),e.forecast.companyId&&(r.company_id=e.forecast.companyId),r.updated_at=new Date().toISOString();const{data:n,error:a}=await Ee.from("receivable_forecasts").update(r).eq("id",t).select().single();if(a)throw a;if(!n)throw new Error("Forecast not found");return{success:!0,forecast:{id:n.id,date:n.forecast_date,categoryId:n.category_id,companyId:n.company_id,value:n.value}}}catch(r){throw console.error("Error updating forecast:",r),new Error("Erro ao atualizar previso")}}async function $L(t){try{const{error:e}=await Ee.from("receivable_forecasts").delete().eq("id",t);if(e)throw e;return{success:!0,id:t}}catch(e){throw console.error("Error deleting forecast:",e),new Error("Erro ao excluir previso")}}async function Z4(){try{const{data:t}=await Ee.from("tables",{schema:"information_schema"}).select("table_name").eq("table_schema","public").eq("table_name","forecast_categories").single();if(!t)return[{id:"vendas-online",name:"Vendas Online",parent_id:null},{id:"vendas-presenciais",name:"Vendas Presenciais",parent_id:null},{id:"servicos",name:"Servios",parent_id:null},{id:"consultoria",name:"Consultoria",parent_id:null},{id:"produtos",name:"Produtos",parent_id:null}];const{data:e,error:r}=await Ee.from("forecast_categories").select("id, name, parent_id").eq("active",!0).order("name");if(r)throw r;return e||[]}catch(t){throw console.error("Error fetching forecast categories:",t),new Error("Erro ao carregar categorias")}}async function eS(){try{const{data:t,error:e}=await Ee.from("cnpjs").select("id, name, cnpj").eq("active",!0).order("name");return e?[{id:"1",name:"Empresa Principal",cnpj:"12.345.678/0001-90"},{id:"2",name:"Filial Norte",cnpj:"98.765.432/0001-10"},{id:"3",name:"Filial Sul",cnpj:"11.222.333/0001-44"}]:t||[]}catch(t){return console.error("Error fetching companies:",t),[{id:"1",name:"Empresa Principal",cnpj:"12.345.678/0001-90"},{id:"2",name:"Filial Norte",cnpj:"98.765.432/0001-10"},{id:"3",name:"Filial Sul",cnpj:"11.222.333/0001-44"}]}}async function qL(t){try{const{data:{user:e},error:r}=await Ee.auth.getUser();if(r)throw r;if(!e)throw new Error("Usurio no autenticado");const{data:n,error:a}=await Ee.from("recurring_forecast_rules").insert([{...t,created_by_id:e.id,active:!0}]).select().single();if(a)throw a;const{error:o}=await Ee.rpc("generate_forecasts_from_rule",{rule_id:n.id});if(o)throw o;return n}catch(e){throw console.error("Error creating recurring rule:",e),new Error("Erro ao criar regra de recorrncia")}}function Y1(t,e){const r={totalYear:0,totalMonth:0,totalDay:0,byCategory:{},byCompany:{}};return t.forEach(n=>{const a=new Date(n.date),o=a.getFullYear(),i=a.getMonth()+1;if(a.getDate(),r.totalYear+=n.value,e){const[l,c]=e.split("-"),d=parseInt(l),u=parseInt(c);o===d&&i===u&&(r.totalMonth+=n.value,r.totalDay=n.value)}r.byCategory[n.categoryId]||(r.byCategory[n.categoryId]=0),r.byCategory[n.categoryId]+=n.value,r.byCompany[n.companyId]||(r.byCompany[n.companyId]=0),r.byCompany[n.companyId]+=n.value}),r}function tS({isOpen:t,onClose:e,onSave:r,selectedDate:n,editMode:a=!1,initialData:o,isLoading:i=!1}){const[l,c]=D.useState([]),[d,u]=D.useState([]),[h,g]=D.useState(!1),[p,w]=D.useState(null),[b,_]=D.useState({date:n.toISOString().split("T")[0],categoryId:"",category:"",cnpjId:"",cnpj:"",value:"",recurrence:{enabled:!1,type:"none",endDate:"",repetitions:"1",customDays:1}}),[v,j]=D.useState(""),[L,U]=D.useState(""),[M,q]=D.useState(!1),[y,R]=D.useState(!1),[A,P]=D.useState(!1),[x,k]=D.useState([]),[E,C]=D.useState(!1);D.useEffect(()=>{t&&z()},[t]);const z=async()=>{try{g(!0),w(null);const[de,be]=await Promise.all([Z4(),eS()]);c(de),u(be)}catch(de){console.error("Error loading dropdown data:",de),w("Erro ao carregar dados do formulrio")}finally{g(!1)}};D.useEffect(()=>{_(a&&o?{date:o.date,categoryId:"",category:o.category,cnpjId:"",cnpj:o.cnpj,value:o.value.toString(),recurrence:{enabled:!1,type:"none",endDate:"",repetitions:"1",customDays:1}}:{date:n.toISOString().split("T")[0],categoryId:"",category:"",cnpjId:"",cnpj:"",value:"",recurrence:{enabled:!1,type:"none",endDate:"",repetitions:"1",customDays:1}})},[n,a,o]),D.useEffect(()=>{b.recurrence.enabled?V():(k([]),C(!1))},[b.recurrence]);const V=()=>{const de=new Date(b.date),be=[];if(!de||isNaN(de.getTime())){k([]);return}const me=100;switch(b.recurrence.type){case"weekly":de.getDay();let ve=new Date(de);if(b.recurrence.endDate){const rt=new Date(b.recurrence.endDate);for(;ve<=rt&&be.length<me;)be.push(new Date(ve)),ve.setDate(ve.getDate()+7)}else if(b.recurrence.repetitions){const rt=parseInt(b.recurrence.repetitions);for(let Je=0;Je<rt&&Je<me;Je++)be.push(new Date(ve)),ve.setDate(ve.getDate()+7)}break;case"weekdays":let Le=new Date(de);if(b.recurrence.endDate){const rt=new Date(b.recurrence.endDate);for(;Le<=rt&&be.length<me;){const Je=Le.getDay();Je>=1&&Je<=5&&be.push(new Date(Le)),Le.setDate(Le.getDate()+1)}}else if(b.recurrence.repetitions){const rt=parseInt(b.recurrence.repetitions);let Je=0;for(;Je<rt&&be.length<me;){const et=Le.getDay();et>=1&&et<=5&&(be.push(new Date(Le)),Je++),Le.setDate(Le.getDate()+1)}}break;case"monthly":de.getDate();let Te=new Date(de);if(b.recurrence.endDate){const rt=new Date(b.recurrence.endDate);for(;Te<=rt&&be.length<me;)be.push(new Date(Te)),Te.setMonth(Te.getMonth()+1)}else if(b.recurrence.repetitions){const rt=parseInt(b.recurrence.repetitions);for(let Je=0;Je<rt&&Je<me;Je++)be.push(new Date(Te)),Te.setMonth(Te.getMonth()+1)}break;case"daily":let We=new Date(de);if(b.recurrence.endDate){const rt=new Date(b.recurrence.endDate);for(;We<=rt&&be.length<me;)be.push(new Date(We)),We.setDate(We.getDate()+1)}else if(b.recurrence.repetitions){const rt=parseInt(b.recurrence.repetitions);for(let Je=0;Je<rt&&Je<me;Je++)be.push(new Date(We)),We.setDate(We.getDate()+1)}break;case"custom-days":let ct=new Date(de);const Fe=b.recurrence.customDays||1;for(let rt=0;rt<Fe&&rt<me;rt++)be.push(new Date(ct)),ct.setDate(ct.getDate()+1);break;case"custom-months":let ge=new Date(de);const yt=b.recurrence.customDays||1;for(let rt=0;rt<yt&&rt<me;rt++)be.push(new Date(ge)),ge.setMonth(ge.getMonth()+1);break;default:be.push(new Date(de))}k(be)},K=async de=>{de.preventDefault();const be=parseFloat(b.value.replace(/[^\d,.-]/g,"").replace(",","."))||0;if(!b.categoryId&&!b.category){w("Selecione uma categoria");return}if(!b.cnpjId&&!b.cnpj){w("Selecione um CNPJ");return}if(be<=0){w("Informe um valor vlido");return}try{if(b.recurrence.enabled&&x.length>0){const me={name:`Previso ${b.category} - ${b.cnpj}`,recurrence_type:b.recurrence.type,base_value:be,category_id:b.categoryId||W(b.category),company_id:b.cnpjId||B(b.cnpj),start_date:b.date,end_date:b.recurrence.endDate||null,max_executions:b.recurrence.repetitions?parseInt(b.recurrence.repetitions):null,recurrence_config:{type:b.recurrence.type,customDays:b.recurrence.customDays,endDate:b.recurrence.endDate,repetitions:b.recurrence.repetitions}};await qL(me),r([])}else{const me={date:b.date,categoryId:b.categoryId||W(b.category),companyId:b.cnpjId||B(b.cnpj),value:be};r(me)}}catch(me){console.error("Error saving forecast:",me),w("Erro ao salvar previso")}},W=de=>{var me;const be=l.find(ve=>ve.name.toLowerCase()===de.toLowerCase());return be?be.id:((me=l[0])==null?void 0:me.id)||""},B=de=>{var me;const be=d.find(ve=>ve.name.toLowerCase()===de.toLowerCase()||ve.cnpj===de);return be?be.id:((me=d[0])==null?void 0:me.id)||""},G=de=>{_({...b,categoryId:de.id,category:de.name}),q(!1),j("")},X=de=>{_({...b,cnpjId:de.id,cnpj:`${de.name} - ${de.cnpj}`}),R(!1),U("")},T=de=>{const be=de.replace(/\D/g,"");return(parseFloat(be)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},J=de=>{const be=de.target.value.replace(/\D/g,"");_({...b,value:be})},ee=l.filter(de=>de.name.toLowerCase().includes(v.toLowerCase())),le=d.filter(de=>de.name.toLowerCase().includes(L.toLowerCase())||de.cnpj.includes(L)),ue=()=>{_({...b,recurrence:{...b.recurrence,enabled:!b.recurrence.enabled,type:b.recurrence.enabled?"none":"weekly"}})};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden transform transition-all duration-300 ease-in-out",children:[s.jsxs("div",{className:"p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:a?"Editar Previso":"Nova Previso"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300 rounded-full p-1 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:s.jsx(Vt,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:K,className:"p-6 space-y-6",children:[p&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:p}),h&&s.jsx("div",{className:"flex justify-center items-center py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-500"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:b.date,onChange:de=>_({...b,date:de.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",required:!0}),s.jsx(El,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:b.category,onChange:de=>{_({...b,category:de.target.value,categoryId:""}),j(de.target.value),q(!0)},onFocus:()=>q(!0),onBlur:()=>setTimeout(()=>q(!1),200),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Selecione ou digite uma categoria",required:!0}),s.jsx(cn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]}),M&&s.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-secondary-800 shadow-lg rounded-lg border border-secondary-200 dark:border-secondary-700 max-h-60 overflow-auto",children:ee.length>0?ee.map(de=>s.jsx("div",{className:"px-4 py-2 hover:bg-secondary-100 dark:hover:bg-secondary-700 cursor-pointer text-secondary-900 dark:text-white",onClick:()=>G(de),children:de.name},de.id)):s.jsx("div",{className:"px-4 py-2 text-secondary-500 dark:text-secondary-400",children:h?"Carregando...":"Nenhuma categoria encontrada"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:b.cnpj,onChange:de=>{_({...b,cnpj:de.target.value,cnpjId:""}),U(de.target.value),R(!0)},onFocus:()=>R(!0),onBlur:()=>setTimeout(()=>R(!1),200),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Selecione ou digite um CNPJ",required:!0}),s.jsx(cn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]}),y&&s.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-secondary-800 shadow-lg rounded-lg border border-secondary-200 dark:border-secondary-700 max-h-60 overflow-auto",children:le.length>0?le.map(de=>s.jsxs("div",{className:"px-4 py-2 hover:bg-secondary-100 dark:hover:bg-secondary-700 cursor-pointer",onClick:()=>X(de),children:[s.jsx("div",{className:"text-secondary-900 dark:text-white",children:de.name}),s.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:de.cnpj})]},de.id)):s.jsx("div",{className:"px-4 py-2 text-secondary-500 dark:text-secondary-400",children:h?"Carregando...":"Nenhum CNPJ encontrado"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor da Meta"}),s.jsx("input",{type:"text",value:b.value?T(b.value):"",onChange:J,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"R$ 0,00",required:!0})]}),s.jsxs("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-secondary-50 dark:bg-secondary-800 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",onClick:()=>P(!A),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(GD,{className:"h-5 w-5 text-primary-500 mr-2"}),s.jsx("h3",{className:"font-medium text-secondary-900 dark:text-white",children:"Repetir previso em mltiplas datas"})]}),A?s.jsx(v0,{className:"h-5 w-5 text-secondary-500"}):s.jsx(Ni,{className:"h-5 w-5 text-secondary-500"})]}),A&&s.jsxs("div",{className:"p-4 space-y-4 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("input",{type:"checkbox",id:"enable-recurrence",checked:b.recurrence.enabled,onChange:ue,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),s.jsx("label",{htmlFor:"enable-recurrence",className:"ml-2 text-sm text-secondary-700 dark:text-secondary-300",children:"Habilitar recorrncia"})]}),b.recurrence.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de recorrncia"}),s.jsxs("select",{value:b.recurrence.type,onChange:de=>_({...b,recurrence:{...b.recurrence,type:de.target.value}}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"weekly",children:"Repetir toda semana neste dia"}),s.jsx("option",{value:"weekdays",children:"Repetir todos os dias teis"}),s.jsx("option",{value:"monthly",children:"Repetir todos os meses (mesmo dia)"}),s.jsx("option",{value:"daily",children:"Repetir todos os dias"}),s.jsx("option",{value:"custom-days",children:"Repetir nos prximos X dias"}),s.jsx("option",{value:"custom-months",children:"Repetir nos prximos X meses"})]})]}),(b.recurrence.type==="custom-days"||b.recurrence.type==="custom-months")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:b.recurrence.type==="custom-days"?"Nmero de dias":"Nmero de meses"}),s.jsx("input",{type:"number",min:"1",max:"100",value:b.recurrence.customDays,onChange:de=>_({...b,recurrence:{...b.recurrence,customDays:parseInt(de.target.value)||1}}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),["weekly","weekdays","monthly","daily"].includes(b.recurrence.type)&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"end-date",name:"end-type",checked:!!b.recurrence.endDate,onChange:()=>_({...b,recurrence:{...b.recurrence,endDate:b.recurrence.endDate||new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString().split("T")[0],repetitions:""}}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300"}),s.jsx("label",{htmlFor:"end-date",className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Data final"})]}),!!b.recurrence.endDate&&s.jsx("div",{className:"ml-6",children:s.jsx("input",{type:"date",value:b.recurrence.endDate,onChange:de=>_({...b,recurrence:{...b.recurrence,endDate:de.target.value}}),min:b.date,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"end-repetitions",name:"end-type",checked:!!b.recurrence.repetitions&&!b.recurrence.endDate,onChange:()=>_({...b,recurrence:{...b.recurrence,repetitions:b.recurrence.repetitions||"12",endDate:""}}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300"}),s.jsx("label",{htmlFor:"end-repetitions",className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Nmero de repeties"})]}),!!b.recurrence.repetitions&&!b.recurrence.endDate&&s.jsx("div",{className:"ml-6",children:s.jsx("input",{type:"number",min:"1",max:"100",value:b.recurrence.repetitions,onChange:de=>_({...b,recurrence:{...b.recurrence,repetitions:de.target.value}}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{type:"button",onClick:de=>{de.preventDefault(),C(!E)},className:"w-full px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors flex items-center justify-center",children:[s.jsx(zD,{className:"h-4 w-4 mr-2"}),E?"Ocultar pr-visualizao":"Mostrar pr-visualizao"]})}),E&&x.length>0&&s.jsxs("div",{className:"mt-2 p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg border border-secondary-200 dark:border-secondary-700 animate-fadeIn",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-2 gap-2",children:[s.jsxs("h4",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:["Datas geradas (",x.length,")"]}),s.jsxs("span",{className:"text-xs text-primary-600 dark:text-primary-400 font-medium whitespace-nowrap",children:["Total: ",T((parseFloat(b.value.replace(/[^\d,.-]/g,"").replace(",","."))||0)*x.length),s.jsxs("span",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:["(",x.length," x ",T(b.value),")"]})]})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto custom-scrollbar",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-1",children:x.map((de,be)=>s.jsx("div",{className:"text-xs text-secondary-600 dark:text-secondary-400 py-1",children:de.toLocaleDateString("pt-BR")},be))})})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-4 py-2 border border-secondary-300 dark:border-secondary-600 rounded-lg text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg shadow-sm hover:shadow transition-all duration-200",children:i?"Salvando...":a?"Atualizar":b.recurrence.enabled&&x.length>1?`Salvar ${x.length} previses`:"Salvar"})]})]})]})}):null}function UL({day:t,month:e,year:r,forecasts:n,formatCurrency:a,onEdit:o,onDelete:i}){const[l,c]=D.useState(!0),[d,u]=D.useState(null),[h,g]=D.useState(!1),[p,w]=D.useState(!1),[b,_]=D.useState(null),v=async M=>{u(M),g(!0)},j=async M=>{if(d){w(!0),_(null);try{const q={date:M.date,categoryId:M.categoryId||"1",companyId:M.cnpjId||"1",value:M.value},y=await BL(d.id,{forecast:q});if(y.success){const R={date:y.forecast.date,category:M.category,cnpj:M.cnpj,value:y.forecast.value};o(d.id,R),g(!1),u(null)}}catch(q){_(q instanceof Error?q.message:"Erro ao atualizar previso"),console.error("Error updating forecast:",q)}finally{w(!1)}}},L=async M=>{if(window.confirm("Tem certeza que deseja excluir esta previso?")){w(!0),_(null);try{(await $L(M)).success&&i(M)}catch(q){_(q instanceof Error?q.message:"Erro ao excluir previso"),console.error("Error deleting forecast:",q)}finally{w(!1)}}},U=n.reduce((M,q)=>M+q.value,0);return s.jsxs("div",{className:"border-t border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",onClick:()=>c(!l),children:[s.jsxs("div",{className:"flex items-center",children:[l?s.jsx(v0,{className:"h-5 w-5 text-secondary-500 mr-2"}):s.jsx(Ni,{className:"h-5 w-5 text-secondary-500 mr-2"}),s.jsxs("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:["Previses para ",t," de ",new Date(r,e).toLocaleString("pt-BR",{month:"long"})," de ",r]})]}),s.jsx("div",{className:"text-lg font-semibold text-primary-600 dark:text-primary-400",children:a(U)})]}),b&&s.jsx("div",{className:"mx-4 my-2 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:b}),l&&s.jsx("div",{className:"p-4 animate-fadeIn",children:n.length===0?s.jsx("div",{className:"text-center py-8 text-secondary-500 dark:text-secondary-400",children:"Nenhuma previso cadastrada para este dia."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 text-left",children:[s.jsx("th",{className:"px-4 py-3 text-sm font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-4 py-3 text-sm font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-4 py-3 text-sm font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor da Meta"}),s.jsx("th",{className:"px-4 py-3 text-sm font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider text-right",children:"Aes"})]})}),s.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:n.map(M=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-4 py-4 text-sm text-secondary-900 dark:text-white",children:M.category}),s.jsx("td",{className:"px-4 py-4 text-sm text-secondary-900 dark:text-white",children:M.cnpj}),s.jsx("td",{className:"px-4 py-4 text-sm font-medium text-secondary-900 dark:text-white",children:a(M.value)}),s.jsxs("td",{className:"px-4 py-4 text-sm text-right",children:[s.jsx("button",{onClick:q=>{q.stopPropagation(),v(M)},className:"text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 mr-3 transition-colors",title:"Editar",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:q=>{q.stopPropagation(),L(M.id)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Excluir",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},M.id))})]})})}),h&&d&&s.jsx(tS,{isOpen:h,onClose:()=>{g(!1),u(null)},onSave:j,selectedDate:new Date(d.date),editMode:!0,initialData:d,isLoading:p})]})}function zL(){const[t,e]=D.useState("year"),[r,n]=D.useState(new Date().getFullYear()),[a,o]=D.useState(null),[i,l]=D.useState(null),[c,d]=D.useState(!1),[u,h]=D.useState([]),[g,p]=D.useState(!1),[w,b]=D.useState(null);D.useEffect(()=>{_()},[r,a]);const _=async()=>{p(!0),b(null);try{let E;if(r&&a!==null){const V=(a+1).toString().padStart(2,"0");E=`${r}-${V}`}const z=(await ML(E)).forecasts.map(V=>({id:V.id||"",date:V.date,category:V.categoryId,cnpj:V.companyId,value:V.value,createdBy:"Sistema"}));h(z)}catch(E){b(E instanceof Error?E.message:"Erro ao carregar previses"),console.error("Error loading forecasts:",E)}finally{p(!1)}},v=E=>u.filter(C=>new Date(C.date).getFullYear()===E).reduce((C,z)=>C+z.value,0),j=(E,C)=>u.filter(z=>{const V=new Date(z.date);return V.getFullYear()===E&&V.getMonth()===C}).reduce((z,V)=>z+V.value,0),L=(E,C,z)=>u.filter(V=>{const K=new Date(V.date);return K.getFullYear()===E&&K.getMonth()===C&&K.getDate()===z}).reduce((V,K)=>V+K.value,0),U=(E,C,z)=>u.filter(V=>{const K=new Date(V.date);return K.getFullYear()===E&&K.getMonth()===C&&K.getDate()===z}),M=E=>{l(E),e("day")},q=E=>{o(E),l(null),e("day")},y=E=>{n(E),o(null),e("month")},R=()=>{t==="day"?(e("month"),l(null)):t==="month"&&(e("year"),o(null))},A=async E=>{p(!0),b(null);try{const C=Array.isArray(E)?E:[E],z=await FL({forecasts:C});if(z.success){const V=z.forecasts.map(K=>({id:K.id||"",date:K.date,category:K.categoryId,cnpj:K.companyId,value:K.value,createdBy:"Sistema"}));h([...u,...V]),d(!1),_()}}catch(C){b(C instanceof Error?C.message:"Erro ao adicionar previso"),console.error("Error adding forecast:",C)}finally{p(!1)}},P=(E,C)=>{h(u.map(z=>z.id===E?{...C,id:E}:z))},x=E=>{h(u.filter(C=>C.id!==E))},k=E=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E);return s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Forecast de Recebimentos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie suas metas e previses de recebimento"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-xl shadow-sm transition-all duration-200 transform hover:scale-105",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Nova Meta"})]})]}),w&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:w}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-2xl shadow-md border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 flex items-center",children:[(t==="month"||t==="day")&&s.jsx("button",{onClick:R,className:"mr-4 p-2 rounded-full hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:s.jsx($D,{className:"h-5 w-5 text-secondary-600 dark:text-secondary-400"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(El,{className:"h-5 w-5 text-primary-500"}),s.jsxs("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:[t==="year"&&"Selecione o Ano",t==="month"&&`${r}`,t==="day"&&`${a!==null?new Date(r,a).toLocaleString("pt-BR",{month:"long"}):""} ${r}`]})]})]}),s.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[g?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary-500"})}):t==="year"&&s.jsx(RL,{onYearClick:y,getYearTotal:v,formatCurrency:k}),t==="month"&&r&&s.jsx(TL,{year:r,onMonthClick:q,getMonthTotal:j,formatCurrency:k}),t==="day"&&r!==null&&a!==null&&s.jsx(OL,{year:r,month:a,onDayClick:M,getDayTotal:L,formatCurrency:k})]}),i!==null&&a!==null&&r&&s.jsx(UL,{day:i,month:a,year:r,forecasts:U(r,a,i),formatCurrency:k,onEdit:P,onDelete:x})]}),s.jsx(tS,{isOpen:c,onClose:()=>d(!1),onSave:A,selectedDate:i!==null&&a!==null?new Date(r,a,i):new Date,isLoading:g})]})}function VL({users:t,onEdit:e,onDelete:r,onToggleStatus:n}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(ZD,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum usurio cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Novo Usurio" para comear a cadastrar usurios no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"E-mail"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.email}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},a.id))})]})})}const HL="https://financeiro.tshirteria.com";async function WL(){try{const{data:t,error:e}=await Ee.from("system_users").select(`
        id,
        name,
        email,
        created_at,
        permissions
      `).order("name");if(e)throw e;return(t==null?void 0:t.map(n=>({...n,createdAt:n.created_at})))||[]}catch(t){return console.error("Erro ao listar usurios:",t),[]}}async function GL(t){try{const e=await fetch(`${HL}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,password:t.password,permissions:t.permissions})});if(!e.ok){const r=await e.json();return console.error("Erro ao criar usurio:",r),!1}return!0}catch(e){return console.error("Erro ao criar usurio:",e),null}}async function JL(t,e){try{const r={};e.name&&(r.name=e.name),e.email&&(r.email=e.email),e.permissions&&(r.permissions=e.permissions);const{data:n,error:a}=await Ee.from("system_users").update(r).eq("id",t).select().single();if(a)throw a;return n?(e.permissionId,{id:n.id,name:n.name,email:n.email,createdAt:n.created_at,updatedAt:n.updated_at||n.created_at}):null}catch(r){return console.error("Erro ao atualizar usurio:",r),null}}async function KL(t){try{const{error:e}=await Ee.from("system_users").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Erro ao excluir usurio:",e),!1}}async function YL(t,e){try{const{data:r,error:n}=await Ee.from("system_users").select(`
        id,
        name,
        email,
        created_at,
      `).eq("id",t).single();if(n)throw n;return r?{id:r.id,name:r.name,email:r.email,createdAt:r.created_at,updatedAt:r.updated_at||r.created_at}:null}catch(r){return console.error("Erro ao alterar status do usurio:",r),null}}const XL=[{label:"Dashboard",value:"dashboard"},{label:"Central de Pagamentos",value:"payment-center"},{label:"Solicitaes de Pagamento",value:"payment-requests"},{label:"Central de Recebimentos",value:"receivables-center"},{label:"Aprovaes de Pagamento",value:"payment-approvals"},{label:"Extrato Bancrio",value:"bank-statement"},{label:"Conciliao Bancria",value:"bank-reconciliation"},{label:"Conciliao de Carto",value:"credit-card-reconciliation"},{label:"Solicitaes de Estorno",value:"refund-requests"},{label:"Motivos de Estorno",value:"refund-reasons"},{label:"Responsveis por Estorno",value:"refund-responsibles"},{label:"Depreciao de Ativos",value:"asset-depreciation"},{label:"Passivos",value:"passives"},{label:"Patrimnio",value:"equity"},{label:"DRE",value:"income-statement"},{label:"Fluxo de Caixa",value:"cash-flow"},{label:"Exportao Contbil",value:"accounting-export"},{label:"CNPJs",value:"cnpjs"},{label:"Usurios",value:"users"},{label:"Permisses",value:"permissions"},{label:"Categorias Financeiras",value:"financial-categories"},{label:"Formas de Pagamento",value:"payment-methods"},{label:"Contas Bancrias",value:"bank-accounts"},{label:"Configurao de Email",value:"email-config"},{label:"Configurao DDA",value:"dda-config"},{label:"Alertas",value:"alerts"}];function QL({isOpen:t,onClose:e,user:r,onSuccess:n}){const[a,o]=D.useState({name:"",email:"",password:"",confirmPassword:"",permissions:[]}),[i,l]=D.useState(!1),[c,d]=D.useState("");D.useEffect(()=>{o(r?{name:r.name,email:r.email,password:"",confirmPassword:"",permissions:r.permissions||[]}:{name:"",email:"",password:"",confirmPassword:"",permissions:[]})},[r]);const u=g=>{o(p=>({...p,permissions:p.permissions.includes(g)?p.permissions.filter(w=>w!==g):[...p.permissions,g]}))},h=async g=>{if(g.preventDefault(),l(!0),d(""),!r&&a.password!==a.confirmPassword){d("As senhas no coincidem"),l(!1);return}try{r?await JL(r.id,{name:a.name,email:a.email,permissions:a.permissions}):await GL({name:a.name,email:a.email,password:a.password,permissions:a.permissions}),n(),e()}catch(p){console.error("Erro ao salvar usurio:",p),d("Erro ao salvar usurio. Por favor, tente novamente.")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Usurio":"Adicionar Novo Usurio"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:h,className:"p-4 sm:p-6 space-y-6",children:[c&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:c}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:a.name,onChange:g=>o(p=>({...p,name:g.target.value})),disabled:i,required:!0,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:g=>o(p=>({...p,email:g.target.value})),disabled:i||!!r,required:!0,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Senha"}),s.jsx("input",{type:"password",value:a.password,onChange:g=>o(p=>({...p,password:g.target.value})),disabled:i,required:!0,minLength:6,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Confirmar Senha"}),s.jsx("input",{type:"password",value:a.confirmPassword,onChange:g=>o(p=>({...p,confirmPassword:g.target.value})),disabled:i,required:!0,minLength:6,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Permisses de Acesso"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:XL.map(g=>s.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("input",{type:"checkbox",value:g.value,checked:a.permissions.includes(g.value),onChange:()=>u(g.value),className:"rounded border-secondary-300 text-primary-500 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-700 dark:text-secondary-300",children:g.label})]},g.value))})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg disabled:opacity-50",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar Usurio"})]})]})]})}):null}function ZL(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState(null),[c,d]=D.useState([]),[u,h]=D.useState(!0),[g,p]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const[M]=await Promise.all([WL()]);d(M)}catch(M){p("Erro ao carregar dados"),console.error(M)}finally{h(!1)}},b=()=>{l(null),e(!0)},_=M=>{l(M),e(!0)},v=M=>{l(M),n(!0)},j=async()=>{if(i)try{await KL(i.id),d(c.filter(M=>M.id!==i.id)),n(!1)}catch(M){p("Erro ao excluir usurio"),console.error(M)}},L=async M=>{try{const q=await YL(M.id,!M.active);q&&d(c.map(y=>y.id===M.id?q:y))}catch(q){p("Erro ao alterar status do usurio"),console.error(q)}},U=c.filter(M=>M.name.toLowerCase().includes(a.toLowerCase())||M.email.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"p-4 sm:p-6",children:[g&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:g}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Usurios"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os usurios do sistema"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Novo Usurio"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou e-mail",value:a,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(VL,{users:U,onEdit:_,onDelete:v,onToggleStatus:L})]}),s.jsx(QL,{isOpen:t,onClose:()=>e(!1),user:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Pi,{isOpen:r,onClose:()=>n(!1),title:"Excluir Usurio",description:`Tem certeza que deseja excluir o usurio ${i==null?void 0:i.name}? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:j})]})}function e8({permissions:t,onEdit:e,onDelete:r}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(KD,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma permisso cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Permisso" para comear a definir os nveis de acesso.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(n=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:n.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:n.description||"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(n),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(n),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},n.id))})]})})}const X1={dashboard:{name:"Dashboard",description:"Visualizao geral do sistema"},payments:{name:"Pagamentos",description:"Gesto de contas a pagar"},receivables:{name:"Recebimentos",description:"Gesto de contas a receber"},reconciliation:{name:"Conciliao",description:"Conciliao bancria"},refunds:{name:"Estornos",description:"Gesto de estornos"},balance:{name:"Balano",description:"Balano patrimonial"},reports:{name:"Relatrios",description:"Relatrios financeiros"},settings:{name:"Configuraes",description:"Configuraes do sistema"}},t8={REVENUE:[{value:"NO_DRE",label:"No Entrar no DRE"},{value:"OPERATIONAL_REVENUE",label:"Receita Operacional Bruta"},{value:"FINANCIAL_REVENUE",label:"Receita Financeira"},{value:"OTHER_REVENUES",label:"Outras Receitas"}],EXPENSE:[{value:"NO_DRE",label:"No Entrar no DRE"},{value:"DEDUCTIONS_FROM_REVENUE",label:"Dedues da Receita Bruta"},{value:"OPERATING_EXPENSES",label:"Despesas Operacionais"},{value:"FINANCIAL_EXPENSES",label:"Despesa Financeira"},{value:"OTHER_EXPENSES",label:"Outras Despesas"},{value:"INCOME_TAX",label:"IR e CSLL"}],BOTH:[]};async function r8(){try{const{data:t,error:e}=await Ee.from("permissions").select("*").order("name");if(e)throw e;return t||[]}catch(t){return console.error("Erro ao listar permisses:",t),[]}}async function n8(t){try{const{data:e,error:r}=await Ee.from("permissions").insert([{...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return e}catch(e){return console.error("Erro ao criar permisso:",e),null}}async function a8(t,e){try{const{data:r,error:n}=await Ee.from("permissions").update({...e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar permisso:",r),null}}async function s8(t){try{const{data:e,error:r}=await Ee.from("users").select("id").eq("permissionId",t);if(r)throw r;if(e&&e.length>0)throw new Error("No  possvel excluir esta permisso pois existem usurios vinculados a ela. Remova a permisso dos usurios primeiro.");const{error:n}=await Ee.from("permissions").delete().eq("id",t);if(n)throw n;return!0}catch(e){throw console.error("Erro ao excluir permisso:",e),e}}function o8({isOpen:t,onClose:e,permission:r,onSuccess:n}){const[a,o]=D.useState({name:"",description:"",modules:{}}),[i,l]=D.useState(!1),[c,d]=D.useState("");D.useEffect(()=>{if(r)o({name:r.name,description:r.description||"",modules:r.modules});else{const g=Object.keys(X1).reduce((p,w)=>({...p,[w]:{view:!1,edit:!1}}),{});o({name:"",description:"",modules:g})}},[r]);const u=(g,p,w)=>{o(b=>({...b,modules:{...b.modules,[g]:{...b.modules[g],[p]:w,...p==="edit"&&w?{view:!0}:{},...p==="view"&&!w?{edit:!1}:{}}}}))},h=async g=>{g.preventDefault(),l(!0),d("");try{if(r){if(!await a8(r.id,a))throw new Error("Erro ao atualizar permisso")}else if(!await n8(a))throw new Error("Erro ao criar permisso");n(),e()}catch(p){console.error("Erro ao salvar permisso:",p),d("Erro ao salvar permisso. Por favor, tente novamente.")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10 rounded-t-lg",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Permisso":"Criar Nova Permisso"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:h,className:"p-4 sm:p-6",children:[c&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:c}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Permisso"}),s.jsx("input",{type:"text",value:a.name,onChange:g=>o(p=>({...p,name:g.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:a.description,onChange:g=>o(p=>({...p,description:g.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-3",children:"Permisses de Acesso aos Mdulos"}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto pr-2 space-y-3 custom-scrollbar",children:Object.entries(X1).map(([g,p])=>{var w,b,_;return s.jsxs("div",{className:"p-4 border border-secondary-200 dark:border-secondary-700 rounded-lg",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:p.name}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:p.description})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:(w=a.modules[g])==null?void 0:w.view,onChange:v=>u(g,"view",v.target.checked),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Visualizar"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:(b=a.modules[g])==null?void 0:b.edit,onChange:v=>u(g,"edit",v.target.checked),disabled:i||!((_=a.modules[g])!=null&&_.view),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Editar"})]})]})]},g)})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Criar Permisso"})]})]})]})}):null}function i8(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState(null),[c,d]=D.useState([]),[u,h]=D.useState(!0),[g,p]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const U=await r8();d(U)}catch(U){p("Erro ao carregar permisses"),console.error(U)}finally{h(!1)}},b=()=>{l(null),e(!0)},_=U=>{l(U),e(!0)},v=U=>{l(U),n(!0)},j=async()=>{if(i)try{await s8(i.id),d(c.filter(U=>U.id!==i.id)),n(!1)}catch(U){p("Erro ao excluir permisso"),console.error(U)}},L=c.filter(U=>{var M;return U.name.toLowerCase().includes(a.toLowerCase())||((M=U.description)==null?void 0:M.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[g&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:g}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Permisses"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as permisses de acesso ao sistema"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Permisso"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:a,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(e8,{permissions:L,onEdit:_,onDelete:v})]}),s.jsx(o8,{isOpen:t,onClose:()=>e(!1),permission:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Pi,{isOpen:r,onClose:()=>n(!1),title:"Excluir Permisso",description:`Tem certeza que deseja excluir a permisso "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:j})]})}function l8({paymentMethods:t,onEdit:e,onDelete:r,onToggleStatus:n}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(gm,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma forma de pagamento cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Incluir Forma de Pagamento" para comear a cadastrar as formas de pagamento no sistema.'})]});const a=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o);return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[1200px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Condio de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Prazo (dias)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Alquota (%)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Alquota Fixa"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.paymentCondition}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.settlementDays}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[o.aliquot.toFixed(2),"%"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(o.fixedAliquot)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.active,onChange:()=>n(o)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(o),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},o.id))})]})})}async function c8(){try{const{data:t,error:e}=await Ee.from("payment_methods").select("*").order("type");if(e)throw e;return t||[]}catch(t){return console.error("Erro ao listar formas de pagamento:",t),[]}}async function d8(t){try{const{data:e,error:r}=await Ee.from("payment_methods").insert([{...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return e}catch(e){return console.error("Erro ao criar forma de pagamento:",e),null}}async function u8(t,e){try{const{data:r,error:n}=await Ee.from("payment_methods").update({...e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar forma de pagamento:",r),null}}async function h8(t){try{const{error:e}=await Ee.from("payment_methods").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Erro ao excluir forma de pagamento:",e),!1}}async function f8(t,e){try{const{data:r,error:n}=await Ee.from("payment_methods").update({active:e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da forma de pagamento:",r),null}}const p8=["Carto de Crdito","Carto de Dbito","Boleto Bancrio","PIX","Transferncia Bancria","Dinheiro","Cheque","Duplicata","Programa de Fidelidade","Crdito em Loja","Sem Pagamento"];function m8({isOpen:t,onClose:e,paymentMethod:r,onSuccess:n}){const[a,o]=D.useState({type:"",description:"",paymentCondition:"",settlementDays:0,aliquot:0,fixedAliquot:0,active:!0,defaultBankAccountId:null}),[i,l]=D.useState(!1),[c,d]=D.useState(""),[u,h]=D.useState([]);D.useEffect(()=>{t&&(g(),o(r?{type:r.type,description:r.description,paymentCondition:r.paymentCondition,settlementDays:r.settlementDays,aliquot:r.aliquot,fixedAliquot:r.fixedAliquot,active:r.active,defaultBankAccountId:r.defaultBankAccountId||null}:{type:"",description:"",paymentCondition:"",settlementDays:0,aliquot:0,fixedAliquot:0,active:!0,defaultBankAccountId:null}))},[t,r]);const g=async()=>{try{const{data:w,error:b}=await Ee.from("bank_accounts").select("*").eq("active",!0);if(b)throw b;h(w||[])}catch(w){console.error("Error loading bank accounts:",w),d("Erro ao carregar contas bancrias")}},p=async w=>{w.preventDefault(),l(!0),d("");try{if(r){if(!await u8(r.id,a))throw new Error("Erro ao atualizar forma de pagamento")}else if(!await d8(a))throw new Error("Erro ao criar forma de pagamento");n(),e()}catch(b){console.error("Erro ao salvar forma de pagamento:",b),d("Erro ao salvar forma de pagamento. Por favor, tente novamente.")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Forma de Pagamento":"Nova Forma de Pagamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:p,className:"p-4 sm:p-6",children:[c&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:c}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Pagamento"}),s.jsxs("select",{value:a.type,onChange:w=>o(b=>({...b,type:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um tipo"}),p8.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:a.description,onChange:w=>o(b=>({...b,description:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Condio de Pagamento"}),s.jsxs("select",{value:a.paymentCondition,onChange:w=>o(b=>({...b,paymentCondition:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"immediate",children:" vista"}),s.jsx("option",{value:"1x",children:"1x"}),s.jsx("option",{value:"2x",children:"2x"}),s.jsx("option",{value:"3x",children:"3x"}),s.jsx("option",{value:"4x",children:"4x"}),s.jsx("option",{value:"5x",children:"5x"}),s.jsx("option",{value:"6x",children:"6x"}),s.jsx("option",{value:"7x",children:"7x"}),s.jsx("option",{value:"8x",children:"8x"}),s.jsx("option",{value:"9x",children:"9x"}),s.jsx("option",{value:"10x",children:"10x"}),s.jsx("option",{value:"11x",children:"11x"}),s.jsx("option",{value:"12x",children:"12x"}),s.jsx("option",{value:"30/60/90",children:"30/60/90"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Prazo de Recebimento (dias)"}),s.jsx("input",{type:"number",min:"0",value:a.settlementDays,onChange:w=>o(b=>({...b,settlementDays:parseInt(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alquota (%)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:a.aliquot,onChange:w=>o(b=>({...b,aliquot:parseFloat(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alquota Fixa (R$)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.fixedAliquot,onChange:w=>o(b=>({...b,fixedAliquot:parseFloat(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Padro (opcional)"}),s.jsxs("select",{value:a.defaultBankAccountId,onChange:w=>o(b=>({...b,defaultBankAccountId:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.bank," - ",w.branch,"/",w.account]},w.id))]})]}),s.jsx("div",{className:"sm:col-span-2",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:w=>o(b=>({...b,active:w.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Forma de pagamento ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar"})]})]})]})}):null}function g8(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState(null),[c,d]=D.useState([]),[u,h]=D.useState(!0),[g,p]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const M=await c8();d(M)}catch(M){p("Erro ao carregar formas de pagamento"),console.error(M)}finally{h(!1)}},b=()=>{l(null),e(!0)},_=M=>{l(M),e(!0)},v=M=>{l(M),n(!0)},j=async()=>{if(i)try{await h8(i.id),d(c.filter(M=>M.id!==i.id)),n(!1)}catch(M){p("Erro ao excluir forma de pagamento"),console.error(M)}},L=async M=>{try{const q=await f8(M.id,!M.active);q&&d(c.map(y=>y.id===M.id?q:y))}catch(q){p("Erro ao alterar status da forma de pagamento"),console.error(q)}},U=c.filter(M=>M.type.toLowerCase().includes(a.toLowerCase())||M.description.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"p-4 sm:p-6",children:[g&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:g}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Formas de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as formas de pagamento do sistema"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Forma de Pagamento"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por tipo ou descrio...",value:a,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(l8,{paymentMethods:U,onEdit:_,onDelete:v,onToggleStatus:L})]}),s.jsx(m8,{isOpen:t,onClose:()=>e(!1),paymentMethod:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Pi,{isOpen:r,onClose:()=>n(!1),title:"Excluir Forma de Pagamento",description:`Tem certeza que deseja excluir a forma de pagamento "${i==null?void 0:i.description}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:j})]})}function y8({bankAccounts:t,onEdit:e,onDelete:r,onToggleStatus:n}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(kc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma conta bancria cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Conta Bancria" para comear a cadastrar contas no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[1200px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome da Conta"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Banco"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Agncia"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ Vinculado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>{var o;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.bank}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.branch}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.account}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:((o=a.cnpj)==null?void 0:o.name)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},a.id)})})]})})}const x8=["Conta Corrente","Conta de Pagamento","Conta Digital"];function b8({isOpen:t,onClose:e,bankAccount:r,onSuccess:n}){const[a,o]=D.useState({name:"",bank:"",branch:"",account:"",digit:"",type:"",cnpjId:"",bankCode:"",agreementCode:"",sftpKey:"",cnabSendFolder:"",cnabReturnFolder:"",active:!0,developer_application_key:"",client_id:"",client_secret:"",basic:"",oauth_url:"",bank_api_url:"",mci_teste:""}),[i,l]=D.useState([]),[c,d]=D.useState(!1),[u,h]=D.useState(""),[g,p]=D.useState("general");D.useEffect(()=>{w()},[]),D.useEffect(()=>{o(r?{name:r.name,bank:r.bank,branch:r.branch,account:r.account,digit:r.digit||"",type:r.type,cnpjId:r.cnpjId,bankCode:r.bankCode||"",agreementCode:r.agreementCode||"",sftpKey:r.sftpKey||"",cnabSendFolder:r.cnabSendFolder||"",cnabReturnFolder:r.cnabReturnFolder||"",active:r.active,developer_application_key:r.developer_application_key||"",client_id:r.client_id||"",client_secret:r.client_secret||"",basic:r.basic||"",oauth_url:r.oauth_url||"",bank_api_url:r.bank_api_url||"",mci_teste:r.mci_teste||""}:{name:"",bank:"",branch:"",account:"",digit:"",type:"",cnpjId:"",bankCode:"",agreementCode:"",sftpKey:"",cnabSendFolder:"",cnabReturnFolder:"",active:!0,developer_application_key:"",client_id:"",client_secret:"",basic:"",oauth_url:"",bank_api_url:"",mci_teste:""})},[r]);const w=async()=>{try{const v=await X4();l(v)}catch(v){console.error("Erro ao carregar CNPJs:",v),h("Erro ao carregar lista de CNPJs")}},b=async v=>{v.preventDefault(),d(!0),h("");try{if(r){if(!await EL(r.id,a))throw new Error("Erro ao atualizar conta bancria")}else if(!await _L(a))throw new Error("Erro ao criar conta bancria");n(),e()}catch(j){console.error("Erro ao salvar conta bancria:",j),h("Erro ao salvar conta bancria. Por favor, tente novamente.")}finally{d(!1)}},_=({tab:v,label:j})=>s.jsx("button",{type:"button",onClick:()=>p(v),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${g===v?"bg-primary-500 text-white":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-100 dark:text-secondary-400 dark:hover:text-white dark:hover:bg-secondary-700"}`,children:j});return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Conta Bancria":"Nova Conta Bancria"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:b,className:"p-4 sm:p-6",children:[u&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:u}),s.jsxs("div",{className:"flex space-x-2 mb-6 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx(_,{tab:"general",label:"Dados Gerais"}),s.jsx(_,{tab:"cnab",label:"Integrao CNAB"}),s.jsx(_,{tab:"api",label:"API Bancria"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[g==="general"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Conta"}),s.jsx("input",{type:"text",value:a.name,onChange:v=>o(j=>({...j,name:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Banco"}),s.jsx("input",{type:"text",value:a.bank,onChange:v=>o(j=>({...j,bank:v.target.value})),disabled:c,placeholder:"Nome do banco",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Conta"}),s.jsxs("select",{value:a.type,onChange:v=>o(j=>({...j,type:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um tipo"}),x8.map(v=>s.jsx("option",{value:v,children:v},v))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:a.branch,onChange:v=>o(j=>({...j,branch:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:a.account,onChange:v=>o(j=>({...j,account:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:a.digit,onChange:v=>o(j=>({...j,digit:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ Vinculado"}),s.jsxs("select",{value:a.cnpjId,onChange:v=>o(j=>({...j,cnpjId:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(v=>s.jsxs("option",{value:v.id,children:[v.name," - ",v.cnpj]},v.id))]})]})]}),g==="cnab"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-900 dark:text-white mb-4",children:"Configuraes para Integrao CNAB"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Banco"}),s.jsx("input",{type:"text",value:a.bankCode,onChange:v=>o(j=>({...j,bankCode:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Convnio"}),s.jsx("input",{type:"text",value:a.agreementCode,onChange:v=>o(j=>({...j,agreementCode:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Chave de Autenticao SFTP"}),s.jsx("input",{type:"password",value:a.sftpKey,onChange:v=>o(j=>({...j,sftpKey:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Pasta de Envio CNAB"}),s.jsx("input",{type:"text",value:a.cnabSendFolder,onChange:v=>o(j=>({...j,cnabSendFolder:v.target.value})),disabled:c,placeholder:"/remessa",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Pasta de Retorno CNAB"}),s.jsx("input",{type:"text",value:a.cnabReturnFolder,onChange:v=>o(j=>({...j,cnabReturnFolder:v.target.value})),disabled:c,placeholder:"/retorno",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]})]})}),g==="api"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-900 dark:text-white mb-4",children:"Configuraes para Integrao com API Bancria"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Developer Application Key"}),s.jsx("input",{type:"password",value:a.developer_application_key,onChange:v=>o(j=>({...j,developer_application_key:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Client ID"}),s.jsx("input",{type:"password",value:a.client_id,onChange:v=>o(j=>({...j,client_id:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Client Secret"}),s.jsx("input",{type:"password",value:a.client_secret,onChange:v=>o(j=>({...j,client_secret:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Basic"}),s.jsx("input",{type:"password",value:a.basic,onChange:v=>o(j=>({...j,basic:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"OAuth URL"}),s.jsx("input",{type:"text",value:a.oauth_url,onChange:v=>o(j=>({...j,oauth_url:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bank API URL"}),s.jsx("input",{type:"text",value:a.bank_api_url,onChange:v=>o(j=>({...j,bank_api_url:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"MCI Teste"}),s.jsx("input",{type:"text",value:a.mci_teste,onChange:v=>o(j=>({...j,mci_teste:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]})]})}),s.jsx("div",{className:"sm:col-span-2 border-t border-secondary-200 dark:border-secondary-700 pt-4 mt-2",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:v=>o(j=>({...j,active:v.target.checked})),disabled:c,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Conta bancria ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:c,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?"Salvando...":r?"Salvar Alteraes":"Criar Conta Bancria"})]})]})]})}):null}function v8(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState(null),[c,d]=D.useState([]),[u,h]=D.useState(!0),[g,p]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const M=await Q4();d(M)}catch(M){p("Erro ao carregar contas bancrias"),console.error(M)}finally{h(!1)}},b=()=>{l(null),e(!0)},_=M=>{console.log(M),l(M),e(!0)},v=M=>{l(M),n(!0)},j=async()=>{if(i)try{await AL(i.id),d(c.filter(M=>M.id!==i.id)),n(!1)}catch(M){p("Erro ao excluir conta bancria"),console.error(M)}},L=async M=>{try{const q=await PL(M.id,!M.active);q&&d(c.map(y=>y.id===M.id?q:y))}catch(q){p("Erro ao alterar status da conta bancria"),console.error(q)}},U=c.filter(M=>{var q,y;return M.name.toLowerCase().includes(a.toLowerCase())||M.bank.toLowerCase().includes(a.toLowerCase())||M.branch.includes(a)||M.account.includes(a)||((q=M.cnpj)==null?void 0:q.name.toLowerCase().includes(a.toLowerCase()))||((y=M.cnpj)==null?void 0:y.cnpj.includes(a))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[g&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:g}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Contas Bancrias"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as contas bancrias do sistema"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Conta Bancria"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, banco, agncia, conta ou CNPJ...",value:a,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(y8,{bankAccounts:U,onEdit:_,onDelete:v,onToggleStatus:L})]}),s.jsx(b8,{isOpen:t,onClose:()=>e(!1),bankAccount:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Pi,{isOpen:r,onClose:()=>n(!1),title:"Excluir Conta Bancria",description:`Tem certeza que deseja excluir a conta bancria "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:j})]})}function w8(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return D.useMemo(()=>n=>{e.forEach(a=>a(n))},e)}const Sm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ru(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Vv(t){return"nodeType"in t}function Qa(t){var e,r;return t?ru(t)?t:Vv(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function Hv(t){const{Document:e}=Qa(t);return t instanceof e}function af(t){return ru(t)?!1:t instanceof Qa(t).HTMLElement}function rS(t){return t instanceof Qa(t).SVGElement}function nu(t){return t?ru(t)?t.document:Vv(t)?Hv(t)?t:af(t)||rS(t)?t.ownerDocument:document:document:document}const Ho=Sm?D.useLayoutEffect:D.useEffect;function Wv(t){const e=D.useRef(t);return Ho(()=>{e.current=t}),D.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function k8(){const t=D.useRef(null),e=D.useCallback((n,a)=>{t.current=setInterval(n,a)},[]),r=D.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Fh(t,e){e===void 0&&(e=[t]);const r=D.useRef(t);return Ho(()=>{r.current!==t&&(r.current=t)},e),r}function sf(t,e){const r=D.useRef();return D.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function j0(t){const e=Wv(t),r=D.useRef(null),n=D.useCallback(a=>{a!==r.current&&(e==null||e(a,r.current)),r.current=a},[]);return[r,n]}function Gx(t){const e=D.useRef();return D.useEffect(()=>{e.current=t},[t]),e.current}let oy={};function of(t,e){return D.useMemo(()=>{if(e)return e;const r=oy[t]==null?0:oy[t]+1;return oy[t]=r,t+"-"+r},[t,e])}function nS(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((o,i)=>{const l=Object.entries(i);for(const[c,d]of l){const u=o[c];u!=null&&(o[c]=u+t*d)}return o},{...e})}}const Nd=nS(1),N0=nS(-1);function j8(t){return"clientX"in t&&"clientY"in t}function Gv(t){if(!t)return!1;const{KeyboardEvent:e}=Qa(t.target);return e&&t instanceof e}function N8(t){if(!t)return!1;const{TouchEvent:e}=Qa(t.target);return e&&t instanceof e}function Jx(t){if(N8(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return j8(t)?{x:t.clientX,y:t.clientY}:null}const Bh=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Bh.Translate.toString(t),Bh.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),Q1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function S8(t){return t.matches(Q1)?t:t.querySelector(Q1)}const C8={display:"none"};function _8(t){let{id:e,value:r}=t;return Ar.createElement("div",{id:e,style:C8},r)}function E8(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ar.createElement("div",{id:e,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function A8(){const[t,e]=D.useState("");return{announce:D.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const aS=D.createContext(null);function P8(t){const e=D.useContext(aS);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function D8(){const[t]=D.useState(()=>new Set),e=D.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[D.useCallback(n=>{let{type:a,event:o}=n;t.forEach(i=>{var l;return(l=i[a])==null?void 0:l.call(i,o)})},[t]),e]}const I8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},L8={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function R8(t){let{announcements:e=L8,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=I8}=t;const{announce:o,announcement:i}=A8(),l=of("DndLiveRegion"),[c,d]=D.useState(!1);if(D.useEffect(()=>{d(!0)},[]),P8(D.useMemo(()=>({onDragStart(h){let{active:g}=h;o(e.onDragStart({active:g}))},onDragMove(h){let{active:g,over:p}=h;e.onDragMove&&o(e.onDragMove({active:g,over:p}))},onDragOver(h){let{active:g,over:p}=h;o(e.onDragOver({active:g,over:p}))},onDragEnd(h){let{active:g,over:p}=h;o(e.onDragEnd({active:g,over:p}))},onDragCancel(h){let{active:g,over:p}=h;o(e.onDragCancel({active:g,over:p}))}}),[o,e])),!c)return null;const u=Ar.createElement(Ar.Fragment,null,Ar.createElement(_8,{id:n,value:a.draggable}),Ar.createElement(E8,{id:l,announcement:i}));return r?sc.createPortal(u,r):u}var Un;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Un||(Un={}));function S0(){}function T8(t,e){return D.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function O8(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return D.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const fo=Object.freeze({x:0,y:0});function M8(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function F8(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function B8(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function $8(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function Z1(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const q8=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const a=Z1(e,e.left,e.top),o=[];for(const i of n){const{id:l}=i,c=r.get(l);if(c){const d=M8(Z1(c),a);o.push({id:l,data:{droppableContainer:i,value:d}})}}return o.sort(F8)};function U8(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),i=a-n,l=o-r;if(n<a&&r<o){const c=e.width*e.height,d=t.width*t.height,u=i*l,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const z8=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const a=[];for(const o of n){const{id:i}=o,l=r.get(i);if(l){const c=U8(l,e);c>0&&a.push({id:i,data:{droppableContainer:o,value:c}})}}return a.sort(B8)};function V8(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function sS(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:fo}function H8(t){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.reduce((i,l)=>({...i,top:i.top+t*l.y,bottom:i.bottom+t*l.y,left:i.left+t*l.x,right:i.right+t*l.x}),{...r})}}const W8=H8(1);function G8(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function J8(t,e,r){const n=G8(e);if(!n)return t;const{scaleX:a,scaleY:o,x:i,y:l}=n,c=t.left-i-(1-a)*parseFloat(r),d=t.top-l-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),u=a?t.width/a:t.width,h=o?t.height/o:t.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const K8={ignoreTransform:!1};function au(t,e){e===void 0&&(e=K8);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:u}=Qa(t).getComputedStyle(t);d&&(r=J8(r,d,u))}const{top:n,left:a,width:o,height:i,bottom:l,right:c}=r;return{top:n,left:a,width:o,height:i,bottom:l,right:c}}function e5(t){return au(t,{ignoreTransform:!0})}function Y8(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function X8(t,e){return e===void 0&&(e=Qa(t).getComputedStyle(t)),e.position==="fixed"}function Q8(t,e){e===void 0&&(e=Qa(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?r.test(o):!1})}function Jv(t,e){const r=[];function n(a){if(e!=null&&r.length>=e||!a)return r;if(Hv(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!af(a)||rS(a)||r.includes(a))return r;const o=Qa(t).getComputedStyle(a);return a!==t&&Q8(a,o)&&r.push(a),X8(a,o)?r:n(a.parentNode)}return t?n(t):r}function oS(t){const[e]=Jv(t,1);return e??null}function iy(t){return!Sm||!t?null:ru(t)?t:Vv(t)?Hv(t)||t===nu(t).scrollingElement?window:af(t)?t:null:null}function iS(t){return ru(t)?t.scrollX:t.scrollLeft}function lS(t){return ru(t)?t.scrollY:t.scrollTop}function Kx(t){return{x:iS(t),y:lS(t)}}var Xn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Xn||(Xn={}));function cS(t){return!Sm||!t?!1:t===document.scrollingElement}function dS(t){const e={x:0,y:0},r=cS(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},a=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,i=t.scrollTop>=n.y,l=t.scrollLeft>=n.x;return{isTop:a,isLeft:o,isBottom:i,isRight:l,maxScroll:n,minScroll:e}}const Z8={x:.2,y:.2};function eR(t,e,r,n,a){let{top:o,left:i,right:l,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=Z8);const{isTop:d,isBottom:u,isLeft:h,isRight:g}=dS(t),p={x:0,y:0},w={x:0,y:0},b={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+b.height?(p.y=Xn.Backward,w.y=n*Math.abs((e.top+b.height-o)/b.height)):!u&&c>=e.bottom-b.height&&(p.y=Xn.Forward,w.y=n*Math.abs((e.bottom-b.height-c)/b.height)),!g&&l>=e.right-b.width?(p.x=Xn.Forward,w.x=n*Math.abs((e.right-b.width-l)/b.width)):!h&&i<=e.left+b.width&&(p.x=Xn.Backward,w.x=n*Math.abs((e.left+b.width-i)/b.width)),{direction:p,speed:w}}function tR(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:e,left:r,right:n,bottom:a}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:a,width:t.clientWidth,height:t.clientHeight}}function uS(t){return t.reduce((e,r)=>Nd(e,Kx(r)),fo)}function rR(t){return t.reduce((e,r)=>e+iS(r),0)}function nR(t){return t.reduce((e,r)=>e+lS(r),0)}function aR(t,e){if(e===void 0&&(e=au),!t)return;const{top:r,left:n,bottom:a,right:o}=e(t);oS(t)&&(a<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const sR=[["x",["left","right"],rR],["y",["top","bottom"],nR]];class Kv{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Jv(r),a=uS(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,l]of sR)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=l(n),u=a[o]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class hh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var a;(a=this.target)==null||a.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function oR(t){const{EventTarget:e}=Qa(t);return t instanceof e?t:nu(t)}function ly(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Rs;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Rs||(Rs={}));function t5(t){t.preventDefault()}function iR(t){t.stopPropagation()}var kr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(kr||(kr={}));const hS={start:[kr.Space,kr.Enter],cancel:[kr.Esc],end:[kr.Space,kr.Enter,kr.Tab]},lR=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case kr.Right:return{...r,x:r.x+25};case kr.Left:return{...r,x:r.x-25};case kr.Down:return{...r,y:r.y+25};case kr.Up:return{...r,y:r.y-25}}};class fS{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new hh(nu(r)),this.windowListeners=new hh(Qa(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rs.Resize,this.handleCancel),this.windowListeners.add(Rs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&aR(n),r(fo)}handleKeyDown(e){if(Gv(e)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:o=hS,coordinateGetter:i=lR,scrollBehavior:l="smooth"}=a,{code:c}=e;if(o.end.includes(c)){this.handleEnd(e);return}if(o.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:fo;this.referenceCoordinates||(this.referenceCoordinates=u);const h=i(e,{active:r,context:n.current,currentCoordinates:u});if(h){const g=N0(h,u),p={x:0,y:0},{scrollableAncestors:w}=n.current;for(const b of w){const _=e.code,{isTop:v,isRight:j,isLeft:L,isBottom:U,maxScroll:M,minScroll:q}=dS(b),y=tR(b),R={x:Math.min(_===kr.Right?y.right-y.width/2:y.right,Math.max(_===kr.Right?y.left:y.left+y.width/2,h.x)),y:Math.min(_===kr.Down?y.bottom-y.height/2:y.bottom,Math.max(_===kr.Down?y.top:y.top+y.height/2,h.y))},A=_===kr.Right&&!j||_===kr.Left&&!L,P=_===kr.Down&&!U||_===kr.Up&&!v;if(A&&R.x!==h.x){const x=b.scrollLeft+g.x,k=_===kr.Right&&x<=M.x||_===kr.Left&&x>=q.x;if(k&&!g.y){b.scrollTo({left:x,behavior:l});return}k?p.x=b.scrollLeft-x:p.x=_===kr.Right?b.scrollLeft-M.x:b.scrollLeft-q.x,p.x&&b.scrollBy({left:-p.x,behavior:l});break}else if(P&&R.y!==h.y){const x=b.scrollTop+g.y,k=_===kr.Down&&x<=M.y||_===kr.Up&&x>=q.y;if(k&&!g.x){b.scrollTo({top:x,behavior:l});return}k?p.y=b.scrollTop-x:p.y=_===kr.Down?b.scrollTop-M.y:b.scrollTop-q.y,p.y&&b.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(e,Nd(N0(h,this.referenceCoordinates),p))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fS.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=hS,onActivation:a}=e,{active:o}=r;const{code:i}=t.nativeEvent;if(n.start.includes(i)){const l=o.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),a==null||a({event:t.nativeEvent}),!0)}return!1}}];function r5(t){return!!(t&&"distance"in t)}function n5(t){return!!(t&&"delay"in t)}class Yv{constructor(e,r,n){var a;n===void 0&&(n=oR(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:o}=e,{target:i}=o;this.props=e,this.events=r,this.document=nu(i),this.documentListeners=new hh(this.document),this.listeners=new hh(n),this.windowListeners=new hh(Qa(i)),this.initialCoordinates=(a=Jx(o))!=null?a:fo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Rs.Resize,this.handleCancel),this.windowListeners.add(Rs.DragStart,t5),this.windowListeners.add(Rs.VisibilityChange,this.handleCancel),this.windowListeners.add(Rs.ContextMenu,t5),this.documentListeners.add(Rs.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(n5(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(r5(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:a}=this.props;a(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Rs.Click,iR,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rs.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:a,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!a)return;const c=(r=Jx(e))!=null?r:fo,d=N0(a,c);if(!n&&l){if(r5(l)){if(l.tolerance!=null&&ly(d,l.tolerance))return this.handleCancel();if(ly(d,l.distance))return this.handleStart()}if(n5(l)&&ly(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),i(c)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===kr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const cR={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Xv extends Yv{constructor(e){const{event:r}=e,n=nu(r.target);super(e,cR,n)}}Xv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const dR={move:{name:"mousemove"},end:{name:"mouseup"}};var Yx;(function(t){t[t.RightClick=2]="RightClick"})(Yx||(Yx={}));class uR extends Yv{constructor(e){super(e,dR,nu(e.event.target))}}uR.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===Yx.RightClick?!1:(n==null||n({event:r}),!0)}}];const cy={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class hR extends Yv{constructor(e){super(e,cy)}static setup(){return window.addEventListener(cy.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(cy.move.name,e)};function e(){}}}hR.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var fh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(fh||(fh={}));var C0;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(C0||(C0={}));function fR(t){let{acceleration:e,activator:r=fh.Pointer,canScroll:n,draggingRect:a,enabled:o,interval:i=5,order:l=C0.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:g}=t;const p=mR({delta:h,disabled:!o}),[w,b]=k8(),_=D.useRef({x:0,y:0}),v=D.useRef({x:0,y:0}),j=D.useMemo(()=>{switch(r){case fh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case fh.DraggableRect:return a}},[r,a,c]),L=D.useRef(null),U=D.useCallback(()=>{const q=L.current;if(!q)return;const y=_.current.x*v.current.x,R=_.current.y*v.current.y;q.scrollBy(y,R)},[]),M=D.useMemo(()=>l===C0.TreeOrder?[...d].reverse():d,[l,d]);D.useEffect(()=>{if(!o||!d.length||!j){b();return}for(const q of M){if((n==null?void 0:n(q))===!1)continue;const y=d.indexOf(q),R=u[y];if(!R)continue;const{direction:A,speed:P}=eR(q,R,j,e,g);for(const x of["x","y"])p[x][A[x]]||(P[x]=0,A[x]=0);if(P.x>0||P.y>0){b(),L.current=q,w(U,i),_.current=P,v.current=A;return}}_.current={x:0,y:0},v.current={x:0,y:0},b()},[e,U,n,b,o,i,JSON.stringify(j),JSON.stringify(p),w,d,M,u,JSON.stringify(g)])}const pR={x:{[Xn.Backward]:!1,[Xn.Forward]:!1},y:{[Xn.Backward]:!1,[Xn.Forward]:!1}};function mR(t){let{delta:e,disabled:r}=t;const n=Gx(e);return sf(a=>{if(r||!n||!a)return pR;const o={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Xn.Backward]:a.x[Xn.Backward]||o.x===-1,[Xn.Forward]:a.x[Xn.Forward]||o.x===1},y:{[Xn.Backward]:a.y[Xn.Backward]||o.y===-1,[Xn.Forward]:a.y[Xn.Forward]||o.y===1}}},[r,e,n])}function gR(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return sf(a=>{var o;return e==null?null:(o=n??a)!=null?o:null},[n,e])}function yR(t,e){return D.useMemo(()=>t.reduce((r,n)=>{const{sensor:a}=n,o=a.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,n)}));return[...r,...o]},[]),[t,e])}var $h;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})($h||($h={}));var Xx;(function(t){t.Optimized="optimized"})(Xx||(Xx={}));const a5=new Map;function xR(t,e){let{dragging:r,dependencies:n,config:a}=e;const[o,i]=D.useState(null),{frequency:l,measure:c,strategy:d}=a,u=D.useRef(t),h=_(),g=Fh(h),p=D.useCallback(function(v){v===void 0&&(v=[]),!g.current&&i(j=>j===null?v:j.concat(v.filter(L=>!j.includes(L))))},[g]),w=D.useRef(null),b=sf(v=>{if(h&&!r)return a5;if(!v||v===a5||u.current!==t||o!=null){const j=new Map;for(let L of t){if(!L)continue;if(o&&o.length>0&&!o.includes(L.id)&&L.rect.current){j.set(L.id,L.rect.current);continue}const U=L.node.current,M=U?new Kv(c(U),U):null;L.rect.current=M,M&&j.set(L.id,M)}return j}return v},[t,o,r,h,c]);return D.useEffect(()=>{u.current=t},[t]),D.useEffect(()=>{h||p()},[r,h]),D.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),D.useEffect(()=>{h||typeof l!="number"||w.current!==null||(w.current=setTimeout(()=>{p(),w.current=null},l))},[l,h,p,...n]),{droppableRects:b,measureDroppableContainers:p,measuringScheduled:o!=null};function _(){switch(d){case $h.Always:return!1;case $h.BeforeDragging:return r;default:return!r}}}function pS(t,e){return sf(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function bR(t,e){return pS(t,e)}function vR(t){let{callback:e,disabled:r}=t;const n=Wv(e),a=D.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return D.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Cm(t){let{callback:e,disabled:r}=t;const n=Wv(e),a=D.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return D.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function wR(t){return new Kv(au(t),t)}function s5(t,e,r){e===void 0&&(e=wR);const[n,a]=D.useState(null);function o(){a(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??r)!=null?d:null}const u=e(t);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const i=vR({callback(c){if(t)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),l=Cm({callback:o});return Ho(()=>{o(),t?(l==null||l.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[t]),n}function kR(t){const e=pS(t);return sS(t,e)}const o5=[];function jR(t){const e=D.useRef(t),r=sf(n=>t?n&&n!==o5&&t&&e.current&&t.parentNode===e.current.parentNode?n:Jv(t):o5,[t]);return D.useEffect(()=>{e.current=t},[t]),r}function NR(t){const[e,r]=D.useState(null),n=D.useRef(t),a=D.useCallback(o=>{const i=iy(o.target);i&&r(l=>l?(l.set(i,Kx(i)),new Map(l)):null)},[]);return D.useEffect(()=>{const o=n.current;if(t!==o){i(o);const l=t.map(c=>{const d=iy(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Kx(d)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=t}return()=>{i(t),i(o)};function i(l){l.forEach(c=>{const d=iy(c);d==null||d.removeEventListener("scroll",a)})}},[a,t]),D.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,i)=>Nd(o,i),fo):uS(t):fo,[t,e])}function i5(t,e){e===void 0&&(e=[]);const r=D.useRef(null);return D.useEffect(()=>{r.current=null},e),D.useEffect(()=>{const n=t!==fo;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?N0(t,r.current):fo}function SR(t){D.useEffect(()=>{if(!Sm)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function CR(t,e){return D.useMemo(()=>t.reduce((r,n)=>{let{eventName:a,handler:o}=n;return r[a]=i=>{o(i,e)},r},{}),[t,e])}function mS(t){return D.useMemo(()=>t?Y8(t):null,[t])}const l5=[];function _R(t,e){e===void 0&&(e=au);const[r]=t,n=mS(r?Qa(r):null),[a,o]=D.useState(l5);function i(){o(()=>t.length?t.map(c=>cS(c)?n:new Kv(e(c),c)):l5)}const l=Cm({callback:i});return Ho(()=>{l==null||l.disconnect(),i(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),a}function ER(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return af(e)?e:t}function AR(t){let{measure:e}=t;const[r,n]=D.useState(null),a=D.useCallback(d=>{for(const{target:u}of d)if(af(u)){n(h=>{const g=e(u);return h?{...h,width:g.width,height:g.height}:g});break}},[e]),o=Cm({callback:a}),i=D.useCallback(d=>{const u=ER(d);o==null||o.disconnect(),u&&(o==null||o.observe(u)),n(u?e(u):null)},[e,o]),[l,c]=j0(i);return D.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const PR=[{sensor:Xv,options:{}},{sensor:fS,options:{}}],DR={current:{}},Tp={draggable:{measure:e5},droppable:{measure:e5,strategy:$h.WhileDragging,frequency:Xx.Optimized},dragOverlay:{measure:au}};class ph extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const IR={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ph,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:S0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Tp,measureDroppableContainers:S0,windowRect:null,measuringScheduled:!1},LR={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:S0,draggableNodes:new Map,over:null,measureDroppableContainers:S0},_m=D.createContext(LR),gS=D.createContext(IR);function RR(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ph}}}function TR(t,e){switch(e.type){case Un.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Un.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Un.DragEnd:case Un.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Un.RegisterDroppable:{const{element:r}=e,{id:n}=r,a=new ph(t.droppable.containers);return a.set(n,r),{...t,droppable:{...t.droppable,containers:a}}}case Un.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=e,o=t.droppable.containers.get(r);if(!o||n!==o.key)return t;const i=new ph(t.droppable.containers);return i.set(r,{...o,disabled:a}),{...t,droppable:{...t.droppable,containers:i}}}case Un.UnregisterDroppable:{const{id:r,key:n}=e,a=t.droppable.containers.get(r);if(!a||n!==a.key)return t;const o=new ph(t.droppable.containers);return o.delete(r),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function OR(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:a}=D.useContext(_m),o=Gx(n),i=Gx(r==null?void 0:r.id);return D.useEffect(()=>{if(!e&&!n&&o&&i!=null){if(!Gv(o)||document.activeElement===o.target)return;const l=a.get(i);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=S8(u);if(h){h.focus();break}}})}},[n,e,a,i,o]),null}function MR(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((a,o)=>o({transform:a,...n}),r):r}function FR(t){return D.useMemo(()=>({draggable:{...Tp.draggable,...t==null?void 0:t.draggable},droppable:{...Tp.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Tp.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function BR(t){let{activeNode:e,measure:r,initialRect:n,config:a=!0}=t;const o=D.useRef(!1),{x:i,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Ho(()=>{if(!i&&!l||!e){o.current=!1;return}if(o.current||!n)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const u=r(d),h=sS(u,n);if(i||(h.x=0),l||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const g=oS(d);g&&g.scrollBy({top:h.y,left:h.x})}},[e,i,l,n,r])}const yS=D.createContext({...fo,scaleX:1,scaleY:1});var il;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(il||(il={}));const $R=D.memo(function(e){var r,n,a,o;let{id:i,accessibility:l,autoScroll:c=!0,children:d,sensors:u=PR,collisionDetection:h=z8,measuring:g,modifiers:p,...w}=e;const b=D.useReducer(TR,void 0,RR),[_,v]=b,[j,L]=D8(),[U,M]=D.useState(il.Uninitialized),q=U===il.Initialized,{draggable:{active:y,nodes:R,translate:A},droppable:{containers:P}}=_,x=y!=null?R.get(y):null,k=D.useRef({initial:null,translated:null}),E=D.useMemo(()=>{var mr;return y!=null?{id:y,data:(mr=x==null?void 0:x.data)!=null?mr:DR,rect:k}:null},[y,x]),C=D.useRef(null),[z,V]=D.useState(null),[K,W]=D.useState(null),B=Fh(w,Object.values(w)),G=of("DndDescribedBy",i),X=D.useMemo(()=>P.getEnabled(),[P]),T=FR(g),{droppableRects:J,measureDroppableContainers:ee,measuringScheduled:le}=xR(X,{dragging:q,dependencies:[A.x,A.y],config:T.droppable}),ue=gR(R,y),de=D.useMemo(()=>K?Jx(K):null,[K]),be=Sn(),me=bR(ue,T.draggable.measure);BR({activeNode:y!=null?R.get(y):null,config:be.layoutShiftCompensation,initialRect:me,measure:T.draggable.measure});const ve=s5(ue,T.draggable.measure,me),Le=s5(ue?ue.parentElement:null),Te=D.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),We=P.getNodeFor((r=Te.current.over)==null?void 0:r.id),ct=AR({measure:T.dragOverlay.measure}),Fe=(n=ct.nodeRef.current)!=null?n:ue,ge=q?(a=ct.rect)!=null?a:ve:null,yt=!!(ct.nodeRef.current&&ct.rect),rt=kR(yt?null:ve),Je=mS(Fe?Qa(Fe):null),et=jR(q?We??ue:null),oe=_R(et),ke=MR(p,{transform:{x:A.x-rt.x,y:A.y-rt.y,scaleX:1,scaleY:1},activatorEvent:K,active:E,activeNodeRect:ve,containerNodeRect:Le,draggingNodeRect:ge,over:Te.current.over,overlayNodeRect:ct.rect,scrollableAncestors:et,scrollableAncestorRects:oe,windowRect:Je}),Pe=de?Nd(de,A):null,tt=NR(et),$e=i5(tt),st=i5(tt,[ve]),Nt=Nd(ke,$e),Tt=ge?W8(ge,ke):null,St=E&&Tt?h({active:E,collisionRect:Tt,droppableRects:J,droppableContainers:X,pointerCoordinates:Pe}):null,Kt=$8(St,"id"),[ut,Gr]=D.useState(null),Gt=yt?ke:Nd(ke,st),mn=V8(Gt,(o=ut==null?void 0:ut.rect)!=null?o:null,ve),nr=D.useRef(null),Cr=D.useCallback((mr,tr)=>{let{sensor:wt,options:Dt}=tr;if(C.current==null)return;const lr=R.get(C.current);if(!lr)return;const cr=mr.nativeEvent,rn=new wt({active:C.current,activeNode:lr,event:cr,options:Dt,context:Te,onAbort(mt){if(!R.get(mt))return;const{onDragAbort:Lr}=B.current,Rr={id:mt};Lr==null||Lr(Rr),j({type:"onDragAbort",event:Rr})},onPending(mt,Fr,Lr,Rr){if(!R.get(mt))return;const{onDragPending:Tr}=B.current,Xr={id:mt,constraint:Fr,initialCoordinates:Lr,offset:Rr};Tr==null||Tr(Xr),j({type:"onDragPending",event:Xr})},onStart(mt){const Fr=C.current;if(Fr==null)return;const Lr=R.get(Fr);if(!Lr)return;const{onDragStart:Rr}=B.current,Nr={activatorEvent:cr,active:{id:Fr,data:Lr.data,rect:k}};sc.unstable_batchedUpdates(()=>{Rr==null||Rr(Nr),M(il.Initializing),v({type:Un.DragStart,initialCoordinates:mt,active:Fr}),j({type:"onDragStart",event:Nr}),V(nr.current),W(cr)})},onMove(mt){v({type:Un.DragMove,coordinates:mt})},onEnd:Cn(Un.DragEnd),onCancel:Cn(Un.DragCancel)});nr.current=rn;function Cn(mt){return async function(){const{active:Lr,collisions:Rr,over:Nr,scrollAdjustedTranslate:Tr}=Te.current;let Xr=null;if(Lr&&Tr){const{cancelDrop:Ra}=B.current;Xr={activatorEvent:cr,active:Lr,collisions:Rr,delta:Tr,over:Nr},mt===Un.DragEnd&&typeof Ra=="function"&&await Promise.resolve(Ra(Xr))&&(mt=Un.DragCancel)}C.current=null,sc.unstable_batchedUpdates(()=>{v({type:mt}),M(il.Uninitialized),Gr(null),V(null),W(null),nr.current=null;const Ra=mt===Un.DragEnd?"onDragEnd":"onDragCancel";if(Xr){const ca=B.current[Ra];ca==null||ca(Xr),j({type:Ra,event:Xr})}})}}},[R]),ra=D.useCallback((mr,tr)=>(wt,Dt)=>{const lr=wt.nativeEvent,cr=R.get(Dt);if(C.current!==null||!cr||lr.dndKit||lr.defaultPrevented)return;const rn={active:cr};mr(wt,tr.options,rn)===!0&&(lr.dndKit={capturedBy:tr.sensor},C.current=Dt,Cr(wt,tr))},[R,Cr]),sr=yR(u,ra);SR(u),Ho(()=>{ve&&U===il.Initializing&&M(il.Initialized)},[ve,U]),D.useEffect(()=>{const{onDragMove:mr}=B.current,{active:tr,activatorEvent:wt,collisions:Dt,over:lr}=Te.current;if(!tr||!wt)return;const cr={active:tr,activatorEvent:wt,collisions:Dt,delta:{x:Nt.x,y:Nt.y},over:lr};sc.unstable_batchedUpdates(()=>{mr==null||mr(cr),j({type:"onDragMove",event:cr})})},[Nt.x,Nt.y]),D.useEffect(()=>{const{active:mr,activatorEvent:tr,collisions:wt,droppableContainers:Dt,scrollAdjustedTranslate:lr}=Te.current;if(!mr||C.current==null||!tr||!lr)return;const{onDragOver:cr}=B.current,rn=Dt.get(Kt),Cn=rn&&rn.rect.current?{id:rn.id,rect:rn.rect.current,data:rn.data,disabled:rn.disabled}:null,mt={active:mr,activatorEvent:tr,collisions:wt,delta:{x:lr.x,y:lr.y},over:Cn};sc.unstable_batchedUpdates(()=>{Gr(Cn),cr==null||cr(mt),j({type:"onDragOver",event:mt})})},[Kt]),Ho(()=>{Te.current={activatorEvent:K,active:E,activeNode:ue,collisionRect:Tt,collisions:St,droppableRects:J,draggableNodes:R,draggingNode:Fe,draggingNodeRect:ge,droppableContainers:P,over:ut,scrollableAncestors:et,scrollAdjustedTranslate:Nt},k.current={initial:ge,translated:Tt}},[E,ue,St,Tt,R,Fe,ge,J,P,ut,et,Nt]),fR({...be,delta:A,draggingRect:Tt,pointerCoordinates:Pe,scrollableAncestors:et,scrollableAncestorRects:oe});const Ns=D.useMemo(()=>({active:E,activeNode:ue,activeNodeRect:ve,activatorEvent:K,collisions:St,containerNodeRect:Le,dragOverlay:ct,draggableNodes:R,droppableContainers:P,droppableRects:J,over:ut,measureDroppableContainers:ee,scrollableAncestors:et,scrollableAncestorRects:oe,measuringConfiguration:T,measuringScheduled:le,windowRect:Je}),[E,ue,ve,K,St,Le,ct,R,P,J,ut,ee,et,oe,T,le,Je]),qr=D.useMemo(()=>({activatorEvent:K,activators:sr,active:E,activeNodeRect:ve,ariaDescribedById:{draggable:G},dispatch:v,draggableNodes:R,over:ut,measureDroppableContainers:ee}),[K,sr,E,ve,v,G,R,ut,ee]);return Ar.createElement(aS.Provider,{value:L},Ar.createElement(_m.Provider,{value:qr},Ar.createElement(gS.Provider,{value:Ns},Ar.createElement(yS.Provider,{value:mn},d)),Ar.createElement(OR,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Ar.createElement(R8,{...l,hiddenTextDescribedById:G}));function Sn(){const mr=(z==null?void 0:z.autoScrollEnabled)===!1,tr=typeof c=="object"?c.enabled===!1:c===!1,wt=q&&!mr&&!tr;return typeof c=="object"?{...c,enabled:wt}:{enabled:wt}}}),qR=D.createContext(null),c5="button",UR="Draggable";function zR(t){let{id:e,data:r,disabled:n=!1,attributes:a}=t;const o=of(UR),{activators:i,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:g}=D.useContext(_m),{role:p=c5,roleDescription:w="draggable",tabIndex:b=0}=a??{},_=(c==null?void 0:c.id)===e,v=D.useContext(_?yS:qR),[j,L]=j0(),[U,M]=j0(),q=CR(i,e),y=Fh(r);Ho(()=>(h.set(e,{id:e,key:o,node:j,activatorNode:U,data:y}),()=>{const A=h.get(e);A&&A.key===o&&h.delete(e)}),[h,e]);const R=D.useMemo(()=>({role:p,tabIndex:b,"aria-disabled":n,"aria-pressed":_&&p===c5?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[n,p,b,_,w,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:R,isDragging:_,listeners:n?void 0:q,node:j,over:g,setNodeRef:L,setActivatorNodeRef:M,transform:v}}function VR(){return D.useContext(gS)}const HR="Droppable",WR={timeout:25};function GR(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:a}=t;const o=of(HR),{active:i,dispatch:l,over:c,measureDroppableContainers:d}=D.useContext(_m),u=D.useRef({disabled:r}),h=D.useRef(!1),g=D.useRef(null),p=D.useRef(null),{disabled:w,updateMeasurementsFor:b,timeout:_}={...WR,...a},v=Fh(b??n),j=D.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(v.current)?v.current:[v.current]),p.current=null},_)},[_]),L=Cm({callback:j,disabled:w||!i}),U=D.useCallback((R,A)=>{L&&(A&&(L.unobserve(A),h.current=!1),R&&L.observe(R))},[L]),[M,q]=j0(U),y=Fh(e);return D.useEffect(()=>{!L||!M.current||(L.disconnect(),h.current=!1,L.observe(M.current))},[M,L]),D.useEffect(()=>(l({type:Un.RegisterDroppable,element:{id:n,key:o,disabled:r,node:M,rect:g,data:y}}),()=>l({type:Un.UnregisterDroppable,key:o,id:n})),[n]),D.useEffect(()=>{r!==u.current.disabled&&(l({type:Un.SetDroppableDisabled,id:n,key:o,disabled:r}),u.current.disabled=r)},[n,o,r,l]),{active:i,rect:g,isOver:(c==null?void 0:c.id)===n,node:M,over:c,setNodeRef:q}}function xS(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function JR(t,e){return t.reduce((r,n,a)=>{const o=e.get(n);return o&&(r[a]=o),r},Array(t.length))}function ip(t){return t!==null&&t>=0}function KR(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function YR(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const bS=t=>{let{rects:e,activeIndex:r,overIndex:n,index:a}=t;const o=xS(e,n,r),i=e[a],l=o[a];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},lp={scaleX:1,scaleY:1},XR=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:a,rects:o,overIndex:i}=t;const l=(e=o[r])!=null?e:n;if(!l)return null;if(a===r){const d=o[i];return d?{x:0,y:r<i?d.top+d.height-(l.top+l.height):d.top-l.top,...lp}:null}const c=QR(o,a,r);return a>r&&a<=i?{x:0,y:-l.height-c,...lp}:a<r&&a>=i?{x:0,y:l.height+c,...lp}:{x:0,y:0,...lp}};function QR(t,e,r){const n=t[e],a=t[e-1],o=t[e+1];return n?r<e?a?n.top-(a.top+a.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const vS="Sortable",wS=Ar.createContext({activeIndex:-1,containerId:vS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bS,disabled:{draggable:!1,droppable:!1}});function ZR(t){let{children:e,id:r,items:n,strategy:a=bS,disabled:o=!1}=t;const{active:i,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=VR(),h=of(vS,r),g=l.rect!==null,p=D.useMemo(()=>n.map(q=>typeof q=="object"&&"id"in q?q.id:q),[n]),w=i!=null,b=i?p.indexOf(i.id):-1,_=d?p.indexOf(d.id):-1,v=D.useRef(p),j=!KR(p,v.current),L=_!==-1&&b===-1||j,U=YR(o);Ho(()=>{j&&w&&u(p)},[j,p,w,u]),D.useEffect(()=>{v.current=p},[p]);const M=D.useMemo(()=>({activeIndex:b,containerId:h,disabled:U,disableTransforms:L,items:p,overIndex:_,useDragOverlay:g,sortedRects:JR(p,c),strategy:a}),[b,h,U.draggable,U.droppable,L,p,_,c,g,a]);return Ar.createElement(wS.Provider,{value:M},e)}const e9=t=>{let{id:e,items:r,activeIndex:n,overIndex:a}=t;return xS(r,n,a).indexOf(e)},t9=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:a,items:o,newIndex:i,previousItems:l,previousContainerId:c,transition:d}=t;return!d||!n||l!==o&&a===i?!1:r?!0:i!==a&&e===c},r9={duration:200,easing:"ease"},kS="transform",n9=Bh.Transition.toString({property:kS,duration:0,easing:"linear"}),a9={roleDescription:"sortable"};function s9(t){let{disabled:e,index:r,node:n,rect:a}=t;const[o,i]=D.useState(null),l=D.useRef(r);return Ho(()=>{if(!e&&r!==l.current&&n.current){const c=a.current;if(c){const d=au(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&i(u)}}r!==l.current&&(l.current=r)},[e,r,n,a]),D.useEffect(()=>{o&&i(null)},[o]),o}function o9(t){let{animateLayoutChanges:e=t9,attributes:r,disabled:n,data:a,getNewIndex:o=e9,id:i,strategy:l,resizeObserverConfig:c,transition:d=r9}=t;const{items:u,containerId:h,activeIndex:g,disabled:p,disableTransforms:w,sortedRects:b,overIndex:_,useDragOverlay:v,strategy:j}=D.useContext(wS),L=i9(n,p),U=u.indexOf(i),M=D.useMemo(()=>({sortable:{containerId:h,index:U,items:u},...a}),[h,a,U,u]),q=D.useMemo(()=>u.slice(u.indexOf(i)),[u,i]),{rect:y,node:R,isOver:A,setNodeRef:P}=GR({id:i,data:M,disabled:L.droppable,resizeObserverConfig:{updateMeasurementsFor:q,...c}}),{active:x,activatorEvent:k,activeNodeRect:E,attributes:C,setNodeRef:z,listeners:V,isDragging:K,over:W,setActivatorNodeRef:B,transform:G}=zR({id:i,data:M,attributes:{...a9,...r},disabled:L.draggable}),X=w8(P,z),T=!!x,J=T&&!w&&ip(g)&&ip(_),ee=!v&&K,le=ee&&J?G:null,de=J?le??(l??j)({rects:b,activeNodeRect:E,activeIndex:g,overIndex:_,index:U}):null,be=ip(g)&&ip(_)?o({id:i,items:u,activeIndex:g,overIndex:_}):U,me=x==null?void 0:x.id,ve=D.useRef({activeId:me,items:u,newIndex:be,containerId:h}),Le=u!==ve.current.items,Te=e({active:x,containerId:h,isDragging:K,isSorting:T,id:i,index:U,items:u,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:d,wasDragging:ve.current.activeId!=null}),We=s9({disabled:!Te,index:U,node:R,rect:y});return D.useEffect(()=>{T&&ve.current.newIndex!==be&&(ve.current.newIndex=be),h!==ve.current.containerId&&(ve.current.containerId=h),u!==ve.current.items&&(ve.current.items=u)},[T,be,h,u]),D.useEffect(()=>{if(me===ve.current.activeId)return;if(me&&!ve.current.activeId){ve.current.activeId=me;return}const Fe=setTimeout(()=>{ve.current.activeId=me},50);return()=>clearTimeout(Fe)},[me]),{active:x,activeIndex:g,attributes:C,data:M,rect:y,index:U,newIndex:be,items:u,isOver:A,isSorting:T,isDragging:K,listeners:V,node:R,overIndex:_,over:W,setNodeRef:X,setActivatorNodeRef:B,setDroppableNodeRef:P,setDraggableNodeRef:z,transform:We??de,transition:ct()};function ct(){if(We||Le&&ve.current.newIndex===U)return n9;if(!(ee&&!Gv(k)||!d)&&(T||Te))return Bh.Transition.toString({...d,property:kS})}}function i9(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}kr.Down,kr.Right,kr.Up,kr.Left;function l9({category:t,depth:e=0,onEdit:r,onDelete:n,onToggleStatus:a,onCreateSubcategory:o}){const i=e>0,{attributes:l,listeners:c,setNodeRef:d,transform:u,transition:h,isDragging:g}=o9({id:t.id}),p={transform:Bh.Transform.toString(u),transition:h,opacity:g?.5:1};return s.jsxs("tr",{ref:d,style:p,className:`
        transition-colors
        ${i?"bg-secondary-100 dark:bg-secondary-800/70 hover:bg-secondary-200 dark:hover:bg-secondary-800":"hover:bg-secondary-50 dark:hover:bg-secondary-800/50"}
      `,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center",children:[!i&&s.jsx("div",{...l,...c,className:"cursor-grab active:cursor-grabbing",children:s.jsx(qD,{className:"h-5 w-5 text-secondary-400 dark:text-secondary-500 mr-2"})}),s.jsx("div",{className:"flex items-center",style:{marginLeft:`${e*32}px`},children:t.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:t.type==="REVENUE"?"Receita":t.type==="EXPENSE"?"Despesa":"Ambos"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.active,onChange:()=>a(t)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e<6&&s.jsx("button",{onClick:()=>o(t),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Criar Subcategoria",children:s.jsx(N4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(t),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Editar",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(t),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]})}function jS(t,e,r){const n=[s.jsx(l9,{category:t,depth:e,...r},t.id)];if(e<5&&Array.isArray(t.subcategories)&&t.subcategories.length>0)for(const a of t.subcategories)n.push(...jS(a,e+1,r));return n}function c9(t){const e=[],r=n=>{for(const a of n)e.push(a.id),Array.isArray(a.subcategories)&&r(a.subcategories)};return r(t),e}function d9({categories:t,onEdit:e,onDelete:r,onToggleStatus:n,onCreateSubcategory:a,onReorder:o}){const i=O8(T8(Xv,{activationConstraint:{distance:8}}));if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(N4,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma categoria cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Categoria" para comear a cadastrar categorias no sistema.'})]});const l=t.filter(h=>h.type==="REVENUE"&&!h.parentId),c=t.filter(h=>h.type==="EXPENSE"&&!h.parentId),d=(h,g)=>{const{active:p,over:w}=h;if(w&&p.id!==w.id){const b=g==="REVENUE"?l:c,_=b.findIndex(j=>j.id===p.id),v=b.findIndex(j=>j.id===w.id);o(_,v,g)}},u=({categories:h,title:g,type:p})=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4 px-6",children:g}),s.jsx($R,{sensors:i,collisionDetection:q8,onDragEnd:w=>d(w,p),children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:s.jsx(ZR,{items:c9(h),strategy:XR,children:h.flatMap(w=>jS(w,0,{onEdit:e,onDelete:r,onToggleStatus:n,onCreateSubcategory:a}))})})]})})]});return s.jsxs("div",{className:"overflow-x-auto",children:[s.jsx(u,{categories:l,title:"Receitas",type:"REVENUE"}),s.jsx(u,{categories:c,title:"Despesas",type:"EXPENSE"})]})}/*!
* sweetalert2 v11.22.0
* Released under the MIT License.
*/function NS(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function u9(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d5(t,e){return t.get(NS(t,e))}function h9(t,e,r){u9(t,e),e.set(t,r)}function f9(t,e,r){return t.set(NS(t,e),r),r}const p9=100,Lt={},m9=()=>{Lt.previousActiveElement instanceof HTMLElement?(Lt.previousActiveElement.focus(),Lt.previousActiveElement=null):document.body&&document.body.focus()},g9=t=>new Promise(e=>{if(!t)return e();const r=window.scrollX,n=window.scrollY;Lt.restoreFocusTimeout=setTimeout(()=>{m9(),e()},p9),window.scrollTo(r,n)}),SS="swal2-",y9=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],He=y9.reduce((t,e)=>(t[e]=SS+e,t),{}),x9=["success","warning","info","question","error"],_0=x9.reduce((t,e)=>(t[e]=SS+e,t),{}),CS="SweetAlert2:",Qv=t=>t.charAt(0).toUpperCase()+t.slice(1),Pa=t=>{console.warn(`${CS} ${typeof t=="object"?t.join(" "):t}`)},Sc=t=>{console.error(`${CS} ${t}`)},u5=[],b9=t=>{u5.includes(t)||(u5.push(t),Pa(t))},_S=(t,e=null)=>{b9(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Em=t=>typeof t=="function"?t():t,Zv=t=>t&&typeof t.toPromise=="function",lf=t=>Zv(t)?t.toPromise():Promise.resolve(t),ew=t=>t&&Promise.resolve(t)===t,La=()=>document.body.querySelector(`.${He.container}`),cf=t=>{const e=La();return e?e.querySelector(t):null},vs=t=>cf(`.${t}`),yr=()=>vs(He.popup),su=()=>vs(He.icon),v9=()=>vs(He["icon-content"]),ES=()=>vs(He.title),tw=()=>vs(He["html-container"]),AS=()=>vs(He.image),rw=()=>vs(He["progress-steps"]),Am=()=>vs(He["validation-message"]),Wo=()=>cf(`.${He.actions} .${He.confirm}`),ou=()=>cf(`.${He.actions} .${He.cancel}`),Cc=()=>cf(`.${He.actions} .${He.deny}`),w9=()=>vs(He["input-label"]),iu=()=>cf(`.${He.loader}`),df=()=>vs(He.actions),PS=()=>vs(He.footer),Pm=()=>vs(He["timer-progress-bar"]),nw=()=>vs(He.close),k9=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,aw=()=>{const t=yr();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(e).sort((o,i)=>{const l=parseInt(o.getAttribute("tabindex")||"0"),c=parseInt(i.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),n=t.querySelectorAll(k9),a=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(a))].filter(o=>Ja(o))},sw=()=>yi(document.body,He.shown)&&!yi(document.body,He["toast-shown"])&&!yi(document.body,He["no-backdrop"]),Dm=()=>{const t=yr();return t?yi(t,He.toast):!1},j9=()=>{const t=yr();return t?t.hasAttribute("data-loading"):!1},ws=(t,e)=>{if(t.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach(i=>{t.appendChild(i)});const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?t.appendChild(i.cloneNode(!0)):t.appendChild(i)})}},yi=(t,e)=>{if(!e)return!1;const r=e.split(/\s+/);for(let n=0;n<r.length;n++)if(!t.classList.contains(r[n]))return!1;return!0},N9=(t,e)=>{Array.from(t.classList).forEach(r=>{!Object.values(He).includes(r)&&!Object.values(_0).includes(r)&&!Object.values(e.showClass||{}).includes(r)&&t.classList.remove(r)})},ys=(t,e,r)=>{if(N9(t,e),!e.customClass)return;const n=e.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){Pa(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}jr(t,n)}},Im=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${He.popup} > .${He[e]}`);case"checkbox":return t.querySelector(`.${He.popup} > .${He.checkbox} input`);case"radio":return t.querySelector(`.${He.popup} > .${He.radio} input:checked`)||t.querySelector(`.${He.popup} > .${He.radio} input:first-child`);case"range":return t.querySelector(`.${He.popup} > .${He.range} input`);default:return t.querySelector(`.${He.popup} > .${He.input}`)}},DS=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},IS=(t,e,r)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(t)?t.forEach(a=>{r?a.classList.add(n):a.classList.remove(n)}):r?t.classList.add(n):t.classList.remove(n)}))},jr=(t,e)=>{IS(t,e,!0)},qs=(t,e)=>{IS(t,e,!1)},fl=(t,e)=>{const r=Array.from(t.children);for(let n=0;n<r.length;n++){const a=r[n];if(a instanceof HTMLElement&&yi(a,e))return a}},cc=(t,e,r)=>{r===`${parseInt(r)}`&&(r=parseInt(r)),r||parseInt(r)===0?t.style.setProperty(e,typeof r=="number"?`${r}px`:r):t.style.removeProperty(e)},ea=(t,e="flex")=>{t&&(t.style.display=e)},ka=t=>{t&&(t.style.display="none")},ow=(t,e="block")=>{t&&new MutationObserver(()=>{uf(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},h5=(t,e,r,n)=>{const a=t.querySelector(e);a&&a.style.setProperty(r,n)},uf=(t,e,r="flex")=>{e?ea(t,r):ka(t)},Ja=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),S9=()=>!Ja(Wo())&&!Ja(Cc())&&!Ja(ou()),Qx=t=>t.scrollHeight>t.clientHeight,C9=(t,e)=>{let r=t;for(;r&&r!==e;){if(Qx(r))return!0;r=r.parentElement}return!1},LS=t=>{const e=window.getComputedStyle(t),r=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return r>0||n>0},iw=(t,e=!1)=>{const r=Pm();r&&Ja(r)&&(e&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},_9=()=>{const t=Pm();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),n=e/r*100;t.style.width=`${n}%`},E9=()=>typeof window>"u"||typeof document>"u",A9=`
 <div aria-labelledby="${He.title}" aria-describedby="${He["html-container"]}" class="${He.popup}" tabindex="-1">
   <button type="button" class="${He.close}"></button>
   <ul class="${He["progress-steps"]}"></ul>
   <div class="${He.icon}"></div>
   <img class="${He.image}" />
   <h2 class="${He.title}" id="${He.title}"></h2>
   <div class="${He["html-container"]}" id="${He["html-container"]}"></div>
   <input class="${He.input}" id="${He.input}" />
   <input type="file" class="${He.file}" />
   <div class="${He.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${He.select}" id="${He.select}"></select>
   <div class="${He.radio}"></div>
   <label class="${He.checkbox}">
     <input type="checkbox" id="${He.checkbox}" />
     <span class="${He.label}"></span>
   </label>
   <textarea class="${He.textarea}" id="${He.textarea}"></textarea>
   <div class="${He["validation-message"]}" id="${He["validation-message"]}"></div>
   <div class="${He.actions}">
     <div class="${He.loader}"></div>
     <button type="button" class="${He.confirm}"></button>
     <button type="button" class="${He.deny}"></button>
     <button type="button" class="${He.cancel}"></button>
   </div>
   <div class="${He.footer}"></div>
   <div class="${He["timer-progress-bar-container"]}">
     <div class="${He["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),P9=()=>{const t=La();return t?(t.remove(),qs([document.documentElement,document.body],[He["no-backdrop"],He["toast-shown"],He["has-column"]]),!0):!1},Kl=()=>{Lt.currentInstance.resetValidationMessage()},D9=()=>{const t=yr(),e=fl(t,He.input),r=fl(t,He.file),n=t.querySelector(`.${He.range} input`),a=t.querySelector(`.${He.range} output`),o=fl(t,He.select),i=t.querySelector(`.${He.checkbox} input`),l=fl(t,He.textarea);e.oninput=Kl,r.onchange=Kl,o.onchange=Kl,i.onchange=Kl,l.oninput=Kl,n.oninput=()=>{Kl(),a.value=n.value},n.onchange=()=>{Kl(),a.value=n.value}},I9=t=>typeof t=="string"?document.querySelector(t):t,L9=t=>{const e=yr();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},R9=t=>{window.getComputedStyle(t).direction==="rtl"&&jr(La(),He.rtl)},T9=t=>{const e=P9();if(E9()){Sc("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=He.container,e&&jr(r,He["no-transition"]),ws(r,A9),r.dataset.swal2Theme=t.theme;const n=I9(t.target);n.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),L9(t),R9(n),D9()},lw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?O9(t,e):t&&ws(e,t)},O9=(t,e)=>{t.jquery?M9(e,t):ws(e,t.toString())},M9=(t,e)=>{if(t.textContent="",0 in e)for(let r=0;r in e;r++)t.appendChild(e[r].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},F9=(t,e)=>{const r=df(),n=iu();!r||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ka(r):ea(r),ys(r,e,"actions"),B9(r,n,e),ws(n,e.loaderHtml||""),ys(n,e,"loader"))};function B9(t,e,r){const n=Wo(),a=Cc(),o=ou();!n||!a||!o||(uy(n,"confirm",r),uy(a,"deny",r),uy(o,"cancel",r),$9(n,a,o,r),r.reverseButtons&&(r.toast?(t.insertBefore(o,n),t.insertBefore(a,n)):(t.insertBefore(o,e),t.insertBefore(a,e),t.insertBefore(n,e))))}function $9(t,e,r,n){if(!n.buttonsStyling){qs([t,e,r],He.styled);return}jr([t,e,r],He.styled),n.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),dy(t),dy(e),dy(r)}function dy(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function uy(t,e,r){const n=Qv(e);uf(t,r[`show${n}Button`],"inline-block"),ws(t,r[`${e}ButtonText`]||""),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]||""),t.className=He[e],ys(t,r,`${e}Button`)}const q9=(t,e)=>{const r=nw();r&&(ws(r,e.closeButtonHtml||""),ys(r,e,"closeButton"),uf(r,e.showCloseButton),r.setAttribute("aria-label",e.closeButtonAriaLabel||""))},U9=(t,e)=>{const r=La();r&&(z9(r,e.backdrop),V9(r,e.position),H9(r,e.grow),ys(r,e,"container"))};function z9(t,e){typeof e=="string"?t.style.background=e:e||jr([document.documentElement,document.body],He["no-backdrop"])}function V9(t,e){e&&(e in He?jr(t,He[e]):(Pa('The "position" parameter is not valid, defaulting to "center"'),jr(t,He.center)))}function H9(t,e){e&&jr(t,He[`grow-${e}`])}var Wr={innerParams:new WeakMap,domCache:new WeakMap};const W9=["input","file","range","select","radio","checkbox","textarea"],G9=(t,e)=>{const r=yr();if(!r)return;const n=Wr.innerParams.get(t),a=!n||e.input!==n.input;W9.forEach(o=>{const i=fl(r,He[o]);i&&(Y9(o,e.inputAttributes),i.className=He[o],a&&ka(i))}),e.input&&(a&&J9(e),X9(e))},J9=t=>{if(!t.input)return;if(!bn[t.input]){Sc(`Unexpected type of input! Expected ${Object.keys(bn).join(" | ")}, got "${t.input}"`);return}const e=RS(t.input);if(!e)return;const r=bn[t.input](e,t);ea(e),t.inputAutoFocus&&setTimeout(()=>{DS(r)})},K9=t=>{for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},Y9=(t,e)=>{const r=yr();if(!r)return;const n=Im(r,t);if(n){K9(n);for(const a in e)n.setAttribute(a,e[a])}},X9=t=>{if(!t.input)return;const e=RS(t.input);e&&ys(e,t,"input")},cw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},hf=(t,e,r)=>{if(r.inputLabel){const n=document.createElement("label"),a=He["input-label"];n.setAttribute("for",t.id),n.className=a,typeof r.customClass=="object"&&jr(n,r.customClass.inputLabel),n.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",n)}},RS=t=>{const e=yr();if(e)return fl(e,He[t]||He.input)},E0=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:ew(e)||Pa(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},bn={};bn.text=bn.email=bn.password=bn.number=bn.tel=bn.url=bn.search=bn.date=bn["datetime-local"]=bn.time=bn.week=bn.month=(t,e)=>(E0(t,e.inputValue),hf(t,t,e),cw(t,e),t.type=e.input,t);bn.file=(t,e)=>(hf(t,t,e),cw(t,e),t);bn.range=(t,e)=>{const r=t.querySelector("input"),n=t.querySelector("output");return E0(r,e.inputValue),r.type=e.input,E0(n,e.inputValue),hf(r,t,e),t};bn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const r=document.createElement("option");ws(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return hf(t,t,e),t};bn.radio=t=>(t.textContent="",t);bn.checkbox=(t,e)=>{const r=Im(yr(),"checkbox");r.value="1",r.checked=!!e.inputValue;const n=t.querySelector("span");return ws(n,e.inputPlaceholder||e.inputLabel),r};bn.textarea=(t,e)=>{E0(t,e.inputValue),cw(t,e),hf(t,t,e);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(yr()).width),a=()=>{if(!document.body.contains(t))return;const o=t.offsetWidth+r(t);o>n?yr().style.width=`${o}px`:cc(yr(),"width",e.width)};new MutationObserver(a).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Q9=(t,e)=>{const r=tw();r&&(ow(r),ys(r,e,"htmlContainer"),e.html?(lw(e.html,r),ea(r,"block")):e.text?(r.textContent=e.text,ea(r,"block")):ka(r),G9(t,e))},Z9=(t,e)=>{const r=PS();r&&(ow(r),uf(r,e.footer,"block"),e.footer&&lw(e.footer,r),ys(r,e,"footer"))},eT=(t,e)=>{const r=Wr.innerParams.get(t),n=su();if(!n)return;if(r&&e.icon===r.icon){p5(n,e),f5(n,e);return}if(!e.icon&&!e.iconHtml){ka(n);return}if(e.icon&&Object.keys(_0).indexOf(e.icon)===-1){Sc(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ka(n);return}ea(n),p5(n,e),f5(n,e),jr(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",TS)},f5=(t,e)=>{for(const[r,n]of Object.entries(_0))e.icon!==r&&qs(t,n);jr(t,e.icon&&_0[e.icon]),nT(t,e),TS(),ys(t,e,"icon")},TS=()=>{const t=yr();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=e},tT=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,rT=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,p5=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let r=t.innerHTML,n="";e.iconHtml?n=m5(e.iconHtml):e.icon==="success"?(n=tT,r=r.replace(/ style=".*?"/g,"")):e.icon==="error"?n=rT:e.icon&&(n=m5({question:"?",warning:"!",info:"i"}[e.icon])),r.trim()!==n.trim()&&ws(t,n)},nT=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])h5(t,r,"background-color",e.iconColor);h5(t,".swal2-success-ring","border-color",e.iconColor)}},m5=t=>`<div class="${He["icon-content"]}">${t}</div>`,aT=(t,e)=>{const r=AS();if(r){if(!e.imageUrl){ka(r);return}ea(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt||""),cc(r,"width",e.imageWidth),cc(r,"height",e.imageHeight),r.className=He.image,ys(r,e,"image")}};let dw=!1,OS=0,MS=0,FS=0,BS=0;const sT=t=>{t.addEventListener("mousedown",A0),document.body.addEventListener("mousemove",P0),t.addEventListener("mouseup",D0),t.addEventListener("touchstart",A0),document.body.addEventListener("touchmove",P0),t.addEventListener("touchend",D0)},oT=t=>{t.removeEventListener("mousedown",A0),document.body.removeEventListener("mousemove",P0),t.removeEventListener("mouseup",D0),t.removeEventListener("touchstart",A0),document.body.removeEventListener("touchmove",P0),t.removeEventListener("touchend",D0)},A0=t=>{const e=yr();if(t.target===e||su().contains(t.target)){dw=!0;const r=$S(t);OS=r.clientX,MS=r.clientY,FS=parseInt(e.style.insetInlineStart)||0,BS=parseInt(e.style.insetBlockStart)||0,jr(e,"swal2-dragging")}},P0=t=>{const e=yr();if(dw){let{clientX:r,clientY:n}=$S(t);e.style.insetInlineStart=`${FS+(r-OS)}px`,e.style.insetBlockStart=`${BS+(n-MS)}px`}},D0=()=>{const t=yr();dw=!1,qs(t,"swal2-dragging")},$S=t=>{let e=0,r=0;return t.type.startsWith("mouse")?(e=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:e,clientY:r}},iT=(t,e)=>{const r=La(),n=yr();if(!(!r||!n)){if(e.toast){cc(r,"width",e.width),n.style.width="100%";const a=iu();a&&n.insertBefore(a,su())}else cc(n,"width",e.width);cc(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),ka(Am()),lT(n,e),e.draggable&&!e.toast?(jr(n,He.draggable),sT(n)):(qs(n,He.draggable),oT(n))}},lT=(t,e)=>{const r=e.showClass||{};t.className=`${He.popup} ${Ja(t)?r.popup:""}`,e.toast?(jr([document.documentElement,document.body],He["toast-shown"]),jr(t,He.toast)):jr(t,He.modal),ys(t,e,"popup"),typeof e.customClass=="string"&&jr(t,e.customClass),e.icon&&jr(t,He[`icon-${e.icon}`])},cT=(t,e)=>{const r=rw();if(!r)return;const{progressSteps:n,currentProgressStep:a}=e;if(!n||n.length===0||a===void 0){ka(r);return}ea(r),r.textContent="",a>=n.length&&Pa("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,i)=>{const l=dT(o);if(r.appendChild(l),i===a&&jr(l,He["active-progress-step"]),i!==n.length-1){const c=uT(e);r.appendChild(c)}})},dT=t=>{const e=document.createElement("li");return jr(e,He["progress-step"]),ws(e,t),e},uT=t=>{const e=document.createElement("li");return jr(e,He["progress-step-line"]),t.progressStepsDistance&&cc(e,"width",t.progressStepsDistance),e},hT=(t,e)=>{const r=ES();r&&(ow(r),uf(r,e.title||e.titleText,"block"),e.title&&lw(e.title,r),e.titleText&&(r.innerText=e.titleText),ys(r,e,"title"))},qS=(t,e)=>{iT(t,e),U9(t,e),cT(t,e),eT(t,e),aT(t,e),hT(t,e),q9(t,e),Q9(t,e),F9(t,e),Z9(t,e);const r=yr();typeof e.didRender=="function"&&r&&e.didRender(r),Lt.eventEmitter.emit("didRender",r)},fT=()=>Ja(yr()),US=()=>{var t;return(t=Wo())===null||t===void 0?void 0:t.click()},pT=()=>{var t;return(t=Cc())===null||t===void 0?void 0:t.click()},mT=()=>{var t;return(t=ou())===null||t===void 0?void 0:t.click()},lu=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),zS=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},gT=(t,e,r)=>{zS(t),e.toast||(t.keydownHandler=n=>xT(e,n,r),t.keydownTarget=e.keydownListenerCapture?window:yr(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Zx=(t,e)=>{var r;const n=aw();if(n.length){t=t+e,t===-2&&(t=n.length-1),t===n.length?t=0:t===-1&&(t=n.length-1),n[t].focus();return}(r=yr())===null||r===void 0||r.focus()},VS=["ArrowRight","ArrowDown"],yT=["ArrowLeft","ArrowUp"],xT=(t,e,r)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?bT(e,t):e.key==="Tab"?vT(e):[...VS,...yT].includes(e.key)?wT(e.key):e.key==="Escape"&&kT(e,t,r)))},bT=(t,e)=>{if(!Em(e.allowEnterKey))return;const r=Im(yr(),e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;US(),t.preventDefault()}},vT=t=>{const e=t.target,r=aw();let n=-1;for(let a=0;a<r.length;a++)if(e===r[a]){n=a;break}t.shiftKey?Zx(n,-1):Zx(n,1),t.stopPropagation(),t.preventDefault()},wT=t=>{const e=df(),r=Wo(),n=Cc(),a=ou();if(!e||!r||!n||!a)return;const o=[r,n,a];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const i=VS.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[i],!l)return;if(l instanceof HTMLButtonElement&&Ja(l))break}l instanceof HTMLButtonElement&&l.focus()}},kT=(t,e,r)=>{Em(e.allowEscapeKey)&&(t.preventDefault(),r(lu.esc))};var qd={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const jT=()=>{const t=La();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},HS=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},WS=typeof window<"u"&&!!window.GestureEvent,NT=()=>{if(WS&&!yi(document.body,He.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,jr(document.body,He.iosfix),ST()}},ST=()=>{const t=La();if(!t)return;let e;t.ontouchstart=r=>{e=CT(r)},t.ontouchmove=r=>{e&&(r.preventDefault(),r.stopPropagation())}},CT=t=>{const e=t.target,r=La(),n=tw();return!r||!n||_T(t)||ET(t)?!1:e===r||!Qx(r)&&e instanceof HTMLElement&&!C9(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Qx(n)&&n.contains(e))},_T=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",ET=t=>t.touches&&t.touches.length>1,AT=()=>{if(yi(document.body,He.iosfix)){const t=parseInt(document.body.style.top,10);qs(document.body,He.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},PT=()=>{const t=document.createElement("div");t.className=He["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Sd=null;const DT=t=>{Sd===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Sd=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Sd+PT()}px`)},IT=()=>{Sd!==null&&(document.body.style.paddingRight=`${Sd}px`,Sd=null)};function GS(t,e,r,n){Dm()?g5(t,n):(g9(r).then(()=>g5(t,n)),zS(Lt)),WS?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),sw()&&(IT(),AT(),HS()),LT()}function LT(){qs([document.documentElement,document.body],[He.shown,He["height-auto"],He["no-backdrop"],He["toast-shown"]])}function pl(t){t=TT(t);const e=qd.swalPromiseResolve.get(this),r=RT(this);this.isAwaitingPromise?t.isDismissed||(ff(this),e(t)):r&&e(t)}const RT=t=>{const e=yr();if(!e)return!1;const r=Wr.innerParams.get(t);if(!r||yi(e,r.hideClass.popup))return!1;qs(e,r.showClass.popup),jr(e,r.hideClass.popup);const n=La();return qs(n,r.showClass.backdrop),jr(n,r.hideClass.backdrop),OT(t,e,r),!0};function JS(t){const e=qd.swalPromiseReject.get(this);ff(this),e&&e(t)}const ff=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Wr.innerParams.get(t)||t._destroy())},TT=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),OT=(t,e,r)=>{var n;const a=La(),o=LS(e);typeof r.willClose=="function"&&r.willClose(e),(n=Lt.eventEmitter)===null||n===void 0||n.emit("willClose",e),o?MT(t,e,a,r.returnFocus,r.didClose):GS(t,a,r.returnFocus,r.didClose)},MT=(t,e,r,n,a)=>{Lt.swalCloseEventFinishedCallback=GS.bind(null,t,r,n,a);const o=function(i){if(i.target===e){var l;(l=Lt.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Lt),delete Lt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o)}};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},g5=(t,e)=>{setTimeout(()=>{var r;typeof e=="function"&&e.bind(t.params)(),(r=Lt.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},Ud=t=>{let e=yr();if(e||new Kn,e=yr(),!e)return;const r=iu();Dm()?ka(su()):FT(e,t),ea(r),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},FT=(t,e)=>{const r=df(),n=iu();!r||!n||(!e&&Ja(Wo())&&(e=Wo()),ea(r),e&&(ka(e),n.setAttribute("data-button-to-replace",e.className),r.insertBefore(n,e)),jr([t,r],He.loading))},BT=(t,e)=>{e.input==="select"||e.input==="radio"?VT(t,e):["text","email","number","tel","textarea"].some(r=>r===e.input)&&(Zv(e.inputValue)||ew(e.inputValue))&&(Ud(Wo()),HT(t,e))},$T=(t,e)=>{const r=t.getInput();if(!r)return null;switch(e.input){case"checkbox":return qT(r);case"radio":return UT(r);case"file":return zT(r);default:return e.inputAutoTrim?r.value.trim():r.value}},qT=t=>t.checked?1:0,UT=t=>t.checked?t.value:null,zT=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,VT=(t,e)=>{const r=yr();if(!r)return;const n=a=>{e.input==="select"?WT(r,I0(a),e):e.input==="radio"&&GT(r,I0(a),e)};Zv(e.inputOptions)||ew(e.inputOptions)?(Ud(Wo()),lf(e.inputOptions).then(a=>{t.hideLoading(),n(a)})):typeof e.inputOptions=="object"?n(e.inputOptions):Sc(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},HT=(t,e)=>{const r=t.getInput();r&&(ka(r),lf(e.inputValue).then(n=>{r.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,ea(r),r.focus(),t.hideLoading()}).catch(n=>{Sc(`Error in inputValue promise: ${n}`),r.value="",ea(r),r.focus(),t.hideLoading()}))};function WT(t,e,r){const n=fl(t,He.select);if(!n)return;const a=(o,i,l)=>{const c=document.createElement("option");c.value=l,ws(c,i),c.selected=KS(l,r.inputValue),o.appendChild(c)};e.forEach(o=>{const i=o[0],l=o[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=i,c.disabled=!1,n.appendChild(c),l.forEach(d=>a(c,d[1],d[0]))}else a(n,l,i)}),n.focus()}function GT(t,e,r){const n=fl(t,He.radio);if(!n)return;e.forEach(o=>{const i=o[0],l=o[1],c=document.createElement("input"),d=document.createElement("label");c.type="radio",c.name=He.radio,c.value=i,KS(i,r.inputValue)&&(c.checked=!0);const u=document.createElement("span");ws(u,l),u.className=He.label,d.appendChild(c),d.appendChild(u),n.appendChild(d)});const a=n.querySelectorAll("input");a.length&&a[0].focus()}const I0=t=>{const e=[];return t instanceof Map?t.forEach((r,n)=>{let a=r;typeof a=="object"&&(a=I0(a)),e.push([n,a])}):Object.keys(t).forEach(r=>{let n=t[r];typeof n=="object"&&(n=I0(n)),e.push([r,n])}),e},KS=(t,e)=>!!e&&e.toString()===t.toString(),JT=t=>{const e=Wr.innerParams.get(t);t.disableButtons(),e.input?YS(t,"confirm"):hw(t,!0)},KT=t=>{const e=Wr.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?YS(t,"deny"):uw(t,!1)},YT=(t,e)=>{t.disableButtons(),e(lu.cancel)},YS=(t,e)=>{const r=Wr.innerParams.get(t);if(!r.input){Sc(`The "input" parameter is needed to be set when using returnInputValueOn${Qv(e)}`);return}const n=t.getInput(),a=$T(t,r);r.inputValidator?XT(t,a,e):n&&!n.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||n.validationMessage)):e==="deny"?uw(t,a):hw(t,a)},XT=(t,e,r)=>{const n=Wr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>lf(n.inputValidator(e,n.validationMessage))).then(o=>{t.enableButtons(),t.enableInput(),o?t.showValidationMessage(o):r==="deny"?uw(t,e):hw(t,e)})},uw=(t,e)=>{const r=Wr.innerParams.get(t||void 0);r.showLoaderOnDeny&&Ud(Cc()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>lf(r.preDeny(e,r.validationMessage))).then(a=>{a===!1?(t.hideLoading(),ff(t)):t.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>XS(t||void 0,a))):t.close({isDenied:!0,value:e})},y5=(t,e)=>{t.close({isConfirmed:!0,value:e})},XS=(t,e)=>{t.rejectPromise(e)},hw=(t,e)=>{const r=Wr.innerParams.get(t||void 0);r.showLoaderOnConfirm&&Ud(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>lf(r.preConfirm(e,r.validationMessage))).then(a=>{Ja(Am())||a===!1?(t.hideLoading(),ff(t)):y5(t,typeof a>"u"?e:a)}).catch(a=>XS(t||void 0,a))):y5(t,e)};function L0(){const t=Wr.innerParams.get(this);if(!t)return;const e=Wr.domCache.get(this);ka(e.loader),Dm()?t.icon&&ea(su()):QT(e),qs([e.popup,e.actions],He.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const QT=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ea(e[0],"inline-block"):S9()&&ka(t.actions)};function QS(){const t=Wr.innerParams.get(this),e=Wr.domCache.get(this);return e?Im(e.popup,t.input):null}function ZS(t,e,r){const n=Wr.domCache.get(t);e.forEach(a=>{n[a].disabled=r})}function e3(t,e){const r=yr();if(!(!r||!t))if(t.type==="radio"){const n=r.querySelectorAll(`[name="${He.radio}"]`);for(let a=0;a<n.length;a++)n[a].disabled=e}else t.disabled=e}function t3(){ZS(this,["confirmButton","denyButton","cancelButton"],!1)}function r3(){ZS(this,["confirmButton","denyButton","cancelButton"],!0)}function n3(){e3(this.getInput(),!1)}function a3(){e3(this.getInput(),!0)}function s3(t){const e=Wr.domCache.get(this),r=Wr.innerParams.get(this);ws(e.validationMessage,t),e.validationMessage.className=He["validation-message"],r.customClass&&r.customClass.validationMessage&&jr(e.validationMessage,r.customClass.validationMessage),ea(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",He["validation-message"]),DS(n),jr(n,He.inputerror))}function o3(){const t=Wr.domCache.get(this);t.validationMessage&&ka(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),qs(e,He.inputerror))}const Cd={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},ZT=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],eO={allowEnterKey:void 0},tO=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],i3=t=>Object.prototype.hasOwnProperty.call(Cd,t),l3=t=>ZT.indexOf(t)!==-1,c3=t=>eO[t],rO=t=>{i3(t)||Pa(`Unknown parameter "${t}"`)},nO=t=>{tO.includes(t)&&Pa(`The parameter "${t}" is incompatible with toasts`)},aO=t=>{const e=c3(t);e&&_S(t,e)},d3=t=>{t.backdrop===!1&&t.allowOutsideClick&&Pa('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Pa(`Invalid theme "${t.theme}"`);for(const e in t)rO(e),t.toast&&nO(e),aO(e)};function u3(t){const e=La(),r=yr(),n=Wr.innerParams.get(this);if(!r||yi(r,n.hideClass.popup)){Pa("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=sO(t),o=Object.assign({},n,a);d3(o),e.dataset.swal2Theme=o.theme,qS(this,o),Wr.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const sO=t=>{const e={};return Object.keys(t).forEach(r=>{l3(r)?e[r]=t[r]:Pa(`Invalid parameter to update: ${r}`)}),e};function h3(){const t=Wr.domCache.get(this),e=Wr.innerParams.get(this);if(!e){f3(this);return}t.popup&&Lt.swalCloseEventFinishedCallback&&(Lt.swalCloseEventFinishedCallback(),delete Lt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Lt.eventEmitter.emit("didDestroy"),oO(this)}const oO=t=>{f3(t),delete t.params,delete Lt.keydownHandler,delete Lt.keydownTarget,delete Lt.currentInstance},f3=t=>{t.isAwaitingPromise?(hy(Wr,t),t.isAwaitingPromise=!0):(hy(qd,t),hy(Wr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},hy=(t,e)=>{for(const r in t)t[r].delete(e)};var iO=Object.freeze({__proto__:null,_destroy:h3,close:pl,closeModal:pl,closePopup:pl,closeToast:pl,disableButtons:r3,disableInput:a3,disableLoading:L0,enableButtons:t3,enableInput:n3,getInput:QS,handleAwaitingPromise:ff,hideLoading:L0,rejectPromise:JS,resetValidationMessage:o3,showValidationMessage:s3,update:u3});const lO=(t,e,r)=>{t.toast?cO(t,e,r):(uO(e),hO(e),fO(t,e,r))},cO=(t,e,r)=>{e.popup.onclick=()=>{t&&(dO(t)||t.timer||t.input)||r(lu.close)}},dO=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let R0=!1;const uO=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(R0=!0)}}},hO=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(R0=!0)}}},fO=(t,e,r)=>{e.container.onclick=n=>{if(R0){R0=!1;return}n.target===e.container&&Em(t.allowOutsideClick)&&r(lu.backdrop)}},pO=t=>typeof t=="object"&&t.jquery,x5=t=>t instanceof Element||pO(t),mO=t=>{const e={};return typeof t[0]=="object"&&!x5(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((r,n)=>{const a=t[n];typeof a=="string"||x5(a)?e[r]=a:a!==void 0&&Sc(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof a}`)}),e};function gO(...t){return new this(...t)}function yO(t){class e extends this{_main(n,a){return super._main(n,Object.assign({},t,a))}}return e}const xO=()=>Lt.timeout&&Lt.timeout.getTimerLeft(),p3=()=>{if(Lt.timeout)return _9(),Lt.timeout.stop()},m3=()=>{if(Lt.timeout){const t=Lt.timeout.start();return iw(t),t}},bO=()=>{const t=Lt.timeout;return t&&(t.running?p3():m3())},vO=t=>{if(Lt.timeout){const e=Lt.timeout.increase(t);return iw(e,!0),e}},wO=()=>!!(Lt.timeout&&Lt.timeout.isRunning());let b5=!1;const eb={};function kO(t="data-swal-template"){eb[t]=this,b5||(document.body.addEventListener("click",jO),b5=!0)}const jO=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in eb){const n=e.getAttribute(r);if(n){eb[r].fire({template:n});return}}};class NO{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,r){const n=this._getHandlersByEventName(e);n.includes(r)||n.push(r)}once(e,r){const n=(...a)=>{this.removeListener(e,n),r.apply(this,a)};this.on(e,n)}emit(e,...r){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,r)}catch(a){console.error(a)}})}removeListener(e,r){const n=this._getHandlersByEventName(e),a=n.indexOf(r);a>-1&&n.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Lt.eventEmitter=new NO;const SO=(t,e)=>{Lt.eventEmitter.on(t,e)},CO=(t,e)=>{Lt.eventEmitter.once(t,e)},_O=(t,e)=>{if(!t){Lt.eventEmitter.reset();return}e?Lt.eventEmitter.removeListener(t,e):Lt.eventEmitter.removeAllListeners(t)};var EO=Object.freeze({__proto__:null,argsToParams:mO,bindClickHandler:kO,clickCancel:mT,clickConfirm:US,clickDeny:pT,enableLoading:Ud,fire:gO,getActions:df,getCancelButton:ou,getCloseButton:nw,getConfirmButton:Wo,getContainer:La,getDenyButton:Cc,getFocusableElements:aw,getFooter:PS,getHtmlContainer:tw,getIcon:su,getIconContent:v9,getImage:AS,getInputLabel:w9,getLoader:iu,getPopup:yr,getProgressSteps:rw,getTimerLeft:xO,getTimerProgressBar:Pm,getTitle:ES,getValidationMessage:Am,increaseTimer:vO,isDeprecatedParameter:c3,isLoading:j9,isTimerRunning:wO,isUpdatableParameter:l3,isValidParameter:i3,isVisible:fT,mixin:yO,off:_O,on:SO,once:CO,resumeTimer:m3,showLoading:Ud,stopTimer:p3,toggleTimer:bO});class AO{constructor(e,r){this.callback=e,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const r=this.running;return r&&this.stop(),this.remaining+=e,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const g3=["swal-title","swal-html","swal-footer"],PO=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const r=e.content;return FO(r),Object.assign(DO(r),IO(r),LO(r),RO(r),TO(r),OO(r),MO(r,g3))},DO=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(n=>{yc(n,["name","value"]);const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(typeof Cd[a]=="boolean"?e[a]=o!=="false":typeof Cd[a]=="object"?e[a]=JSON.parse(o):e[a]=o)}),e},IO=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(n=>{const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(e[a]=new Function(`return ${o}`)())}),e},LO=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(n=>{yc(n,["type","color","aria-label"]);const a=n.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=n.innerHTML,e[`show${Qv(a)}Button`]=!0,n.hasAttribute("color")&&(e[`${a}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},RO=t=>{const e={},r=t.querySelector("swal-image");return r&&(yc(r,["src","width","height","alt"]),r.hasAttribute("src")&&(e.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(e.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(e.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(e.imageAlt=r.getAttribute("alt")||void 0)),e},TO=t=>{const e={},r=t.querySelector("swal-icon");return r&&(yc(r,["type","color"]),r.hasAttribute("type")&&(e.icon=r.getAttribute("type")),r.hasAttribute("color")&&(e.iconColor=r.getAttribute("color")),e.iconHtml=r.innerHTML),e},OO=t=>{const e={},r=t.querySelector("swal-input");r&&(yc(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const n=Array.from(t.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(a=>{yc(a,["value"]);const o=a.getAttribute("value");if(!o)return;const i=a.innerHTML;e.inputOptions[o]=i})),e},MO=(t,e)=>{const r={};for(const n in e){const a=e[n],o=t.querySelector(a);o&&(yc(o,[]),r[a.replace(/^swal-/,"")]=o.innerHTML.trim())}return r},FO=t=>{const e=g3.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const n=r.tagName.toLowerCase();e.includes(n)||Pa(`Unrecognized element <${n}>`)})},yc=(t,e)=>{Array.from(t.attributes).forEach(r=>{e.indexOf(r.name)===-1&&Pa([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},y3=10,BO=t=>{const e=La(),r=yr();typeof t.willOpen=="function"&&t.willOpen(r),Lt.eventEmitter.emit("willOpen",r);const a=window.getComputedStyle(document.body).overflowY;UO(e,r,t),setTimeout(()=>{$O(e,r)},y3),sw()&&(qO(e,t.scrollbarPadding,a),jT()),!Dm()&&!Lt.previousActiveElement&&(Lt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Lt.eventEmitter.emit("didOpen",r),qs(e,He["no-transition"])},T0=t=>{const e=yr();if(t.target!==e)return;const r=La();e.removeEventListener("animationend",T0),e.removeEventListener("transitionend",T0),r.style.overflowY="auto"},$O=(t,e)=>{LS(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",T0),e.addEventListener("transitionend",T0)):t.style.overflowY="auto"},qO=(t,e,r)=>{NT(),e&&r!=="hidden"&&DT(r),setTimeout(()=>{t.scrollTop=0})},UO=(t,e,r)=>{jr(t,r.showClass.backdrop),r.animation?(e.style.setProperty("opacity","0","important"),ea(e,"grid"),setTimeout(()=>{jr(e,r.showClass.popup),e.style.removeProperty("opacity")},y3)):ea(e,"grid"),jr([document.documentElement,document.body],He.shown),r.heightAuto&&r.backdrop&&!r.toast&&jr([document.documentElement,document.body],He["height-auto"])};var v5={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function zO(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=v5.email),t.input==="url"&&(t.inputValidator=v5.url))}function VO(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Pa('Target parameter is not valid, defaulting to "body"'),t.target="body")}function HO(t){zO(t),t.showLoaderOnConfirm&&!t.preConfirm&&Pa(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),VO(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),T9(t)}let Oo;var cp=new WeakMap;class Nn{constructor(...e){if(h9(this,cp,void 0),typeof window>"u")return;Oo=this;const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,f9(cp,this,this._main(Oo.params))}_main(e,r={}){if(d3(Object.assign({},r,e)),Lt.currentInstance){const o=qd.swalPromiseResolve.get(Lt.currentInstance),{isAwaitingPromise:i}=Lt.currentInstance;Lt.currentInstance._destroy(),i||o({isDismissed:!0}),sw()&&HS()}Lt.currentInstance=Oo;const n=GO(e,r);HO(n),Object.freeze(n),Lt.timeout&&(Lt.timeout.stop(),delete Lt.timeout),clearTimeout(Lt.restoreFocusTimeout);const a=JO(Oo);return qS(Oo,n),Wr.innerParams.set(Oo,n),WO(Oo,a,n)}then(e){return d5(cp,this).then(e)}finally(e){return d5(cp,this).finally(e)}}const WO=(t,e,r)=>new Promise((n,a)=>{const o=i=>{t.close({isDismissed:!0,dismiss:i})};qd.swalPromiseResolve.set(t,n),qd.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{JT(t)},e.denyButton.onclick=()=>{KT(t)},e.cancelButton.onclick=()=>{YT(t,o)},e.closeButton.onclick=()=>{o(lu.close)},lO(r,e,o),gT(Lt,r,o),BT(t,r),BO(r),KO(Lt,r,o),YO(e,r),setTimeout(()=>{e.container.scrollTop=0})}),GO=(t,e)=>{const r=PO(t),n=Object.assign({},Cd,e,r,t);return n.showClass=Object.assign({},Cd.showClass,n.showClass),n.hideClass=Object.assign({},Cd.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},JO=t=>{const e={popup:yr(),container:La(),actions:df(),confirmButton:Wo(),denyButton:Cc(),cancelButton:ou(),loader:iu(),closeButton:nw(),validationMessage:Am(),progressSteps:rw()};return Wr.domCache.set(t,e),e},KO=(t,e,r)=>{const n=Pm();ka(n),e.timer&&(t.timeout=new AO(()=>{r("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(ea(n),ys(n,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&iw(e.timer)})))},YO=(t,e)=>{if(!e.toast){if(!Em(e.allowEnterKey)){_S("allowEnterKey"),ZO();return}XO(t)||QO(t,e)||Zx(-1,1)}},XO=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of e)if(r instanceof HTMLElement&&Ja(r))return r.focus(),!0;return!1},QO=(t,e)=>e.focusDeny&&Ja(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ja(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Ja(t.confirmButton)?(t.confirmButton.focus(),!0):!1,ZO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const r=document.createElement("audio");r.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",r.loop=!0,document.body.appendChild(r),setTimeout(()=>{r.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}Nn.prototype.disableButtons=r3;Nn.prototype.enableButtons=t3;Nn.prototype.getInput=QS;Nn.prototype.disableInput=a3;Nn.prototype.enableInput=n3;Nn.prototype.hideLoading=L0;Nn.prototype.disableLoading=L0;Nn.prototype.showValidationMessage=s3;Nn.prototype.resetValidationMessage=o3;Nn.prototype.close=pl;Nn.prototype.closePopup=pl;Nn.prototype.closeModal=pl;Nn.prototype.closeToast=pl;Nn.prototype.rejectPromise=JS;Nn.prototype.update=u3;Nn.prototype._destroy=h3;Object.assign(Nn,EO);Object.keys(iO).forEach(t=>{Nn[t]=function(...e){return Oo&&Oo[t]?Oo[t](...e):null}});Nn.DismissReason=lu;Nn.version="11.22.0";const Kn=Nn;Kn.default=Kn;typeof document<"u"&&function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');async function eM(){try{const{data:t,error:e}=await Ee.from("financial_categories").select("*").order("order",{ascending:!0});if(e)throw e;return x3(t)}catch(t){return console.error("Erro ao listar categorias financeiras (recursivo):",t),[]}}function x3(t,e=null){return t.filter(r=>r.parent_id===e).sort((r,n)=>r.order-n.order).map(r=>({...r,subcategories:x3(t,r.id)}))}async function tM(t){try{const{data:e}=await Ee.from("financial_categories").select("order").eq("type",t.type).is("parent_id",null).order("order",{ascending:!1}).limit(1).single(),r=e?e.order+1:0,{data:n,error:a}=await Ee.from("financial_categories").insert([{name:t.name,type:t.type,dre_group:t.dreGroup,parent_id:t.parentId,order:r,active:t.active,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw a;return n}catch(e){return console.error("Erro ao criar categoria financeira:",e),null}}async function rM(t,e){try{const{data:r,error:n}=await Ee.from("financial_categories").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar categoria financeira:",r),null}}async function nM(t){try{const{error:e}=await Ee.from("financial_categories").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Erro ao excluir categoria financeira:",e),!1}}async function aM(t,e){try{const{data:r,error:n}=await Ee.from("financial_categories").update({active:e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da categoria financeira:",r),null}}async function sM(t){try{const{data:e,error:r}=await Ee.from("financial_categories").select("*").in("id",t);if(r)throw r;const n=t.map((o,i)=>{const l=e==null?void 0:e.find(c=>c.id===o);if(!l)throw new Error(`Category ${o} not found`);return{id:o,name:l.name,type:l.type,dre_group:l.dre_group,parent_id:l.parent_id,active:l.active,order:i,updatedAt:new Date().toISOString()}}),{error:a}=await Ee.from("financial_categories").upsert(n);if(a)throw a;return!0}catch(e){return console.error("Erro ao reordenar categorias:",e),!1}}function oM({isOpen:t,onClose:e,category:r,parentCategory:n,onSuccess:a}){const[o,i]=D.useState({name:"",type:"REVENUE",dre_group:"",parent_id:null,active:!0}),[l,c]=D.useState(!1),[d,u]=D.useState("");D.useEffect(()=>{i(r?{name:r.name,type:r.type,dre_group:r.dre_group||"",parent_id:r.parent_id||null,active:r.active}:n?{name:"",type:n.type,dre_group:n.dre_group||"",parent_id:n.id,active:!0}:{name:"",type:"REVENUE",dre_group:"",parent_id:null,active:!0})},[r,n]);const h=async p=>{p.preventDefault(),c(!0),u("");try{if(r){if(!await rM(r.id,o))throw new Error("Erro ao atualizar categoria");Kn.fire({icon:"success",title:"Categoria atualizada com sucesso!",timer:2e3,showConfirmButton:!1})}else{if(!await tM(o))throw new Error("Erro ao criar categoria");Kn.fire({icon:"success",title:"Categoria criada com sucesso!",timer:2e3,showConfirmButton:!1})}a(),e()}catch(w){console.error("Erro ao salvar categoria:",w),u("Erro ao salvar categoria. Por favor, tente novamente."),Kn.fire({icon:"error",title:"Erro",text:"No foi possvel salvar a categoria. Tente novamente."})}finally{c(!1)}},g=()=>t8[o.type]||[];return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Categoria":n?"Nova Subcategoria":"Nova Categoria"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:h,className:"p-4 sm:p-6",children:[d&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:d}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Categoria"}),s.jsx("input",{type:"text",value:o.name,onChange:p=>i(w=>({...w,name:p.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),!n&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo da Categoria"}),s.jsxs("select",{value:o.type,onChange:p=>i(w=>({...w,type:p.target.value,dre_group:""})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"REVENUE",children:"Receita"}),s.jsx("option",{value:"EXPENSE",children:"Despesa"}),s.jsx("option",{value:"BOTH",children:"Ambos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Grupo no DRE"}),s.jsxs("select",{value:o.dre_group,onChange:p=>i(w=>({...w,dre_group:p.target.value})),disabled:l||o.type==="BOTH",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um grupo"}),g().map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:o.active,onChange:p=>i(w=>({...w,active:p.target.checked})),disabled:l,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Categoria ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:l?"Salvando...":r?"Salvar Alteraes":"Criar Categoria"})]})]})]})}):null}function iM(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState(null),[c,d]=D.useState(null),[u,h]=D.useState([]),[g,p]=D.useState(!0),[w,b]=D.useState(null);D.useEffect(()=>{_()},[]);const _=async()=>{try{const A=await eM();h(A)}catch(A){b("Erro ao carregar categorias"),console.error(A)}finally{p(!1)}},v=()=>{l(null),d(null),e(!0)},j=A=>{l(A),d(null),e(!0)},L=A=>{l(null),d(A),e(!0)},U=A=>{l(A),n(!0)},M=async()=>{if(i)try{await nM(i.id),h(u.filter(A=>A.id!==i.id)),n(!1)}catch(A){b("Erro ao excluir categoria"),console.error(A)}},q=async A=>{try{await aM(A.id,!A.active)&&h(x=>x.map(k=>{var E;return k.id===A.id?{...k,active:!k.active}:(E=k.subcategories)!=null&&E.some(C=>C.id===A.id)?{...k,subcategories:k.subcategories.map(C=>C.id===A.id?{...C,active:!C.active}:C)}:k}))}catch(P){b("Erro ao alterar status da categoria"),console.error(P)}},y=async(A,P,x)=>{const k=u.filter(z=>z.type===x&&!z.parentId),E=Array.from(k),[C]=E.splice(A,1);E.splice(P,0,C),h(z=>[...z.filter(K=>K.type!==x||K.parentId),...E]);try{await sM(E.map(z=>z.id))}catch(z){b("Erro ao reordenar categorias"),console.error(z),_()}},R=u.filter(A=>{var x;const P=a.toLowerCase();return A.name.toLowerCase().includes(P)||A.type.toLowerCase().includes(P)||((x=A.subcategories)==null?void 0:x.some(k=>k.name.toLowerCase().includes(P)||k.type.toLowerCase().includes(P)))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>b(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Categorias Financeiras"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as categorias de receitas e despesas do sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Categoria"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou tipo...",value:a,onChange:A=>o(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),g?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(d9,{categories:R,onEdit:j,onDelete:U,onToggleStatus:q,onCreateSubcategory:L,onReorder:y})]}),s.jsx(oM,{isOpen:t,onClose:()=>e(!1),category:i,parentCategory:c,onSuccess:()=>{e(!1),_()}}),s.jsx(Pi,{isOpen:r,onClose:()=>n(!1),title:"Excluir Categoria",description:`Tem certeza que deseja excluir a categoria "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:M})]})}function b3(t,e){return function(){return t.apply(e,arguments)}}const{toString:lM}=Object.prototype,{getPrototypeOf:fw}=Object,{iterator:Lm,toStringTag:v3}=Symbol,Rm=(t=>e=>{const r=lM.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),go=t=>(t=t.toLowerCase(),e=>Rm(e)===t),Tm=t=>e=>typeof e===t,{isArray:cu}=Array,qh=Tm("undefined");function cM(t){return t!==null&&!qh(t)&&t.constructor!==null&&!qh(t.constructor)&&Ka(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const w3=go("ArrayBuffer");function dM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&w3(t.buffer),e}const uM=Tm("string"),Ka=Tm("function"),k3=Tm("number"),Om=t=>t!==null&&typeof t=="object",hM=t=>t===!0||t===!1,Op=t=>{if(Rm(t)!=="object")return!1;const e=fw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(v3 in t)&&!(Lm in t)},fM=go("Date"),pM=go("File"),mM=go("Blob"),gM=go("FileList"),yM=t=>Om(t)&&Ka(t.pipe),xM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ka(t.append)&&((e=Rm(t))==="formdata"||e==="object"&&Ka(t.toString)&&t.toString()==="[object FormData]"))},bM=go("URLSearchParams"),[vM,wM,kM,jM]=["ReadableStream","Request","Response","Headers"].map(go),NM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),cu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(n=0;n<i;n++)l=o[n],e.call(null,t[l],l,t)}}function j3(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,N3=t=>!qh(t)&&t!==oc;function tb(){const{caseless:t}=N3(this)&&this||{},e={},r=(n,a)=>{const o=t&&j3(e,a)||a;Op(e[o])&&Op(n)?e[o]=tb(e[o],n):Op(n)?e[o]=tb({},n):cu(n)?e[o]=n.slice():e[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&pf(arguments[n],r);return e}const SM=(t,e,r,{allOwnKeys:n}={})=>(pf(e,(a,o)=>{r&&Ka(a)?t[o]=b3(a,r):t[o]=a},{allOwnKeys:n}),t),CM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_M=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},EM=(t,e,r,n)=>{let a,o,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)i=a[o],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&fw(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},AM=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},PM=t=>{if(!t)return null;if(cu(t))return t;let e=t.length;if(!k3(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},DM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fw(Uint8Array)),IM=(t,e)=>{const n=(t&&t[Lm]).call(t);let a;for(;(a=n.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},LM=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},RM=go("HTMLFormElement"),TM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),w5=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),OM=go("RegExp"),S3=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};pf(r,(a,o)=>{let i;(i=e(a,o,t))!==!1&&(n[o]=i||a)}),Object.defineProperties(t,n)},MM=t=>{S3(t,(e,r)=>{if(Ka(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ka(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},FM=(t,e)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return cu(t)?n(t):n(String(t).split(e)),r},BM=()=>{},$M=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qM(t){return!!(t&&Ka(t.append)&&t[v3]==="FormData"&&t[Lm])}const UM=t=>{const e=new Array(10),r=(n,a)=>{if(Om(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const o=cu(n)?[]:{};return pf(n,(i,l)=>{const c=r(i,a+1);!qh(c)&&(o[l]=c)}),e[a]=void 0,o}}return n};return r(t,0)},zM=go("AsyncFunction"),VM=t=>t&&(Om(t)||Ka(t))&&Ka(t.then)&&Ka(t.catch),C3=((t,e)=>t?setImmediate:e?((r,n)=>(oc.addEventListener("message",({source:a,data:o})=>{a===oc&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),oc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ka(oc.postMessage)),HM=typeof queueMicrotask<"u"?queueMicrotask.bind(oc):typeof process<"u"&&process.nextTick||C3,WM=t=>t!=null&&Ka(t[Lm]),ze={isArray:cu,isArrayBuffer:w3,isBuffer:cM,isFormData:xM,isArrayBufferView:dM,isString:uM,isNumber:k3,isBoolean:hM,isObject:Om,isPlainObject:Op,isReadableStream:vM,isRequest:wM,isResponse:kM,isHeaders:jM,isUndefined:qh,isDate:fM,isFile:pM,isBlob:mM,isRegExp:OM,isFunction:Ka,isStream:yM,isURLSearchParams:bM,isTypedArray:DM,isFileList:gM,forEach:pf,merge:tb,extend:SM,trim:NM,stripBOM:CM,inherits:_M,toFlatObject:EM,kindOf:Rm,kindOfTest:go,endsWith:AM,toArray:PM,forEachEntry:IM,matchAll:LM,isHTMLForm:RM,hasOwnProperty:w5,hasOwnProp:w5,reduceDescriptors:S3,freezeMethods:MM,toObjectSet:FM,toCamelCase:TM,noop:BM,toFiniteNumber:$M,findKey:j3,global:oc,isContextDefined:N3,isSpecCompliantForm:qM,toJSONObject:UM,isAsyncFn:zM,isThenable:VM,setImmediate:C3,asap:HM,isIterable:WM};function Qt(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ze.inherits(Qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const _3=Qt.prototype,E3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{E3[t]={value:t}});Object.defineProperties(Qt,E3);Object.defineProperty(_3,"isAxiosError",{value:!0});Qt.from=(t,e,r,n,a,o)=>{const i=Object.create(_3);return ze.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Qt.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const GM=null;function rb(t){return ze.isPlainObject(t)||ze.isArray(t)}function A3(t){return ze.endsWith(t,"[]")?t.slice(0,-2):t}function k5(t,e,r){return t?t.concat(e).map(function(a,o){return a=A3(a),!r&&o?"["+a+"]":a}).join(r?".":""):e}function JM(t){return ze.isArray(t)&&!t.some(rb)}const KM=ze.toFlatObject(ze,{},null,function(e){return/^is[A-Z]/.test(e)});function Mm(t,e,r){if(!ze.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,_){return!ze.isUndefined(_[b])});const n=r.metaTokens,a=r.visitor||u,o=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(e);if(!ze.isFunction(a))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(ze.isDate(w))return w.toISOString();if(!c&&ze.isBlob(w))throw new Qt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(w)||ze.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,b,_){let v=w;if(w&&!_&&typeof w=="object"){if(ze.endsWith(b,"{}"))b=n?b:b.slice(0,-2),w=JSON.stringify(w);else if(ze.isArray(w)&&JM(w)||(ze.isFileList(w)||ze.endsWith(b,"[]"))&&(v=ze.toArray(w)))return b=A3(b),v.forEach(function(L,U){!(ze.isUndefined(L)||L===null)&&e.append(i===!0?k5([b],U,o):i===null?b:b+"[]",d(L))}),!1}return rb(w)?!0:(e.append(k5(_,b,o),d(w)),!1)}const h=[],g=Object.assign(KM,{defaultVisitor:u,convertValue:d,isVisitable:rb});function p(w,b){if(!ze.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(w),ze.forEach(w,function(v,j){(!(ze.isUndefined(v)||v===null)&&a.call(e,v,ze.isString(j)?j.trim():j,b,g))===!0&&p(v,b?b.concat(j):[j])}),h.pop()}}if(!ze.isObject(t))throw new TypeError("data must be an object");return p(t),e}function j5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function pw(t,e){this._pairs=[],t&&Mm(t,this,e)}const P3=pw.prototype;P3.append=function(e,r){this._pairs.push([e,r])};P3.toString=function(e){const r=e?function(n){return e.call(this,n,j5)}:j5;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function YM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D3(t,e,r){if(!e)return t;const n=r&&r.encode||YM;ze.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(e,r):o=ze.isURLSearchParams(e)?e.toString():new pw(e,r).toString(n),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class N5{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ze.forEach(this.handlers,function(n){n!==null&&e(n)})}}const I3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XM=typeof URLSearchParams<"u"?URLSearchParams:pw,QM=typeof FormData<"u"?FormData:null,ZM=typeof Blob<"u"?Blob:null,eF={isBrowser:!0,classes:{URLSearchParams:XM,FormData:QM,Blob:ZM},protocols:["http","https","file","blob","url","data"]},mw=typeof window<"u"&&typeof document<"u",nb=typeof navigator=="object"&&navigator||void 0,tF=mw&&(!nb||["ReactNative","NativeScript","NS"].indexOf(nb.product)<0),rF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nF=mw&&window.location.href||"http://localhost",aF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mw,hasStandardBrowserEnv:tF,hasStandardBrowserWebWorkerEnv:rF,navigator:nb,origin:nF},Symbol.toStringTag,{value:"Module"})),ba={...aF,...eF};function sF(t,e){return Mm(t,new ba.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,o){return ba.isNode&&ze.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function oF(t){return ze.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iF(t){const e={},r=Object.keys(t);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],e[o]=t[o];return e}function L3(t){function e(r,n,a,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=r.length;return i=!i&&ze.isArray(a)?a.length:i,c?(ze.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!ze.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],o)&&ze.isArray(a[i])&&(a[i]=iF(a[i])),!l)}if(ze.isFormData(t)&&ze.isFunction(t.entries)){const r={};return ze.forEachEntry(t,(n,a)=>{e(oF(n),a,r,0)}),r}return null}function lF(t,e,r){if(ze.isString(t))try{return(e||JSON.parse)(t),ze.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const mf={transitional:I3,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=ze.isObject(e);if(o&&ze.isHTMLForm(e)&&(e=new FormData(e)),ze.isFormData(e))return a?JSON.stringify(L3(e)):e;if(ze.isArrayBuffer(e)||ze.isBuffer(e)||ze.isStream(e)||ze.isFile(e)||ze.isBlob(e)||ze.isReadableStream(e))return e;if(ze.isArrayBufferView(e))return e.buffer;if(ze.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sF(e,this.formSerializer).toString();if((l=ze.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Mm(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),lF(e)):e}],transformResponse:[function(e){const r=this.transitional||mf.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ze.isResponse(e)||ze.isReadableStream(e))return e;if(e&&ze.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Qt.from(l,Qt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ba.classes.FormData,Blob:ba.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],t=>{mf.headers[t]={}});const cF=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dF=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&cF[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},S5=Symbol("internals");function qu(t){return t&&String(t).trim().toLowerCase()}function Mp(t){return t===!1||t==null?t:ze.isArray(t)?t.map(Mp):String(t)}function uF(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const hF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fy(t,e,r,n,a){if(ze.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ze.isString(e)){if(ze.isString(n))return e.indexOf(n)!==-1;if(ze.isRegExp(n))return n.test(e)}}function fF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function pF(t,e){const r=ze.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,o,i){return this[n].call(this,e,a,o,i)},configurable:!0})})}let Ya=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function o(l,c,d){const u=qu(c);if(!u)throw new Error("header name must be a non-empty string");const h=ze.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=Mp(l))}const i=(l,c)=>ze.forEach(l,(d,u)=>o(d,u,c));if(ze.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(ze.isString(e)&&(e=e.trim())&&!hF(e))i(dF(e),r);else if(ze.isObject(e)&&ze.isIterable(e)){let l={},c,d;for(const u of e){if(!ze.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ze.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=qu(e),e){const n=ze.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return uF(a);if(ze.isFunction(r))return r.call(this,a,n);if(ze.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=qu(e),e){const n=ze.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||fy(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function o(i){if(i=qu(i),i){const l=ze.findKey(n,i);l&&(!r||fy(n,n[l],l,r))&&(delete n[l],a=!0)}}return ze.isArray(e)?e.forEach(o):o(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!e||fy(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const r=this,n={};return ze.forEach(this,(a,o)=>{const i=ze.findKey(n,o);if(i){r[i]=Mp(a),delete r[o];return}const l=e?fF(o):String(o).trim();l!==o&&delete r[o],r[l]=Mp(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ze.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ze.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[S5]=this[S5]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=qu(i);n[l]||(pF(a,i),n[l]=!0)}return ze.isArray(e)?e.forEach(o):o(e),this}};Ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(Ya.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ze.freezeMethods(Ya);function py(t,e){const r=this||mf,n=e||r,a=Ya.from(n.headers);let o=n.data;return ze.forEach(t,function(l){o=l.call(r,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function R3(t){return!!(t&&t.__CANCEL__)}function du(t,e,r){Qt.call(this,t??"canceled",Qt.ERR_CANCELED,e,r),this.name="CanceledError"}ze.inherits(du,Qt,{__CANCEL__:!0});function T3(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Qt("Request failed with status code "+r.status,[Qt.ERR_BAD_REQUEST,Qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gF(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=n[o];i||(i=d),r[a]=c,n[a]=d;let h=o,g=0;for(;h!==a;)g+=r[h++],h=h%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),d-i<e)return;const p=u&&d-u;return p?Math.round(g*1e3/p):void 0}}function yF(t,e){let r=0,n=1e3/e,a,o;const i=(d,u=Date.now())=>{r=u,a=null,o&&(clearTimeout(o),o=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=n?i(d,u):(a=d,o||(o=setTimeout(()=>{o=null,i(a)},n-h)))},()=>a&&i(a)]}const O0=(t,e,r=3)=>{let n=0;const a=gF(50,250);return yF(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-n,d=a(c),u=i<=l;n=i;const h={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},r)},C5=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},_5=t=>(...e)=>ze.asap(()=>t(...e)),xF=ba.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,ba.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(ba.origin),ba.navigator&&/(msie|trident)/i.test(ba.navigator.userAgent)):()=>!0,bF=ba.hasStandardBrowserEnv?{write(t,e,r,n,a,o){const i=[t+"="+encodeURIComponent(e)];ze.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ze.isString(n)&&i.push("path="+n),ze.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function O3(t,e,r){let n=!vF(e);return t&&(n||r==!1)?wF(t,e):e}const E5=t=>t instanceof Ya?{...t}:t;function xc(t,e){e=e||{};const r={};function n(d,u,h,g){return ze.isPlainObject(d)&&ze.isPlainObject(u)?ze.merge.call({caseless:g},d,u):ze.isPlainObject(u)?ze.merge({},u):ze.isArray(u)?u.slice():u}function a(d,u,h,g){if(ze.isUndefined(u)){if(!ze.isUndefined(d))return n(void 0,d,h,g)}else return n(d,u,h,g)}function o(d,u){if(!ze.isUndefined(u))return n(void 0,u)}function i(d,u){if(ze.isUndefined(u)){if(!ze.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,h){if(h in e)return n(d,u);if(h in t)return n(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,h)=>a(E5(d),E5(u),h,!0)};return ze.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||a,g=h(t[u],e[u],u);ze.isUndefined(g)&&h!==l||(r[u]=g)}),r}const M3=t=>{const e=xc({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=e;e.headers=i=Ya.from(i),e.url=D3(O3(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ze.isFormData(r)){if(ba.hasStandardBrowserEnv||ba.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ba.hasStandardBrowserEnv&&(n&&ze.isFunction(n)&&(n=n(e)),n||n!==!1&&xF(e.url))){const d=a&&o&&bF.read(o);d&&i.set(a,d)}return e},kF=typeof XMLHttpRequest<"u",jF=kF&&function(t){return new Promise(function(r,n){const a=M3(t);let o=a.data;const i=Ya.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,h,g,p,w;function b(){p&&p(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function v(){if(!_)return;const L=Ya.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),M={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:L,config:t,request:_};T3(function(y){r(y),b()},function(y){n(y),b()},M),_=null}"onloadend"in _?_.onloadend=v:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(v)},_.onabort=function(){_&&(n(new Qt("Request aborted",Qt.ECONNABORTED,t,_)),_=null)},_.onerror=function(){n(new Qt("Network Error",Qt.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let U=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const M=a.transitional||I3;a.timeoutErrorMessage&&(U=a.timeoutErrorMessage),n(new Qt(U,M.clarifyTimeoutError?Qt.ETIMEDOUT:Qt.ECONNABORTED,t,_)),_=null},o===void 0&&i.setContentType(null),"setRequestHeader"in _&&ze.forEach(i.toJSON(),function(U,M){_.setRequestHeader(M,U)}),ze.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),l&&l!=="json"&&(_.responseType=a.responseType),d&&([g,w]=O0(d,!0),_.addEventListener("progress",g)),c&&_.upload&&([h,p]=O0(c),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=L=>{_&&(n(!L||L.type?new du(null,t,_):L),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const j=mF(a.url);if(j&&ba.protocols.indexOf(j)===-1){n(new Qt("Unsupported protocol "+j+":",Qt.ERR_BAD_REQUEST,t));return}_.send(o||null)})},NF=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const o=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Qt?u:new du(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new Qt(`timeout ${e} of ms exceeded`,Qt.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>ze.asap(l),c}},SF=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},CF=async function*(t,e){for await(const r of _F(t))yield*SF(r,e)},_F=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},A5=(t,e,r,n)=>{const a=CF(t,e);let o=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let h=u.byteLength;if(r){let g=o+=h;r(g)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Fm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",F3=Fm&&typeof ReadableStream=="function",EF=Fm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),B3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},AF=F3&&B3(()=>{let t=!1;const e=new Request(ba.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),P5=64*1024,ab=F3&&B3(()=>ze.isReadableStream(new Response("").body)),M0={stream:ab&&(t=>t.body)};Fm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!M0[e]&&(M0[e]=ze.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Qt(`Response type '${e}' is not supported`,Qt.ERR_NOT_SUPPORT,n)})})})(new Response);const PF=async t=>{if(t==null)return 0;if(ze.isBlob(t))return t.size;if(ze.isSpecCompliantForm(t))return(await new Request(ba.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(t)||ze.isArrayBuffer(t))return t.byteLength;if(ze.isURLSearchParams(t)&&(t=t+""),ze.isString(t))return(await EF(t)).byteLength},DF=async(t,e)=>{const r=ze.toFiniteNumber(t.getContentLength());return r??PF(e)},IF=Fm&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:g}=M3(t);d=d?(d+"").toLowerCase():"text";let p=NF([a,o&&o.toAbortSignal()],i),w;const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let _;try{if(c&&AF&&r!=="get"&&r!=="head"&&(_=await DF(u,n))!==0){let M=new Request(e,{method:"POST",body:n,duplex:"half"}),q;if(ze.isFormData(n)&&(q=M.headers.get("content-type"))&&u.setContentType(q),M.body){const[y,R]=C5(_,O0(_5(c)));n=A5(M.body,P5,y,R)}}ze.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;w=new Request(e,{...g,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:v?h:void 0});let j=await fetch(w);const L=ab&&(d==="stream"||d==="response");if(ab&&(l||L&&b)){const M={};["status","statusText","headers"].forEach(A=>{M[A]=j[A]});const q=ze.toFiniteNumber(j.headers.get("content-length")),[y,R]=l&&C5(q,O0(_5(l),!0))||[];j=new Response(A5(j.body,P5,y,()=>{R&&R(),b&&b()}),M)}d=d||"text";let U=await M0[ze.findKey(M0,d)||"text"](j,t);return!L&&b&&b(),await new Promise((M,q)=>{T3(M,q,{data:U,headers:Ya.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:w})})}catch(v){throw b&&b(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Qt("Network Error",Qt.ERR_NETWORK,t,w),{cause:v.cause||v}):Qt.from(v,v&&v.code,t,w)}}),sb={http:GM,xhr:jF,fetch:IF};ze.forEach(sb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const D5=t=>`- ${t}`,LF=t=>ze.isFunction(t)||t===null||t===!1,$3={getAdapter:t=>{t=ze.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let o=0;o<e;o++){r=t[o];let i;if(n=r,!LF(r)&&(n=sb[(i=String(r)).toLowerCase()],n===void 0))throw new Qt(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+o]=n}if(!n){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(D5).join(`
`):" "+D5(o[0]):"as no adapter specified";throw new Qt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:sb};function my(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new du(null,t)}function I5(t){return my(t),t.headers=Ya.from(t.headers),t.data=py.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$3.getAdapter(t.adapter||mf.adapter)(t).then(function(n){return my(t),n.data=py.call(t,t.transformResponse,n),n.headers=Ya.from(n.headers),n},function(n){return R3(n)||(my(t),n&&n.response&&(n.response.data=py.call(t,t.transformResponse,n.response),n.response.headers=Ya.from(n.response.headers))),Promise.reject(n)})}const q3="1.9.0",Bm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const L5={};Bm.transitional=function(e,r,n){function a(o,i){return"[Axios v"+q3+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(e===!1)throw new Qt(a(i," has been removed"+(r?" in "+r:"")),Qt.ERR_DEPRECATED);return r&&!L5[i]&&(L5[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,i,l):!0}};Bm.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function RF(t,e,r){if(typeof t!="object")throw new Qt("options must be an object",Qt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const o=n[a],i=e[o];if(i){const l=t[o],c=l===void 0||i(l,o,t);if(c!==!0)throw new Qt("option "+o+" must be "+c,Qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qt("Unknown option "+o,Qt.ERR_BAD_OPTION)}}const Fp={assertOptions:RF,validators:Bm},Io=Fp.validators;let dc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new N5,response:new N5}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=xc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Fp.assertOptions(n,{silentJSONParsing:Io.transitional(Io.boolean),forcedJSONParsing:Io.transitional(Io.boolean),clarifyTimeoutError:Io.transitional(Io.boolean)},!1),a!=null&&(ze.isFunction(a)?r.paramsSerializer={serialize:a}:Fp.assertOptions(a,{encode:Io.function,serialize:Io.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fp.assertOptions(r,{baseUrl:Io.spelling("baseURL"),withXsrfToken:Io.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&ze.merge(o.common,o[r.method]);o&&ze.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),r.headers=Ya.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,h=0,g;if(!c){const w=[I5.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,d),g=w.length,u=Promise.resolve(r);h<g;)u=u.then(w[h++],w[h++]);return u}g=l.length;let p=r;for(h=0;h<g;){const w=l[h++],b=l[h++];try{p=w(p)}catch(_){b.call(this,_);break}}try{u=I5.call(this,p)}catch(w){return Promise.reject(w)}for(h=0,g=d.length;h<g;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=xc(this.defaults,e);const r=O3(e.baseURL,e.url,e.allowAbsoluteUrls);return D3(r,e.params,e.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(e){dc.prototype[e]=function(r,n){return this.request(xc(n||{},{method:e,url:r,data:(n||{}).data}))}});ze.forEach(["post","put","patch"],function(e){function r(n){return function(o,i,l){return this.request(xc(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}dc.prototype[e]=r(),dc.prototype[e+"Form"]=r(!0)});let TF=class U3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},e(function(o,i,l){n.reason||(n.reason=new du(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new U3(function(a){e=a}),cancel:e}}};function OF(t){return function(r){return t.apply(null,r)}}function MF(t){return ze.isObject(t)&&t.isAxiosError===!0}const ob={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ob).forEach(([t,e])=>{ob[e]=t});function z3(t){const e=new dc(t),r=b3(dc.prototype.request,e);return ze.extend(r,dc.prototype,e,{allOwnKeys:!0}),ze.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return z3(xc(t,a))},r}const Ht=z3(mf);Ht.Axios=dc;Ht.CanceledError=du;Ht.CancelToken=TF;Ht.isCancel=R3;Ht.VERSION=q3;Ht.toFormData=Mm;Ht.AxiosError=Qt;Ht.Cancel=Ht.CanceledError;Ht.all=function(e){return Promise.all(e)};Ht.spread=OF;Ht.isAxiosError=MF;Ht.mergeConfig=xc;Ht.AxiosHeaders=Ya;Ht.formToJSON=t=>L3(ze.isHTMLForm(t)?new FormData(t):t);Ht.getAdapter=$3.getAdapter;Ht.HttpStatusCode=ob;Ht.default=Ht;const{Axios:cG,AxiosError:dG,CanceledError:uG,isCancel:hG,CancelToken:fG,VERSION:pG,all:mG,Cancel:gG,isAxiosError:yG,spread:xG,toFormData:bG,AxiosHeaders:vG,HttpStatusCode:wG,formToJSON:kG,getAdapter:jG,mergeConfig:NG}=Ht,gw="https://financeiro.tshirteria.com";async function V3(){try{const{data:t,error:e}=await Ee.from("payments").select(`
        *,
        payer:cnpjs (
          id,
          cnpj,
          name,
          tradingName
        )
      `).order("due_date",{ascending:!0});if(e)throw e;const{data:r,error:n}=await Ee.from("payment_request_attachments").select("payment_request_id, file_url");if(n)throw n;return(t??[]).map(o=>{const i=(r??[]).filter(l=>l.payment_request_id===o.payment_request_id).map(l=>l.file_url);return{...o,attachment_urls:i}}).map(o=>{var i,l,c;return{id:o.id,supplier:{name:o.supplier_name},description:o.description,value:o.value,dueDate:o.due_date,status:o.status,cnpjId:o.cnpj_id,cpfCnpj:o.cpfCnpj,payerCnpj:((i=o.payer)==null?void 0:i.cnpj)??null,payerName:((l=o.payer)==null?void 0:l.name)??null,payerTradingName:((c=o.payer)==null?void 0:c.tradingName)??null,categoryId:o.category_id,bankAccountId:o.bank_account_id,createdAt:o.created_at,updatedAt:o.updated_at,createdBy:{id:o.created_by_id,name:o.created_by_name||"Usurio"},competence:o.competence,paymentMethod:o.payment_method,pixKey:o.pix_key,pixPaymentMethod:o.pix_payment_method,barcode:o.barcode,bankCode:o.bankCode,branch:o.branch,account:o.account,digit:o.digit,type:o.type,frequency:o.frequency,installments:o.installments,installmentNumber:o.installment_number,endDate:o.end_date,paymentRequestId:o.payment_request_id,attachmentUrls:o.attachment_urls,num_req:o.num_req}})}catch(t){throw console.error("Error listing payments:",t),new Error("Erro ao carregar pagamentos")}}async function FF(t){try{const{data:e,error:r}=await bL(()=>Ee.from("payments").update({status:"PAID",updated_at:new Date().toISOString()}).eq("id",t).select().single());if(r)throw r;return e?{id:e.id,supplier:{name:e.supplier_name},description:e.description,value:e.value,dueDate:e.due_date,status:e.status,cnpjId:e.cnpj_id,categoryId:e.category_id,bankAccountId:e.bank_account_id,createdAt:e.created_at,updatedAt:e.updated_at,createdBy:{id:e.created_by_id,name:"Usurio"}}:null}catch(e){throw console.error("Error executing payment:",e),new Error("Erro ao executar pagamento")}}async function BF(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Ht.post(`${gw}/payment/create`,{...t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating payment:",r),r}}async function H3(t){const{id:e,...r}=t;if(!e)throw new Error("ID do pagamento  obrigatrio para atualizar.");const n={supplier_name:r.supplier_name,description:r.description,category_id:r.category_id??null,cnpj_id:r.cnpj_id??null,competence:r.competence??null,value:r.value,due_date:r.due_date,bank_account_id:r.bank_account_id,payment_method:r.payment_method,pix_key:r.pix_key??null,pix_payment_method:r.pix_payment_method??null,cpfCnpj:r.cpfCnpj??null,bankCode:r.bankCode??null,barcode:r.barcode??null,branch:r.branch??null,account:r.account??null,digit:r.digit??null,type:r.type??null,installments:r.installments??null,frequency:r.frequency??null,end_date:r.end_date??null,status:r.status??void 0,updated_at:new Date().toISOString()};Object.keys(n).forEach(i=>n[i]===void 0&&delete n[i]);const{data:a,error:o}=await Ee.from("payments").update(n).eq("id",e).select().single();if(o)throw console.error("Error updating payment:",o),new Error("Erro ao atualizar pagamento");return console.log("Atualizado no Supabase:",a),a}async function $F(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Ht.post(`${gw}/payment/request/approve`,{paymentRequestId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error approving payment request:",r),r}}async function qF(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Ht.post(`${gw}/payment/request/reject`,{paymentRequestId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error rejecting payment request:",r),r}}const UF=async()=>{const{data:t,error:e}=await Ee.from("bank_accounts").select("id, name").eq("active",!0).order("name");if(e)throw new Error("Erro ao carregar contas bancrias");return t};async function zF(t){const{error:e}=await Ee.from("payments").delete().eq("id",t);if(e)throw console.error("Error deleting payment:",e),new Error("Erro ao excluir pagamento")}function VF({isOpen:t,onClose:e,request:r,loadRequests:n}){var G;const[a,o]=D.useState(!1),[i,l]=D.useState(null),[c,d]=D.useState([]),[u,h]=D.useState(null),[g,p]=D.useState("general"),w=D.useRef(null),b=D.useRef(null),[_,v]=D.useState({supplierName:"",description:"",value:0,dueDate:"",attachments:[],cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentMethod:"",pixKey:"",barcode:"",branch:"",account:"",digit:"",type:"single",frequency:"",installments:1,endDate:"",cpfCnpj:"",bankCode:""}),[j,L]=D.useState([]),[U,M]=D.useState([]),[q,y]=D.useState([]);D.useEffect(()=>{if(t&&(A(),r)){v(T=>({...T,supplierName:r.supplier_name||"",description:r.description||"",value:r.value||0,dueDate:r.due_date||"",attachments:[],cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentMethod:r.payment_method||"",pixKey:r.pix_key||"",barcode:r.barcode||"",branch:r.branch||"",account:r.account||"",digit:r.digit||"",type:r.type||"single",frequency:r.frequency||"",installments:r.installments||1,endDate:r.end_date||"",cpfCnpj:r.cpfCnpj||"",bankCode:r.bankCode||""}));const X=K(r.pix_key||"");h(X)}},[t,r]);const R=X=>{let T=X.target.value.replace(/\D/g,"");T===""&&(T="0");const J=parseInt(T)/100;v(ee=>({...ee,value:J.toString()}))},A=async()=>{try{const[X,T,J]=await Promise.all([Ee.from("cnpjs").select("*").eq("active",!0),Ee.from("financial_categories").select("*").eq("active",!0),Ee.from("bank_accounts").select("*").eq("active",!0)]);if(X.error)throw X.error;if(T.error)throw T.error;if(J.error)throw J.error;L(X.data||[]),M(T.data||[]),y(J.data||[])}catch(X){console.error("Error loading data:",X),l("Erro ao carregar dados")}},P=async()=>{var X;if(r)try{o(!0),l(null);const T=await Promise.all(_.attachments.map(async le=>{const ue=le.name.split(".").pop(),be=`payment-requests/${`${Math.random().toString(36).substring(2)}.${ue}`}`,{data:me,error:ve}=await Ee.from("payment_request_attachments").delete().eq("payment_request_id",r.id);if(ve)throw ve;const{error:Le}=await Ee.storage.from("attachments").upload(be,le);if(Le)throw Le;const{data:{publicUrl:Te}}=Ee.storage.from("attachments").getPublicUrl(be);return{file_name:le.name,file_type:le.type,file_size:le.size,file_url:Te}}));if(T.length>0){const{error:le}=await Ee.from("payment_request_attachments").insert(T.map(ue=>({...ue,payment_request_id:r.id})));if(le)throw le}if(!_.supplierName)throw new Error("Informe o fornecedor");if(!_.description)throw new Error("Informe a descrio");if(_.value<=0)throw new Error("Informe o valor");if(!_.dueDate)throw new Error("Informe a data de vencimento");if(_.attachments.length===0&&((X=r.attachment_urls)==null?void 0:X.length)===0)throw new Error("Anexe um documento");if(!_.cnpjId)throw new Error("Selecione o CNPJ");if(!_.categoryId)throw new Error("Selecione a categoria");if(!_.competence)throw new Error("Informe a competncia");if(!_.bankAccountId)throw new Error("Selecione a conta bancria");if(!_.paymentMethod)throw new Error("Selecione a forma de pagamento");if(_.paymentMethod==="pix"&&!_.pixKey)throw new Error("Informe a chave PIX");if(_.paymentMethod==="boleto"&&!_.barcode)throw new Error("Informe o cdigo de barras");if((_.paymentMethod==="boleto"||_.paymentMethod==="transferencia")&&!_.cpfCnpj)throw new Error("Informe o CPF/CNPJ do beneficirio");if(_.paymentMethod==="transferencia"&&!_.branch)throw new Error("Informe a agncia");if(_.paymentMethod==="transferencia"&&!_.account)throw new Error("Informe a conta");if(_.paymentMethod==="transferencia"&&!_.digit)throw new Error("Informe o dgito verificador");if(_.paymentMethod==="transferencia"&&!_.bankCode)throw new Error("Informe o cdigo do banco");if(_.type==="recurring"&&!_.frequency)throw new Error("Selecione a frequncia");if(_.type==="installments"&&!_.installments)throw new Error("Informe o nmero de parcelas");if(_.type!=="single"&&_.type!=="installments"&&!_.endDate)throw new Error("Informe a data final");const{data:J,error:ee}=await Ee.from("payment_requests").update({cnpj_id:_.cnpjId,category_id:_.categoryId,bank_account_id:_.bankAccountId,supplier_name:_.supplierName,description:_.description,value:_.value,due_date:_.dueDate,competence:_.competence,payment_method:_.paymentMethod,pix_key:_.pixKey,barcode:_.barcode,branch:_.branch,account:_.account,digit:_.digit,type:_.type,frequency:_.frequency,installments:_.installments,end_date:_.endDate?new Date(_.endDate).toISOString().split("T")[0]:null,cpfCnpj:_.cpfCnpj,bankCode:_.bankCode}).eq("id",r.id);if(ee)throw ee;await $F(r.id),await n(),e()}catch(T){console.error("Error approving request:",T),l(T instanceof Error?T.message:"Erro ao aprovar solicitao")}finally{o(!1)}},x=async()=>{if(r)try{o(!0),l(null),await qF(r.id),await n(),e()}catch(X){console.error("Error rejecting request:",X),l("Erro ao rejeitar solicitao")}finally{o(!1)}};if(!t||!r)return null;const k=X=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(X),E=X=>{const T=Array.from(X.target.files||[]);if(T.length===0)return;const J=T.filter(ee=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(ee.type)?ee.size>5242880?(l("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(l("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(J.length>0){l(null);const ee=J.map(le=>le.type.startsWith("image/")?URL.createObjectURL(le):"");v(le=>({...le,attachments:[...le.attachments,...J]})),d(le=>[...le,...ee])}},C=X=>{v(T=>({...T,attachments:T.attachments.filter((J,ee)=>ee!==X)})),c[X]&&URL.revokeObjectURL(c[X]),d(T=>T.filter((J,ee)=>ee!==X))};function z(X){if(typeof X!="string"||(X=X.replace(/[\s.-]*/gim,""),!X||X.length!==11||X==="00000000000"||X==="11111111111"||X==="22222222222"||X==="33333333333"||X==="44444444444"||X==="55555555555"||X==="66666666666"||X==="77777777777"||X==="88888888888"||X==="99999999999"))return!1;let T=0,J;for(let ee=1;ee<=9;ee++)T+=parseInt(X.substring(ee-1,ee))*(11-ee);if(J=T*10%11,(J===10||J===11)&&(J=0),J!==parseInt(X.substring(9,10)))return!1;T=0;for(let ee=1;ee<=10;ee++)T+=parseInt(X.substring(ee-1,ee))*(12-ee);return J=T*10%11,(J===10||J===11)&&(J=0),J===parseInt(X.substring(10,11))}function V(X){if(typeof X!="string"||(X=X.replace(/[\s.-]*/gim,""),!X||X.length!==14||X==="00000000000000"||X==="11111111111111"||X==="22222222222222"||X==="33333333333333"||X==="44444444444444"||X==="55555555555555"||X==="66666666666666"||X==="77777777777777"||X==="88888888888888"||X==="99999999999999"))return!1;let T=X.length-2,J=X.substring(0,T),ee=X.substring(T),le=0,ue=T-7;for(let be=T;be>=1;be--)le+=parseInt(J.charAt(T-be))*ue--,ue<2&&(ue=9);let de=le%11<2?0:11-le%11;if(de!==parseInt(ee.charAt(0)))return!1;T=T+1,J=X.substring(0,T),le=0,ue=T-7;for(let be=T;be>=1;be--)le+=parseInt(J.charAt(T-be))*ue--,ue<2&&(ue=9);return de=le%11<2?0:11-le%11,de===parseInt(ee.charAt(1))}function K(X){const T=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,J=X.replace(/[^0-9]/g,"");return z(J)?"CPF":V(J)?"CNPJ":T.test(X)?"Email":J.length===10||J.length===11?"Telefone":"Chave Aleatria"}const W=X=>{const T=X.target.value;v(ee=>({...ee,pixKey:T}));const J=K(T);h(J)},B=X=>{const T=X.target.value,J=j.find(ee=>ee.id===T);v(ee=>({...ee,cnpjId:T,bankAccountId:(J==null?void 0:J.bank_account_id)||ee.bankAccountId}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao #",r.request_number]}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>p("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${g==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes da Solicitao"}),s.jsx("button",{onClick:()=>p("mandatory"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${g==="mandatory"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados para o Pagamento"}),s.jsx("button",{onClick:()=>p("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${g==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[g==="general"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:_.supplierName,onChange:X=>v(T=>({...T,supplierName:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:_.description,onChange:X=>v(T=>({...T,description:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[_.description.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Pagamento"}),s.jsx("input",{type:"text",value:k(_.value),onChange:R,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Mxima de Vencimento"}),s.jsx("input",{type:"date",value:_.dueDate,onChange:X=>v(T=>({...T,dueDate:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(G=r.attachment_urls)!=null&&G.length?s.jsx("a",{href:r.attachment_urls[0].file_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:_.attachments.map((X,T)=>s.jsxs("div",{className:"relative",children:[c[T]?s.jsx("img",{src:c[T],alt:`Preview ${T+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:X.name})}),s.jsx("button",{type:"button",onClick:()=>C(T),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Vt,{className:"h-4 w-4"})})]},T))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var X;return(X=w.current)==null?void 0:X.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Si,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:w,type:"file",onChange:E,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:b,type:"file",onChange:E,className:"hidden",accept:"image/*",capture:"environment"})]})]}),g==="mandatory"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:_.cnpjId,onChange:B,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),j.map(X=>s.jsxs("option",{value:X.id,children:[X.name," - ",X.cnpj]},X.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Despesa *"}),s.jsxs("select",{value:_.categoryId,onChange:X=>v(T=>({...T,categoryId:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),U.map(X=>s.jsx("option",{value:X.id,children:X.name},X.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:_.competence,onChange:X=>v(T=>({...T,competence:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:_.bankAccountId,onChange:X=>v(T=>({...T,bankAccountId:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),q.map(X=>s.jsxs("option",{value:X.id,children:[X.name," - ",X.bank," ",X.branch,"/",X.account]},X.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:_.paymentMethod,onChange:X=>v(T=>({...T,paymentMethod:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"})]})]}),_.paymentMethod==="pix"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",u||"Tipo de Chave",")"]}),s.jsx("input",{type:"text",value:_.pixKey,onChange:W,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),_.paymentMethod==="boleto"&&s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:_.barcode,onChange:X=>v(T=>({...T,barcode:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})}),_.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:_.bankCode,onChange:X=>v(T=>({...T,bankCode:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:_.branch,onChange:X=>v(T=>({...T,branch:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:_.account,onChange:X=>v(T=>({...T,account:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:_.digit,onChange:X=>v(T=>({...T,digit:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),(_.paymentMethod==="boleto"||_.paymentMethod==="transferencia")&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:_.cpfCnpj,onChange:X=>v(T=>({...T,cpfCnpj:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),g==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:_.type==="single",onChange:X=>v(T=>({...T,type:X.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:_.type==="recurring",onChange:X=>v(T=>({...T,type:X.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:_.type==="installments",onChange:X=>v(T=>({...T,type:X.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),_.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:_.frequency,onChange:X=>v(T=>({...T,frequency:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:_.type==="recurring",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),_.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:_.installments,onChange:X=>v(T=>({...T,installments:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:_.type==="installments"})]}),_.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:_.endDate,onChange:X=>v(T=>({...T,endDate:X.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:_.type!=="single"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:x,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Rejeitar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:P,disabled:a,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})]})]})]})})}function HF({requests:t,loadRequests:e}){const[r,n]=Ar.useState(null);if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Pl,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Incluir" para criar uma solicitao de pagamento.'})]});const a=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),o=c=>{const d=new Date(c);return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate())},i=c=>o(c).toLocaleDateString("pt-BR"),l=c=>{switch(c){case"PENDING":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Rejeitado"});default:return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconhecido"})}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nmero"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(c=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:["#",c.request_number]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"200px"},children:c.supplier_name}),c.cnpj_name&&s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:c.cnpj_name})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex flex-col",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"200px"},children:c.description})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:a(c.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(c.due_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(c.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{type:"button",onClick:()=>n(c),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})})]},c.id))})]})}),s.jsx(VF,{isOpen:!!r,onClose:()=>n(null),request:r,loadRequests:e})]})}const WF="https://financeiro.tshirteria.com";async function GF(){var e,r;const{data:t}=await Ee.auth.getSession();return((r=(e=t.session)==null?void 0:e.user)==null?void 0:r.id)||void 0}function JF(){return localStorage.getItem("userId")||localStorage.getItem("userid")||void 0}function KF({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),[o,i]=D.useState([]),[l,c]=D.useState(!1),[d,u]=D.useState(!1),[h,g]=D.useState(null),[p,w]=D.useState(null),b=Ar.useRef(null),_=Ar.useRef(null),v=Ar.useRef(null),j=x=>{const k=Array.from(x.target.files||[]);if(k.length===0)return;const E=k.filter(C=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(C.type)?C.size>5242880?(g("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(g("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(E.length>0){g(null);const C=E.map(z=>z.type.startsWith("image/")?URL.createObjectURL(z):"");a(z=>({...z,attachments:Array.isArray(z.attachments)?[...z.attachments,...E]:[...E]})),i(z=>Array.isArray(z)?[...z,...C]:[...C])}},L=()=>{_.current&&_.current.click()},U=async x=>{const k=Array.from(x.target.files||[]);if(k.length===0)return;const E=k[0],C=["image/jpeg","image/png","application/pdf"],z=5*1024*1024;if(!C.includes(E.type)){g("Tipo de arquivo no suportado. Use apenas imagens ou PDF.");return}if(E.size>z){g("Arquivo muito grande. O tamanho mximo permitido  5MB.");return}g(null),w(null),u(!0);try{const V=new FormData;V.append("file",E);const K=await fetch(`${WF}/ai/process/bill`,{method:"POST",body:V});if(!K.ok){const B=await K.json();throw new Error(`Falha ao processar boleto: ${B.message}`)}const W=await K.json();if(console.log("Processed boleto data:",W),a(B=>({supplier_name:W.beneficiario||"",description:"Boleto - "+(W.descricao||""),value:M(W.valor)||0,due_date:q(W.vencimento)||"",attachments:Array.isArray(B.attachments)?[...B.attachments,E]:[E]})),E.type.startsWith("image/")){const B=URL.createObjectURL(E);i(G=>Array.isArray(G)?[...G,B]:[B])}else i(B=>Array.isArray(B)?[...B,""]:[""]);w("Boleto processado com sucesso!"),setTimeout(()=>{a({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),i([]),u(!1),g(null),w(null),r(),e()},1e3)}catch(V){console.error("Error processing boleto:",V),g(V instanceof Error?V.message:"Erro ao processar boleto")}finally{u(!1),v.current&&(v.current.value="")}},M=x=>{if(!x)return 0;if(!isNaN(Number(x)))return Number(x);if(typeof x=="string"){const k=x.replace("R$","").trim();if(k.includes(","))return Number(k.replace(/\./g,"").replace(",","."))}return Number(x)},q=x=>x?x.includes("/")?x.split("/").reverse().join("-"):x:"",y=x=>{a(k=>({...k,attachments:Array.isArray(k.attachments)?k.attachments.filter((E,C)=>C!==x):[]})),Array.isArray(o)&&o[x]&&URL.revokeObjectURL(o[x]),i(k=>Array.isArray(k)?k.filter((E,C)=>C!==x):[])},R=x=>x.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),A=x=>{var C;const k=((C=x.target.value)==null?void 0:C.replace(/\D/g,""))||"0",E=parseInt(k,10)/100;a(z=>({...z,value:E}))},P=async x=>{if(x&&"preventDefault"in x&&x.preventDefault(),c(!0),g(null),w(null),!n.supplier_name.trim()){g("O nome do beneficirio/fornecedor  obrigatrio."),c(!1);return}if(!n.description.trim()){g("A descrio  obrigatria."),c(!1);return}if(n.value<=0){g("O valor do pagamento deve ser maior que zero."),c(!1);return}if(!n.due_date){g("A data de vencimento  obrigatria."),c(!1);return}try{const k=await GF(),E=JF(),C=k||E;if(!C)throw new Error("No foi possvel identificar o usurio (created_by_id). Faa login novamente.");const{data:z,error:V}=await Ee.from("payment_requests").insert([{supplier_name:n.supplier_name,description:n.description,value:n.value,due_date:n.due_date,status:"PENDING",origin:"MANUAL",created_by_id:C}]).select().single();if(V)throw V;const K=n.attachments.map(async W=>{const B=W.name.split(".").pop(),X=`payment-requests/${`${Math.random().toString(36).substring(2)}.${B}`}`,{error:T}=await Ee.storage.from("attachments").upload(X,W);if(T)throw T;const{data:{publicUrl:J}}=Ee.storage.from("attachments").getPublicUrl(X);return{payment_request_id:z.id,file_name:W.name,file_type:W.type,file_size:W.size,file_url:J}});if(K.length>0){const W=await Promise.all(K),{error:B}=await Ee.from("payment_request_attachments").insert(W);if(B)throw B}a({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),r(),e()}catch(k){console.error("Error creating payment request:",k),g(k instanceof Error?k.message:"Erro ao criar solicitao de pagamento")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Pagamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:P,className:"p-4 sm:p-6",children:[h&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:h})]}),p&&s.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:p})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:n.supplier_name,onChange:x=>a(k=>({...k,supplier_name:x.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:n.description,onChange:x=>a(k=>({...k,description:x.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[n.description.length,"/250 caracteres"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Pagamento"}),s.jsx("input",{type:"text",value:R(n.value),onChange:A,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Mxima de Vencimento"}),s.jsx("input",{type:"date",value:n.due_date,onChange:x=>a(k=>({...k,due_date:x.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Anexos"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:Array.isArray(n.attachments)&&n.attachments.map((x,k)=>s.jsxs("div",{className:"relative",children:[Array.isArray(o)&&o[k]?s.jsx("img",{src:o[k],alt:`Preview ${k+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:x.name})}),s.jsx("button",{type:"button",onClick:()=>y(k),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Vt,{className:"h-4 w-4"})})]},k))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{var x;return(x=b.current)==null?void 0:x.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Pl,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]}),s.jsxs("button",{type:"button",onClick:L,className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(k4,{className:"h-5 w-5 mr-2"}),"Capturar Imagem"]}),s.jsxs("button",{type:"button",onClick:()=>{var x;return(x=v.current)==null?void 0:x.click()},className:"flex items-center justify-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",disabled:d,children:[s.jsx(Si,{className:"h-5 w-5 mr-2"}),d?"Processando...":"Processar Boleto"]})]}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:b,type:"file",onChange:j,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:_,type:"file",onChange:j,className:"hidden",accept:"image/*",capture:"environment"}),s.jsx("input",{ref:v,type:"file",onChange:U,className:"hidden",accept:".pdf,.jpg,.jpeg,.png"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:l,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:l,children:l?"Salvando...":"Salvar Solicitao"})]})]})]})}):null}function YF({isOpen:t,onClose:e,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=Ar.useState(r),l=()=>{console.log(o),n(o),e()},c=()=>{const d={dateRange:{start:"",end:""},supplier:"",minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""};a(),i(d),n(d),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:o.minValue,onChange:d=>i(u=>({...u,minValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:o.maxValue,onChange:d=>i(u=>({...u,maxValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendente"}),s.jsx("option",{value:"APPROVED",children:"Aprovado"}),s.jsx("option",{value:"REJECTED",children:"Rejeitado"})]})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}class yw extends D.Component{constructor(){super(...arguments);m2(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("Error caught by boundary:",r,n)}render(){return this.state.hasError?s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Algo deu errado"}),s.jsx("p",{children:"Ocorreu um erro inesperado. Por favor, tente novamente."})]}):this.props.children}}const R5="https://financeiro.tshirteria.com",W3={async getEmailsWithAttachments(t){return(await Ht.get(`${R5}/mail/emails/${t}`)).data},async getAllEmails(){return(await Ht.get(`${R5}/mail/emails`)).data}};async function XF(){try{const{data:t,error:e}=await Ee.from("payment_requests_with_users").select(`
      *,
      attachment_urls:payment_request_attachments(file_url)
    `).order("created_at",{ascending:!1});if(e)throw e;const r=t??[],n=localStorage.getItem("userId"),a=localStorage.getItem("userPermissions");let o=!1;if(a)try{const l=JSON.parse(a);Array.isArray(l)&&(o=l.some(c=>typeof c=="string"&&c.toLowerCase()==="admin"))}catch(l){console.error("Erro ao ler permisses do usurio:",l)}return o||!n?r:r.filter(l=>(l==null?void 0:l.created_by_id)===n)}catch(t){throw console.error("Erro ao listar solicitaes:",t),t}}function QF(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState([]),[c,d]=D.useState(!0),[u,h]=D.useState(null),[g,p]=D.useState({dateRange:{start:"",end:""},supplier:"",minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:"PENDING"}),w=async()=>{try{d(!0);const L=await W3.getAllEmails();console.log(L),window.location.reload()}catch(L){console.error("Erro ao buscar emails:",L)}finally{d(!1)}};D.useEffect(()=>{_()},[]);const b=()=>{o("")},_=async()=>{try{d(!0);const L=await XF();l(L),h(null)}catch(L){console.error("Erro ao carregar solicitaes:",L),h("Erro ao carregar solicitaes")}finally{d(!1)}},v=L=>{const U=new Date(L);return new Date(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate())},j=i.filter(L=>{const U=a.toLowerCase(),M=L!=null&&L.status&&L.status==="PENDING"?"Pendente":L.status==="APPROVED"?"Aprovado":"Rejeitado",q=L.supplier_name.toLowerCase().includes(U)||L.description.toLowerCase().includes(U)||L.request_number.toString().includes(U)||L.cnpj_name&&L.cnpj_name.toLowerCase().includes(U)||L.cnpj_number&&L.cnpj_number.includes(U)||M&&M.toLowerCase().includes(U),y=(!g.dateRange.start||v(L.due_date)>=v(g.dateRange.start))&&(!g.dateRange.end||v(L.due_date)<=v(g.dateRange.end)),R=!g.supplier||L.supplier_name.toLowerCase().includes(g.supplier.toLowerCase()),A=(!g.minValue||L.value>=parseFloat(g.minValue))&&(!g.maxValue||L.value<=parseFloat(g.maxValue)),P=!g.cnpjId||L.cnpj_id===g.cnpjId,x=!g.categoryId||L.category_id===g.categoryId,k=!g.status||L.status===g.status;return q&&y&&R&&A&&P&&x&&k});return s.jsxs("div",{className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>h(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Solicitaes de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de pagamento do sistema"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:w,className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(Fv,{className:"h-5 w-5"}),s.jsx("span",{children:"Buscar Boletos"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nmero, beneficirio ou descrio...",value:a,onChange:L=>o(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})]})}),c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(HF,{requests:j,loadRequests:_})]}),s.jsx(yw,{children:s.jsx(KF,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),_()}})}),s.jsx(YF,{isOpen:r,onClose:()=>n(!1),filters:g,onApplyFilters:p,clearSearchTerm:b})]})}const Qi="https://financeiro.tshirteria.com",Sl={async syncAccounts(t){const e=localStorage.getItem("userId");return(await Ht.post(`${Qi}/bank/statement`,{bankAccountId:t.bankAccountId,userId:e},{headers:{"Content-Type":"application/json"}})).data},async checkGoogleAuth(t){return(await Ht.post(`${Qi}/auth/check-google-auth`,t)).data},async executePayment(t,e){const r=localStorage.getItem("userId");return console.log("will execute payment",t,e),(await Ht.post(`${Qi}/bank/payment/execute`,{paymentId:t,userId:r,sourceAccountId:e},{headers:{"Content-Type":"application/json"}})).data},async getReconciliationStatements(t){return console.log(`${Qi}/bank/reconciliation/statements/${t}`),(await Ht.get(`${Qi}/bank/reconciliation/statements/${t}`,{headers:{"Content-Type":"application/json"}})).data},async createBankTransfer(t){return(await Ht.post(`${Qi}/bank/transfer`,t,{headers:{"Content-Type":"application/json"}})).data},async getMatchingStatements(t){return(await Ht.get(`${Qi}/bank/reconciliation/compare/${t}`)).data},async reconcileStatement(t,e){return(await Ht.post(`${Qi}/bank/reconciliation/reconcile`,{reconciliationStatementId:t,bankStatementId:e})).data}},xw="https://financeiro.tshirteria.com";async function G3(t){var e,r;try{if(!t.lancamentos||t.lancamentos.length===0)throw new Error("Nenhum pagamento selecionado.");return(await Ht.post(`${xw}/batch-payment/create-lote-boleto`,{payload:t})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}async function J3(t){var e,r;try{return(await Ht.post(`${xw}/batch-payment/create-lote-pix`,{payload:t})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}async function K3(t){var e,r;try{return(await Ht.post(`${xw}/batch-payment/create-lote-transferencia`,{payload:t})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}var gf={},ZF=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Y3={},ks={};let bw;const eB=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ks.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ks.getSymbolTotalCodewords=function(e){return eB[e]};ks.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ks.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');bw=e};ks.isKanjiModeEnabled=function(){return typeof bw<"u"};ks.toSJIS=function(e){return bw(e)};var $m={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,a){if(t.isValid(n))return n;try{return e(n)}catch{return a}}})($m);function X3(){this.buffer=[],this.length=0}X3.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var tB=X3;function yf(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}yf.prototype.set=function(t,e,r,n){const a=t*this.size+e;this.data[a]=r,n&&(this.reservedBit[a]=!0)};yf.prototype.get=function(t,e){return this.data[t*this.size+e]};yf.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};yf.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var rB=yf,Q3={};(function(t){const e=ks.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,o=e(n),i=o===145?26:Math.ceil((o-13)/(2*a-2))*2,l=[o-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-i;return l.push(6),l.reverse()},t.getPositions=function(n){const a=[],o=t.getRowColCoords(n),i=o.length;for(let l=0;l<i;l++)for(let c=0;c<i;c++)l===0&&c===0||l===0&&c===i-1||l===i-1&&c===0||a.push([o[l],o[c]]);return a}})(Q3);var Z3={};const nB=ks.getSymbolSize,T5=7;Z3.getPositions=function(e){const r=nB(e);return[[0,0],[r-T5,0],[0,r-T5]]};var eC={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const o=a.size;let i=0,l=0,c=0,d=null,u=null;for(let h=0;h<o;h++){l=c=0,d=u=null;for(let g=0;g<o;g++){let p=a.get(h,g);p===d?l++:(l>=5&&(i+=e.N1+(l-5)),d=p,l=1),p=a.get(g,h),p===u?c++:(c>=5&&(i+=e.N1+(c-5)),u=p,c=1)}l>=5&&(i+=e.N1+(l-5)),c>=5&&(i+=e.N1+(c-5))}return i},t.getPenaltyN2=function(a){const o=a.size;let i=0;for(let l=0;l<o-1;l++)for(let c=0;c<o-1;c++){const d=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(d===4||d===0)&&i++}return i*e.N2},t.getPenaltyN3=function(a){const o=a.size;let i=0,l=0,c=0;for(let d=0;d<o;d++){l=c=0;for(let u=0;u<o;u++)l=l<<1&2047|a.get(d,u),u>=10&&(l===1488||l===93)&&i++,c=c<<1&2047|a.get(u,d),u>=10&&(c===1488||c===93)&&i++}return i*e.N3},t.getPenaltyN4=function(a){let o=0;const i=a.data.length;for(let c=0;c<i;c++)o+=a.data[c];return Math.abs(Math.ceil(o*100/i/5)-10)*e.N4};function r(n,a,o){switch(n){case t.Patterns.PATTERN000:return(a+o)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(a+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return a*o%2+a*o%3===0;case t.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case t.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(a,o){const i=o.size;for(let l=0;l<i;l++)for(let c=0;c<i;c++)o.isReserved(c,l)||o.xor(c,l,r(a,c,l))},t.getBestMask=function(a,o){const i=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<i;d++){o(d),t.applyMask(d,a);const u=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(d,a),u<c&&(c=u,l=d)}return l}})(eC);var qm={};const ml=$m,dp=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],up=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];qm.getBlocksCount=function(e,r){switch(r){case ml.L:return dp[(e-1)*4+0];case ml.M:return dp[(e-1)*4+1];case ml.Q:return dp[(e-1)*4+2];case ml.H:return dp[(e-1)*4+3];default:return}};qm.getTotalCodewordsCount=function(e,r){switch(r){case ml.L:return up[(e-1)*4+0];case ml.M:return up[(e-1)*4+1];case ml.Q:return up[(e-1)*4+2];case ml.H:return up[(e-1)*4+3];default:return}};var tC={},Um={};const mh=new Uint8Array(512),F0=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)mh[r]=e,F0[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)mh[r]=mh[r-255]})();Um.log=function(e){if(e<1)throw new Error("log("+e+")");return F0[e]};Um.exp=function(e){return mh[e]};Um.mul=function(e,r){return e===0||r===0?0:mh[F0[e]+F0[r]]};(function(t){const e=Um;t.mul=function(n,a){const o=new Uint8Array(n.length+a.length-1);for(let i=0;i<n.length;i++)for(let l=0;l<a.length;l++)o[i+l]^=e.mul(n[i],a[l]);return o},t.mod=function(n,a){let o=new Uint8Array(n);for(;o.length-a.length>=0;){const i=o[0];for(let c=0;c<a.length;c++)o[c]^=e.mul(a[c],i);let l=0;for(;l<o.length&&o[l]===0;)l++;o=o.slice(l)}return o},t.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let o=0;o<n;o++)a=t.mul(a,new Uint8Array([1,e.exp(o)]));return a}})(tC);const rC=tC;function vw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}vw.prototype.initialize=function(e){this.degree=e,this.genPoly=rC.generateECPolynomial(this.degree)};vw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=rC.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(n,a),o}return n};var aB=vw,nC={},Fl={},ww={};ww.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ko={};const aC="[0-9]+",sB="[A-Z $%*+\\-./:]+";let Uh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Uh=Uh.replace(/u/g,"\\u");const oB="(?:(?![A-Z0-9 $%*+\\-./:]|"+Uh+`)(?:.|[\r
]))+`;Ko.KANJI=new RegExp(Uh,"g");Ko.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ko.BYTE=new RegExp(oB,"g");Ko.NUMERIC=new RegExp(aC,"g");Ko.ALPHANUMERIC=new RegExp(sB,"g");const iB=new RegExp("^"+Uh+"$"),lB=new RegExp("^"+aC+"$"),cB=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ko.testKanji=function(e){return iB.test(e)};Ko.testNumeric=function(e){return lB.test(e)};Ko.testAlphanumeric=function(e){return cB.test(e)};(function(t){const e=ww,r=Ko;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,i){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?o.ccBits[0]:i<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return r.testNumeric(o)?t.NUMERIC:r.testAlphanumeric(o)?t.ALPHANUMERIC:r.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(o,i){if(t.isValid(o))return o;try{return n(o)}catch{return i}}})(Fl);(function(t){const e=ks,r=qm,n=$m,a=Fl,o=ww,i=7973,l=e.getBCHDigit(i);function c(g,p,w){for(let b=1;b<=40;b++)if(p<=t.getCapacity(b,w,g))return b}function d(g,p){return a.getCharCountIndicator(g,p)+4}function u(g,p){let w=0;return g.forEach(function(b){const _=d(b.mode,p);w+=_+b.getBitsLength()}),w}function h(g,p){for(let w=1;w<=40;w++)if(u(g,w)<=t.getCapacity(w,p,a.MIXED))return w}t.from=function(p,w){return o.isValid(p)?parseInt(p,10):w},t.getCapacity=function(p,w,b){if(!o.isValid(p))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=a.BYTE);const _=e.getSymbolTotalCodewords(p),v=r.getTotalCodewordsCount(p,w),j=(_-v)*8;if(b===a.MIXED)return j;const L=j-d(b,p);switch(b){case a.NUMERIC:return Math.floor(L/10*3);case a.ALPHANUMERIC:return Math.floor(L/11*2);case a.KANJI:return Math.floor(L/13);case a.BYTE:default:return Math.floor(L/8)}},t.getBestVersionForData=function(p,w){let b;const _=n.from(w,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,_);if(p.length===0)return 1;b=p[0]}else b=p;return c(b.mode,b.getLength(),_)},t.getEncodedBits=function(p){if(!o.isValid(p)||p<7)throw new Error("Invalid QR Code version");let w=p<<12;for(;e.getBCHDigit(w)-l>=0;)w^=i<<e.getBCHDigit(w)-l;return p<<12|w}})(nC);var sC={};const ib=ks,oC=1335,dB=21522,O5=ib.getBCHDigit(oC);sC.getEncodedBits=function(e,r){const n=e.bit<<3|r;let a=n<<10;for(;ib.getBCHDigit(a)-O5>=0;)a^=oC<<ib.getBCHDigit(a)-O5;return(n<<10|a)^dB};var iC={};const uB=Fl;function zd(t){this.mode=uB.NUMERIC,this.data=t.toString()}zd.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};zd.prototype.getLength=function(){return this.data.length};zd.prototype.getBitsLength=function(){return zd.getBitsLength(this.data.length)};zd.prototype.write=function(e){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),e.put(a,10);const o=this.data.length-r;o>0&&(n=this.data.substr(r),a=parseInt(n,10),e.put(a,o*3+1))};var hB=zd;const fB=Fl,gy=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Vd(t){this.mode=fB.ALPHANUMERIC,this.data=t}Vd.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Vd.prototype.getLength=function(){return this.data.length};Vd.prototype.getBitsLength=function(){return Vd.getBitsLength(this.data.length)};Vd.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=gy.indexOf(this.data[r])*45;n+=gy.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(gy.indexOf(this.data[r]),6)};var pB=Vd;const mB=Fl;function Hd(t){this.mode=mB.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Hd.getBitsLength=function(e){return e*8};Hd.prototype.getLength=function(){return this.data.length};Hd.prototype.getBitsLength=function(){return Hd.getBitsLength(this.data.length)};Hd.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var gB=Hd;const yB=Fl,xB=ks;function Wd(t){this.mode=yB.KANJI,this.data=t}Wd.getBitsLength=function(e){return e*13};Wd.prototype.getLength=function(){return this.data.length};Wd.prototype.getBitsLength=function(){return Wd.getBitsLength(this.data.length)};Wd.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=xB.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var bB=Wd,lC={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,a){var o={},i={};i[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var c,d,u,h,g,p,w,b,_;!l.empty();){c=l.pop(),d=c.value,h=c.cost,g=r[d]||{};for(u in g)g.hasOwnProperty(u)&&(p=g[u],w=h+p,b=i[u],_=typeof i[u]>"u",(_||b>w)&&(i[u]=w,l.push(u,w),o[u]=d))}if(typeof a<"u"&&typeof i[a]>"u"){var v=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(v)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],o=n;o;)a.push(o),r[o],o=r[o];return a.reverse(),a},find_path:function(r,n,a){var o=e.single_source_shortest_paths(r,n,a);return e.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,a={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(lC);var vB=lC.exports;(function(t){const e=Fl,r=hB,n=pB,a=gB,o=bB,i=Ko,l=ks,c=vB;function d(v){return unescape(encodeURIComponent(v)).length}function u(v,j,L){const U=[];let M;for(;(M=v.exec(L))!==null;)U.push({data:M[0],index:M.index,mode:j,length:M[0].length});return U}function h(v){const j=u(i.NUMERIC,e.NUMERIC,v),L=u(i.ALPHANUMERIC,e.ALPHANUMERIC,v);let U,M;return l.isKanjiModeEnabled()?(U=u(i.BYTE,e.BYTE,v),M=u(i.KANJI,e.KANJI,v)):(U=u(i.BYTE_KANJI,e.BYTE,v),M=[]),j.concat(L,U,M).sort(function(y,R){return y.index-R.index}).map(function(y){return{data:y.data,mode:y.mode,length:y.length}})}function g(v,j){switch(j){case e.NUMERIC:return r.getBitsLength(v);case e.ALPHANUMERIC:return n.getBitsLength(v);case e.KANJI:return o.getBitsLength(v);case e.BYTE:return a.getBitsLength(v)}}function p(v){return v.reduce(function(j,L){const U=j.length-1>=0?j[j.length-1]:null;return U&&U.mode===L.mode?(j[j.length-1].data+=L.data,j):(j.push(L),j)},[])}function w(v){const j=[];for(let L=0;L<v.length;L++){const U=v[L];switch(U.mode){case e.NUMERIC:j.push([U,{data:U.data,mode:e.ALPHANUMERIC,length:U.length},{data:U.data,mode:e.BYTE,length:U.length}]);break;case e.ALPHANUMERIC:j.push([U,{data:U.data,mode:e.BYTE,length:U.length}]);break;case e.KANJI:j.push([U,{data:U.data,mode:e.BYTE,length:d(U.data)}]);break;case e.BYTE:j.push([{data:U.data,mode:e.BYTE,length:d(U.data)}])}}return j}function b(v,j){const L={},U={start:{}};let M=["start"];for(let q=0;q<v.length;q++){const y=v[q],R=[];for(let A=0;A<y.length;A++){const P=y[A],x=""+q+A;R.push(x),L[x]={node:P,lastCount:0},U[x]={};for(let k=0;k<M.length;k++){const E=M[k];L[E]&&L[E].node.mode===P.mode?(U[E][x]=g(L[E].lastCount+P.length,P.mode)-g(L[E].lastCount,P.mode),L[E].lastCount+=P.length):(L[E]&&(L[E].lastCount=P.length),U[E][x]=g(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,j))}}M=R}for(let q=0;q<M.length;q++)U[M[q]].end=0;return{map:U,table:L}}function _(v,j){let L;const U=e.getBestModeForData(v);if(L=e.from(j,U),L!==e.BYTE&&L.bit<U.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(L)+`.
 Suggested mode is: `+e.toString(U));switch(L===e.KANJI&&!l.isKanjiModeEnabled()&&(L=e.BYTE),L){case e.NUMERIC:return new r(v);case e.ALPHANUMERIC:return new n(v);case e.KANJI:return new o(v);case e.BYTE:return new a(v)}}t.fromArray=function(j){return j.reduce(function(L,U){return typeof U=="string"?L.push(_(U,null)):U.data&&L.push(_(U.data,U.mode)),L},[])},t.fromString=function(j,L){const U=h(j,l.isKanjiModeEnabled()),M=w(U),q=b(M,L),y=c.find_path(q.map,"start","end"),R=[];for(let A=1;A<y.length-1;A++)R.push(q.table[y[A]].node);return t.fromArray(p(R))},t.rawSplit=function(j){return t.fromArray(h(j,l.isKanjiModeEnabled()))}})(iC);const zm=ks,yy=$m,wB=tB,kB=rB,jB=Q3,NB=Z3,lb=eC,cb=qm,SB=aB,B0=nC,CB=sC,_B=Fl,xy=iC;function EB(t,e){const r=t.size,n=NB.getPositions(e);for(let a=0;a<n.length;a++){const o=n[a][0],i=n[a][1];for(let l=-1;l<=7;l++)if(!(o+l<=-1||r<=o+l))for(let c=-1;c<=7;c++)i+c<=-1||r<=i+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(o+l,i+c,!0,!0):t.set(o+l,i+c,!1,!0))}}function AB(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function PB(t,e){const r=jB.getPositions(e);for(let n=0;n<r.length;n++){const a=r[n][0],o=r[n][1];for(let i=-2;i<=2;i++)for(let l=-2;l<=2;l++)i===-2||i===2||l===-2||l===2||i===0&&l===0?t.set(a+i,o+l,!0,!0):t.set(a+i,o+l,!1,!0)}}function DB(t,e){const r=t.size,n=B0.getEncodedBits(e);let a,o,i;for(let l=0;l<18;l++)a=Math.floor(l/3),o=l%3+r-8-3,i=(n>>l&1)===1,t.set(a,o,i,!0),t.set(o,a,i,!0)}function by(t,e,r){const n=t.size,a=CB.getEncodedBits(e,r);let o,i;for(o=0;o<15;o++)i=(a>>o&1)===1,o<6?t.set(o,8,i,!0):o<8?t.set(o+1,8,i,!0):t.set(n-15+o,8,i,!0),o<8?t.set(8,n-o-1,i,!0):o<9?t.set(8,15-o-1+1,i,!0):t.set(8,15-o-1,i,!0);t.set(n-8,8,1,!0)}function IB(t,e){const r=t.size;let n=-1,a=r-1,o=7,i=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(a,l-c)){let d=!1;i<e.length&&(d=(e[i]>>>o&1)===1),t.set(a,l-c,d),o--,o===-1&&(i++,o=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function LB(t,e,r){const n=new wB;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),_B.getCharCountIndicator(c.mode,t)),c.write(n)});const a=zm.getSymbolTotalCodewords(t),o=cb.getTotalCodewordsCount(t,e),i=(a-o)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(i-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return RB(n,t,e)}function RB(t,e,r){const n=zm.getSymbolTotalCodewords(e),a=cb.getTotalCodewordsCount(e,r),o=n-a,i=cb.getBlocksCount(e,r),l=n%i,c=i-l,d=Math.floor(n/i),u=Math.floor(o/i),h=u+1,g=d-u,p=new SB(g);let w=0;const b=new Array(i),_=new Array(i);let v=0;const j=new Uint8Array(t.buffer);for(let y=0;y<i;y++){const R=y<c?u:h;b[y]=j.slice(w,w+R),_[y]=p.encode(b[y]),w+=R,v=Math.max(v,R)}const L=new Uint8Array(n);let U=0,M,q;for(M=0;M<v;M++)for(q=0;q<i;q++)M<b[q].length&&(L[U++]=b[q][M]);for(M=0;M<g;M++)for(q=0;q<i;q++)L[U++]=_[q][M];return L}function TB(t,e,r,n){let a;if(Array.isArray(t))a=xy.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){const u=xy.rawSplit(t);d=B0.getBestVersionForData(u,r)}a=xy.fromString(t,d||40)}else throw new Error("Invalid data");const o=B0.getBestVersionForData(a,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const i=LB(e,r,a),l=zm.getSymbolSize(e),c=new kB(l);return EB(c,e),AB(c),PB(c,e),by(c,r,0),e>=7&&DB(c,e),IB(c,i),isNaN(n)&&(n=lb.getBestMask(c,by.bind(null,c,r))),lb.applyMask(n,c),by(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:a}}Y3.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=yy.M,a,o;return typeof r<"u"&&(n=yy.from(r.errorCorrectionLevel,yy.M),a=B0.from(r.version),o=lb.from(r.maskPattern),r.toSJISFunc&&zm.setToSJISFunction(r.toSJISFunc)),TB(e,a,n,o)};var cC={},kw={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:o,scale:o?4:i,margin:a,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},t.getImageWidth=function(n,a){const o=t.getScale(n,a);return Math.floor((n+a.margin*2)*o)},t.qrToImageData=function(n,a,o){const i=a.modules.size,l=a.modules.data,c=t.getScale(i,o),d=Math.floor((i+o.margin*2)*c),u=o.margin*c,h=[o.color.light,o.color.dark];for(let g=0;g<d;g++)for(let p=0;p<d;p++){let w=(g*d+p)*4,b=o.color.light;if(g>=u&&p>=u&&g<d-u&&p<d-u){const _=Math.floor((g-u)/c),v=Math.floor((p-u)/c);b=h[l[_*i+v]?1:0]}n[w++]=b.r,n[w++]=b.g,n[w++]=b.b,n[w]=b.a}}})(kw);(function(t){const e=kw;function r(a,o,i){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=i,o.width=i,o.style.height=i+"px",o.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,i,l){let c=l,d=i;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),i||(d=n()),c=e.getOptions(c);const u=e.getImageWidth(o.modules.size,c),h=d.getContext("2d"),g=h.createImageData(u,u);return e.qrToImageData(g.data,o,c),r(h,d,u),h.putImageData(g,0,0),d},t.renderToDataURL=function(o,i,l){let c=l;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),c||(c={});const d=t.render(o,i,c),u=c.type||"image/png",h=c.rendererOpts||{};return d.toDataURL(u,h.quality)}})(cC);var dC={};const OB=kw;function M5(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function vy(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function MB(t,e,r){let n="",a=0,o=!1,i=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),d=Math.floor(l/e);!c&&!o&&(o=!0),t[l]?(i++,l>0&&c>0&&t[l-1]||(n+=o?vy("M",c+r,.5+d+r):vy("m",a,0),a=0,o=!1),c+1<e&&t[l+1]||(n+=vy("h",i),i=0)):a++}return n}dC.render=function(e,r,n){const a=OB.getOptions(r),o=e.modules.size,i=e.modules.data,l=o+a.margin*2,c=a.color.light.a?"<path "+M5(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+M5(a.color.dark,"stroke")+' d="'+MB(i,o,a.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,g),g};const FB=ZF,db=Y3,uC=cC,BB=dC;function jw(t,e,r,n,a){const o=[].slice.call(arguments,1),i=o.length,l=typeof o[i-1]=="function";if(!l&&!FB())throw new Error("Callback required as last argument");if(l){if(i<2)throw new Error("Too few arguments provided");i===2?(a=r,r=e,e=n=void 0):i===3&&(e.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=e,e=n=void 0):i===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,d){try{const u=db.create(r,n);c(t(u,e,n))}catch(u){d(u)}})}try{const c=db.create(r,n);a(null,t(c,e,n))}catch(c){a(c)}}gf.create=db.create;gf.toCanvas=jw.bind(null,uC.render);gf.toDataURL=jw.bind(null,uC.renderToDataURL);gf.toString=jw.bind(null,function(t,e,r){return BB.render(t,r)});const Qu="https://financeiro.tshirteria.com";console.log(Qu);const zh={async signUp(t){return(await Ht.post(`${Qu}/auth/signup`,{name:t.name,email:t.email,password:t.password},{headers:{"Content-Type":"application/json"}})).data},async preLogin(t){const e=await Ht.post(`${Qu}/auth/login`,{email:t.email,password:t.password},{headers:{"Content-Type":"application/json"}}),{error:r,otpauth:n,firstLogin:a}=e.data;if(!r&&a&&n){const o=await gf.toDataURL(n);return{error:r,qrcode:o}}return e.data},async login(t){const e=await Ht.post(`${Qu}/auth/login/otp`,{email:t.email,password:t.password,google_auth_code:t.google_auth_code},{headers:{"Content-Type":"application/json"}});return e.data&&e.data.user&&e.data.user.id&&(console.log("userId",e.data.user.id),localStorage.setItem("userId",e.data.user.id)),e.data},async resetPassword(t){return(await Ht.post(`${Qu}/auth/reset-password`,{email:t.email,password:t.password,password_confirmation:t.password_confirmation},{headers:{"Content-Type":"application/json"}})).data},getUserId(){return localStorage.getItem("userId")},logout(){localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("userEmail"),localStorage.removeItem("userToken"),localStorage.removeItem("userPermissions")}};function $B({isOpen:t,onClose:e,payment:r,loadPayments:n}){var Je,et;const[a,o]=D.useState([]),i=D.useRef(null),l=D.useRef(null),[c,d]=D.useState(null),[u,h]=D.useState({supplierName:"",description:"",value:"",attachments:[],dueDate:"",cnpjId:null,categoryId:null,competence:"",bankAccountId:null,paymentMethod:"",cpfCnpj:"",pixKey:"",pixPaymentMethod:"",barcode:"",branch:"",account:"",digit:"",bankCode:"",type:"single",frequency:null,installments:null,endDate:null,num_req:""}),[g,p]=D.useState([]),[w,b]=D.useState([]),[_,v]=D.useState([]),[j,L]=D.useState("general"),[U,M]=D.useState(!1),[q,y]=D.useState(!1),[R,A]=D.useState(null),[P,x]=D.useState(!1),[k,E]=D.useState(!1),[C,z]=D.useState(null),[V,K]=D.useState(""),W=oe=>{z(oe),setTimeout(()=>{z(null)},5e3)},B=zh.getUserId();D.useEffect(()=>{t&&G()},[t]);const G=async()=>{try{const{data:oe,error:ke}=await Ee.from("bank_accounts").select("*").eq("active",!0).order("name");if(ke)throw ke;v(oe||[])}catch(oe){console.error("Error loading bank accounts:",oe),W("Erro ao carregar contas bancrias")}};function X(oe){if(typeof oe!="string"||(oe=oe.replace(/[\s.-]*/gim,""),!oe||oe.length!==11||oe==="00000000000"||oe==="11111111111"||oe==="22222222222"||oe==="33333333333"||oe==="44444444444"||oe==="55555555555"||oe==="66666666666"||oe==="77777777777"||oe==="88888888888"||oe==="99999999999"))return!1;let ke=0,Pe;for(let tt=1;tt<=9;tt++)ke+=parseInt(oe.substring(tt-1,tt))*(11-tt);if(Pe=ke*10%11,(Pe===10||Pe===11)&&(Pe=0),Pe!==parseInt(oe.substring(9,10)))return!1;ke=0;for(let tt=1;tt<=10;tt++)ke+=parseInt(oe.substring(tt-1,tt))*(12-tt);return Pe=ke*10%11,(Pe===10||Pe===11)&&(Pe=0),Pe===parseInt(oe.substring(10,11))}function T(oe){if(typeof oe!="string"||(oe=oe.replace(/[\s.-]*/gim,""),!oe||oe.length!==14||oe==="00000000000000"||oe==="11111111111111"||oe==="22222222222222"||oe==="33333333333333"||oe==="44444444444444"||oe==="55555555555555"||oe==="66666666666666"||oe==="77777777777777"||oe==="88888888888888"||oe==="99999999999999"))return!1;let ke=oe.length-2,Pe=oe.substring(0,ke);const tt=oe.substring(ke);let $e=0,st=ke-7;for(let Tt=ke;Tt>=1;Tt--)$e+=parseInt(Pe.charAt(ke-Tt))*st--,st<2&&(st=9);let Nt=$e%11<2?0:11-$e%11;if(Nt!==parseInt(tt.charAt(0)))return!1;ke=ke+1,Pe=oe.substring(0,ke),$e=0,st=ke-7;for(let Tt=ke;Tt>=1;Tt--)$e+=parseInt(Pe.charAt(ke-Tt))*st--,st<2&&(st=9);return Nt=$e%11<2?0:11-$e%11,Nt===parseInt(tt.charAt(1))}function J(oe){const ke=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Pe=oe.replace(/[^0-9]/g,"");return X(Pe)?"CPF":T(Pe)?"CNPJ":ke.test(oe)?"Email":Pe.length===10||Pe.length===11?"Telefone":"Chave Aleatria"}function ee(oe){const ke=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Pe=oe.replace(/[^0-9]/g,"");return X(Pe)||T(Pe)?3:ke.test(oe)?2:Pe.length===10||Pe.length===11?1:4}const le=async()=>{const{data:oe,error:ke}=await Ee.from("settings").select("num_req").single();if(ke)throw ke;const Pe=oe.num_req,{data:tt,error:$e}=await Ee.from("settings").update({num_req:Pe+1}).eq("id",1);if($e)throw $e;return Pe},ue=async()=>{if(r)try{E(!0),W(null);const oe=ee(u.pixKey);h(Pe=>({...Pe,pixPaymentMethod:oe}));const ke=_.find(Pe=>Pe.id===r.bankAccountId);if(!ke){W("Conta bancria no encontrada");return}if(u.paymentMethod==="pix"){let Pe=u.pixKey;oe===3&&(Pe=Pe.replace(/\D/g,""));const $e={numeroRequisicao:await le(),agenciaDebito:ke.branch,contaCorrenteDebito:ke.account,digitoVerificadorContaCorrente:ke.digit||"X",tipoPagamento:"126",listaTransferencias:[{data:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valor:Number(u.value),descricaoPagamento:u.description,descricaoPagamentoInstantaneo:u.description,formaIdentificacao:oe,...oe===1&&{dddTelefone:Pe.substring(0,2),telefone:Pe.substring(2)},...oe===2&&{email:Pe},...oe===3&&Pe.length===11&&{cpf:Pe},...oe===3&&Pe.length===14&&{cnpj:Pe},...oe===4&&{identificacaoAleatoria:Pe}}]},st=await J3({...$e,paymentId:r.id,userId:B,sourceAccountId:u.bankAccountId});if(st.error){const Nt=st.data.map(Tt=>Tt.codigo+" - "+Tt.mensagem).join(`
`);W(Nt);return}}if(r.paymentMethod==="boleto"){const tt={numeroRequisicao:await le(),codigoContrato:ke.agreementCode,numeroAgenciaDebito:ke.branch,numeroContaCorrenteDebito:ke.account,digitoVerificadorContaCorrenteDebito:ke.digit||"X",tipoPagamento:"126",lancamentos:[{numeroCodigoBarras:u.barcode.replace(/\D/g,""),dataPagamento:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valorPagamento:Number(u.value),descricaoPagamento:u.description,valorNominal:Number(u.value),codigoTipoBeneficiario:jd(u.cpfCnpj)?2:1,documentoBeneficiario:u.cpfCnpj?u.cpfCnpj.replace(/\D/g,""):""}],sourceAccountId:u.bankAccountId},$e=await G3({...tt,paymentId:r.id,userId:B});if($e.error){const st=$e.data.map(Nt=>Nt.codigo+" - "+Nt.mensagem).join(`
`);W(st);return}}if(r.paymentMethod==="transferencia"){const tt={numeroRequisicao:await le(),agenciaDebito:ke.branch,contaCorrenteDebito:ke.account,digitoVerificadorContaCorrente:ke.digit||"X",tipoPagamento:128,listaTransferencias:[{agenciaCredito:r.branch,contaCorrenteCredito:r.account,digitoVerificadorContaCorrente:r.digit||"X",dataTransferencia:new Date().toISOString().split("T")[0].split("-").reverse().join(""),numeroCOMPE:r.bankCode,codigoFinalidadeTED:1,valorTransferencia:parseFloat(r.value.toFixed(2)),...jd(r==null?void 0:r.cpfCnpj)&&{cnpjBeneficiario:r.cpfCnpj?r.cpfCnpj.replace(/\D/g,""):""},...!jd(r==null?void 0:r.cpfCnpj)&&{cpfBeneficiario:r.cpfCnpj?r.cpfCnpj.replace(/\D/g,""):""}}],sourceAccountId:u.bankAccountId},$e=await K3({...tt,paymentId:r.id,userId:B});if($e.error){const st=$e.data.map(Nt=>Nt.codigo+" - "+Nt.mensagem).join(`
`);W(st);return}}await Ee.from("payments").update({bb_payment_status:"COMPLETED",updated_at:new Date().toISOString()}).in("id",[r.id]),n(),e()}catch(oe){console.log(oe),console.error("Erro ao processar pagamento:",oe),W("Erro ao processar pagamento")}finally{E(!1)}};D.useEffect(()=>{t&&(de(),r&&(console.log(`
# PAYMENT:`,r),d(r),h(oe=>({...oe,num_req:r.num_req||"",supplierName:r.supplier.name||"",description:r.description||"",value:r.value?r.value.toString():"",dueDate:r.dueDate?r.dueDate.split("T")[0]:"",cnpjId:r.cnpjId||"",categoryId:r.categoryId||"",competence:r.competence||"",bankAccountId:r.bankAccountId||"",paymentMethod:r.paymentMethod||"",pixKey:r.pixKey||"",pixPaymentMethod:r.pixPaymentMethod||"",bankCode:r.bankCode||"",barcode:r.barcode||"",branch:r.branch||"",account:r.account||"",digit:r.digit||"X",type:r.type||"single",frequency:r.frequency||null,installments:r.installments||null,endDate:r.endDate?r.endDate.split("T")[0]:"",cpfCnpj:r.cpfCnpj||""}))))},[t,r]);const de=async()=>{try{const[oe,ke,Pe]=await Promise.all([Ee.from("cnpjs").select("*").eq("active",!0),Ee.from("financial_categories").select("*").eq("active",!0),Ee.from("bank_accounts").select("*").eq("active",!0)]);if(oe.error)throw oe.error;if(ke.error)throw ke.error;if(Pe.error)throw Pe.error;p(oe.data||[]),b(ke.data||[]),v(Pe.data||[])}catch(oe){console.error("Error loading data:",oe),W("Erro ao carregar dados")}};if(!t||!r)return null;const be=oe=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(oe),me=oe=>{let ke=oe.target.value.replace(/\D/g,"");ke===""&&(ke="0");const Pe=parseInt(ke)/100;h(tt=>({...tt,value:Pe.toString()}))},ve=oe=>oe?new Date(oe).toLocaleDateString("pt-BR"):"-",Le=r.status==="PAID",Te=async(oe,ke)=>{try{if(E(!0),W(null),r.status==="PAID"){const Pe={supplier_name:u.supplierName,competence:u.competence};await Ee.from("payments").update(Pe).eq("id",r.id),await Ee.from("bank_statements").update({beneficiary:u.supplierName}).eq("payment_id",r.id)}else{const Pe={...u,pix_payment_method:u.pixPaymentMethod};await H3({...Pe,id:r.id,singleUpdate:ke})}await n(),e()}catch(Pe){console.error("Error updating payment:",Pe),W("Erro ao atualizar pagamento")}finally{E(!1)}},We=async()=>{if(rt()){W("Os dados do pagamento foram alterados, por favor, atualize os dados antes de realizar o pagamento.");return}W(null),K(""),x(!1),M(!0),A(r)},ct=async()=>{if(rt()){W("Os dados do pagamento foram alterados, por favor, atualize os dados antes de realizar o pagamento.");return}W(null),K(""),x(!0),M(!0),A(r)},Fe=async()=>{try{if(!V||V.length!==6){W("Por favor, insira um cdigo de autenticao vlido");return}E(!0),M(!1);const oe=await Sl.checkGoogleAuth({userId:localStorage.getItem("userId")||"",google_auth_code:V});if(console.log(`
# RESPONSE:`,oe),oe.error){W(oe.message);return}P?await ue():(await Sl.executePayment(r.id,u.bankAccountId),await n(),e())}catch(oe){console.error("Error marking payment as paid:",oe),W("Erro ao marcar pagamento como pago")}finally{E(!1)}},ge=oe=>{const ke=Array.from(oe.target.files||[]);if(ke.length===0)return;const Pe=ke.filter(tt=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(tt.type)?tt.size>5242880?(W("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(W("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(Pe.length>0){W(null);const tt=Pe.map($e=>$e.type.startsWith("image/")?URL.createObjectURL($e):"");h($e=>({...$e,attachments:[...$e.attachments,...Pe]})),o($e=>[...$e,...tt])}},yt=oe=>{h(ke=>({...ke,attachments:ke.attachments.filter((Pe,tt)=>tt!==oe)})),a[oe]&&URL.revokeObjectURL(a[oe]),o(ke=>ke.filter((Pe,tt)=>tt!==oe))},rt=()=>{var oe,ke,Pe;return c?r.status==="PAID"?u.supplierName!==(((oe=c.supplier)==null?void 0:oe.name)||"")||u.competence!==(c.competence||""):u.supplierName!==(((ke=c.supplier)==null?void 0:ke.name)||"")||u.description!==(c.description||"")||u.value!==(((Pe=c.value)==null?void 0:Pe.toString())||"")||u.dueDate!==(c.dueDate?c.dueDate.split("T")[0]:"")||u.cnpjId!==(c.cnpjId||"")||u.categoryId!==(c.categoryId||"")||u.competence!==(c.competence||"")||u.bankAccountId!==(c.bankAccountId||"")||u.paymentMethod!==(c.paymentMethod||"")||u.pixKey!==(c.pixKey||"")||u.barcode!==(c.barcode||"")||u.branch!==(c.branch||"")||u.account!==(c.account||"")||u.digit!==(c.digit||"X")||u.type!==(c.type||"single")||u.frequency!==(c.frequency||null)||u.installments!==(c.installments||null)||u.endDate!==(c.endDate?c.endDate.split("T")[0]:"")||u.cpfCnpj!==(c.cpfCnpj||"")||u.bankCode!==(c.bankCode||"")||u.pixPaymentMethod!==(c.pixPaymentMethod||""):!1};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Editar/Executar Pagamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>L("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${j==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>L("payment"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${j==="payment"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados para o Pagamento"}),s.jsx("button",{onClick:()=>L("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${j==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("form",{children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[C&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:C})}),j==="general"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Beneficirio"}),s.jsx("input",{type:"text",value:u.supplierName,onChange:oe=>h(ke=>({...ke,supplierName:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Descrio"}),s.jsx("textarea",{value:u.description,onChange:oe=>h(ke=>({...ke,description:oe.target.value})),disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[(Je=u.description)==null?void 0:Je.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor"}),s.jsx("input",{type:"text",value:be(Number(u.value)),onChange:me,disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:u.dueDate,onChange:oe=>h(ke=>({...ke,dueDate:oe.target.value})),disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(et=r.attachmentUrls)!=null&&et.length?s.jsx("a",{href:r.attachmentUrls[0],target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:u.attachments.map((oe,ke)=>s.jsxs("div",{className:"relative",children:[a[ke]?s.jsx("img",{src:a[ke],alt:`Preview ${ke+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:oe.name})}),s.jsx("button",{type:"button",onClick:()=>yt(ke),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Vt,{className:"h-4 w-4"})})]},ke))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var oe;return(oe=i.current)==null?void 0:oe.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Si,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:i,type:"file",onChange:ge,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:l,type:"file",onChange:ge,className:"hidden",accept:"image/*",capture:"environment"})]})]}),j==="payment"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:u.cnpjId,onChange:oe=>h(ke=>({...ke,cnpjId:oe.target.value})),disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),g.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.name," - ",oe.cnpj]},oe.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Despesa *"}),s.jsxs("select",{disabled:Le,value:u.categoryId,onChange:oe=>h(ke=>({...ke,categoryId:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),w.map(oe=>s.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:u.competence,onChange:oe=>h(ke=>({...ke,competence:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:u.bankAccountId,onChange:oe=>h(ke=>({...ke,bankAccountId:oe.target.value})),disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),_.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.name," - ",oe.bank," ",oe.branch,"/",oe.account]},oe.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:u.paymentMethod,onChange:oe=>h(ke=>({...ke,paymentMethod:oe.target.value})),disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"})]})]}),u.paymentMethod==="pix"&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",J(u.pixKey),")"]}),s.jsx("input",{type:"text",value:u.pixKey,onChange:oe=>h(ke=>({...ke,pixKey:oe.target.value})),disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]})}),u.paymentMethod==="boleto"&&s.jsxs("div",{className:"grid grid-cols-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:u.barcode,onChange:oe=>h(ke=>({...ke,barcode:oe.target.value})),disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),u.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:u.bankCode,onChange:oe=>h(ke=>({...ke,bankCode:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:u.branch,onChange:oe=>h(ke=>({...ke,branch:oe.target.value})),disabled:Le,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:u.account,onChange:oe=>h(ke=>({...ke,account:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:u.digit,onChange:oe=>h(ke=>({...ke,digit:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),(u.paymentMethod==="boleto"||u.paymentMethod==="transferencia")&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1 mt-4",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:u.cpfCnpj,onChange:oe=>h(ke=>({...ke,cpfCnpj:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),j==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:u.type==="single",onChange:oe=>h(ke=>({...ke,type:oe.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:u.type==="recurring",onChange:oe=>h(ke=>({...ke,type:oe.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:u.type==="installments",onChange:oe=>h(ke=>({...ke,type:oe.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),u.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:u.frequency,onChange:oe=>h(ke=>({...ke,frequency:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),u.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:u.installments,onChange:oe=>h(ke=>({...ke,installments:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:u.endDate,onChange:oe=>h(ke=>({...ke,endDate:oe.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700 p-6",children:[s.jsx("button",{type:"button",disabled:k,onClick:e,className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{type:"button",disabled:k,onClick:()=>Te(!1,!1),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Atualizar Dados"}),r.status!=="PAID"&&s.jsxs("button",{type:"button",className:"flex items-center px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",onClick:ct,disabled:k,children:[s.jsx(Fv,{className:"h-5 w-5"})," ",s.jsx("span",{children:"Pagar via API"})]}),r.status!=="PAID"&&s.jsx("button",{type:"button",disabled:k,onClick:We,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Gerar Baixa"})]})]})]}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:P?"Confirmar Pagamento via API":"Confirmar Baixa"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja realizar o pagamento R$ ${R==null?void 0:R.value} para "${R==null?void 0:R.supplier.name}" com vencimento ${ve(R==null?void 0:R.dueDate)}? Esta ao no pode ser desfeita.`}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:V,onChange:oe=>K(oe.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:oe=>{oe.key==="Enter"&&Fe()},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",maxLength:6})]}),C&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:C}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{M(!1),A(null),W(null),K("")},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{onClick:Fe,disabled:!V||V.length!==6||k,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[90px]",children:k?"...":"Pagar"})]})]})}),q&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Atualizao"}),r.type!="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Este  um pagamento ${r.type=="recurring"?"recorrente":"parcelado"}, como deseja prosseguir?`}),r.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:"Deseja criar parcelas/recorrncia para este pagamento?"}),u.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Este  um pagamento ${r.type=="recurring"?"recorrente":"parcelado"}, deseja apagar todos os lanamentos futuros?`}),r.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja atualizar o pagamento R$ ${r.value} para ${r==null?void 0:r.supplier.name} com vencimento ${ve(r==null?void 0:r.dueDate)}?`}),C&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:C}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{y(!1),W(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),r.type!="single"||r.type!="single"&&s.jsx("button",{onClick:()=>{y(!1),Te(!0,!1)},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[150px]",children:"Atualizar Todos"}),s.jsx("button",{onClick:()=>{y(!1),Te(!0,r.type!="single")},className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[150px]",children:u.type!="single"&&r.type!="single"||r.type!="single"?"Atualizar Este":"Atualizar"})]})]})})]})}function qB({payments:t,loadPayments:e,onEdit:r}){const[n,a]=Ar.useState(null);if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Oh,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum pagamento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h pagamentos que correspondam aos filtros selecionados."})]});const o=h=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h),i=h=>{const g=new Date(h);return new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate())},l=h=>i(h).toLocaleDateString("pt-BR"),c=h=>h?h.replace(/\D/g,"").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2}).*/,"$1.$2.$3/$4-$5"):"-",d=h=>{switch(h){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Atrasado"});case"SCHEDULED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:" vencer"});case"PAID":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Pago"});default:return null}},u=async h=>{var p;if((await Kn.fire({title:"Excluir este pagamento?",html:`
        <div style="text-align:left">
          <div><b>Beneficirio:</b> ${((p=h.supplier)==null?void 0:p.name)??"-"}</div>
          <div><b>Valor:</b> ${o(h.value)}</div>
          <div><b>Vencimento:</b> ${h.dueDate?l(h.dueDate):"-"}</div>
        </div>
      `,icon:"warning",showCancelButton:!0,confirmButtonText:"Sim, excluir",cancelButtonText:"Cancelar",reverseButtons:!0,focusCancel:!0})).isConfirmed)try{await zF(h.id),await Kn.fire({icon:"success",title:"Excludo",text:"Pagamento removido com sucesso."}),e()}catch(w){await Kn.fire({icon:"error",title:"Erro ao excluir",text:(w==null?void 0:w.message)??"No foi possvel excluir. Tente novamente."})}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ do pagador"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(h=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex flex-col",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:h.supplier.name})})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:[h.description," ",h.installmentNumber&&`(${h.installmentNumber}/${h.installments})`]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:o(h.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:h.dueDate?l(h.dueDate):"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d(h.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c(h.payerCnpj??h.cpfCnpj)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[h.status==="PAID"?s.jsx("button",{type:"button",onClick:()=>a(h),className:"px-3 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white rounded-lg transition-colors",children:"Ver"}):s.jsx("button",{type:"button",onClick:()=>a(h),className:"px-3 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Pagar"}),s.jsxs("button",{type:"button",onClick:()=>r==null?void 0:r(h),className:"px-3 py-2 bg-secondary-100 dark:bg-secondary-700 hover:bg-secondary-200 dark:hover:bg-secondary-600 text-secondary-800 dark:text-secondary-200 rounded-lg transition-colors inline-flex items-center gap-1",title:"Editar",children:[s.jsx(mo,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Editar"})]}),s.jsx("button",{type:"button",onClick:()=>u(h),className:"px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Excluir"})]})]},h.id))})]})}),s.jsx($B,{isOpen:!!n,onClose:()=>a(null),payment:n,loadPayments:e})]})}function UB({isOpen:t,onClose:e,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=Ar.useState(r),l=()=>{n(o),e()},c=()=>{const d={dateRange:{start:"",end:""},status:[],cnpjId:"",bankAccountId:""};a(),i(d),n(d),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Atrasados"}),s.jsx("option",{value:"SCHEDULED",children:" vencer"}),s.jsx("option",{value:"PAID",children:"Pagos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("select",{value:o.cnpjId,onChange:d=>i(u=>({...u,cnpjId:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todos"})})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function zB({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState("general"),[o,i]=D.useState(!1),[l,c]=D.useState(null),[d,u]=D.useState([]),[h,g]=D.useState([]),[p,w]=D.useState([]),[b,_]=D.useState(!1),[v,j]=D.useState({}),L=D.useRef(null),[U,M]=D.useState({general:{supplier_name:"",description:"",category:"",cnpj:"",competence:""},payment:{value:"",dueDate:"",bankAccount:"",paymentMethod:"",pixKey:"",pixPaymentMethod:"",bankCode:"",cpfCnpj:"",barcode:"",branch:"",account:"",digit:""},occurrence:{type:"single",installments:"",frequency:"",endDate:""}});D.useEffect(()=>{function B(G){L.current&&!L.current.contains(G.target)&&_(!1)}return b&&document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[b]),D.useEffect(()=>{t&&q()},[t]);const q=async()=>{try{const[B,G,X]=await Promise.all([Ee.from("cnpjs").select("id, name, cnpj, bank_account_id").eq("active",!0).order("name"),Ee.from("financial_categories").select("*").in("type",["EXPENSE","BOTH"]).eq("active",!0).order("name"),Ee.from("bank_accounts").select(`
            *,
            cnpj:cnpjs (
              id,
              name,
              cnpj
            )
          `).eq("active",!0).order("name")]);if(B.error)throw B.error;if(G.error)throw G.error;if(X.error)throw X.error;u(B.data||[]),g(G.data||[]),w(X.data||[])}catch(B){console.error("Error loading data:",B),c("Erro ao carregar dados do sistema")}},y=B=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(B)),R=B=>{let G=B.target.value.replace(/\D/g,"");G===""&&(G="0");const X=parseInt(G)/100;M(T=>({...T,payment:{...T.payment,value:X.toString()}}))};function A(B){if(typeof B!="string"||(B=B.replace(/[\s.-]*/gim,""),!B||B.length!==11||/^(.)\1+$/.test(B)))return!1;let G=0,X;for(let T=1;T<=9;T++)G+=parseInt(B.substring(T-1,T))*(11-T);if(X=G*10%11,(X===10||X===11)&&(X=0),X!==parseInt(B.substring(9,10)))return!1;G=0;for(let T=1;T<=10;T++)G+=parseInt(B.substring(T-1,T))*(12-T);return X=G*10%11,(X===10||X===11)&&(X=0),X===parseInt(B.substring(10,11))}function P(B){if(typeof B!="string"||(B=B.replace(/[\s.-]*/gim,""),!B||B.length!==14||/^(.)\1+$/.test(B)))return!1;let G=B.length-2,X=B.substring(0,G),T=B.substring(G),J=0,ee=G-7;for(let ue=G;ue>=1;ue--)J+=parseInt(X.charAt(G-ue))*ee--,ee<2&&(ee=9);let le=J%11<2?0:11-J%11;if(le!==parseInt(T.charAt(0)))return!1;G=G+1,X=B.substring(0,G),J=0,ee=G-7;for(let ue=G;ue>=1;ue--)J+=parseInt(X.charAt(G-ue))*ee--,ee<2&&(ee=9);return le=J%11<2?0:11-J%11,le===parseInt(T.charAt(1))}function x(B){const G=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,X=B.replace(/[^0-9]/g,"");return A(X)?"CPF":P(X)?"CNPJ":G.test(B)?"Email":X.length===10||X.length===11?"Telefone":"Chave Aleatria"}const k=async B=>{var G,X;if(B.preventDefault(),i(!0),c(null),!U.payment.value){c("Valor  obrigatrio"),i(!1);return}if(!U.payment.dueDate){c("Data de vencimento  obrigatria"),i(!1);return}if(!U.payment.bankAccount){c("Conta bancria  obrigatria"),i(!1);return}if(!U.payment.paymentMethod){c("Forma de pagamento  obrigatria"),i(!1);return}if(U.payment.paymentMethod==="transferencia"&&(!U.payment.branch||!U.payment.account||!U.payment.digit||!U.payment.bankCode)){c("Agncia, conta, dgito e banco so obrigatrios"),i(!1);return}try{const T=localStorage.getItem("userId");await BF({supplier_name:U.general.supplier_name,description:U.general.description,category_id:U.general.category||null,cnpj_id:U.general.cnpj,competence:new Date(U.general.competence).toISOString().split("T")[0],value:parseFloat(U.payment.value),due_date:new Date(U.payment.dueDate).toISOString().split("T")[0],bank_account_id:U.payment.bankAccount,payment_method:U.payment.paymentMethod,pix_key:U.payment.pixKey,pix_payment_method:U.payment.pixPaymentMethod,cpfCnpj:(G=U.payment)==null?void 0:G.cpfCnpj,bankCode:(X=U.payment)==null?void 0:X.bankCode,barcode:U.payment.barcode,branch:U.payment.branch,account:U.payment.account,digit:U.payment.digit,type:U.occurrence.type,installments:U.occurrence.installments||1,frequency:U.occurrence.frequency,end_date:U.occurrence.endDate?new Date(U.occurrence.endDate).toISOString().split("T")[0]:null,status:"SCHEDULED",created_by:T}),a("general"),M({general:{supplier_name:"",description:"",category:"",cnpj:"",competence:""},payment:{value:"",dueDate:"",bankAccount:"",paymentMethod:"",pixPaymentMethod:"",cpfCnpj:"",bankCode:"",pixKey:"",barcode:"",branch:"",account:"",digit:""},occurrence:{type:"single",installments:"",frequency:"",endDate:""}}),r()}catch(T){console.error("Error creating payment:",T),c("Erro ao criar pagamento")}finally{i(!1)}},E=B=>{M(G=>({...G,payment:{...G.payment,pixKey:B.target.value}}))},C=B=>B.parent_id??B.parentId??null,z=D.useMemo(()=>{const B=new Map;h.forEach(T=>B.set(T.id,{...T,children:[]}));const G=[];h.forEach(T=>{const J=C(T);J&&B.has(J)?B.get(J).children.push(B.get(T.id)):G.push(B.get(T.id))});const X=T=>{T.children.sort((J,ee)=>J.name.localeCompare(ee.name)),T.children.forEach(X)};return G.sort((T,J)=>T.name.localeCompare(J.name)),G.forEach(X),G},[h]),V=D.useMemo(()=>{if(!U.general.category)return"";const B=h.find(G=>G.id===U.general.category);return B?B.name:""},[h,U.general.category]),K=B=>j(G=>({...G,[B]:!G[B]})),W=({node:B,depth:G,onSelectLeaf:X,isRoot:T=!1})=>{const J=B.children.length>0,ee=v[B.id]??!1;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center justify-between px-3 py-2 ${J?"cursor-default":"cursor-pointer"} hover:bg-secondary-700/40 ${U.general.category===B.id&&!J?"bg-secondary-700/60":"bg-transparent"}`,style:{paddingLeft:12+G*16},onClick:()=>{J?K(B.id):X(B.id)},children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J?s.jsx("button",{type:"button",className:"p-0.5 -ml-2 opacity-80 hover:opacity-100",onClick:le=>{le.stopPropagation(),K(B.id)},"aria-label":ee?"Recolher":"Expandir",children:ee?s.jsx(Ni,{className:"h-4 w-4"}):s.jsx(Ov,{className:"h-4 w-4"})}):s.jsx("span",{className:"w-4"}),s.jsx("span",{className:`truncate ${J?"font-medium":""}`,children:B.name})]}),!J&&U.general.category===B.id&&s.jsx(b0,{className:"h-4 w-4 flex-none"})]}),J&&ee&&s.jsxs(s.Fragment,{children:[T&&s.jsx("div",{className:"px-3 pt-1 pb-2 text-[11px] uppercase tracking-wide text-secondary-300/80",style:{paddingLeft:12+(G+1)*16},children:"Subcategorias"}),B.children.map(le=>s.jsx(W,{node:le,depth:G+1,onSelectLeaf:X},le.id))]})]})};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Cadastrar Novo Pagamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("payment"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="payment"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Pagamento"}),s.jsx("button",{onClick:()=>a("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("form",{onSubmit:k,children:[s.jsxs("div",{className:"min-h-[400px] p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:U.general.supplier_name,onChange:B=>M(G=>({...G,general:{...G.general,supplier_name:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:U.general.description,onChange:B=>M(G=>({...G,general:{...G.general,description:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia"}),s.jsx("input",{type:"date",value:U.general.competence,onChange:B=>M(G=>({...G,general:{...G.general,competence:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{ref:L,className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("button",{type:"button",onClick:()=>_(B=>!B),className:"w-full flex items-center justify-between px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("span",{className:V?"":"opacity-60",children:V||"Selecione uma subcategoria"}),s.jsx(Ni,{className:`h-4 w-4 ml-2 transition-transform ${b?"rotate-180":""}`})]}),b&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full max-h-80 overflow-auto rounded-lg border border-secondary-700/60 bg-secondary-900 text-white shadow-xl",children:[s.jsx("div",{className:"sticky top-0 px-3 py-2 text-[11px] uppercase tracking-wide bg-secondary-800/80",children:"Categorias"}),s.jsxs("div",{className:`flex items-center justify-between px-3 py-2 cursor-pointer hover:bg-secondary-700/40 ${U.general.category?"":"bg-secondary-700/60"}`,onClick:()=>{M(B=>({...B,general:{...B.general,category:""}})),_(!1)},children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:"w-4"}),s.jsx("span",{className:"truncate",children:"Sem categoria"})]}),!U.general.category&&s.jsx(b0,{className:"h-4 w-4"})]}),z.length===0&&s.jsx("div",{className:"px-3 py-3 text-sm opacity-70",children:"Nenhuma categoria encontrada"}),z.map(B=>s.jsx(W,{node:B,depth:0,isRoot:!0,onSelectLeaf:G=>{M(X=>({...X,general:{...X.general,category:G}})),_(!1)}},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:U.general.cnpj,onChange:B=>{const G=d.find(X=>X.id===B.target.value);M(X=>({...X,general:{...X.general,cnpj:B.target.value},payment:{...X.payment,bankAccount:(G==null?void 0:G.bank_account_id)||X.payment.bankAccount}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),d.map(B=>s.jsxs("option",{value:B.id,children:[B.name," - ",B.cnpj]},B.id))]})]})]})]}),n==="payment"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:y(U.payment.value),onChange:R,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:U.payment.dueDate,onChange:B=>M(G=>({...G,payment:{...G.payment,dueDate:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:U.payment.bankAccount,onChange:B=>M(G=>({...G,payment:{...G.payment,bankAccount:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),p.map(B=>s.jsxs("option",{value:B.id,children:[B.name," - ",B.bank," ",B.branch,"/",B.account]},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:U.payment.paymentMethod,onChange:B=>M(G=>({...G,payment:{...G.payment,paymentMethod:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"},1),s.jsx("option",{value:"pix",children:"PIX"},2),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"},3)]})]}),U.payment.paymentMethod==="pix"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",x(U.payment.pixKey),")"]}),s.jsx("input",{type:"text",value:U.payment.pixKey,onChange:E,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),U.payment.paymentMethod==="boleto"&&s.jsx("div",{className:"flex flex-nowrap gap-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:U.payment.barcode,onChange:B=>M(G=>({...G,payment:{...G.payment,barcode:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),U.payment.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:U.payment.bankCode,onChange:B=>M(G=>({...G,payment:{...G.payment,bankCode:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:U.payment.branch,onChange:B=>M(G=>({...G,payment:{...G.payment,branch:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:U.payment.account,onChange:B=>M(G=>({...G,payment:{...G.payment,account:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:U.payment.digit,onChange:B=>M(G=>({...G,payment:{...G.payment,digit:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),(U.payment.paymentMethod==="transferencia"||U.payment.paymentMethod==="boleto")&&s.jsx("div",{className:"flex flex-nowrap gap-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:U.payment.cpfCnpj,onChange:B=>M(G=>({...G,payment:{...G.payment,cpfCnpj:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})})]}),n==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:U.occurrence.type==="single",onChange:B=>M(G=>({...G,occurrence:{...G.occurrence,type:B.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:U.occurrence.type==="recurring",onChange:B=>M(G=>({...G,occurrence:{...G.occurrence,type:B.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:U.occurrence.type==="installments",onChange:B=>M(G=>({...G,occurrence:{...G.occurrence,type:B.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),U.occurrence.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:U.occurrence.frequency,onChange:B=>M(G=>({...G,occurrence:{...G.occurrence,frequency:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:U.occurrence.type==="recurring",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),U.occurrence.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:U.occurrence.installments,onChange:B=>M(G=>({...G,occurrence:{...G.occurrence,installments:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:U.occurrence.type==="installments"})]}),U.occurrence.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:U.occurrence.endDate,onChange:B=>M(G=>({...G,occurrence:{...G.occurrence,endDate:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:U.occurrence.type!=="single"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Pagamento"})]})]})]})}):null}const F5="https://financeiro.tshirteria.com";async function VB(t,e){if(!localStorage.getItem("userId"))throw new Error("User is not authenticated.");try{await Ht.post(`${F5}/cnab/gerar-cnab`,{headerInfo:t,detalhes:e},{headers:{"Content-Type":"application/json"}}).then(n=>{const a=document.createElement("a");a.href=`${F5}${n.data.downloadUrl}`,a.setAttribute("download","cnab400_bb_exemplo.rem"),a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a)})}catch(n){throw console.error("Error fetching receivables:",n),n}}function HB({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState(!1),[o,i]=D.useState(null),[l,c]=D.useState([]),[d,u]=D.useState(""),[h,g]=D.useState([]),[p,w]=D.useState([]),[b,_]=D.useState("240");D.useEffect(()=>{t&&v()},[t]);const v=async()=>{try{const{error:R}=await Ee.auth.getSession();if(R)throw R;const[A,P]=await Promise.all([Ee.from("bank_accounts").select("*").eq("active",!0).order("name"),Ee.from("payments").select("*").eq("status","SCHEDULED").order("due_date")]);if(A.error)throw A.error;if(P.error)throw P.error;c(A.data||[]),g(P.data||[])}catch(R){console.error("Error loading data:",R),i("Erro ao carregar dados")}},j=R=>{u(R),w([])},L=R=>{w(A=>A.includes(R)?A.filter(P=>P!==R):[...A,R])},U=()=>{p.length===h.length?w([]):w(h.map(R=>R.id))},M=async()=>{const R=new Date,A=String(R.getDate()).padStart(2,"0"),P=String(R.getMonth()+1).padStart(2,"0"),x=String(R.getFullYear()).slice(-2),k=l.find(V=>V.id===d),E={convenio:k==null?void 0:k.branch,conta:k==null?void 0:k.account,nomeEmpresa:k==null?void 0:k.name,dataGeracao:`${A}${P}${x}`,sequencialArquivo:"000001"},z=h.filter(V=>p.includes(V.id));VB(E,z)},q=R=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R),y=R=>new Date(R).toLocaleDateString("pt-BR");return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Gerar Remessa CNAB"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:d,onChange:R=>j(R.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),l.map(R=>s.jsxs("option",{value:R.id,children:[R.name," - ",R.bank," ",R.branch,"/",R.account]},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de CNAB"}),s.jsxs("select",{value:b,onChange:R=>_(R.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"240",children:"CNAB 240"}),s.jsx("option",{value:"400",children:"CNAB 400"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Pagamentos Disponveis"}),s.jsx("button",{type:"button",onClick:U,className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:p.length===h.length?"Desmarcar Todos":"Selecionar Todos"})]}),s.jsx("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"w-16 px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:p.length===h.length,onChange:U,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:h.map(R=>s.jsxs("tr",{className:`${p.includes(R.id)?"bg-primary-50 dark:bg-primary-900/10":"hover:bg-secondary-50 dark:hover:bg-secondary-800"} transition-colors`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:p.includes(R.id),onChange:()=>L(R.id),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:R.supplier_name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:y(R.due_date)}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-right text-secondary-900 dark:text-white",children:q(R.value)})]},R.id))})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:M,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||!d||p.length===0,children:n?"Gerando...":"Gerar CNAB"})]})]})]})}):null}const B5=()=>{const t=new Date,e=t.getDate(),r=t.getMonth()+1,n=t.getFullYear();return`${e}${r.toString().padStart(2,"0")}${n}`};function WB({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState(!1),[o,i]=D.useState(null),[l,c]=D.useState([]),[d,u]=D.useState([]),[h,g]=D.useState([]),[p,w]=D.useState({dateRange:{start:"",end:""},paymentType:"",supplier:"",minValue:"",maxValue:"",bankAccountId:""}),[b,_]=D.useState(""),v=zh.getUserId();D.useEffect(()=>{t&&j()},[t]);const j=async()=>{try{const[x]=await Promise.all([Ee.from("bank_accounts").select("*").eq("active",!0).order("name")]),k=await V3();if(x.error)throw x.error;c(k),g(x.data||[])}catch(x){console.error("Error loading data:",x),i("Erro ao carregar dados")}};function L(x){if(typeof x!="string"||(x=x.replace(/[\s.-]*/gim,""),!x||x.length!==11||x==="00000000000"||x==="11111111111"||x==="22222222222"||x==="33333333333"||x==="44444444444"||x==="55555555555"||x==="66666666666"||x==="77777777777"||x==="88888888888"||x==="99999999999"))return!1;let k=0,E;for(let C=1;C<=9;C++)k+=parseInt(x.substring(C-1,C))*(11-C);if(E=k*10%11,(E===10||E===11)&&(E=0),E!==parseInt(x.substring(9,10)))return!1;k=0;for(let C=1;C<=10;C++)k+=parseInt(x.substring(C-1,C))*(12-C);return E=k*10%11,(E===10||E===11)&&(E=0),E===parseInt(x.substring(10,11))}function U(x){if(typeof x!="string"||(x=x.replace(/[\s.-]*/gim,""),!x||x.length!==14||x==="00000000000000"||x==="11111111111111"||x==="22222222222222"||x==="33333333333333"||x==="44444444444444"||x==="55555555555555"||x==="66666666666666"||x==="77777777777777"||x==="88888888888888"||x==="99999999999999"))return!1;let k=x.length-2,E=x.substring(0,k),C=x.substring(k),z=0,V=k-7;for(let W=k;W>=1;W--)z+=parseInt(E.charAt(k-W))*V--,V<2&&(V=9);let K=z%11<2?0:11-z%11;if(K!==parseInt(C.charAt(0)))return!1;k=k+1,E=x.substring(0,k),z=0,V=k-7;for(let W=k;W>=1;W--)z+=parseInt(E.charAt(k-W))*V--,V<2&&(V=9);return K=z%11<2?0:11-z%11,K===parseInt(C.charAt(1))}function M(x){const k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,E=x.replace(/[^0-9]/g,"");return L(E)||U(E)?3:k.test(x)?2:E.length===10||E.length===11?1:4}const q=async()=>{const{data:x,error:k}=await Ee.from("settings").select("num_req").single();if(k)throw k;const E=x.num_req,{data:C,error:z}=await Ee.from("settings").update({num_req:E+1}).eq("id",1);if(z)throw z;return E},y=async()=>{const x=[];if(d.length===0){i("Selecione pelo menos um pagamento");return}if(!b||b.length!==6){i("Por favor, insira um cdigo de autenticao vlido");return}try{a(!0),i(null);const k=await Sl.checkGoogleAuth({userId:v||"",google_auth_code:b});if(k.error){i(k.message);return}const E=d.reduce((C,z)=>{const V=l.find(W=>W.id===z);if(!V)return C;const K=V.bankAccountId;return C[K]||(C[K]=[]),C[K].push(V),C},{});for(const[C,z]of Object.entries(E)){const V=h.find(W=>W.id===C);if(!V)continue;const K=z.reduce((W,B)=>(W[B.paymentMethod]||(W[B.paymentMethod]=[]),W[B.paymentMethod].push(B),W),{});if(K.pix){const B={numeroRequisicao:await q(),agenciaDebito:V.branch,contaCorrenteDebito:V.account,digitoVerificadorContaCorrente:V.digit||"X",tipoPagamento:"126",listaTransferencias:K.pix.map(X=>({data:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valor:Number(X.value),descricaoPagamento:X.description,descricaoPagamentoInstantaneo:X.description,formaIdentificacao:M(X.pixKey),...M(X.pixKey)===1&&{dddTelefone:X.pixKey.substring(0,2),telefone:X.pixKey.substring(2)},...M(X.pixKey)===2&&{email:X.pixKey},...M(X.pixKey)===3&&{cpf:X.pixKey},...Number(X.pixPaymentMethod)===4&&{identificacaoAleatoria:X.pixKey},paymentId:X.id,userId:v,sourceAccountId:C}))},G=await J3(B);if(G.error){const X=G.data.map(T=>T.codigo+" - "+T.mensagem).join(`
`);x.push(X)}}if(K.boleto){const B={numeroRequisicao:await q(),codigoContrato:V.agreementCode,numeroAgenciaDebito:V.branch,numeroContaCorrenteDebito:V.account,digitoVerificadorContaCorrenteDebito:V.digit||"X",lancamentos:K.boleto.map(X=>({numeroCodigoBarras:X.barcode.replace(/[^0-9]/g,""),dataPagamento:B5(),valorPagamento:parseFloat(X.value.toFixed(2)),descricaoPagamento:X.description,valorNominal:parseFloat(X.value.toFixed(2)),codigoTipoBeneficiario:jd(X==null?void 0:X.cpfCnpj)?2:1,documentoBeneficiario:X!=null&&X.cpfCnpj?X.cpfCnpj.replace(/\D/g,""):"",paymentId:X.id,userId:v,sourceAccountId:C}))},G=await G3(B);if(G.error){const X=G.data.map(T=>T.codigo+" - "+T.mensagem).join(`
`);x.push(X)}}if(K.transferencia){const B={numeroRequisicao:await q(),agenciaDebito:V.branch,contaCorrenteDebito:V.account,digitoVerificadorContaCorrente:V.digit||"X",tipoPagamento:128,listaTransferencias:K.transferencia.map(X=>({agenciaCredito:X.recipientBranch||X.branch,contaCorrenteCredito:X.recipientAccount||X.account,digitoVerificadorContaCorrente:X.recipientDigit||X.digit||"0",dataTransferencia:B5(),numeroCOMPE:X.recipientBankCode||X.bankCode,codigoFinalidadeTED:1,valorTransferencia:parseFloat(X.value.toFixed(2)),...jd(X==null?void 0:X.cpfCnpj)&&{cnpjBeneficiario:X.cpfCnpj?X.cpfCnpj.replace(/\D/g,""):""},...!jd(X==null?void 0:X.cpfCnpj)&&{cpfBeneficiario:X.cpfCnpj?X.cpfCnpj.replace(/\D/g,""):""},paymentId:X.id,userId:v,sourceAccountId:C}))},G=await K3(B);if(G.error){const X=G.data.map(T=>T.codigo+" - "+T.mensagem).join(`
`);x.push(X)}}}if(x.length>0){i(x.join(`
`));return}else await Ee.from("payments").update({bb_payment_status:"COMPLETED",status:"PAID",updated_at:new Date().toISOString()}).in("id",d),r(),e()}catch(k){console.error("Erro ao processar pagamentos:",k),i(k instanceof Error?k.message:"Erro ao processar pagamentos")}finally{a(!1)}},R=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),A=x=>new Date(x).toLocaleDateString("pt-BR"),P=l.filter(x=>{var W,B,G;const k=(!p.dateRange.start||new Date(x.dueDate)>=new Date(p.dateRange.start))&&(!p.dateRange.end||new Date(x.dueDate)<=new Date(p.dateRange.end)),E=!p.paymentType||((W=x.paymentMethod)==null?void 0:W.toUpperCase())===((B=p.paymentType)==null?void 0:B.toUpperCase()),C=!p.supplier||((G=x==null?void 0:x.supplier)==null?void 0:G.name.toLowerCase().includes(p.supplier.toLowerCase())),z=(!p.minValue||x.value>=parseFloat(p.minValue))&&(!p.maxValue||x.value<=parseFloat(p.maxValue)),V=!p.bankAccountId||x.bankAccountId===p.bankAccountId,K=x.status!=="PAID";return k&&E&&C&&z&&V&&K});return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Gerar Pagamento via API"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsx("div",{className:"space-y-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-1 sm:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Perodo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:p.dateRange.start,onChange:x=>w(k=>({...k,dateRange:{...k.dateRange,start:x.target.value}})),className:"flex-1 px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 self-center",children:"at"}),s.jsx("input",{type:"date",value:p.dateRange.end,onChange:x=>w(k=>({...k,dateRange:{...k.dateRange,end:x.target.value}})),className:"flex-1 px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:p.paymentType,onChange:x=>w(k=>({...k,paymentType:x.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todas"}),s.jsx("option",{value:"PIX",children:"PIX"}),s.jsx("option",{value:"TED",children:"TED"}),s.jsx("option",{value:"DOC",children:"DOC"}),s.jsx("option",{value:"BOLETO",children:"Boleto"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:p.bankAccountId,onChange:x=>w(k=>({...k,bankAccountId:x.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todas"}),h.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Fornecedor"}),s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-secondary-400"}),s.jsx("input",{type:"text",value:p.supplier,onChange:x=>w(k=>({...k,supplier:x.target.value})),placeholder:"Buscar fornecedor...",className:"w-full pl-9 pr-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:p.minValue,onChange:x=>w(k=>({...k,minValue:x.target.value})),placeholder:"R$ 0,00",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:p.maxValue,onChange:x=>w(k=>({...k,maxValue:x.target.value})),placeholder:"R$ 0,00",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]})}),s.jsx("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:d.length===P.length,onChange:()=>{d.length===P.length?u([]):u(P.map(x=>x.id))},className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Fornecedor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:P.map(x=>{var k;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:d.includes(x.id),onChange:()=>{u(E=>E.includes(x.id)?E.filter(C=>C!==x.id):[...E,x.id])},className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:A(x.dueDate)}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:x.supplier.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:x.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:((k=x.paymentMethod)==null?void 0:k.toUpperCase())||"TED"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:x.account}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right text-secondary-900 dark:text-white",children:R(x.value)})]},x.id)})})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1 mt-4",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:b,onChange:x=>_(x.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:x=>{x.key==="Enter"&&y()},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",maxLength:6})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:y,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||d.length===0,children:n?"Processando...":"Confirmar Pagamento"})]})]})]})}):null}function GB({isOpen:t,payment:e,onClose:r,onSuccess:n}){const[a,o]=D.useState("general"),[i,l]=D.useState(!1),[c,d]=D.useState(null),[u,h]=D.useState([]),[g,p]=D.useState([]),[w,b]=D.useState([]),[_,v]=D.useState(!1),[j,L]=D.useState({}),U=D.useRef(null),[M,q]=D.useState({general:{supplier_name:"",description:"",category:"",cnpj:"",competence:""},payment:{value:"",dueDate:"",bankAccount:"",paymentMethod:"",pixKey:"",pixPaymentMethod:"",bankCode:"",cpfCnpj:"",barcode:"",branch:"",account:"",digit:""},occurrence:{type:"single",installments:"",frequency:"",endDate:""},status:"SCHEDULED"});D.useEffect(()=>{function B(G){U.current&&!U.current.contains(G.target)&&v(!1)}return _&&document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[_]),D.useEffect(()=>{t&&(async()=>{try{const[B,G,X]=await Promise.all([Ee.from("cnpjs").select("id, name, cnpj, bank_account_id").eq("active",!0).order("name"),Ee.from("financial_categories").select("*").in("type",["EXPENSE","BOTH"]).eq("active",!0).order("name"),Ee.from("bank_accounts").select(`
              *,
              cnpj:cnpjs (
                id,
                name,
                cnpj
              )
            `).eq("active",!0).order("name")]);if(B.error)throw B.error;if(G.error)throw G.error;if(X.error)throw X.error;h(B.data||[]),p(G.data||[]),b(X.data||[])}catch(B){console.error(B),d("Erro ao carregar dados do sistema")}})()},[t]),D.useEffect(()=>{var B;!t||!e||(q({general:{supplier_name:((B=e.supplier)==null?void 0:B.name)??"",description:e.description??"",category:e.categoryId??e.category_id??"",cnpj:e.cnpjId??e.cnpj_id??"",competence:e.competence??""},payment:{value:String(e.value??""),dueDate:e.dueDate?new Date(e.dueDate).toISOString().slice(0,10):e.due_date?new Date(e.due_date).toISOString().slice(0,10):"",bankAccount:e.bankAccountId??e.bank_account_id??"",paymentMethod:e.paymentMethod??e.payment_method??"",pixKey:e.pixKey??e.pix_key??"",pixPaymentMethod:e.pixPaymentMethod??"",bankCode:e.bankCode??"",cpfCnpj:e.cpfCnpj??"",barcode:e.barcode??"",branch:e.branch??"",account:e.account??"",digit:e.digit??""},occurrence:{type:e.type??"single",installments:String(e.installments??""),frequency:e.frequency??"",endDate:e.end_date?new Date(e.end_date).toISOString().slice(0,10):""},status:e.status}),o("general"),d(null))},[t,e]);const y=B=>B.parent_id??B.parentId??null,R=D.useMemo(()=>{const B=new Map;g.forEach(T=>B.set(T.id,{...T,children:[]}));const G=[];g.forEach(T=>{const J=y(T);J&&B.has(J)?B.get(J).children.push(B.get(T.id)):G.push(B.get(T.id))});const X=T=>{T.children.sort((J,ee)=>J.name.localeCompare(ee.name)),T.children.forEach(X)};return G.sort((T,J)=>T.name.localeCompare(J.name)),G.forEach(X),G},[g]),A=D.useMemo(()=>{if(!M.general.category)return"";const B=g.find(G=>G.id===M.general.category);return B?B.name:""},[g,M.general.category]),P=B=>L(G=>({...G,[B]:!G[B]})),x=({node:B,depth:G,onSelectLeaf:X,isRoot:T=!1})=>{const J=B.children.length>0,ee=j[B.id]??!1;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center justify-between px-3 py-2 ${J?"cursor-default":"cursor-pointer"} hover:bg-secondary-700/40 ${M.general.category===B.id&&!J?"bg-secondary-700/60":"bg-transparent"}`,style:{paddingLeft:12+G*16},onClick:()=>J?P(B.id):X(B.id),children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J?s.jsx("button",{type:"button",className:"p-0.5 -ml-2 opacity-80 hover:opacity-100",onClick:le=>{le.stopPropagation(),P(B.id)},"aria-label":ee?"Recolher":"Expandir",children:ee?s.jsx(Ni,{className:"h-4 w-4"}):s.jsx(Ov,{className:"h-4 w-4"})}):s.jsx("span",{className:"w-4"}),s.jsx("span",{className:`truncate ${J?"font-medium":""}`,children:B.name})]}),!J&&M.general.category===B.id&&s.jsx(b0,{className:"h-4 w-4 flex-none"})]}),J&&ee&&s.jsxs(s.Fragment,{children:[T&&s.jsx("div",{className:"px-3 pt-1 pb-2 text-[11px] uppercase tracking-wide text-secondary-300/80",style:{paddingLeft:12+(G+1)*16},children:"Subcategorias"}),B.children.map(le=>s.jsx(x,{node:le,depth:G+1,onSelectLeaf:X},le.id))]})]})},k=B=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(B)),E=B=>{let G=B.target.value.replace(/\D/g,"");G===""&&(G="0");const X=parseInt(G)/100;q(T=>({...T,payment:{...T.payment,value:X.toString()}}))},C=B=>{if(B=(B||"").replace(/[\s.-]*/gim,""),!B||B.length!==11||/^(.)\1+$/.test(B))return!1;let G=0;for(let T=1;T<=9;T++)G+=parseInt(B.substring(T-1,T))*(11-T);let X=G*10%11;if((X===10||X===11)&&(X=0),X!==parseInt(B.substring(9,10)))return!1;G=0;for(let T=1;T<=10;T++)G+=parseInt(B.substring(T-1,T))*(12-T);return X=G*10%11,(X===10||X===11)&&(X=0),X===parseInt(B.substring(10,11))},z=B=>{if(B=(B||"").replace(/[\s.-]*/gim,""),!B||B.length!==14||/^(.)\1+$/.test(B))return!1;let G=B.length-2,X=B.substring(0,G),T=B.substring(G),J=0,ee=G-7;for(let ue=G;ue>=1;ue--)J+=parseInt(X.charAt(G-ue))*ee--,ee<2&&(ee=9);let le=J%11<2?0:11-J%11;if(le!==parseInt(T.charAt(0)))return!1;G=G+1,X=B.substring(0,G),J=0,ee=G-7;for(let ue=G;ue>=1;ue--)J+=parseInt(X.charAt(G-ue))*ee--,ee<2&&(ee=9);return le=J%11<2?0:11-J%11,le===parseInt(T.charAt(1))},V=B=>{const G=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,X=(B||"").replace(/[^0-9]/g,"");return C(X)?"CPF":z(X)?"CNPJ":G.test(B)?"Email":X.length===10||X.length===11?"Telefone":"Chave Aleatria"},K=B=>q(G=>({...G,payment:{...G.payment,pixKey:B.target.value}})),W=async B=>{if(B.preventDefault(),!!(e!=null&&e.id)){if(l(!0),d(null),!M.payment.value){d("Valor  obrigatrio"),l(!1);return}if(!M.payment.dueDate){d("Data de vencimento  obrigatria"),l(!1);return}if(!M.payment.bankAccount){d("Conta bancria  obrigatria"),l(!1);return}if(!M.payment.paymentMethod){d("Forma de pagamento  obrigatria"),l(!1);return}if(M.payment.paymentMethod==="transferencia"&&(!M.payment.branch||!M.payment.account||!M.payment.digit||!M.payment.bankCode)){d("Agncia, conta, dgito e banco so obrigatrios"),l(!1);return}try{const G={id:e.id,supplier_name:M.general.supplier_name,description:M.general.description,category_id:M.general.category||null,cnpj_id:M.general.cnpj||null,competence:M.general.competence||null,value:parseFloat(M.payment.value),due_date:new Date(M.payment.dueDate).toISOString().split("T")[0],bank_account_id:M.payment.bankAccount,payment_method:M.payment.paymentMethod,pix_key:M.payment.pixKey||null,pix_payment_method:M.payment.pixPaymentMethod||null,cpfCnpj:M.payment.cpfCnpj||null,bankCode:M.payment.bankCode||null,barcode:M.payment.barcode||null,branch:M.payment.branch||null,account:M.payment.account||null,digit:M.payment.digit||null,type:M.occurrence.type,installments:M.occurrence.installments?Number(M.occurrence.installments):null,frequency:M.occurrence.frequency||null,end_date:M.occurrence.endDate?new Date(M.occurrence.endDate).toISOString().split("T")[0]:null,status:M.status};await H3(G),n()}catch(G){console.error(G),d("Erro ao salvar alteraes")}finally{l(!1)}}};return!t||!e?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Editar Pagamento"}),s.jsx("button",{onClick:r,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>o("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>o("payment"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="payment"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Pagamento"}),s.jsx("button",{onClick:()=>o("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("form",{onSubmit:W,children:[s.jsxs("div",{className:"min-h-[400px] p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),a==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:M.general.supplier_name,onChange:B=>q(G=>({...G,general:{...G.general,supplier_name:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:M.general.description,onChange:B=>q(G=>({...G,general:{...G.general,description:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia"}),s.jsx("input",{type:"date",value:M.general.competence,onChange:B=>q(G=>({...G,general:{...G.general,competence:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{ref:U,className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("button",{type:"button",onClick:()=>v(B=>!B),className:"w-full flex items-center justify-between px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("span",{className:A?"":"opacity-60",children:A||"Selecione uma subcategoria"}),s.jsx(Ni,{className:`h-4 w-4 ml-2 transition-transform ${_?"rotate-180":""}`})]}),_&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full max-h-80 overflow-auto rounded-lg border border-secondary-700/60 bg-secondary-900 text-white shadow-xl",children:[s.jsx("div",{className:"sticky top-0 px-3 py-2 text-[11px] uppercase tracking-wide bg-secondary-800/80",children:"Categorias"}),s.jsxs("div",{className:`flex items-center justify-between px-3 py-2 cursor-pointer hover:bg-secondary-700/40 ${M.general.category?"":"bg-secondary-700/60"}`,onClick:()=>{q(B=>({...B,general:{...B.general,category:""}})),v(!1)},children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("span",{className:"w-4"}),s.jsx("span",{className:"truncate",children:"Sem categoria"})]}),!M.general.category&&s.jsx(b0,{className:"h-4 w-4"})]}),R.length===0&&s.jsx("div",{className:"px-3 py-3 text-sm opacity-70",children:"Nenhuma categoria encontrada"}),R.map(B=>s.jsx(x,{node:B,depth:0,isRoot:!0,onSelectLeaf:G=>{q(X=>({...X,general:{...X.general,category:G}})),v(!1)}},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:M.general.cnpj,onChange:B=>{const G=u.find(X=>X.id===B.target.value);q(X=>({...X,general:{...X.general,cnpj:B.target.value},payment:{...X.payment,bankAccount:(G==null?void 0:G.bank_account_id)||X.payment.bankAccount}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),u.map(B=>s.jsxs("option",{value:B.id,children:[B.name," - ",B.cnpj]},B.id))]})]})]})]}),a==="payment"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:k(M.payment.value),onChange:E,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:M.payment.dueDate,onChange:B=>q(G=>({...G,payment:{...G.payment,dueDate:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:M.payment.bankAccount,onChange:B=>q(G=>({...G,payment:{...G.payment,bankAccount:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),w.map(B=>s.jsxs("option",{value:B.id,children:[B.name," - ",B.bank," ",B.branch,"/",B.account]},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:M.payment.paymentMethod,onChange:B=>q(G=>({...G,payment:{...G.payment,paymentMethod:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"})]})]}),M.payment.paymentMethod==="pix"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",M.payment.pixKey?V(M.payment.pixKey):"",")"]}),s.jsx("input",{type:"text",value:M.payment.pixKey,onChange:K,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),M.payment.paymentMethod==="boleto"&&s.jsx("div",{className:"flex flex-nowrap gap-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:M.payment.barcode,onChange:B=>q(G=>({...G,payment:{...G.payment,barcode:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),M.payment.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:M.payment.bankCode,onChange:B=>q(G=>({...G,payment:{...G.payment,bankCode:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:M.payment.branch,onChange:B=>q(G=>({...G,payment:{...G.payment,branch:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:M.payment.account,onChange:B=>q(G=>({...G,payment:{...G.payment,account:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:M.payment.digit,onChange:B=>q(G=>({...G,payment:{...G.payment,digit:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(M.payment.paymentMethod==="transferencia"||M.payment.paymentMethod==="boleto")&&s.jsx("div",{className:"flex flex-nowrap gap-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:M.payment.cpfCnpj,onChange:B=>q(G=>({...G,payment:{...G.payment,cpfCnpj:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:M.status,onChange:B=>q(G=>({...G,status:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"SCHEDULED",children:"SCHEDULED"}),s.jsx("option",{value:"PENDING",children:"PENDING"}),s.jsx("option",{value:"PAID",children:"PAID"})]})]})]}),a==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsx("div",{className:"space-y-2",children:["single","recurring","installments"].map(B=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:B,checked:M.occurrence.type===B,onChange:G=>q(X=>({...X,occurrence:{...X.occurrence,type:G.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:B==="single"?"nica":B==="recurring"?"Recorrente":"Parcelado"})]},B))})]}),M.occurrence.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:M.occurrence.frequency,onChange:B=>q(G=>({...G,occurrence:{...G.occurrence,frequency:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),M.occurrence.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:2,value:M.occurrence.installments,onChange:B=>q(G=>({...G,occurrence:{...G.occurrence,installments:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),M.occurrence.type!=="single"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:M.occurrence.endDate,onChange:B=>q(G=>({...G,occurrence:{...G.occurrence,endDate:B.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:r,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function JB(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(!1),[i,l]=D.useState(!1),[c,d]=D.useState(""),[u,h]=D.useState([]),[g,p]=D.useState(!0),[w,b]=D.useState(null),[_,v]=D.useState({dateRange:{start:"",end:""},status:["SCHEDULED","PENDING"],cnpjId:"",bankAccountId:""}),[j,L]=D.useState(!1),[U,M]=D.useState(null),[q,y]=D.useState(null),[R,A]=D.useState([]),[P,x]=D.useState(1),k=10,E=[{key:"today",label:"Hoje"},{key:"week",label:"Essa semana"},{key:"2weeks",label:"15 dias"},{key:"month",label:"Esse ms"}];D.useEffect(()=>{z()},[_]),D.useEffect(()=>{(async()=>{try{const Le=await UF();A(Le)}catch(Le){console.error("Erro ao carregar contas bancrias:",Le)}})()},[]);const C=()=>{d("")},z=async()=>{try{p(!0);const ve=await V3();h(ve),b(null)}catch(ve){console.error("Erro ao carregar pagamentos:",ve),b("Erro ao carregar pagamentos")}finally{p(!1)}},V=async ve=>{try{await FF(ve),await z(),b(null)}catch(Le){console.error("Erro ao executar pagamento:",Le),b("Erro ao executar pagamento")}},K=ve=>{const Le=new Date(ve);return new Date(Le.getUTCFullYear(),Le.getUTCMonth(),Le.getUTCDate())},W=ve=>{x(1),y(ve);const Le=new Date;let Te=new Date(Le.setHours(0,0,0,0)).toISOString(),We=new Date(Le.setHours(0,0,0,0)).toISOString();ve==="week"&&(Te=new Date,We=new Date,Te.setDate(Te.getDate()-Te.getDay()),We.setDate(Te.getDate()+6)),ve==="2weeks"&&(Te=new Date,We=new Date,Te.getDate()<=15?(Te.setDate(1),We.setDate(15)):(Te.setDate(16),We.setMonth(Te.getMonth()+1),We.setDate(0))),ve==="month"&&(Te=new Date,We=new Date,Te.setDate(1),We.setMonth(Te.getMonth()+1),We.setDate(0)),v(ct=>({...ct,dateRange:{start:Te,end:We}}))},B=ve=>{d(ve.target.value),x(1)},G=u.filter(ve=>{const Le=c.toLowerCase(),Te=ve.supplier.name.toLowerCase().includes(Le)||ve.description.toLowerCase().includes(Le),We=(!_.dateRange.start||K(ve.dueDate)>=K(_.dateRange.start))&&(!_.dateRange.end||K(ve.dueDate)<=K(_.dateRange.end)),ct=!_.cnpjId||ve.cnpjId===_.cnpjId,Fe=!_.status.length||_.status.includes(ve.status),ge=!_.bankAccountId||ve.bankAccountId===_.bankAccountId;return Te&&We&&ct&&Fe&&ge}),X=G.slice((P-1)*k,P*k),T=Math.ceil(G.length/k),J=ve=>{x(ve)},ee=()=>{const ve=(P-1)*k+1,Le=Math.min(P*k,G.length),Te=G.length;return s.jsxs("div",{className:"flex justify-between items-center gap-2 py-4 px-4",children:[s.jsxs("div",{className:"text-secondary-700 dark:text-secondary-300",children:["Mostrando ",ve," at ",Le," de ",Te," registros"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>J(P-1),disabled:P===1,className:"px-3 py-1 rounded-lg bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 disabled:opacity-50",children:"Anterior"}),s.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300",children:["Pgina ",P," de ",T]}),s.jsx("button",{onClick:()=>J(P+1),disabled:P===T,className:"px-3 py-1 rounded-lg bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 disabled:opacity-50",children:"Prxima"})]})]})},le={total:G.reduce((ve,Le)=>ve+Le.value,0),pending:G.filter(ve=>ve.status==="PENDING").length,scheduled:G.filter(ve=>ve.status==="SCHEDULED").length,paid:G.filter(ve=>ve.status==="PAID").length},ue=ve=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ve),de=()=>{v(ve=>({...ve,status:["PENDING"]})),x(1)},be=()=>{v(ve=>({...ve,status:["SCHEDULED"]})),x(1)},me=()=>{v(ve=>({...ve,status:["PAID"]})),x(1)};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>b(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Central de Pagamentos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie e execute os pagamentos do sistema"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(Fv,{className:"h-5 w-5"}),s.jsx("span",{children:"Pagar via API"})]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(j4,{className:"h-5 w-5"}),s.jsx("span",{children:"Gerar CNAB"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Pagamento"})]})]})]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:[E.map(ve=>s.jsx("button",{onClick:()=>W(ve.key),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${q===ve.key?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:ve.label},ve.key)),s.jsxs("select",{value:_.bankAccountId,onChange:ve=>v(Le=>({...Le,bankAccountId:ve.target.value})),className:"flex-shrink-0 px-4 py-2 rounded-lg transition-colors bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("option",{value:"",children:"Todas as contas"}),R.map(ve=>s.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total a Pagar"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:ue(le.total)})]}),s.jsxs("div",{onClick:de,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Atrasados"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:le.pending})]}),s.jsxs("div",{onClick:be,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:" vencer"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-blue-600 dark:text-blue-400",children:le.scheduled})]}),s.jsxs("div",{onClick:me,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Pagos"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:le.paid})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por beneficirio ou descrio...",value:c,onChange:B,className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),g?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs(s.Fragment,{children:[s.jsx(qB,{payments:X,onExecute:V,loadPayments:z,onEdit:ve=>{M(ve),L(!0)}}),s.jsx(ee,{})]})]}),s.jsx(yw,{children:s.jsx(zB,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),z()}})}),s.jsx(HB,{isOpen:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),z()}}),s.jsx(WB,{isOpen:a,onClose:()=>o(!1),onSuccess:()=>{o(!1),z()}}),s.jsx(UB,{isOpen:i,onClose:()=>l(!1),filters:_,onApplyFilters:v,clearSearchTerm:C}),s.jsx(GB,{isOpen:j,payment:U,onClose:()=>{L(!1),M(null)},onSuccess:()=>{L(!1),M(null),z()}})]})}const uu="https://financeiro.tshirteria.com";async function KB(){if(!localStorage.getItem("userId"))throw new Error("User is not authenticated.");try{return(await Ht.get(`${uu}/receivable`,{headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Error fetching receivables:",e),e}}async function YB(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Ht.post(`${uu}/receivable/request/approve`,{receivableRequestId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error approving receivable request:",r),r}}async function XB(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Ht.post(`${uu}/receivable/request/reject`,{receivableRequestId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error rejecting receivable request:",r),r}}async function QB(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Ht.post(`${uu}/receivable/reverse`,{receivableId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error reversing receivable:",r),r}}async function ZB(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Ht.post(`${uu}/receivable/cancel`,{receivableId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error canceling receivable:",r),r}}async function e$(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Ht.post(`${uu}/receivable/create`,{rec:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating receivable:",r),r}}function t$({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState("general"),[o,i]=D.useState(!1),[l,c]=D.useState(null),[d,u]=D.useState([]),[h,g]=D.useState([]),[p,w]=D.useState([]),[b,_]=D.useState([]),[v,j]=D.useState({general:{customerName:"",customerDocument:"",description:"",paymentDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}});D.useEffect(()=>{t&&L()},[t]);const L=async()=>{try{const[R,A,P,x]=await Promise.all([Ee.from("cnpjs").select("*").eq("active",!0),Ee.from("financial_categories").select("*").eq("active",!0),Ee.from("bank_accounts").select("*").eq("active",!0),Ee.from("payment_methods").select("*").eq("active",!0)]);if(R.error)throw R.error;if(A.error)throw A.error;if(P.error)throw P.error;if(x.error)throw x.error;u(R.data||[]),g(A.data||[]),w(P.data||[]),_(x.data||[])}catch(R){console.error("Error loading data:",R),c("Erro ao carregar dados")}},U=R=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R),M=R=>{let A=R.target.value.replace(/\D/g,"");A===""&&(A="0");const P=parseInt(A)/100;j(x=>({...x,financial:{...x.financial,value:P.toString()}}))},q=R=>{const A=R.replace(/\D/g,"");return A.length<=11?A.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):A.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},y=async R=>{var A;R.preventDefault(),i(!0),c(null);try{if(v.general.customerName===""){c("Nome do cliente  obrigatrio"),i(!1);return}if(v.general.customerDocument===""){c("CPF/CNPJ  obrigatrio"),i(!1);return}if(v.general.paymentDate===""){c("Data de pagamento  obrigatria"),i(!1);return}if(v.general.competenceDate===""){c("Data de competncia  obrigatria"),i(!1);return}if(v.financial.value===""||parseFloat(v.financial.value)<=0){c("Valor do recebimento deve ser maior que 0"),i(!1);return}await e$({customer_name:v.general.customerName,customer_document:v.general.customerDocument.replace(/\D/g,""),notes:v.general.description,payment_date:v.general.paymentDate,competence:v.general.competenceDate,value:parseFloat(v.financial.value),payment_method_id:v.financial.paymentMethodId,bank_account_id:v.financial.bankAccountId,cnpj_id:v.financial.cnpjId,category_id:v.financial.categoryId,installments:parseInt(v.financial.installments),status:"PENDING",created_by_id:(A=(await Ee.auth.getUser()).data.user)==null?void 0:A.id}),j({general:{customerName:"",customerDocument:"",description:"",paymentDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}}),r(),e()}catch(P){console.error("Error creating receivable:",P),c("Erro ao criar recebimento")}finally{i(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Recebimento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("financial"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="financial"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Detalhes Financeiros"})]})}),s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:v.general.customerName,onChange:R=>j(A=>({...A,general:{...A.general,customerName:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ"}),s.jsx("input",{type:"text",value:v.general.customerDocument,onChange:R=>j(A=>({...A,general:{...A.general,customerDocument:q(R.target.value)}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:v.general.description,onChange:R=>j(A=>({...A,general:{...A.general,description:R.target.value}})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{type:"date",value:v.general.paymentDate,onChange:R=>j(A=>({...A,general:{...A.general,paymentDate:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Competncia"}),s.jsx("input",{type:"date",value:v.general.competenceDate,onChange:R=>j(A=>({...A,general:{...A.general,competenceDate:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),n==="financial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Recebimento"}),s.jsx("input",{type:"text",value:U(v.financial.value),onChange:M,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:v.financial.paymentMethodId,onChange:R=>{const A=b.find(P=>P.id===R.target.value);j(P=>({...P,financial:{...P.financial,bankAccountId:(A==null?void 0:A.defaultBankAccountId)||""}})),j(P=>({...P,financial:{...P.financial,paymentMethodId:R.target.value}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),b.map(R=>s.jsx("option",{value:R.id,children:R.description},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"1",value:v.financial.installments,onChange:R=>j(A=>({...A,financial:{...A.financial,installments:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:v.financial.bankAccountId,onChange:R=>j(A=>({...A,financial:{...A.financial,bankAccountId:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),p.map(R=>s.jsxs("option",{value:R.id,children:[R.name," - ",R.bank," ",R.branch,"/",R.account]},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:v.financial.cnpjId,onChange:R=>j(A=>({...A,financial:{...A.financial,cnpjId:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),d.map(R=>s.jsxs("option",{value:R.id,children:[R.name," - ",R.cnpj]},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:v.financial.categoryId,onChange:R=>j(A=>({...A,financial:{...A.financial,categoryId:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),h.filter(R=>R.type==="REVENUE"||R.type==="BOTH").map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Recebimento"})]})]})]})}):null}function r$({isOpen:t,onClose:e,receivable:r,loadRequests:n}){var G,X;const[a,o]=D.useState(!1),[i,l]=D.useState(null),[c,d]=D.useState(""),[u,h]=D.useState(!1),[g,p]=D.useState(!1),[w,b]=D.useState(null),[_,v]=D.useState(null);D.useRef(null),D.useRef(null);const[j,L]=D.useState({orderNumber:"",customerName:"",customerDocument:"",notes:"",value:0,receivableRequestId:"",paymentMethodId:"",attachment:null,cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentDate:new Date().toISOString().split("T")[0]}),[U,M]=D.useState([]),[q,y]=D.useState([]),[R,A]=D.useState([]),[P,x]=D.useState([]);D.useEffect(()=>{t&&(V(),r&&(console.log(r),L(T=>{var J;return{...T,orderNumber:r.order_number||"",customerName:r.customer_name||"",customerDocument:r.customer_document||"",notes:r.notes||"",value:r.value||0,receivableRequestId:r.id,paymentMethodId:r.payment_method_id||"",attachment:((J=r==null?void 0:r.attachment)==null?void 0:J.attachment_url)||null,cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentDate:r.payment_date?new Date(r.payment_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}})))},[t,r]);const k=async()=>{h(!0),v(r)},E=async()=>{p(!0),b(r)},C=T=>T?new Date(T).toLocaleDateString("pt-BR"):"-",z=T=>{let J=T.target.value.replace(/\D/g,"");J===""&&(J="0");const ee=parseInt(J)/100;L(le=>({...le,value:ee.toString()}))},V=async()=>{var T;try{const[J,ee,le,ue]=await Promise.all([Ee.from("cnpjs").select("*").eq("active",!0),Ee.from("financial_categories").select("*").eq("active",!0).eq("type","REVENUE"),Ee.from("bank_accounts").select("*").eq("active",!0),Ee.from("payment_methods").select("*").eq("active",!0)]);if(J.error)throw J.error;if(ee.error)throw ee.error;if(le.error)throw le.error;if(ue.error)throw ue.error;M(J.data||[]),y(ee.data||[]),A(le.data||[]),x(ue.data||[]),d(((T=r==null?void 0:r.attachment)==null?void 0:T.attachment_url)||"")}catch(J){console.error("Error loading data:",J),l("Erro ao carregar dados")}},K=async()=>{if(r)try{o(!0),l(null),await QB(r.id),await n(),e()}catch(T){console.error("Error reversing receivable:",T),l("Erro ao rejeitar solicitao")}finally{o(!1)}},W=async()=>{if(r)try{o(!0),l(null),await ZB(r.id),await n(),e()}catch(T){console.error("Error canceling receivable:",T),l("Erro ao cancelar solicitao")}finally{o(!1)}},B=T=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(T);return!t||!r?null:s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao"," ",r.request_number?"#"+r.request_number:""]}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{disabled:!0,type:"text",value:j.orderNumber,onChange:T=>L(J=>({...J,orderNumber:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{disabled:!0,type:"text",value:j.customerName,onChange:T=>L(J=>({...J,customerName:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do Cliente"}),s.jsx("input",{disabled:!0,type:"text",value:j.customerDocument,onChange:T=>L(J=>({...J,customerDocument:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{disabled:!0,value:j.notes,onChange:T=>L(J=>({...J,notes:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[j.notes.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{disabled:!0,type:"text",value:B(j.value),onChange:z,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{disabled:!0,type:"date",value:j.paymentDate,onChange:T=>L(J=>({...J,paymentDate:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(G=r==null?void 0:r.attachment)!=null&&G.attachment_url?s.jsx("a",{href:(X=r==null?void 0:r.attachment)==null?void 0:X.attachment_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{disabled:!0,value:j.cnpjId,onChange:T=>L(J=>({...J,cnpjId:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),U.map(T=>s.jsxs("option",{value:T.id,children:[T.name," - ",T.cnpj]},T.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Receita *"}),s.jsxs("select",{disabled:!0,value:j.categoryId,onChange:T=>L(J=>({...J,categoryId:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),q.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{disabled:!0,type:"date",value:j.competence,onChange:T=>L(J=>({...J,competence:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{disabled:!0,value:j.paymentMethodId,onChange:T=>{const J=P.find(ee=>ee.id===T.target.value);L(ee=>({...ee,bankAccountId:J.defaultBankAccountId||""})),L(ee=>({...ee,paymentMethodId:T.target.value}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),P.map(T=>s.jsx("option",{value:T.id,children:T.description},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{disabled:!0,value:j.bankAccountId,onChange:T=>L(J=>({...J,bankAccountId:T.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),R.map(T=>s.jsxs("option",{value:T.id,children:[T.name," - ",T.bank," ",T.branch,"/",T.account]},T.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:()=>{e()},disabled:a,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Fechar"}),(r==null?void 0:r.status)==="PENDING"&&s.jsx("button",{type:"button",onClick:E,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Cancelar Lanamento"}),(r==null?void 0:r.status)==="RECEIVED"&&s.jsx("button",{type:"button",onClick:k,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Estornar"})]})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Estorno"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja estornar o valor de R$ ${_.value} para ${_==null?void 0:_.customerName} com vencimento ${C(_==null?void 0:_.paymentDate)}? Esta ao no pode ser desfeita.`}),i&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:i}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{h(!1),v(null),l(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:K,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Estornar"})]})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Cancelamento"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja cancelar o valor de R$ ${w.value} para ${w==null?void 0:w.customerName} com vencimento ${C(w==null?void 0:w.paymentDate)}? Esta ao no pode ser desfeita.`}),i&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:i}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{p(!1),b(null),l(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:W,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Cancelar"})]})]})})]})}const n$=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),a$=t=>n$.format(t),s$=t=>new Date(t).toISOString().split("T")[0].split("-").reverse().join("/"),o$=t=>{const e=t.replace(/\D/g,"");return e.length===11?e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):e.length===14?e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):t},i$=t=>{switch(t.status){case"RECEIVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Recebido"});case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:" Receber"});case"REVERSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 dark:bg-secondary-900/20 dark:text-secondary-400",children:"Estornado"});case"CANCELED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 dark:bg-secondary-900/20 dark:text-secondary-400",children:"Cancelado"});default:return null}},hC=D.memo(({receivable:t,onSelect:e})=>{var r;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:s$(t.paymentDate)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:t.customerName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:o$(t.customerDocument)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:a$(t.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:(r=t==null?void 0:t.paymentMethod)==null?void 0:r.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i$(t)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{type:"button",onClick:()=>e(t),className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors w-[90px]",children:"Ver"})})]})});hC.displayName="ReceivableRow";function l$({receivables:t,loadRequests:e}){const[r,n]=D.useState(null),a=D.useCallback(i=>{n(i)},[]),o=D.useMemo(()=>t.map(i=>s.jsx(hC,{receivable:i,onSelect:a},i.id)),[t,a]);return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Oh,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum recebimento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h recebimentos que correspondam aos filtros selecionados."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:o})]}),s.jsx(r$,{isOpen:!!r,onClose:()=>n(null),receivable:r,loadRequests:e})]})}function c$({isOpen:t,onClose:e,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=Ar.useState(r),l=()=>{n(o),e()},c=()=>{const d={dateRange:{start:"",end:""},customer:"",minValue:"",maxValue:"",cnpjId:"",bankAccountId:"",paymentMethodId:"",status:""};a(),i(d),n(d),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cliente"}),s.jsx("input",{type:"text",value:o.customer,onChange:d=>i(u=>({...u,customer:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Nome, CPF ou CNPJ"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:" Receber"}),s.jsx("option",{value:"RECEIVED",children:"Recebidos"}),s.jsx("option",{value:"REVERSED",children:"Estornados"}),s.jsx("option",{value:"CANCELED",children:"Cancelados"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:o.minValue,onChange:d=>i(u=>({...u,minValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:o.maxValue,onChange:d=>i(u=>({...u,maxValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function d$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState([]),[c,d]=D.useState(!1),[u,h]=D.useState(null),[g,p]=D.useState({dateRange:{start:"",end:""},customer:"",minValue:"",maxValue:"",cnpjId:"",bankAccountId:"",paymentMethodId:"",status:""}),w=async()=>{d(!0),KB().then(P=>{const x=P.receivables.map(k=>({...k,orderNumber:k.order_number||"Pedido no informado",customerName:k.customer_name||"Cliente no informado",customerDocument:k.customer_document||"",paymentDate:new Date(k.payment_date),attachment:k.attachment||null}));l(x),d(!1)}).catch(P=>{h("Erro ao buscar recebimentos. Tente novamente mais tarde."),d(!1)})};D.useEffect(()=>{w()},[]);const b=()=>{o("")},[_,v]=D.useState(null),j=new Date,L=Array.from({length:5},(P,x)=>{const k=new Date;return k.setDate(j.getDate()+x),k}),U=P=>{const x=P.toISOString().split("T")[0];v(x),console.log(x),p(k=>({...k,dateRange:{start:x,end:x}}))},M=()=>{v(null),p(P=>({...P,dateRange:{start:"",end:""}}))},q=i.filter(P=>{const x=a.toLowerCase(),k=P.customerName.toLowerCase().includes(x)||P.customerDocument.includes(a)||P.notes.toLowerCase().includes(x),E=(!g.dateRange.start||new Date(P.paymentDate)>=new Date(g.dateRange.start))&&(!g.dateRange.end||new Date(P.paymentDate)<=new Date(g.dateRange.end)),C=!g.customer||P.customerName.toLowerCase().includes(g.customer.toLowerCase())||P.customerDocument.includes(g.customer),z=(!g.minValue||P.value>=parseFloat(g.minValue))&&(!g.maxValue||P.value<=parseFloat(g.maxValue)),V=!g.cnpjId||P.cnpjId===g.cnpjId,K=!g.bankAccountId||P.bankAccountId===g.bankAccountId,W=!g.paymentMethodId||P.paymentMethodId===g.paymentMethodId,B=!g.status||P.status===g.status;return k&&E&&C&&z&&V&&K&&W&&B}),y={total:q.reduce((P,x)=>P+x.value,0),pending:q.filter(P=>P.status==="PENDING").length,received:q.filter(P=>P.status==="RECEIVED").length,canceled:q.filter(P=>P.status==="CANCELED").length},R=P=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P),A=P=>["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][P.getDay()];return s.jsxs("div",{className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>h(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Central de Recebimentos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os recebimentos do sistema"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Recebimento"})]})]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:[s.jsx("button",{onClick:()=>M(),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${_===null?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:"Todos"}),L.map((P,x)=>s.jsx("button",{onClick:()=>U(P),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${_===P.toISOString().split("T")[0]?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:x===0?"Hoje":A(P)},P.toISOString()))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:R(y.total)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Pendentes"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:y.pending})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Recebidos"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:y.received})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Cancelados"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-600 dark:text-red-400",children:y.canceled})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente, CPF/CNPJ ou descrio...",value:a,onChange:P=>o(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(l$,{receivables:q,loadRequests:w})]}),s.jsx(t$,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),w()}}),s.jsx(c$,{isOpen:r,onClose:()=>n(!1),filters:g,onApplyFilters:p,clearSearchTerm:b})]})}function u$({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState({orderNumber:"",customerName:"",customerDocument:"",value:"",paymentMethod:"",notes:"",attachment:null}),[o,i]=D.useState(!1),[l,c]=D.useState(null),d=D.useRef(null),u=D.useRef(null),h=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),g=v=>{let j=v.target.value.replace(/\D/g,"");j===""&&(j="0");const L=parseInt(j)/100;a(U=>({...U,value:L.toString()}))},p=v=>{const j=v.replace(/\D/g,"");return j.length<=11?j.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):j.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},w=v=>{const j=v.target.files;if(!j||j.length===0)return;const L=j[0],U=5*1024*1024;if(!["image/jpeg","image/png","application/pdf"].includes(L.type)){c("Tipo de arquivo no suportado. Use apenas imagens (JPG/PNG) ou PDF.");return}if(L.size>U){c("Arquivo muito grande. O tamanho mximo permitido  5MB.");return}a(q=>({...q,attachment:L})),c(null)},b=()=>{u.current&&u.current.click()},_=async v=>{var j;v.preventDefault(),i(!0),c(null);try{const L=parseFloat(n.value);if(isNaN(L)||L<=0)throw new Error("Valor invlido");if(!n.orderNumber)throw new Error("Nmero do Pedido  obrigatrio");if(!n.customerName)throw new Error("Nome do Cliente  obrigatrio");if(!n.customerDocument)throw new Error("CPF/CNPJ  obrigatrio");const U=n.customerDocument.replace(/\D/g,"");if(U.length!==11&&U.length!==14)throw new Error("CPF/CNPJ invlido");if(!n.attachment)throw new Error("Comprovante de pagamento  obrigatrio");let M=null;if(n.attachment){const y=n.attachment.name.split(".").pop(),A=`receivable-approvals/${`${Math.random().toString(36).substring(2)}.${y}`}`,{error:P}=await Ee.storage.from("attachments").upload(A,n.attachment);if(P)throw P;const{data:{publicUrl:x}}=Ee.storage.from("attachments").getPublicUrl(A);M=x}const{error:q}=await Ee.from("receivable_approval_requests").insert([{order_number:n.orderNumber,customer_name:n.customerName,customer_document:U,value:L,payment_method:n.paymentMethod,notes:n.notes||null,attachment_url:M,status:"PENDING",created_by_id:(j=(await Ee.auth.getUser()).data.user)==null?void 0:j.id}]);if(q)throw q;a({orderNumber:"",customerName:"",customerDocument:"",value:"",paymentMethod:"",notes:"",attachment:null}),r(),e()}catch(L){console.error("Error creating approval request:",L),c(L instanceof Error?L.message:"Erro ao criar solicitao")}finally{i(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Aprovao"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:_,className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:n.orderNumber,onChange:v=>a(j=>({...j,orderNumber:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:n.customerName,onChange:v=>a(j=>({...j,customerName:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ"}),s.jsx("input",{type:"text",value:n.customerDocument,onChange:v=>a(j=>({...j,customerDocument:p(v.target.value)})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:h(n.value),onChange:g,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:n.notes,onChange:v=>a(j=>({...j,notes:v.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre a solicitao..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Comprovante de Pagamento"}),n.attachment&&s.jsxs("div",{className:"mb-4 relative inline-block",children:[n.attachment.type.startsWith("image/")?s.jsx("img",{src:URL.createObjectURL(n.attachment),alt:"Preview",className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:n.attachment.name})}),s.jsx("button",{type:"button",onClick:()=>a(v=>({...v,attachment:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Vt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{var v;return(v=d.current)==null?void 0:v.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Si,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]}),s.jsxs("button",{type:"button",onClick:b,className:"flex items-center justify-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:[s.jsx(k4,{className:"h-5 w-5 mr-2"}),"Capturar Imagem"]})]}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG e PNG. Tamanho mximo: 5MB."}),s.jsx("input",{ref:d,type:"file",onChange:w,className:"hidden",accept:".pdf,.jpg,.jpeg,.png"}),s.jsx("input",{ref:u,type:"file",onChange:w,className:"hidden",accept:"image/*",capture:"environment"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Criar Solicitao"})]})]})]})}):null}function h$({isOpen:t,onClose:e,request:r,loadRequests:n}){const[a,o]=D.useState(!1),[i,l]=D.useState(null),[c,d]=D.useState(""),u=D.useRef(null),h=D.useRef(null),[g,p]=D.useState({orderNumber:"",customerName:"",customerDocument:"",notes:"",value:0,receivableRequestId:"",paymentMethodId:"",attachment:null,cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentDate:new Date().toISOString().split("T")[0]}),[w,b]=D.useState([]),[_,v]=D.useState([]),[j,L]=D.useState([]),[U,M]=D.useState([]),[q,y]=D.useState("solicitacao");D.useEffect(()=>{t&&(A(),r&&p(K=>({...K,orderNumber:r.order_number||"",customerName:r.customer_name||"",customerDocument:r.customer_document||"",notes:r.notes||"",value:r.value||0,receivableRequestId:r.id,paymentMethodId:r.payment_method_id||"",attachment:r.attachment_url||null,cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentDate:r.payment_date?new Date(r.payment_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]})))},[t,r]);const R=K=>{let W=K.target.value.replace(/\D/g,"");W===""&&(W="0");const B=parseInt(W)/100;p(G=>({...G,value:B.toString()}))},A=async()=>{try{const[K,W,B,G]=await Promise.all([Ee.from("cnpjs").select("*").eq("active",!0),Ee.from("financial_categories").select("*").eq("active",!0).eq("type","REVENUE"),Ee.from("bank_accounts").select("*").eq("active",!0),Ee.from("payment_methods").select("*").eq("active",!0)]);if(K.error)throw K.error;if(W.error)throw W.error;if(B.error)throw B.error;if(G.error)throw G.error;b(K.data||[]),v(W.data||[]),L(B.data||[]),M(G.data||[]),d((r==null?void 0:r.attachment_url)||"")}catch(K){console.error("Error loading data:",K),l("Erro ao carregar dados")}},P=async()=>{if(r)try{o(!0),l(null);const K=g.attachment;if((!K||!(K instanceof File))&&!g.attachment){l("Anexo  obrigatrio");return}let W="";if(K&&K instanceof File){const X=K.name.split(".").pop(),J=`receivable-requests/${`${Math.random().toString(36).substring(2)}.${X}`}`,{error:ee}=await Ee.storage.from("attachments").upload(J,K);if(ee)throw ee;const{data:{url:le}}=Ee.storage.from("attachments").getPublicUrl(J);W=le}if(!g.cnpjId){l("CNPJ  obrigatrio");return}if(!g.categoryId){l("Categoria  obrigatria");return}if(!g.bankAccountId){l("Conta bancria  obrigatria");return}if(!g.competence){l("Competncia  obrigatria");return}if(!g.paymentMethodId){l("Forma de pagamento  obrigatria");return}if(!g.value){l("Valor  obrigatrio");return}if(!g.customerName){l("Nome do cliente  obrigatrio");return}if(!g.customerDocument){l("CPF/CNPJ do cliente  obrigatrio");return}if(g.customerDocument.length===11){if(!z(g.customerDocument)){l("CPF invlido");return}}else if(g.customerDocument.length===14){if(!V(g.customerDocument)){l("CNPJ invlido");return}}else{l("CPF/CNPJ invlido");return}const{data:B,error:G}=await Ee.from("receivable_approval_requests").update({cnpj_id:g.cnpjId,category_id:g.categoryId,bank_account_id:g.bankAccountId,notes:g.notes,value:g.value,competence:g.competence,payment_method_id:g.paymentMethodId,attachment_url:W,payment_date:new Date().toISOString().split("T")[0]}).eq("id",r.id);if(G)throw G;await YB(r.id),await n(),e()}catch(K){console.error("Error approving request:",K),l(K instanceof Error?K.message:"Erro ao aprovar solicitao")}finally{o(!1)}},x=async()=>{if(r)try{o(!0),l(null),await XB(r.id),await n(),e()}catch(K){console.error("Error rejecting request:",K),l("Erro ao rejeitar solicitao")}finally{o(!1)}};if(!t||!r)return null;const k=K=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(K),E=K=>{const W=Array.from(K.target.files||[]);if(W.length===0)return;const B=W.filter(G=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(G.type)?G.size>5242880?(l("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(l("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(B.length>0){l(null);const G=B.map(X=>X.type.startsWith("image/")?URL.createObjectURL(X):"");p(X=>({...X,attachment:B[0]})),d(G)}},C=()=>{p(K=>({...K,attachment:null})),c&&URL.revokeObjectURL(c),d("")};function z(K){if(typeof K!="string"||(K=K.replace(/[\s.-]*/gim,""),!K||K.length!==11||K==="00000000000"||K==="11111111111"||K==="22222222222"||K==="33333333333"||K==="44444444444"||K==="55555555555"||K==="66666666666"||K==="77777777777"||K==="88888888888"||K==="99999999999"))return!1;let W=0,B;for(let G=1;G<=9;G++)W+=parseInt(K.substring(G-1,G))*(11-G);if(B=W*10%11,(B===10||B===11)&&(B=0),B!==parseInt(K.substring(9,10)))return!1;W=0;for(let G=1;G<=10;G++)W+=parseInt(K.substring(G-1,G))*(12-G);return B=W*10%11,(B===10||B===11)&&(B=0),B===parseInt(K.substring(10,11))}function V(K){if(typeof K!="string"||(K=K.replace(/[\s.-]*/gim,""),!K||K.length!==14||K==="00000000000000"||K==="11111111111111"||K==="22222222222222"||K==="33333333333333"||K==="44444444444444"||K==="55555555555555"||K==="66666666666666"||K==="77777777777777"||K==="88888888888888"||K==="99999999999999"))return!1;let W=K.length-2,B=K.substring(0,W),G=K.substring(W),X=0,T=W-7;for(let ee=W;ee>=1;ee--)X+=parseInt(B.charAt(W-ee))*T--,T<2&&(T=9);let J=X%11<2?0:11-X%11;if(J!==parseInt(G.charAt(0)))return!1;W=W+1,B=K.substring(0,W),X=0,T=W-7;for(let ee=W;ee>=1;ee--)X+=parseInt(B.charAt(W-ee))*T--,T<2&&(T=9);return J=X%11<2?0:11-X%11,J===parseInt(G.charAt(1))}return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao #",r.request_number]}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>y("solicitacao"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${q==="solicitacao"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes da Solicitao"}),s.jsx("button",{onClick:()=>y("obrigatorios"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${q==="obrigatorios"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados do Recebimento"})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[q==="solicitacao"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:g.orderNumber,onChange:K=>p(W=>({...W,orderNumber:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do Pedido",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:g.customerName,onChange:K=>p(W=>({...W,customerName:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do Cliente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do Cliente"}),s.jsx("input",{type:"text",value:g.customerDocument,onChange:K=>p(W=>({...W,customerDocument:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"CPF/CNPJ do Cliente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:g.notes,onChange:K=>p(W=>({...W,notes:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Observaes",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[g.notes.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:k(g.value),onChange:R,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{type:"date",value:g.paymentDate,onChange:K=>p(W=>({...W,paymentDate:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:r.attachment_url?s.jsx("a",{href:r.attachment_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),c&&c!==""&&s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c,alt:"Preview",className:"w-24 h-24 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>C(),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Vt,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var K;return(K=u.current)==null?void 0:K.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Si,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:u,type:"file",onChange:E,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:h,type:"file",onChange:E,className:"hidden",accept:"image/*",capture:"environment"})]})]}),q==="obrigatorios"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:g.cnpjId,onChange:K=>p(W=>({...W,cnpjId:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),w.map(K=>s.jsxs("option",{value:K.id,children:[K.name," - ",K.cnpj]},K.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Receita *"}),s.jsxs("select",{value:g.categoryId,onChange:K=>p(W=>({...W,categoryId:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),_.map(K=>s.jsx("option",{value:K.id,children:K.name},K.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:g.competence,onChange:K=>p(W=>({...W,competence:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:g.paymentMethodId,onChange:K=>{const W=U.find(B=>B.id===K.target.value);p(B=>({...B,bankAccountId:W.defaultBankAccountId||""})),p(B=>({...B,paymentMethodId:K.target.value}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),U.map(K=>s.jsx("option",{value:K.id,children:K.description},K.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:g.bankAccountId,onChange:K=>p(W=>({...W,bankAccountId:K.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),j.map(K=>s.jsxs("option",{value:K.id,children:[K.name," - ",K.bank," ",K.branch,"/",K.account]},K.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:()=>{e()},disabled:a,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Fechar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:x,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Rejeitar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:P,disabled:a,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})]})]})]})})}function f$({approvals:t,onView:e,loadRequests:r}){const[n,a]=D.useState(null);if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Al,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h solicitaes de aprovao que correspondam aos critrios de busca."})]});const o=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),i=d=>d?new Date(d).toISOString().split("T")[0].split("-").reverse().join("/"):"-",l=d=>d.length===11?d.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):d.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),c=d=>{switch(d){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Rejeitado"});default:return null}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Usurio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pedido"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(d=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(d.payment_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:d.created_by_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:d.order_number}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:d.customer_name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:l(d.customer_document)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:o(d.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c(d.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.status==="PENDING"&&s.jsx("button",{onClick:()=>a(d),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"APROVAR"}),d.status!=="PENDING"&&s.jsx("button",{onClick:()=>a(d),className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"VISUALIZAR"})]})]},d.id))})]})}),s.jsx(h$,{isOpen:!!n,onClose:()=>a(null),request:n,loadRequests:r})]})}function p$(){const[t,e]=D.useState(!1),[r,n]=D.useState(""),[a,o]=D.useState([]),[i,l]=D.useState([]),[c,d]=D.useState(!0),[u,h]=D.useState(null),[g,p]=D.useState({start:"",end:""}),[w,b]=D.useState(""),[_,v]=D.useState({pendingCount:0,pendingTotal:0,approvedCount:0,approvedTotal:0,rejectedCount:0,rejectedTotal:0}),j=async()=>{d(!0),h(null);const{data:U,error:M}=await Ee.from("receivable_approval_requests_with_details").select("*");if(M){h(M.message),d(!1);return}const q=U.filter(k=>k.status==="PENDING"),y=U.filter(k=>k.status==="APPROVED"),R=U.filter(k=>k.status==="REJECTED"),A=q.reduce((k,E)=>k+E.value,0),P=y.reduce((k,E)=>k+E.value,0),x=R.reduce((k,E)=>k+E.value,0);v({pendingCount:q.length,pendingTotal:A,approvedCount:y.length,approvedTotal:P,rejectedCount:R.length,rejectedTotal:x}),o(U),l(U),d(!1)};D.useEffect(()=>{j()},[]);const L=()=>{let U=[...a];if(r){const M=r.toLowerCase();U=U.filter(q=>q.customer_name.toLowerCase().includes(M)||q.customer_document.includes(M)||q.order_number.toLowerCase().includes(M))}(g.start||g.end)&&(U=U.filter(M=>{const q=new Date(M.created_at),y=g.start?new Date(g.start).setHours(0,0,0,0):null,R=g.end?new Date(g.end).setHours(23,59,59,999):null;return y&&R?q>=y&&q<=R:y?q>=y:R?q<=R:!0})),w&&(U=U.filter(M=>M.status===w)),l(U)};return D.useEffect(()=>{L()},[r,g,w]),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>h(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Aprovaes de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de aprovao de pagamento"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Solicitao"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Aprovaes Pendentes"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:["R$"," ",_.pendingTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[_.pendingCount," registros"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Aprovados no Ms"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:["R$"," ",_.approvedTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[_.approvedCount," registros"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Rejeitados no Ms"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:["R$"," ",_.rejectedTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[_.rejectedCount," registros"]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, CPF/CNPJ ou nmero do pedido...",value:r,onChange:U=>n(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:g.start,onChange:U=>p(M=>({...M,start:U.target.value})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:g.end,onChange:U=>p(M=>({...M,end:U.target.value})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("select",{value:w,onChange:U=>b(U.target.value),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos os Status"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"APPROVED",children:"Aprovados"}),s.jsx("option",{value:"REJECTED",children:"Rejeitados"})]})]})]})}),c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(f$,{approvals:i,loadRequests:j,onView:U=>{console.log("View approval:",U)}})]}),s.jsx(u$,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),j()}})]})}function m$({isOpen:t,onClose:e,config:r,onSuccess:n}){const[a,o]=D.useState({cnpjId:"",email:"",password:"",imapHost:"",imapPort:993,useSSL:!0,scanFrequency:15,active:!0}),[i,l]=D.useState([]),[c,d]=D.useState(!1),[u,h]=D.useState(null);D.useEffect(()=>{t&&(g(),r?(console.log(r),o({cnpjId:r.cnpj_id||"",email:r.email||"",password:"",imapHost:r.imap_host||"",imapPort:r.imap_port||993,useSSL:r.use_ssl??!0,scanFrequency:r.scan_frequency||15,active:r.active??!0})):o({cnpjId:"",email:"",password:"",imapHost:"",imapPort:993,useSSL:!0,scanFrequency:15,active:!0}))},[t,r]);const g=async()=>{try{const{data:w,error:b}=await Ee.from("cnpjs").select("id, name, cnpj").eq("active",!0).order("name");if(b)throw b;l(w||[])}catch(w){console.error("Error loading CNPJs:",w),h("Erro ao carregar lista de CNPJs")}},p=async w=>{w.preventDefault(),d(!0),h(null);try{if(r){const{error:b}=await Ee.from("email_configs").update({cnpj_id:a.cnpjId,email:a.email,...a.password&&{password:a.password},imap_host:a.imapHost,imap_port:a.imapPort,use_ssl:a.useSSL,scan_frequency:a.scanFrequency,active:a.active,updatedAt:new Date().toISOString()}).eq("id",r.id);if(b)throw console.log(b),b}else{const{error:b}=await Ee.from("email_configs").insert([{cnpj_id:a.cnpjId,email:a.email,password:a.password,imap_host:a.imapHost,imap_port:a.imapPort,use_ssl:a.useSSL,scan_frequency:a.scanFrequency,active:a.active,updatedAt:new Date().toISOString()}]);if(b)throw b}n(),e()}catch(b){console.error("Error saving email config:",b),h("Erro ao salvar configurao de e-mail")}finally{d(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Configurao":"Nova Configurao"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:p,className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:u})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:a.cnpjId,onChange:w=>o(b=>({...b,cnpjId:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(w=>s.jsxs("option",{value:w.id,children:[w.name," - ",w.cnpj]},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:w=>o(b=>({...b,email:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Senha"}),s.jsx("input",{type:"password",value:a.password,onChange:w=>o(b=>({...b,password:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!r})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Servidor IMAP"}),s.jsx("input",{type:"text",value:a.imapHost,onChange:w=>o(b=>({...b,imapHost:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Porta"}),s.jsx("input",{type:"number",value:a.imapPort,onChange:w=>o(b=>({...b,imapPort:parseInt(w.target.value)||993})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.useSSL,onChange:w=>o(b=>({...b,useSSL:w.target.checked})),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Usar SSL/TLS"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:w=>o(b=>({...b,active:w.target.checked})),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Ativo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia de Sincronizao (minutos)"}),s.jsx("input",{type:"number",min:"5",max:"60",value:a.scanFrequency,onChange:w=>o(b=>({...b,scanFrequency:parseInt(w.target.value)||15})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,disabled:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:c,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",children:c?"Salvando...":r?"Salvar Alteraes":"Criar Configurao"})]})]})]})}):null}function g$({logs:t}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(HD,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum e-mail processado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"Aguardando a prxima sincronizao para capturar novos e-mails."})]});const e=a=>new Date(a).toLocaleString("pt-BR"),r=a=>{if(a===0)return"0 Bytes";const o=1024,i=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(a)/Math.log(o));return parseFloat((a/Math.pow(o,l)).toFixed(2))+" "+i[l]},n=a=>{switch(a){case"PENDING":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:[s.jsx(L1,{className:"w-3 h-3 mr-1"}),"Pendente"]});case"PROCESSED":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:[s.jsx(Oh,{className:"w-3 h-3 mr-1"}),"Processado"]});case"FAILED":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:[s.jsx(rr,{className:"w-3 h-3 mr-1"}),"Falha"]});case"INVALID":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:[s.jsx(rr,{className:"w-3 h-3 mr-1"}),"Invlido"]});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Remetente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Assunto"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Recebido em"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Anexos"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:a.fromEmail}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:a.cnpjName})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:a.subject})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:e(a.receivedAt)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n(a.status),a.errorMessage&&s.jsx("div",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:a.errorMessage})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"space-y-2",children:a.attachments.map(o=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(Pl,{className:"h-4 w-4 text-secondary-400"}),s.jsx("a",{href:o.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",children:o.fileName}),s.jsxs("span",{className:"text-secondary-500 dark:text-secondary-400",children:["(",r(o.fileSize),")"]}),o.validationStatus==="VALID"&&s.jsx(Oh,{className:"h-4 w-4 text-green-500"}),o.validationStatus==="INVALID"&&s.jsx(rr,{className:"h-4 w-4 text-red-500"}),o.validationStatus==="PENDING"&&s.jsx(L1,{className:"h-4 w-4 text-yellow-500"})]},o.id))})})]},a.id))})]})})}async function y$(){try{const{data:t,error:e}=await Ee.from("email_monitoring_status").select("*").order("createdAt",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error("Error listing email configs:",t),[]}}async function x$(t){try{let e=Ee.from("email_logs").select("*").order("received_at",{ascending:!1});const{data:r,error:n}=await e;if(n)throw n;return(r||[]).map(a=>({id:a.id,fromEmail:a.from_email,subject:a.subject,receivedAt:a.received_at,processedAt:a.processed_at,status:a.status,errorMessage:a.error_message,configEmail:a.config_email,cnpjName:a.cnpj_name,cnpjNumber:a.cnpj_number,attachments:a.attachments||[],attachmentCount:a.attachment_count||0,validAttachments:a.valid_attachments||0,invalidAttachments:a.invalid_attachments||0,pendingAttachments:a.pending_attachments||0}))}catch(e){return console.error("Error listing email logs:",e),[]}}const b$="https://financeiro.tshirteria.com";function v$(){const[t,e]=D.useState([]),[r,n]=D.useState([]),[a,o]=D.useState(!0),[i,l]=D.useState(null),[c,d]=D.useState(!1),[u,h]=D.useState(null),[g,p]=D.useState(""),[w,b]=D.useState(null),[_,v]=D.useState([]);D.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const[A,P]=await Promise.all([y$(),x$()]);e(A),n(P),l(null)}catch(A){console.error("Error loading data:",A),l("Erro ao carregar dados")}finally{o(!1)}},L=()=>{h(null),d(!0)},U=A=>{h(A),d(!0)},M=async A=>{try{b(A);const P=await W3.getEmailsWithAttachments(A),x=P.emailsWithAttachments;for(const k of x)if(k.attachments&&k.attachments.length>0)for(const E of k.attachments)try{const C=new FormData,z=new Uint8Array(E.data.data),V=new Blob([z],{type:E.data.type});C.append("file",V,E.filename);const K=await fetch(`${b$}/ai/process/bill`,{method:"POST",body:C});K.ok?(console.log(`Successfully processed attachment ${E.filename}`),o(!1)):console.error(`Failed to process attachment ${E.filename}: ${K.statusText}`)}catch(C){console.error(`Error processing attachment ${E.filename}:`,C)}v(x),console.log(P)}catch(P){console.error("Error forcing scan:",P),l("Erro ao forar sincronizao")}finally{b(null)}},q=async(A,P="documento.pdf")=>{console.log("Downloading buffer, size:",A.length);try{const x=new Uint8Array(A);let k="application/octet-stream";P.toLowerCase().endsWith(".pdf")?k="application/pdf":P.toLowerCase().match(/\.(jpe?g)$/i)?k="image/jpeg":P.toLowerCase().endsWith(".png")&&(k="image/png");const E=new Blob([x],{type:k}),C=window.URL.createObjectURL(E),z=document.createElement("a");z.href=C,z.setAttribute("download",P),document.body.appendChild(z),z.click(),setTimeout(()=>{document.body.removeChild(z),window.URL.revokeObjectURL(C)},100)}catch(x){console.error("Error downloading file:",x),l("Erro ao baixar o arquivo")}},y=t.filter(A=>{var x,k,E;const P=g.toLowerCase();return((x=A.email)==null?void 0:x.toLowerCase().includes(P))||((k=A.cnpjName)==null?void 0:k.toLowerCase().includes(P))||((E=A.cnpjNumber)==null?void 0:E.includes(P))}),R=A=>A?new Date(A).toLocaleString("pt-BR"):"Nunca";return s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:i}),s.jsx("button",{onClick:()=>l(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Configurao de E-mail"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Configure as contas de e-mail para captura automtica de boletos"})]}),s.jsxs("button",{onClick:L,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Configurao"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por e-mail ou CNPJ...",value:g,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):y.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(rr,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma configurao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Nova Configurao" para comear a configurar a captura de boletos.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"E-mail"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ltima Sincronizao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:y.map(A=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:A.email}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[A.imapHost,":",A.imapPort]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:A.cnpjName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:A.cnpjNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:R(A.lastScan)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:A.active,onChange:()=>U(A)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>M(A.id),disabled:w===A.id,className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Forar Sincronizao",children:w===A.id?s.jsx(S4,{className:"h-5 w-5 animate-spin"}):s.jsx(C4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>U(A),className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",title:"Editar",children:s.jsx(YD,{className:"h-5 w-5"})})]})]},A.id))})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Lista de Emails"})}),_.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Assunto"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Remetente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Anexos"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:_&&_.map(A=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:A.subject})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:A.from})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:A.attachments.length>0?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800/30 dark:text-green-400",children:"Sim"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-800/30 dark:text-red-400",children:"No"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A.attachments&&A.attachments.length>0&&s.jsx("div",{className:"flex justify-end space-x-2",children:A.attachments.map(P=>s.jsx("button",{onClick:()=>q(P.data.data,P.filename),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:`Baixar ${P.filename}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})},P.filename))})})]},A.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(rr,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum email encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"Selecione uma configurao e clique no boto de sincronizao para buscar emails."})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Logs de Email"})}),s.jsx(g$,{logs:r})]})]}),s.jsx(yw,{children:s.jsx(m$,{isOpen:c,onClose:()=>d(!1),config:u,onSuccess:()=>{d(!1),j()}})})]})}function w$({isOpen:t,onClose:e,config:r,cnpjs:n,bankAccounts:a,onSuccess:o}){const[i,l]=D.useState({cnpj_id:"",bank_account_id:"",scan_frequency:15,active:!0}),[c,d]=D.useState(!1),[u,h]=D.useState(null);D.useEffect(()=>{l(r?{cnpj_id:r.cnpj_id,bank_account_id:r.bank_account_id,scan_frequency:r.scan_frequency,active:r.active}:{cnpj_id:"",bank_account_id:"",scan_frequency:15,active:!0})},[r]);const g=async p=>{p.preventDefault(),d(!0),h(null);try{if(r){const{error:w}=await Ee.from("dda_configs").update({cnpj_id:i.cnpj_id,bank_account_id:i.bank_account_id,scan_frequency:i.scan_frequency,active:i.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(w)throw w}else{const{error:w}=await Ee.from("dda_configs").insert([{cnpj_id:i.cnpj_id,bank_account_id:i.bank_account_id,scan_frequency:i.scan_frequency,active:i.active}]);if(w)throw w.code==="23505"?new Error("J existe uma configurao DDA para este CNPJ e conta bancria"):w}o(),e()}catch(w){console.error("Error saving DDA config:",w),h(w instanceof Error?w.message:"Erro ao salvar configurao DDA")}finally{d(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Configurao DDA":"Nova Configurao DDA"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:g,className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:u})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:i.cnpj_id,onChange:p=>l(w=>({...w,cnpj_id:p.target.value})),disabled:c,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),n.map(p=>s.jsxs("option",{value:p.id,children:[p.name," - ",p.cnpj]},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:i.bank_account_id,onChange:p=>l(w=>({...w,bank_account_id:p.target.value})),disabled:c,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),a.map(p=>s.jsxs("option",{value:p.id,children:[p.name," - ",p.bank," ",p.branch,"/",p.account]},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia de Sincronizao (minutos)"}),s.jsx("input",{type:"number",min:"5",max:"60",value:i.scan_frequency,onChange:p=>l(w=>({...w,scan_frequency:parseInt(p.target.value)||15})),disabled:c,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:i.active,onChange:p=>l(w=>({...w,active:p.target.checked})),disabled:c,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Configurao ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:c,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:c,children:c?"Salvando...":r?"Salvar Alteraes":"Criar Configurao"})]})]})]})}):null}function k$(){const[t,e]=D.useState(!1),[r,n]=D.useState(""),[a,o]=D.useState(null),[i,l]=D.useState([]),[c,d]=D.useState([]),[u,h]=D.useState([]),[g,p]=D.useState(!0),[w,b]=D.useState(null),[_,v]=D.useState(null);D.useEffect(()=>{j()},[]);const j=async()=>{try{const[A,P,x]=await Promise.all([Ee.from("dda_monitoring_status").select("*").order("cnpj_name"),Ee.from("cnpjs").select("*").eq("active",!0).order("name"),Ee.from("bank_accounts").select("*").eq("active",!0).order("name")]);if(A.error)throw A.error;if(P.error)throw P.error;if(x.error)throw x.error;l(A.data||[]),d(P.data||[]),h(x.data||[]),b(null)}catch(A){console.error("Error loading data:",A),b("Erro ao carregar dados")}finally{p(!1)}},L=()=>{o(null),e(!0)},U=A=>{o(A),e(!0)},M=async A=>{try{v(A),b(null);const{data:P,error:x}=await Ee.functions.invoke("dda-sync",{body:JSON.stringify({configId:A})});if(x)throw x;P.success?await j():b(P.message)}catch(P){console.error("Error forcing DDA sync:",P),b("Erro ao forar sincronizao DDA")}finally{v(null)}},q=i.filter(A=>{const P=r.toLowerCase();return A.cnpj_name.toLowerCase().includes(P)||A.cnpj_number.includes(P)||A.bank_account_name.toLowerCase().includes(P)}),y=A=>A?new Date(A).toLocaleString("pt-BR"):"Nunca",R=A=>{if(!A)return null;switch(A){case"RUNNING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Em Execuo"});case"SUCCESS":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Sucesso"});case"FAILED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Falha"});default:return null}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>b(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Configurao DDA"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as configuraes de DDA para captura automtica de boletos"})]}),s.jsxs("button",{onClick:L,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Configurao"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por CNPJ ou conta bancria...",value:r,onChange:A=>n(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),g?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):q.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(w0,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma configurao DDA encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Nova Configurao" para comear a configurar o DDA.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta Bancria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ltima Sincronizao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Boletos"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:q.map(A=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:A.cnpj_name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:A.cnpj_number})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:A.bank_account_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:y(A.last_scan)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[R(A.last_sync_status),A.last_sync_error&&s.jsx("div",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:A.last_sync_error})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:A.pending_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"pendentes"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:A.processed_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"processados"})]}),(A.failed_boletos>0||A.invalid_boletos>0)&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:A.failed_boletos+A.invalid_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"falhas"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>M(A.id),disabled:_===A.id||!A.active,className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3 disabled:opacity-50",title:A.active?"Forar Sincronizao":"Configurao Inativa",children:_===A.id?s.jsx(w0,{className:"h-5 w-5 animate-spin"}):s.jsx(C4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>U(A),className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",title:"Editar",children:s.jsx(rr,{className:"h-5 w-5"})})]})]},A.id))})]})})]}),s.jsx(w$,{isOpen:t,onClose:()=>e(!1),config:a,cnpjs:c,bankAccounts:u,onSuccess:()=>{e(!1),j()}})]})}function j$({reasons:t,onEdit:e,onDelete:r,onToggleStatus:n}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(ym,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum motivo de estorno cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Novo Motivo" para comear a cadastrar motivos de estorno.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:a.description||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},a.id))})]})})}function N$({isOpen:t,onClose:e,reason:r,onSuccess:n}){const[a,o]=D.useState({name:"",description:"",active:!0}),[i,l]=D.useState(!1),[c,d]=D.useState(null);D.useEffect(()=>{o(r?{name:r.name,description:r.description||"",active:r.active}:{name:"",description:"",active:!0})},[r]);const u=async h=>{h.preventDefault(),l(!0),d(null);try{if(r){const{error:g}=await Ee.from("refund_reasons").update({name:a.name,description:a.description||null,active:a.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(g)throw g}else{const{error:g}=await Ee.from("refund_reasons").insert([{name:a.name,description:a.description||null,active:a.active}]);if(g)throw g}n(),e()}catch(g){console.error("Error saving refund reason:",g),d("Erro ao salvar motivo de estorno")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Motivo de Estorno":"Novo Motivo de Estorno"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Motivo"}),s.jsx("input",{type:"text",value:a.name,onChange:h=>o(g=>({...g,name:h.target.value})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:a.description,onChange:h=>o(g=>({...g,description:h.target.value})),disabled:i,rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:h=>o(g=>({...g,active:h.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Motivo ativo"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Motivo"})]})]})]})}):null}function S$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState(null),[c,d]=D.useState([]),[u,h]=D.useState(!0),[g,p]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:M,error:q}=await Ee.from("refund_reasons").select("*").order("name");if(q)throw q;d(M||[]),p(null)}catch(M){console.error("Error loading refund reasons:",M),p("Erro ao carregar motivos de estorno")}finally{h(!1)}},b=()=>{l(null),e(!0)},_=M=>{l(M),e(!0)},v=M=>{l(M),n(!0)},j=async()=>{if(i)try{const{error:M}=await Ee.from("refund_reasons").delete().eq("id",i.id);if(M)throw M;d(c.filter(q=>q.id!==i.id)),n(!1),p(null)}catch(M){console.error("Error deleting refund reason:",M),p("Erro ao excluir motivo de estorno")}},L=async M=>{try{const{error:q}=await Ee.from("refund_reasons").update({active:!M.active,updated_at:new Date().toISOString()}).eq("id",M.id);if(q)throw q;d(c.map(y=>y.id===M.id?{...y,active:!y.active}:y)),p(null)}catch(q){console.error("Error toggling refund reason status:",q),p("Erro ao alterar status do motivo de estorno")}},U=c.filter(M=>{var q;return M.name.toLowerCase().includes(a.toLowerCase())||((q=M.description)==null?void 0:q.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[g&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:g}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Motivos de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os motivos de estorno disponveis no sistema"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Motivo"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:a,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(j$,{reasons:U,onEdit:_,onDelete:v,onToggleStatus:L})]}),s.jsx(N$,{isOpen:t,onClose:()=>e(!1),reason:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Pi,{isOpen:r,onClose:()=>n(!1),title:"Excluir Motivo de Estorno",description:`Tem certeza que deseja excluir o motivo "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:j})]})}function C$({responsibles:t,onEdit:e,onDelete:r,onToggleStatus:n}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(QD,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum responsvel cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Novo Responsvel" para comear a cadastrar responsveis pelos estornos.'})]});const a=o=>o.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4");return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CPF"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(o.cpf)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.active,onChange:()=>n(o)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(o),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},o.id))})]})})}function _$({isOpen:t,onClose:e,responsible:r,onSuccess:n}){const[a,o]=D.useState({id:"",name:"",cpf:"",active:!0}),[i,l]=D.useState(!1),[c,d]=D.useState(null);D.useEffect(()=>{o(r?{id:r.id,name:r.name,cpf:r.cpf,active:r.active}:{id:"",name:"",cpf:"",active:!0})},[r]);const u=p=>p.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2").slice(0,14),h=p=>{const w=p.replace(/\D/g,"");if(w.length!==11||/^(\d)\1+$/.test(w))return!1;let b=0;for(let j=0;j<9;j++)b+=parseInt(w.charAt(j))*(10-j);let _=11-b%11;_>9&&(_=0),b=0;for(let j=0;j<10;j++)b+=parseInt(w.charAt(j))*(11-j);let v=11-b%11;return v>9&&(v=0),parseInt(w.charAt(9))===_&&parseInt(w.charAt(10))===v},g=async p=>{p.preventDefault(),l(!0),d(null);try{if(!/^\d{2}$/.test(a.id))throw new Error("O ID deve conter exatamente 2 nmeros");const w=a.cpf.replace(/\D/g,"");if(!h(w))throw new Error("CPF invlido");if(r){const{error:b}=await Ee.from("refund_responsibles").update({id:a.id,name:a.name,cpf:w,active:a.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(b)throw b}else{const{error:b}=await Ee.from("refund_responsibles").insert([{id:a.id,name:a.name,cpf:w,active:a.active}]);if(b)throw b.code==="23505"?b.message.includes("cpf")?new Error("CPF j cadastrado"):new Error("ID j cadastrado"):b}n(),e()}catch(w){console.error("Error saving refund responsible:",w),d(w instanceof Error?w.message:"Erro ao salvar responsvel")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Responsvel":"Novo Responsvel"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:g,className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"ID do Responsvel"}),s.jsx("input",{type:"text",value:a.id,onChange:p=>{const w=p.target.value.replace(/\D/g,"").slice(0,2);o(b=>({...b,id:w}))},disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: 01",required:!0}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:"Digite um nmero de dois dgitos (ex: 01, 15, 99)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Responsvel"}),s.jsx("input",{type:"text",value:a.name,onChange:p=>o(w=>({...w,name:p.target.value})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF"}),s.jsx("input",{type:"text",value:a.cpf,onChange:p=>o(w=>({...w,cpf:u(p.target.value)})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"000.000.000-00",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:p=>o(w=>({...w,active:p.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Responsvel ativo"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Responsvel"})]})]})]})}):null}function E$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState(null),[c,d]=D.useState([]),[u,h]=D.useState(!0),[g,p]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:M,error:q}=await Ee.from("refund_responsibles").select("*").order("id");if(q)throw q;d(M||[]),p(null)}catch(M){console.error("Error loading refund responsibles:",M),p("Erro ao carregar responsveis")}finally{h(!1)}},b=()=>{l(null),e(!0)},_=M=>{l(M),e(!0)},v=M=>{l(M),n(!0)},j=async()=>{if(i)try{const{error:M}=await Ee.from("refund_responsibles").delete().eq("id",i.id);if(M)throw M;d(c.filter(q=>q.id!==i.id)),n(!1),p(null)}catch(M){console.error("Error deleting refund responsible:",M),p("Erro ao excluir responsvel")}},L=async M=>{try{const{error:q}=await Ee.from("refund_responsibles").update({active:!M.active,updated_at:new Date().toISOString()}).eq("id",M.id);if(q)throw q;d(c.map(y=>y.id===M.id?{...y,active:!y.active}:y)),p(null)}catch(q){console.error("Error toggling refund responsible status:",q),p("Erro ao alterar status do responsvel")}},U=c.filter(M=>M.name.toLowerCase().includes(a.toLowerCase())||M.cpf.includes(a)||M.id.includes(a));return s.jsxs("div",{className:"p-4 sm:p-6",children:[g&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:g}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Responsveis pelos Estornos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os responsveis pelos estornos no sistema"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Responsvel"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por ID, nome ou CPF...",value:a,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(C$,{responsibles:U,onEdit:_,onDelete:v,onToggleStatus:L})]}),s.jsx(_$,{isOpen:t,onClose:()=>e(!1),responsible:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Pi,{isOpen:r,onClose:()=>n(!1),title:"Excluir Responsvel",description:`Tem certeza que deseja excluir o responsvel "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:j})]})}function A$({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState({orderNumber:"",customerName:"",customerCpf:"",refundReasonId:"",refundValue:"",paymentType:"PIX",pixKey:"",responsible1Id:"",responsible2Id:"",notes:""}),[o,i]=D.useState([]),[l,c]=D.useState([]),[d,u]=D.useState(!1),[h,g]=D.useState(null);D.useEffect(()=>{t&&p()},[t]);const p=async()=>{try{const[q,y]=await Promise.all([Ee.from("refund_reasons").select("*").eq("active",!0).order("name"),Ee.from("refund_responsibles").select("*").eq("active",!0).order("name")]);if(q.error)throw q.error;if(y.error)throw y.error;i(q.data||[]),c(y.data||[])}catch(q){console.error("Error loading data:",q),g("Erro ao carregar dados")}},w=q=>q.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2").slice(0,14),b=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),_=q=>{let y=q.target.value.replace(/\D/g,"");y===""&&(y="0");const R=parseInt(y)/100;a(A=>({...A,refundValue:R.toString()}))},v=q=>{const y=q.replace(/\D/g,"");if(y.length!==11||/^(\d)\1+$/.test(y))return!1;let R=0;for(let x=0;x<9;x++)R+=parseInt(y.charAt(x))*(10-x);let A=11-R%11;A>9&&(A=0),R=0;for(let x=0;x<10;x++)R+=parseInt(y.charAt(x))*(11-x);let P=11-R%11;return P>9&&(P=0),parseInt(y.charAt(9))===A&&parseInt(y.charAt(10))===P};function j(q){if(typeof q!="string"||(q=q.replace(/[\s.-]*/gim,""),!q||q.length!==11||q==="00000000000"||q==="11111111111"||q==="22222222222"||q==="33333333333"||q==="44444444444"||q==="55555555555"||q==="66666666666"||q==="77777777777"||q==="88888888888"||q==="99999999999"))return!1;let y=0,R;for(let A=1;A<=9;A++)y+=parseInt(q.substring(A-1,A))*(11-A);if(R=y*10%11,(R===10||R===11)&&(R=0),R!==parseInt(q.substring(9,10)))return!1;y=0;for(let A=1;A<=10;A++)y+=parseInt(q.substring(A-1,A))*(12-A);return R=y*10%11,(R===10||R===11)&&(R=0),R===parseInt(q.substring(10,11))}function L(q){if(typeof q!="string"||(q=q.replace(/[\s.-]*/gim,""),!q||q.length!==14||q==="00000000000000"||q==="11111111111111"||q==="22222222222222"||q==="33333333333333"||q==="44444444444444"||q==="55555555555555"||q==="66666666666666"||q==="77777777777777"||q==="88888888888888"||q==="99999999999999"))return!1;let y=q.length-2,R=q.substring(0,y),A=q.substring(y),P=0,x=y-7;for(let E=y;E>=1;E--)P+=parseInt(R.charAt(y-E))*x--,x<2&&(x=9);let k=P%11<2?0:11-P%11;if(k!==parseInt(A.charAt(0)))return!1;y=y+1,R=q.substring(0,y),P=0,x=y-7;for(let E=y;E>=1;E--)P+=parseInt(R.charAt(y-E))*x--,x<2&&(x=9);return k=P%11<2?0:11-P%11,k===parseInt(A.charAt(1))}function U(q){const y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,R=q.replace(/[^0-9]/g,"");return j(R)?"CPF":L(R)?"CNPJ":y.test(q)?"Email":R.length===10||R.length===11?"Telefone":"Chave Aleatria"}const M=async q=>{q.preventDefault(),u(!0),g(null);try{const y=n.customerCpf.replace(/\D/g,"");if(!v(y))throw new Error("CPF invlido");const R=parseFloat(n.refundValue);if(isNaN(R)||R<=0)throw new Error("Valor de estorno invlido");const A=localStorage.getItem("userId"),{error:P}=await Ee.from("refund_requests").insert([{order_number:n.orderNumber,customer_name:n.customerName,customer_cpf:y,refund_reason_id:n.refundReasonId,refund_value:R,payment_type:n.paymentType,pix_key:n.pixKey,responsible_1_id:n.responsible1Id,responsible_2_id:n.responsible2Id||null,notes:n.notes||null,status:"PENDING",created_by_id:A}]);if(P)throw P;r(),e()}catch(y){console.error("Error creating refund request:",y),g(y instanceof Error?y.message:"Erro ao criar solicitao de estorno")}finally{u(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Estorno"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:M,className:"p-4 sm:p-6",children:[h&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:h})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:n.orderNumber,onChange:q=>a(y=>({...y,orderNumber:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:n.customerName,onChange:q=>a(y=>({...y,customerName:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF do Cliente"}),s.jsx("input",{type:"text",value:n.customerCpf,onChange:q=>a(y=>({...y,customerCpf:w(q.target.value)})),placeholder:"000.000.000-00",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Motivo do Estorno"}),s.jsxs("select",{value:n.refundReasonId,onChange:q=>a(y=>({...y,refundReasonId:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um motivo"}),o.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Estorno"}),s.jsx("input",{type:"text",value:b(n.refundValue),onChange:_,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Estorno"}),s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"PIX",checked:n.paymentType==="PIX",onChange:q=>a(y=>({...y,paymentType:q.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"PIX"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CUPOM",checked:n.paymentType==="CUPOM",onChange:q=>a(y=>({...y,paymentType:q.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Cupom de Desconto"})]})]})]}),n.paymentType==="PIX"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",U(n.pixKey),")"]}),s.jsx("input",{type:"text",value:n.pixKey,onChange:q=>a(y=>({...y,pixKey:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Responsvel 1"}),s.jsxs("select",{value:n.responsible1Id,onChange:q=>a(y=>({...y,responsible1Id:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione o primeiro responsvel"}),l.map(q=>s.jsxs("option",{value:q.id,children:[q.id," - ",q.name]},q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Responsvel 2 (Opcional)"}),s.jsxs("select",{value:n.responsible2Id,onChange:q=>a(y=>({...y,responsible2Id:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione o segundo responsvel"}),l.filter(q=>q.id!==n.responsible1Id).map(q=>s.jsxs("option",{value:q.id,children:[q.id," - ",q.name]},q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:n.notes,onChange:q=>a(y=>({...y,notes:q.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre o estorno..."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:d,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:d,children:d?"Salvando...":"Criar Solicitao"})]})]})]})}):null}function P$({isOpen:t,onClose:e,request:r,onSuccess:n}){const[a,o]=D.useState({bankAccountId:"",cnpjId:"",categoryId:"",rejectionReason:""}),[i,l]=D.useState([]),[c,d]=D.useState([]),[u,h]=D.useState([]),[g,p]=D.useState(!1),[w,b]=D.useState(null);D.useEffect(()=>{t&&_()},[t]);const _=async()=>{try{const[q,y,R]=await Promise.all([Ee.from("cnpjs").select("*").eq("active",!0).order("name"),Ee.from("bank_accounts").select("*").eq("active",!0).order("name"),Ee.from("financial_categories").select("*").in("type",["EXPENSE","BOTH"]).eq("active",!0).order("name")]);if(q.error)throw q.error;if(y.error)throw y.error;if(R.error)throw R.error;l(q.data||[]),d(y.data||[]),h(R.data||[])}catch(q){console.error("Error loading data:",q),b("Erro ao carregar dados")}},v=async()=>{if(r)try{if(p(!0),b(null),!a.bankAccountId)throw new Error("Selecione a conta bancria");if(!a.cnpjId)throw new Error("Selecione o CNPJ");if(!a.categoryId)throw new Error("Selecione a categoria");const q=new Date().toISOString().split("T")[0],{error:y}=await Ee.from("refund_requests").update({status:"APPROVED",updated_at:new Date().toISOString()}).eq("id",r.id);if(y)throw y;const R=localStorage.getItem("userId"),{error:A}=await Ee.from("payments").insert([{supplier_name:r.customerName,description:`Estorno do pedido ${r.orderNumber}`,value:r.refundValue,due_date:q,status:"PENDING",cnpj_id:a.cnpjId,category_id:a.categoryId,bank_account_id:a.bankAccountId,payment_method:r.paymentType==="PIX"?"pix":null,pix_key:r.pixKey,payment_method_id:null,created_by_id:R}]);if(A)throw A;n(),e()}catch(q){console.error("Error approving refund request:",q),b(q instanceof Error?q.message:"Erro ao aprovar estorno")}finally{p(!1)}},j=async()=>{if(r)try{if(p(!0),b(null),!a.rejectionReason.trim())throw new Error("Informe o motivo da rejeio");const{error:q}=await Ee.from("refund_requests").update({status:"REJECTED",notes:a.rejectionReason,updated_at:new Date().toISOString()}).eq("id",r.id);if(q)throw q;n(),e()}catch(q){console.error("Error rejecting refund request:",q),b(q instanceof Error?q.message:"Erro ao rejeitar estorno")}finally{p(!1)}},L=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),U=q=>q.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),M=q=>new Date(q).toLocaleDateString("pt-BR");return!t||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao de Estorno #",r.requestNumber]}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:w})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes da Solicitao"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nmero do Pedido"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.orderNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data da Solicitao"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:M(r.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Cliente"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.customerName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"CPF"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:U(r.customerCpf)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor do Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:L(r.refundValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Forma de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.paymentType==="PIX"?"PIX":"Cupom de Desconto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Chave PIX"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.pixKey})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Motivo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.reasonName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Responsveis"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.responsible1Name,r.responsible2Name&&` e ${r.responsible2Name}`]})]}),r.notes&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Observaes"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.notes})]})]})]}),r.status==="PENDING"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Informaes para Aprovao"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:a.cnpjId,onChange:q=>o(y=>({...y,cnpjId:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(q=>s.jsxs("option",{value:q.id,children:[q.name," - ",q.cnpj]},q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria da Despesa"}),s.jsxs("select",{value:a.categoryId,onChange:q=>o(y=>({...y,categoryId:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),u.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:a.bankAccountId,onChange:q=>o(y=>({...y,bankAccountId:q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),c.map(q=>s.jsxs("option",{value:q.id,children:[q.name," - ",q.bank," ",q.branch,"/",q.account]},q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Motivo da Rejeio"}),s.jsx("textarea",{value:a.rejectionReason,onChange:q=>o(y=>({...y,rejectionReason:q.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Informe o motivo da rejeio..."})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:g,children:"Fechar"}),r.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:g,children:"Rejeitar"}),s.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:g||!a.bankAccountId||!a.cnpjId||!a.categoryId,children:"Aprovar"})]})]})]})]})})}function D$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,l]=D.useState({start:"",end:""}),[c,d]=D.useState(null),[u,h]=D.useState([]),[g,p]=D.useState(!0),[w,b]=D.useState(null);D.useEffect(()=>{_()},[]);const _=async()=>{try{p(!0);const{data:y,error:R}=await Ee.from("refund_requests_with_details").select("*").order("created_at",{ascending:!1});if(R)throw R;const A=(y||[]).map(P=>({id:P.id,requestNumber:P.request_number,orderNumber:P.order_number,customerName:P.customer_name,customerCpf:P.customer_cpf,refundReasonId:P.refund_reason_id,refundValue:P.refund_value,paymentType:P.payment_type,pixKey:P.pix_key,responsible1Id:P.responsible_1_id,responsible2Id:P.responsible_2_id,status:P.status,notes:P.notes,createdById:P.created_by_id,createdAt:P.created_at,updatedAt:P.updated_at,createdByName:P.created_by_name,createdByEmail:P.created_by_email,reasonName:P.reason_name,responsible1Name:P.responsible_1_name,responsible2Name:P.responsible_2_name}));h(A),b(null)}catch(y){console.error("Error loading refund requests:",y),b("Erro ao carregar solicitaes de estorno")}finally{p(!1)}},v=y=>{d(y),n(!0)},j=u.filter(y=>{var k;const R=a.toLowerCase(),A=y.orderNumber.toLowerCase().includes(R)||y.customerName.toLowerCase().includes(R)||y.customerCpf.includes(a)||((k=y.reasonName)==null?void 0:k.toLowerCase().includes(R)),P=new Date(y.createdAt),x=(!i.start||P>=new Date(i.start))&&(!i.end||P<=new Date(i.end));return A&&x}),L=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),U=y=>y.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),M=y=>new Date(y).toLocaleDateString("pt-BR"),q=y=>{switch(y){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Rejeitado"});default:return null}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>b(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Solicitaes de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de estorno do sistema"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Solicitao"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente, CPF, nmero do pedido ou motivo...",value:a,onChange:y=>o(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"sm:w-auto flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(El,{className:"h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"date",value:i.start,onChange:y=>l(R=>({...R,start:y.target.value})),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:i.end,onChange:y=>l(R=>({...R,end:y.target.value})),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]})}),g?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):j.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(ym,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h solicitaes de estorno que correspondam aos critrios de busca."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pedido"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Motivo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:j.map(y=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:M(y.createdAt)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[y.orderNumber," ```"]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:y.customerName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:U(y.customerCpf)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:y.reasonName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:L(y.refundValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q(y.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>v(y),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:"Visualizar Detalhes",children:s.jsx(Al,{className:"h-5 w-5"})})})]},y.id))})]})})]}),s.jsx(A$,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),_()}}),s.jsx(P$,{isOpen:r,onClose:()=>{n(!1),d(null)},request:c,onSuccess:()=>{n(!1),d(null),_()}})]})}function I$({assets:t,onView:e,onEdit:r,onDelete:n}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(kc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum ativo cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Ativo" para comear a cadastrar ativos no sistema.'})]});const a=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),o=l=>new Date(l).toLocaleDateString("pt-BR"),i=l=>{switch(l){case"ACTIVE":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Ativo"});case"FULLY_DEPRECIATED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Depreciado"});case"DISPOSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Baixado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Atual"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(l=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:l.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:l.category}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(l.acquisitionValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(l.currentValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o(l.acquisitionDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i(l.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(l),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Visualizar",children:s.jsx(Al,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(l),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Editar",children:s.jsx(mo,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(l),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},l.id))})]})})}function L$({isOpen:t,onClose:e,asset:r,onSuccess:n}){const[a,o]=D.useState({name:"",category:"",acquisitionValue:"0",acquisitionDate:new Date().toISOString().split("T")[0],usefulLifeYears:"5",annualDepreciationRate:"20",accountingAccount:"",notes:""}),[i,l]=D.useState(!1),[c,d]=D.useState(null);D.useEffect(()=>{o(r?{name:r.name||"",category:r.category||"",acquisitionValue:r.acquisitionValue?(r.acquisitionValue*100).toString():"0",acquisitionDate:r.acquisitionDate||new Date().toISOString().split("T")[0],usefulLifeYears:(r.usefulLifeYears||5).toString(),annualDepreciationRate:(r.annualDepreciationRate||20).toString(),accountingAccount:r.accountingAccount||"",notes:r.notes||""}:{name:"",category:"",acquisitionValue:"0",acquisitionDate:new Date().toISOString().split("T")[0],usefulLifeYears:"5",annualDepreciationRate:"20",accountingAccount:"",notes:""})},[r]);const u=async p=>{var w;p.preventDefault(),l(!0),d(null);try{const b=parseInt(a.acquisitionValue.replace(/\D/g,""))/100,_=parseInt(a.usefulLifeYears)||5,v=parseFloat(a.annualDepreciationRate)||20;if(b<=0)throw new Error("Valor de aquisio deve ser maior que zero");if(_<=0)throw new Error("Vida til deve ser maior que zero");if(v<=0||v>100)throw new Error("Taxa de depreciao deve estar entre 0 e 100");if(r){const{error:j}=await Ee.from("assets").update({name:a.name,category:a.category,acquisition_value:b,acquisition_date:a.acquisitionDate,useful_life_years:_,annual_depreciation_rate:v,accounting_account:a.accountingAccount||null,notes:a.notes||null,updated_at:new Date().toISOString()}).eq("id",r.id);if(j)throw j}else{const{error:j}=await Ee.from("assets").insert([{name:a.name,category:a.category,acquisition_value:b,acquisition_date:a.acquisitionDate,useful_life_years:_,annual_depreciation_rate:v,current_value:b,status:"ACTIVE",accounting_account:a.accountingAccount||null,notes:a.notes||null,created_by_id:(w=(await Ee.auth.getUser()).data.user)==null?void 0:w.id}]);if(j)throw j}n(),e()}catch(b){console.error("Error saving asset:",b),d(b instanceof Error?b.message:"Erro ao salvar ativo")}finally{l(!1)}},h=p=>{const w=p.replace(/\D/g,""),b=parseInt(w||"0")/100;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b)},g=p=>{const w=p.target.value.replace(/\D/g,"");o(b=>({...b,acquisitionValue:w}))};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Ativo":"Novo Ativo"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Ativo"}),s.jsx("input",{type:"text",value:a.name,onChange:p=>o(w=>({...w,name:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:a.category,onChange:p=>o(w=>({...w,category:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),s.jsx("option",{value:"Equipamento",children:"Equipamento"}),s.jsx("option",{value:"Imvel",children:"Imvel"}),s.jsx("option",{value:"Veculo",children:"Veculo"}),s.jsx("option",{value:"Mveis",children:"Mveis"}),s.jsx("option",{value:"Software",children:"Software"}),s.jsx("option",{value:"Outros",children:"Outros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor de Aquisio"}),s.jsx("input",{type:"text",value:h(a.acquisitionValue),onChange:g,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Aquisio"}),s.jsx("input",{type:"date",value:a.acquisitionDate,onChange:p=>o(w=>({...w,acquisitionDate:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Vida til (anos)"}),s.jsx("input",{type:"number",min:"1",value:a.usefulLifeYears,onChange:p=>o(w=>({...w,usefulLifeYears:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Taxa de Depreciao Anual (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:a.annualDepreciationRate,onChange:p=>o(w=>({...w,annualDepreciationRate:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Contbil"}),s.jsx("input",{type:"text",value:a.accountingAccount,onChange:p=>o(w=>({...w,accountingAccount:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: 1.2.3.01.001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:a.notes,onChange:p=>o(w=>({...w,notes:p.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre o ativo..."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Ativo"})]})]})]})}):null}function R$({isOpen:t,onClose:e,asset:r,onEdit:n,onSuccess:a}){const[o,i]=D.useState([]),[l,c]=D.useState(!1),[d,u]=D.useState(null);D.useEffect(()=>{t&&r&&h()},[t,r]);const h=async()=>{if(r)try{const{data:b,error:_}=await Ee.from("asset_depreciation_history").select("*").eq("asset_id",r.id).order("year");if(_)throw _;i(b||[])}catch(b){console.error("Error loading depreciation history:",b),u("Erro ao carregar histrico de depreciao")}},g=async()=>{if(r)try{c(!0),u(null);const{error:b}=await Ee.from("assets").update({status:"DISPOSED",updated_at:new Date().toISOString()}).eq("id",r.id);if(b)throw b;a(),e()}catch(b){console.error("Error disposing asset:",b),u("Erro ao baixar ativo")}finally{c(!1)}},p=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),w=b=>new Date(b).toLocaleDateString("pt-BR");return!t||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Ativo"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[d&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:d})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes Gerais"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nome"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Categoria"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:p(r.acquisitionValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Atual"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:p(r.currentValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:w(r.acquisitionDate)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Vida til"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.usefulLifeYears," anos"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Taxa de Depreciao Anual"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.annualDepreciationRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Conta Contbil"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.accountingAccount||"-"})]}),r.notes&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Observaes"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.notes})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Histrico de Depreciao"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Ano"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Anterior"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Depreciao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Final"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:o.map(b=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:b.year}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:p(b.previous_value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 dark:text-red-400",children:p(b.depreciated_amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:p(b.current_value)})]},b.id))})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:l,children:"Fechar"}),r.status==="ACTIVE"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>n(r),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:l,children:"Editar"}),s.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:l,children:"Baixar Ativo"})]})]})]})]})})}function T$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(!1),[i,l]=D.useState(""),[c,d]=D.useState(null),[u,h]=D.useState([]),[g,p]=D.useState(!0),[w,b]=D.useState(null),[_,v]=D.useState({category:"",status:"",minValue:"",maxValue:"",dateRange:{start:"",end:""}});D.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:x,error:k}=await Ee.from("assets_with_details").select("*").order("name");if(k)throw k;h(x||[]),b(null)}catch(x){console.error("Error loading assets:",x),b("Erro ao carregar ativos")}finally{p(!1)}},L=()=>{d(null),e(!0)},U=x=>{d(x),n(!0)},M=x=>{d(x),e(!0)},q=x=>{d(x),o(!0)},y=async()=>{if(c)try{const{error:x}=await Ee.from("assets").delete().eq("id",c.id);if(x)throw x;h(u.filter(k=>k.id!==c.id)),o(!1),b(null)}catch(x){console.error("Error deleting asset:",x),b("Erro ao excluir ativo")}},R=u.filter(x=>{var B;const k=i.toLowerCase(),E=x.name.toLowerCase().includes(k)||x.category.toLowerCase().includes(k)||((B=x.accountingAccount)==null?void 0:B.toLowerCase().includes(k)),C=!_.category||x.category===_.category,z=!_.status||x.status===_.status,V=(!_.minValue||x.currentValue>=parseFloat(_.minValue))&&(!_.maxValue||x.currentValue<=parseFloat(_.maxValue)),K=new Date(x.acquisitionDate),W=(!_.dateRange.start||K>=new Date(_.dateRange.start))&&(!_.dateRange.end||K<=new Date(_.dateRange.end));return E&&C&&z&&V&&W}),A=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),P={acquisitionValue:R.reduce((x,k)=>x+k.acquisitionValue,0),currentValue:R.reduce((x,k)=>x+k.currentValue,0),totalDepreciation:R.reduce((x,k)=>x+(k.acquisitionValue-k.currentValue),0),activeCount:R.filter(x=>x.status==="ACTIVE").length,fullyDepreciatedCount:R.filter(x=>x.status==="FULLY_DEPRECIATED").length,disposedCount:R.filter(x=>x.status==="DISPOSED").length};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>b(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Gesto de Ativos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os ativos e suas depreciaes"})]}),s.jsxs("button",{onClick:L,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Ativo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total de Aquisio"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:A(P.acquisitionValue)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Atual (Depreciado)"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:A(P.currentValue)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total Depreciado"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-600 dark:text-red-400",children:A(P.totalDepreciation)})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, categoria ou conta contbil...",value:i,onChange:x=>l(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>{},className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),g?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(I$,{assets:R,onView:U,onEdit:M,onDelete:q})]}),s.jsx(L$,{isOpen:t,onClose:()=>e(!1),asset:c,onSuccess:()=>{e(!1),j()}}),s.jsx(R$,{isOpen:r,onClose:()=>n(!1),asset:c,onEdit:M,onSuccess:j}),s.jsx(Pi,{isOpen:a,onClose:()=>o(!1),title:"Excluir Ativo",description:`Tem certeza que deseja excluir o ativo "${c==null?void 0:c.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:rr,onConfirm:y})]})}function O$({isOpen:t,onClose:e,passive:r,onSuccess:n}){const[a,o]=D.useState("general"),[i,l]=D.useState(!1),[c,d]=D.useState(null),[u,h]=D.useState([]),[g,p]=D.useState([]),[w,b]=D.useState([]),[_,v]=D.useState([]),[j,L]=D.useState({general:{name:"",description:"",acquisitionDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}});D.useEffect(()=>{t&&(U(),r&&L({general:{name:r.name,description:r.description,acquisitionDate:r.acquisition_date,competenceDate:r.competence_date},financial:{value:r.value.toString(),paymentMethodId:r.payment_method_id,installments:r.total_installments.toString(),bankAccountId:r.bank_account_id,cnpjId:r.cnpj_id,categoryId:r.category_id}}))},[t,r]);const U=async()=>{try{const[R,A,P,x]=await Promise.all([Ee.from("cnpjs").select("*").eq("active",!0),Ee.from("financial_categories").select("*").eq("active",!0),Ee.from("bank_accounts").select("*").eq("active",!0),Ee.from("payment_methods").select("*").eq("active",!0)]);if(R.error)throw R.error;if(A.error)throw A.error;if(P.error)throw P.error;if(x.error)throw x.error;h(R.data||[]),p(A.data||[]),b(P.data||[]),v(x.data||[])}catch(R){console.error("Error loading data:",R),d("Erro ao carregar dados")}},M=R=>{const A=R.replace(/\D/g,"");return(parseInt(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},q=R=>{let A=R.target.value.replace(/\D/g,"");A===""&&(A="0");const P=parseInt(A)/100;L(x=>({...x,financial:{...x.financial,value:P.toString()}}))},y=async R=>{var A;R.preventDefault(),l(!0),d(null);try{const P={name:j.general.name,description:j.general.description,acquisition_date:j.general.acquisitionDate,competence_date:j.general.competenceDate,value:parseFloat(j.financial.value),payment_method_id:j.financial.paymentMethodId,bank_account_id:j.financial.bankAccountId,cnpj_id:j.financial.cnpjId,category_id:j.financial.categoryId,total_installments:parseInt(j.financial.installments),status:"PENDING",created_by_id:(A=(await Ee.auth.getUser()).data.user)==null?void 0:A.id};if(r){const{error:x}=await Ee.from("passives").update(P).eq("id",r.id);if(x)throw x}else{const{error:x}=await Ee.from("passives").insert([P]);if(x)throw x}n(),e()}catch(P){console.error("Error saving passive:",P),d("Erro ao salvar passivo")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Passivo":"Novo Passivo"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>o("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>o("financial"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="financial"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Detalhes Financeiros"})]})}),s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),a==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Passivo"}),s.jsx("input",{type:"text",value:j.general.name,onChange:R=>L(A=>({...A,general:{...A.general,name:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:j.general.description,onChange:R=>L(A=>({...A,general:{...A.general,description:R.target.value}})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Aquisio"}),s.jsx("input",{type:"date",value:j.general.acquisitionDate,onChange:R=>L(A=>({...A,general:{...A.general,acquisitionDate:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Competncia"}),s.jsx("input",{type:"date",value:j.general.competenceDate,onChange:R=>L(A=>({...A,general:{...A.general,competenceDate:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),a==="financial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Passivo"}),s.jsx("input",{type:"text",value:M(j.financial.value),onChange:q,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:j.financial.paymentMethodId,onChange:R=>L(A=>({...A,financial:{...A.financial,paymentMethodId:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),_.map(R=>s.jsx("option",{value:R.id,children:R.description},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"1",value:j.financial.installments,onChange:R=>L(A=>({...A,financial:{...A.financial,installments:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:j.financial.bankAccountId,onChange:R=>L(A=>({...A,financial:{...A.financial,bankAccountId:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),w.map(R=>s.jsxs("option",{value:R.id,children:[R.name," - ",R.bank," ",R.branch,"/",R.account]},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:j.financial.cnpjId,onChange:R=>L(A=>({...A,financial:{...A.financial,cnpjId:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),u.map(R=>s.jsxs("option",{value:R.id,children:[R.name," - ",R.cnpj]},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:j.financial.categoryId,onChange:R=>L(A=>({...A,financial:{...A.financial,categoryId:R.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),g.filter(R=>R.type==="EXPENSE"||R.type==="BOTH").map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Passivo"})]})]})]})}):null}function M$({isOpen:t,onClose:e,passive:r,onEdit:n,onSuccess:a}){if(!t||!r)return null;const o=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),i=l=>new Date(l).toLocaleDateString("pt-BR");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Passivo"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes Gerais"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nome"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:o(r.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:i(r.acquisition_date)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Competncia"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:i(r.competence_date)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Forma de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.payment_method_description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Conta Bancria"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.bank_account_name})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Descrio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.description})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Parcelas"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Parcela"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:(r.installment_details||[]).map(l=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[l.installment_number,"/",r.total_installments]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o(l.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(l.due_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.status==="PAID"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":l.status==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:l.status==="PAID"?"Pago":l.status==="PENDING"?"Pendente":"Cancelado"})})]},l.installment_number))})]})})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{type:"button",onClick:()=>n(r),className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Editar"})]})]})})}function F$({passives:t,onView:e}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(kc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum passivo encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h passivos que correspondam aos filtros selecionados."})]});const r=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),n=o=>new Date(o).toLocaleDateString("pt-BR"),a=o=>{switch(o){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"IN_PROGRESS":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Em Andamento"});case"PAID":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Quitado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Pago"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:o.name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:o.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:r(o.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:r(o.total_paid||0)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:n(o.acquisition_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.payment_method_description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a(o.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>e(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:"Visualizar",children:s.jsx(Al,{className:"h-5 w-5"})})})]},o.id))})]})})}function B$({isOpen:t,onClose:e,filters:r,onApplyFilters:n}){const[a,o]=Ar.useState(r),i=()=>{n(a),e()},l=()=>{const c={dateRange:{start:"",end:""},minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""};o(c),n(c),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:a.dateRange.start,onChange:c=>o(d=>({...d,dateRange:{...d.dateRange,start:c.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:a.dateRange.end,onChange:c=>o(d=>({...d,dateRange:{...d.dateRange,end:c.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:a.minValue,onChange:c=>o(d=>({...d,minValue:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:a.maxValue,onChange:c=>o(d=>({...d,maxValue:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:a.status,onChange:c=>o(d=>({...d,status:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"IN_PROGRESS",children:"Em Andamento"}),s.jsx("option",{value:"PAID",children:"Quitados"})]})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function $$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(!1),[i,l]=D.useState(""),[c,d]=D.useState(null),[u,h]=D.useState([]),[g,p]=D.useState(!0),[w,b]=D.useState(null),[_,v]=D.useState({dateRange:{start:"",end:""},minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""});D.useEffect(()=>{j()},[_]);const j=async()=>{try{p(!0);const{data:q,error:y}=await Ee.from("passives_with_details").select("*").order("acquisition_date",{ascending:!1});if(y)throw y;h(q||[]),b(null)}catch(q){console.error("Error loading passives:",q),b("Erro ao carregar passivos")}finally{p(!1)}},L=u.filter(q=>{const y=i.toLowerCase(),R=q.name.toLowerCase().includes(y)||q.description.toLowerCase().includes(y),A=(!_.dateRange.start||new Date(q.acquisition_date)>=new Date(_.dateRange.start))&&(!_.dateRange.end||new Date(q.acquisition_date)<=new Date(_.dateRange.end)),P=(!_.minValue||q.value>=parseFloat(_.minValue))&&(!_.maxValue||q.value<=parseFloat(_.maxValue)),x=!_.cnpjId||q.cnpj_id===_.cnpjId,k=!_.categoryId||q.category_id===_.categoryId,E=!_.status||q.status===_.status;return R&&A&&P&&x&&k&&E}),U={totalDebt:L.reduce((q,y)=>q+y.value,0),monthlyPayments:L.filter(q=>q.status==="IN_PROGRESS").reduce((q,y)=>{const R=y.installment_details||[],A=new Date().getMonth(),P=new Date().getFullYear();return q+R.filter(x=>{const k=new Date(x.due_date);return k.getMonth()===A&&k.getFullYear()===P&&x.status==="PENDING"}).reduce((x,k)=>x+k.value,0)},0),totalPaid:L.reduce((q,y)=>q+(y.total_paid||0),0)},M=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q);return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>b(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Gesto de Passivos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as dvidas da empresa"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Passivo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total das Dvidas"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:M(U.totalDebt)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Parcelas do Ms"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:M(U.monthlyPayments)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total J Pago"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:M(U.totalPaid)})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:i,onChange:q=>l(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),g?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(F$,{passives:L,onView:q=>{d(q),n(!0)}})]}),s.jsx(O$,{isOpen:t,onClose:()=>e(!1),passive:null,onSuccess:()=>{e(!1),j()}}),s.jsx(M$,{isOpen:r,onClose:()=>{n(!1),d(null)},passive:c,onEdit:q=>{d(q),n(!1),e(!0)},onSuccess:j}),s.jsx(B$,{isOpen:a,onClose:()=>o(!1),filters:_,onApplyFilters:v})]})}function q$({isOpen:t,onClose:e,filters:r,onApplyFilters:n}){const[a,o]=Ar.useState(r),i=()=>{n(a),e()},l=()=>{const c={bankAccountId:"",type:"",categoryId:"",status:""};o(c),n(c),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsx("select",{value:a.bankAccountId,onChange:c=>o(d=>({...d,bankAccountId:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todas as contas"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Lanamento"}),s.jsxs("select",{value:a.type,onChange:c=>o(d=>({...d,type:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"CREDIT",children:"Receitas"}),s.jsx("option",{value:"DEBIT",children:"Despesas"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx("select",{value:a.categoryId,onChange:c=>o(d=>({...d,categoryId:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todas as categorias"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:a.status,onChange:c=>o(d=>({...d,status:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"RECONCILED",children:"Conciliado"}),s.jsx("option",{value:"PENDING",children:"No Conciliado"}),s.jsx("option",{value:"REGISTERED",children:"Pendente"}),s.jsx("option",{value:"CANCELED",children:"Cancelado"}),s.jsx("option",{value:"REVERSED",children:"Estornado"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function U$({handleDelete:t,statements:e,onView:r,onEdit:n,onDelete:a}){if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(kc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum lanamento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h lanamentos bancrios que correspondam aos filtros selecionados."})]});const o=(c,d)=>{const u=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(c));return d==="DEBIT"?`-${u}`:u},i=c=>c?c.split("-").reverse().join("/"):"-",l=c=>{switch(c){case"RECONCILED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Conciliado"});case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"No Conciliado"});case"REGISTERED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Pendente"});case"CANCELED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Cancelado"});case"REVERSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",children:"Estornado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio/Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta Bancria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(c=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(c.transaction_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.category_name||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.description||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.beneficiary||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.bank_account_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(c.status)}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${c.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:o(c.value,c.type)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>r(c),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Visualizar",children:s.jsx(Al,{className:"h-5 w-5"})})})]},c.id))})]})})}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function z$(t,e){if(bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fC(t){var e=z$(t,"string");return bc(e)=="symbol"?e:e+""}function Zu(t,e,r){return(e=fC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(r),!0).forEach(function(n){Zu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V$(t){if(Array.isArray(t))return t}function H$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,d=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw a}}return l}}function ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pC(t,e){if(t){if(typeof t=="string")return ub(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ub(t,e):void 0}}function W$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xi(t,e){return V$(t)||H$(t,e)||pC(t,e)||W$()}function G$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Di(t,e){if(t==null)return{};var r,n,a=G$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var J$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function K$(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,o=t.defaultValue,i=o===void 0?null:o,l=t.inputValue,c=t.menuIsOpen,d=t.onChange,u=t.onInputChange,h=t.onMenuClose,g=t.onMenuOpen,p=t.value,w=Di(t,J$),b=D.useState(l!==void 0?l:r),_=xi(b,2),v=_[0],j=_[1],L=D.useState(c!==void 0?c:a),U=xi(L,2),M=U[0],q=U[1],y=D.useState(p!==void 0?p:i),R=xi(y,2),A=R[0],P=R[1],x=D.useCallback(function(W,B){typeof d=="function"&&d(W,B),P(W)},[d]),k=D.useCallback(function(W,B){var G;typeof u=="function"&&(G=u(W,B)),j(G!==void 0?G:W)},[u]),E=D.useCallback(function(){typeof g=="function"&&g(),q(!0)},[g]),C=D.useCallback(function(){typeof h=="function"&&h(),q(!1)},[h]),z=l!==void 0?l:v,V=c!==void 0?c:M,K=p!==void 0?p:A;return Rt(Rt({},w),{},{inputValue:z,menuIsOpen:V,onChange:x,onInputChange:k,onMenuClose:C,onMenuOpen:E,value:K})}function Bt(){return Bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bt.apply(null,arguments)}function Y$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fC(n.key),n)}}function X$(t,e,r){return e&&q5(t.prototype,e),r&&q5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},hb(t,e)}function Q$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function $0(t){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$0(t)}function mC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mC=function(){return!!t})()}function Z$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eq(t,e){if(e&&(bc(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z$(t)}function tq(t){var e=mC();return function(){var r,n=$0(t);if(e){var a=$0(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return eq(this,r)}}function rq(t){if(Array.isArray(t))return ub(t)}function nq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nw(t){return rq(t)||nq(t)||pC(t)||aq()}function sq(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function oq(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var iq=function(){function t(r){var n=this;this._insertTag=function(a){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,o),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(oq(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=sq(a);try{o.insertRule(n,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),ya="-ms-",q0="-moz-",vr="-webkit-",gC="comm",Sw="rule",Cw="decl",lq="@import",yC="@keyframes",cq="@layer",dq=Math.abs,Vm=String.fromCharCode,uq=Object.assign;function hq(t,e){return oa(t,0)^45?(((e<<2^oa(t,0))<<2^oa(t,1))<<2^oa(t,2))<<2^oa(t,3):0}function xC(t){return t.trim()}function fq(t,e){return(t=e.exec(t))?t[0]:t}function wr(t,e,r){return t.replace(e,r)}function fb(t,e){return t.indexOf(e)}function oa(t,e){return t.charCodeAt(e)|0}function Vh(t,e,r){return t.slice(e,r)}function Mo(t){return t.length}function _w(t){return t.length}function hp(t,e){return e.push(t),t}function pq(t,e){return t.map(e).join("")}var Hm=1,Gd=1,bC=0,Xa=0,In=0,hu="";function Wm(t,e,r,n,a,o,i){return{value:t,root:e,parent:r,type:n,props:a,children:o,line:Hm,column:Gd,length:i,return:""}}function Uu(t,e){return uq(Wm("",null,null,"",null,null,0),t,{length:-t.length},e)}function mq(){return In}function gq(){return In=Xa>0?oa(hu,--Xa):0,Gd--,In===10&&(Gd=1,Hm--),In}function ps(){return In=Xa<bC?oa(hu,Xa++):0,Gd++,In===10&&(Gd=1,Hm++),In}function zo(){return oa(hu,Xa)}function Bp(){return Xa}function xf(t,e){return Vh(hu,t,e)}function Hh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vC(t){return Hm=Gd=1,bC=Mo(hu=t),Xa=0,[]}function wC(t){return hu="",t}function $p(t){return xC(xf(Xa-1,pb(t===91?t+2:t===40?t+1:t)))}function yq(t){for(;(In=zo())&&In<33;)ps();return Hh(t)>2||Hh(In)>3?"":" "}function xq(t,e){for(;--e&&ps()&&!(In<48||In>102||In>57&&In<65||In>70&&In<97););return xf(t,Bp()+(e<6&&zo()==32&&ps()==32))}function pb(t){for(;ps();)switch(In){case t:return Xa;case 34:case 39:t!==34&&t!==39&&pb(In);break;case 40:t===41&&pb(t);break;case 92:ps();break}return Xa}function bq(t,e){for(;ps()&&t+In!==57;)if(t+In===84&&zo()===47)break;return"/*"+xf(e,Xa-1)+"*"+Vm(t===47?t:ps())}function vq(t){for(;!Hh(zo());)ps();return xf(t,Xa)}function wq(t){return wC(qp("",null,null,null,[""],t=vC(t),0,[0],t))}function qp(t,e,r,n,a,o,i,l,c){for(var d=0,u=0,h=i,g=0,p=0,w=0,b=1,_=1,v=1,j=0,L="",U=a,M=o,q=n,y=L;_;)switch(w=j,j=ps()){case 40:if(w!=108&&oa(y,h-1)==58){fb(y+=wr($p(j),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:y+=$p(j);break;case 9:case 10:case 13:case 32:y+=yq(w);break;case 92:y+=xq(Bp()-1,7);continue;case 47:switch(zo()){case 42:case 47:hp(kq(bq(ps(),Bp()),e,r),c);break;default:y+="/"}break;case 123*b:l[d++]=Mo(y)*v;case 125*b:case 59:case 0:switch(j){case 0:case 125:_=0;case 59+u:v==-1&&(y=wr(y,/\f/g,"")),p>0&&Mo(y)-h&&hp(p>32?z5(y+";",n,r,h-1):z5(wr(y," ","")+";",n,r,h-2),c);break;case 59:y+=";";default:if(hp(q=U5(y,e,r,d,u,a,l,L,U=[],M=[],h),o),j===123)if(u===0)qp(y,e,q,q,U,o,h,l,M);else switch(g===99&&oa(y,3)===110?100:g){case 100:case 108:case 109:case 115:qp(t,q,q,n&&hp(U5(t,q,q,0,0,a,l,L,a,U=[],h),M),a,M,h,l,n?U:M);break;default:qp(y,q,q,q,[""],M,0,l,M)}}d=u=p=0,b=v=1,L=y="",h=i;break;case 58:h=1+Mo(y),p=w;default:if(b<1){if(j==123)--b;else if(j==125&&b++==0&&gq()==125)continue}switch(y+=Vm(j),j*b){case 38:v=u>0?1:(y+="\f",-1);break;case 44:l[d++]=(Mo(y)-1)*v,v=1;break;case 64:zo()===45&&(y+=$p(ps())),g=zo(),u=h=Mo(L=y+=vq(Bp())),j++;break;case 45:w===45&&Mo(y)==2&&(b=0)}}return o}function U5(t,e,r,n,a,o,i,l,c,d,u){for(var h=a-1,g=a===0?o:[""],p=_w(g),w=0,b=0,_=0;w<n;++w)for(var v=0,j=Vh(t,h+1,h=dq(b=i[w])),L=t;v<p;++v)(L=xC(b>0?g[v]+" "+j:wr(j,/&\f/g,g[v])))&&(c[_++]=L);return Wm(t,e,r,a===0?Sw:l,c,d,u)}function kq(t,e,r){return Wm(t,e,r,gC,Vm(mq()),Vh(t,2,-2),0)}function z5(t,e,r,n){return Wm(t,e,r,Cw,Vh(t,0,n),Vh(t,n+1,-1),n)}function _d(t,e){for(var r="",n=_w(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function jq(t,e,r,n){switch(t.type){case cq:if(t.children.length)break;case lq:case Cw:return t.return=t.return||t.value;case gC:return"";case yC:return t.return=t.value+"{"+_d(t.children,n)+"}";case Sw:t.value=t.props.join(",")}return Mo(r=_d(t.children,n))?t.return=t.value+"{"+r+"}":""}function Nq(t){var e=_w(t);return function(r,n,a,o){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,o)||"";return i}}function Sq(t){return function(e){e.root||(e=e.return)&&t(e)}}function Cq(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var _q=function(e,r,n){for(var a=0,o=0;a=o,o=zo(),a===38&&o===12&&(r[n]=1),!Hh(o);)ps();return xf(e,Xa)},Eq=function(e,r){var n=-1,a=44;do switch(Hh(a)){case 0:a===38&&zo()===12&&(r[n]=1),e[n]+=_q(Xa-1,r,n);break;case 2:e[n]+=$p(a);break;case 4:if(a===44){e[++n]=zo()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Vm(a)}while(a=ps());return e},Aq=function(e,r){return wC(Eq(vC(e),r))},V5=new WeakMap,Pq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!V5.get(n))&&!a){V5.set(e,!0);for(var o=[],i=Aq(r,o),l=n.props,c=0,d=0;c<i.length;c++)for(var u=0;u<l.length;u++,d++)e.props[d]=o[c]?i[c].replace(/&\f/g,l[u]):l[u]+" "+i[c]}}},Dq=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function kC(t,e){switch(hq(t,e)){case 5103:return vr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return vr+t+q0+t+ya+t+t;case 6828:case 4268:return vr+t+ya+t+t;case 6165:return vr+t+ya+"flex-"+t+t;case 5187:return vr+t+wr(t,/(\w+).+(:[^]+)/,vr+"box-$1$2"+ya+"flex-$1$2")+t;case 5443:return vr+t+ya+"flex-item-"+wr(t,/flex-|-self/,"")+t;case 4675:return vr+t+ya+"flex-line-pack"+wr(t,/align-content|flex-|-self/,"")+t;case 5548:return vr+t+ya+wr(t,"shrink","negative")+t;case 5292:return vr+t+ya+wr(t,"basis","preferred-size")+t;case 6060:return vr+"box-"+wr(t,"-grow","")+vr+t+ya+wr(t,"grow","positive")+t;case 4554:return vr+wr(t,/([^-])(transform)/g,"$1"+vr+"$2")+t;case 6187:return wr(wr(wr(t,/(zoom-|grab)/,vr+"$1"),/(image-set)/,vr+"$1"),t,"")+t;case 5495:case 3959:return wr(t,/(image-set\([^]*)/,vr+"$1$`$1");case 4968:return wr(wr(t,/(.+:)(flex-)?(.*)/,vr+"box-pack:$3"+ya+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vr+t+t;case 4095:case 3583:case 4068:case 2532:return wr(t,/(.+)-inline(.+)/,vr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mo(t)-1-e>6)switch(oa(t,e+1)){case 109:if(oa(t,e+4)!==45)break;case 102:return wr(t,/(.+:)(.+)-([^]+)/,"$1"+vr+"$2-$3$1"+q0+(oa(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~fb(t,"stretch")?kC(wr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(oa(t,e+1)!==115)break;case 6444:switch(oa(t,Mo(t)-3-(~fb(t,"!important")&&10))){case 107:return wr(t,":",":"+vr)+t;case 101:return wr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vr+(oa(t,14)===45?"inline-":"")+"box$3$1"+vr+"$2$3$1"+ya+"$2box$3")+t}break;case 5936:switch(oa(t,e+11)){case 114:return vr+t+ya+wr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return vr+t+ya+wr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return vr+t+ya+wr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return vr+t+ya+t+t}return t}var Iq=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case Cw:e.return=kC(e.value,e.length);break;case yC:return _d([Uu(e,{value:wr(e.value,"@","@"+vr)})],a);case Sw:if(e.length)return pq(e.props,function(o){switch(fq(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _d([Uu(e,{props:[wr(o,/:(read-\w+)/,":"+q0+"$1")]})],a);case"::placeholder":return _d([Uu(e,{props:[wr(o,/:(plac\w+)/,":"+vr+"input-$1")]}),Uu(e,{props:[wr(o,/:(plac\w+)/,":"+q0+"$1")]}),Uu(e,{props:[wr(o,/:(plac\w+)/,ya+"input-$1")]})],a)}return""})}},Lq=[Iq],Rq=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var _=b.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var a=e.stylisPlugins||Lq,o={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var _=b.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)o[_[v]]=!0;l.push(b)});var c,d=[Pq,Dq];{var u,h=[jq,Sq(function(b){u.insert(b)})],g=Nq(d.concat(a,h)),p=function(_){return _d(wq(_),g)};c=function(_,v,j,L){u=j,p(_?_+"{"+v.styles+"}":v.styles),L&&(w.inserted[v.name]=!0)}}var w={key:r,sheet:new iq({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return w.sheet.hydrate(l),w},jC={exports:{}},Ir={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=typeof Symbol=="function"&&Symbol.for,Ew=ta?Symbol.for("react.element"):60103,Aw=ta?Symbol.for("react.portal"):60106,Gm=ta?Symbol.for("react.fragment"):60107,Jm=ta?Symbol.for("react.strict_mode"):60108,Km=ta?Symbol.for("react.profiler"):60114,Ym=ta?Symbol.for("react.provider"):60109,Xm=ta?Symbol.for("react.context"):60110,Pw=ta?Symbol.for("react.async_mode"):60111,Qm=ta?Symbol.for("react.concurrent_mode"):60111,Zm=ta?Symbol.for("react.forward_ref"):60112,eg=ta?Symbol.for("react.suspense"):60113,Tq=ta?Symbol.for("react.suspense_list"):60120,tg=ta?Symbol.for("react.memo"):60115,rg=ta?Symbol.for("react.lazy"):60116,Oq=ta?Symbol.for("react.block"):60121,Mq=ta?Symbol.for("react.fundamental"):60117,Fq=ta?Symbol.for("react.responder"):60118,Bq=ta?Symbol.for("react.scope"):60119;function js(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ew:switch(t=t.type,t){case Pw:case Qm:case Gm:case Km:case Jm:case eg:return t;default:switch(t=t&&t.$$typeof,t){case Xm:case Zm:case rg:case tg:case Ym:return t;default:return e}}case Aw:return e}}}function NC(t){return js(t)===Qm}Ir.AsyncMode=Pw;Ir.ConcurrentMode=Qm;Ir.ContextConsumer=Xm;Ir.ContextProvider=Ym;Ir.Element=Ew;Ir.ForwardRef=Zm;Ir.Fragment=Gm;Ir.Lazy=rg;Ir.Memo=tg;Ir.Portal=Aw;Ir.Profiler=Km;Ir.StrictMode=Jm;Ir.Suspense=eg;Ir.isAsyncMode=function(t){return NC(t)||js(t)===Pw};Ir.isConcurrentMode=NC;Ir.isContextConsumer=function(t){return js(t)===Xm};Ir.isContextProvider=function(t){return js(t)===Ym};Ir.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ew};Ir.isForwardRef=function(t){return js(t)===Zm};Ir.isFragment=function(t){return js(t)===Gm};Ir.isLazy=function(t){return js(t)===rg};Ir.isMemo=function(t){return js(t)===tg};Ir.isPortal=function(t){return js(t)===Aw};Ir.isProfiler=function(t){return js(t)===Km};Ir.isStrictMode=function(t){return js(t)===Jm};Ir.isSuspense=function(t){return js(t)===eg};Ir.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gm||t===Qm||t===Km||t===Jm||t===eg||t===Tq||typeof t=="object"&&t!==null&&(t.$$typeof===rg||t.$$typeof===tg||t.$$typeof===Ym||t.$$typeof===Xm||t.$$typeof===Zm||t.$$typeof===Mq||t.$$typeof===Fq||t.$$typeof===Bq||t.$$typeof===Oq)};Ir.typeOf=js;jC.exports=Ir;var $q=jC.exports,SC=$q,qq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Uq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},CC={};CC[SC.ForwardRef]=qq;CC[SC.Memo]=Uq;var zq=!0;function Vq(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var _C=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||zq===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Hq=function(e,r,n){_C(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Wq(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Gq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Jq=/[A-Z]|^ms/g,Kq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EC=function(e){return e.charCodeAt(1)===45},H5=function(e){return e!=null&&typeof e!="boolean"},wy=Cq(function(t){return EC(t)?t:t.replace(Jq,"-$&").toLowerCase()}),W5=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Kq,function(n,a,o){return Fo={name:a,styles:o,next:Fo},a})}return Gq[e]!==1&&!EC(e)&&typeof r=="number"&&r!==0?r+"px":r};function Wh(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Fo={name:a.name,styles:a.styles,next:Fo},a.name;var o=r;if(o.styles!==void 0){var i=o.next;if(i!==void 0)for(;i!==void 0;)Fo={name:i.name,styles:i.styles,next:Fo},i=i.next;var l=o.styles+";";return l}return Yq(t,e,r)}case"function":{if(t!==void 0){var c=Fo,d=r(t);return Fo=c,Wh(t,e,d)}break}}var u=r;return u}function Yq(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Wh(t,e,r[a])+";";else for(var o in r){var i=r[o];if(typeof i!="object"){var l=i;H5(l)&&(n+=wy(o)+":"+W5(o,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)H5(i[c])&&(n+=wy(o)+":"+W5(o,i[c])+";");else{var d=Wh(t,e,i);switch(o){case"animation":case"animationName":{n+=wy(o)+":"+d+";";break}default:n+=o+"{"+d+"}"}}}return n}var G5=/label:\s*([^\s;{]+)\s*(;|$)/g,Fo;function AC(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Fo=void 0;var o=t[0];if(o==null||o.raw===void 0)n=!1,a+=Wh(r,e,o);else{var i=o;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=Wh(r,e,t[l]),n){var c=o;a+=c[l]}G5.lastIndex=0;for(var d="",u;(u=G5.exec(a))!==null;)d+="-"+u[1];var h=Wq(a)+d;return{name:h,styles:a,next:Fo}}var Xq=function(e){return e()},Qq=b2.useInsertionEffect?b2.useInsertionEffect:!1,Zq=Qq||Xq,PC=D.createContext(typeof HTMLElement<"u"?Rq({key:"css"}):null);PC.Provider;var eU=function(e){return D.forwardRef(function(r,n){var a=D.useContext(PC);return e(r,a,n)})},tU=D.createContext({}),Dw={}.hasOwnProperty,mb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rU=function(e,r){var n={};for(var a in r)Dw.call(r,a)&&(n[a]=r[a]);return n[mb]=e,n},nU=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return _C(r,n,a),Zq(function(){return Hq(r,n,a)}),null},aU=eU(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[mb],o=[n],i="";typeof t.className=="string"?i=Vq(e.registered,o,t.className):t.className!=null&&(i=t.className+" ");var l=AC(o,void 0,D.useContext(tU));i+=e.key+"-"+l.name;var c={};for(var d in t)Dw.call(t,d)&&d!=="css"&&d!==mb&&(c[d]=t[d]);return c.className=i,r&&(c.ref=r),D.createElement(D.Fragment,null,D.createElement(nU,{cache:e,serialized:l,isStringTag:typeof a=="string"}),D.createElement(a,c))}),sU=aU,_t=function(e,r){var n=arguments;if(r==null||!Dw.call(r,"css"))return D.createElement.apply(void 0,n);var a=n.length,o=new Array(a);o[0]=sU,o[1]=rU(e,r);for(var i=2;i<a;i++)o[i]=n[i];return D.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_t||(_t={}));function Iw(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return AC(e)}function oU(){var t=Iw.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function iU(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const lU=Math.min,cU=Math.max,U0=Math.round,fp=Math.floor,z0=t=>({x:t,y:t});function dU(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function ng(){return typeof window<"u"}function DC(t){return LC(t)?(t.nodeName||"").toLowerCase():"#document"}function _i(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function IC(t){var e;return(e=(LC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LC(t){return ng()?t instanceof Node||t instanceof _i(t).Node:!1}function uU(t){return ng()?t instanceof Element||t instanceof _i(t).Element:!1}function Lw(t){return ng()?t instanceof HTMLElement||t instanceof _i(t).HTMLElement:!1}function J5(t){return!ng()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _i(t).ShadowRoot}function RC(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Rw(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function hU(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fU(t){return["html","body","#document"].includes(DC(t))}function Rw(t){return _i(t).getComputedStyle(t)}function pU(t){if(DC(t)==="html")return t;const e=t.assignedSlot||t.parentNode||J5(t)&&t.host||IC(t);return J5(e)?e.host:e}function TC(t){const e=pU(t);return fU(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lw(e)&&RC(e)?e:TC(e)}function V0(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=TC(t),o=a===((n=t.ownerDocument)==null?void 0:n.body),i=_i(a);if(o){const l=gb(i);return e.concat(i,i.visualViewport||[],RC(a)?a:[],l&&r?V0(l):[])}return e.concat(a,V0(a,[],r))}function gb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mU(t){const e=Rw(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Lw(t),o=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=U0(r)!==o||U0(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Tw(t){return uU(t)?t:t.contextElement}function K5(t){const e=Tw(t);if(!Lw(e))return z0(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:o}=mU(e);let i=(o?U0(r.width):r.width)/n,l=(o?U0(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const gU=z0(0);function yU(t){const e=_i(t);return!hU()||!e.visualViewport?gU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xU(t,e,r){return!1}function Y5(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),o=Tw(t);let i=z0(1);e&&(i=K5(t));const l=xU()?yU(o):z0(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,h=a.height/i.y;if(o){const g=_i(o),p=n;let w=g,b=gb(w);for(;b&&n&&p!==w;){const _=K5(b),v=b.getBoundingClientRect(),j=Rw(b),L=v.left+(b.clientLeft+parseFloat(j.paddingLeft))*_.x,U=v.top+(b.clientTop+parseFloat(j.paddingTop))*_.y;c*=_.x,d*=_.y,u*=_.x,h*=_.y,c+=L,d+=U,w=_i(b),b=gb(w)}}return dU({width:u,height:h,x:c,y:d})}function OC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bU(t,e){let r=null,n;const a=IC(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=t.getBoundingClientRect(),{left:u,top:h,width:g,height:p}=d;if(l||e(),!g||!p)return;const w=fp(h),b=fp(a.clientWidth-(u+g)),_=fp(a.clientHeight-(h+p)),v=fp(u),L={rootMargin:-w+"px "+-b+"px "+-_+"px "+-v+"px",threshold:cU(0,lU(1,c))||1};let U=!0;function M(q){const y=q[0].intersectionRatio;if(y!==c){if(!U)return i();y?i(!1,y):n=setTimeout(()=>{i(!1,1e-7)},1e3)}y===1&&!OC(d,t.getBoundingClientRect())&&i(),U=!1}try{r=new IntersectionObserver(M,{...L,root:a.ownerDocument})}catch{r=new IntersectionObserver(M,L)}r.observe(t)}return i(!0),o}function vU(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Tw(t),u=a||o?[...d?V0(d):[],...V0(e)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const h=d&&l?bU(d,r):null;let g=-1,p=null;i&&(p=new ResizeObserver(v=>{let[j]=v;j&&j.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var L;(L=p)==null||L.observe(e)})),r()}),d&&!c&&p.observe(d),p.observe(e));let w,b=c?Y5(t):null;c&&_();function _(){const v=Y5(t);b&&!OC(b,v)&&r(),b=v,w=requestAnimationFrame(_)}return r(),()=>{var v;u.forEach(j=>{a&&j.removeEventListener("scroll",r),o&&j.removeEventListener("resize",r)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(w)}}var yb=D.useLayoutEffect,wU=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],H0=function(){};function kU(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function jU(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&o.push("".concat(kU(t,i)));return o.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var X5=function(e){return IU(e)?e.filter(Boolean):bc(e)==="object"&&e!==null?[e]:[]},MC=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Di(e,wU);return Rt({},r)},pn=function(e,r,n){var a=e.cx,o=e.getStyles,i=e.getClassNames,l=e.className;return{css:o(r,e),className:a(n??{},i(r,e),l)}};function ag(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function NU(t){return ag(t)?window.innerHeight:t.clientHeight}function FC(t){return ag(t)?window.pageYOffset:t.scrollTop}function W0(t,e){if(ag(t)){window.scrollTo(0,e);return}t.scrollTop=e}function SU(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function CU(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function pp(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H0,a=FC(t),o=e-a,i=10,l=0;function c(){l+=i;var d=CU(l,a,o,r);W0(t,d),l<r?window.requestAnimationFrame(c):n(t)}c()}function Q5(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?W0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&W0(t,Math.max(e.offsetTop-a,0))}function _U(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Z5(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function EU(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var BC=!1,AU={get passive(){return BC=!0}},mp=typeof window<"u"?window:{};mp.addEventListener&&mp.removeEventListener&&(mp.addEventListener("p",H0,AU),mp.removeEventListener("p",H0,!1));var PU=BC;function DU(t){return t!=null}function IU(t){return Array.isArray(t)}function gp(t,e,r){return t?e:r}var LU=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=Object.entries(e).filter(function(i){var l=xi(i,1),c=l[0];return!n.includes(c)});return o.reduce(function(i,l){var c=xi(l,2),d=c[0],u=c[1];return i[d]=u,i},{})},RU=["children","innerProps"],TU=["children","innerProps"];function OU(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,o=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=SU(r),d={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return d;var u=c.getBoundingClientRect(),h=u.height,g=r.getBoundingClientRect(),p=g.bottom,w=g.height,b=g.top,_=r.offsetParent.getBoundingClientRect(),v=_.top,j=i?window.innerHeight:NU(c),L=FC(c),U=parseInt(getComputedStyle(r).marginBottom,10),M=parseInt(getComputedStyle(r).marginTop,10),q=v-M,y=j-b,R=q+L,A=h-L-b,P=p-j+L+U,x=L+b-M,k=160;switch(a){case"auto":case"bottom":if(y>=w)return{placement:"bottom",maxHeight:e};if(A>=w&&!i)return o&&pp(c,P,k),{placement:"bottom",maxHeight:e};if(!i&&A>=n||i&&y>=n){o&&pp(c,P,k);var E=i?y-U:A-U;return{placement:"bottom",maxHeight:E}}if(a==="auto"||i){var C=e,z=i?q:R;return z>=n&&(C=Math.min(z-U-l,e)),{placement:"top",maxHeight:C}}if(a==="bottom")return o&&W0(c,P),{placement:"bottom",maxHeight:e};break;case"top":if(q>=w)return{placement:"top",maxHeight:e};if(R>=w&&!i)return o&&pp(c,x,k),{placement:"top",maxHeight:e};if(!i&&R>=n||i&&q>=n){var V=e;return(!i&&R>=n||i&&q>=n)&&(V=i?q-M:R-M),o&&pp(c,x,k),{placement:"top",maxHeight:V}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return d}function MU(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var $C=function(e){return e==="auto"?"bottom":e},FU=function(e,r){var n,a=e.placement,o=e.theme,i=o.borderRadius,l=o.spacing,c=o.colors;return Rt((n={label:"menu"},Zu(n,MU(a),"100%"),Zu(n,"position","absolute"),Zu(n,"width","100%"),Zu(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},qC=D.createContext(null),BU=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,o=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,d=D.useContext(qC)||{},u=d.setPortalPlacement,h=D.useRef(null),g=D.useState(a),p=xi(g,2),w=p[0],b=p[1],_=D.useState(null),v=xi(_,2),j=v[0],L=v[1],U=c.spacing.controlHeight;return yb(function(){var M=h.current;if(M){var q=i==="fixed",y=l&&!q,R=OU({maxHeight:a,menuEl:M,minHeight:n,placement:o,shouldScroll:y,isFixedPosition:q,controlHeight:U});b(R.maxHeight),L(R.placement),u==null||u(R.placement)}},[a,o,i,l,n,u,U]),r({ref:h,placerProps:Rt(Rt({},e),{},{placement:j||$C(o),maxHeight:w})})},$U=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return _t("div",Bt({},pn(e,"menu",{menu:!0}),{ref:n},a),r)},qU=$U,UU=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Rt({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},zU=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,o=e.isMulti;return _t("div",Bt({},pn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:a},n),r)},UC=function(e,r){var n=e.theme,a=n.spacing.baseUnit,o=n.colors;return Rt({textAlign:"center"},r?{}:{color:o.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},VU=UC,HU=UC,WU=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,o=Di(e,RU);return _t("div",Bt({},pn(Rt(Rt({},o),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},GU=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,o=Di(e,TU);return _t("div",Bt({},pn(Rt(Rt({},o),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},JU=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},KU=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,o=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=D.useRef(null),d=D.useRef(null),u=D.useState($C(i)),h=xi(u,2),g=h[0],p=h[1],w=D.useMemo(function(){return{setPortalPlacement:p}},[]),b=D.useState(null),_=xi(b,2),v=_[0],j=_[1],L=D.useCallback(function(){if(a){var y=_U(a),R=l==="fixed"?0:window.pageYOffset,A=y[g]+R;(A!==(v==null?void 0:v.offset)||y.left!==(v==null?void 0:v.rect.left)||y.width!==(v==null?void 0:v.rect.width))&&j({offset:A,rect:y})}},[a,l,g,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);yb(function(){L()},[L]);var U=D.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),a&&c.current&&(d.current=vU(a,c.current,L,{elementResize:"ResizeObserver"in window}))},[a,L]);yb(function(){U()},[U]);var M=D.useCallback(function(y){c.current=y,U()},[U]);if(!r&&l!=="fixed"||!v)return null;var q=_t("div",Bt({ref:M},pn(Rt(Rt({},e),{},{offset:v.offset,position:l,rect:v.rect}),"menuPortal",{"menu-portal":!0}),o),n);return _t(qC.Provider,{value:w},r?sc.createPortal(q,r):q)},YU=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},XU=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,o=e.isRtl;return _t("div",Bt({},pn(e,"container",{"--is-disabled":a,"--is-rtl":o}),n),r)},QU=function(e,r){var n=e.theme.spacing,a=e.isMulti,o=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Rt({alignItems:"center",display:a&&o&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},ZU=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,o=e.hasValue;return _t("div",Bt({},pn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":o}),n),r)},ez=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},tz=function(e){var r=e.children,n=e.innerProps;return _t("div",Bt({},pn(e,"indicatorsContainer",{indicators:!0}),n),r)},ek,rz=["size"],nz=["innerProps","isRtl","size"],az={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},zC=function(e){var r=e.size,n=Di(e,rz);return _t("svg",Bt({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:az},n))},Ow=function(e){return _t(zC,Bt({size:20},e),_t("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},VC=function(e){return _t(zC,Bt({size:20},e),_t("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},HC=function(e,r){var n=e.isFocused,a=e.theme,o=a.spacing.baseUnit,i=a.colors;return Rt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:o*2,":hover":{color:n?i.neutral80:i.neutral40}})},sz=HC,oz=function(e){var r=e.children,n=e.innerProps;return _t("div",Bt({},pn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||_t(VC,null))},iz=HC,lz=function(e){var r=e.children,n=e.innerProps;return _t("div",Bt({},pn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||_t(Ow,null))},cz=function(e,r){var n=e.isDisabled,a=e.theme,o=a.spacing.baseUnit,i=a.colors;return Rt({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:o*2,marginTop:o*2})},dz=function(e){var r=e.innerProps;return _t("span",Bt({},r,pn(e,"indicatorSeparator",{"indicator-separator":!0})))},uz=oU(ek||(ek=iU([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),hz=function(e,r){var n=e.isFocused,a=e.size,o=e.theme,i=o.colors,l=o.spacing.baseUnit;return Rt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},ky=function(e){var r=e.delay,n=e.offset;return _t("span",{css:Iw({animation:"".concat(uz," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},fz=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,o=a===void 0?4:a,i=Di(e,nz);return _t("div",Bt({},pn(Rt(Rt({},i),{},{innerProps:r,isRtl:n,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),_t(ky,{delay:0,offset:n}),_t(ky,{delay:160,offset:!0}),_t(ky,{delay:320,offset:!n}))},pz=function(e,r){var n=e.isDisabled,a=e.isFocused,o=e.theme,i=o.colors,l=o.borderRadius,c=o.spacing;return Rt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},mz=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,o=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return _t("div",Bt({ref:o},pn(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},gz=mz,yz=["data"],xz=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},bz=function(e){var r=e.children,n=e.cx,a=e.getStyles,o=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,d=e.label,u=e.theme,h=e.selectProps;return _t("div",Bt({},pn(e,"group",{group:!0}),c),_t(i,Bt({},l,{selectProps:h,theme:u,getStyles:a,getClassNames:o,cx:n}),d),_t("div",null,r))},vz=function(e,r){var n=e.theme,a=n.colors,o=n.spacing;return Rt({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},wz=function(e){var r=MC(e);r.data;var n=Di(r,yz);return _t("div",Bt({},pn(e,"groupHeading",{"group-heading":!0}),n))},kz=bz,jz=["innerRef","isDisabled","isHidden","inputClassName"],Nz=function(e,r){var n=e.isDisabled,a=e.value,o=e.theme,i=o.spacing,l=o.colors;return Rt(Rt({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},Sz),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},WC={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Sz={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Rt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},WC)},Cz=function(e){return Rt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},WC)},_z=function(e){var r=e.cx,n=e.value,a=MC(e),o=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,d=Di(a,jz);return _t("div",Bt({},pn(e,"input",{"input-container":!0}),{"data-value":n||""}),_t("input",Bt({className:r({input:!0},c),ref:o,style:Cz(l),disabled:i},d)))},Ez=_z,Az=function(e,r){var n=e.theme,a=n.spacing,o=n.borderRadius,i=n.colors;return Rt({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:o/2,margin:a.baseUnit/2})},Pz=function(e,r){var n=e.theme,a=n.borderRadius,o=n.colors,i=e.cropWithEllipsis;return Rt({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Dz=function(e,r){var n=e.theme,a=n.spacing,o=n.borderRadius,i=n.colors,l=e.isFocused;return Rt({alignItems:"center",display:"flex"},r?{}:{borderRadius:o/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},GC=function(e){var r=e.children,n=e.innerProps;return _t("div",n,r)},Iz=GC,Lz=GC;function Rz(t){var e=t.children,r=t.innerProps;return _t("div",Bt({role:"button"},r),e||_t(Ow,{size:14}))}var Tz=function(e){var r=e.children,n=e.components,a=e.data,o=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,d=n.Container,u=n.Label,h=n.Remove;return _t(d,{data:a,innerProps:Rt(Rt({},pn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),o),selectProps:c},_t(u,{data:a,innerProps:Rt({},pn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),_t(h,{data:a,innerProps:Rt(Rt({},pn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Oz=Tz,Mz=function(e,r){var n=e.isDisabled,a=e.isFocused,o=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Rt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:o?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:o?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:o?c.primary:c.primary50}})},Fz=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,o=e.isSelected,i=e.innerRef,l=e.innerProps;return _t("div",Bt({},pn(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":o}),{ref:i,"aria-disabled":n},l),r)},Bz=Fz,$z=function(e,r){var n=e.theme,a=n.spacing,o=n.colors;return Rt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:o.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},qz=function(e){var r=e.children,n=e.innerProps;return _t("div",Bt({},pn(e,"placeholder",{placeholder:!0}),n),r)},Uz=qz,zz=function(e,r){var n=e.isDisabled,a=e.theme,o=a.spacing,i=a.colors;return Rt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Vz=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return _t("div",Bt({},pn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Hz=Vz,Wz={ClearIndicator:lz,Control:gz,DropdownIndicator:oz,DownChevron:VC,CrossIcon:Ow,Group:kz,GroupHeading:wz,IndicatorsContainer:tz,IndicatorSeparator:dz,Input:Ez,LoadingIndicator:fz,Menu:qU,MenuList:zU,MenuPortal:KU,LoadingMessage:GU,NoOptionsMessage:WU,MultiValue:Oz,MultiValueContainer:Iz,MultiValueLabel:Lz,MultiValueRemove:Rz,Option:Bz,Placeholder:Uz,SelectContainer:XU,SingleValue:Hz,ValueContainer:ZU},Gz=function(e){return Rt(Rt({},Wz),e.components)},tk=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Jz(t,e){return!!(t===e||tk(t)&&tk(e))}function Kz(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Jz(t[r],e[r]))return!1;return!0}function Yz(t,e){e===void 0&&(e=Kz);var r=null;function n(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var Xz={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Qz=function(e){return _t("span",Bt({css:Xz},e))},rk=Qz,Zz={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,o=e.context,i=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,o=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,o=e.label,i=o===void 0?"":o,l=e.selectValue,c=e.isDisabled,d=e.isSelected,u=e.isAppleDevice,h=function(b,_){return b&&b.length?"".concat(b.indexOf(_)+1," of ").concat(b.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(h(l,n),".");if(r==="menu"&&u){var g=c?" disabled":"",p="".concat(d?" selected":"").concat(g);return"".concat(i).concat(p,", ").concat(h(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},eV=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,o=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,d=e.id,u=e.isAppleDevice,h=c.ariaLiveMessages,g=c.getOptionLabel,p=c.inputValue,w=c.isMulti,b=c.isOptionDisabled,_=c.isSearchable,v=c.menuIsOpen,j=c.options,L=c.screenReaderStatus,U=c.tabSelectsValue,M=c.isLoading,q=c["aria-label"],y=c["aria-live"],R=D.useMemo(function(){return Rt(Rt({},Zz),h||{})},[h]),A=D.useMemo(function(){var z="";if(r&&R.onChange){var V=r.option,K=r.options,W=r.removedValue,B=r.removedValues,G=r.value,X=function(be){return Array.isArray(be)?null:be},T=W||V||X(G),J=T?g(T):"",ee=K||B||void 0,le=ee?ee.map(g):[],ue=Rt({isDisabled:T&&b(T,l),label:J,labels:le},r);z=R.onChange(ue)}return z},[r,R,b,l,g]),P=D.useMemo(function(){var z="",V=n||a,K=!!(n&&l&&l.includes(n));if(V&&R.onFocus){var W={focused:V,label:g(V),isDisabled:b(V,l),isSelected:K,options:o,context:V===n?"menu":"value",selectValue:l,isAppleDevice:u};z=R.onFocus(W)}return z},[n,a,g,b,R,o,l,u]),x=D.useMemo(function(){var z="";if(v&&j.length&&!M&&R.onFilter){var V=L({count:o.length});z=R.onFilter({inputValue:p,resultsMessage:V})}return z},[o,p,v,R,j,L,M]),k=(r==null?void 0:r.action)==="initial-input-focus",E=D.useMemo(function(){var z="";if(R.guidance){var V=a?"value":v?"menu":"input";z=R.guidance({"aria-label":q,context:V,isDisabled:n&&b(n,l),isMulti:w,isSearchable:_,tabSelectsValue:U,isInitialFocus:k})}return z},[q,n,a,w,b,_,v,R,l,U,k]),C=_t(D.Fragment,null,_t("span",{id:"aria-selection"},A),_t("span",{id:"aria-focused"},P),_t("span",{id:"aria-results"},x),_t("span",{id:"aria-guidance"},E));return _t(D.Fragment,null,_t(rk,{id:d},k&&C),_t(rk,{"aria-live":y,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!k&&C))},tV=eV,xb=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],rV=new RegExp("["+xb.map(function(t){return t.letters}).join("")+"]","g"),JC={};for(var jy=0;jy<xb.length;jy++)for(var Ny=xb[jy],Sy=0;Sy<Ny.letters.length;Sy++)JC[Ny.letters[Sy]]=Ny.base;var KC=function(e){return e.replace(rV,function(r){return JC[r]})},nV=Yz(KC),nk=function(e){return e.replace(/^\s+|\s+$/g,"")},aV=function(e){return"".concat(e.label," ").concat(e.value)},sV=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Rt({ignoreCase:!0,ignoreAccents:!0,stringify:aV,trim:!0,matchFrom:"any"},e),o=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,d=a.matchFrom,u=c?nk(n):n,h=c?nk(l(r)):l(r);return o&&(u=u.toLowerCase(),h=h.toLowerCase()),i&&(u=nV(u),h=KC(h)),d==="start"?h.substr(0,u.length)===u:h.indexOf(u)>-1}},oV=["innerRef"];function iV(t){var e=t.innerRef,r=Di(t,oV),n=LU(r,"onExited","in","enter","exit","appear");return _t("input",Bt({ref:e},n,{css:Iw({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var lV=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function cV(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,o=t.onTopLeave,i=D.useRef(!1),l=D.useRef(!1),c=D.useRef(0),d=D.useRef(null),u=D.useCallback(function(_,v){if(d.current!==null){var j=d.current,L=j.scrollTop,U=j.scrollHeight,M=j.clientHeight,q=d.current,y=v>0,R=U-M-L,A=!1;R>v&&i.current&&(n&&n(_),i.current=!1),y&&l.current&&(o&&o(_),l.current=!1),y&&v>R?(r&&!i.current&&r(_),q.scrollTop=U,A=!0,i.current=!0):!y&&-v>L&&(a&&!l.current&&a(_),q.scrollTop=0,A=!0,l.current=!0),A&&lV(_)}},[r,n,a,o]),h=D.useCallback(function(_){u(_,_.deltaY)},[u]),g=D.useCallback(function(_){c.current=_.changedTouches[0].clientY},[]),p=D.useCallback(function(_){var v=c.current-_.changedTouches[0].clientY;u(_,v)},[u]),w=D.useCallback(function(_){if(_){var v=PU?{passive:!1}:!1;_.addEventListener("wheel",h,v),_.addEventListener("touchstart",g,v),_.addEventListener("touchmove",p,v)}},[p,g,h]),b=D.useCallback(function(_){_&&(_.removeEventListener("wheel",h,!1),_.removeEventListener("touchstart",g,!1),_.removeEventListener("touchmove",p,!1))},[p,g,h]);return D.useEffect(function(){if(e){var _=d.current;return w(_),function(){b(_)}}},[e,w,b]),function(_){d.current=_}}var ak=["boxSizing","height","overflow","paddingRight","position"],sk={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ok(t){t.cancelable&&t.preventDefault()}function ik(t){t.stopPropagation()}function lk(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function ck(){return"ontouchstart"in window||navigator.maxTouchPoints}var dk=!!(typeof window<"u"&&window.document&&window.document.createElement),zu=0,Xc={capture:!1,passive:!1};function dV(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=D.useRef({}),o=D.useRef(null),i=D.useCallback(function(c){if(dk){var d=document.body,u=d&&d.style;if(n&&ak.forEach(function(w){var b=u&&u[w];a.current[w]=b}),n&&zu<1){var h=parseInt(a.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,p=window.innerWidth-g+h||0;Object.keys(sk).forEach(function(w){var b=sk[w];u&&(u[w]=b)}),u&&(u.paddingRight="".concat(p,"px"))}d&&ck()&&(d.addEventListener("touchmove",ok,Xc),c&&(c.addEventListener("touchstart",lk,Xc),c.addEventListener("touchmove",ik,Xc))),zu+=1}},[n]),l=D.useCallback(function(c){if(dk){var d=document.body,u=d&&d.style;zu=Math.max(zu-1,0),n&&zu<1&&ak.forEach(function(h){var g=a.current[h];u&&(u[h]=g)}),d&&ck()&&(d.removeEventListener("touchmove",ok,Xc),c&&(c.removeEventListener("touchstart",lk,Xc),c.removeEventListener("touchmove",ik,Xc)))}},[n]);return D.useEffect(function(){if(e){var c=o.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){o.current=c}}var uV=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},hV={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function fV(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,o=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,d=cV({isEnabled:a,onBottomArrive:o,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),u=dV({isEnabled:r}),h=function(p){d(p),u(p)};return _t(D.Fragment,null,r&&_t("div",{onClick:uV,css:hV}),e(h))}var pV={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},mV=function(e){var r=e.name,n=e.onFocus;return _t("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:pV,value:"",onChange:function(){}})},gV=mV;function Mw(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function yV(){return Mw(/^iPhone/i)}function YC(){return Mw(/^Mac/i)}function xV(){return Mw(/^iPad/i)||YC()&&navigator.maxTouchPoints>1}function bV(){return yV()||xV()}function vV(){return YC()||bV()}var wV=function(e){return e.label},kV=function(e){return e.label},jV=function(e){return e.value},NV=function(e){return!!e.isDisabled},SV={clearIndicator:iz,container:YU,control:pz,dropdownIndicator:sz,group:xz,groupHeading:vz,indicatorsContainer:ez,indicatorSeparator:cz,input:Nz,loadingIndicator:hz,loadingMessage:HU,menu:FU,menuList:UU,menuPortal:JU,multiValue:Az,multiValueLabel:Pz,multiValueRemove:Dz,noOptionsMessage:VU,option:Mz,placeholder:$z,singleValue:zz,valueContainer:QU},CV={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},_V=4,XC=4,EV=38,AV=XC*2,PV={baseUnit:XC,controlHeight:EV,menuGutter:AV},Cy={borderRadius:_V,colors:CV,spacing:PV},DV={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Z5(),captureMenuScroll:!Z5(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:sV(),formatGroupLabel:wV,getOptionLabel:kV,getOptionValue:jV,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:NV,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!EU(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function uk(t,e,r,n){var a=e6(t,e,r),o=t6(t,e,r),i=ZC(t,e),l=G0(t,e);return{type:"option",data:e,isDisabled:a,isSelected:o,label:i,value:l,index:n}}function Up(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return uk(t,i,e,l)}).filter(function(i){return fk(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var o=uk(t,r,e,n);return fk(t,o)?o:void 0}).filter(DU)}function QC(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,Nw(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function hk(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,Nw(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function IV(t,e){return QC(Up(t,e))}function fk(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,o=e.isSelected,i=e.label,l=e.value;return(!n6(t)||!o)&&r6(t,{label:i,value:l,data:a},n)}function LV(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var o=e.indexOf(r);if(o>-1)return r;if(a<e.length)return e[a]}return null}function RV(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var _y=function(e,r){var n,a=(n=e.find(function(o){return o.data===r}))===null||n===void 0?void 0:n.id;return a||null},ZC=function(e,r){return e.getOptionLabel(r)},G0=function(e,r){return e.getOptionValue(r)};function e6(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function t6(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=G0(t,e);return r.some(function(a){return G0(t,a)===n})}function r6(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var n6=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},TV=1,a6=function(t){Q$(r,t);var e=tq(r);function r(n){var a;if(Y$(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=vV(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,d){var u=a.props,h=u.onChange,g=u.name;d.name=g,a.ariaOnChange(c,d),h(c,d)},a.setValue=function(c,d,u){var h=a.props,g=h.closeMenuOnSelect,p=h.isMulti,w=h.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:w}),g&&(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:d,option:u})},a.selectOption=function(c){var d=a.props,u=d.blurInputOnSelect,h=d.isMulti,g=d.name,p=a.state.selectValue,w=h&&a.isOptionSelected(c,p),b=a.isOptionDisabled(c,p);if(w){var _=a.getOptionValue(c);a.setValue(p.filter(function(v){return a.getOptionValue(v)!==_}),"deselect-option",c)}else if(!b)h?a.setValue([].concat(Nw(p),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:g});return}u&&a.blurInput()},a.removeValue=function(c){var d=a.props.isMulti,u=a.state.selectValue,h=a.getOptionValue(c),g=u.filter(function(w){return a.getOptionValue(w)!==h}),p=gp(d,g,g[0]||null);a.onChange(p,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(gp(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,d=a.state.selectValue,u=d[d.length-1],h=d.slice(0,d.length-1),g=gp(c,h,h[0]||null);u&&a.onChange(g,{action:"pop-value",removedValue:u})},a.getFocusedOptionId=function(c){return _y(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return hk(Up(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];return jU.apply(void 0,[a.props.classNamePrefix].concat(d))},a.getOptionLabel=function(c){return ZC(a.props,c)},a.getOptionValue=function(c){return G0(a.props,c)},a.getStyles=function(c,d){var u=a.props.unstyled,h=SV[c](d,u);h.boxSizing="border-box";var g=a.props.styles[c];return g?g(h,d):h},a.getClassNames=function(c,d){var u,h;return(u=(h=a.props.classNames)[c])===null||u===void 0?void 0:u.call(h,d)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return Gz(a.props)},a.buildCategorizedOptions=function(){return Up(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return QC(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,d){a.setState({ariaSelection:Rt({value:c},d)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():d&&a.openMenu("first"):(d&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var d=a.props,u=d.isMulti,h=d.menuIsOpen;a.focusInput(),h?(a.setState({inputIsHiddenAfterUpdate:!u}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&ag(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var d=c.touches,u=d&&d.item(0);u&&(a.initialTouchX=u.clientX,a.initialTouchY=u.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var d=c.touches,u=d&&d.item(0);if(u){var h=Math.abs(u.clientX-a.initialTouchX),g=Math.abs(u.clientY-a.initialTouchY),p=5;a.userIsDragging=h>p||g>p}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var d=a.props.inputValue,u=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(u,{action:"input-change",prevInputValue:d}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var d=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:d}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var d=a.getFocusableOptions(),u=d.indexOf(c);a.setState({focusedOption:c,focusedOptionId:u>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return n6(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var d=a.props,u=d.isMulti,h=d.backspaceRemovesValue,g=d.escapeClearsValue,p=d.inputValue,w=d.isClearable,b=d.isDisabled,_=d.menuIsOpen,v=d.onKeyDown,j=d.tabSelectsValue,L=d.openMenuOnFocus,U=a.state,M=U.focusedOption,q=U.focusedValue,y=U.selectValue;if(!b&&!(typeof v=="function"&&(v(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!u||p)return;a.focusValue("previous");break;case"ArrowRight":if(!u||p)return;a.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(q)a.removeValue(q);else{if(!h)return;u?a.popValue():w&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!_||!j||!M||L&&a.isOptionSelected(M,y))return;a.selectOption(M);break;case"Enter":if(c.keyCode===229)break;if(_){if(!M||a.isComposing)return;a.selectOption(M);break}return;case"Escape":_?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:p}),a.onMenuClose()):w&&g&&a.clearValue();break;case" ":if(p)return;if(!_){a.openMenu("first");break}if(!M)return;a.selectOption(M);break;case"ArrowUp":_?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":_?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!_)return;a.focusOption("pageup");break;case"PageDown":if(!_)return;a.focusOption("pagedown");break;case"Home":if(!_)return;a.focusOption("first");break;case"End":if(!_)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++TV),a.state.selectValue=X5(n.value),n.menuIsOpen&&a.state.selectValue.length){var o=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=o,a.state.focusedOption=i[l],a.state.focusedOptionId=_y(o,i[l])}return a}return X$(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Q5(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isDisabled,l=o.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Q5(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,o){this.props.onInputChange(a,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var o=this,i=this.state,l=i.selectValue,c=i.isFocused,d=this.buildFocusableOptions(),u=a==="first"?0:d.length-1;if(!this.props.isMulti){var h=d.indexOf(l[0]);h>-1&&(u=h)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[u],focusedOptionId:this.getFocusedOptionId(d[u])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(a){var o=this.state,i=o.selectValue,l=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var d=i.length-1,u=-1;if(i.length){switch(a){case"previous":c===0?u=0:c===-1?u=d:u=c-1;break;case"next":c>-1&&c<d&&(u=c+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,d=l.indexOf(i);i||(d=-1),a==="up"?c=d>0?d-1:l.length-1:a==="down"?c=(d+1)%l.length:a==="pageup"?(c=d-o,c<0&&(c=0)):a==="pagedown"?(c=d+o,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Cy):Rt(Rt({},Cy),this.props.theme):Cy}},{key:"getCommonProps",value:function(){var a=this.clearValue,o=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,d=this.selectOption,u=this.setValue,h=this.props,g=h.isMulti,p=h.isRtl,w=h.options,b=this.hasValue();return{clearValue:a,cx:o,getStyles:i,getClassNames:l,getValue:c,hasValue:b,isMulti:g,isRtl:p,options:w,selectOption:d,selectProps:h,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,o=a.isClearable,i=a.isMulti;return o===void 0?i:o}},{key:"isOptionDisabled",value:function(a,o){return e6(this.props,a,o)}},{key:"isOptionSelected",value:function(a,o){return t6(this.props,a,o)}},{key:"filterOption",value:function(a,o){return r6(this.props,a,o)}},{key:"formatOptionLabel",value:function(a,o){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:o,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,o=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,d=a.tabIndex,u=a.form,h=a.menuIsOpen,g=a.required,p=this.getComponents(),w=p.Input,b=this.state,_=b.inputIsHidden,v=b.ariaSelection,j=this.commonProps,L=l||this.getElementId("input"),U=Rt(Rt(Rt({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?D.createElement(w,Bt({},j,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:L,innerRef:this.getInputRef,isDisabled:o,isHidden:_,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:u,type:"text",value:c},U)):D.createElement(iV,Bt({id:L,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:H0,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:u,value:""},U))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,o=this.getComponents(),i=o.MultiValue,l=o.MultiValueContainer,c=o.MultiValueLabel,d=o.MultiValueRemove,u=o.SingleValue,h=o.Placeholder,g=this.commonProps,p=this.props,w=p.controlShouldRenderValue,b=p.isDisabled,_=p.isMulti,v=p.inputValue,j=p.placeholder,L=this.state,U=L.selectValue,M=L.focusedValue,q=L.isFocused;if(!this.hasValue()||!w)return v?null:D.createElement(h,Bt({},g,{key:"placeholder",isDisabled:b,isFocused:q,innerProps:{id:this.getElementId("placeholder")}}),j);if(_)return U.map(function(R,A){var P=R===M,x="".concat(a.getOptionLabel(R),"-").concat(a.getOptionValue(R));return D.createElement(i,Bt({},g,{components:{Container:l,Label:c,Remove:d},isFocused:P,isDisabled:b,key:x,index:A,removeProps:{onClick:function(){return a.removeValue(R)},onTouchEnd:function(){return a.removeValue(R)},onMouseDown:function(E){E.preventDefault()}},data:R}),a.formatOptionLabel(R,"value"))});if(v)return null;var y=U[0];return D.createElement(u,Bt({},g,{data:y,isDisabled:b}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),o=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,u=this.state.isFocused;if(!this.isClearable()||!o||c||!this.hasValue()||d)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return D.createElement(o,Bt({},i,{innerProps:h,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),o=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,u=this.state.isFocused;if(!o||!d)return null;var h={"aria-hidden":"true"};return D.createElement(o,Bt({},i,{innerProps:h,isDisabled:c,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator,i=a.IndicatorSeparator;if(!o||!i)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return D.createElement(i,Bt({},l,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator;if(!o)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return D.createElement(o,Bt({},i,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,o=this.getComponents(),i=o.Group,l=o.GroupHeading,c=o.Menu,d=o.MenuList,u=o.MenuPortal,h=o.LoadingMessage,g=o.NoOptionsMessage,p=o.Option,w=this.commonProps,b=this.state.focusedOption,_=this.props,v=_.captureMenuScroll,j=_.inputValue,L=_.isLoading,U=_.loadingMessage,M=_.minMenuHeight,q=_.maxMenuHeight,y=_.menuIsOpen,R=_.menuPlacement,A=_.menuPosition,P=_.menuPortalTarget,x=_.menuShouldBlockScroll,k=_.menuShouldScrollIntoView,E=_.noOptionsMessage,C=_.onMenuScrollToTop,z=_.onMenuScrollToBottom;if(!y)return null;var V=function(J,ee){var le=J.type,ue=J.data,de=J.isDisabled,be=J.isSelected,me=J.label,ve=J.value,Le=b===ue,Te=de?void 0:function(){return a.onOptionHover(ue)},We=de?void 0:function(){return a.selectOption(ue)},ct="".concat(a.getElementId("option"),"-").concat(ee),Fe={id:ct,onClick:We,onMouseMove:Te,onMouseOver:Te,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:be};return D.createElement(p,Bt({},w,{innerProps:Fe,data:ue,isDisabled:de,isSelected:be,key:ct,label:me,type:le,value:ve,isFocused:Le,innerRef:Le?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(J.data,"menu"))},K;if(this.hasOptions())K=this.getCategorizedOptions().map(function(T){if(T.type==="group"){var J=T.data,ee=T.options,le=T.index,ue="".concat(a.getElementId("group"),"-").concat(le),de="".concat(ue,"-heading");return D.createElement(i,Bt({},w,{key:ue,data:J,options:ee,Heading:l,headingProps:{id:de,data:T.data},label:a.formatGroupLabel(T.data)}),T.options.map(function(be){return V(be,"".concat(le,"-").concat(be.index))}))}else if(T.type==="option")return V(T,"".concat(T.index))});else if(L){var W=U({inputValue:j});if(W===null)return null;K=D.createElement(h,w,W)}else{var B=E({inputValue:j});if(B===null)return null;K=D.createElement(g,w,B)}var G={minMenuHeight:M,maxMenuHeight:q,menuPlacement:R,menuPosition:A,menuShouldScrollIntoView:k},X=D.createElement(BU,Bt({},w,G),function(T){var J=T.ref,ee=T.placerProps,le=ee.placement,ue=ee.maxHeight;return D.createElement(c,Bt({},w,G,{innerRef:J,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:L,placement:le}),D.createElement(fV,{captureEnabled:v,onTopArrive:C,onBottomArrive:z,lockEnabled:x},function(de){return D.createElement(d,Bt({},w,{innerRef:function(me){a.getMenuListRef(me),de(me)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:a.getElementId("listbox")},isLoading:L,maxHeight:ue,focusedOption:b}),K)}))});return P||A==="fixed"?D.createElement(u,Bt({},w,{appendTo:P,controlElement:this.controlRef,menuPlacement:R,menuPosition:A}),X):X}},{key:"renderFormField",value:function(){var a=this,o=this.props,i=o.delimiter,l=o.isDisabled,c=o.isMulti,d=o.name,u=o.required,h=this.state.selectValue;if(u&&!this.hasValue()&&!l)return D.createElement(gV,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(c)if(i){var g=h.map(function(b){return a.getOptionValue(b)}).join(i);return D.createElement("input",{name:d,type:"hidden",value:g})}else{var p=h.length>0?h.map(function(b,_){return D.createElement("input",{key:"i-".concat(_),name:d,type:"hidden",value:a.getOptionValue(b)})}):D.createElement("input",{name:d,type:"hidden",value:""});return D.createElement("div",null,p)}else{var w=h[0]?this.getOptionValue(h[0]):"";return D.createElement("input",{name:d,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,o=this.state,i=o.ariaSelection,l=o.focusedOption,c=o.focusedValue,d=o.isFocused,u=o.selectValue,h=this.getFocusableOptions();return D.createElement(tV,Bt({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:d,selectValue:u,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),o=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,d=this.props,u=d.className,h=d.id,g=d.isDisabled,p=d.menuIsOpen,w=this.state.isFocused,b=this.commonProps=this.getCommonProps();return D.createElement(l,Bt({},b,{className:u,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:w}),this.renderLiveRegion(),D.createElement(o,Bt({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:w,menuIsOpen:p}),D.createElement(c,Bt({},b,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),D.createElement(i,Bt({},b,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,o){var i=o.prevProps,l=o.clearFocusValueOnUpdate,c=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,u=o.isFocused,h=o.prevWasFocused,g=o.instancePrefix,p=a.options,w=a.value,b=a.menuIsOpen,_=a.inputValue,v=a.isMulti,j=X5(w),L={};if(i&&(w!==i.value||p!==i.options||b!==i.menuIsOpen||_!==i.inputValue)){var U=b?IV(a,j):[],M=b?hk(Up(a,j),"".concat(g,"-option")):[],q=l?LV(o,j):null,y=RV(o,U),R=_y(M,y);L={selectValue:j,focusedOption:y,focusedOptionId:R,focusableOptionsWithIds:M,focusedValue:q,clearFocusValueOnUpdate:!1}}var A=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},P=d,x=u&&h;return u&&!x&&(P={value:gp(v,j,j[0]||null),options:j,action:"initial-input-focus"},x=!h),(d==null?void 0:d.action)==="initial-input-focus"&&(P=null),Rt(Rt(Rt({},L),A),{},{prevProps:a,ariaSelection:P,prevWasFocused:x})}}]),r}(D.Component);a6.defaultProps=DV;var OV=D.forwardRef(function(t,e){var r=K$(t);return D.createElement(a6,Bt({ref:e},r))}),Fw=OV;const MV=[],FV=["RECEITA BRUTA","FINANCEIRA","DESPESAS","RECEITA FINANCEIRA","OUTRAS RECEITAS"].map(t=>t.trim().toUpperCase());function s6({isOpen:t,onClose:e,onSuccess:r,statement:n,defaultStatus:a}){const[o,i]=D.useState(!1),[l,c]=D.useState(null),[d,u]=D.useState([]),[h,g]=D.useState([]),p=D.useRef(null),[w,b]=D.useState(null),[_,v]=D.useState(!1),[j,L]=D.useState({type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null});D.useEffect(()=>{if(t){U();const P=new Date().toISOString().split("T")[0];if(n){let x=n.value.toString();x.includes(".")||(x+=".00"),x.includes(".")&&x.split(".")[1].length===1&&(x+="0");const k=x.replace(/\D/g,"");L(E=>({...E,description:"",value:k,transactionDate:n.transaction_date,valueDate:n.value_date,bankAccountId:n.bank_account_id,categoryId:"",beneficiary:n.description,document:n.document,attachment:null,type:n.type,status:a||"REGISTERED"}))}else L(x=>({...x,transactionDate:P,valueDate:P,value:"0",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null}));b(null)}},[t]);const U=async()=>{try{const[P,x]=await Promise.all([Ee.from("financial_categories").select("*").eq("active",!0),Ee.from("bank_accounts").select("*").eq("active",!0)]);if(P.error)throw P.error;if(x.error)throw x.error;u(P.data||[]),g(x.data||[])}catch(P){console.error("Error loading data:",P),c("Erro ao carregar dados")}},M=P=>{const x=P.replace(/\D/g,"")||"0";return(parseInt(x,10)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},q=P=>{const x=P.target.value.replace(/\D/g,"");L(k=>({...k,value:x}))},y=P=>{var k;const x=((k=P.target.files)==null?void 0:k[0])||null;if(L(E=>({...E,attachment:x})),!x){b(null);return}x.type.startsWith("image/")?b(URL.createObjectURL(x)):b("")},R=async P=>{P.preventDefault(),i(!0),c(null),v(!1);try{const x=localStorage.getItem("userId");let k=null;if(j.attachment){const C=j.attachment.name.split(".").pop(),V=`bank-statements/${`${Math.random().toString(36).substring(2)}.${C}`}`,{error:K}=await Ee.storage.from("attachments").upload(V,j.attachment);if(K)throw K;const{data:{publicUrl:W}}=Ee.storage.from("attachments").getPublicUrl(V);k=W}const{error:E}=await Ee.from("bank_statements").insert([{type:j.type,description:j.description||"-",value:parseFloat(j.value)/100,transaction_date:j.transactionDate,value_date:j.valueDate,bank_account_id:j.bankAccountId,category_id:j.categoryId||null,beneficiary:j.beneficiary||null,document:j.document||null,attachment_url:k,status:a??"PENDING",created_by_id:x}]);if(E)throw E;L({type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null}),b(null),r(),e()}catch(x){console.error("Error creating bank statement:",x),c("Erro ao criar lanamento bancrio")}finally{i(!1)}},A=Ar.useMemo(()=>d.filter(x=>j.type==="CREDIT"?x.type==="REVENUE"||x.type==="BOTH":x.type==="EXPENSE"||x.type==="BOTH").filter(x=>{const k=MV.includes(x.id),E=FV.includes((x.name||"").trim().toUpperCase());return!k&&!E}),[d,j.type]);return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Lanamento Bancrio"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:R,className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex flex-row gap-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Tipo de Lanamento:"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CREDIT",checked:j.type==="CREDIT",onChange:P=>L(x=>({...x,type:P.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Entrada"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"DEBIT",checked:j.type==="DEBIT",onChange:P=>L(x=>({...x,type:P.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Sada"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:M(j.value),onChange:q,className:`w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 focus:ring-2 focus:ring-primary-500 focus:border-transparent ${j.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Lanamento"}),s.jsx("input",{type:"date",value:j.transactionDate,onChange:P=>L(x=>({...x,transactionDate:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Competncia"}),s.jsx("input",{type:"date",value:j.valueDate,onChange:P=>L(x=>({...x,valueDate:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx(Fw,{options:A.map(P=>({value:P.id,label:P.name})),value:(()=>{const P=typeof j.categoryId=="string"&&Number(j.categoryId)||j.categoryId,x=A.find(k=>k.id===P);return x?{value:x.id,label:x.name}:null})(),onChange:P=>L(x=>({...x,categoryId:(P==null?void 0:P.value)??""})),placeholder:"Selecione uma categoria",isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:j.bankAccountId,onChange:P=>L(x=>({...x,bankAccountId:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),h.map(P=>s.jsxs("option",{value:P.id,children:[P.name," - ",P.bank," ",P.branch,"/",P.account]},P.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("input",{type:"text",value:j.beneficiary,onChange:P=>L(x=>({...x,beneficiary:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do beneficirio ou cliente"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:j.description,onChange:P=>L(x=>({...x,description:P.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio do lanamento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Documento"}),s.jsx("input",{type:"text",value:j.document,onChange:P=>L(x=>({...x,document:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do documento (opcional)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Anexo"}),j.attachment&&s.jsx("div",{className:"mb-4",children:j.attachment.type.startsWith("image/")?s.jsx("img",{src:w,alt:"Preview",className:"w-[150px] h-[150px] object-cover rounded border border-secondary-300"}):s.jsx("div",{className:"w-[150px] h-[150px] flex items-center justify-center border border-secondary-300 rounded bg-secondary-50 dark:bg-secondary-900 text-secondary-700 dark:text-secondary-300 text-center p-2",children:s.jsx("span",{className:"text-xs break-words",children:j.attachment.name})})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var P;return(P=p.current)==null?void 0:P.click()},className:`flex items-center justify-center px-4 py-2 rounded-lg transition-colors ${_?"bg-red-100 text-red-700 border border-red-500":"bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-200 dark:hover:bg-secondary-700"}`,children:[s.jsx(Pl,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]})}),_&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:"O anexo  obrigatrio."}),s.jsx("input",{ref:p,type:"file",onChange:P=>{y(P),v(!1)},className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.xlsx"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Lanamento"})]})]})]})}):null}function BV({isOpen:t,onClose:e,onSuccess:r,statement:n}){var A;const[a,o]=D.useState(!1),[i,l]=D.useState(null),[c,d]=D.useState(null),[u,h]=D.useState([]),g=D.useRef(null),[p,w]=D.useState([]),[b,_]=D.useState([]),[v,j]=D.useState({id:"",type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachments:[],attachmentUrl:""});D.useEffect(()=>{if(t){L();const P=new Date().toISOString().split("T")[0];j(x=>({...x,id:(n==null?void 0:n.id)||"",type:(n==null?void 0:n.type)||"CREDIT",description:(n==null?void 0:n.description)||"",value:n!=null&&n.value?""+n.value:"",transactionDate:(n==null?void 0:n.transaction_date)||P,valueDate:(n==null?void 0:n.value_date)||P,bankAccountId:(n==null?void 0:n.bank_account_id)||"",categoryId:(n==null?void 0:n.category_id)||"",beneficiary:(n==null?void 0:n.beneficiary)||"",document:(n==null?void 0:n.document)||"",attachments:[],attachmentUrl:(n==null?void 0:n.attachment_url)||""})),n!=null&&n.attachment_url&&d(n.attachment_url)}},[t]),D.useEffect(()=>{t||(u.forEach(P=>{P&&URL.revokeObjectURL(P)}),h([]))},[t]);const L=async()=>{try{const[P,x]=await Promise.all([Ee.from("financial_categories").select("*").eq("active",!0),Ee.from("bank_accounts").select("*").eq("active",!0)]);if(P.error)throw P.error;if(x.error)throw x.error;w(P.data||[]),_(x.data||[])}catch(P){console.error("Error loading data:",P),l("Erro ao carregar dados")}},U=P=>{const x=typeof P=="string"?parseFloat(P)||0:P;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x)},M=P=>{let x=P.target.value.replace(/\D/g,"");x===""&&(x="0");const k=parseInt(x)/100;j(E=>({...E,value:k.toString()}))},q=P=>{j(x=>({...x,attachments:x.attachments.filter((k,E)=>E!==P)})),h(x=>x.filter((k,E)=>E!==P))},y=async P=>{const x=Array.from(P.target.files||[]);if(x.length===0)return;const k=x.filter(E=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(E.type)?E.size>5242880?(l("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(l("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(k.length>0){l(null),j(C=>({...C,attachments:[...C.attachments,...k]}));const E=k.map(C=>C.type.startsWith("image/")?URL.createObjectURL(C):"");h(C=>[...C,...E])}},R=async P=>{P.preventDefault(),o(!0),l(null);try{const x=localStorage.getItem("userId");let k=v.attachments.length?null:n.attachment_url;if(v.attachments.length){const z=v.attachments[0],V=z.name.split(".").pop(),W=`bank-statements/${`${Math.random().toString(36).substring(2)}.${V}`}`,{error:B}=await Ee.storage.from("attachments").upload(W,z);if(B)throw B;const{data:{publicUrl:G}}=Ee.storage.from("attachments").getPublicUrl(W);k=G}const E={type:v.type,description:v.description,value:parseFloat(v.value),transaction_date:v.transactionDate,value_date:v.valueDate,bank_account_id:v.bankAccountId,category_id:v.categoryId||null,beneficiary:v.beneficiary||null,document:v.document||null,attachment_url:k||null,status:"PENDING",created_by_id:x},{error:C}=await Ee.from("bank_statements").update(E).eq("id",v.id);if(C)throw C;j({id:"",type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachments:[],attachmentUrl:""}),r(),e()}catch(x){console.error("Error updating bank statement:",x),l("Erro ao atualizar lanamento bancrio")}finally{o(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Visualizar Lanamento Bancrio"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:R,className:"p-4 sm:p-6",children:[i&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:i})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex flex-row gap-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Tipo de Lanamento:"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CREDIT",checked:v.type==="CREDIT",onChange:P=>j(x=>({...x,type:P.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Entrada"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"DEBIT",checked:v.type==="DEBIT",onChange:P=>j(x=>({...x,type:P.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Sada"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:U(v.value),onChange:M,className:`w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 focus:ring-2 focus:ring-primary-500 focus:border-transparent ${v.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Lanamento"}),s.jsx("input",{type:"date",value:v.transactionDate,onChange:P=>j(x=>({...x,transactionDate:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Competncia"}),s.jsx("input",{type:"date",value:v.valueDate,onChange:P=>j(x=>({...x,valueDate:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx(Fw,{options:p.filter(P=>v.type==="CREDIT"?P.type==="REVENUE"||P.type==="BOTH":P.type==="EXPENSE"||P.type==="BOTH").map(P=>({value:P.id,label:P.name})),value:p.filter(P=>P.id===v.categoryId).map(P=>({value:P.id,label:P.name}))[0]||null,onChange:P=>j(x=>({...x,categoryId:(P==null?void 0:P.value)||""})),placeholder:"Selecione uma categoria",isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:v.bankAccountId,onChange:P=>j(x=>({...x,bankAccountId:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),b.map(P=>s.jsxs("option",{value:P.id,children:[P.name," - ",P.bank," ",P.branch,"/",P.account]},P.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("input",{type:"text",value:v.beneficiary,onChange:P=>j(x=>({...x,beneficiary:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do beneficirio ou cliente"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:v.description,onChange:P=>j(x=>({...x,description:P.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio do lanamento",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Documento"}),s.jsx("input",{type:"text",value:v.document,onChange:P=>j(x=>({...x,document:P.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do documento (opcional)"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:v.attachmentUrl?s.jsx("a",{href:v.attachmentUrl,target:"_blank",rel:"noreferrer",children:"Ver anexo atual"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:(A=v.attachments)==null?void 0:A.map((P,x)=>s.jsxs("div",{className:"relative",children:[u!=null&&u[x]?s.jsx("img",{src:u[x],alt:`Preview ${x+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:P.name})}),s.jsx("button",{type:"button",onClick:()=>q(x),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Vt,{className:"h-4 w-4"})})]},x))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var P;return(P=g.current)==null?void 0:P.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Si,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:g,type:"file",onChange:y,className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.xlsx"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:a,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:a,children:a?"Salvando...":"Salvar Lanamento"})]})]})]})}):null}function $V({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState(!1),[o,i]=D.useState(null),[l,c]=D.useState([]),[d,u]=D.useState(""),[h,g]=D.useState({sourceAccountId:"",destinationAccountId:"",value:"",date:new Date().toISOString().split("T")[0],description:"",transferType:"PIX"});D.useEffect(()=>{t&&p()},[t]);const p=async()=>{try{const{data:v,error:j}=await Ee.from("bank_accounts").select("*").eq("active",!0).order("name");if(j)throw j;c(v||[])}catch(v){console.error("Error loading bank accounts:",v),i("Erro ao carregar contas bancrias")}},w=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(v)),b=v=>{let j=v.target.value.replace(/\D/g,"");j===""&&(j="0");const L=parseInt(j)/100;g(U=>({...U,value:L.toString()}))},_=async v=>{v.preventDefault(),a(!0),i(null);try{if(!d||d.length!==6)throw new Error("Por favor, insira um cdigo de autenticao vlido");const j=localStorage.getItem("userId"),L=await Sl.checkGoogleAuth({userId:j||"",google_auth_code:d});if(L.error)throw new Error(L.message);if(h.sourceAccountId===h.destinationAccountId)throw new Error("As contas de origem e destino devem ser diferentes");if(parseFloat(h.value)<=0)throw new Error("O valor da transferncia deve ser maior que zero");const U=l.find(y=>y.id===h.sourceAccountId),M=l.find(y=>y.id===h.destinationAccountId);if(!U||!M)throw new Error("Conta bancria no encontrada");const q=await Sl.createBankTransfer({sourceAccountId:h.sourceAccountId,destinationAccountId:h.destinationAccountId,value:parseFloat(h.value),date:h.date,description:h.description,transferType:h.transferType,userId:j||""});if(q.error)throw new Error(q.error);r(),e()}catch(j){console.error("Error creating bank transfer:",j),i(j instanceof Error?j.message:"Erro ao realizar transferncia")}finally{a(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Transferncia Entre Contas"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:_,className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 items-center",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta de Origem"}),s.jsxs("select",{value:h.sourceAccountId,onChange:v=>g(j=>({...j,sourceAccountId:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),l.map(v=>s.jsxs("option",{value:v.id,disabled:v.id===h.destinationAccountId,children:[v.name," - ",v.bank," ",v.branch,"/",v.account]},v.id))]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(v4,{className:"h-6 w-6 text-secondary-400"})}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta de Destino"}),s.jsxs("select",{value:h.destinationAccountId,onChange:v=>g(j=>({...j,destinationAccountId:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),l.map(v=>s.jsxs("option",{value:v.id,disabled:v.id===h.sourceAccountId,children:[v.name," - ",v.bank," ",v.branch,"/",v.account]},v.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor da Transferncia"}),s.jsx("input",{type:"text",value:w(h.value),onChange:b,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Transferncia"}),s.jsx("input",{disabled:!0,type:"date",value:h.date,onChange:v=>g(j=>({...j,date:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:h.description,onChange:v=>g(j=>({...j,description:v.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio da transferncia (opcional)"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:d,onChange:v=>u(v.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:v=>{var j;v.key==="Enter"&&((j=document.getElementById("transfer-button"))==null||j.click())},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",maxLength:6,required:!0})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"submit",id:"transfer-button",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n,children:n?"Transferindo...":"Realizar Transferncia"})]})]})]})}):null}async function pk(t){try{const e=[],r=t.match(/<BANKTRANLIST>[\s\S]*?<\/BANKTRANLIST>/);if(!r)throw new Error("Nenhuma transao encontrada no arquivo");const n=r[0].match(/<STMTTRN>[\s\S]*?<\/STMTTRN>/g);if(!n)throw new Error("Nenhuma transao encontrada no arquivo");for(const a of n){const o=a.match(/<DTPOSTED>(.*?)</);if(!o)continue;const i=qV(o[1]),l=a.match(/<TRNAMT>(.*?)</);if(!l)continue;const c=parseFloat(l[1]),d=a.match(/<MEMO>(.*?)</),u=a.match(/<NAME>(.*?)</),h=((d==null?void 0:d[1])||(u==null?void 0:u[1])||"").trim(),g=a.match(/<CHECKNUM>(.*?)</),p=g==null?void 0:g[1];e.push({date:i,type:c>=0?"CREDIT":"DEBIT",value:Math.abs(c),description:h,document:p})}return e}catch(e){throw console.error("Error parsing OFX:",e),new Error("Erro ao processar arquivo OFX. Verifique se o arquivo est no formato correto.")}}function qV(t){const e=t.substring(0,8),r=e.slice(0,4),n=e.slice(4,6),a=e.slice(6,8);return`${r}-${n}-${a}`}function UV({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState(!1),[o,i]=D.useState(null),[l,c]=D.useState([]),[d,u]=D.useState(null),[h,g]=D.useState(""),[p,w]=D.useState([]),b=D.useRef(null);D.useEffect(()=>{t?_():(u(null),g(""),w([]),i(null))},[t]);const _=async()=>{try{const{data:y,error:R}=await Ee.from("bank_accounts").select("*").eq("active",!0).order("name");if(R)throw R;c(y||[])}catch(y){console.error("Error loading bank accounts:",y),i("Erro ao carregar contas bancrias")}},v=async y=>{const R=y.target.files;if(!R||R.length===0)return;const A=R[0];if(!A.name.toLowerCase().endsWith(".ofx")){i("O arquivo deve estar no formato OFX");return}u(A),i(null);const P=new FileReader;P.onload=async x=>{var E;const k=(E=x.target)==null?void 0:E.result;if(!k){i("Erro ao ler arquivo");return}try{const C=await pk(k);w(C)}catch(C){console.error("Error parsing OFX:",C),i(C instanceof Error?C.message:"Erro ao processar arquivo OFX"),u(null),w([])}},P.onerror=()=>{i("Erro ao ler arquivo"),u(null),w([])},P.readAsText(A)},j=y=>{y.preventDefault(),y.stopPropagation()},L=async y=>{y.preventDefault(),y.stopPropagation();const R=y.dataTransfer.files;if(!R||R.length===0)return;const A=R[0];if(!A.name.toLowerCase().endsWith(".ofx")){i("O arquivo deve estar no formato OFX");return}u(A),i(null);const P=new FileReader;P.onload=async x=>{var E;const k=(E=x.target)==null?void 0:E.result;if(!k){i("Erro ao ler arquivo");return}try{const C=await pk(k);w(C)}catch(C){console.error("Error parsing OFX:",C),i(C instanceof Error?C.message:"Erro ao processar arquivo OFX"),u(null),w([])}},P.onerror=()=>{i("Erro ao ler arquivo"),u(null),w([])},P.readAsText(A)},U=async()=>{if(!(!d||!h||p.length===0)){a(!0),i(null);try{const{data:{user:y},error:R}=await Ee.auth.getUser();if(R)throw R;if(!y)throw new Error("Usurio no autenticado");const A=p.map(x=>({bank_account_id:h,transaction_date:x.date,value_date:x.date,type:x.type,description:x.description,document:x.document,value:x.value,status:"REGISTERED",created_by_id:y.id})),{error:P}=await Ee.from("bank_statements").insert(A);if(P)throw P;r(),e()}catch(y){console.error("Error importing transactions:",y),i("Erro ao importar transaes")}finally{a(!1)}}},M=(y,R)=>{const A=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(y));return R==="DEBIT"?`-${A}`:A},q=y=>new Date(y).toLocaleDateString("pt-BR");return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Importar Arquivo OFX"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:h,onChange:y=>g(y.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),l.map(y=>s.jsxs("option",{value:y.id,children:[y.name," - ",y.bank," ",y.branch,"/",y.account]},y.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Arquivo OFX"}),d?s.jsxs("div",{className:"mb-4 flex items-center justify-between p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Si,{className:"h-5 w-5 text-secondary-400 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:d.name})]}),s.jsx("button",{type:"button",onClick:()=>{u(null),w([])},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Vt,{className:"h-5 w-5"})})]}):s.jsxs("div",{onDragOver:j,onDrop:L,onClick:()=>{var y;return(y=b.current)==null?void 0:y.click()},className:"border-2 border-dashed border-secondary-200 dark:border-secondary-700 rounded-lg p-6 text-center cursor-pointer hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx(Si,{className:"h-8 w-8 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Clique para selecionar ou arraste o arquivo OFX aqui"})]}),s.jsx("input",{ref:b,type:"file",onChange:v,accept:".ofx",className:"hidden"})]}),p.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Transaes Encontradas"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Documento"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:p.map((y,R)=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:q(y.date)}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:y.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:y.document||"---"}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium text-right ${y.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:M(y.value,y.type)})]},R))})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:U,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||!d||!h||p.length===0,children:n?"Importando...":"Confirmar Importao"})]})]})]})}):null}function zV(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(!1),[i,l]=D.useState(!1),[c,d]=D.useState(null),[u,h]=D.useState("all"),[g,p]=D.useState(""),[w,b]=D.useState([]),[_,v]=D.useState([]),[j,L]=D.useState(!0),[U,M]=D.useState(null),[q,y]=D.useState(!1),[R,A]=D.useState({dateRange:{start:"",end:""},bankAccountId:"",type:"",categoryId:"",status:""}),[P,x]=D.useState(!1),[k,E]=D.useState(1),C=10;D.useEffect(()=>{E(1),z()},[R,u]);const z=async()=>{try{L(!0);const[me,ve]=await Promise.all([Ee.from("bank_accounts").select("*").eq("active",!0).order("name"),Ee.from("bank_statements_with_details").select("*").order("transaction_date",{ascending:!1})]);if(me.error)throw me.error;if(ve.error)throw ve.error;console.log("Statements data:",ve.data),b(me.data||[]),v(ve.data||[]),M(null)}catch(me){console.error("Error loading data:",me),M("Erro ao carregar dados")}finally{L(!1)}},V=me=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(me),K=w.map(me=>{const Le=_.filter(Te=>Te.bank_account_id===me.id).reduce((Te,We)=>Te+(We.type==="CREDIT"?We.value:-We.value),0);return{id:me.id,name:me.name,bank:me.bank,balance:Le,branch:me.branch,account:me.account}}),W=_.filter(me=>{var rt,Je,et;const ve=g.toLowerCase(),Le=((rt=me.description)==null?void 0:rt.toLowerCase().includes(ve))||((Je=me.beneficiary)==null?void 0:Je.toLowerCase().includes(ve))||((et=me.document)==null?void 0:et.toLowerCase().includes(ve)),Te=(!R.dateRange.start||new Date(me.transaction_date)>=new Date(R.dateRange.start))&&(!R.dateRange.end||new Date(me.transaction_date)<=new Date(R.dateRange.end)),We=!R.bankAccountId||me.bank_account_id===R.bankAccountId,ct=!R.type||me.type===R.type,Fe=!R.categoryId||me.category_id===R.categoryId,ge=!R.status||me.status===R.status,yt=u==="all"||u==="debits"&&me.type==="DEBIT"||u==="credits"&&me.type==="CREDIT";return Le&&Te&&We&&ct&&Fe&&ge&&yt}),B=Math.ceil(W.length/C),G=W.slice((k-1)*C,k*C),[X,T]=D.useState(!1),[J,ee]=D.useState(null),[le,ue]=D.useState(!1),de=async me=>{ee(me),T(!0)},be=async()=>{if(J){ue(!0),M(null);try{const{error:me}=await Ee.from("bank_statements").delete().eq("id",J.id);if(me)throw me;v(ve=>ve.filter(Le=>Le.id!==J.id)),T(!1),ee(null)}catch(me){console.error("Erro ao excluir o lanamento:",me),M(me.message||"Ocorreu um erro ao excluir o lanamento")}finally{ue(!1)}}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[U&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:U}),s.jsx("button",{onClick:()=>M(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Extrato Bancrio"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Visualize e gerencie todas as movimentaes bancrias"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(TD,{className:"h-5 w-5"}),s.jsx("span",{children:"Transferir"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Lanamento"})]})]})]}),s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 mb-6",children:K.map(me=>s.jsxs("div",{className:"flex-shrink-0 w-52 bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:me.name}),s.jsx(kc,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:`text-2xl font-semibold ${me.balance>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:V(me.balance)}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:me.bank}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[me.branch,"/",me.account]})]},me.id))}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por descrio, beneficirio ou documento...",value:g,onChange:me=>{p(me.target.value),E(1)},className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:R.dateRange.start,onChange:me=>A(ve=>({...ve,dateRange:{...ve.dateRange,start:me.target.value}})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:R.dateRange.end,onChange:me=>A(ve=>({...ve,dateRange:{...ve.dateRange,end:me.target.value}})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})]})]})}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>h("all"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="all"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Geral"}),s.jsx("button",{onClick:()=>h("debits"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="debits"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Sadas"}),s.jsx("button",{onClick:()=>h("credits"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="credits"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Entradas"})]})}),j?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs("div",{children:[s.jsx(U$,{handleDelete:de,statements:G,onView:me=>{console.log("View statement:",me),d(me),l(!0)},onEdit:me=>{d(me),l(!0)},onDelete:me=>{console.log("Delete statement:",me)}}),s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("p",{className:"text-sm text-secondary-700 dark:text-secondary-400",children:["Mostrando ",(k-1)*C+1," at ",Math.min(k*C,W.length)," de ",W.length," registros"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(me=>Math.max(1,me-1)),disabled:k===1,className:`px-3 py-1 text-sm font-medium rounded-md border border-secondary-200 dark:border-secondary-600 \r
                           text-secondary-700 dark:text-secondary-300 \r
                           disabled:opacity-50 disabled:cursor-not-allowed\r
                           hover:bg-secondary-50 dark:hover:bg-secondary-700`,children:"Anterior"}),s.jsxs("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Pgina ",k," de ",B]}),s.jsx("button",{onClick:()=>E(me=>Math.min(B,me+1)),disabled:k===B,className:`px-3 py-1 text-sm font-medium rounded-md border border-secondary-200 dark:border-secondary-600 \r
                           text-secondary-700 dark:text-secondary-300 \r
                           disabled:opacity-50 disabled:cursor-not-allowed\r
                           hover:bg-secondary-50 dark:hover:bg-secondary-700`,children:"Prxima"})]})]})]})]}),s.jsx(s6,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),z()}}),s.jsx(BV,{isOpen:i,onClose:()=>l(!1),onSuccess:()=>{l(!1),z()},statement:c}),s.jsx($V,{isOpen:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),z()}}),s.jsx(UV,{isOpen:a,onClose:()=>o(!1),onSuccess:()=>{o(!1),z()}}),s.jsx(q$,{isOpen:q,onClose:()=>y(!1),filters:{bankAccountId:R.bankAccountId,type:R.type,categoryId:R.categoryId,status:R.status},onApplyFilters:me=>{A(ve=>({...ve,...me})),y(!1)}}),X&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Excluso"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja excluir o lanamento ${J.description} de R$ ${J.value}? Esta ao no pode ser desfeita.`}),U&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:U}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{T(!1),ee(null),M(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:be,disabled:le,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:le?"Excluindo...":"Excluir"})]})]})})]})}function VV(){const[t,e]=D.useState(!0),[r,n]=D.useState(!1),[a,o]=D.useState(null),[i,l]=D.useState([]),[c,d]=D.useState(""),[u,h]=D.useState({start:"",end:""}),[g,p]=D.useState(""),[w,b]=D.useState([]),[_,v]=D.useState([]),[j,L]=D.useState("PENDING"),[U]=D.useState({}),[M,q]=D.useState(!1),[y,R]=D.useState(null),[A,P]=D.useState(!1),[x,k]=D.useState(null),E=async()=>{try{console.log("Syncing bank accounts:",c),q(!0),await Sl.syncAccounts({bankAccountId:c}),C()}catch(J){console.error("Error syncing statements:",J),o("Erro ao sincronizar extrato")}finally{q(!1)}},C=async()=>{try{e(!0);const J=await Sl.getMatchingStatements(c);b(J.data),v(J.pendingBankStatements),o(null)}catch(J){console.error("Error loading matching statements:",J),o("Erro ao carregar extrato conciliado")}finally{e(!1)}};D.useEffect(()=>{z()},[]),D.useEffect(()=>{c&&C()},[c]);const z=async()=>{try{const{data:J,error:ee}=await Ee.from("bank_accounts").select("*").eq("active",!0).order("name");if(ee)throw ee;console.log(" Contas bancrias carregadas:",J),l(J||[]),o(null)}catch(J){console.error("Error loading bank accounts:",J),o("Erro ao carregar contas bancrias")}finally{e(!1)}},V=async()=>{try{if(!c){Kn.fire("Aviso","Selecione uma conta bancria","warning");return}e(!0);const J=document.createElement("input");J.type="file",J.accept=".ofx,.qfx,.xml",J.onchange=async ee=>{var be;const ue=(be=ee.target.files)==null?void 0:be[0];if(!ue){Kn.fire("Aviso","Nenhum arquivo selecionado","warning"),e(!1);return}const de=new FileReader;de.onload=async me=>{var ve;try{const Le=(ve=me.target)==null?void 0:ve.result,Te=K(Le);if(!Te||Te.length===0)throw new Error("No foi possvel encontrar transaes no arquivo OFX");const We=localStorage.getItem("userId");if(!We)throw new Error("Usurio no autenticado");const ct=Te.map(Pe=>Pe.id).filter(Pe=>Pe),{data:Fe}=await Ee.from("reconciliation_statements").select("document").eq("bank_account_id",c).in("document",ct),ge=new Set((Fe==null?void 0:Fe.map(Pe=>Pe.document))||[]),yt=Te.filter(Pe=>!ge.has(Pe.id));if(yt.length===0){Kn.fire("Informao","Todas as transaes j foram importadas anteriormente.","info"),e(!1);return}const rt=new Date().toISOString(),Je=yt.map(Pe=>({bank_account_id:c,transaction_date:Pe.date,value_date:Pe.date,type:Pe.amount>0?"CREDIT":"DEBIT",description:Pe.description||"Transao importada",document:Pe.id||"",value:Math.abs(Pe.amount),status:"PENDING",created_by_id:We,created_at:rt,updated_at:rt,api_json:JSON.stringify(Pe)})),et=50;for(let Pe=0;Pe<Je.length;Pe+=et){const tt=Je.slice(Pe,Pe+et),{error:$e}=await Ee.from("reconciliation_statements").insert(tt);if($e)throw $e}const oe=Te.length-yt.length,ke=`${yt.length} transaes importadas com sucesso!`+(oe>0?` (${oe} j existentes foram ignoradas)`:"");Kn.fire("Sucesso",ke,"success"),C()}catch(Le){console.error("Error importing OFX:",Le),o("Erro ao importar arquivo OFX: "+(Le.message||"Erro desconhecido")),Kn.fire("Erro","Erro ao importar arquivo OFX","error")}finally{e(!1)}},de.onerror=()=>{o("Erro ao ler o arquivo"),Kn.fire("Erro","Erro ao ler o arquivo","error"),e(!1)},de.readAsText(ue,"windows-1252")},J.click()}catch(J){console.error("Error setting up OFX import:",J),o("Erro ao configurar importao de OFX"),Kn.fire("Erro","Erro ao configurar importao de OFX","error"),e(!1)}};function K(J){var ve,Le;if(!J)return[];const ee=J.replace(/\r/g,`
`),ue=(((ve=ee.match(/<BANKTRANLIST>([\s\S]*?)<\/BANKTRANLIST>/i))==null?void 0:ve[1])??((Le=ee.match(/<CCSTMTRNRS>[\s\S]*?<BANKTRANLIST>([\s\S]*?)<\/BANKTRANLIST>/i))==null?void 0:Le[1])??ee).split(/<STMTTRN>/i).slice(1).map(Te=>"<STMTTRN>"+Te),de=(Te,We)=>{const ct=Te.match(new RegExp(`<${We}>([^<\\n\\r]+)`,"i"));return ct?ct[1].trim():""},be=Te=>{const We=Te.match(/^(\d{4})(\d{2})(\d{2})/);if(!We)return null;const[,ct,Fe,ge]=We;return`${ct}-${Fe}-${ge}`};return ue.map(Te=>{const We=de(Te,"DTPOSTED")||de(Te,"DTUSER")||de(Te,"DTAVAIL"),ct=de(Te,"TRNAMT").replace(",","."),Fe=parseFloat(ct),ge=de(Te,"FITID")||de(Te,"CHECKNUM")||"",yt=de(Te,"MEMO")||de(Te,"NAME")||de(Te,"CHECKNUM")||"Transao";return{id:ge||void 0,date:be(We),amount:isNaN(Fe)?0:Fe,description:yt}}).filter(Te=>Te.date&&!isNaN(Te.amount))}const W=J=>{const ee=_.filter(ue=>ue.type===J.reconciliation_statement.type&&ue.transaction_date===J.reconciliation_statement.transaction_date),le=_.filter(ue=>ue.type===J.reconciliation_statement.type);return ee&&ee.length>0?ee:le},B=async(J,ee)=>{var le,ue;try{n(!0),R(J.id),console.log("Reconciling:",{reconciliationStatement:J,bankStatement:ee});const de=await Sl.reconcileStatement(J.id,ee.id);if(de!=null&&de.error||(de==null?void 0:de.status)==="error")throw new Error((de==null?void 0:de.message)||"Erro na conciliao");v(be=>be.filter(me=>me.id!==ee.id)),b(be=>be.filter(me=>me.reconciliation_statement.id!==J.id)),Kn.fire({toast:!0,position:"top-end",icon:"success",title:"Lanamento conciliado com sucesso!",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}catch(de){console.error("Error reconciling transactions:",de);const be=(de==null?void 0:de.message)||((ue=(le=de==null?void 0:de.response)==null?void 0:le.data)==null?void 0:ue.message)||"Erro ao conciliar lanamentos";o(be),Kn.fire({icon:"error",title:"Erro",text:be})}finally{n(!1)}},G=J=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(J),X=J=>new Date(J).toLocaleDateString("pt-BR"),T=async J=>{try{const{error:ee}=await Ee.from("reconciliation_statements").delete().eq("id",J);if(ee)throw ee;b(le=>le.filter(ue=>ue.reconciliation_statement.id!==J))}catch(ee){console.error("Error deleting statement:",ee),toast.error("Erro ao excluir lanamento")}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[a&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:a}),s.jsx("button",{onClick:()=>o(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Conciliao de Contas"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Concilie os lanamentos bancrios com as movimentaes internas"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:V,disabled:t||!c,className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600 disabled:opacity-50",children:[s.jsx(Si,{className:"h-5 w-5"}),s.jsx("span",{children:"Importar OFX"})]}),s.jsxs("button",{onClick:E,disabled:M||!c,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[s.jsx(w0,{className:`h-5 w-5 ${M?"animate-spin":""}`}),s.jsx("span",{children:"Atualizar Extrato"})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:c,onChange:J=>d(J.target.value),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),i.map(J=>{var me;const ee=J.branch&&J.branch!=="0"?J.branch:"",le=J.account&&J.account!=="0"?J.account:"",ue=J.digit&&String(J.digit)!=="0"?`-${J.digit}`:"",de=[J.bank,[ee,le?le+ue:""].filter(Boolean).join("/")].filter(Boolean).join(" "),be=[(me=J.name)==null?void 0:me.trim(),de].filter(Boolean).join(" - ");return s.jsx("option",{value:J.id,children:be},J.id)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Perodo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:u.start,onChange:J=>h(ee=>({...ee,start:J.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("input",{type:"date",value:u.end,onChange:J=>h(ee=>({...ee,end:J.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:j,onChange:J=>L(J.target.value),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"ALL",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"RECONCILED",children:"Conciliados"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",value:g,onChange:J=>p(J.target.value),placeholder:"Buscar por descrio...",className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]})}),s.jsx("div",{className:"flex gap-8",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Lanamentos Bancrios"})}),s.jsx("div",{className:"p-4 space-y-4",children:w&&w.length>0?w.map(J=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"hover:bg-secondary-100 dark:hover:bg-secondary-700 flex-1 p-4 h-24 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:border-primary-500 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>{k(J.reconciliation_statement),P(!0)},children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:X(J.reconciliation_statement.transaction_date)}),J.reconciliation_statement.status==="RECONCILED"&&s.jsx(Oh,{className:"h-4 w-4 text-green-500"})]}),s.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:J.reconciliation_statement.description}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:J.reconciliation_statement.id})]}),s.jsxs("span",{className:`font-medium ${J.reconciliation_statement.type==="CREDIT"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[J.reconciliation_statement.type==="CREDIT"?"+":"-",G(J.reconciliation_statement.value)]})]})}),s.jsx("div",{className:"w-16 flex justify-center",children:s.jsx("button",{onClick:()=>{J.possible_matches.length>0&&B(J.reconciliation_statement,J.possible_matches[0])},className:`p-2 rounded-lg transition-colors ${J.possible_matches.length>0?"bg-primary-500 hover:bg-primary-600 text-white":"bg-secondary-100 dark:bg-secondary-800 text-secondary-400"}`,disabled:J.possible_matches.length===0,children:y===J.reconciliation_statement.id&&r?s.jsx(S4,{className:"h-5 w-5 animate-spin"}):s.jsx(v4,{className:"h-5 w-5"})})}),s.jsx("div",{className:"flex-1 p-4 h-24 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:border-primary-500 transition-colors",children:J.possible_matches.length>0?s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:X(J.possible_matches[0].transaction_date)}),J.possible_matches[0].category_id&&s.jsx("span",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Categoria"})]}),s.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:J.possible_matches[0].description})]}),s.jsxs("span",{className:`flex items-center font-medium ${J.possible_matches[0].type==="CREDIT"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[J.possible_matches[0].type==="CREDIT"?"+":"-",G(J.possible_matches[0].value),s.jsx("button",{className:"ml-2 text-secondary-500 dark:text-secondary-400 hover:text-secondary-700 dark:hover:text-secondary-300",onClick:ee=>{ee.stopPropagation(),b(le=>le.map(ue=>({...ue,possible_matches:ue.possible_matches.filter(de=>de.id!==J.possible_matches[0].id)})))},children:s.jsx(Vt,{className:"h-7 w-7"})})]})]})}):s.jsxs("div",{className:"p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fw,{options:W(J).map(ee=>({value:ee.id,label:`${ee.beneficiary||"Sem beneficirio"} - ${G(ee.value)} (${new Date(ee.transaction_date).toLocaleDateString("pt-BR")}${ee.description?` - ${ee.description}`:""})`,statement:ee})),onChange:ee=>{const le=ee==null?void 0:ee.statement;le&&b(ue=>ue.map(de=>de.reconciliation_statement.id===J.reconciliation_statement.id?{...de,possible_matches:[...de.possible_matches,le]}:de))},placeholder:"Selecione ou pesquise um beneficirio...",isSearchable:!0,className:"w-3/4 react-select-container",classNamePrefix:"react-select"}),s.jsx("button",{className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm",onClick:()=>{k(J.reconciliation_statement),P(!0)},children:"Novo"})]}),U[J.reconciliation_statement.id]&&s.jsxs("div",{className:"mt-2 text-sm text-primary-600 dark:text-primary-400",children:["Sugesto: ",U[J.reconciliation_statement.id].name]})]})})]},J.reconciliation_statement.id)):s.jsx("div",{className:"p-6 text-center text-secondary-500 dark:text-secondary-400",children:t?"Carregando...":"Nenhum lanamento para conciliao encontrado."})})]})})}),s.jsx(s6,{isOpen:A,onClose:()=>{P(!1),k(null)},onSuccess:async()=>{x&&await T(x.id),P(!1),k(null),C()},statement:x,defaultStatus:"RECONCILED"})]})}function HV({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState("general"),[o,i]=D.useState(!1),[l,c]=D.useState(null),[d,u]=D.useState({general:{name:"",lastDigits:"",brand:"VISA",bank:"",dueDate:"",closingDate:""},account:{bankAccountId:"",cnpjId:""},limit:{totalLimit:"",currentUsed:"",alertPercentage:"80"}}),h=async w=>{w.preventDefault(),i(!0),c(null);try{r(),e()}catch(b){console.error("Error creating credit card:",b),c("Erro ao criar carto")}finally{i(!1)}},g=w=>{const b=w.replace(/\D/g,"");return(parseInt(b)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},p=w=>b=>{let _=b.target.value.replace(/\D/g,"");_===""&&(_="0");const v=parseInt(_)/100;u(j=>({...j,limit:{...j.limit,[w]:v.toString()}}))};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Carto de Crdito"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Vt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("account"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="account"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Vinculao Financeira"}),s.jsx("button",{onClick:()=>a("limit"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="limit"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Controle de Limite"})]})}),s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(rr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Carto"}),s.jsx("input",{type:"text",value:d.general.name,onChange:w=>u(b=>({...b,general:{...b.general,name:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"ltimos 4 dgitos"}),s.jsx("input",{type:"text",value:d.general.lastDigits,onChange:w=>{const b=w.target.value.replace(/\D/g,"").slice(0,4);u(_=>({..._,general:{..._.general,lastDigits:b}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,maxLength:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bandeira"}),s.jsxs("select",{value:d.general.brand,onChange:w=>u(b=>({...b,general:{...b.general,brand:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"VISA",children:"VISA"}),s.jsx("option",{value:"MASTERCARD",children:"MASTERCARD"}),s.jsx("option",{value:"ELO",children:"ELO"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Banco Emissor"}),s.jsx("input",{type:"text",value:d.general.bank,onChange:w=>u(b=>({...b,general:{...b.general,bank:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dia do Vencimento"}),s.jsx("input",{type:"number",min:"1",max:"31",value:d.general.dueDate,onChange:w=>u(b=>({...b,general:{...b.general,dueDate:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dia do Fechamento"}),s.jsx("input",{type:"number",min:"1",max:"31",value:d.general.closingDate,onChange:w=>u(b=>({...b,general:{...b.general,closingDate:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),n==="account"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Associada"}),s.jsx("select",{value:d.account.bankAccountId,onChange:w=>u(b=>({...b,account:{...b.account,bankAccountId:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:s.jsx("option",{value:"",children:"Selecione uma conta bancria"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("select",{value:d.account.cnpjId,onChange:w=>u(b=>({...b,account:{...b.account,cnpjId:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:s.jsx("option",{value:"",children:"Selecione um CNPJ"})})]})]}),n==="limit"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Limite Total"}),s.jsx("input",{type:"text",value:g(d.limit.totalLimit),onChange:p("totalLimit"),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Saldo Utilizado Atual"}),s.jsx("input",{type:"text",value:g(d.limit.currentUsed),onChange:p("currentUsed"),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alerta de Limite (%)"}),s.jsx("input",{type:"number",min:"1",max:"100",value:d.limit.alertPercentage,onChange:w=>u(b=>({...b,limit:{...b.limit,alertPercentage:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:"O sistema emitir um alerta quando o limite utilizado atingir esta porcentagem"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Criar Carto"})]})]})]})}):null}function WV(){const[t,e]=D.useState(!1),[r]=D.useState([{id:"1",name:"Carto Empresarial Bradesco",bank:"Bradesco",lastDigits:"1234",brand:"VISA",limit:15e3,used:8750,dueDate:15,closingDate:10,bankAccount:{id:"1",name:"Bradesco - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}},{id:"2",name:"Carto Corporativo BB",bank:"Banco do Brasil",lastDigits:"5678",brand:"MASTERCARD",limit:25e3,used:12500,dueDate:20,closingDate:15,bankAccount:{id:"2",name:"BB - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}},{id:"3",name:"Carto Fornecedores",bank:"Ita",lastDigits:"9012",brand:"ELO",limit:5e4,used:35e3,dueDate:25,closingDate:20,bankAccount:{id:"3",name:"Ita - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}}]),n=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i),a=i=>{switch(i){case"VISA":return"bg-gradient-to-br from-blue-500 to-blue-700";case"MASTERCARD":return"bg-gradient-to-br from-red-500 to-red-700";case"ELO":return"bg-gradient-to-br from-purple-500 to-purple-700";default:return"bg-gradient-to-br from-gray-500 to-gray-700"}},o=i=>{switch(i){case"VISA":return" VISA";case"MASTERCARD":return" MASTERCARD";case"ELO":return" ELO";default:return""}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Conciliao de Cartes"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os cartes de crdito da empresa"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Novo Carto"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total de Limites"}),s.jsx(gm,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:n(r.reduce((i,l)=>i+l.limit,0))})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total Utilizado"}),s.jsx(Mv,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:n(r.reduce((i,l)=>i+l.used,0))})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Disponvel"}),s.jsx(rr,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:n(r.reduce((i,l)=>i+(l.limit-l.used),0))})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(i=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>{},children:[s.jsxs("div",{className:`relative ${a(i.brand)} rounded-xl p-6 shadow-lg transform transition-transform group-hover:scale-[1.02]`,children:[s.jsx("div",{className:"absolute top-4 right-4 text-white font-medium",children:o(i.brand)}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:i.name}),s.jsxs("p",{className:"text-white/80 text-sm",children:["**** **** **** ",i.lastDigits]})]}),s.jsxs("div",{className:"flex justify-between items-center text-white/90 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{children:"Vencimento"}),s.jsxs("p",{className:"font-medium",children:["Todo dia ",i.dueDate]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{children:"Fechamento"}),s.jsxs("p",{className:"font-medium",children:["Todo dia ",i.closingDate]})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 -mt-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Limite Total"}),s.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:n(i.limit)})]}),s.jsx("div",{className:"w-full h-2 bg-secondary-100 dark:bg-secondary-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-red-500",style:{width:`${i.used/i.limit*100}%`}})}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Utilizado"}),s.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:n(i.used)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Disponvel"}),s.jsx("p",{className:"font-medium text-green-600 dark:text-green-400",children:n(i.limit-i.used)})]})]}),s.jsxs("div",{className:"pt-2 border-t border-secondary-100 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Conta para Pagamento"}),s.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:i.bankAccount.name})]})]})})]},i.id))}),s.jsx(HV,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1)}})]})}function GV(){const e=(()=>{const i=[];for(let l=0;l<30;l++)i.push({x:l,y:Math.floor(Math.random()*100)});return i})(),r=Math.max(...e.map(i=>i.y)),n=i=>`M ${i.map((u,h)=>{const g=h/(i.length-1)*600,p=300-u.y/r*300;return`${g},${p}`}).join(" L ")}`,a=[{name:"Produto com Defeito",value:12567.89,color:"#f43f5e"},{name:"Desistncia da Compra",value:8234.56,color:"#8b5cf6"},{name:"Tamanho Incorreto",value:6789.12,color:"#0ea5e9"},{name:"Cor Diferente",value:4567.89,color:"#10b981"},{name:"Atraso na Entrega",value:3456.78,color:"#f59e0b"}],o=a.reduce((i,l)=>i+l.value,0);return s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Dashboard Financeiro"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{className:"flex items-center space-x-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-2 text-secondary-700 dark:text-secondary-200 hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx(El,{className:"h-4 w-4"}),s.jsx("span",{children:"Janeiro 2024"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 dark:from-blue-500/20 dark:to-blue-600/20 rounded-xl p-4 border border-blue-100 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Saldo Bancrio"}),s.jsx(Mv,{className:"h-4 w-4 text-blue-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-blue-900 dark:text-blue-100 whitespace-nowrap",children:"R$ 256.489,32"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 dark:from-green-500/20 dark:to-green-600/20 rounded-xl p-4 border border-green-100 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Saldo do Ms"}),s.jsx(R1,{className:"h-4 w-4 text-green-500"})]}),s.jsxs("div",{className:"flex items-baseline",children:[s.jsx("span",{className:"text-base font-bold text-green-900 dark:text-green-100 whitespace-nowrap",children:"R$ 45.678,90"}),s.jsx("span",{className:"ml-1 text-xs text-green-600 dark:text-green-400",children:"+12.5%"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 dark:from-emerald-500/20 dark:to-emerald-600/20 rounded-xl p-4 border border-emerald-100 dark:border-emerald-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-300",children:"Entradas"}),s.jsx(MD,{className:"h-4 w-4 text-emerald-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-emerald-900 dark:text-emerald-100 whitespace-nowrap",children:"R$ 158.945,67"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 dark:from-red-500/20 dark:to-red-600/20 rounded-xl p-4 border border-red-100 dark:border-red-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:"Sadas"}),s.jsx(LD,{className:"h-4 w-4 text-red-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-red-900 dark:text-red-100 whitespace-nowrap",children:"R$ 113.266,77"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 dark:from-yellow-500/20 dark:to-yellow-600/20 rounded-xl p-4 border border-yellow-100 dark:border-yellow-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-yellow-700 dark:text-yellow-300",children:"A Pagar"}),s.jsx(rr,{className:"h-4 w-4 text-yellow-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-yellow-900 dark:text-yellow-100 whitespace-nowrap",children:"R$ 34.567,89"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/10 to-indigo-600/10 dark:from-indigo-500/20 dark:to-indigo-600/20 rounded-xl p-4 border border-indigo-100 dark:border-indigo-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300",children:"A Receber"}),s.jsx(gm,{className:"h-4 w-4 text-indigo-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-indigo-900 dark:text-indigo-100 whitespace-nowrap",children:"R$ 67.890,12"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Fluxo de Caixa"}),s.jsxs("select",{className:"px-3 py-1.5 bg-secondary-50 dark:bg-secondary-700 border border-secondary-200 dark:border-secondary-600 rounded-lg text-sm text-secondary-700 dark:text-secondary-300",children:[s.jsx("option",{value:"30",children:"ltimos 30 dias"}),s.jsx("option",{value:"60",children:"ltimos 60 dias"}),s.jsx("option",{value:"90",children:"ltimos 90 dias"})]})]}),s.jsx("div",{className:"h-[300px] relative",children:s.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 300",preserveAspectRatio:"none",children:[[0,1,2,3,4].map(i=>s.jsx("line",{x1:"0",y1:i*75,x2:"600",y2:i*75,stroke:"#e2e8f0",strokeWidth:"1",strokeDasharray:"4 4"},i)),s.jsx("path",{d:n(e),fill:"none",stroke:"#22c55e",strokeWidth:"2"}),s.jsx("path",{d:`${n(e)} L 600,300 L 0,300 Z`,fill:"url(#gradient)",opacity:"0.1"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:"0.5"}),s.jsx("stop",{offset:"100%",stopColor:"#22c55e",stopOpacity:"0"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Entradas"}),s.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"R$ 158.945,67"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Sadas"}),s.jsx("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"R$ 113.266,77"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Saldo"}),s.jsx("p",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:"R$ 45.678,90"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Despesas por Categoria"}),s.jsxs("select",{className:"px-3 py-1.5 bg-secondary-50 dark:bg-secondary-700 border border-secondary-200 dark:border-secondary-600 rounded-lg text-sm text-secondary-700 dark:text-secondary-300",children:[s.jsx("option",{value:"current",children:"Ms Atual"}),s.jsx("option",{value:"last",children:"Ms Anterior"}),s.jsx("option",{value:"year",children:"Ano Atual"})]})]}),s.jsx("div",{className:"h-[300px] relative",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("svg",{width:"250",height:"250",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e2e8f0",strokeWidth:"10"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#22c55e",strokeWidth:"10",strokeDasharray:"70.69 282.74",transform:"rotate(-90 50 50)"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#3b82f6",strokeWidth:"10",strokeDasharray:"141.37 282.74",transform:"rotate(-90 50 50)",strokeDashoffset:"-70.69"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#ef4444",strokeWidth:"10",strokeDasharray:"70.69 282.74",transform:"rotate(-90 50 50)",strokeDashoffset:"-212.06"})]})})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Folha de Pagamento"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 45.678,90"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Marketing"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 23.456,78"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Infraestrutura"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 18.234,56"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Ativos e Passivos"}),s.jsx(w4,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Total de Ativos"}),s.jsx("span",{className:"text-secondary-900 dark:text-white font-medium",children:"R$ 1.234.567,89"})]}),s.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"75%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Total de Passivos"}),s.jsx("span",{className:"text-secondary-900 dark:text-white font-medium",children:"R$ 567.890,12"})]}),s.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"35%"}})})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Rentabilidade"}),s.jsx(FD,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Margem de Lucro"}),s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"32.5%"}),s.jsx("span",{className:"ml-2 text-sm text-green-600 dark:text-green-400",children:"+2.1%"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"ROI"}),s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"18.9%"}),s.jsx("span",{className:"ml-2 text-sm text-green-600 dark:text-green-400",children:"+0.8%"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Projees"}),s.jsx(R1,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Receita Projetada"}),s.jsx("p",{className:"text-lg font-semibold text-secondary-900 dark:text-white mt-1",children:"R$ 198.765,43"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Despesa Projetada"}),s.jsx("p",{className:"text-lg font-semibold text-secondary-900 dark:text-white mt-1",children:"R$ 145.678,90"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Lucro Projetado"}),s.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mt-1",children:"R$ 53.086,53"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Estornos por Categoria"}),s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Distribuio dos valores de estorno por motivo"})]}),s.jsx(ym,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-[300px] relative",children:s.jsx("div",{className:"absolute inset-0",children:a.map((i,l)=>s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"h-8 rounded transition-all duration-500 ease-in-out",style:{width:`${i.value/o*100}%`,backgroundColor:i.color}}),s.jsx("span",{className:"ml-2 text-sm text-secondary-600 dark:text-secondary-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.value)})]},l))})}),s.jsxs("div",{className:"space-y-4",children:[a.map((i,l)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:i.color}}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:i.name})]}),s.jsxs("div",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[(i.value/o*100).toFixed(1),"%"]})]},l)),s.jsx("div",{className:"pt-4 mt-4 border-t border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Total de Estornos"}),s.jsx("span",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o)})]})})]})]})]})})]})}const zp=Ar.forwardRef(({id:t,label:e,type:r="text",value:n,onChange:a,placeholder:o=" ",autoComplete:i,rightIcon:l,onRightIconClick:c,required:d,className:u=""},h)=>s.jsxs("div",{className:`relative ${u}`,children:[s.jsx("input",{ref:h,id:t,type:r,value:n,onChange:a,placeholder:o,autoComplete:i,required:d,className:`\r
            peer w-full px-4 py-3 rounded-xl\r
            bg-white/10 dark:bg-white/5\r
            border border-white/20 dark:border-white/10\r
            text-white placeholder-transparent\r
            shadow-sm\r
            focus:outline-none focus:ring-4 focus:ring-blue-500/30 focus:border-blue-400\r
            transition-all\r
          `}),s.jsx("label",{htmlFor:t,className:`\r
            pointer-events-none absolute left-3\r
            -top-2.5 px-2 rounded-md\r
            text-xs text-white/80\r
            bg-[#34495e] dark:bg-gray-800\r
            transition-all\r
            peer-placeholder-shown:top-3 peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/70 peer-placeholder-shown:bg-transparent\r
            peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-white peer-focus:bg-[#34495e] peer-focus:dark:bg-gray-800\r
          `,children:e}),l&&s.jsx("button",{type:"button",onClick:c,className:"absolute inset-y-0 right-2 flex items-center px-2 text-white/70 hover:text-white transition","aria-label":"Alternar visibilidade",children:l})]}));zp.displayName="FloatingInput";const JV=({onLogin:t})=>{const e=ef(),[r,n]=D.useState(1),[a,o]=D.useState(""),[i,l]=D.useState(""),[c,d]=D.useState(!1),[u,h]=D.useState(null),[g,p]=D.useState(""),[w,b]=D.useState(null),[_,v]=D.useState(!1),[j,L]=D.useState(!1),U=D.useRef(null),M=A=>{A.preventDefault(),r===1?q():R()},q=async()=>{b(null),v(!0);try{const A=await zh.preLogin({email:a,password:i}),{error:P,qrcode:x,message:k}=A;if(x&&h(x),P)throw new Error(k);L(!0),n(2),setTimeout(()=>{var E;return(E=U.current)==null?void 0:E.focus()},100)}catch(A){console.error("Login error:",A),b((A==null?void 0:A.message)||"Erro ao fazer login")}finally{v(!1)}};async function y(A,P){let{data:x,error:k}=await Ee.from("user_profiles").select("role").eq("id",A).single();return(k||!x)&&(x=(await Ee.from("user_profiles").select("role").eq("email",P||"").single()).data),((x==null?void 0:x.role)||"").toString().toLowerCase().startsWith("admin")}const R=async()=>{b(null),v(!0);try{const A=await zh.login({email:a,password:i,google_auth_code:g}),{error:P,message:x,user:k,token:E}=A;if(P)throw new Error(x);localStorage.setItem("userId",k.id),localStorage.setItem("userName",k.name),localStorage.setItem("userEmail",k.email),localStorage.setItem("userToken",E);const C=Array.isArray(k.permissions)?k.permissions:[],z=await y(k.id,k.email);localStorage.setItem("isAdmin",JSON.stringify(z));const V=z&&!C.includes("admin")?[...C,"admin"]:C;localStorage.setItem("userPermissions",JSON.stringify(V)),t()}catch(A){console.error("Login error:",A),b((A==null?void 0:A.message)||"Erro ao fazer login")}finally{v(!1)}};return s.jsx("div",{className:"min-h-screen flex",children:s.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-[url('/src/assets/bg2.png')] bg-cover bg-center",children:s.jsxs("div",{className:"w-full max-w-md",children:[w&&s.jsx("div",{className:"mb-4 p-4 bg-red-50/70 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:w})}),s.jsxs("form",{onSubmit:M,className:"space-y-8 px-8 py-16 rounded-2xl bg-[#34495e]/95 dark:bg-gray-800/95 backdrop-blur shadow-lg",children:[!(u||j)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"py-16 bg-[url('/src/assets/logo-white.png')] bg-contain bg-center bg-no-repeat"}),s.jsx("h1",{className:"text-center text-xl text-white dark:text-gray-200 font-bold tracking-wide",children:"SISTEMA FINANCEIRO"}),s.jsx(zp,{id:"email",label:"E-MAIL",type:"email",value:a,onChange:A=>o(A.target.value),autoComplete:"email",required:!0}),s.jsx(zp,{id:"password",label:"SENHA",type:c?"text":"password",value:i,onChange:A=>l(A.target.value),autoComplete:"current-password",required:!0,rightIcon:c?s.jsx(Fx,{className:"h-4 w-4"}):s.jsx(Al,{className:"h-4 w-4"}),onRightIconClick:()=>d(A=>!A)}),s.jsx("button",{type:"submit",disabled:_,className:`\r
                    w-full flex justify-center items-center\r
                    py-3 px-4 rounded-3xl\r
                    text-sm font-medium text-white\r
                    bg-blue-500 hover:bg-blue-600\r
                    shadow-md hover:shadow-lg\r
                    focus:outline-none focus:ring-4 focus:ring-blue-500/30\r
                    disabled:opacity-60 disabled:cursor-not-allowed\r
                    transition\r
                  `,children:_?"Entrando...":"ACESSAR"}),s.jsx("button",{type:"button",onClick:()=>e(`/reset-password${a?`?email=${encodeURIComponent(a)}`:""}`),className:"w-full mt-1 text-sm text-white/80 hover:text-white underline",children:"Esqueci minha senha"})]}),(u||j)&&s.jsxs("div",{className:"flex-col justify-center items-center",children:[s.jsx("div",{className:"py-20 bg-[url('/src/assets/google_auth_logo.png')] bg-contain bg-center bg-no-repeat"}),u&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-center text-white/90 mb-4",children:"Escaneie o QR Code no Google Authenticator"}),s.jsx("img",{src:u,alt:"QR Code",className:"w-72 h-72 mx-auto rounded-lg shadow"}),s.jsx("h2",{className:"text-center text-white/90 mb-4 mt-8",children:"Depois, insira o cdigo de 6 dgitos"})]}),!u&&s.jsx("h2",{className:"text-center text-white/90 mb-4",children:"Insira o cdigo de 6 dgitos do Google Authenticator"}),s.jsx(zp,{id:"googleCode",label:"CDIGO DO GOOGLE AUTHENTICATOR",type:"text",value:g,onChange:A=>p(A.target.value),placeholder:" ",required:!0,ref:U,className:"mt-2"}),s.jsx("button",{type:"submit",disabled:_,className:`\r
                    w-full flex justify-center items-center\r
                    py-3 px-4 rounded-3xl mt-4\r
                    text-sm font-medium text-white\r
                    bg-blue-500 hover:bg-blue-600\r
                    shadow-md hover:shadow-lg\r
                    focus:outline-none focus:ring-4 focus:ring-blue-500/30\r
                    disabled:opacity-60 disabled:cursor-not-allowed\r
                    transition\r
                  `,children:_?"Validando...":"VALIDAR"}),s.jsx("button",{type:"button",disabled:_,onClick:()=>{p(""),L(!1),h(null),n(1)},className:"w-full flex justify-center py-2 px-4 text-sm text-white/80 hover:text-white underline mt-3",children:"Voltar para o login"})]})]})]})})})},Ey=({id:t,label:e,type:r="text",value:n,onChange:a,placeholder:o=" ",autoComplete:i,rightIcon:l,onRightIconClick:c,required:d})=>s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:t,type:r,value:n,onChange:a,placeholder:o,autoComplete:i,required:d,className:`\r
          peer w-full px-4 py-3 rounded-xl\r
          bg-white/10 dark:bg-white/5\r
          border border-white/20 dark:border-white/10\r
          text-white placeholder-transparent\r
          shadow-sm\r
          focus:outline-none focus:ring-4 focus:ring-blue-500/30 focus:border-blue-400\r
          transition-all\r
        `}),s.jsx("label",{htmlFor:t,className:`\r
          pointer-events-none absolute left-3\r
          -top-2.5 px-2 rounded-md\r
          text-xs text-white/80\r
          bg-[#34495e] dark:bg-gray-800\r
          transition-all\r
          peer-placeholder-shown:top-3 peer-placeholder-shown:text-sm peer-placeholder-shown:text-white/70 peer-placeholder-shown:bg-transparent\r
          peer-focus:-top-2.5 peer-focus:text-xs peer-focus:text-white peer-focus:bg-[#34495e] peer-focus:dark:bg-gray-800\r
        `,children:e}),l&&s.jsx("button",{type:"button",onClick:c,className:"absolute inset-y-0 right-2 flex items-center px-2 text-white/70 hover:text-white transition","aria-label":"Alternar visibilidade da senha",children:l})]}),KV=()=>{const t=ef(),[e,r]=D.useState(""),[n,a]=D.useState(""),[o,i]=D.useState(""),[l,c]=D.useState(!1),[d,u]=D.useState(!1),[h,g]=D.useState(!1),[p,w]=D.useState(null),[b,_]=D.useState(null),v=async j=>{if(j.preventDefault(),w(null),_(null),!e.trim())return w("Informe o e-mail.");if(!n)return w("Informe a nova senha.");if(n.length<8)return w("A senha deve ter no mnimo 8 caracteres.");if(n!==o)return w("As senhas no conferem.");g(!0);try{const L=await zh.resetPassword({email:e,password:n,password_confirmation:o});if(L!=null&&L.error)throw new Error((L==null?void 0:L.message)||"No foi possvel redefinir a senha.");_("Senha redefinida com sucesso! Voc j pode fazer login."),setTimeout(()=>t("/login"),1400)}catch(L){w((L==null?void 0:L.message)||"Erro ao redefinir senha.")}finally{g(!1)}};return s.jsx("div",{className:"min-h-screen flex",children:s.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-[url('/src/assets/bg2.png')] bg-cover bg-center",children:s.jsxs("div",{className:"w-full max-w-md",children:[p&&s.jsx("div",{className:"mb-4 p-4 bg-red-50/70 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:p})}),b&&s.jsx("div",{className:"mb-4 p-4 bg-green-50/70 dark:bg-emerald-900/20 border border-green-200 dark:border-emerald-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-700 dark:text-emerald-300",children:b})}),s.jsxs("form",{onSubmit:v,className:"space-y-8 px-8 py-16 rounded-2xl bg-[#34495e]/95 dark:bg-gray-800/95 backdrop-blur",children:[s.jsx("div",{className:"py-16 bg-[url('/src/assets/logo-white.png')] bg-contain bg-center bg-no-repeat"}),s.jsx("h1",{className:"text-center text-xl text-white dark:text-gray-200 font-bold tracking-wide",children:"REDEFINIR SENHA"}),s.jsx(Ey,{id:"email",label:"E-MAIL",type:"email",value:e,onChange:j=>r(j.target.value),autoComplete:"email",required:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ey,{id:"password",label:"NOVA SENHA",type:l?"text":"password",value:n,onChange:j=>a(j.target.value),autoComplete:"new-password",required:!0,rightIcon:l?s.jsx(Fx,{className:"h-4 w-4"}):s.jsx(Al,{className:"h-4 w-4"}),onRightIconClick:()=>c(j=>!j)}),s.jsx("p",{className:"text-xs text-white/70",children:"Mnimo de 8 caracteres."})]}),s.jsx(Ey,{id:"passwordConfirm",label:"CONFIRMAR SENHA",type:d?"text":"password",value:o,onChange:j=>i(j.target.value),autoComplete:"new-password",required:!0,rightIcon:d?s.jsx(Fx,{className:"h-4 w-4"}):s.jsx(Al,{className:"h-4 w-4"}),onRightIconClick:()=>u(j=>!j)}),s.jsx("button",{type:"submit",disabled:h,className:`\r
                w-full flex justify-center items-center\r
                py-3 px-4 rounded-3xl\r
                text-sm font-medium text-white\r
                bg-blue-500 hover:bg-blue-600\r
                shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-4 focus:ring-blue-500/30\r
                disabled:opacity-60 disabled:cursor-not-allowed\r
                transition\r
              `,children:h?"Salvando...":"REDEFINIR SENHA"}),s.jsx("button",{type:"button",onClick:()=>t("/login"),className:"w-full flex justify-center py-2 px-4 text-sm text-white/80 hover:text-white underline",children:"Voltar para o login"})]})]})})})};var Ay={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var mk;function bb(){return mk||(mk=1,function(t){(function(e,r){t.exports=e.document?r(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:ms,function(e,r){var n=[],a=Object.getPrototypeOf,o=n.slice,i=n.flat?function(m){return n.flat.call(m)}:function(m){return n.concat.apply([],m)},l=n.push,c=n.indexOf,d={},u=d.toString,h=d.hasOwnProperty,g=h.toString,p=g.call(Object),w={},b=function(S){return typeof S=="function"&&typeof S.nodeType!="number"&&typeof S.item!="function"},_=function(S){return S!=null&&S===S.window},v=e.document,j={type:!0,src:!0,nonce:!0,noModule:!0};function L(m,S,F){F=F||v;var H,Q,Z=F.createElement("script");if(Z.text=m,S)for(H in j)Q=S[H]||S.getAttribute&&S.getAttribute(H),Q&&Z.setAttribute(H,Q);F.head.appendChild(Z).parentNode.removeChild(Z)}function U(m){return m==null?m+"":typeof m=="object"||typeof m=="function"?d[u.call(m)]||"object":typeof m}var M="3.7.1",q=/HTML$/i,y=function(m,S){return new y.fn.init(m,S)};y.fn=y.prototype={jquery:M,constructor:y,length:0,toArray:function(){return o.call(this)},get:function(m){return m==null?o.call(this):m<0?this[m+this.length]:this[m]},pushStack:function(m){var S=y.merge(this.constructor(),m);return S.prevObject=this,S},each:function(m){return y.each(this,m)},map:function(m){return this.pushStack(y.map(this,function(S,F){return m.call(S,F,S)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(m,S){return(S+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(m,S){return S%2}))},eq:function(m){var S=this.length,F=+m+(m<0?S:0);return this.pushStack(F>=0&&F<S?[this[F]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:n.sort,splice:n.splice},y.extend=y.fn.extend=function(){var m,S,F,H,Q,Z,ae=arguments[0]||{},we=1,ye=arguments.length,Ce=!1;for(typeof ae=="boolean"&&(Ce=ae,ae=arguments[we]||{},we++),typeof ae!="object"&&!b(ae)&&(ae={}),we===ye&&(ae=this,we--);we<ye;we++)if((m=arguments[we])!=null)for(S in m)H=m[S],!(S==="__proto__"||ae===H)&&(Ce&&H&&(y.isPlainObject(H)||(Q=Array.isArray(H)))?(F=ae[S],Q&&!Array.isArray(F)?Z=[]:!Q&&!y.isPlainObject(F)?Z={}:Z=F,Q=!1,ae[S]=y.extend(Ce,Z,H)):H!==void 0&&(ae[S]=H));return ae},y.extend({expando:"jQuery"+(M+Math.random()).replace(/\D/g,""),isReady:!0,error:function(m){throw new Error(m)},noop:function(){},isPlainObject:function(m){var S,F;return!m||u.call(m)!=="[object Object]"?!1:(S=a(m),S?(F=h.call(S,"constructor")&&S.constructor,typeof F=="function"&&g.call(F)===p):!0)},isEmptyObject:function(m){var S;for(S in m)return!1;return!0},globalEval:function(m,S,F){L(m,{nonce:S&&S.nonce},F)},each:function(m,S){var F,H=0;if(R(m))for(F=m.length;H<F&&S.call(m[H],H,m[H])!==!1;H++);else for(H in m)if(S.call(m[H],H,m[H])===!1)break;return m},text:function(m){var S,F="",H=0,Q=m.nodeType;if(!Q)for(;S=m[H++];)F+=y.text(S);return Q===1||Q===11?m.textContent:Q===9?m.documentElement.textContent:Q===3||Q===4?m.nodeValue:F},makeArray:function(m,S){var F=S||[];return m!=null&&(R(Object(m))?y.merge(F,typeof m=="string"?[m]:m):l.call(F,m)),F},inArray:function(m,S,F){return S==null?-1:c.call(S,m,F)},isXMLDoc:function(m){var S=m&&m.namespaceURI,F=m&&(m.ownerDocument||m).documentElement;return!q.test(S||F&&F.nodeName||"HTML")},merge:function(m,S){for(var F=+S.length,H=0,Q=m.length;H<F;H++)m[Q++]=S[H];return m.length=Q,m},grep:function(m,S,F){for(var H,Q=[],Z=0,ae=m.length,we=!F;Z<ae;Z++)H=!S(m[Z],Z),H!==we&&Q.push(m[Z]);return Q},map:function(m,S,F){var H,Q,Z=0,ae=[];if(R(m))for(H=m.length;Z<H;Z++)Q=S(m[Z],Z,F),Q!=null&&ae.push(Q);else for(Z in m)Q=S(m[Z],Z,F),Q!=null&&ae.push(Q);return i(ae)},guid:1,support:w}),typeof Symbol=="function"&&(y.fn[Symbol.iterator]=n[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(m,S){d["[object "+S+"]"]=S.toLowerCase()});function R(m){var S=!!m&&"length"in m&&m.length,F=U(m);return b(m)||_(m)?!1:F==="array"||S===0||typeof S=="number"&&S>0&&S-1 in m}function A(m,S){return m.nodeName&&m.nodeName.toLowerCase()===S.toLowerCase()}var P=n.pop,x=n.sort,k=n.splice,E="[\\x20\\t\\r\\n\\f]",C=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g");y.contains=function(m,S){var F=S&&S.parentNode;return m===F||!!(F&&F.nodeType===1&&(m.contains?m.contains(F):m.compareDocumentPosition&&m.compareDocumentPosition(F)&16))};var z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function V(m,S){return S?m==="\0"?"":m.slice(0,-1)+"\\"+m.charCodeAt(m.length-1).toString(16)+" ":"\\"+m}y.escapeSelector=function(m){return(m+"").replace(z,V)};var K=v,W=l;(function(){var m,S,F,H,Q,Z=W,ae,we,ye,Ce,Ue,Ke=y.expando,Be=0,at=0,Et=Co(),er=Co(),qt=Co(),nn=Co(),I=function(he,je){return he===je&&(Q=!0),0},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",pe="(?:\\\\[\\da-fA-F]{1,6}"+E+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",xe="\\["+E+"*("+pe+")(?:"+E+"*([*^$|!~]?=)"+E+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+pe+"))|)"+E+"*\\]",De=":("+pe+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+xe+")*)|.*)\\)|)",Re=new RegExp(E+"+","g"),Ye=new RegExp("^"+E+"*,"+E+"*"),ft=new RegExp("^"+E+"*([>+~]|"+E+")"+E+"*"),jt=new RegExp(E+"|>"),At=new RegExp(De),Ot=new RegExp("^"+pe+"$"),Wt={ID:new RegExp("^#("+pe+")"),CLASS:new RegExp("^\\.("+pe+")"),TAG:new RegExp("^("+pe+"|[*])"),ATTR:new RegExp("^"+xe),PSEUDO:new RegExp("^"+De),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+E+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)","i")},gr=/^(?:input|select|textarea|button)$/i,xr=/^h\d$/i,hr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_n=/[+~]/,Or=new RegExp("\\\\[\\da-fA-F]{1,6}"+E+"?|\\\\([^\\r\\n\\f])","g"),gn=function(he,je){var Ie="0x"+he.slice(1)-65536;return je||(Ie<0?String.fromCharCode(Ie+65536):String.fromCharCode(Ie>>10|55296,Ie&1023|56320))},Na=function(){Sa()},_s=Eo(function(he){return he.disabled===!0&&A(he,"fieldset")},{dir:"parentNode",next:"legend"});function qc(){try{return ae.activeElement}catch{}}try{Z.apply(n=o.call(K.childNodes),K.childNodes),n[K.childNodes.length].nodeType}catch{Z={apply:function(je,Ie){W.apply(je,o.call(Ie))},call:function(je){W.apply(je,o.call(arguments,1))}}}function dr(he,je,Ie,qe){var Ge,ot,it,xt,dt,Mt,Ct,Ft=je&&je.ownerDocument,Yt=je?je.nodeType:9;if(Ie=Ie||[],typeof he!="string"||!he||Yt!==1&&Yt!==9&&Yt!==11)return Ie;if(!qe&&(Sa(je),je=je||ae,ye)){if(Yt!==11&&(dt=hr.exec(he)))if(Ge=dt[1]){if(Yt===9)if(it=je.getElementById(Ge)){if(it.id===Ge)return Z.call(Ie,it),Ie}else return Ie;else if(Ft&&(it=Ft.getElementById(Ge))&&dr.contains(je,it)&&it.id===Ge)return Z.call(Ie,it),Ie}else{if(dt[2])return Z.apply(Ie,je.getElementsByTagName(he)),Ie;if((Ge=dt[3])&&je.getElementsByClassName)return Z.apply(Ie,je.getElementsByClassName(Ge)),Ie}if(!nn[he+" "]&&(!Ce||!Ce.test(he))){if(Ct=he,Ft=je,Yt===1&&(jt.test(he)||ft.test(he))){for(Ft=_n.test(he)&&_o(je.parentNode)||je,(Ft!=je||!w.scope)&&((xt=je.getAttribute("id"))?xt=y.escapeSelector(xt):je.setAttribute("id",xt=Ke)),Mt=An(he),ot=Mt.length;ot--;)Mt[ot]=(xt?"#"+xt:":scope")+" "+$i(Mt[ot]);Ct=Mt.join(",")}try{return Z.apply(Ie,Ft.querySelectorAll(Ct)),Ie}catch{nn(he,!0)}finally{xt===Ke&&je.removeAttribute("id")}}}return na(he.replace(C,"$1"),je,Ie,qe)}function Co(){var he=[];function je(Ie,qe){return he.push(Ie+" ")>S.cacheLength&&delete je[he.shift()],je[Ie+" "]=qe}return je}function Vn(he){return he[Ke]=!0,he}function Es(he){var je=ae.createElement("fieldset");try{return!!he(je)}catch{return!1}finally{je.parentNode&&je.parentNode.removeChild(je),je=null}}function Wl(he){return function(je){return A(je,"input")&&je.type===he}}function Fi(he){return function(je){return(A(je,"input")||A(je,"button"))&&je.type===he}}function En(he){return function(je){return"form"in je?je.parentNode&&je.disabled===!1?"label"in je?"label"in je.parentNode?je.parentNode.disabled===he:je.disabled===he:je.isDisabled===he||je.isDisabled!==!he&&_s(je)===he:je.disabled===he:"label"in je?je.disabled===he:!1}}function Ma(he){return Vn(function(je){return je=+je,Vn(function(Ie,qe){for(var Ge,ot=he([],Ie.length,je),it=ot.length;it--;)Ie[Ge=ot[it]]&&(Ie[Ge]=!(qe[Ge]=Ie[Ge]))})})}function _o(he){return he&&typeof he.getElementsByTagName<"u"&&he}function Sa(he){var je,Ie=he?he.ownerDocument||he:K;return Ie==ae||Ie.nodeType!==9||!Ie.documentElement||(ae=Ie,we=ae.documentElement,ye=!y.isXMLDoc(ae),Ue=we.matches||we.webkitMatchesSelector||we.msMatchesSelector,we.msMatchesSelector&&K!=ae&&(je=ae.defaultView)&&je.top!==je&&je.addEventListener("unload",Na),w.getById=Es(function(qe){return we.appendChild(qe).id=y.expando,!ae.getElementsByName||!ae.getElementsByName(y.expando).length}),w.disconnectedMatch=Es(function(qe){return Ue.call(qe,"*")}),w.scope=Es(function(){return ae.querySelectorAll(":scope")}),w.cssHas=Es(function(){try{return ae.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(S.filter.ID=function(qe){var Ge=qe.replace(Or,gn);return function(ot){return ot.getAttribute("id")===Ge}},S.find.ID=function(qe,Ge){if(typeof Ge.getElementById<"u"&&ye){var ot=Ge.getElementById(qe);return ot?[ot]:[]}}):(S.filter.ID=function(qe){var Ge=qe.replace(Or,gn);return function(ot){var it=typeof ot.getAttributeNode<"u"&&ot.getAttributeNode("id");return it&&it.value===Ge}},S.find.ID=function(qe,Ge){if(typeof Ge.getElementById<"u"&&ye){var ot,it,xt,dt=Ge.getElementById(qe);if(dt){if(ot=dt.getAttributeNode("id"),ot&&ot.value===qe)return[dt];for(xt=Ge.getElementsByName(qe),it=0;dt=xt[it++];)if(ot=dt.getAttributeNode("id"),ot&&ot.value===qe)return[dt]}return[]}}),S.find.TAG=function(qe,Ge){return typeof Ge.getElementsByTagName<"u"?Ge.getElementsByTagName(qe):Ge.querySelectorAll(qe)},S.find.CLASS=function(qe,Ge){if(typeof Ge.getElementsByClassName<"u"&&ye)return Ge.getElementsByClassName(qe)},Ce=[],Es(function(qe){var Ge;we.appendChild(qe).innerHTML="<a id='"+Ke+"' href='' disabled='disabled'></a><select id='"+Ke+"-\r\\' disabled='disabled'><option selected=''></option></select>",qe.querySelectorAll("[selected]").length||Ce.push("\\["+E+"*(?:value|"+te+")"),qe.querySelectorAll("[id~="+Ke+"-]").length||Ce.push("~="),qe.querySelectorAll("a#"+Ke+"+*").length||Ce.push(".#.+[+~]"),qe.querySelectorAll(":checked").length||Ce.push(":checked"),Ge=ae.createElement("input"),Ge.setAttribute("type","hidden"),qe.appendChild(Ge).setAttribute("name","D"),we.appendChild(qe).disabled=!0,qe.querySelectorAll(":disabled").length!==2&&Ce.push(":enabled",":disabled"),Ge=ae.createElement("input"),Ge.setAttribute("name",""),qe.appendChild(Ge),qe.querySelectorAll("[name='']").length||Ce.push("\\["+E+"*name"+E+"*="+E+`*(?:''|"")`)}),w.cssHas||Ce.push(":has"),Ce=Ce.length&&new RegExp(Ce.join("|")),I=function(qe,Ge){if(qe===Ge)return Q=!0,0;var ot=!qe.compareDocumentPosition-!Ge.compareDocumentPosition;return ot||(ot=(qe.ownerDocument||qe)==(Ge.ownerDocument||Ge)?qe.compareDocumentPosition(Ge):1,ot&1||!w.sortDetached&&Ge.compareDocumentPosition(qe)===ot?qe===ae||qe.ownerDocument==K&&dr.contains(K,qe)?-1:Ge===ae||Ge.ownerDocument==K&&dr.contains(K,Ge)?1:H?c.call(H,qe)-c.call(H,Ge):0:ot&4?-1:1)}),ae}dr.matches=function(he,je){return dr(he,null,null,je)},dr.matchesSelector=function(he,je){if(Sa(he),ye&&!nn[je+" "]&&(!Ce||!Ce.test(je)))try{var Ie=Ue.call(he,je);if(Ie||w.disconnectedMatch||he.document&&he.document.nodeType!==11)return Ie}catch{nn(je,!0)}return dr(je,ae,null,[he]).length>0},dr.contains=function(he,je){return(he.ownerDocument||he)!=ae&&Sa(he),y.contains(he,je)},dr.attr=function(he,je){(he.ownerDocument||he)!=ae&&Sa(he);var Ie=S.attrHandle[je.toLowerCase()],qe=Ie&&h.call(S.attrHandle,je.toLowerCase())?Ie(he,je,!ye):void 0;return qe!==void 0?qe:he.getAttribute(je)},dr.error=function(he){throw new Error("Syntax error, unrecognized expression: "+he)},y.uniqueSort=function(he){var je,Ie=[],qe=0,Ge=0;if(Q=!w.sortStable,H=!w.sortStable&&o.call(he,0),x.call(he,I),Q){for(;je=he[Ge++];)je===he[Ge]&&(qe=Ie.push(Ge));for(;qe--;)k.call(he,Ie[qe],1)}return H=null,he},y.fn.uniqueSort=function(){return this.pushStack(y.uniqueSort(o.apply(this)))},S=y.expr={cacheLength:50,createPseudo:Vn,match:Wt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(he){return he[1]=he[1].replace(Or,gn),he[3]=(he[3]||he[4]||he[5]||"").replace(Or,gn),he[2]==="~="&&(he[3]=" "+he[3]+" "),he.slice(0,4)},CHILD:function(he){return he[1]=he[1].toLowerCase(),he[1].slice(0,3)==="nth"?(he[3]||dr.error(he[0]),he[4]=+(he[4]?he[5]+(he[6]||1):2*(he[3]==="even"||he[3]==="odd")),he[5]=+(he[7]+he[8]||he[3]==="odd")):he[3]&&dr.error(he[0]),he},PSEUDO:function(he){var je,Ie=!he[6]&&he[2];return Wt.CHILD.test(he[0])?null:(he[3]?he[2]=he[4]||he[5]||"":Ie&&At.test(Ie)&&(je=An(Ie,!0))&&(je=Ie.indexOf(")",Ie.length-je)-Ie.length)&&(he[0]=he[0].slice(0,je),he[2]=Ie.slice(0,je)),he.slice(0,3))}},filter:{TAG:function(he){var je=he.replace(Or,gn).toLowerCase();return he==="*"?function(){return!0}:function(Ie){return A(Ie,je)}},CLASS:function(he){var je=Et[he+" "];return je||(je=new RegExp("(^|"+E+")"+he+"("+E+"|$)"))&&Et(he,function(Ie){return je.test(typeof Ie.className=="string"&&Ie.className||typeof Ie.getAttribute<"u"&&Ie.getAttribute("class")||"")})},ATTR:function(he,je,Ie){return function(qe){var Ge=dr.attr(qe,he);return Ge==null?je==="!=":je?(Ge+="",je==="="?Ge===Ie:je==="!="?Ge!==Ie:je==="^="?Ie&&Ge.indexOf(Ie)===0:je==="*="?Ie&&Ge.indexOf(Ie)>-1:je==="$="?Ie&&Ge.slice(-Ie.length)===Ie:je==="~="?(" "+Ge.replace(Re," ")+" ").indexOf(Ie)>-1:je==="|="?Ge===Ie||Ge.slice(0,Ie.length+1)===Ie+"-":!1):!0}},CHILD:function(he,je,Ie,qe,Ge){var ot=he.slice(0,3)!=="nth",it=he.slice(-4)!=="last",xt=je==="of-type";return qe===1&&Ge===0?function(dt){return!!dt.parentNode}:function(dt,Mt,Ct){var Ft,Yt,kt,ur,an,Zr=ot!==it?"nextSibling":"previousSibling",Bn=dt.parentNode,Hn=xt&&dt.nodeName.toLowerCase(),Ca=!Ct&&!xt,yn=!1;if(Bn){if(ot){for(;Zr;){for(kt=dt;kt=kt[Zr];)if(xt?A(kt,Hn):kt.nodeType===1)return!1;an=Zr=he==="only"&&!an&&"nextSibling"}return!0}if(an=[it?Bn.firstChild:Bn.lastChild],it&&Ca){for(Yt=Bn[Ke]||(Bn[Ke]={}),Ft=Yt[he]||[],ur=Ft[0]===Be&&Ft[1],yn=ur&&Ft[2],kt=ur&&Bn.childNodes[ur];kt=++ur&&kt&&kt[Zr]||(yn=ur=0)||an.pop();)if(kt.nodeType===1&&++yn&&kt===dt){Yt[he]=[Be,ur,yn];break}}else if(Ca&&(Yt=dt[Ke]||(dt[Ke]={}),Ft=Yt[he]||[],ur=Ft[0]===Be&&Ft[1],yn=ur),yn===!1)for(;(kt=++ur&&kt&&kt[Zr]||(yn=ur=0)||an.pop())&&!((xt?A(kt,Hn):kt.nodeType===1)&&++yn&&(Ca&&(Yt=kt[Ke]||(kt[Ke]={}),Yt[he]=[Be,yn]),kt===dt)););return yn-=Ge,yn===qe||yn%qe===0&&yn/qe>=0}}},PSEUDO:function(he,je){var Ie,qe=S.pseudos[he]||S.setFilters[he.toLowerCase()]||dr.error("unsupported pseudo: "+he);return qe[Ke]?qe(je):qe.length>1?(Ie=[he,he,"",je],S.setFilters.hasOwnProperty(he.toLowerCase())?Vn(function(Ge,ot){for(var it,xt=qe(Ge,je),dt=xt.length;dt--;)it=c.call(Ge,xt[dt]),Ge[it]=!(ot[it]=xt[dt])}):function(Ge){return qe(Ge,0,Ie)}):qe}},pseudos:{not:Vn(function(he){var je=[],Ie=[],qe=Xs(he.replace(C,"$1"));return qe[Ke]?Vn(function(Ge,ot,it,xt){for(var dt,Mt=qe(Ge,null,xt,[]),Ct=Ge.length;Ct--;)(dt=Mt[Ct])&&(Ge[Ct]=!(ot[Ct]=dt))}):function(Ge,ot,it){return je[0]=Ge,qe(je,null,it,Ie),je[0]=null,!Ie.pop()}}),has:Vn(function(he){return function(je){return dr(he,je).length>0}}),contains:Vn(function(he){return he=he.replace(Or,gn),function(je){return(je.textContent||y.text(je)).indexOf(he)>-1}}),lang:Vn(function(he){return Ot.test(he||"")||dr.error("unsupported lang: "+he),he=he.replace(Or,gn).toLowerCase(),function(je){var Ie;do if(Ie=ye?je.lang:je.getAttribute("xml:lang")||je.getAttribute("lang"))return Ie=Ie.toLowerCase(),Ie===he||Ie.indexOf(he+"-")===0;while((je=je.parentNode)&&je.nodeType===1);return!1}}),target:function(he){var je=e.location&&e.location.hash;return je&&je.slice(1)===he.id},root:function(he){return he===we},focus:function(he){return he===qc()&&ae.hasFocus()&&!!(he.type||he.href||~he.tabIndex)},enabled:En(!1),disabled:En(!0),checked:function(he){return A(he,"input")&&!!he.checked||A(he,"option")&&!!he.selected},selected:function(he){return he.parentNode&&he.parentNode.selectedIndex,he.selected===!0},empty:function(he){for(he=he.firstChild;he;he=he.nextSibling)if(he.nodeType<6)return!1;return!0},parent:function(he){return!S.pseudos.empty(he)},header:function(he){return xr.test(he.nodeName)},input:function(he){return gr.test(he.nodeName)},button:function(he){return A(he,"input")&&he.type==="button"||A(he,"button")},text:function(he){var je;return A(he,"input")&&he.type==="text"&&((je=he.getAttribute("type"))==null||je.toLowerCase()==="text")},first:Ma(function(){return[0]}),last:Ma(function(he,je){return[je-1]}),eq:Ma(function(he,je,Ie){return[Ie<0?Ie+je:Ie]}),even:Ma(function(he,je){for(var Ie=0;Ie<je;Ie+=2)he.push(Ie);return he}),odd:Ma(function(he,je){for(var Ie=1;Ie<je;Ie+=2)he.push(Ie);return he}),lt:Ma(function(he,je,Ie){var qe;for(Ie<0?qe=Ie+je:Ie>je?qe=je:qe=Ie;--qe>=0;)he.push(qe);return he}),gt:Ma(function(he,je,Ie){for(var qe=Ie<0?Ie+je:Ie;++qe<je;)he.push(qe);return he})}},S.pseudos.nth=S.pseudos.eq;for(m in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[m]=Wl(m);for(m in{submit:!0,reset:!0})S.pseudos[m]=Fi(m);function Bi(){}Bi.prototype=S.filters=S.pseudos,S.setFilters=new Bi;function An(he,je){var Ie,qe,Ge,ot,it,xt,dt,Mt=er[he+" "];if(Mt)return je?0:Mt.slice(0);for(it=he,xt=[],dt=S.preFilter;it;){(!Ie||(qe=Ye.exec(it)))&&(qe&&(it=it.slice(qe[0].length)||it),xt.push(Ge=[])),Ie=!1,(qe=ft.exec(it))&&(Ie=qe.shift(),Ge.push({value:Ie,type:qe[0].replace(C," ")}),it=it.slice(Ie.length));for(ot in S.filter)(qe=Wt[ot].exec(it))&&(!dt[ot]||(qe=dt[ot](qe)))&&(Ie=qe.shift(),Ge.push({value:Ie,type:ot,matches:qe}),it=it.slice(Ie.length));if(!Ie)break}return je?it.length:it?dr.error(he):er(he,xt).slice(0)}function $i(he){for(var je=0,Ie=he.length,qe="";je<Ie;je++)qe+=he[je].value;return qe}function Eo(he,je,Ie){var qe=je.dir,Ge=je.next,ot=Ge||qe,it=Ie&&ot==="parentNode",xt=at++;return je.first?function(dt,Mt,Ct){for(;dt=dt[qe];)if(dt.nodeType===1||it)return he(dt,Mt,Ct);return!1}:function(dt,Mt,Ct){var Ft,Yt,kt=[Be,xt];if(Ct){for(;dt=dt[qe];)if((dt.nodeType===1||it)&&he(dt,Mt,Ct))return!0}else for(;dt=dt[qe];)if(dt.nodeType===1||it)if(Yt=dt[Ke]||(dt[Ke]={}),Ge&&A(dt,Ge))dt=dt[qe]||dt;else{if((Ft=Yt[ot])&&Ft[0]===Be&&Ft[1]===xt)return kt[2]=Ft[2];if(Yt[ot]=kt,kt[2]=he(dt,Mt,Ct))return!0}return!1}}function qi(he){return he.length>1?function(je,Ie,qe){for(var Ge=he.length;Ge--;)if(!he[Ge](je,Ie,qe))return!1;return!0}:he[0]}function Fa(he,je,Ie){for(var qe=0,Ge=je.length;qe<Ge;qe++)dr(he,je[qe],Ie);return Ie}function Ys(he,je,Ie,qe,Ge){for(var ot,it=[],xt=0,dt=he.length,Mt=je!=null;xt<dt;xt++)(ot=he[xt])&&(!Ie||Ie(ot,qe,Ge))&&(it.push(ot),Mt&&je.push(xt));return it}function Ui(he,je,Ie,qe,Ge,ot){return qe&&!qe[Ke]&&(qe=Ui(qe)),Ge&&!Ge[Ke]&&(Ge=Ui(Ge,ot)),Vn(function(it,xt,dt,Mt){var Ct,Ft,Yt,kt,ur=[],an=[],Zr=xt.length,Bn=it||Fa(je||"*",dt.nodeType?[dt]:dt,[]),Hn=he&&(it||!je)?Ys(Bn,ur,he,dt,Mt):Bn;if(Ie?(kt=Ge||(it?he:Zr||qe)?[]:xt,Ie(Hn,kt,dt,Mt)):kt=Hn,qe)for(Ct=Ys(kt,an),qe(Ct,[],dt,Mt),Ft=Ct.length;Ft--;)(Yt=Ct[Ft])&&(kt[an[Ft]]=!(Hn[an[Ft]]=Yt));if(it){if(Ge||he){if(Ge){for(Ct=[],Ft=kt.length;Ft--;)(Yt=kt[Ft])&&Ct.push(Hn[Ft]=Yt);Ge(null,kt=[],Ct,Mt)}for(Ft=kt.length;Ft--;)(Yt=kt[Ft])&&(Ct=Ge?c.call(it,Yt):ur[Ft])>-1&&(it[Ct]=!(xt[Ct]=Yt))}}else kt=Ys(kt===xt?kt.splice(Zr,kt.length):kt),Ge?Ge(null,xt,kt,Mt):Z.apply(xt,kt)})}function zi(he){for(var je,Ie,qe,Ge=he.length,ot=S.relative[he[0].type],it=ot||S.relative[" "],xt=ot?1:0,dt=Eo(function(Ft){return Ft===je},it,!0),Mt=Eo(function(Ft){return c.call(je,Ft)>-1},it,!0),Ct=[function(Ft,Yt,kt){var ur=!ot&&(kt||Yt!=F)||((je=Yt).nodeType?dt(Ft,Yt,kt):Mt(Ft,Yt,kt));return je=null,ur}];xt<Ge;xt++)if(Ie=S.relative[he[xt].type])Ct=[Eo(qi(Ct),Ie)];else{if(Ie=S.filter[he[xt].type].apply(null,he[xt].matches),Ie[Ke]){for(qe=++xt;qe<Ge&&!S.relative[he[qe].type];qe++);return Ui(xt>1&&qi(Ct),xt>1&&$i(he.slice(0,xt-1).concat({value:he[xt-2].type===" "?"*":""})).replace(C,"$1"),Ie,xt<qe&&zi(he.slice(xt,qe)),qe<Ge&&zi(he=he.slice(qe)),qe<Ge&&$i(he))}Ct.push(Ie)}return qi(Ct)}function Ao(he,je){var Ie=je.length>0,qe=he.length>0,Ge=function(ot,it,xt,dt,Mt){var Ct,Ft,Yt,kt=0,ur="0",an=ot&&[],Zr=[],Bn=F,Hn=ot||qe&&S.find.TAG("*",Mt),Ca=Be+=Bn==null?1:Math.random()||.1,yn=Hn.length;for(Mt&&(F=it==ae||it||Mt);ur!==yn&&(Ct=Hn[ur])!=null;ur++){if(qe&&Ct){for(Ft=0,!it&&Ct.ownerDocument!=ae&&(Sa(Ct),xt=!ye);Yt=he[Ft++];)if(Yt(Ct,it||ae,xt)){Z.call(dt,Ct);break}Mt&&(Be=Ca)}Ie&&((Ct=!Yt&&Ct)&&kt--,ot&&an.push(Ct))}if(kt+=ur,Ie&&ur!==kt){for(Ft=0;Yt=je[Ft++];)Yt(an,Zr,it,xt);if(ot){if(kt>0)for(;ur--;)an[ur]||Zr[ur]||(Zr[ur]=P.call(dt));Zr=Ys(Zr)}Z.apply(dt,Zr),Mt&&!ot&&Zr.length>0&&kt+je.length>1&&y.uniqueSort(dt)}return Mt&&(Be=Ca,F=Bn),an};return Ie?Vn(Ge):Ge}function Xs(he,je){var Ie,qe=[],Ge=[],ot=qt[he+" "];if(!ot){for(je||(je=An(he)),Ie=je.length;Ie--;)ot=zi(je[Ie]),ot[Ke]?qe.push(ot):Ge.push(ot);ot=qt(he,Ao(Ge,qe)),ot.selector=he}return ot}function na(he,je,Ie,qe){var Ge,ot,it,xt,dt,Mt=typeof he=="function"&&he,Ct=!qe&&An(he=Mt.selector||he);if(Ie=Ie||[],Ct.length===1){if(ot=Ct[0]=Ct[0].slice(0),ot.length>2&&(it=ot[0]).type==="ID"&&je.nodeType===9&&ye&&S.relative[ot[1].type]){if(je=(S.find.ID(it.matches[0].replace(Or,gn),je)||[])[0],je)Mt&&(je=je.parentNode);else return Ie;he=he.slice(ot.shift().value.length)}for(Ge=Wt.needsContext.test(he)?0:ot.length;Ge--&&(it=ot[Ge],!S.relative[xt=it.type]);)if((dt=S.find[xt])&&(qe=dt(it.matches[0].replace(Or,gn),_n.test(ot[0].type)&&_o(je.parentNode)||je))){if(ot.splice(Ge,1),he=qe.length&&$i(ot),!he)return Z.apply(Ie,qe),Ie;break}}return(Mt||Xs(he,Ct))(qe,je,!ye,Ie,!je||_n.test(he)&&_o(je.parentNode)||je),Ie}w.sortStable=Ke.split("").sort(I).join("")===Ke,Sa(),w.sortDetached=Es(function(he){return he.compareDocumentPosition(ae.createElement("fieldset"))&1}),y.find=dr,y.expr[":"]=y.expr.pseudos,y.unique=y.uniqueSort,dr.compile=Xs,dr.select=na,dr.setDocument=Sa,dr.tokenize=An,dr.escape=y.escapeSelector,dr.getText=y.text,dr.isXML=y.isXMLDoc,dr.selectors=y.expr,dr.support=y.support,dr.uniqueSort=y.uniqueSort})();var B=function(m,S,F){for(var H=[],Q=F!==void 0;(m=m[S])&&m.nodeType!==9;)if(m.nodeType===1){if(Q&&y(m).is(F))break;H.push(m)}return H},G=function(m,S){for(var F=[];m;m=m.nextSibling)m.nodeType===1&&m!==S&&F.push(m);return F},X=y.expr.match.needsContext,T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(m,S,F){return b(S)?y.grep(m,function(H,Q){return!!S.call(H,Q,H)!==F}):S.nodeType?y.grep(m,function(H){return H===S!==F}):typeof S!="string"?y.grep(m,function(H){return c.call(S,H)>-1!==F}):y.filter(S,m,F)}y.filter=function(m,S,F){var H=S[0];return F&&(m=":not("+m+")"),S.length===1&&H.nodeType===1?y.find.matchesSelector(H,m)?[H]:[]:y.find.matches(m,y.grep(S,function(Q){return Q.nodeType===1}))},y.fn.extend({find:function(m){var S,F,H=this.length,Q=this;if(typeof m!="string")return this.pushStack(y(m).filter(function(){for(S=0;S<H;S++)if(y.contains(Q[S],this))return!0}));for(F=this.pushStack([]),S=0;S<H;S++)y.find(m,Q[S],F);return H>1?y.uniqueSort(F):F},filter:function(m){return this.pushStack(J(this,m||[],!1))},not:function(m){return this.pushStack(J(this,m||[],!0))},is:function(m){return!!J(this,typeof m=="string"&&X.test(m)?y(m):m||[],!1).length}});var ee,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ue=y.fn.init=function(m,S,F){var H,Q;if(!m)return this;if(F=F||ee,typeof m=="string")if(m[0]==="<"&&m[m.length-1]===">"&&m.length>=3?H=[null,m,null]:H=le.exec(m),H&&(H[1]||!S))if(H[1]){if(S=S instanceof y?S[0]:S,y.merge(this,y.parseHTML(H[1],S&&S.nodeType?S.ownerDocument||S:v,!0)),T.test(H[1])&&y.isPlainObject(S))for(H in S)b(this[H])?this[H](S[H]):this.attr(H,S[H]);return this}else return Q=v.getElementById(H[2]),Q&&(this[0]=Q,this.length=1),this;else return!S||S.jquery?(S||F).find(m):this.constructor(S).find(m);else{if(m.nodeType)return this[0]=m,this.length=1,this;if(b(m))return F.ready!==void 0?F.ready(m):m(y)}return y.makeArray(m,this)};ue.prototype=y.fn,ee=y(v);var de=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({has:function(m){var S=y(m,this),F=S.length;return this.filter(function(){for(var H=0;H<F;H++)if(y.contains(this,S[H]))return!0})},closest:function(m,S){var F,H=0,Q=this.length,Z=[],ae=typeof m!="string"&&y(m);if(!X.test(m)){for(;H<Q;H++)for(F=this[H];F&&F!==S;F=F.parentNode)if(F.nodeType<11&&(ae?ae.index(F)>-1:F.nodeType===1&&y.find.matchesSelector(F,m))){Z.push(F);break}}return this.pushStack(Z.length>1?y.uniqueSort(Z):Z)},index:function(m){return m?typeof m=="string"?c.call(y(m),this[0]):c.call(this,m.jquery?m[0]:m):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(m,S){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(m,S))))},addBack:function(m){return this.add(m==null?this.prevObject:this.prevObject.filter(m))}});function me(m,S){for(;(m=m[S])&&m.nodeType!==1;);return m}y.each({parent:function(m){var S=m.parentNode;return S&&S.nodeType!==11?S:null},parents:function(m){return B(m,"parentNode")},parentsUntil:function(m,S,F){return B(m,"parentNode",F)},next:function(m){return me(m,"nextSibling")},prev:function(m){return me(m,"previousSibling")},nextAll:function(m){return B(m,"nextSibling")},prevAll:function(m){return B(m,"previousSibling")},nextUntil:function(m,S,F){return B(m,"nextSibling",F)},prevUntil:function(m,S,F){return B(m,"previousSibling",F)},siblings:function(m){return G((m.parentNode||{}).firstChild,m)},children:function(m){return G(m.firstChild)},contents:function(m){return m.contentDocument!=null&&a(m.contentDocument)?m.contentDocument:(A(m,"template")&&(m=m.content||m),y.merge([],m.childNodes))}},function(m,S){y.fn[m]=function(F,H){var Q=y.map(this,S,F);return m.slice(-5)!=="Until"&&(H=F),H&&typeof H=="string"&&(Q=y.filter(H,Q)),this.length>1&&(be[m]||y.uniqueSort(Q),de.test(m)&&Q.reverse()),this.pushStack(Q)}});var ve=/[^\x20\t\r\n\f]+/g;function Le(m){var S={};return y.each(m.match(ve)||[],function(F,H){S[H]=!0}),S}y.Callbacks=function(m){m=typeof m=="string"?Le(m):y.extend({},m);var S,F,H,Q,Z=[],ae=[],we=-1,ye=function(){for(Q=Q||m.once,H=S=!0;ae.length;we=-1)for(F=ae.shift();++we<Z.length;)Z[we].apply(F[0],F[1])===!1&&m.stopOnFalse&&(we=Z.length,F=!1);m.memory||(F=!1),S=!1,Q&&(F?Z=[]:Z="")},Ce={add:function(){return Z&&(F&&!S&&(we=Z.length-1,ae.push(F)),function Ue(Ke){y.each(Ke,function(Be,at){b(at)?(!m.unique||!Ce.has(at))&&Z.push(at):at&&at.length&&U(at)!=="string"&&Ue(at)})}(arguments),F&&!S&&ye()),this},remove:function(){return y.each(arguments,function(Ue,Ke){for(var Be;(Be=y.inArray(Ke,Z,Be))>-1;)Z.splice(Be,1),Be<=we&&we--}),this},has:function(Ue){return Ue?y.inArray(Ue,Z)>-1:Z.length>0},empty:function(){return Z&&(Z=[]),this},disable:function(){return Q=ae=[],Z=F="",this},disabled:function(){return!Z},lock:function(){return Q=ae=[],!F&&!S&&(Z=F=""),this},locked:function(){return!!Q},fireWith:function(Ue,Ke){return Q||(Ke=Ke||[],Ke=[Ue,Ke.slice?Ke.slice():Ke],ae.push(Ke),S||ye()),this},fire:function(){return Ce.fireWith(this,arguments),this},fired:function(){return!!H}};return Ce};function Te(m){return m}function We(m){throw m}function ct(m,S,F,H){var Q;try{m&&b(Q=m.promise)?Q.call(m).done(S).fail(F):m&&b(Q=m.then)?Q.call(m,S,F):S.apply(void 0,[m].slice(H))}catch(Z){F.apply(void 0,[Z])}}y.extend({Deferred:function(m){var S=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],F="pending",H={state:function(){return F},always:function(){return Q.done(arguments).fail(arguments),this},catch:function(Z){return H.then(null,Z)},pipe:function(){var Z=arguments;return y.Deferred(function(ae){y.each(S,function(we,ye){var Ce=b(Z[ye[4]])&&Z[ye[4]];Q[ye[1]](function(){var Ue=Ce&&Ce.apply(this,arguments);Ue&&b(Ue.promise)?Ue.promise().progress(ae.notify).done(ae.resolve).fail(ae.reject):ae[ye[0]+"With"](this,Ce?[Ue]:arguments)})}),Z=null}).promise()},then:function(Z,ae,we){var ye=0;function Ce(Ue,Ke,Be,at){return function(){var Et=this,er=arguments,qt=function(){var I,te;if(!(Ue<ye)){if(I=Be.apply(Et,er),I===Ke.promise())throw new TypeError("Thenable self-resolution");te=I&&(typeof I=="object"||typeof I=="function")&&I.then,b(te)?at?te.call(I,Ce(ye,Ke,Te,at),Ce(ye,Ke,We,at)):(ye++,te.call(I,Ce(ye,Ke,Te,at),Ce(ye,Ke,We,at),Ce(ye,Ke,Te,Ke.notifyWith))):(Be!==Te&&(Et=void 0,er=[I]),(at||Ke.resolveWith)(Et,er))}},nn=at?qt:function(){try{qt()}catch(I){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(I,nn.error),Ue+1>=ye&&(Be!==We&&(Et=void 0,er=[I]),Ke.rejectWith(Et,er))}};Ue?nn():(y.Deferred.getErrorHook?nn.error=y.Deferred.getErrorHook():y.Deferred.getStackHook&&(nn.error=y.Deferred.getStackHook()),e.setTimeout(nn))}}return y.Deferred(function(Ue){S[0][3].add(Ce(0,Ue,b(we)?we:Te,Ue.notifyWith)),S[1][3].add(Ce(0,Ue,b(Z)?Z:Te)),S[2][3].add(Ce(0,Ue,b(ae)?ae:We))}).promise()},promise:function(Z){return Z!=null?y.extend(Z,H):H}},Q={};return y.each(S,function(Z,ae){var we=ae[2],ye=ae[5];H[ae[1]]=we.add,ye&&we.add(function(){F=ye},S[3-Z][2].disable,S[3-Z][3].disable,S[0][2].lock,S[0][3].lock),we.add(ae[3].fire),Q[ae[0]]=function(){return Q[ae[0]+"With"](this===Q?void 0:this,arguments),this},Q[ae[0]+"With"]=we.fireWith}),H.promise(Q),m&&m.call(Q,Q),Q},when:function(m){var S=arguments.length,F=S,H=Array(F),Q=o.call(arguments),Z=y.Deferred(),ae=function(we){return function(ye){H[we]=this,Q[we]=arguments.length>1?o.call(arguments):ye,--S||Z.resolveWith(H,Q)}};if(S<=1&&(ct(m,Z.done(ae(F)).resolve,Z.reject,!S),Z.state()==="pending"||b(Q[F]&&Q[F].then)))return Z.then();for(;F--;)ct(Q[F],ae(F),Z.reject);return Z.promise()}});var Fe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(m,S){e.console&&e.console.warn&&m&&Fe.test(m.name)&&e.console.warn("jQuery.Deferred exception: "+m.message,m.stack,S)},y.readyException=function(m){e.setTimeout(function(){throw m})};var ge=y.Deferred();y.fn.ready=function(m){return ge.then(m).catch(function(S){y.readyException(S)}),this},y.extend({isReady:!1,readyWait:1,ready:function(m){(m===!0?--y.readyWait:y.isReady)||(y.isReady=!0,!(m!==!0&&--y.readyWait>0)&&ge.resolveWith(v,[y]))}}),y.ready.then=ge.then;function yt(){v.removeEventListener("DOMContentLoaded",yt),e.removeEventListener("load",yt),y.ready()}v.readyState==="complete"||v.readyState!=="loading"&&!v.documentElement.doScroll?e.setTimeout(y.ready):(v.addEventListener("DOMContentLoaded",yt),e.addEventListener("load",yt));var rt=function(m,S,F,H,Q,Z,ae){var we=0,ye=m.length,Ce=F==null;if(U(F)==="object"){Q=!0;for(we in F)rt(m,S,we,F[we],!0,Z,ae)}else if(H!==void 0&&(Q=!0,b(H)||(ae=!0),Ce&&(ae?(S.call(m,H),S=null):(Ce=S,S=function(Ue,Ke,Be){return Ce.call(y(Ue),Be)})),S))for(;we<ye;we++)S(m[we],F,ae?H:H.call(m[we],we,S(m[we],F)));return Q?m:Ce?S.call(m):ye?S(m[0],F):Z},Je=/^-ms-/,et=/-([a-z])/g;function oe(m,S){return S.toUpperCase()}function ke(m){return m.replace(Je,"ms-").replace(et,oe)}var Pe=function(m){return m.nodeType===1||m.nodeType===9||!+m.nodeType};function tt(){this.expando=y.expando+tt.uid++}tt.uid=1,tt.prototype={cache:function(m){var S=m[this.expando];return S||(S={},Pe(m)&&(m.nodeType?m[this.expando]=S:Object.defineProperty(m,this.expando,{value:S,configurable:!0}))),S},set:function(m,S,F){var H,Q=this.cache(m);if(typeof S=="string")Q[ke(S)]=F;else for(H in S)Q[ke(H)]=S[H];return Q},get:function(m,S){return S===void 0?this.cache(m):m[this.expando]&&m[this.expando][ke(S)]},access:function(m,S,F){return S===void 0||S&&typeof S=="string"&&F===void 0?this.get(m,S):(this.set(m,S,F),F!==void 0?F:S)},remove:function(m,S){var F,H=m[this.expando];if(H!==void 0){if(S!==void 0)for(Array.isArray(S)?S=S.map(ke):(S=ke(S),S=S in H?[S]:S.match(ve)||[]),F=S.length;F--;)delete H[S[F]];(S===void 0||y.isEmptyObject(H))&&(m.nodeType?m[this.expando]=void 0:delete m[this.expando])}},hasData:function(m){var S=m[this.expando];return S!==void 0&&!y.isEmptyObject(S)}};var $e=new tt,st=new tt,Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/[A-Z]/g;function St(m){return m==="true"?!0:m==="false"?!1:m==="null"?null:m===+m+""?+m:Nt.test(m)?JSON.parse(m):m}function Kt(m,S,F){var H;if(F===void 0&&m.nodeType===1)if(H="data-"+S.replace(Tt,"-$&").toLowerCase(),F=m.getAttribute(H),typeof F=="string"){try{F=St(F)}catch{}st.set(m,S,F)}else F=void 0;return F}y.extend({hasData:function(m){return st.hasData(m)||$e.hasData(m)},data:function(m,S,F){return st.access(m,S,F)},removeData:function(m,S){st.remove(m,S)},_data:function(m,S,F){return $e.access(m,S,F)},_removeData:function(m,S){$e.remove(m,S)}}),y.fn.extend({data:function(m,S){var F,H,Q,Z=this[0],ae=Z&&Z.attributes;if(m===void 0){if(this.length&&(Q=st.get(Z),Z.nodeType===1&&!$e.get(Z,"hasDataAttrs"))){for(F=ae.length;F--;)ae[F]&&(H=ae[F].name,H.indexOf("data-")===0&&(H=ke(H.slice(5)),Kt(Z,H,Q[H])));$e.set(Z,"hasDataAttrs",!0)}return Q}return typeof m=="object"?this.each(function(){st.set(this,m)}):rt(this,function(we){var ye;if(Z&&we===void 0)return ye=st.get(Z,m),ye!==void 0||(ye=Kt(Z,m),ye!==void 0)?ye:void 0;this.each(function(){st.set(this,m,we)})},null,S,arguments.length>1,null,!0)},removeData:function(m){return this.each(function(){st.remove(this,m)})}}),y.extend({queue:function(m,S,F){var H;if(m)return S=(S||"fx")+"queue",H=$e.get(m,S),F&&(!H||Array.isArray(F)?H=$e.access(m,S,y.makeArray(F)):H.push(F)),H||[]},dequeue:function(m,S){S=S||"fx";var F=y.queue(m,S),H=F.length,Q=F.shift(),Z=y._queueHooks(m,S),ae=function(){y.dequeue(m,S)};Q==="inprogress"&&(Q=F.shift(),H--),Q&&(S==="fx"&&F.unshift("inprogress"),delete Z.stop,Q.call(m,ae,Z)),!H&&Z&&Z.empty.fire()},_queueHooks:function(m,S){var F=S+"queueHooks";return $e.get(m,F)||$e.access(m,F,{empty:y.Callbacks("once memory").add(function(){$e.remove(m,[S+"queue",F])})})}}),y.fn.extend({queue:function(m,S){var F=2;return typeof m!="string"&&(S=m,m="fx",F--),arguments.length<F?y.queue(this[0],m):S===void 0?this:this.each(function(){var H=y.queue(this,m,S);y._queueHooks(this,m),m==="fx"&&H[0]!=="inprogress"&&y.dequeue(this,m)})},dequeue:function(m){return this.each(function(){y.dequeue(this,m)})},clearQueue:function(m){return this.queue(m||"fx",[])},promise:function(m,S){var F,H=1,Q=y.Deferred(),Z=this,ae=this.length,we=function(){--H||Q.resolveWith(Z,[Z])};for(typeof m!="string"&&(S=m,m=void 0),m=m||"fx";ae--;)F=$e.get(Z[ae],m+"queueHooks"),F&&F.empty&&(H++,F.empty.add(we));return we(),Q.promise(S)}});var ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gr=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),Gt=["Top","Right","Bottom","Left"],mn=v.documentElement,nr=function(m){return y.contains(m.ownerDocument,m)},Cr={composed:!0};mn.getRootNode&&(nr=function(m){return y.contains(m.ownerDocument,m)||m.getRootNode(Cr)===m.ownerDocument});var ra=function(m,S){return m=S||m,m.style.display==="none"||m.style.display===""&&nr(m)&&y.css(m,"display")==="none"};function sr(m,S,F,H){var Q,Z,ae=20,we=H?function(){return H.cur()}:function(){return y.css(m,S,"")},ye=we(),Ce=F&&F[3]||(y.cssNumber[S]?"":"px"),Ue=m.nodeType&&(y.cssNumber[S]||Ce!=="px"&&+ye)&&Gr.exec(y.css(m,S));if(Ue&&Ue[3]!==Ce){for(ye=ye/2,Ce=Ce||Ue[3],Ue=+ye||1;ae--;)y.style(m,S,Ue+Ce),(1-Z)*(1-(Z=we()/ye||.5))<=0&&(ae=0),Ue=Ue/Z;Ue=Ue*2,y.style(m,S,Ue+Ce),F=F||[]}return F&&(Ue=+Ue||+ye||0,Q=F[1]?Ue+(F[1]+1)*F[2]:+F[2],H&&(H.unit=Ce,H.start=Ue,H.end=Q)),Q}var Ns={};function qr(m){var S,F=m.ownerDocument,H=m.nodeName,Q=Ns[H];return Q||(S=F.body.appendChild(F.createElement(H)),Q=y.css(S,"display"),S.parentNode.removeChild(S),Q==="none"&&(Q="block"),Ns[H]=Q,Q)}function Sn(m,S){for(var F,H,Q=[],Z=0,ae=m.length;Z<ae;Z++)H=m[Z],H.style&&(F=H.style.display,S?(F==="none"&&(Q[Z]=$e.get(H,"display")||null,Q[Z]||(H.style.display="")),H.style.display===""&&ra(H)&&(Q[Z]=qr(H))):F!=="none"&&(Q[Z]="none",$e.set(H,"display",F)));for(Z=0;Z<ae;Z++)Q[Z]!=null&&(m[Z].style.display=Q[Z]);return m}y.fn.extend({show:function(){return Sn(this,!0)},hide:function(){return Sn(this)},toggle:function(m){return typeof m=="boolean"?m?this.show():this.hide():this.each(function(){ra(this)?y(this).show():y(this).hide()})}});var mr=/^(?:checkbox|radio)$/i,tr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var m=v.createDocumentFragment(),S=m.appendChild(v.createElement("div")),F=v.createElement("input");F.setAttribute("type","radio"),F.setAttribute("checked","checked"),F.setAttribute("name","t"),S.appendChild(F),w.checkClone=S.cloneNode(!0).cloneNode(!0).lastChild.checked,S.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!S.cloneNode(!0).lastChild.defaultValue,S.innerHTML="<option></option>",w.option=!!S.lastChild})();var Dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td,w.option||(Dt.optgroup=Dt.option=[1,"<select multiple='multiple'>","</select>"]);function lr(m,S){var F;return typeof m.getElementsByTagName<"u"?F=m.getElementsByTagName(S||"*"):typeof m.querySelectorAll<"u"?F=m.querySelectorAll(S||"*"):F=[],S===void 0||S&&A(m,S)?y.merge([m],F):F}function cr(m,S){for(var F=0,H=m.length;F<H;F++)$e.set(m[F],"globalEval",!S||$e.get(S[F],"globalEval"))}var rn=/<|&#?\w+;/;function Cn(m,S,F,H,Q){for(var Z,ae,we,ye,Ce,Ue,Ke=S.createDocumentFragment(),Be=[],at=0,Et=m.length;at<Et;at++)if(Z=m[at],Z||Z===0)if(U(Z)==="object")y.merge(Be,Z.nodeType?[Z]:Z);else if(!rn.test(Z))Be.push(S.createTextNode(Z));else{for(ae=ae||Ke.appendChild(S.createElement("div")),we=(tr.exec(Z)||["",""])[1].toLowerCase(),ye=Dt[we]||Dt._default,ae.innerHTML=ye[1]+y.htmlPrefilter(Z)+ye[2],Ue=ye[0];Ue--;)ae=ae.lastChild;y.merge(Be,ae.childNodes),ae=Ke.firstChild,ae.textContent=""}for(Ke.textContent="",at=0;Z=Be[at++];){if(H&&y.inArray(Z,H)>-1){Q&&Q.push(Z);continue}if(Ce=nr(Z),ae=lr(Ke.appendChild(Z),"script"),Ce&&cr(ae),F)for(Ue=0;Z=ae[Ue++];)wt.test(Z.type||"")&&F.push(Z)}return Ke}var mt=/^([^.]*)(?:\.(.+)|)/;function Fr(){return!0}function Lr(){return!1}function Rr(m,S,F,H,Q,Z){var ae,we;if(typeof S=="object"){typeof F!="string"&&(H=H||F,F=void 0);for(we in S)Rr(m,we,F,H,S[we],Z);return m}if(H==null&&Q==null?(Q=F,H=F=void 0):Q==null&&(typeof F=="string"?(Q=H,H=void 0):(Q=H,H=F,F=void 0)),Q===!1)Q=Lr;else if(!Q)return m;return Z===1&&(ae=Q,Q=function(ye){return y().off(ye),ae.apply(this,arguments)},Q.guid=ae.guid||(ae.guid=y.guid++)),m.each(function(){y.event.add(this,S,Q,H,F)})}y.event={global:{},add:function(m,S,F,H,Q){var Z,ae,we,ye,Ce,Ue,Ke,Be,at,Et,er,qt=$e.get(m);if(Pe(m))for(F.handler&&(Z=F,F=Z.handler,Q=Z.selector),Q&&y.find.matchesSelector(mn,Q),F.guid||(F.guid=y.guid++),(ye=qt.events)||(ye=qt.events=Object.create(null)),(ae=qt.handle)||(ae=qt.handle=function(nn){return typeof y<"u"&&y.event.triggered!==nn.type?y.event.dispatch.apply(m,arguments):void 0}),S=(S||"").match(ve)||[""],Ce=S.length;Ce--;)we=mt.exec(S[Ce])||[],at=er=we[1],Et=(we[2]||"").split(".").sort(),at&&(Ke=y.event.special[at]||{},at=(Q?Ke.delegateType:Ke.bindType)||at,Ke=y.event.special[at]||{},Ue=y.extend({type:at,origType:er,data:H,handler:F,guid:F.guid,selector:Q,needsContext:Q&&y.expr.match.needsContext.test(Q),namespace:Et.join(".")},Z),(Be=ye[at])||(Be=ye[at]=[],Be.delegateCount=0,(!Ke.setup||Ke.setup.call(m,H,Et,ae)===!1)&&m.addEventListener&&m.addEventListener(at,ae)),Ke.add&&(Ke.add.call(m,Ue),Ue.handler.guid||(Ue.handler.guid=F.guid)),Q?Be.splice(Be.delegateCount++,0,Ue):Be.push(Ue),y.event.global[at]=!0)},remove:function(m,S,F,H,Q){var Z,ae,we,ye,Ce,Ue,Ke,Be,at,Et,er,qt=$e.hasData(m)&&$e.get(m);if(!(!qt||!(ye=qt.events))){for(S=(S||"").match(ve)||[""],Ce=S.length;Ce--;){if(we=mt.exec(S[Ce])||[],at=er=we[1],Et=(we[2]||"").split(".").sort(),!at){for(at in ye)y.event.remove(m,at+S[Ce],F,H,!0);continue}for(Ke=y.event.special[at]||{},at=(H?Ke.delegateType:Ke.bindType)||at,Be=ye[at]||[],we=we[2]&&new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"),ae=Z=Be.length;Z--;)Ue=Be[Z],(Q||er===Ue.origType)&&(!F||F.guid===Ue.guid)&&(!we||we.test(Ue.namespace))&&(!H||H===Ue.selector||H==="**"&&Ue.selector)&&(Be.splice(Z,1),Ue.selector&&Be.delegateCount--,Ke.remove&&Ke.remove.call(m,Ue));ae&&!Be.length&&((!Ke.teardown||Ke.teardown.call(m,Et,qt.handle)===!1)&&y.removeEvent(m,at,qt.handle),delete ye[at])}y.isEmptyObject(ye)&&$e.remove(m,"handle events")}},dispatch:function(m){var S,F,H,Q,Z,ae,we=new Array(arguments.length),ye=y.event.fix(m),Ce=($e.get(this,"events")||Object.create(null))[ye.type]||[],Ue=y.event.special[ye.type]||{};for(we[0]=ye,S=1;S<arguments.length;S++)we[S]=arguments[S];if(ye.delegateTarget=this,!(Ue.preDispatch&&Ue.preDispatch.call(this,ye)===!1)){for(ae=y.event.handlers.call(this,ye,Ce),S=0;(Q=ae[S++])&&!ye.isPropagationStopped();)for(ye.currentTarget=Q.elem,F=0;(Z=Q.handlers[F++])&&!ye.isImmediatePropagationStopped();)(!ye.rnamespace||Z.namespace===!1||ye.rnamespace.test(Z.namespace))&&(ye.handleObj=Z,ye.data=Z.data,H=((y.event.special[Z.origType]||{}).handle||Z.handler).apply(Q.elem,we),H!==void 0&&(ye.result=H)===!1&&(ye.preventDefault(),ye.stopPropagation()));return Ue.postDispatch&&Ue.postDispatch.call(this,ye),ye.result}},handlers:function(m,S){var F,H,Q,Z,ae,we=[],ye=S.delegateCount,Ce=m.target;if(ye&&Ce.nodeType&&!(m.type==="click"&&m.button>=1)){for(;Ce!==this;Ce=Ce.parentNode||this)if(Ce.nodeType===1&&!(m.type==="click"&&Ce.disabled===!0)){for(Z=[],ae={},F=0;F<ye;F++)H=S[F],Q=H.selector+" ",ae[Q]===void 0&&(ae[Q]=H.needsContext?y(Q,this).index(Ce)>-1:y.find(Q,this,null,[Ce]).length),ae[Q]&&Z.push(H);Z.length&&we.push({elem:Ce,handlers:Z})}}return Ce=this,ye<S.length&&we.push({elem:Ce,handlers:S.slice(ye)}),we},addProp:function(m,S){Object.defineProperty(y.Event.prototype,m,{enumerable:!0,configurable:!0,get:b(S)?function(){if(this.originalEvent)return S(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[m]},set:function(F){Object.defineProperty(this,m,{enumerable:!0,configurable:!0,writable:!0,value:F})}})},fix:function(m){return m[y.expando]?m:new y.Event(m)},special:{load:{noBubble:!0},click:{setup:function(m){var S=this||m;return mr.test(S.type)&&S.click&&A(S,"input")&&Nr(S,"click",!0),!1},trigger:function(m){var S=this||m;return mr.test(S.type)&&S.click&&A(S,"input")&&Nr(S,"click"),!0},_default:function(m){var S=m.target;return mr.test(S.type)&&S.click&&A(S,"input")&&$e.get(S,"click")||A(S,"a")}},beforeunload:{postDispatch:function(m){m.result!==void 0&&m.originalEvent&&(m.originalEvent.returnValue=m.result)}}}};function Nr(m,S,F){if(!F){$e.get(m,S)===void 0&&y.event.add(m,S,Fr);return}$e.set(m,S,!1),y.event.add(m,S,{namespace:!1,handler:function(H){var Q,Z=$e.get(this,S);if(H.isTrigger&1&&this[S]){if(Z)(y.event.special[S]||{}).delegateType&&H.stopPropagation();else if(Z=o.call(arguments),$e.set(this,S,Z),this[S](),Q=$e.get(this,S),$e.set(this,S,!1),Z!==Q)return H.stopImmediatePropagation(),H.preventDefault(),Q}else Z&&($e.set(this,S,y.event.trigger(Z[0],Z.slice(1),this)),H.stopPropagation(),H.isImmediatePropagationStopped=Fr)}})}y.removeEvent=function(m,S,F){m.removeEventListener&&m.removeEventListener(S,F)},y.Event=function(m,S){if(!(this instanceof y.Event))return new y.Event(m,S);m&&m.type?(this.originalEvent=m,this.type=m.type,this.isDefaultPrevented=m.defaultPrevented||m.defaultPrevented===void 0&&m.returnValue===!1?Fr:Lr,this.target=m.target&&m.target.nodeType===3?m.target.parentNode:m.target,this.currentTarget=m.currentTarget,this.relatedTarget=m.relatedTarget):this.type=m,S&&y.extend(this,S),this.timeStamp=m&&m.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:Lr,isPropagationStopped:Lr,isImmediatePropagationStopped:Lr,isSimulated:!1,preventDefault:function(){var m=this.originalEvent;this.isDefaultPrevented=Fr,m&&!this.isSimulated&&m.preventDefault()},stopPropagation:function(){var m=this.originalEvent;this.isPropagationStopped=Fr,m&&!this.isSimulated&&m.stopPropagation()},stopImmediatePropagation:function(){var m=this.originalEvent;this.isImmediatePropagationStopped=Fr,m&&!this.isSimulated&&m.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(m,S){function F(H){if(v.documentMode){var Q=$e.get(this,"handle"),Z=y.event.fix(H);Z.type=H.type==="focusin"?"focus":"blur",Z.isSimulated=!0,Q(H),Z.target===Z.currentTarget&&Q(Z)}else y.event.simulate(S,H.target,y.event.fix(H))}y.event.special[m]={setup:function(){var H;if(Nr(this,m,!0),v.documentMode)H=$e.get(this,S),H||this.addEventListener(S,F),$e.set(this,S,(H||0)+1);else return!1},trigger:function(){return Nr(this,m),!0},teardown:function(){var H;if(v.documentMode)H=$e.get(this,S)-1,H?$e.set(this,S,H):(this.removeEventListener(S,F),$e.remove(this,S));else return!1},_default:function(H){return $e.get(H.target,m)},delegateType:S},y.event.special[S]={setup:function(){var H=this.ownerDocument||this.document||this,Q=v.documentMode?this:H,Z=$e.get(Q,S);Z||(v.documentMode?this.addEventListener(S,F):H.addEventListener(m,F,!0)),$e.set(Q,S,(Z||0)+1)},teardown:function(){var H=this.ownerDocument||this.document||this,Q=v.documentMode?this:H,Z=$e.get(Q,S)-1;Z?$e.set(Q,S,Z):(v.documentMode?this.removeEventListener(S,F):H.removeEventListener(m,F,!0),$e.remove(Q,S))}}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(m,S){y.event.special[m]={delegateType:S,bindType:S,handle:function(F){var H,Q=this,Z=F.relatedTarget,ae=F.handleObj;return(!Z||Z!==Q&&!y.contains(Q,Z))&&(F.type=ae.origType,H=ae.handler.apply(this,arguments),F.type=S),H}}}),y.fn.extend({on:function(m,S,F,H){return Rr(this,m,S,F,H)},one:function(m,S,F,H){return Rr(this,m,S,F,H,1)},off:function(m,S,F){var H,Q;if(m&&m.preventDefault&&m.handleObj)return H=m.handleObj,y(m.delegateTarget).off(H.namespace?H.origType+"."+H.namespace:H.origType,H.selector,H.handler),this;if(typeof m=="object"){for(Q in m)this.off(Q,S,m[Q]);return this}return(S===!1||typeof S=="function")&&(F=S,S=void 0),F===!1&&(F=Lr),this.each(function(){y.event.remove(this,m,F,S)})}});var Tr=/<script|<style|<link/i,Xr=/checked\s*(?:[^=]|=\s*.checked.)/i,Ra=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ca(m,S){return A(m,"table")&&A(S.nodeType!==11?S:S.firstChild,"tr")&&y(m).children("tbody")[0]||m}function es(m){return m.type=(m.getAttribute("type")!==null)+"/"+m.type,m}function ts(m){return(m.type||"").slice(0,5)==="true/"?m.type=m.type.slice(5):m.removeAttribute("type"),m}function Ta(m,S){var F,H,Q,Z,ae,we,ye;if(S.nodeType===1){if($e.hasData(m)&&(Z=$e.get(m),ye=Z.events,ye)){$e.remove(S,"handle events");for(Q in ye)for(F=0,H=ye[Q].length;F<H;F++)y.event.add(S,Q,ye[Q][F])}st.hasData(m)&&(ae=st.access(m),we=y.extend({},ae),st.set(S,we))}}function Ss(m,S){var F=S.nodeName.toLowerCase();F==="input"&&mr.test(m.type)?S.checked=m.checked:(F==="input"||F==="textarea")&&(S.defaultValue=m.defaultValue)}function Tn(m,S,F,H){S=i(S);var Q,Z,ae,we,ye,Ce,Ue=0,Ke=m.length,Be=Ke-1,at=S[0],Et=b(at);if(Et||Ke>1&&typeof at=="string"&&!w.checkClone&&Xr.test(at))return m.each(function(er){var qt=m.eq(er);Et&&(S[0]=at.call(this,er,qt.html())),Tn(qt,S,F,H)});if(Ke&&(Q=Cn(S,m[0].ownerDocument,!1,m,H),Z=Q.firstChild,Q.childNodes.length===1&&(Q=Z),Z||H)){for(ae=y.map(lr(Q,"script"),es),we=ae.length;Ue<Ke;Ue++)ye=Q,Ue!==Be&&(ye=y.clone(ye,!0,!0),we&&y.merge(ae,lr(ye,"script"))),F.call(m[Ue],ye,Ue);if(we)for(Ce=ae[ae.length-1].ownerDocument,y.map(ae,ts),Ue=0;Ue<we;Ue++)ye=ae[Ue],wt.test(ye.type||"")&&!$e.access(ye,"globalEval")&&y.contains(Ce,ye)&&(ye.src&&(ye.type||"").toLowerCase()!=="module"?y._evalUrl&&!ye.noModule&&y._evalUrl(ye.src,{nonce:ye.nonce||ye.getAttribute("nonce")},Ce):L(ye.textContent.replace(Ra,""),ye,Ce))}return m}function rs(m,S,F){for(var H,Q=S?y.filter(S,m):m,Z=0;(H=Q[Z])!=null;Z++)!F&&H.nodeType===1&&y.cleanData(lr(H)),H.parentNode&&(F&&nr(H)&&cr(lr(H,"script")),H.parentNode.removeChild(H));return m}y.extend({htmlPrefilter:function(m){return m},clone:function(m,S,F){var H,Q,Z,ae,we=m.cloneNode(!0),ye=nr(m);if(!w.noCloneChecked&&(m.nodeType===1||m.nodeType===11)&&!y.isXMLDoc(m))for(ae=lr(we),Z=lr(m),H=0,Q=Z.length;H<Q;H++)Ss(Z[H],ae[H]);if(S)if(F)for(Z=Z||lr(m),ae=ae||lr(we),H=0,Q=Z.length;H<Q;H++)Ta(Z[H],ae[H]);else Ta(m,we);return ae=lr(we,"script"),ae.length>0&&cr(ae,!ye&&lr(m,"script")),we},cleanData:function(m){for(var S,F,H,Q=y.event.special,Z=0;(F=m[Z])!==void 0;Z++)if(Pe(F)){if(S=F[$e.expando]){if(S.events)for(H in S.events)Q[H]?y.event.remove(F,H):y.removeEvent(F,H,S.handle);F[$e.expando]=void 0}F[st.expando]&&(F[st.expando]=void 0)}}}),y.fn.extend({detach:function(m){return rs(this,m,!0)},remove:function(m){return rs(this,m)},text:function(m){return rt(this,function(S){return S===void 0?y.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=S)})},null,m,arguments.length)},append:function(){return Tn(this,arguments,function(m){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var S=ca(this,m);S.appendChild(m)}})},prepend:function(){return Tn(this,arguments,function(m){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var S=ca(this,m);S.insertBefore(m,S.firstChild)}})},before:function(){return Tn(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this)})},after:function(){return Tn(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this.nextSibling)})},empty:function(){for(var m,S=0;(m=this[S])!=null;S++)m.nodeType===1&&(y.cleanData(lr(m,!1)),m.textContent="");return this},clone:function(m,S){return m=m??!1,S=S??m,this.map(function(){return y.clone(this,m,S)})},html:function(m){return rt(this,function(S){var F=this[0]||{},H=0,Q=this.length;if(S===void 0&&F.nodeType===1)return F.innerHTML;if(typeof S=="string"&&!Tr.test(S)&&!Dt[(tr.exec(S)||["",""])[1].toLowerCase()]){S=y.htmlPrefilter(S);try{for(;H<Q;H++)F=this[H]||{},F.nodeType===1&&(y.cleanData(lr(F,!1)),F.innerHTML=S);F=0}catch{}}F&&this.empty().append(S)},null,m,arguments.length)},replaceWith:function(){var m=[];return Tn(this,arguments,function(S){var F=this.parentNode;y.inArray(this,m)<0&&(y.cleanData(lr(this)),F&&F.replaceChild(S,this))},m)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(m,S){y.fn[m]=function(F){for(var H,Q=[],Z=y(F),ae=Z.length-1,we=0;we<=ae;we++)H=we===ae?this:this.clone(!0),y(Z[we])[S](H),l.apply(Q,H.get());return this.pushStack(Q)}});var Us=new RegExp("^("+ut+")(?!px)[a-z%]+$","i"),bo=/^--/,zs=function(m){var S=m.ownerDocument.defaultView;return(!S||!S.opener)&&(S=e),S.getComputedStyle(m)},Xo=function(m,S,F){var H,Q,Z={};for(Q in S)Z[Q]=m.style[Q],m.style[Q]=S[Q];H=F.call(m);for(Q in S)m.style[Q]=Z[Q];return H},Ii=new RegExp(Gt.join("|"),"i");(function(){function m(){if(Ce){ye.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ce.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",mn.appendChild(ye).appendChild(Ce);var Ue=e.getComputedStyle(Ce);F=Ue.top!=="1%",we=S(Ue.marginLeft)===12,Ce.style.right="60%",Z=S(Ue.right)===36,H=S(Ue.width)===36,Ce.style.position="absolute",Q=S(Ce.offsetWidth/3)===12,mn.removeChild(ye),Ce=null}}function S(Ue){return Math.round(parseFloat(Ue))}var F,H,Q,Z,ae,we,ye=v.createElement("div"),Ce=v.createElement("div");Ce.style&&(Ce.style.backgroundClip="content-box",Ce.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=Ce.style.backgroundClip==="content-box",y.extend(w,{boxSizingReliable:function(){return m(),H},pixelBoxStyles:function(){return m(),Z},pixelPosition:function(){return m(),F},reliableMarginLeft:function(){return m(),we},scrollboxSize:function(){return m(),Q},reliableTrDimensions:function(){var Ue,Ke,Be,at;return ae==null&&(Ue=v.createElement("table"),Ke=v.createElement("tr"),Be=v.createElement("div"),Ue.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ke.style.cssText="box-sizing:content-box;border:1px solid",Ke.style.height="1px",Be.style.height="9px",Be.style.display="block",mn.appendChild(Ue).appendChild(Ke).appendChild(Be),at=e.getComputedStyle(Ke),ae=parseInt(at.height,10)+parseInt(at.borderTopWidth,10)+parseInt(at.borderBottomWidth,10)===Ke.offsetHeight,mn.removeChild(Ue)),ae}}))})();function vo(m,S,F){var H,Q,Z,ae,we=bo.test(S),ye=m.style;return F=F||zs(m),F&&(ae=F.getPropertyValue(S)||F[S],we&&ae&&(ae=ae.replace(C,"$1")||void 0),ae===""&&!nr(m)&&(ae=y.style(m,S)),!w.pixelBoxStyles()&&Us.test(ae)&&Ii.test(S)&&(H=ye.width,Q=ye.minWidth,Z=ye.maxWidth,ye.minWidth=ye.maxWidth=ye.width=ae,ae=F.width,ye.width=H,ye.minWidth=Q,ye.maxWidth=Z)),ae!==void 0?ae+"":ae}function Ec(m,S){return{get:function(){if(m()){delete this.get;return}return(this.get=S).apply(this,arguments)}}}var Ac=["Webkit","Moz","ms"],Qo=v.createElement("div").style,Bl={};function fu(m){for(var S=m[0].toUpperCase()+m.slice(1),F=Ac.length;F--;)if(m=Ac[F]+S,m in Qo)return m}function Zo(m){var S=y.cssProps[m]||Bl[m];return S||(m in Qo?m:Bl[m]=fu(m)||m)}var pu=/^(none|table(?!-c[ea]).+)/,Pc={position:"absolute",visibility:"hidden",display:"block"},Dc={letterSpacing:"0",fontWeight:"400"};function ei(m,S,F){var H=Gr.exec(S);return H?Math.max(0,H[2]-(F||0))+(H[3]||"px"):S}function $l(m,S,F,H,Q,Z){var ae=S==="width"?1:0,we=0,ye=0,Ce=0;if(F===(H?"border":"content"))return 0;for(;ae<4;ae+=2)F==="margin"&&(Ce+=y.css(m,F+Gt[ae],!0,Q)),H?(F==="content"&&(ye-=y.css(m,"padding"+Gt[ae],!0,Q)),F!=="margin"&&(ye-=y.css(m,"border"+Gt[ae]+"Width",!0,Q))):(ye+=y.css(m,"padding"+Gt[ae],!0,Q),F!=="padding"?ye+=y.css(m,"border"+Gt[ae]+"Width",!0,Q):we+=y.css(m,"border"+Gt[ae]+"Width",!0,Q));return!H&&Z>=0&&(ye+=Math.max(0,Math.ceil(m["offset"+S[0].toUpperCase()+S.slice(1)]-Z-ye-we-.5))||0),ye+Ce}function Qr(m,S,F){var H=zs(m),Q=!w.boxSizingReliable()||F,Z=Q&&y.css(m,"boxSizing",!1,H)==="border-box",ae=Z,we=vo(m,S,H),ye="offset"+S[0].toUpperCase()+S.slice(1);if(Us.test(we)){if(!F)return we;we="auto"}return(!w.boxSizingReliable()&&Z||!w.reliableTrDimensions()&&A(m,"tr")||we==="auto"||!parseFloat(we)&&y.css(m,"display",!1,H)==="inline")&&m.getClientRects().length&&(Z=y.css(m,"boxSizing",!1,H)==="border-box",ae=ye in m,ae&&(we=m[ye])),we=parseFloat(we)||0,we+$l(m,S,F||(Z?"border":"content"),ae,H,we)+"px"}y.extend({cssHooks:{opacity:{get:function(m,S){if(S){var F=vo(m,"opacity");return F===""?"1":F}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(m,S,F,H){if(!(!m||m.nodeType===3||m.nodeType===8||!m.style)){var Q,Z,ae,we=ke(S),ye=bo.test(S),Ce=m.style;if(ye||(S=Zo(we)),ae=y.cssHooks[S]||y.cssHooks[we],F!==void 0){if(Z=typeof F,Z==="string"&&(Q=Gr.exec(F))&&Q[1]&&(F=sr(m,S,Q),Z="number"),F==null||F!==F)return;Z==="number"&&!ye&&(F+=Q&&Q[3]||(y.cssNumber[we]?"":"px")),!w.clearCloneStyle&&F===""&&S.indexOf("background")===0&&(Ce[S]="inherit"),(!ae||!("set"in ae)||(F=ae.set(m,F,H))!==void 0)&&(ye?Ce.setProperty(S,F):Ce[S]=F)}else return ae&&"get"in ae&&(Q=ae.get(m,!1,H))!==void 0?Q:Ce[S]}},css:function(m,S,F,H){var Q,Z,ae,we=ke(S),ye=bo.test(S);return ye||(S=Zo(we)),ae=y.cssHooks[S]||y.cssHooks[we],ae&&"get"in ae&&(Q=ae.get(m,!0,F)),Q===void 0&&(Q=vo(m,S,H)),Q==="normal"&&S in Dc&&(Q=Dc[S]),F===""||F?(Z=parseFloat(Q),F===!0||isFinite(Z)?Z||0:Q):Q}}),y.each(["height","width"],function(m,S){y.cssHooks[S]={get:function(F,H,Q){if(H)return pu.test(y.css(F,"display"))&&(!F.getClientRects().length||!F.getBoundingClientRect().width)?Xo(F,Pc,function(){return Qr(F,S,Q)}):Qr(F,S,Q)},set:function(F,H,Q){var Z,ae=zs(F),we=!w.scrollboxSize()&&ae.position==="absolute",ye=we||Q,Ce=ye&&y.css(F,"boxSizing",!1,ae)==="border-box",Ue=Q?$l(F,S,Q,Ce,ae):0;return Ce&&we&&(Ue-=Math.ceil(F["offset"+S[0].toUpperCase()+S.slice(1)]-parseFloat(ae[S])-$l(F,S,"border",!1,ae)-.5)),Ue&&(Z=Gr.exec(H))&&(Z[3]||"px")!=="px"&&(F.style[S]=H,H=y.css(F,S)),ei(F,H,Ue)}}}),y.cssHooks.marginLeft=Ec(w.reliableMarginLeft,function(m,S){if(S)return(parseFloat(vo(m,"marginLeft"))||m.getBoundingClientRect().left-Xo(m,{marginLeft:0},function(){return m.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(m,S){y.cssHooks[m+S]={expand:function(F){for(var H=0,Q={},Z=typeof F=="string"?F.split(" "):[F];H<4;H++)Q[m+Gt[H]+S]=Z[H]||Z[H-2]||Z[0];return Q}},m!=="margin"&&(y.cssHooks[m+S].set=ei)}),y.fn.extend({css:function(m,S){return rt(this,function(F,H,Q){var Z,ae,we={},ye=0;if(Array.isArray(H)){for(Z=zs(F),ae=H.length;ye<ae;ye++)we[H[ye]]=y.css(F,H[ye],!1,Z);return we}return Q!==void 0?y.style(F,H,Q):y.css(F,H)},m,S,arguments.length>1)}});function On(m,S,F,H,Q){return new On.prototype.init(m,S,F,H,Q)}y.Tween=On,On.prototype={constructor:On,init:function(m,S,F,H,Q,Z){this.elem=m,this.prop=F,this.easing=Q||y.easing._default,this.options=S,this.start=this.now=this.cur(),this.end=H,this.unit=Z||(y.cssNumber[F]?"":"px")},cur:function(){var m=On.propHooks[this.prop];return m&&m.get?m.get(this):On.propHooks._default.get(this)},run:function(m){var S,F=On.propHooks[this.prop];return this.options.duration?this.pos=S=y.easing[this.easing](m,this.options.duration*m,0,1,this.options.duration):this.pos=S=m,this.now=(this.end-this.start)*S+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),F&&F.set?F.set(this):On.propHooks._default.set(this),this}},On.prototype.init.prototype=On.prototype,On.propHooks={_default:{get:function(m){var S;return m.elem.nodeType!==1||m.elem[m.prop]!=null&&m.elem.style[m.prop]==null?m.elem[m.prop]:(S=y.css(m.elem,m.prop,""),!S||S==="auto"?0:S)},set:function(m){y.fx.step[m.prop]?y.fx.step[m.prop](m):m.elem.nodeType===1&&(y.cssHooks[m.prop]||m.elem.style[Zo(m.prop)]!=null)?y.style(m.elem,m.prop,m.now+m.unit):m.elem[m.prop]=m.now}}},On.propHooks.scrollTop=On.propHooks.scrollLeft={set:function(m){m.elem.nodeType&&m.elem.parentNode&&(m.elem[m.prop]=m.now)}},y.easing={linear:function(m){return m},swing:function(m){return .5-Math.cos(m*Math.PI)/2},_default:"swing"},y.fx=On.prototype.init,y.fx.step={};var Vs,ti,ql=/^(?:toggle|show|hide)$/,mu=/queueHooks$/;function ja(){ti&&(v.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(ja):e.setTimeout(ja,y.fx.interval),y.fx.tick())}function ri(){return e.setTimeout(function(){Vs=void 0}),Vs=Date.now()}function Mn(m,S){var F,H=0,Q={height:m};for(S=S?1:0;H<4;H+=2-S)F=Gt[H],Q["margin"+F]=Q["padding"+F]=m;return S&&(Q.opacity=Q.width=m),Q}function Li(m,S,F){for(var H,Q=(da.tweeners[S]||[]).concat(da.tweeners["*"]),Z=0,ae=Q.length;Z<ae;Z++)if(H=Q[Z].call(F,S,m))return H}function Ic(m,S,F){var H,Q,Z,ae,we,ye,Ce,Ue,Ke="width"in S||"height"in S,Be=this,at={},Et=m.style,er=m.nodeType&&ra(m),qt=$e.get(m,"fxshow");F.queue||(ae=y._queueHooks(m,"fx"),ae.unqueued==null&&(ae.unqueued=0,we=ae.empty.fire,ae.empty.fire=function(){ae.unqueued||we()}),ae.unqueued++,Be.always(function(){Be.always(function(){ae.unqueued--,y.queue(m,"fx").length||ae.empty.fire()})}));for(H in S)if(Q=S[H],ql.test(Q)){if(delete S[H],Z=Z||Q==="toggle",Q===(er?"hide":"show"))if(Q==="show"&&qt&&qt[H]!==void 0)er=!0;else continue;at[H]=qt&&qt[H]||y.style(m,H)}if(ye=!y.isEmptyObject(S),!(!ye&&y.isEmptyObject(at))){Ke&&m.nodeType===1&&(F.overflow=[Et.overflow,Et.overflowX,Et.overflowY],Ce=qt&&qt.display,Ce==null&&(Ce=$e.get(m,"display")),Ue=y.css(m,"display"),Ue==="none"&&(Ce?Ue=Ce:(Sn([m],!0),Ce=m.style.display||Ce,Ue=y.css(m,"display"),Sn([m]))),(Ue==="inline"||Ue==="inline-block"&&Ce!=null)&&y.css(m,"float")==="none"&&(ye||(Be.done(function(){Et.display=Ce}),Ce==null&&(Ue=Et.display,Ce=Ue==="none"?"":Ue)),Et.display="inline-block")),F.overflow&&(Et.overflow="hidden",Be.always(function(){Et.overflow=F.overflow[0],Et.overflowX=F.overflow[1],Et.overflowY=F.overflow[2]})),ye=!1;for(H in at)ye||(qt?"hidden"in qt&&(er=qt.hidden):qt=$e.access(m,"fxshow",{display:Ce}),Z&&(qt.hidden=!er),er&&Sn([m],!0),Be.done(function(){er||Sn([m]),$e.remove(m,"fxshow");for(H in at)y.style(m,H,at[H])})),ye=Li(er?qt[H]:0,H,Be),H in qt||(qt[H]=ye.start,er&&(ye.end=ye.start,ye.start=0))}}function gu(m,S){var F,H,Q,Z,ae;for(F in m)if(H=ke(F),Q=S[H],Z=m[F],Array.isArray(Z)&&(Q=Z[1],Z=m[F]=Z[0]),F!==H&&(m[H]=Z,delete m[F]),ae=y.cssHooks[H],ae&&"expand"in ae){Z=ae.expand(Z),delete m[H];for(F in Z)F in m||(m[F]=Z[F],S[F]=Q)}else S[H]=Q}function da(m,S,F){var H,Q,Z=0,ae=da.prefilters.length,we=y.Deferred().always(function(){delete ye.elem}),ye=function(){if(Q)return!1;for(var Ke=Vs||ri(),Be=Math.max(0,Ce.startTime+Ce.duration-Ke),at=Be/Ce.duration||0,Et=1-at,er=0,qt=Ce.tweens.length;er<qt;er++)Ce.tweens[er].run(Et);return we.notifyWith(m,[Ce,Et,Be]),Et<1&&qt?Be:(qt||we.notifyWith(m,[Ce,1,0]),we.resolveWith(m,[Ce]),!1)},Ce=we.promise({elem:m,props:y.extend({},S),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},F),originalProperties:S,originalOptions:F,startTime:Vs||ri(),duration:F.duration,tweens:[],createTween:function(Ke,Be){var at=y.Tween(m,Ce.opts,Ke,Be,Ce.opts.specialEasing[Ke]||Ce.opts.easing);return Ce.tweens.push(at),at},stop:function(Ke){var Be=0,at=Ke?Ce.tweens.length:0;if(Q)return this;for(Q=!0;Be<at;Be++)Ce.tweens[Be].run(1);return Ke?(we.notifyWith(m,[Ce,1,0]),we.resolveWith(m,[Ce,Ke])):we.rejectWith(m,[Ce,Ke]),this}}),Ue=Ce.props;for(gu(Ue,Ce.opts.specialEasing);Z<ae;Z++)if(H=da.prefilters[Z].call(Ce,m,Ue,Ce.opts),H)return b(H.stop)&&(y._queueHooks(Ce.elem,Ce.opts.queue).stop=H.stop.bind(H)),H;return y.map(Ue,Li,Ce),b(Ce.opts.start)&&Ce.opts.start.call(m,Ce),Ce.progress(Ce.opts.progress).done(Ce.opts.done,Ce.opts.complete).fail(Ce.opts.fail).always(Ce.opts.always),y.fx.timer(y.extend(ye,{elem:m,anim:Ce,queue:Ce.opts.queue})),Ce}y.Animation=y.extend(da,{tweeners:{"*":[function(m,S){var F=this.createTween(m,S);return sr(F.elem,m,Gr.exec(S),F),F}]},tweener:function(m,S){b(m)?(S=m,m=["*"]):m=m.match(ve);for(var F,H=0,Q=m.length;H<Q;H++)F=m[H],da.tweeners[F]=da.tweeners[F]||[],da.tweeners[F].unshift(S)},prefilters:[Ic],prefilter:function(m,S){S?da.prefilters.unshift(m):da.prefilters.push(m)}}),y.speed=function(m,S,F){var H=m&&typeof m=="object"?y.extend({},m):{complete:F||!F&&S||b(m)&&m,duration:m,easing:F&&S||S&&!b(S)&&S};return y.fx.off?H.duration=0:typeof H.duration!="number"&&(H.duration in y.fx.speeds?H.duration=y.fx.speeds[H.duration]:H.duration=y.fx.speeds._default),(H.queue==null||H.queue===!0)&&(H.queue="fx"),H.old=H.complete,H.complete=function(){b(H.old)&&H.old.call(this),H.queue&&y.dequeue(this,H.queue)},H},y.fn.extend({fadeTo:function(m,S,F,H){return this.filter(ra).css("opacity",0).show().end().animate({opacity:S},m,F,H)},animate:function(m,S,F,H){var Q=y.isEmptyObject(m),Z=y.speed(S,F,H),ae=function(){var we=da(this,y.extend({},m),Z);(Q||$e.get(this,"finish"))&&we.stop(!0)};return ae.finish=ae,Q||Z.queue===!1?this.each(ae):this.queue(Z.queue,ae)},stop:function(m,S,F){var H=function(Q){var Z=Q.stop;delete Q.stop,Z(F)};return typeof m!="string"&&(F=S,S=m,m=void 0),S&&this.queue(m||"fx",[]),this.each(function(){var Q=!0,Z=m!=null&&m+"queueHooks",ae=y.timers,we=$e.get(this);if(Z)we[Z]&&we[Z].stop&&H(we[Z]);else for(Z in we)we[Z]&&we[Z].stop&&mu.test(Z)&&H(we[Z]);for(Z=ae.length;Z--;)ae[Z].elem===this&&(m==null||ae[Z].queue===m)&&(ae[Z].anim.stop(F),Q=!1,ae.splice(Z,1));(Q||!F)&&y.dequeue(this,m)})},finish:function(m){return m!==!1&&(m=m||"fx"),this.each(function(){var S,F=$e.get(this),H=F[m+"queue"],Q=F[m+"queueHooks"],Z=y.timers,ae=H?H.length:0;for(F.finish=!0,y.queue(this,m,[]),Q&&Q.stop&&Q.stop.call(this,!0),S=Z.length;S--;)Z[S].elem===this&&Z[S].queue===m&&(Z[S].anim.stop(!0),Z.splice(S,1));for(S=0;S<ae;S++)H[S]&&H[S].finish&&H[S].finish.call(this);delete F.finish})}}),y.each(["toggle","show","hide"],function(m,S){var F=y.fn[S];y.fn[S]=function(H,Q,Z){return H==null||typeof H=="boolean"?F.apply(this,arguments):this.animate(Mn(S,!0),H,Q,Z)}}),y.each({slideDown:Mn("show"),slideUp:Mn("hide"),slideToggle:Mn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(m,S){y.fn[m]=function(F,H,Q){return this.animate(S,F,H,Q)}}),y.timers=[],y.fx.tick=function(){var m,S=0,F=y.timers;for(Vs=Date.now();S<F.length;S++)m=F[S],!m()&&F[S]===m&&F.splice(S--,1);F.length||y.fx.stop(),Vs=void 0},y.fx.timer=function(m){y.timers.push(m),y.fx.start()},y.fx.interval=13,y.fx.start=function(){ti||(ti=!0,ja())},y.fx.stop=function(){ti=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(m,S){return m=y.fx&&y.fx.speeds[m]||m,S=S||"fx",this.queue(S,function(F,H){var Q=e.setTimeout(F,m);H.stop=function(){e.clearTimeout(Q)}})},function(){var m=v.createElement("input"),S=v.createElement("select"),F=S.appendChild(v.createElement("option"));m.type="checkbox",w.checkOn=m.value!=="",w.optSelected=F.selected,m=v.createElement("input"),m.value="t",m.type="radio",w.radioValue=m.value==="t"}();var Lc,wo=y.expr.attrHandle;y.fn.extend({attr:function(m,S){return rt(this,y.attr,m,S,arguments.length>1)},removeAttr:function(m){return this.each(function(){y.removeAttr(this,m)})}}),y.extend({attr:function(m,S,F){var H,Q,Z=m.nodeType;if(!(Z===3||Z===8||Z===2)){if(typeof m.getAttribute>"u")return y.prop(m,S,F);if((Z!==1||!y.isXMLDoc(m))&&(Q=y.attrHooks[S.toLowerCase()]||(y.expr.match.bool.test(S)?Lc:void 0)),F!==void 0){if(F===null){y.removeAttr(m,S);return}return Q&&"set"in Q&&(H=Q.set(m,F,S))!==void 0?H:(m.setAttribute(S,F+""),F)}return Q&&"get"in Q&&(H=Q.get(m,S))!==null?H:(H=y.find.attr(m,S),H??void 0)}},attrHooks:{type:{set:function(m,S){if(!w.radioValue&&S==="radio"&&A(m,"input")){var F=m.value;return m.setAttribute("type",S),F&&(m.value=F),S}}}},removeAttr:function(m,S){var F,H=0,Q=S&&S.match(ve);if(Q&&m.nodeType===1)for(;F=Q[H++];)m.removeAttribute(F)}}),Lc={set:function(m,S,F){return S===!1?y.removeAttr(m,F):m.setAttribute(F,F),F}},y.each(y.expr.match.bool.source.match(/\w+/g),function(m,S){var F=wo[S]||y.find.attr;wo[S]=function(H,Q,Z){var ae,we,ye=Q.toLowerCase();return Z||(we=wo[ye],wo[ye]=ae,ae=F(H,Q,Z)!=null?ye:null,wo[ye]=we),ae}});var yu=/^(?:input|select|textarea|button)$/i,Ul=/^(?:a|area)$/i;y.fn.extend({prop:function(m,S){return rt(this,y.prop,m,S,arguments.length>1)},removeProp:function(m){return this.each(function(){delete this[y.propFix[m]||m]})}}),y.extend({prop:function(m,S,F){var H,Q,Z=m.nodeType;if(!(Z===3||Z===8||Z===2))return(Z!==1||!y.isXMLDoc(m))&&(S=y.propFix[S]||S,Q=y.propHooks[S]),F!==void 0?Q&&"set"in Q&&(H=Q.set(m,F,S))!==void 0?H:m[S]=F:Q&&"get"in Q&&(H=Q.get(m,S))!==null?H:m[S]},propHooks:{tabIndex:{get:function(m){var S=y.find.attr(m,"tabindex");return S?parseInt(S,10):yu.test(m.nodeName)||Ul.test(m.nodeName)&&m.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(y.propHooks.selected={get:function(m){var S=m.parentNode;return S&&S.parentNode&&S.parentNode.selectedIndex,null},set:function(m){var S=m.parentNode;S&&(S.selectedIndex,S.parentNode&&S.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this});function Hs(m){var S=m.match(ve)||[];return S.join(" ")}function Ws(m){return m.getAttribute&&m.getAttribute("class")||""}function zl(m){return Array.isArray(m)?m:typeof m=="string"?m.match(ve)||[]:[]}y.fn.extend({addClass:function(m){var S,F,H,Q,Z,ae;return b(m)?this.each(function(we){y(this).addClass(m.call(this,we,Ws(this)))}):(S=zl(m),S.length?this.each(function(){if(H=Ws(this),F=this.nodeType===1&&" "+Hs(H)+" ",F){for(Z=0;Z<S.length;Z++)Q=S[Z],F.indexOf(" "+Q+" ")<0&&(F+=Q+" ");ae=Hs(F),H!==ae&&this.setAttribute("class",ae)}}):this)},removeClass:function(m){var S,F,H,Q,Z,ae;return b(m)?this.each(function(we){y(this).removeClass(m.call(this,we,Ws(this)))}):arguments.length?(S=zl(m),S.length?this.each(function(){if(H=Ws(this),F=this.nodeType===1&&" "+Hs(H)+" ",F){for(Z=0;Z<S.length;Z++)for(Q=S[Z];F.indexOf(" "+Q+" ")>-1;)F=F.replace(" "+Q+" "," ");ae=Hs(F),H!==ae&&this.setAttribute("class",ae)}}):this):this.attr("class","")},toggleClass:function(m,S){var F,H,Q,Z,ae=typeof m,we=ae==="string"||Array.isArray(m);return b(m)?this.each(function(ye){y(this).toggleClass(m.call(this,ye,Ws(this),S),S)}):typeof S=="boolean"&&we?S?this.addClass(m):this.removeClass(m):(F=zl(m),this.each(function(){if(we)for(Z=y(this),Q=0;Q<F.length;Q++)H=F[Q],Z.hasClass(H)?Z.removeClass(H):Z.addClass(H);else(m===void 0||ae==="boolean")&&(H=Ws(this),H&&$e.set(this,"__className__",H),this.setAttribute&&this.setAttribute("class",H||m===!1?"":$e.get(this,"__className__")||""))}))},hasClass:function(m){var S,F,H=0;for(S=" "+m+" ";F=this[H++];)if(F.nodeType===1&&(" "+Hs(Ws(F))+" ").indexOf(S)>-1)return!0;return!1}});var Gs=/\r/g;y.fn.extend({val:function(m){var S,F,H,Q=this[0];return arguments.length?(H=b(m),this.each(function(Z){var ae;this.nodeType===1&&(H?ae=m.call(this,Z,y(this).val()):ae=m,ae==null?ae="":typeof ae=="number"?ae+="":Array.isArray(ae)&&(ae=y.map(ae,function(we){return we==null?"":we+""})),S=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()],(!S||!("set"in S)||S.set(this,ae,"value")===void 0)&&(this.value=ae))})):Q?(S=y.valHooks[Q.type]||y.valHooks[Q.nodeName.toLowerCase()],S&&"get"in S&&(F=S.get(Q,"value"))!==void 0?F:(F=Q.value,typeof F=="string"?F.replace(Gs,""):F??"")):void 0}}),y.extend({valHooks:{option:{get:function(m){var S=y.find.attr(m,"value");return S??Hs(y.text(m))}},select:{get:function(m){var S,F,H,Q=m.options,Z=m.selectedIndex,ae=m.type==="select-one",we=ae?null:[],ye=ae?Z+1:Q.length;for(Z<0?H=ye:H=ae?Z:0;H<ye;H++)if(F=Q[H],(F.selected||H===Z)&&!F.disabled&&(!F.parentNode.disabled||!A(F.parentNode,"optgroup"))){if(S=y(F).val(),ae)return S;we.push(S)}return we},set:function(m,S){for(var F,H,Q=m.options,Z=y.makeArray(S),ae=Q.length;ae--;)H=Q[ae],(H.selected=y.inArray(y.valHooks.option.get(H),Z)>-1)&&(F=!0);return F||(m.selectedIndex=-1),Z}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(m,S){if(Array.isArray(S))return m.checked=y.inArray(y(m).val(),S)>-1}},w.checkOn||(y.valHooks[this].get=function(m){return m.getAttribute("value")===null?"on":m.value})});var Cs=e.location,ni={guid:Date.now()},Ri=/\?/;y.parseXML=function(m){var S,F;if(!m||typeof m!="string")return null;try{S=new e.DOMParser().parseFromString(m,"text/xml")}catch{}return F=S&&S.getElementsByTagName("parsererror")[0],(!S||F)&&y.error("Invalid XML: "+(F?y.map(F.childNodes,function(H){return H.textContent}).join(`
`):m)),S};var Fn=/^(?:focusinfocus|focusoutblur)$/,Rc=function(m){m.stopPropagation()};y.extend(y.event,{trigger:function(m,S,F,H){var Q,Z,ae,we,ye,Ce,Ue,Ke,Be=[F||v],at=h.call(m,"type")?m.type:m,Et=h.call(m,"namespace")?m.namespace.split("."):[];if(Z=Ke=ae=F=F||v,!(F.nodeType===3||F.nodeType===8)&&!Fn.test(at+y.event.triggered)&&(at.indexOf(".")>-1&&(Et=at.split("."),at=Et.shift(),Et.sort()),ye=at.indexOf(":")<0&&"on"+at,m=m[y.expando]?m:new y.Event(at,typeof m=="object"&&m),m.isTrigger=H?2:3,m.namespace=Et.join("."),m.rnamespace=m.namespace?new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m.result=void 0,m.target||(m.target=F),S=S==null?[m]:y.makeArray(S,[m]),Ue=y.event.special[at]||{},!(!H&&Ue.trigger&&Ue.trigger.apply(F,S)===!1))){if(!H&&!Ue.noBubble&&!_(F)){for(we=Ue.delegateType||at,Fn.test(we+at)||(Z=Z.parentNode);Z;Z=Z.parentNode)Be.push(Z),ae=Z;ae===(F.ownerDocument||v)&&Be.push(ae.defaultView||ae.parentWindow||e)}for(Q=0;(Z=Be[Q++])&&!m.isPropagationStopped();)Ke=Z,m.type=Q>1?we:Ue.bindType||at,Ce=($e.get(Z,"events")||Object.create(null))[m.type]&&$e.get(Z,"handle"),Ce&&Ce.apply(Z,S),Ce=ye&&Z[ye],Ce&&Ce.apply&&Pe(Z)&&(m.result=Ce.apply(Z,S),m.result===!1&&m.preventDefault());return m.type=at,!H&&!m.isDefaultPrevented()&&(!Ue._default||Ue._default.apply(Be.pop(),S)===!1)&&Pe(F)&&ye&&b(F[at])&&!_(F)&&(ae=F[ye],ae&&(F[ye]=null),y.event.triggered=at,m.isPropagationStopped()&&Ke.addEventListener(at,Rc),F[at](),m.isPropagationStopped()&&Ke.removeEventListener(at,Rc),y.event.triggered=void 0,ae&&(F[ye]=ae)),m.result}},simulate:function(m,S,F){var H=y.extend(new y.Event,F,{type:m,isSimulated:!0});y.event.trigger(H,null,S)}}),y.fn.extend({trigger:function(m,S){return this.each(function(){y.event.trigger(m,S,this)})},triggerHandler:function(m,S){var F=this[0];if(F)return y.event.trigger(m,S,F,!0)}});var Tc=/\[\]$/,zt=/\r?\n/g,xu=/^(?:submit|button|image|reset|file)$/i,bu=/^(?:input|select|textarea|keygen)/i;function Oa(m,S,F,H){var Q;if(Array.isArray(S))y.each(S,function(Z,ae){F||Tc.test(m)?H(m,ae):Oa(m+"["+(typeof ae=="object"&&ae!=null?Z:"")+"]",ae,F,H)});else if(!F&&U(S)==="object")for(Q in S)Oa(m+"["+Q+"]",S[Q],F,H);else H(m,S)}y.param=function(m,S){var F,H=[],Q=function(Z,ae){var we=b(ae)?ae():ae;H[H.length]=encodeURIComponent(Z)+"="+encodeURIComponent(we??"")};if(m==null)return"";if(Array.isArray(m)||m.jquery&&!y.isPlainObject(m))y.each(m,function(){Q(this.name,this.value)});else for(F in m)Oa(F,m[F],S,Q);return H.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var m=y.prop(this,"elements");return m?y.makeArray(m):this}).filter(function(){var m=this.type;return this.name&&!y(this).is(":disabled")&&bu.test(this.nodeName)&&!xu.test(m)&&(this.checked||!mr.test(m))}).map(function(m,S){var F=y(this).val();return F==null?null:Array.isArray(F)?y.map(F,function(H){return{name:S.name,value:H.replace(zt,`\r
`)}}):{name:S.name,value:F.replace(zt,`\r
`)}}).get()}});var Oc=/%20/g,Mc=/#.*$/,Ti=/([?&])_=[^&]*/,Vl=/^(.*?):[ \t]*([^\r\n]*)$/mg,vu=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wu=/^(?:GET|HEAD)$/,ku=/^\/\//,Oi={},Js={},Ks="*/".concat("*"),Hl=v.createElement("a");Hl.href=Cs.href;function ko(m){return function(S,F){typeof S!="string"&&(F=S,S="*");var H,Q=0,Z=S.toLowerCase().match(ve)||[];if(b(F))for(;H=Z[Q++];)H[0]==="+"?(H=H.slice(1)||"*",(m[H]=m[H]||[]).unshift(F)):(m[H]=m[H]||[]).push(F)}}function Mi(m,S,F,H){var Q={},Z=m===Js;function ae(we){var ye;return Q[we]=!0,y.each(m[we]||[],function(Ce,Ue){var Ke=Ue(S,F,H);if(typeof Ke=="string"&&!Z&&!Q[Ke])return S.dataTypes.unshift(Ke),ae(Ke),!1;if(Z)return!(ye=Ke)}),ye}return ae(S.dataTypes[0])||!Q["*"]&&ae("*")}function jo(m,S){var F,H,Q=y.ajaxSettings.flatOptions||{};for(F in S)S[F]!==void 0&&((Q[F]?m:H||(H={}))[F]=S[F]);return H&&y.extend(!0,m,H),m}function Fc(m,S,F){for(var H,Q,Z,ae,we=m.contents,ye=m.dataTypes;ye[0]==="*";)ye.shift(),H===void 0&&(H=m.mimeType||S.getResponseHeader("Content-Type"));if(H){for(Q in we)if(we[Q]&&we[Q].test(H)){ye.unshift(Q);break}}if(ye[0]in F)Z=ye[0];else{for(Q in F){if(!ye[0]||m.converters[Q+" "+ye[0]]){Z=Q;break}ae||(ae=Q)}Z=Z||ae}if(Z)return Z!==ye[0]&&ye.unshift(Z),F[Z]}function Bc(m,S,F,H){var Q,Z,ae,we,ye,Ce={},Ue=m.dataTypes.slice();if(Ue[1])for(ae in m.converters)Ce[ae.toLowerCase()]=m.converters[ae];for(Z=Ue.shift();Z;)if(m.responseFields[Z]&&(F[m.responseFields[Z]]=S),!ye&&H&&m.dataFilter&&(S=m.dataFilter(S,m.dataType)),ye=Z,Z=Ue.shift(),Z){if(Z==="*")Z=ye;else if(ye!=="*"&&ye!==Z){if(ae=Ce[ye+" "+Z]||Ce["* "+Z],!ae){for(Q in Ce)if(we=Q.split(" "),we[1]===Z&&(ae=Ce[ye+" "+we[0]]||Ce["* "+we[0]],ae)){ae===!0?ae=Ce[Q]:Ce[Q]!==!0&&(Z=we[0],Ue.unshift(we[1]));break}}if(ae!==!0)if(ae&&m.throws)S=ae(S);else try{S=ae(S)}catch(Ke){return{state:"parsererror",error:ae?Ke:"No conversion from "+ye+" to "+Z}}}}return{state:"success",data:S}}y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cs.href,type:"GET",isLocal:vu.test(Cs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ks,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(m,S){return S?jo(jo(m,y.ajaxSettings),S):jo(y.ajaxSettings,m)},ajaxPrefilter:ko(Oi),ajaxTransport:ko(Js),ajax:function(m,S){typeof m=="object"&&(S=m,m=void 0),S=S||{};var F,H,Q,Z,ae,we,ye,Ce,Ue,Ke,Be=y.ajaxSetup({},S),at=Be.context||Be,Et=Be.context&&(at.nodeType||at.jquery)?y(at):y.event,er=y.Deferred(),qt=y.Callbacks("once memory"),nn=Be.statusCode||{},I={},te={},pe="canceled",xe={readyState:0,getResponseHeader:function(Re){var Ye;if(ye){if(!Z)for(Z={};Ye=Vl.exec(Q);)Z[Ye[1].toLowerCase()+" "]=(Z[Ye[1].toLowerCase()+" "]||[]).concat(Ye[2]);Ye=Z[Re.toLowerCase()+" "]}return Ye==null?null:Ye.join(", ")},getAllResponseHeaders:function(){return ye?Q:null},setRequestHeader:function(Re,Ye){return ye==null&&(Re=te[Re.toLowerCase()]=te[Re.toLowerCase()]||Re,I[Re]=Ye),this},overrideMimeType:function(Re){return ye==null&&(Be.mimeType=Re),this},statusCode:function(Re){var Ye;if(Re)if(ye)xe.always(Re[xe.status]);else for(Ye in Re)nn[Ye]=[nn[Ye],Re[Ye]];return this},abort:function(Re){var Ye=Re||pe;return F&&F.abort(Ye),De(0,Ye),this}};if(er.promise(xe),Be.url=((m||Be.url||Cs.href)+"").replace(ku,Cs.protocol+"//"),Be.type=S.method||S.type||Be.method||Be.type,Be.dataTypes=(Be.dataType||"*").toLowerCase().match(ve)||[""],Be.crossDomain==null){we=v.createElement("a");try{we.href=Be.url,we.href=we.href,Be.crossDomain=Hl.protocol+"//"+Hl.host!=we.protocol+"//"+we.host}catch{Be.crossDomain=!0}}if(Be.data&&Be.processData&&typeof Be.data!="string"&&(Be.data=y.param(Be.data,Be.traditional)),Mi(Oi,Be,S,xe),ye)return xe;Ce=y.event&&Be.global,Ce&&y.active++===0&&y.event.trigger("ajaxStart"),Be.type=Be.type.toUpperCase(),Be.hasContent=!wu.test(Be.type),H=Be.url.replace(Mc,""),Be.hasContent?Be.data&&Be.processData&&(Be.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Be.data=Be.data.replace(Oc,"+")):(Ke=Be.url.slice(H.length),Be.data&&(Be.processData||typeof Be.data=="string")&&(H+=(Ri.test(H)?"&":"?")+Be.data,delete Be.data),Be.cache===!1&&(H=H.replace(Ti,"$1"),Ke=(Ri.test(H)?"&":"?")+"_="+ni.guid+++Ke),Be.url=H+Ke),Be.ifModified&&(y.lastModified[H]&&xe.setRequestHeader("If-Modified-Since",y.lastModified[H]),y.etag[H]&&xe.setRequestHeader("If-None-Match",y.etag[H])),(Be.data&&Be.hasContent&&Be.contentType!==!1||S.contentType)&&xe.setRequestHeader("Content-Type",Be.contentType),xe.setRequestHeader("Accept",Be.dataTypes[0]&&Be.accepts[Be.dataTypes[0]]?Be.accepts[Be.dataTypes[0]]+(Be.dataTypes[0]!=="*"?", "+Ks+"; q=0.01":""):Be.accepts["*"]);for(Ue in Be.headers)xe.setRequestHeader(Ue,Be.headers[Ue]);if(Be.beforeSend&&(Be.beforeSend.call(at,xe,Be)===!1||ye))return xe.abort();if(pe="abort",qt.add(Be.complete),xe.done(Be.success),xe.fail(Be.error),F=Mi(Js,Be,S,xe),!F)De(-1,"No Transport");else{if(xe.readyState=1,Ce&&Et.trigger("ajaxSend",[xe,Be]),ye)return xe;Be.async&&Be.timeout>0&&(ae=e.setTimeout(function(){xe.abort("timeout")},Be.timeout));try{ye=!1,F.send(I,De)}catch(Re){if(ye)throw Re;De(-1,Re)}}function De(Re,Ye,ft,jt){var At,Ot,Wt,gr,xr,hr=Ye;ye||(ye=!0,ae&&e.clearTimeout(ae),F=void 0,Q=jt||"",xe.readyState=Re>0?4:0,At=Re>=200&&Re<300||Re===304,ft&&(gr=Fc(Be,xe,ft)),!At&&y.inArray("script",Be.dataTypes)>-1&&y.inArray("json",Be.dataTypes)<0&&(Be.converters["text script"]=function(){}),gr=Bc(Be,gr,xe,At),At?(Be.ifModified&&(xr=xe.getResponseHeader("Last-Modified"),xr&&(y.lastModified[H]=xr),xr=xe.getResponseHeader("etag"),xr&&(y.etag[H]=xr)),Re===204||Be.type==="HEAD"?hr="nocontent":Re===304?hr="notmodified":(hr=gr.state,Ot=gr.data,Wt=gr.error,At=!Wt)):(Wt=hr,(Re||!hr)&&(hr="error",Re<0&&(Re=0))),xe.status=Re,xe.statusText=(Ye||hr)+"",At?er.resolveWith(at,[Ot,hr,xe]):er.rejectWith(at,[xe,hr,Wt]),xe.statusCode(nn),nn=void 0,Ce&&Et.trigger(At?"ajaxSuccess":"ajaxError",[xe,Be,At?Ot:Wt]),qt.fireWith(at,[xe,hr]),Ce&&(Et.trigger("ajaxComplete",[xe,Be]),--y.active||y.event.trigger("ajaxStop")))}return xe},getJSON:function(m,S,F){return y.get(m,S,F,"json")},getScript:function(m,S){return y.get(m,void 0,S,"script")}}),y.each(["get","post"],function(m,S){y[S]=function(F,H,Q,Z){return b(H)&&(Z=Z||Q,Q=H,H=void 0),y.ajax(y.extend({url:F,type:S,dataType:Z,data:H,success:Q},y.isPlainObject(F)&&F))}}),y.ajaxPrefilter(function(m){var S;for(S in m.headers)S.toLowerCase()==="content-type"&&(m.contentType=m.headers[S]||"")}),y._evalUrl=function(m,S,F){return y.ajax({url:m,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(H){y.globalEval(H,S,F)}})},y.fn.extend({wrapAll:function(m){var S;return this[0]&&(b(m)&&(m=m.call(this[0])),S=y(m,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&S.insertBefore(this[0]),S.map(function(){for(var F=this;F.firstElementChild;)F=F.firstElementChild;return F}).append(this)),this},wrapInner:function(m){return b(m)?this.each(function(S){y(this).wrapInner(m.call(this,S))}):this.each(function(){var S=y(this),F=S.contents();F.length?F.wrapAll(m):S.append(m)})},wrap:function(m){var S=b(m);return this.each(function(F){y(this).wrapAll(S?m.call(this,F):m)})},unwrap:function(m){return this.parent(m).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(m){return!y.expr.pseudos.visible(m)},y.expr.pseudos.visible=function(m){return!!(m.offsetWidth||m.offsetHeight||m.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var $c={0:200,1223:204},No=y.ajaxSettings.xhr();w.cors=!!No&&"withCredentials"in No,w.ajax=No=!!No,y.ajaxTransport(function(m){var S,F;if(w.cors||No&&!m.crossDomain)return{send:function(H,Q){var Z,ae=m.xhr();if(ae.open(m.type,m.url,m.async,m.username,m.password),m.xhrFields)for(Z in m.xhrFields)ae[Z]=m.xhrFields[Z];m.mimeType&&ae.overrideMimeType&&ae.overrideMimeType(m.mimeType),!m.crossDomain&&!H["X-Requested-With"]&&(H["X-Requested-With"]="XMLHttpRequest");for(Z in H)ae.setRequestHeader(Z,H[Z]);S=function(we){return function(){S&&(S=F=ae.onload=ae.onerror=ae.onabort=ae.ontimeout=ae.onreadystatechange=null,we==="abort"?ae.abort():we==="error"?typeof ae.status!="number"?Q(0,"error"):Q(ae.status,ae.statusText):Q($c[ae.status]||ae.status,ae.statusText,(ae.responseType||"text")!=="text"||typeof ae.responseText!="string"?{binary:ae.response}:{text:ae.responseText},ae.getAllResponseHeaders()))}},ae.onload=S(),F=ae.onerror=ae.ontimeout=S("error"),ae.onabort!==void 0?ae.onabort=F:ae.onreadystatechange=function(){ae.readyState===4&&e.setTimeout(function(){S&&F()})},S=S("abort");try{ae.send(m.hasContent&&m.data||null)}catch(we){if(S)throw we}},abort:function(){S&&S()}}}),y.ajaxPrefilter(function(m){m.crossDomain&&(m.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(m){return y.globalEval(m),m}}}),y.ajaxPrefilter("script",function(m){m.cache===void 0&&(m.cache=!1),m.crossDomain&&(m.type="GET")}),y.ajaxTransport("script",function(m){if(m.crossDomain||m.scriptAttrs){var S,F;return{send:function(H,Q){S=y("<script>").attr(m.scriptAttrs||{}).prop({charset:m.scriptCharset,src:m.url}).on("load error",F=function(Z){S.remove(),F=null,Z&&Q(Z.type==="error"?404:200,Z.type)}),v.head.appendChild(S[0])},abort:function(){F&&F()}}}});var ns=[],as=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var m=ns.pop()||y.expando+"_"+ni.guid++;return this[m]=!0,m}}),y.ajaxPrefilter("json jsonp",function(m,S,F){var H,Q,Z,ae=m.jsonp!==!1&&(as.test(m.url)?"url":typeof m.data=="string"&&(m.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&as.test(m.data)&&"data");if(ae||m.dataTypes[0]==="jsonp")return H=m.jsonpCallback=b(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback,ae?m[ae]=m[ae].replace(as,"$1"+H):m.jsonp!==!1&&(m.url+=(Ri.test(m.url)?"&":"?")+m.jsonp+"="+H),m.converters["script json"]=function(){return Z||y.error(H+" was not called"),Z[0]},m.dataTypes[0]="json",Q=e[H],e[H]=function(){Z=arguments},F.always(function(){Q===void 0?y(e).removeProp(H):e[H]=Q,m[H]&&(m.jsonpCallback=S.jsonpCallback,ns.push(H)),Z&&b(Q)&&Q(Z[0]),Z=Q=void 0}),"script"}),w.createHTMLDocument=function(){var m=v.implementation.createHTMLDocument("").body;return m.innerHTML="<form></form><form></form>",m.childNodes.length===2}(),y.parseHTML=function(m,S,F){if(typeof m!="string")return[];typeof S=="boolean"&&(F=S,S=!1);var H,Q,Z;return S||(w.createHTMLDocument?(S=v.implementation.createHTMLDocument(""),H=S.createElement("base"),H.href=v.location.href,S.head.appendChild(H)):S=v),Q=T.exec(m),Z=!F&&[],Q?[S.createElement(Q[1])]:(Q=Cn([m],S,Z),Z&&Z.length&&y(Z).remove(),y.merge([],Q.childNodes))},y.fn.load=function(m,S,F){var H,Q,Z,ae=this,we=m.indexOf(" ");return we>-1&&(H=Hs(m.slice(we)),m=m.slice(0,we)),b(S)?(F=S,S=void 0):S&&typeof S=="object"&&(Q="POST"),ae.length>0&&y.ajax({url:m,type:Q||"GET",dataType:"html",data:S}).done(function(ye){Z=arguments,ae.html(H?y("<div>").append(y.parseHTML(ye)).find(H):ye)}).always(F&&function(ye,Ce){ae.each(function(){F.apply(this,Z||[ye.responseText,Ce,ye])})}),this},y.expr.pseudos.animated=function(m){return y.grep(y.timers,function(S){return m===S.elem}).length},y.offset={setOffset:function(m,S,F){var H,Q,Z,ae,we,ye,Ce,Ue=y.css(m,"position"),Ke=y(m),Be={};Ue==="static"&&(m.style.position="relative"),we=Ke.offset(),Z=y.css(m,"top"),ye=y.css(m,"left"),Ce=(Ue==="absolute"||Ue==="fixed")&&(Z+ye).indexOf("auto")>-1,Ce?(H=Ke.position(),ae=H.top,Q=H.left):(ae=parseFloat(Z)||0,Q=parseFloat(ye)||0),b(S)&&(S=S.call(m,F,y.extend({},we))),S.top!=null&&(Be.top=S.top-we.top+ae),S.left!=null&&(Be.left=S.left-we.left+Q),"using"in S?S.using.call(m,Be):Ke.css(Be)}},y.fn.extend({offset:function(m){if(arguments.length)return m===void 0?this:this.each(function(Q){y.offset.setOffset(this,m,Q)});var S,F,H=this[0];if(H)return H.getClientRects().length?(S=H.getBoundingClientRect(),F=H.ownerDocument.defaultView,{top:S.top+F.pageYOffset,left:S.left+F.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var m,S,F,H=this[0],Q={top:0,left:0};if(y.css(H,"position")==="fixed")S=H.getBoundingClientRect();else{for(S=this.offset(),F=H.ownerDocument,m=H.offsetParent||F.documentElement;m&&(m===F.body||m===F.documentElement)&&y.css(m,"position")==="static";)m=m.parentNode;m&&m!==H&&m.nodeType===1&&(Q=y(m).offset(),Q.top+=y.css(m,"borderTopWidth",!0),Q.left+=y.css(m,"borderLeftWidth",!0))}return{top:S.top-Q.top-y.css(H,"marginTop",!0),left:S.left-Q.left-y.css(H,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var m=this.offsetParent;m&&y.css(m,"position")==="static";)m=m.offsetParent;return m||mn})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(m,S){var F=S==="pageYOffset";y.fn[m]=function(H){return rt(this,function(Q,Z,ae){var we;if(_(Q)?we=Q:Q.nodeType===9&&(we=Q.defaultView),ae===void 0)return we?we[S]:Q[Z];we?we.scrollTo(F?we.pageXOffset:ae,F?ae:we.pageYOffset):Q[Z]=ae},m,H,arguments.length)}}),y.each(["top","left"],function(m,S){y.cssHooks[S]=Ec(w.pixelPosition,function(F,H){if(H)return H=vo(F,S),Us.test(H)?y(F).position()[S]+"px":H})}),y.each({Height:"height",Width:"width"},function(m,S){y.each({padding:"inner"+m,content:S,"":"outer"+m},function(F,H){y.fn[H]=function(Q,Z){var ae=arguments.length&&(F||typeof Q!="boolean"),we=F||(Q===!0||Z===!0?"margin":"border");return rt(this,function(ye,Ce,Ue){var Ke;return _(ye)?H.indexOf("outer")===0?ye["inner"+m]:ye.document.documentElement["client"+m]:ye.nodeType===9?(Ke=ye.documentElement,Math.max(ye.body["scroll"+m],Ke["scroll"+m],ye.body["offset"+m],Ke["offset"+m],Ke["client"+m])):Ue===void 0?y.css(ye,Ce,we):y.style(ye,Ce,Ue,we)},S,ae?Q:void 0,ae)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(m,S){y.fn[S]=function(F){return this.on(S,F)}}),y.fn.extend({bind:function(m,S,F){return this.on(m,null,S,F)},unbind:function(m,S){return this.off(m,null,S)},delegate:function(m,S,F,H){return this.on(S,m,F,H)},undelegate:function(m,S,F){return arguments.length===1?this.off(m,"**"):this.off(S,m||"**",F)},hover:function(m,S){return this.on("mouseenter",m).on("mouseleave",S||m)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(m,S){y.fn[S]=function(F,H){return arguments.length>0?this.on(S,null,F,H):this.trigger(S)}});var ju=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;y.proxy=function(m,S){var F,H,Q;if(typeof S=="string"&&(F=m[S],S=m,m=F),!!b(m))return H=o.call(arguments,2),Q=function(){return m.apply(S||this,H.concat(o.call(arguments)))},Q.guid=m.guid=m.guid||y.guid++,Q},y.holdReady=function(m){m?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=A,y.isFunction=b,y.isWindow=_,y.camelCase=ke,y.type=U,y.now=Date.now,y.isNumeric=function(m){var S=y.type(m);return(S==="number"||S==="string")&&!isNaN(m-parseFloat(m))},y.trim=function(m){return m==null?"":(m+"").replace(ju,"$1")};var So=e.jQuery,ss=e.$;return y.noConflict=function(m){return e.$===y&&(e.$=ss),m&&e.jQuery===y&&(e.jQuery=So),y},typeof r>"u"&&(e.jQuery=e.$=y),y})}(Ay)),Ay.exports}var YV=bb();const o6=Hk(YV);var XV={exports:{}};/*! Select2 4.1.0-rc.0 | https://github.com/select2/select2/blob/master/LICENSE.md */(function(t,e){(function(r){t.exports?t.exports=function(n,a){return a===void 0&&(a=typeof window<"u"?bb():bb()(n)),r(a),a}:r(jQuery)})(function(r){var n,a,o,i,l,c,d,u,h,g,p,w,b,_,v,v=((R=r&&r.fn&&r.fn.select2&&r.fn.select2.amd?r.fn.select2.amd:R)&&R.requirejs||(R?a=R:R={},u={},h={},g={},p={},w=Object.prototype.hasOwnProperty,b=[].slice,_=/\.js$/,c=function(A,z){var x,k,E=q(A),C=E[0],z=z[1];return A=E[1],C&&(x=M(C=L(C,z))),C?A=x&&x.normalize?x.normalize(A,(k=z,function(V){return L(V,k)})):L(A,z):(C=(E=q(A=L(A,z)))[0],A=E[1],C&&(x=M(C))),{f:C?C+"!"+A:A,n:A,pr:C,p:x}},d={require:function(A){return U(A)},exports:function(A){var P=u[A];return P!==void 0?P:u[A]={}},module:function(A){return{id:A,uri:"",exports:u[A],config:(P=A,function(){return g&&g.config&&g.config[P]||{}})};var P}},i=function(A,P,x,k){var E,C,z,V,K,W=[],B=typeof x,G=y(k=k||A);if(B=="undefined"||B=="function"){for(P=!P.length&&x.length?["require","exports","module"]:P,V=0;V<P.length;V+=1)if((C=(z=c(P[V],G)).f)==="require")W[V]=d.require(A);else if(C==="exports")W[V]=d.exports(A),K=!0;else if(C==="module")E=W[V]=d.module(A);else if(j(u,C)||j(h,C)||j(p,C))W[V]=M(C);else{if(!z.p)throw new Error(A+" missing "+C);z.p.load(z.n,U(k,!0),function(X){return function(T){u[X]=T}}(C),{}),W[V]=u[C]}B=x?x.apply(u[A],W):void 0,A&&(E&&E.exports!==o&&E.exports!==u[A]?u[A]=E.exports:B===o&&K||(u[A]=B))}else A&&(u[A]=x)},n=a=l=function(A,P,x,k,E){if(typeof A=="string")return d[A]?d[A](P):M(c(A,y(P)).f);if(!A.splice){if((g=A).deps&&l(g.deps,g.callback),!P)return;P.splice?(A=P,P=x,x=null):A=o}return P=P||function(){},typeof x=="function"&&(x=k,k=E),k?i(o,A,P,x):setTimeout(function(){i(o,A,P,x)},4),l},l.config=function(A){return l(A)},n._defined=u,(v=function(A,P,x){if(typeof A!="string")throw new Error("See almond README: incorrect module build, no module name");P.splice||(x=P,P=[]),j(u,A)||j(h,A)||(h[A]=[A,P,x])}).amd={jQuery:!0},R.requirejs=n,R.require=a,R.define=v),R.define("almond",function(){}),R.define("jquery",[],function(){var A=r||$;return A==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),A}),R.define("select2/utils",["jquery"],function(A){var P={};function x(C){var z,V=C.prototype,K=[];for(z in V)typeof V[z]=="function"&&z!=="constructor"&&K.push(z);return K}P.Extend=function(C,z){var V,K={}.hasOwnProperty;function W(){this.constructor=C}for(V in z)K.call(z,V)&&(C[V]=z[V]);return W.prototype=z.prototype,C.prototype=new W,C.__super__=z.prototype,C},P.Decorate=function(C,z){var V=x(z),K=x(C);function W(){var J=Array.prototype.unshift,ee=z.prototype.constructor.length,le=C.prototype.constructor;0<ee&&(J.call(arguments,C.prototype.constructor),le=z.prototype.constructor),le.apply(this,arguments)}z.displayName=C.displayName,W.prototype=new function(){this.constructor=W};for(var B=0;B<K.length;B++){var G=K[B];W.prototype[G]=C.prototype[G]}for(var X=0;X<V.length;X++){var T=V[X];W.prototype[T]=function(J){var ee=function(){};J in W.prototype&&(ee=W.prototype[J]);var le=z.prototype[J];return function(){return Array.prototype.unshift.call(arguments,ee),le.apply(this,arguments)}}(T)}return W};function k(){this.listeners={}}k.prototype.on=function(C,z){this.listeners=this.listeners||{},C in this.listeners?this.listeners[C].push(z):this.listeners[C]=[z]},k.prototype.trigger=function(C){var z=Array.prototype.slice,V=z.call(arguments,1);this.listeners=this.listeners||{},(V=V??[]).length===0&&V.push({}),(V[0]._type=C)in this.listeners&&this.invoke(this.listeners[C],z.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},k.prototype.invoke=function(C,z){for(var V=0,K=C.length;V<K;V++)C[V].apply(this,z)},P.Observable=k,P.generateChars=function(C){for(var z="",V=0;V<C;V++)z+=Math.floor(36*Math.random()).toString(36);return z},P.bind=function(C,z){return function(){C.apply(z,arguments)}},P._convertData=function(C){for(var z in C){var V=z.split("-"),K=C;if(V.length!==1){for(var W=0;W<V.length;W++){var B=V[W];(B=B.substring(0,1).toLowerCase()+B.substring(1))in K||(K[B]={}),W==V.length-1&&(K[B]=C[z]),K=K[B]}delete C[z]}}return C},P.hasScroll=function(C,z){var V=A(z),K=z.style.overflowX,W=z.style.overflowY;return(K!==W||W!=="hidden"&&W!=="visible")&&(K==="scroll"||W==="scroll"||V.innerHeight()<z.scrollHeight||V.innerWidth()<z.scrollWidth)},P.escapeMarkup=function(C){var z={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof C!="string"?C:String(C).replace(/[&<>"'\/\\]/g,function(V){return z[V]})},P.__cache={};var E=0;return P.GetUniqueElementId=function(C){var z=C.getAttribute("data-select2-id");return z!=null||(z=C.id?"select2-data-"+C.id:"select2-data-"+(++E).toString()+"-"+P.generateChars(4),C.setAttribute("data-select2-id",z)),z},P.StoreData=function(C,z,V){C=P.GetUniqueElementId(C),P.__cache[C]||(P.__cache[C]={}),P.__cache[C][z]=V},P.GetData=function(C,z){var V=P.GetUniqueElementId(C);return z?P.__cache[V]&&P.__cache[V][z]!=null?P.__cache[V][z]:A(C).data(z):P.__cache[V]},P.RemoveData=function(C){var z=P.GetUniqueElementId(C);P.__cache[z]!=null&&delete P.__cache[z],C.removeAttribute("data-select2-id")},P.copyNonInternalCssClasses=function(C,K){var V=(V=C.getAttribute("class").trim().split(/\s+/)).filter(function(W){return W.indexOf("select2-")===0}),K=(K=K.getAttribute("class").trim().split(/\s+/)).filter(function(W){return W.indexOf("select2-")!==0}),K=V.concat(K);C.setAttribute("class",K.join(" "))},P}),R.define("select2/results",["jquery","./utils"],function(A,P){function x(k,E,C){this.$element=k,this.data=C,this.options=E,x.__super__.constructor.call(this)}return P.Extend(x,P.Observable),x.prototype.render=function(){var k=A('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&k.attr("aria-multiselectable","true"),this.$results=k},x.prototype.clear=function(){this.$results.empty()},x.prototype.displayMessage=function(k){var E=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var C=A('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),z=this.options.get("translations").get(k.message);C.append(E(z(k.args))),C[0].className+=" select2-results__message",this.$results.append(C)},x.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},x.prototype.append=function(k){this.hideLoading();var E=[];if(k.results!=null&&k.results.length!==0){k.results=this.sort(k.results);for(var C=0;C<k.results.length;C++){var z=k.results[C],z=this.option(z);E.push(z)}this.$results.append(E)}else this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"})},x.prototype.position=function(k,E){E.find(".select2-results").append(k)},x.prototype.sort=function(k){return this.options.get("sorter")(k)},x.prototype.highlightFirstItem=function(){var k=this.$results.find(".select2-results__option--selectable"),E=k.filter(".select2-results__option--selected");(0<E.length?E:k).first().trigger("mouseenter"),this.ensureHighlightVisible()},x.prototype.setClasses=function(){var k=this;this.data.current(function(E){var C=E.map(function(z){return z.id.toString()});k.$results.find(".select2-results__option--selectable").each(function(){var z=A(this),V=P.GetData(this,"data"),K=""+V.id;V.element!=null&&V.element.selected||V.element==null&&-1<C.indexOf(K)?(this.classList.add("select2-results__option--selected"),z.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),z.attr("aria-selected","false"))})})},x.prototype.showLoading=function(k){this.hideLoading(),k={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(k)},k=this.option(k),k.className+=" loading-results",this.$results.prepend(k)},x.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},x.prototype.option=function(k){var E=document.createElement("li");E.classList.add("select2-results__option"),E.classList.add("select2-results__option--selectable");var C,z={role:"option"},V=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(C in(k.element!=null&&V.call(k.element,":disabled")||k.element==null&&k.disabled)&&(z["aria-disabled"]="true",E.classList.remove("select2-results__option--selectable"),E.classList.add("select2-results__option--disabled")),k.id==null&&E.classList.remove("select2-results__option--selectable"),k._resultId!=null&&(E.id=k._resultId),k.title&&(E.title=k.title),k.children&&(z.role="group",z["aria-label"]=k.text,E.classList.remove("select2-results__option--selectable"),E.classList.add("select2-results__option--group")),z){var K=z[C];E.setAttribute(C,K)}if(k.children){var W=A(E),B=document.createElement("strong");B.className="select2-results__group",this.template(k,B);for(var G=[],X=0;X<k.children.length;X++){var T=k.children[X],T=this.option(T);G.push(T)}V=A("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"}),V.append(G),W.append(B),W.append(V)}else this.template(k,E);return P.StoreData(E,"data",k),E},x.prototype.bind=function(k,E){var C=this,z=k.id+"-results";this.$results.attr("id",z),k.on("results:all",function(V){C.clear(),C.append(V.data),k.isOpen()&&(C.setClasses(),C.highlightFirstItem())}),k.on("results:append",function(V){C.append(V.data),k.isOpen()&&C.setClasses()}),k.on("query",function(V){C.hideMessages(),C.showLoading(V)}),k.on("select",function(){k.isOpen()&&(C.setClasses(),C.options.get("scrollAfterSelect")&&C.highlightFirstItem())}),k.on("unselect",function(){k.isOpen()&&(C.setClasses(),C.options.get("scrollAfterSelect")&&C.highlightFirstItem())}),k.on("open",function(){C.$results.attr("aria-expanded","true"),C.$results.attr("aria-hidden","false"),C.setClasses(),C.ensureHighlightVisible()}),k.on("close",function(){C.$results.attr("aria-expanded","false"),C.$results.attr("aria-hidden","true"),C.$results.removeAttr("aria-activedescendant")}),k.on("results:toggle",function(){var V=C.getHighlightedResults();V.length!==0&&V.trigger("mouseup")}),k.on("results:select",function(){var V,K=C.getHighlightedResults();K.length!==0&&(V=P.GetData(K[0],"data"),K.hasClass("select2-results__option--selected")?C.trigger("close",{}):C.trigger("select",{data:V}))}),k.on("results:previous",function(){var V,K=C.getHighlightedResults(),W=C.$results.find(".select2-results__option--selectable"),B=W.index(K);B<=0||(V=B-1,K.length===0&&(V=0),(B=W.eq(V)).trigger("mouseenter"),K=C.$results.offset().top,W=B.offset().top,B=C.$results.scrollTop()+(W-K),V===0?C.$results.scrollTop(0):W-K<0&&C.$results.scrollTop(B))}),k.on("results:next",function(){var V,K=C.getHighlightedResults(),W=C.$results.find(".select2-results__option--selectable"),B=W.index(K)+1;B>=W.length||((V=W.eq(B)).trigger("mouseenter"),K=C.$results.offset().top+C.$results.outerHeight(!1),W=V.offset().top+V.outerHeight(!1),V=C.$results.scrollTop()+W-K,B===0?C.$results.scrollTop(0):K<W&&C.$results.scrollTop(V))}),k.on("results:focus",function(V){V.element[0].classList.add("select2-results__option--highlighted"),V.element[0].setAttribute("aria-selected","true")}),k.on("results:message",function(V){C.displayMessage(V)}),A.fn.mousewheel&&this.$results.on("mousewheel",function(V){var K=C.$results.scrollTop(),W=C.$results.get(0).scrollHeight-K+V.deltaY,K=0<V.deltaY&&K-V.deltaY<=0,W=V.deltaY<0&&W<=C.$results.height();K?(C.$results.scrollTop(0),V.preventDefault(),V.stopPropagation()):W&&(C.$results.scrollTop(C.$results.get(0).scrollHeight-C.$results.height()),V.preventDefault(),V.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(V){var K=A(this),W=P.GetData(this,"data");K.hasClass("select2-results__option--selected")?C.options.get("multiple")?C.trigger("unselect",{originalEvent:V,data:W}):C.trigger("close",{}):C.trigger("select",{originalEvent:V,data:W})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(V){var K=P.GetData(this,"data");C.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),C.trigger("results:focus",{data:K,element:A(this)})})},x.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},x.prototype.destroy=function(){this.$results.remove()},x.prototype.ensureHighlightVisible=function(){var k,E,C,z,V=this.getHighlightedResults();V.length!==0&&(k=this.$results.find(".select2-results__option--selectable").index(V),z=this.$results.offset().top,E=V.offset().top,C=this.$results.scrollTop()+(E-z),z=E-z,C-=2*V.outerHeight(!1),k<=2?this.$results.scrollTop(0):(z>this.$results.outerHeight()||z<0)&&this.$results.scrollTop(C))},x.prototype.template=function(V,E){var C=this.options.get("templateResult"),z=this.options.get("escapeMarkup"),V=C(V,E);V==null?E.style.display="none":typeof V=="string"?E.innerHTML=z(V):A(E).append(V)},x}),R.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),R.define("select2/selection/base",["jquery","../utils","../keys"],function(A,P,x){function k(E,C){this.$element=E,this.options=C,k.__super__.constructor.call(this)}return P.Extend(k,P.Observable),k.prototype.render=function(){var E=A('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,P.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=P.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),E.attr("title",this.$element.attr("title")),E.attr("tabindex",this._tabindex),E.attr("aria-disabled","false"),this.$selection=E},k.prototype.bind=function(E,C){var z=this,V=E.id+"-results";this.container=E,this.$selection.on("focus",function(K){z.trigger("focus",K)}),this.$selection.on("blur",function(K){z._handleBlur(K)}),this.$selection.on("keydown",function(K){z.trigger("keypress",K),K.which===x.SPACE&&K.preventDefault()}),E.on("results:focus",function(K){z.$selection.attr("aria-activedescendant",K.data._resultId)}),E.on("selection:update",function(K){z.update(K.data)}),E.on("open",function(){z.$selection.attr("aria-expanded","true"),z.$selection.attr("aria-owns",V),z._attachCloseHandler(E)}),E.on("close",function(){z.$selection.attr("aria-expanded","false"),z.$selection.removeAttr("aria-activedescendant"),z.$selection.removeAttr("aria-owns"),z.$selection.trigger("focus"),z._detachCloseHandler(E)}),E.on("enable",function(){z.$selection.attr("tabindex",z._tabindex),z.$selection.attr("aria-disabled","false")}),E.on("disable",function(){z.$selection.attr("tabindex","-1"),z.$selection.attr("aria-disabled","true")})},k.prototype._handleBlur=function(E){var C=this;window.setTimeout(function(){document.activeElement==C.$selection[0]||A.contains(C.$selection[0],document.activeElement)||C.trigger("blur",E)},1)},k.prototype._attachCloseHandler=function(E){A(document.body).on("mousedown.select2."+E.id,function(C){var z=A(C.target).closest(".select2");A(".select2.select2-container--open").each(function(){this!=z[0]&&P.GetData(this,"element").select2("close")})})},k.prototype._detachCloseHandler=function(E){A(document.body).off("mousedown.select2."+E.id)},k.prototype.position=function(E,C){C.find(".selection").append(E)},k.prototype.destroy=function(){this._detachCloseHandler(this.container)},k.prototype.update=function(E){throw new Error("The `update` method must be defined in child classes.")},k.prototype.isEnabled=function(){return!this.isDisabled()},k.prototype.isDisabled=function(){return this.options.get("disabled")},k}),R.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(A,P,x,k){function E(){E.__super__.constructor.apply(this,arguments)}return x.Extend(E,P),E.prototype.render=function(){var C=E.__super__.render.call(this);return C[0].classList.add("select2-selection--single"),C.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),C},E.prototype.bind=function(C,z){var V=this;E.__super__.bind.apply(this,arguments);var K=C.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",K).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",K),this.$selection.attr("aria-controls",K),this.$selection.on("mousedown",function(W){W.which===1&&V.trigger("toggle",{originalEvent:W})}),this.$selection.on("focus",function(W){}),this.$selection.on("blur",function(W){}),C.on("focus",function(W){C.isOpen()||V.$selection.trigger("focus")})},E.prototype.clear=function(){var C=this.$selection.find(".select2-selection__rendered");C.empty(),C.removeAttr("title")},E.prototype.display=function(C,z){var V=this.options.get("templateSelection");return this.options.get("escapeMarkup")(V(C,z))},E.prototype.selectionContainer=function(){return A("<span></span>")},E.prototype.update=function(C){var z,V;C.length!==0?(V=C[0],z=this.$selection.find(".select2-selection__rendered"),C=this.display(V,z),z.empty().append(C),(V=V.title||V.text)?z.attr("title",V):z.removeAttr("title")):this.clear()},E}),R.define("select2/selection/multiple",["jquery","./base","../utils"],function(A,P,x){function k(E,C){k.__super__.constructor.apply(this,arguments)}return x.Extend(k,P),k.prototype.render=function(){var E=k.__super__.render.call(this);return E[0].classList.add("select2-selection--multiple"),E.html('<ul class="select2-selection__rendered"></ul>'),E},k.prototype.bind=function(E,C){var z=this;k.__super__.bind.apply(this,arguments);var V=E.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",V),this.$selection.on("click",function(K){z.trigger("toggle",{originalEvent:K})}),this.$selection.on("click",".select2-selection__choice__remove",function(K){var W;z.isDisabled()||(W=A(this).parent(),W=x.GetData(W[0],"data"),z.trigger("unselect",{originalEvent:K,data:W}))}),this.$selection.on("keydown",".select2-selection__choice__remove",function(K){z.isDisabled()||K.stopPropagation()})},k.prototype.clear=function(){var E=this.$selection.find(".select2-selection__rendered");E.empty(),E.removeAttr("title")},k.prototype.display=function(E,C){var z=this.options.get("templateSelection");return this.options.get("escapeMarkup")(z(E,C))},k.prototype.selectionContainer=function(){return A('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},k.prototype.update=function(E){if(this.clear(),E.length!==0){for(var C=[],z=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",V=0;V<E.length;V++){var K=E[V],W=this.selectionContainer(),B=this.display(K,W),G=z+x.generateChars(4)+"-";K.id?G+=K.id:G+=x.generateChars(4),W.find(".select2-selection__choice__display").append(B).attr("id",G);var X=K.title||K.text;X&&W.attr("title",X),B=this.options.get("translations").get("removeItem"),X=W.find(".select2-selection__choice__remove"),X.attr("title",B()),X.attr("aria-label",B()),X.attr("aria-describedby",G),x.StoreData(W[0],"data",K),C.push(W)}this.$selection.find(".select2-selection__rendered").append(C)}},k}),R.define("select2/selection/placeholder",[],function(){function A(P,x,k){this.placeholder=this.normalizePlaceholder(k.get("placeholder")),P.call(this,x,k)}return A.prototype.normalizePlaceholder=function(P,x){return x=typeof x=="string"?{id:"",text:x}:x},A.prototype.createPlaceholder=function(P,x){var k=this.selectionContainer();return k.html(this.display(x)),k[0].classList.add("select2-selection__placeholder"),k[0].classList.remove("select2-selection__choice"),x=x.title||x.text||k.text(),this.$selection.find(".select2-selection__rendered").attr("title",x),k},A.prototype.update=function(P,x){var k=x.length==1&&x[0].id!=this.placeholder.id;if(1<x.length||k)return P.call(this,x);this.clear(),x=this.createPlaceholder(this.placeholder),this.$selection.find(".select2-selection__rendered").append(x)},A}),R.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(A,P,x){function k(){}return k.prototype.bind=function(E,C,z){var V=this;E.call(this,C,z),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(K){V._handleClear(K)}),C.on("keypress",function(K){V._handleKeyboardClear(K,C)})},k.prototype._handleClear=function(E,C){if(!this.isDisabled()){var z=this.$selection.find(".select2-selection__clear");if(z.length!==0){C.stopPropagation();var V=x.GetData(z[0],"data"),K=this.$element.val();this.$element.val(this.placeholder.id);var W={data:V};if(this.trigger("clear",W),W.prevented)this.$element.val(K);else{for(var B=0;B<V.length;B++)if(W={data:V[B]},this.trigger("unselect",W),W.prevented)return void this.$element.val(K);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},k.prototype._handleKeyboardClear=function(E,C,z){z.isOpen()||C.which!=P.DELETE&&C.which!=P.BACKSPACE||this._handleClear(C)},k.prototype.update=function(E,C){var z,V;E.call(this,C),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),0<this.$selection.find(".select2-selection__placeholder").length||C.length===0||(z=this.$selection.find(".select2-selection__rendered").attr("id"),V=this.options.get("translations").get("removeAllItems"),(E=A('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title",V()),E.attr("aria-label",V()),E.attr("aria-describedby",z),x.StoreData(E[0],"data",C),this.$selection.prepend(E),this.$selection[0].classList.add("select2-selection--clearable"))},k}),R.define("select2/selection/search",["jquery","../utils","../keys"],function(A,P,x){function k(E,C,z){E.call(this,C,z)}return k.prototype.render=function(E){var C=this.options.get("translations").get("search"),z=A('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');return this.$searchContainer=z,this.$search=z.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",C()),E=E.call(this),this._transferTabIndex(),E.append(this.$searchContainer),E},k.prototype.bind=function(E,B,z){var V=this,K=B.id+"-results",W=B.id+"-container";E.call(this,B,z),V.$search.attr("aria-describedby",W),B.on("open",function(){V.$search.attr("aria-controls",K),V.$search.trigger("focus")}),B.on("close",function(){V.$search.val(""),V.resizeSearch(),V.$search.removeAttr("aria-controls"),V.$search.removeAttr("aria-activedescendant"),V.$search.trigger("focus")}),B.on("enable",function(){V.$search.prop("disabled",!1),V._transferTabIndex()}),B.on("disable",function(){V.$search.prop("disabled",!0)}),B.on("focus",function(X){V.$search.trigger("focus")}),B.on("results:focus",function(X){X.data._resultId?V.$search.attr("aria-activedescendant",X.data._resultId):V.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(X){V.trigger("focus",X)}),this.$selection.on("focusout",".select2-search--inline",function(X){V._handleBlur(X)}),this.$selection.on("keydown",".select2-search--inline",function(X){var T;X.stopPropagation(),V.trigger("keypress",X),V._keyUpPrevented=X.isDefaultPrevented(),X.which!==x.BACKSPACE||V.$search.val()!==""||0<(T=V.$selection.find(".select2-selection__choice").last()).length&&(T=P.GetData(T[0],"data"),V.searchRemoveChoice(T),X.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(X){V.$search.val()&&X.stopPropagation()});var B=document.documentMode,G=B&&B<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(X){G?V.$selection.off("input.search input.searchcheck"):V.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(X){var T;G&&X.type==="input"?V.$selection.off("input.search input.searchcheck"):(T=X.which)!=x.SHIFT&&T!=x.CTRL&&T!=x.ALT&&T!=x.TAB&&V.handleSearch(X)})},k.prototype._transferTabIndex=function(E){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},k.prototype.createPlaceholder=function(E,C){this.$search.attr("placeholder",C.text)},k.prototype.update=function(E,C){var z=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),E.call(this,C),this.resizeSearch(),z&&this.$search.trigger("focus")},k.prototype.handleSearch=function(){var E;this.resizeSearch(),this._keyUpPrevented||(E=this.$search.val(),this.trigger("query",{term:E})),this._keyUpPrevented=!1},k.prototype.searchRemoveChoice=function(E,C){this.trigger("unselect",{data:C}),this.$search.val(C.text),this.handleSearch()},k.prototype.resizeSearch=function(){this.$search.css("width","25px");var E="100%";this.$search.attr("placeholder")===""&&(E=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",E)},k}),R.define("select2/selection/selectionCss",["../utils"],function(A){function P(){}return P.prototype.render=function(E){var k=E.call(this),E=this.options.get("selectionCssClass")||"";return E.indexOf(":all:")!==-1&&(E=E.replace(":all:",""),A.copyNonInternalCssClasses(k[0],this.$element[0])),k.addClass(E),k},P}),R.define("select2/selection/eventRelay",["jquery"],function(A){function P(){}return P.prototype.bind=function(x,k,E){var C=this,z=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],V=["opening","closing","selecting","unselecting","clearing"];x.call(this,k,E),k.on("*",function(K,W){var B;z.indexOf(K)!==-1&&(W=W||{},B=A.Event("select2:"+K,{params:W}),C.$element.trigger(B),V.indexOf(K)!==-1&&(W.prevented=B.isDefaultPrevented()))})},P}),R.define("select2/translation",["jquery","require"],function(A,P){function x(k){this.dict=k||{}}return x.prototype.all=function(){return this.dict},x.prototype.get=function(k){return this.dict[k]},x.prototype.extend=function(k){this.dict=A.extend({},k.all(),this.dict)},x._cache={},x.loadPath=function(k){var E;return k in x._cache||(E=P(k),x._cache[k]=E),new x(x._cache[k])},x}),R.define("select2/diacritics",[],function(){return{"":"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A","":"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B",:"B",:"B",:"B",:"B","":"B",:"B",:"B","":"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C","":"C","":"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D","":"D",:"DZ",:"DZ",:"Dz",:"Dz","":"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"F",:"F",:"F",:"F","":"F","":"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G","":"G","":"G","":"G","":"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H","":"H","":"H","":"H","":"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"J",:"J",:"J","":"J","":"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K","":"K","":"K","":"K","":"K","":"K","":"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L",:"LJ",:"Lj","":"M",:"M",:"M",:"M",:"M","":"M",:"M","":"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N","":"N","":"N",:"NJ",:"Nj","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"OE",:"OI","":"OO",:"OU","":"P",:"P",:"P",:"P",:"P","":"P","":"P","":"P","":"P","":"Q",:"Q","":"Q","":"Q","":"Q","":"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"R","":"R","":"R","":"S",:"S","":"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S","":"S","":"S","":"S","":"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T","":"T","":"T","":"TZ","":"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"U","":"V",:"V",:"V",:"V",:"V","":"V","":"V","":"VY","":"W",:"W",:"W",:"W",:"W",:"W",:"W",:"W","":"W","":"X",:"X",:"X",:"X","":"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y","":"Y","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z","":"Z","":"Z","":"Z","":"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay","":"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b","":"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c","":"c","":"c","":"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d","":"d",:"dz",:"dz","":"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e",:"e","":"f",:"f",:"f",:"f","":"f","":"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g","":"g","":"g","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h","":"h","":"h",:"h",:"hv","":"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"j",:"j",:"j",:"j","":"j","":"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k","":"k","":"k","":"k","":"k","":"k","":"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l","":"l","":"l","":"l","":"l",:"lj","":"m",:"m",:"m",:"m",:"m",:"m",:"m","":"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"nj","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o",:"o",:"oe",:"oi",:"ou","":"oo","":"p",:"p",:"p",:"p",:"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q","":"q","":"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r","":"r","":"r","":"r","":"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"s","":"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t","":"t","":"t","":"tz","":"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"v",:"v",:"v",:"v",:"v","":"v",:"v","":"vy","":"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w","":"w","":"x",:"x",:"x",:"x","":"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y","":"y","":"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z","":"z","":"z","":"z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"'"}}),R.define("select2/data/base",["../utils"],function(A){function P(x,k){P.__super__.constructor.call(this)}return A.Extend(P,A.Observable),P.prototype.current=function(x){throw new Error("The `current` method must be defined in child classes.")},P.prototype.query=function(x,k){throw new Error("The `query` method must be defined in child classes.")},P.prototype.bind=function(x,k){},P.prototype.destroy=function(){},P.prototype.generateResultId=function(x,k){return x=x.id+"-result-",x+=A.generateChars(4),k.id!=null?x+="-"+k.id.toString():x+="-"+A.generateChars(4),x},P}),R.define("select2/data/select",["./base","../utils","jquery"],function(A,P,x){function k(E,C){this.$element=E,this.options=C,k.__super__.constructor.call(this)}return P.Extend(k,A),k.prototype.current=function(E){var C=this;E(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(z){return C.item(x(z))}))},k.prototype.select=function(E){var C,z=this;if(E.selected=!0,E.element!=null&&E.element.tagName.toLowerCase()==="option")return E.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(V){var K=[];(E=[E]).push.apply(E,V);for(var W=0;W<E.length;W++){var B=E[W].id;K.indexOf(B)===-1&&K.push(B)}z.$element.val(K),z.$element.trigger("input").trigger("change")}):(C=E.id,this.$element.val(C),this.$element.trigger("input").trigger("change"))},k.prototype.unselect=function(E){var C=this;if(this.$element.prop("multiple")){if(E.selected=!1,E.element!=null&&E.element.tagName.toLowerCase()==="option")return E.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(z){for(var V=[],K=0;K<z.length;K++){var W=z[K].id;W!==E.id&&V.indexOf(W)===-1&&V.push(W)}C.$element.val(V),C.$element.trigger("input").trigger("change")})}},k.prototype.bind=function(E,C){var z=this;(this.container=E).on("select",function(V){z.select(V.data)}),E.on("unselect",function(V){z.unselect(V.data)})},k.prototype.destroy=function(){this.$element.find("*").each(function(){P.RemoveData(this)})},k.prototype.query=function(E,C){var z=[],V=this;this.$element.children().each(function(){var K;this.tagName.toLowerCase()!=="option"&&this.tagName.toLowerCase()!=="optgroup"||(K=x(this),K=V.item(K),(K=V.matches(E,K))!==null&&z.push(K))}),C({results:z})},k.prototype.addOptions=function(E){this.$element.append(E)},k.prototype.option=function(E){var C;return E.children?(C=document.createElement("optgroup")).label=E.text:(C=document.createElement("option")).textContent!==void 0?C.textContent=E.text:C.innerText=E.text,E.id!==void 0&&(C.value=E.id),E.disabled&&(C.disabled=!0),E.selected&&(C.selected=!0),E.title&&(C.title=E.title),E=this._normalizeItem(E),E.element=C,P.StoreData(C,"data",E),x(C)},k.prototype.item=function(E){var C={};if((C=P.GetData(E[0],"data"))!=null)return C;var z=E[0];if(z.tagName.toLowerCase()==="option")C={id:E.val(),text:E.text(),disabled:E.prop("disabled"),selected:E.prop("selected"),title:E.prop("title")};else if(z.tagName.toLowerCase()==="optgroup"){C={text:E.prop("label"),children:[],title:E.prop("title")};for(var V=E.children("option"),K=[],W=0;W<V.length;W++){var B=x(V[W]),B=this.item(B);K.push(B)}C.children=K}return(C=this._normalizeItem(C)).element=E[0],P.StoreData(E[0],"data",C),C},k.prototype._normalizeItem=function(E){return E!==Object(E)&&(E={id:E,text:E}),(E=x.extend({},{text:""},E)).id!=null&&(E.id=E.id.toString()),E.text!=null&&(E.text=E.text.toString()),E._resultId==null&&E.id&&this.container!=null&&(E._resultId=this.generateResultId(this.container,E)),x.extend({},{selected:!1,disabled:!1},E)},k.prototype.matches=function(E,C){return this.options.get("matcher")(E,C)},k}),R.define("select2/data/array",["./select","../utils","jquery"],function(A,P,x){function k(E,C){this._dataToConvert=C.get("data")||[],k.__super__.constructor.call(this,E,C)}return P.Extend(k,A),k.prototype.bind=function(E,C){k.__super__.bind.call(this,E,C),this.addOptions(this.convertToOptions(this._dataToConvert))},k.prototype.select=function(E){var C=this.$element.find("option").filter(function(z,V){return V.value==E.id.toString()});C.length===0&&(C=this.option(E),this.addOptions(C)),k.__super__.select.call(this,E)},k.prototype.convertToOptions=function(E){for(var C=this,z=this.$element.find("option"),V=z.map(function(){return C.item(x(this)).id}).get(),K=[],W=0;W<E.length;W++){var B,G,X=this._normalizeItem(E[W]);0<=V.indexOf(X.id)?(B=z.filter(function(T){return function(){return x(this).val()==T.id}}(X)),G=this.item(B),G=x.extend(!0,{},X,G),G=this.option(G),B.replaceWith(G)):(G=this.option(X),X.children&&(X=this.convertToOptions(X.children),G.append(X)),K.push(G))}return K},k}),R.define("select2/data/ajax",["./array","../utils","jquery"],function(A,P,x){function k(E,C){this.ajaxOptions=this._applyDefaults(C.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),k.__super__.constructor.call(this,E,C)}return P.Extend(k,A),k.prototype._applyDefaults=function(E){var C={data:function(z){return x.extend({},z,{q:z.term})},transport:function(z,V,K){return z=x.ajax(z),z.then(V),z.fail(K),z}};return x.extend({},C,E,!0)},k.prototype.processResults=function(E){return E},k.prototype.query=function(E,C){var z=this;this._request!=null&&(typeof this._request.abort=="function"&&this._request.abort(),this._request=null);var V=x.extend({type:"GET"},this.ajaxOptions);function K(){var W=V.transport(V,function(B){B=z.processResults(B,E),z.options.get("debug")&&window.console&&console.error&&(B&&B.results&&Array.isArray(B.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),C(B)},function(){"status"in W&&(W.status===0||W.status==="0")||z.trigger("results:message",{message:"errorLoading"})});z._request=W}typeof V.url=="function"&&(V.url=V.url.call(this.$element,E)),typeof V.data=="function"&&(V.data=V.data.call(this.$element,E)),this.ajaxOptions.delay&&E.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(K,this.ajaxOptions.delay)):K()},k}),R.define("select2/data/tags",["jquery"],function(A){function P(x,k,E){var C=E.get("tags"),z=E.get("createTag");if(z!==void 0&&(this.createTag=z),z=E.get("insertTag"),z!==void 0&&(this.insertTag=z),x.call(this,k,E),Array.isArray(C))for(var V=0;V<C.length;V++){var K=C[V],K=this._normalizeItem(K),K=this.option(K);this.$element.append(K)}}return P.prototype.query=function(x,k,E){var C=this;this._removeOldTags(),k.term!=null&&k.page==null?x.call(this,k,function z(V,K){for(var W=V.results,B=0;B<W.length;B++){var G=W[B],X=G.children!=null&&!z({results:G.children},!0);if((G.text||"").toUpperCase()===(k.term||"").toUpperCase()||X)return!K&&(V.data=W,void E(V))}if(K)return!0;var T,J=C.createTag(k);J!=null&&((T=C.option(J)).attr("data-select2-tag","true"),C.addOptions([T]),C.insertTag(W,J)),V.results=W,E(V)}):x.call(this,k,E)},P.prototype.createTag=function(x,k){return k.term==null?null:(k=k.term.trim(),k===""?null:{id:k,text:k})},P.prototype.insertTag=function(x,k,E){k.unshift(E)},P.prototype._removeOldTags=function(x){this.$element.find("option[data-select2-tag]").each(function(){this.selected||A(this).remove()})},P}),R.define("select2/data/tokenizer",["jquery"],function(A){function P(x,k,E){var C=E.get("tokenizer");C!==void 0&&(this.tokenizer=C),x.call(this,k,E)}return P.prototype.bind=function(x,k,E){x.call(this,k,E),this.$search=k.dropdown.$search||k.selection.$search||E.find(".select2-search__field")},P.prototype.query=function(x,k,E){var C=this;k.term=k.term||"";var z=this.tokenizer(k,this.options,function(V){var K,W=C._normalizeItem(V);C.$element.find("option").filter(function(){return A(this).val()===W.id}).length||((K=C.option(W)).attr("data-select2-tag",!0),C._removeOldTags(),C.addOptions([K])),K=W,C.trigger("select",{data:K})});z.term!==k.term&&(this.$search.length&&(this.$search.val(z.term),this.$search.trigger("focus")),k.term=z.term),x.call(this,k,E)},P.prototype.tokenizer=function(x,k,E,C){for(var z=E.get("tokenSeparators")||[],V=k.term,K=0,W=this.createTag||function(G){return{id:G.term,text:G.term}};K<V.length;){var B=V[K];z.indexOf(B)!==-1?(B=V.substr(0,K),(B=W(A.extend({},k,{term:B})))!=null?(C(B),V=V.substr(K+1)||"",K=0):K++):K++}return{term:V}},P}),R.define("select2/data/minimumInputLength",[],function(){function A(P,x,k){this.minimumInputLength=k.get("minimumInputLength"),P.call(this,x,k)}return A.prototype.query=function(P,x,k){x.term=x.term||"",x.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:x.term,params:x}}):P.call(this,x,k)},A}),R.define("select2/data/maximumInputLength",[],function(){function A(P,x,k){this.maximumInputLength=k.get("maximumInputLength"),P.call(this,x,k)}return A.prototype.query=function(P,x,k){x.term=x.term||"",0<this.maximumInputLength&&x.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:x.term,params:x}}):P.call(this,x,k)},A}),R.define("select2/data/maximumSelectionLength",[],function(){function A(P,x,k){this.maximumSelectionLength=k.get("maximumSelectionLength"),P.call(this,x,k)}return A.prototype.bind=function(P,x,k){var E=this;P.call(this,x,k),x.on("select",function(){E._checkIfMaximumSelected()})},A.prototype.query=function(P,x,k){var E=this;this._checkIfMaximumSelected(function(){P.call(E,x,k)})},A.prototype._checkIfMaximumSelected=function(P,x){var k=this;this.current(function(E){E=E!=null?E.length:0,0<k.maximumSelectionLength&&E>=k.maximumSelectionLength?k.trigger("results:message",{message:"maximumSelected",args:{maximum:k.maximumSelectionLength}}):x&&x()})},A}),R.define("select2/dropdown",["jquery","./utils"],function(A,P){function x(k,E){this.$element=k,this.options=E,x.__super__.constructor.call(this)}return P.Extend(x,P.Observable),x.prototype.render=function(){var k=A('<span class="select2-dropdown"><span class="select2-results"></span></span>');return k.attr("dir",this.options.get("dir")),this.$dropdown=k},x.prototype.bind=function(){},x.prototype.position=function(k,E){},x.prototype.destroy=function(){this.$dropdown.remove()},x}),R.define("select2/dropdown/search",["jquery"],function(A){function P(){}return P.prototype.render=function(C){var k=C.call(this),E=this.options.get("translations").get("search"),C=A('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=C,this.$search=C.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",E()),k.prepend(C),k},P.prototype.bind=function(x,k,E){var C=this,z=k.id+"-results";x.call(this,k,E),this.$search.on("keydown",function(V){C.trigger("keypress",V),C._keyUpPrevented=V.isDefaultPrevented()}),this.$search.on("input",function(V){A(this).off("keyup")}),this.$search.on("keyup input",function(V){C.handleSearch(V)}),k.on("open",function(){C.$search.attr("tabindex",0),C.$search.attr("aria-controls",z),C.$search.trigger("focus"),window.setTimeout(function(){C.$search.trigger("focus")},0)}),k.on("close",function(){C.$search.attr("tabindex",-1),C.$search.removeAttr("aria-controls"),C.$search.removeAttr("aria-activedescendant"),C.$search.val(""),C.$search.trigger("blur")}),k.on("focus",function(){k.isOpen()||C.$search.trigger("focus")}),k.on("results:all",function(V){V.query.term!=null&&V.query.term!==""||(C.showSearch(V)?C.$searchContainer[0].classList.remove("select2-search--hide"):C.$searchContainer[0].classList.add("select2-search--hide"))}),k.on("results:focus",function(V){V.data._resultId?C.$search.attr("aria-activedescendant",V.data._resultId):C.$search.removeAttr("aria-activedescendant")})},P.prototype.handleSearch=function(x){var k;this._keyUpPrevented||(k=this.$search.val(),this.trigger("query",{term:k})),this._keyUpPrevented=!1},P.prototype.showSearch=function(x,k){return!0},P}),R.define("select2/dropdown/hidePlaceholder",[],function(){function A(P,x,k,E){this.placeholder=this.normalizePlaceholder(k.get("placeholder")),P.call(this,x,k,E)}return A.prototype.append=function(P,x){x.results=this.removePlaceholder(x.results),P.call(this,x)},A.prototype.normalizePlaceholder=function(P,x){return x=typeof x=="string"?{id:"",text:x}:x},A.prototype.removePlaceholder=function(P,x){for(var k=x.slice(0),E=x.length-1;0<=E;E--){var C=x[E];this.placeholder.id===C.id&&k.splice(E,1)}return k},A}),R.define("select2/dropdown/infiniteScroll",["jquery"],function(A){function P(x,k,E,C){this.lastParams={},x.call(this,k,E,C),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return P.prototype.append=function(x,k){this.$loadingMore.remove(),this.loading=!1,x.call(this,k),this.showLoadingMore(k)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},P.prototype.bind=function(x,k,E){var C=this;x.call(this,k,E),k.on("query",function(z){C.lastParams=z,C.loading=!0}),k.on("query:append",function(z){C.lastParams=z,C.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},P.prototype.loadMoreIfNeeded=function(){var x=A.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&x&&(x=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=x+50&&this.loadMore())},P.prototype.loadMore=function(){this.loading=!0;var x=A.extend({},{page:1},this.lastParams);x.page++,this.trigger("query:append",x)},P.prototype.showLoadingMore=function(x,k){return k.pagination&&k.pagination.more},P.prototype.createLoadingMore=function(){var x=A('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),k=this.options.get("translations").get("loadingMore");return x.html(k(this.lastParams)),x},P}),R.define("select2/dropdown/attachBody",["jquery","../utils"],function(A,P){function x(k,E,C){this.$dropdownParent=A(C.get("dropdownParent")||document.body),k.call(this,E,C)}return x.prototype.bind=function(k,E,C){var z=this;k.call(this,E,C),E.on("open",function(){z._showDropdown(),z._attachPositioningHandler(E),z._bindContainerResultHandlers(E)}),E.on("close",function(){z._hideDropdown(),z._detachPositioningHandler(E)}),this.$dropdownContainer.on("mousedown",function(V){V.stopPropagation()})},x.prototype.destroy=function(k){k.call(this),this.$dropdownContainer.remove()},x.prototype.position=function(k,E,C){E.attr("class",C.attr("class")),E[0].classList.remove("select2"),E[0].classList.add("select2-container--open"),E.css({position:"absolute",top:-999999}),this.$container=C},x.prototype.render=function(C){var E=A("<span></span>"),C=C.call(this);return E.append(C),this.$dropdownContainer=E},x.prototype._hideDropdown=function(k){this.$dropdownContainer.detach()},x.prototype._bindContainerResultHandlers=function(k,E){var C;this._containerResultsHandlersBound||(C=this,E.on("results:all",function(){C._positionDropdown(),C._resizeDropdown()}),E.on("results:append",function(){C._positionDropdown(),C._resizeDropdown()}),E.on("results:message",function(){C._positionDropdown(),C._resizeDropdown()}),E.on("select",function(){C._positionDropdown(),C._resizeDropdown()}),E.on("unselect",function(){C._positionDropdown(),C._resizeDropdown()}),this._containerResultsHandlersBound=!0)},x.prototype._attachPositioningHandler=function(k,W){var C=this,z="scroll.select2."+W.id,V="resize.select2."+W.id,K="orientationchange.select2."+W.id,W=this.$container.parents().filter(P.hasScroll);W.each(function(){P.StoreData(this,"select2-scroll-position",{x:A(this).scrollLeft(),y:A(this).scrollTop()})}),W.on(z,function(B){var G=P.GetData(this,"select2-scroll-position");A(this).scrollTop(G.y)}),A(window).on(z+" "+V+" "+K,function(B){C._positionDropdown(),C._resizeDropdown()})},x.prototype._detachPositioningHandler=function(k,V){var C="scroll.select2."+V.id,z="resize.select2."+V.id,V="orientationchange.select2."+V.id;this.$container.parents().filter(P.hasScroll).off(C),A(window).off(C+" "+z+" "+V)},x.prototype._positionDropdown=function(){var B=A(window),k=this.$dropdown[0].classList.contains("select2-dropdown--above"),E=this.$dropdown[0].classList.contains("select2-dropdown--below"),C=null,z=this.$container.offset();z.bottom=z.top+this.$container.outerHeight(!1);var V={height:this.$container.outerHeight(!1)};V.top=z.top,V.bottom=z.top+V.height;var K=this.$dropdown.outerHeight(!1),G=B.scrollTop(),X=B.scrollTop()+B.height(),W=G<z.top-K,B=X>z.bottom+K,G={left:z.left,top:V.bottom},X=this.$dropdownParent;X.css("position")==="static"&&(X=X.offsetParent()),z={top:0,left:0},(A.contains(document.body,X[0])||X[0].isConnected)&&(z=X.offset()),G.top-=z.top,G.left-=z.left,k||E||(C="below"),B||!W||k?!W&&B&&k&&(C="below"):C="above",(C=="above"||k&&C!=="below")&&(G.top=V.top-z.top-K),C!=null&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+C),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+C)),this.$dropdownContainer.css(G)},x.prototype._resizeDropdown=function(){var k={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(k.minWidth=k.width,k.position="relative",k.width="auto"),this.$dropdown.css(k)},x.prototype._showDropdown=function(k){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},x}),R.define("select2/dropdown/minimumResultsForSearch",[],function(){function A(P,x,k,E){this.minimumResultsForSearch=k.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),P.call(this,x,k,E)}return A.prototype.showSearch=function(P,x){return!(function k(E){for(var C=0,z=0;z<E.length;z++){var V=E[z];V.children?C+=k(V.children):C++}return C}(x.data.results)<this.minimumResultsForSearch)&&P.call(this,x)},A}),R.define("select2/dropdown/selectOnClose",["../utils"],function(A){function P(){}return P.prototype.bind=function(x,k,E){var C=this;x.call(this,k,E),k.on("close",function(z){C._handleSelectOnClose(z)})},P.prototype._handleSelectOnClose=function(x,k){if(k&&k.originalSelect2Event!=null){var E=k.originalSelect2Event;if(E._type==="select"||E._type==="unselect")return}E=this.getHighlightedResults(),E.length<1||(E=A.GetData(E[0],"data")).element!=null&&E.element.selected||E.element==null&&E.selected||this.trigger("select",{data:E})},P}),R.define("select2/dropdown/closeOnSelect",[],function(){function A(){}return A.prototype.bind=function(P,x,k){var E=this;P.call(this,x,k),x.on("select",function(C){E._selectTriggered(C)}),x.on("unselect",function(C){E._selectTriggered(C)})},A.prototype._selectTriggered=function(P,x){var k=x.originalEvent;k&&(k.ctrlKey||k.metaKey)||this.trigger("close",{originalEvent:k,originalSelect2Event:x})},A}),R.define("select2/dropdown/dropdownCss",["../utils"],function(A){function P(){}return P.prototype.render=function(E){var k=E.call(this),E=this.options.get("dropdownCssClass")||"";return E.indexOf(":all:")!==-1&&(E=E.replace(":all:",""),A.copyNonInternalCssClasses(k[0],this.$element[0])),k.addClass(E),k},P}),R.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(A){function P(){}return P.prototype.highlightFirstItem=function(x){var k=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(0<k.length){var E=k.first(),k=A.GetData(E[0],"data").element;if(k&&k.getAttribute&&k.getAttribute("data-select2-tag")==="true")return void E.trigger("mouseenter")}x.call(this)},P}),R.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(x){var P=x.input.length-x.maximum,x="Please delete "+P+" character";return P!=1&&(x+="s"),x},inputTooShort:function(A){return"Please enter "+(A.minimum-A.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(A){var P="You can only select "+A.maximum+" item";return A.maximum!=1&&(P+="s"),P},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),R.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(A,P,x,k,E,C,z,V,K,W,B,G,X,T,J,ee,le,ue,de,be,me,ve,Le,Te,We,ct,Fe,ge,yt,rt,Je){function et(){this.reset()}return et.prototype.apply=function(oe){var ke;(oe=A.extend(!0,{},this.defaults,oe)).dataAdapter==null&&(oe.ajax!=null?oe.dataAdapter=J:oe.data!=null?oe.dataAdapter=T:oe.dataAdapter=X,0<oe.minimumInputLength&&(oe.dataAdapter=W.Decorate(oe.dataAdapter,ue)),0<oe.maximumInputLength&&(oe.dataAdapter=W.Decorate(oe.dataAdapter,de)),0<oe.maximumSelectionLength&&(oe.dataAdapter=W.Decorate(oe.dataAdapter,be)),oe.tags&&(oe.dataAdapter=W.Decorate(oe.dataAdapter,ee)),oe.tokenSeparators==null&&oe.tokenizer==null||(oe.dataAdapter=W.Decorate(oe.dataAdapter,le))),oe.resultsAdapter==null&&(oe.resultsAdapter=P,oe.ajax!=null&&(oe.resultsAdapter=W.Decorate(oe.resultsAdapter,Te)),oe.placeholder!=null&&(oe.resultsAdapter=W.Decorate(oe.resultsAdapter,Le)),oe.selectOnClose&&(oe.resultsAdapter=W.Decorate(oe.resultsAdapter,Fe)),oe.tags&&(oe.resultsAdapter=W.Decorate(oe.resultsAdapter,rt))),oe.dropdownAdapter==null&&(oe.multiple?oe.dropdownAdapter=me:(ke=W.Decorate(me,ve),oe.dropdownAdapter=ke),oe.minimumResultsForSearch!==0&&(oe.dropdownAdapter=W.Decorate(oe.dropdownAdapter,ct)),oe.closeOnSelect&&(oe.dropdownAdapter=W.Decorate(oe.dropdownAdapter,ge)),oe.dropdownCssClass!=null&&(oe.dropdownAdapter=W.Decorate(oe.dropdownAdapter,yt)),oe.dropdownAdapter=W.Decorate(oe.dropdownAdapter,We)),oe.selectionAdapter==null&&(oe.multiple?oe.selectionAdapter=k:oe.selectionAdapter=x,oe.placeholder!=null&&(oe.selectionAdapter=W.Decorate(oe.selectionAdapter,E)),oe.allowClear&&(oe.selectionAdapter=W.Decorate(oe.selectionAdapter,C)),oe.multiple&&(oe.selectionAdapter=W.Decorate(oe.selectionAdapter,z)),oe.selectionCssClass!=null&&(oe.selectionAdapter=W.Decorate(oe.selectionAdapter,V)),oe.selectionAdapter=W.Decorate(oe.selectionAdapter,K)),oe.language=this._resolveLanguage(oe.language),oe.language.push("en");for(var Pe=[],tt=0;tt<oe.language.length;tt++){var $e=oe.language[tt];Pe.indexOf($e)===-1&&Pe.push($e)}return oe.language=Pe,oe.translations=this._processTranslations(oe.language,oe.debug),oe},et.prototype.reset=function(){function oe(ke){return ke.replace(/[^\u0000-\u007E]/g,function(Pe){return G[Pe]||Pe})}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:W.escapeMarkup,language:{},matcher:function ke(Pe,tt){if(Pe.term==null||Pe.term.trim()==="")return tt;if(tt.children&&0<tt.children.length){for(var $e=A.extend(!0,{},tt),st=tt.children.length-1;0<=st;st--)ke(Pe,tt.children[st])==null&&$e.children.splice(st,1);return 0<$e.children.length?$e:ke(Pe,$e)}var Nt=oe(tt.text).toUpperCase(),Tt=oe(Pe.term).toUpperCase();return-1<Nt.indexOf(Tt)?tt:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(ke){return ke},templateResult:function(ke){return ke.text},templateSelection:function(ke){return ke.text},theme:"default",width:"resolve"}},et.prototype.applyFromElement=function(oe,st){var Pe=oe.language,tt=this.defaults.language,$e=st.prop("lang"),st=st.closest("[lang]").prop("lang"),st=Array.prototype.concat.call(this._resolveLanguage($e),this._resolveLanguage(Pe),this._resolveLanguage(tt),this._resolveLanguage(st));return oe.language=st,oe},et.prototype._resolveLanguage=function(oe){if(!oe)return[];if(A.isEmptyObject(oe))return[];if(A.isPlainObject(oe))return[oe];for(var ke,Pe=Array.isArray(oe)?oe:[oe],tt=[],$e=0;$e<Pe.length;$e++)tt.push(Pe[$e]),typeof Pe[$e]=="string"&&0<Pe[$e].indexOf("-")&&(ke=Pe[$e].split("-")[0],tt.push(ke));return tt},et.prototype._processTranslations=function(oe,ke){for(var Pe=new B,tt=0;tt<oe.length;tt++){var $e=new B,st=oe[tt];if(typeof st=="string")try{$e=B.loadPath(st)}catch{try{st=this.defaults.amdLanguageBase+st,$e=B.loadPath(st)}catch{ke&&window.console&&console.warn&&console.warn('Select2: The language file for "'+st+'" could not be automatically loaded. A fallback will be used instead.')}}else $e=A.isPlainObject(st)?new B(st):st;Pe.extend($e)}return Pe},et.prototype.set=function(oe,ke){var Pe={};Pe[A.camelCase(oe)]=ke,Pe=W._convertData(Pe),A.extend(!0,this.defaults,Pe)},new et}),R.define("select2/options",["jquery","./defaults","./utils"],function(A,P,x){function k(E,C){this.options=E,C!=null&&this.fromElement(C),C!=null&&(this.options=P.applyFromElement(this.options,C)),this.options=P.apply(this.options)}return k.prototype.fromElement=function(E){var C=["select2"];this.options.multiple==null&&(this.options.multiple=E.prop("multiple")),this.options.disabled==null&&(this.options.disabled=E.prop("disabled")),this.options.autocomplete==null&&E.prop("autocomplete")&&(this.options.autocomplete=E.prop("autocomplete")),this.options.dir==null&&(E.prop("dir")?this.options.dir=E.prop("dir"):E.closest("[dir]").prop("dir")?this.options.dir=E.closest("[dir]").prop("dir"):this.options.dir="ltr"),E.prop("disabled",this.options.disabled),E.prop("multiple",this.options.multiple),x.GetData(E[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),x.StoreData(E[0],"data",x.GetData(E[0],"select2Tags")),x.StoreData(E[0],"tags",!0)),x.GetData(E[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),E.attr("ajax--url",x.GetData(E[0],"ajaxUrl")),x.StoreData(E[0],"ajax-Url",x.GetData(E[0],"ajaxUrl")));var z={};function V(T,J){return J.toUpperCase()}for(var K=0;K<E[0].attributes.length;K++){var W=E[0].attributes[K].name,B="data-";W.substr(0,B.length)==B&&(W=W.substring(B.length),B=x.GetData(E[0],W),z[W.replace(/-([a-z])/g,V)]=B)}A.fn.jquery&&A.fn.jquery.substr(0,2)=="1."&&E[0].dataset&&(z=A.extend(!0,{},E[0].dataset,z));var G,X=A.extend(!0,{},x.GetData(E[0]),z);for(G in X=x._convertData(X))-1<C.indexOf(G)||(A.isPlainObject(this.options[G])?A.extend(this.options[G],X[G]):this.options[G]=X[G]);return this},k.prototype.get=function(E){return this.options[E]},k.prototype.set=function(E,C){this.options[E]=C},k}),R.define("select2/core",["jquery","./options","./utils","./keys"],function(A,P,x,k){var E=function(C,z){x.GetData(C[0],"select2")!=null&&x.GetData(C[0],"select2").destroy(),this.$element=C,this.id=this._generateId(C),z=z||{},this.options=new P(z,C),E.__super__.constructor.call(this);var V=C.attr("tabindex")||0;x.StoreData(C[0],"old-tabindex",V),C.attr("tabindex","-1"),z=this.options.get("dataAdapter"),this.dataAdapter=new z(C,this.options),V=this.render(),this._placeContainer(V),z=this.options.get("selectionAdapter"),this.selection=new z(C,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,V),z=this.options.get("dropdownAdapter"),this.dropdown=new z(C,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,V),V=this.options.get("resultsAdapter"),this.results=new V(C,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var K=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(W){K.trigger("selection:update",{data:W})}),C[0].classList.add("select2-hidden-accessible"),C.attr("aria-hidden","true"),this._syncAttributes(),x.StoreData(C[0],"select2",this),C.data("select2",this)};return x.Extend(E,x.Observable),E.prototype._generateId=function(C){return"select2-"+(C.attr("id")!=null?C.attr("id"):C.attr("name")!=null?C.attr("name")+"-"+x.generateChars(2):x.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},E.prototype._placeContainer=function(C){C.insertAfter(this.$element);var z=this._resolveWidth(this.$element,this.options.get("width"));z!=null&&C.css("width",z)},E.prototype._resolveWidth=function(C,z){var V=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(z=="resolve"){var K=this._resolveWidth(C,"style");return K??this._resolveWidth(C,"element")}if(z=="element")return K=C.outerWidth(!1),K<=0?"auto":K+"px";if(z!="style")return z!="computedstyle"?z:window.getComputedStyle(C[0]).width;if(C=C.attr("style"),typeof C!="string")return null;for(var W=C.split(";"),B=0,G=W.length;B<G;B+=1){var X=W[B].replace(/\s/g,"").match(V);if(X!==null&&1<=X.length)return X[1]}return null},E.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},E.prototype._registerDomEvents=function(){var C=this;this.$element.on("change.select2",function(){C.dataAdapter.current(function(z){C.trigger("selection:update",{data:z})})}),this.$element.on("focus.select2",function(z){C.trigger("focus",z)}),this._syncA=x.bind(this._syncAttributes,this),this._syncS=x.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(z){C._syncA(),C._syncS(z)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},E.prototype._registerDataEvents=function(){var C=this;this.dataAdapter.on("*",function(z,V){C.trigger(z,V)})},E.prototype._registerSelectionEvents=function(){var C=this,z=["toggle","focus"];this.selection.on("toggle",function(){C.toggleDropdown()}),this.selection.on("focus",function(V){C.focus(V)}),this.selection.on("*",function(V,K){z.indexOf(V)===-1&&C.trigger(V,K)})},E.prototype._registerDropdownEvents=function(){var C=this;this.dropdown.on("*",function(z,V){C.trigger(z,V)})},E.prototype._registerResultsEvents=function(){var C=this;this.results.on("*",function(z,V){C.trigger(z,V)})},E.prototype._registerEvents=function(){var C=this;this.on("open",function(){C.$container[0].classList.add("select2-container--open")}),this.on("close",function(){C.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){C.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){C.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){C.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(z){C.isOpen()||C.trigger("open",{}),this.dataAdapter.query(z,function(V){C.trigger("results:all",{data:V,query:z})})}),this.on("query:append",function(z){this.dataAdapter.query(z,function(V){C.trigger("results:append",{data:V,query:z})})}),this.on("keypress",function(z){var V=z.which;C.isOpen()?V===k.ESC||V===k.UP&&z.altKey?(C.close(z),z.preventDefault()):V===k.ENTER||V===k.TAB?(C.trigger("results:select",{}),z.preventDefault()):V===k.SPACE&&z.ctrlKey?(C.trigger("results:toggle",{}),z.preventDefault()):V===k.UP?(C.trigger("results:previous",{}),z.preventDefault()):V===k.DOWN&&(C.trigger("results:next",{}),z.preventDefault()):(V===k.ENTER||V===k.SPACE||V===k.DOWN&&z.altKey)&&(C.open(),z.preventDefault())})},E.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},E.prototype._isChangeMutation=function(C){var z=this;if(C.addedNodes&&0<C.addedNodes.length){for(var V=0;V<C.addedNodes.length;V++)if(C.addedNodes[V].selected)return!0}else{if(C.removedNodes&&0<C.removedNodes.length)return!0;if(Array.isArray(C))return C.some(function(K){return z._isChangeMutation(K)})}return!1},E.prototype._syncSubtree=function(z){var z=this._isChangeMutation(z),V=this;z&&this.dataAdapter.current(function(K){V.trigger("selection:update",{data:K})})},E.prototype.trigger=function(C,z){var V=E.__super__.trigger,K={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(z===void 0&&(z={}),C in K){var W=K[C],K={prevented:!1,name:C,args:z};if(V.call(this,W,K),K.prevented)return void(z.prevented=!0)}V.call(this,C,z)},E.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},E.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},E.prototype.close=function(C){this.isOpen()&&this.trigger("close",{originalEvent:C})},E.prototype.isEnabled=function(){return!this.isDisabled()},E.prototype.isDisabled=function(){return this.options.get("disabled")},E.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},E.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},E.prototype.focus=function(C){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},E.prototype.enable=function(C){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),C=!(C=C==null||C.length===0?[!0]:C)[0],this.$element.prop("disabled",C)},E.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var C=[];return this.dataAdapter.current(function(z){C=z}),C},E.prototype.val=function(C){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),C==null||C.length===0)return this.$element.val();C=C[0],Array.isArray(C)&&(C=C.map(function(z){return z.toString()})),this.$element.val(C).trigger("input").trigger("change")},E.prototype.destroy=function(){x.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",x.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),x.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},E.prototype.render=function(){var C=A('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return C.attr("dir",this.options.get("dir")),this.$container=C,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),x.StoreData(C[0],"element",this.$element),C},E}),R.define("select2/dropdown/attachContainer",[],function(){function A(P,x,k){P.call(this,x,k)}return A.prototype.position=function(P,x,k){k.find(".dropdown-wrapper").append(x),x[0].classList.add("select2-dropdown--below"),k[0].classList.add("select2-container--below")},A}),R.define("select2/dropdown/stopPropagation",[],function(){function A(){}return A.prototype.bind=function(P,x,k){P.call(this,x,k),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(E){E.stopPropagation()})},A}),R.define("select2/selection/stopPropagation",[],function(){function A(){}return A.prototype.bind=function(P,x,k){P.call(this,x,k),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(E){E.stopPropagation()})},A}),v=function(A){var P,x,k=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],E="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],C=Array.prototype.slice;if(A.event.fixHooks)for(var z=k.length;z;)A.event.fixHooks[k[--z]]=A.event.mouseHooks;var V=A.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var G=E.length;G;)this.addEventListener(E[--G],K,!1);else this.onmousewheel=K;A.data(this,"mousewheel-line-height",V.getLineHeight(this)),A.data(this,"mousewheel-page-height",V.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var G=E.length;G;)this.removeEventListener(E[--G],K,!1);else this.onmousewheel=null;A.removeData(this,"mousewheel-line-height"),A.removeData(this,"mousewheel-page-height")},getLineHeight:function(T){var X=A(T),T=X["offsetParent"in A.fn?"offsetParent":"parent"]();return T.length||(T=A("body")),parseInt(T.css("fontSize"),10)||parseInt(X.css("fontSize"),10)||16},getPageHeight:function(G){return A(G).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function K(G){var X,T=G||window.event,J=C.call(arguments,1),ee=0,le=0,ue=0,de=0,be=0,me=0;if(G=A.event.fix(T),G.type="mousewheel","detail"in T&&(ue=-1*T.detail),"wheelDelta"in T&&(ue=T.wheelDelta),"wheelDeltaY"in T&&(ue=T.wheelDeltaY),"wheelDeltaX"in T&&(le=-1*T.wheelDeltaX),"axis"in T&&T.axis===T.HORIZONTAL_AXIS&&(le=-1*ue,ue=0),ee=ue===0?le:ue,"deltaY"in T&&(ee=ue=-1*T.deltaY),"deltaX"in T&&(le=T.deltaX,ue===0&&(ee=-1*le)),ue!==0||le!==0)return T.deltaMode===1?(ee*=X=A.data(this,"mousewheel-line-height"),ue*=X,le*=X):T.deltaMode===2&&(ee*=X=A.data(this,"mousewheel-page-height"),ue*=X,le*=X),de=Math.max(Math.abs(ue),Math.abs(le)),(!x||de<x)&&B(T,x=de)&&(x/=40),B(T,de)&&(ee/=40,le/=40,ue/=40),ee=Math[1<=ee?"floor":"ceil"](ee/x),le=Math[1<=le?"floor":"ceil"](le/x),ue=Math[1<=ue?"floor":"ceil"](ue/x),V.settings.normalizeOffset&&this.getBoundingClientRect&&(de=this.getBoundingClientRect(),be=G.clientX-de.left,me=G.clientY-de.top),G.deltaX=le,G.deltaY=ue,G.deltaFactor=x,G.offsetX=be,G.offsetY=me,G.deltaMode=0,J.unshift(G,ee,le,ue),P&&clearTimeout(P),P=setTimeout(W,200),(A.event.dispatch||A.event.handle).apply(this,J)}function W(){x=null}function B(G,X){return V.settings.adjustOldDeltas&&G.type==="mousewheel"&&X%120==0}A.fn.extend({mousewheel:function(G){return G?this.bind("mousewheel",G):this.trigger("mousewheel")},unmousewheel:function(G){return this.unbind("mousewheel",G)}})},typeof R.define=="function"&&R.define.amd?R.define("jquery-mousewheel",["jquery"],v):t.exports=v,R.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(A,P,x,k,E){var C;return A.fn.select2==null&&(C=["open","close","destroy"],A.fn.select2=function(z){if(typeof(z=z||{})=="object")return this.each(function(){var W=A.extend(!0,{},z);new x(A(this),W)}),this;if(typeof z!="string")throw new Error("Invalid arguments for Select2: "+z);var V,K=Array.prototype.slice.call(arguments,1);return this.each(function(){var W=E.GetData(this,"select2");W==null&&window.console&&console.error&&console.error("The select2('"+z+"') method was called on an element that is not using Select2."),V=W[z].apply(W,K)}),-1<C.indexOf(z)?this:V}),A.fn.select2.defaults==null&&(A.fn.select2.defaults=k),x}),{define:R.define,require:R.require});function j(A,P){return w.call(A,P)}function L(A,P){var x,k,E,C,z,V,K,W,B,G,X=P&&P.split("/"),T=g.map,J=T&&T["*"]||{};if(A){for(P=(A=A.split("/")).length-1,g.nodeIdCompat&&_.test(A[P])&&(A[P]=A[P].replace(_,"")),A[0].charAt(0)==="."&&X&&(A=X.slice(0,X.length-1).concat(A)),W=0;W<A.length;W++)(G=A[W])==="."?(A.splice(W,1),--W):G===".."&&(W===0||W===1&&A[2]===".."||A[W-1]===".."||0<W&&(A.splice(W-1,2),W-=2));A=A.join("/")}if((X||J)&&T){for(W=(x=A.split("/")).length;0<W;--W){if(k=x.slice(0,W).join("/"),X){for(B=X.length;0<B;--B)if(E=T[X.slice(0,B).join("/")],E=E&&E[k]){C=E,z=W;break}}if(C)break;!V&&J&&J[k]&&(V=J[k],K=W)}!C&&V&&(C=V,z=K),C&&(x.splice(0,z,C),A=x.join("/"))}return A}function U(A,P){return function(){var x=b.call(arguments,0);return typeof x[0]!="string"&&x.length===1&&x.push(null),l.apply(o,x.concat([A,P]))}}function M(A){var P;if(j(h,A)&&(P=h[A],delete h[A],p[A]=!0,i.apply(o,P)),!j(u,A)&&!j(p,A))throw new Error("No "+A);return u[A]}function q(A){var P,x=A?A.indexOf("!"):-1;return-1<x&&(P=A.substring(0,x),A=A.substring(x+1,A.length)),[P,A]}function y(A){return A?q(A):[]}var R=v.require("jquery.select2");return r.fn.select2.amd=v,R})})(XV);function QV({isOpen:t,onClose:e,entry:r}){if(!t)return null;const n=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),a=o=>o?new Date(o).toLocaleDateString("pt-BR"):"-";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Lanamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300 rounded-full p-1 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:s.jsx(Vt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 pb-4 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:r.description}),s.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm",children:["ID: ",r.id]})]}),s.jsx("div",{className:`text-xl font-bold ${r.value<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:n(r.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(El,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Data do Lanamento"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:a(r.date)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(El,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Data de Competncia"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:a(r.competenceDate)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Mv,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Valor"}),s.jsx("p",{className:`font-medium ${r.value<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:n(r.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(w4,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"CNPJ"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.cnpj||"-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gm,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Conta Bancria"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.bankAccount||"-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Pl,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Categoria"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.category||"-"})]})]})]})]}),s.jsxs("div",{className:"pt-2 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.beneficiary||"-"})]}),r.attachments&&r.attachments.length>0&&s.jsxs("div",{className:"pt-2 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Anexos"}),s.jsx("div",{className:"space-y-2",children:r.attachments.map((o,i)=>s.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-2 bg-secondary-50 dark:bg-secondary-700 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(Pl,{className:"h-5 w-5 text-primary-500 mr-2"}),s.jsxs("span",{className:"text-secondary-900 dark:text-white text-sm",children:["Anexo ",i+1]})]},i))})]})]}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex justify-end",children:s.jsx("button",{onClick:e,className:"px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:"Fechar"})})]})})}function Pr(t){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(t)}var va=Uint8Array,hs=Uint16Array,Bw=Int32Array,sg=new va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),og=new va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vb=new va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i6=function(t,e){for(var r=new hs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new Bw(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)a[o]=o-r[n]<<5|n;return{b:r,r:a}},l6=i6(sg,2),c6=l6.b,wb=l6.r;c6[28]=258,wb[258]=28;var d6=i6(og,0),ZV=d6.b,gk=d6.r,kb=new hs(32768);for(var Kr=0;Kr<32768;++Kr){var Zi=(Kr&43690)>>1|(Kr&21845)<<1;Zi=(Zi&52428)>>2|(Zi&13107)<<2,Zi=(Zi&61680)>>4|(Zi&3855)<<4,kb[Kr]=((Zi&65280)>>8|(Zi&255)<<8)>>1}var Vo=function(t,e,r){for(var n=t.length,a=0,o=new hs(e);a<n;++a)t[a]&&++o[t[a]-1];var i=new hs(e);for(a=1;a<e;++a)i[a]=i[a-1]+o[a-1]<<1;var l;if(r){l=new hs(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=i[t[a]-1]++<<u,g=h|(1<<u)-1;h<=g;++h)l[kb[h]>>c]=d}else for(l=new hs(n),a=0;a<n;++a)t[a]&&(l[a]=kb[i[t[a]-1]++]>>15-t[a]);return l},Dl=new va(288);for(var Kr=0;Kr<144;++Kr)Dl[Kr]=8;for(var Kr=144;Kr<256;++Kr)Dl[Kr]=9;for(var Kr=256;Kr<280;++Kr)Dl[Kr]=7;for(var Kr=280;Kr<288;++Kr)Dl[Kr]=8;var Gh=new va(32);for(var Kr=0;Kr<32;++Kr)Gh[Kr]=5;var eH=Vo(Dl,9,0),tH=Vo(Dl,9,1),rH=Vo(Gh,5,0),nH=Vo(Gh,5,1),Py=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},to=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Dy=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},$w=function(t){return(t+7)/8|0},u6=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new va(t.subarray(e,r))},aH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ao=function(t,e,r){var n=new Error(e||aH[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ao),!r)throw n;return n},sH=function(t,e,r,n){var a=t.length,o=0;if(!a||e.f&&!e.l)return r||new va(0);var i=!r,l=i||e.i!=2,c=e.i;i&&(r=new va(a*3));var d=function(Le){var Te=r.length;if(Le>Te){var We=new va(Math.max(Te*2,Le));We.set(r),r=We}},u=e.f||0,h=e.p||0,g=e.b||0,p=e.l,w=e.d,b=e.m,_=e.n,v=a*8;do{if(!p){u=to(t,h,1);var j=to(t,h+1,3);if(h+=3,j)if(j==1)p=tH,w=nH,b=9,_=5;else if(j==2){var q=to(t,h,31)+257,y=to(t,h+10,15)+4,R=q+to(t,h+5,31)+1;h+=14;for(var A=new va(R),P=new va(19),x=0;x<y;++x)P[vb[x]]=to(t,h+x*3,7);h+=y*3;for(var k=Py(P),E=(1<<k)-1,C=Vo(P,k,1),x=0;x<R;){var z=C[to(t,h,E)];h+=z&15;var L=z>>4;if(L<16)A[x++]=L;else{var V=0,K=0;for(L==16?(K=3+to(t,h,3),h+=2,V=A[x-1]):L==17?(K=3+to(t,h,7),h+=3):L==18&&(K=11+to(t,h,127),h+=7);K--;)A[x++]=V}}var W=A.subarray(0,q),B=A.subarray(q);b=Py(W),_=Py(B),p=Vo(W,b,1),w=Vo(B,_,1)}else ao(1);else{var L=$w(h)+4,U=t[L-4]|t[L-3]<<8,M=L+U;if(M>a){c&&ao(0);break}l&&d(g+U),r.set(t.subarray(L,M),g),e.b=g+=U,e.p=h=M*8,e.f=u;continue}if(h>v){c&&ao(0);break}}l&&d(g+131072);for(var G=(1<<b)-1,X=(1<<_)-1,T=h;;T=h){var V=p[Dy(t,h)&G],J=V>>4;if(h+=V&15,h>v){c&&ao(0);break}if(V||ao(2),J<256)r[g++]=J;else if(J==256){T=h,p=null;break}else{var ee=J-254;if(J>264){var x=J-257,le=sg[x];ee=to(t,h,(1<<le)-1)+c6[x],h+=le}var ue=w[Dy(t,h)&X],de=ue>>4;ue||ao(3),h+=ue&15;var B=ZV[de];if(de>3){var le=og[de];B+=Dy(t,h)&(1<<le)-1,h+=le}if(h>v){c&&ao(0);break}l&&d(g+131072);var be=g+ee;if(g<B){var me=o-B,ve=Math.min(B,be);for(me+g<0&&ao(3);g<ve;++g)r[g]=n[me+g]}for(;g<be;++g)r[g]=r[g-B]}}e.l=p,e.p=T,e.b=g,e.f=u,p&&(u=1,e.m=b,e.d=w,e.n=_)}while(!u);return g!=r.length&&i?u6(r,0,g):r.subarray(0,g)},li=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Vu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Iy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,o=r.slice();if(!a)return{t:f6,l:0};if(a==1){var i=new va(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(M,q){return M.f-q.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var g=o[0].s,n=1;n<a;++n)o[n].s>g&&(g=o[n].s);var p=new hs(g+1),w=jb(r[u-1],p,0);if(w>e){var n=0,b=0,_=w-e,v=1<<_;for(o.sort(function(q,y){return p[y.s]-p[q.s]||q.f-y.f});n<a;++n){var j=o[n].s;if(p[j]>e)b+=v-(1<<w-p[j]),p[j]=e;else break}for(b>>=_;b>0;){var L=o[n].s;p[L]<e?b-=1<<e-p[L]++-1:++n}for(;n>=0&&b;--n){var U=o[n].s;p[U]==e&&(--p[U],++b)}w=e}return{t:new va(p),l:w}},jb=function(t,e,r){return t.s==-1?Math.max(jb(t.l,e,r+1),jb(t.r,e,r+1)):e[t.s]=r},yk=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new hs(++e),n=0,a=t[0],o=1,i=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(a),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(a);o=1,a=t[l]}return{c:r.subarray(0,n),n:e}},Hu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},h6=function(t,e,r){var n=r.length,a=$w(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var o=0;o<n;++o)t[a+o+4]=r[o];return(a+4+n)*8},xk=function(t,e,r,n,a,o,i,l,c,d,u){li(e,u++,r),++a[256];for(var h=Iy(a,15),g=h.t,p=h.l,w=Iy(o,15),b=w.t,_=w.l,v=yk(g),j=v.c,L=v.n,U=yk(b),M=U.c,q=U.n,y=new hs(19),R=0;R<j.length;++R)++y[j[R]&31];for(var R=0;R<M.length;++R)++y[M[R]&31];for(var A=Iy(y,7),P=A.t,x=A.l,k=19;k>4&&!P[vb[k-1]];--k);var E=d+5<<3,C=Hu(a,Dl)+Hu(o,Gh)+i,z=Hu(a,g)+Hu(o,b)+i+14+3*k+Hu(y,P)+2*y[16]+3*y[17]+7*y[18];if(c>=0&&E<=C&&E<=z)return h6(e,u,t.subarray(c,c+d));var V,K,W,B;if(li(e,u,1+(z<C)),u+=2,z<C){V=Vo(g,p,0),K=g,W=Vo(b,_,0),B=b;var G=Vo(P,x,0);li(e,u,L-257),li(e,u+5,q-1),li(e,u+10,k-4),u+=14;for(var R=0;R<k;++R)li(e,u+3*R,P[vb[R]]);u+=3*k;for(var X=[j,M],T=0;T<2;++T)for(var J=X[T],R=0;R<J.length;++R){var ee=J[R]&31;li(e,u,G[ee]),u+=P[ee],ee>15&&(li(e,u,J[R]>>5&127),u+=J[R]>>12)}}else V=eH,K=Dl,W=rH,B=Gh;for(var R=0;R<l;++R){var le=n[R];if(le>255){var ee=le>>18&31;Vu(e,u,V[ee+257]),u+=K[ee+257],ee>7&&(li(e,u,le>>23&31),u+=sg[ee]);var ue=le&31;Vu(e,u,W[ue]),u+=B[ue],ue>3&&(Vu(e,u,le>>5&8191),u+=og[ue])}else Vu(e,u,V[le]),u+=K[le]}return Vu(e,u,V[256]),u+K[256]},oH=new Bw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),f6=new va(0),iH=function(t,e,r,n,a,o){var i=o.z||t.length,l=new va(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),d=o.l,u=(o.r||0)&7;if(e){u&&(c[0]=o.r>>3);for(var h=oH[e-1],g=h>>13,p=h&8191,w=(1<<r)-1,b=o.p||new hs(32768),_=o.h||new hs(w+1),v=Math.ceil(r/3),j=2*v,L=function(ct){return(t[ct]^t[ct+1]<<v^t[ct+2]<<j)&w},U=new Bw(25e3),M=new hs(288),q=new hs(32),y=0,R=0,A=o.i||0,P=0,x=o.w||0,k=0;A+2<i;++A){var E=L(A),C=A&32767,z=_[E];if(b[C]=z,_[E]=C,x<=A){var V=i-A;if((y>7e3||P>24576)&&(V>423||!d)){u=xk(t,c,0,U,M,q,R,P,k,A-k,u),P=y=R=0,k=A;for(var K=0;K<286;++K)M[K]=0;for(var K=0;K<30;++K)q[K]=0}var W=2,B=0,G=p,X=C-z&32767;if(V>2&&E==L(A-X))for(var T=Math.min(g,V)-1,J=Math.min(32767,A),ee=Math.min(258,V);X<=J&&--G&&C!=z;){if(t[A+W]==t[A+W-X]){for(var le=0;le<ee&&t[A+le]==t[A+le-X];++le);if(le>W){if(W=le,B=X,le>T)break;for(var ue=Math.min(X,le-2),de=0,K=0;K<ue;++K){var be=A-X+K&32767,me=b[be],ve=be-me&32767;ve>de&&(de=ve,z=be)}}}C=z,z=b[C],X+=C-z&32767}if(B){U[P++]=268435456|wb[W]<<18|gk[B];var Le=wb[W]&31,Te=gk[B]&31;R+=sg[Le]+og[Te],++M[257+Le],++q[Te],x=A+W,++y}else U[P++]=t[A],++M[t[A]]}}for(A=Math.max(A,x);A<i;++A)U[P++]=t[A],++M[t[A]];u=xk(t,c,d,U,M,q,R,P,k,A-k,u),d||(o.r=u&7|c[u/8|0]<<3,u-=7,o.h=_,o.p=b,o.i=A,o.w=x)}else{for(var A=o.w||0;A<i+d;A+=65535){var We=A+65535;We>=i&&(c[u/8|0]=d,We=i),u=h6(c,u+1,t.subarray(A,We))}o.i=i}return u6(l,0,n+$w(u)+a)},p6=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,o=r.length|0,i=0;i!=o;){for(var l=Math.min(i+2655,o);i<l;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},lH=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),i=new va(o.length+t.length);i.set(o),i.set(t,o.length),t=i,a.w=o.length}return iH(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},m6=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},cH=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=p6();a.p(e.dictionary),m6(t,2,a.d())}},dH=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ao(6,"invalid zlib data"),(t[1]>>5&1)==1&&ao(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Nb(t,e){e||(e={});var r=p6();r.p(t);var n=lH(t,e,e.dictionary?6:2,4);return cH(n,e),m6(n,n.length-4,r.d()),n}function uH(t,e){return sH(t.subarray(dH(t),-4),{i:2},e,e)}var hH=typeof TextDecoder<"u"&&new TextDecoder,fH=0;try{hH.decode(f6,{stream:!0}),fH=1}catch{}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ly(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var $r={log:Ly,warn:function(t){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):Ly.call(null,arguments))},error:function(t){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):Ly(t))}};function Ry(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Zl(n.response,e,r)},n.onerror=function(){$r.error("could not download file")},n.send()}function bk(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function yp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var gh,Sb,Zl=Ut.saveAs||((typeof window>"u"?"undefined":Pr(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ut.URL||Ut.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?bk(a.href)?Ry(t,e,r):yp(a,a.target="_blank"):yp(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){yp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(bk(t))Ry(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){yp(n)})}else navigator.msSaveOrOpenBlob(function(a,o){return o===void 0?o={autoBom:!1}:Pr(o)!=="object"&&($r.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ry(t,e,r);var a=t.type==="application/octet-stream",o=/constructor/i.test(Ut.HTMLElement)||Ut.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&o)&&(typeof FileReader>"u"?"undefined":Pr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(t)}else{var c=Ut.URL||Ut.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function g6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,o=r[n].process,i=a.exec(t);i&&(e=o(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ty(t,e){var r=t[0],n=t[1],a=t[2],o=t[3];r=fa(r,n,a,o,e[0],7,-680876936),o=fa(o,r,n,a,e[1],12,-389564586),a=fa(a,o,r,n,e[2],17,606105819),n=fa(n,a,o,r,e[3],22,-1044525330),r=fa(r,n,a,o,e[4],7,-176418897),o=fa(o,r,n,a,e[5],12,1200080426),a=fa(a,o,r,n,e[6],17,-1473231341),n=fa(n,a,o,r,e[7],22,-45705983),r=fa(r,n,a,o,e[8],7,1770035416),o=fa(o,r,n,a,e[9],12,-1958414417),a=fa(a,o,r,n,e[10],17,-42063),n=fa(n,a,o,r,e[11],22,-1990404162),r=fa(r,n,a,o,e[12],7,1804603682),o=fa(o,r,n,a,e[13],12,-40341101),a=fa(a,o,r,n,e[14],17,-1502002290),r=pa(r,n=fa(n,a,o,r,e[15],22,1236535329),a,o,e[1],5,-165796510),o=pa(o,r,n,a,e[6],9,-1069501632),a=pa(a,o,r,n,e[11],14,643717713),n=pa(n,a,o,r,e[0],20,-373897302),r=pa(r,n,a,o,e[5],5,-701558691),o=pa(o,r,n,a,e[10],9,38016083),a=pa(a,o,r,n,e[15],14,-660478335),n=pa(n,a,o,r,e[4],20,-405537848),r=pa(r,n,a,o,e[9],5,568446438),o=pa(o,r,n,a,e[14],9,-1019803690),a=pa(a,o,r,n,e[3],14,-187363961),n=pa(n,a,o,r,e[8],20,1163531501),r=pa(r,n,a,o,e[13],5,-1444681467),o=pa(o,r,n,a,e[2],9,-51403784),a=pa(a,o,r,n,e[7],14,1735328473),r=ma(r,n=pa(n,a,o,r,e[12],20,-1926607734),a,o,e[5],4,-378558),o=ma(o,r,n,a,e[8],11,-2022574463),a=ma(a,o,r,n,e[11],16,1839030562),n=ma(n,a,o,r,e[14],23,-35309556),r=ma(r,n,a,o,e[1],4,-1530992060),o=ma(o,r,n,a,e[4],11,1272893353),a=ma(a,o,r,n,e[7],16,-155497632),n=ma(n,a,o,r,e[10],23,-1094730640),r=ma(r,n,a,o,e[13],4,681279174),o=ma(o,r,n,a,e[0],11,-358537222),a=ma(a,o,r,n,e[3],16,-722521979),n=ma(n,a,o,r,e[6],23,76029189),r=ma(r,n,a,o,e[9],4,-640364487),o=ma(o,r,n,a,e[12],11,-421815835),a=ma(a,o,r,n,e[15],16,530742520),r=ga(r,n=ma(n,a,o,r,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ga(o,r,n,a,e[7],10,1126891415),a=ga(a,o,r,n,e[14],15,-1416354905),n=ga(n,a,o,r,e[5],21,-57434055),r=ga(r,n,a,o,e[12],6,1700485571),o=ga(o,r,n,a,e[3],10,-1894986606),a=ga(a,o,r,n,e[10],15,-1051523),n=ga(n,a,o,r,e[1],21,-2054922799),r=ga(r,n,a,o,e[8],6,1873313359),o=ga(o,r,n,a,e[15],10,-30611744),a=ga(a,o,r,n,e[6],15,-1560198380),n=ga(n,a,o,r,e[13],21,1309151649),r=ga(r,n,a,o,e[4],6,-145523070),o=ga(o,r,n,a,e[11],10,-1120210379),a=ga(a,o,r,n,e[2],15,718787259),n=ga(n,a,o,r,e[9],21,-343485551),t[0]=gl(r,t[0]),t[1]=gl(n,t[1]),t[2]=gl(a,t[2]),t[3]=gl(o,t[3])}function ig(t,e,r,n,a,o){return e=gl(gl(e,t),gl(n,o)),gl(e<<a|e>>>32-a,r)}function fa(t,e,r,n,a,o,i){return ig(e&r|~e&n,t,e,a,o,i)}function pa(t,e,r,n,a,o,i){return ig(e&n|r&~n,t,e,a,o,i)}function ma(t,e,r,n,a,o,i){return ig(e^r^n,t,e,a,o,i)}function ga(t,e,r,n,a,o,i){return ig(r^(e|~n),t,e,a,o,i)}function y6(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Ty(n,pH(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Ty(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Ty(n,a),n}function pH(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}gh=Ut.atob.bind(Ut),Sb=Ut.btoa.bind(Ut);var vk="0123456789abcdef".split("");function mH(t){for(var e="",r=0;r<4;r++)e+=vk[t>>8*r+4&15]+vk[t>>8*r&15];return e}function gH(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Cb(t){return y6(t).map(gH).join("")}var yH=function(t){for(var e=0;e<t.length;e++)t[e]=mH(t[e]);return t.join("")}(y6("hello"))!="5d41402abc4b2a76b9719d911017c592";function gl(t,e){if(yH){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _b(t,e){var r,n,a,o;if(t!==r){for(var i=(a=t,o=1+(256/t.length>>0),new Array(o+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+i.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,n=l}else l=n;var h=e.length,g=0,p=0,w="";for(c=0;c<h;c++)p=(p+(u=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=u,i=l[(l[g]+l[p])%256],w+=String.fromCharCode(e.charCodeAt(c)^i);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wk={print:4,modify:8,copy:16,"annot-forms":32};function td(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(wk.perm!==void 0)throw new Error("Invalid permission: "+l);a+=wk[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,i),this.P=-(1+(255^a)),this.encryptionKey=Cb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_b(this.encryptionKey,this.padding)}function rd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function kk(t){if(Pr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!a],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[r]){var i=e[r][o];try{i[0].apply(t,n)}catch(l){Ut.console&&$r.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function J0(t){if(!(this instanceof J0))return new J0(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function x6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function tc(t,e,r,n,a){if(!(this instanceof tc))return new tc(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,x6.call(this,n,a)}function md(t,e,r,n,a){if(!(this instanceof md))return new md(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,x6.call(this,n,a)}function $t(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],i=[],l=1,c=16,d="S",u=null;Pr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,o=t.compress||t.compressPdf||o,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),i=t.filters||(o===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=kk;var w="1.3",b=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(I){w=I};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return _};var v=p.__private__.getPageFormat=function(I){return _[I]};a=a||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},L=j.COMPAT;function U(){this.saveGraphicsState(),ge(new mt(ut,0,0,-ut,0,qt()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),d="n",L=j.ADVANCED}function M(){this.restoreGraphicsState(),d="S",L=j.COMPAT}var q=p.__private__.combineFontStyleAndFontWeight=function(I,te){if(I=="bold"&&te=="normal"||I=="bold"&&te==400||I=="normal"&&te=="italic"||I=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(I=te==400||te==="normal"?I==="italic"?"italic":"normal":te!=700&&te!=="bold"||I!=="normal"?(te==700?"bold":te)+""+I:"bold"),I};p.advancedAPI=function(I){var te=L===j.COMPAT;return te&&U.call(this),typeof I!="function"||(I(this),te&&M.call(this)),this},p.compatAPI=function(I){var te=L===j.ADVANCED;return te&&M.call(this),typeof I!="function"||(I(this),te&&U.call(this)),this},p.isAdvancedAPI=function(){return L===j.ADVANCED};var y,R=function(I){if(L!==j.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=p.roundToPrecision=p.__private__.roundToPrecision=function(I,te){var pe=e||te;if(isNaN(I)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(pe).replace(/0+$/,"")};y=p.hpf=p.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return A(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return A(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return A(I,16)};var P=p.f2=p.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return A(I,2)},x=p.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return A(I,3)},k=p.scale=p.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return L===j.COMPAT?I*ut:L===j.ADVANCED?I:void 0},E=function(I){return L===j.COMPAT?qt()-I:L===j.ADVANCED?I:void 0},C=function(I){return k(E(I))};p.__private__.setPrecision=p.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var z,V="00000000000000000000000000000000",K=p.__private__.getFileId=function(){return V},W=p.__private__.setFileId=function(I){return V=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Fn=new td(u.userPermissions,u.userPassword,u.ownerPassword,V)),V};p.setFileId=function(I){return W(I),this},p.getFileId=function(){return K()};var B=p.__private__.convertDateToPDFDate=function(I){var te=I.getTimezoneOffset(),pe=te<0?"+":"-",xe=Math.floor(Math.abs(te/60)),De=Math.abs(te%60),Re=[pe,ee(xe),"'",ee(De),"'"].join("");return["D:",I.getFullYear(),ee(I.getMonth()+1),ee(I.getDate()),ee(I.getHours()),ee(I.getMinutes()),ee(I.getSeconds()),Re].join("")},G=p.__private__.convertPDFDateToDate=function(I){var te=parseInt(I.substr(2,4),10),pe=parseInt(I.substr(6,2),10)-1,xe=parseInt(I.substr(8,2),10),De=parseInt(I.substr(10,2),10),Re=parseInt(I.substr(12,2),10),Ye=parseInt(I.substr(14,2),10);return new Date(te,pe,xe,De,Re,Ye,0)},X=p.__private__.setCreationDate=function(I){var te;if(I===void 0&&(I=new Date),I instanceof Date)te=B(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=I}return z=te},T=p.__private__.getCreationDate=function(I){var te=z;return I==="jsDate"&&(te=G(z)),te};p.setCreationDate=function(I){return X(I),this},p.getCreationDate=function(I){return T(I)};var J,ee=p.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},le=p.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ue=0,de=[],be=[],me=0,ve=[],Le=[],Te=!1,We=be,ct=function(){ue=0,me=0,be=[],de=[],ve=[],ca=Tr(),es=Tr()};p.__private__.setCustomOutputDestination=function(I){Te=!0,We=I};var Fe=function(I){Te||(We=I)};p.__private__.resetCustomOutputDestination=function(){Te=!1,We=be};var ge=p.__private__.out=function(I){return I=I.toString(),me+=I.length+1,We.push(I),We},yt=p.__private__.write=function(I){return ge(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},rt=p.__private__.getArrayBuffer=function(I){for(var te=I.length,pe=new ArrayBuffer(te),xe=new Uint8Array(pe);te--;)xe[te]=I.charCodeAt(te);return pe},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Je};var et=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(I){return et=L===j.ADVANCED?I/ut:I,this};var oe,ke=p.__private__.getFontSize=p.getFontSize=function(){return L===j.COMPAT?et:et*ut},Pe=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(I){return Pe=I,this},p.__private__.getR2L=p.getR2L=function(){return Pe};var tt,$e=p.__private__.setZoomMode=function(I){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))oe=I;else if(isNaN(I)){if(te.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');oe=I}else oe=parseInt(I,10)};p.__private__.getZoomMode=function(){return oe};var st,Nt=p.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');tt=I};p.__private__.getPageMode=function(){return tt};var Tt=p.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');st=I};p.__private__.getLayoutMode=function(){return st},p.__private__.setDisplayMode=p.setDisplayMode=function(I,te,pe){return $e(I),Tt(te),Nt(pe),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(I){if(Object.keys(St).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[I]},p.__private__.getDocumentProperties=function(){return St},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(I){for(var te in St)St.hasOwnProperty(te)&&I[te]&&(St[te]=I[te]);return this},p.__private__.setDocumentProperty=function(I,te){if(Object.keys(St).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[I]=te};var Kt,ut,Gr,Gt,mn,nr={},Cr={},ra=[],sr={},Ns={},qr={},Sn={},mr=null,tr=0,wt=[],Dt=new kk(p),lr=t.hotfixes||[],cr={},rn={},Cn=[],mt=function I(te,pe,xe,De,Re,Ye){if(!(this instanceof I))return new I(te,pe,xe,De,Re,Ye);isNaN(te)&&(te=1),isNaN(pe)&&(pe=0),isNaN(xe)&&(xe=0),isNaN(De)&&(De=1),isNaN(Re)&&(Re=0),isNaN(Ye)&&(Ye=0),this._matrix=[te,pe,xe,De,Re,Ye]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(y).join(I)},mt.prototype.multiply=function(I){var te=I.sx*this.sx+I.shy*this.shx,pe=I.sx*this.shy+I.shy*this.sy,xe=I.shx*this.sx+I.sy*this.shx,De=I.shx*this.shy+I.sy*this.sy,Re=I.tx*this.sx+I.ty*this.shx+this.tx,Ye=I.tx*this.shy+I.ty*this.sy+this.ty;return new mt(te,pe,xe,De,Re,Ye)},mt.prototype.decompose=function(){var I=this.sx,te=this.shy,pe=this.shx,xe=this.sy,De=this.tx,Re=this.ty,Ye=Math.sqrt(I*I+te*te),ft=(I/=Ye)*pe+(te/=Ye)*xe;pe-=I*ft,xe-=te*ft;var jt=Math.sqrt(pe*pe+xe*xe);return ft/=jt,I*(xe/=jt)<te*(pe/=jt)&&(I=-I,te=-te,ft=-ft,Ye=-Ye),{scale:new mt(Ye,0,0,jt,0,0),translate:new mt(1,0,0,1,De,Re),rotate:new mt(I,te,-te,I,0,0),skew:new mt(1,0,ft,1,0,0)}},mt.prototype.toString=function(I){return this.join(" ")},mt.prototype.inversed=function(){var I=this.sx,te=this.shy,pe=this.shx,xe=this.sy,De=this.tx,Re=this.ty,Ye=1/(I*xe-te*pe),ft=xe*Ye,jt=-te*Ye,At=-pe*Ye,Ot=I*Ye;return new mt(ft,jt,At,Ot,-ft*De-At*Re,-jt*De-Ot*Re)},mt.prototype.applyToPoint=function(I){var te=I.x*this.sx+I.y*this.shx+this.tx,pe=I.x*this.shy+I.y*this.sy+this.ty;return new ye(te,pe)},mt.prototype.applyToRectangle=function(I){var te=this.applyToPoint(I),pe=this.applyToPoint(new ye(I.x+I.w,I.y+I.h));return new Ce(te.x,te.y,pe.x-te.x,pe.y-te.y)},mt.prototype.clone=function(){var I=this.sx,te=this.shy,pe=this.shx,xe=this.sy,De=this.tx,Re=this.ty;return new mt(I,te,pe,xe,De,Re)},p.Matrix=mt;var Fr=p.matrixMult=function(I,te){return te.multiply(I)},Lr=new mt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Lr;var Rr=function(I,te){if(!Ns[I]){var pe=(te instanceof tc?"Sh":"P")+(Object.keys(sr).length+1).toString(10);te.id=pe,Ns[I]=pe,sr[pe]=te,Dt.publish("addPattern",te)}};p.ShadingPattern=tc,p.TilingPattern=md,p.addShadingPattern=function(I,te){return R("addShadingPattern()"),Rr(I,te),this},p.beginTilingPattern=function(I){R("beginTilingPattern()"),Ke(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},p.endTilingPattern=function(I,te){R("endTilingPattern()"),te.stream=Le[J].join(`
`),Rr(I,te),Dt.publish("endTilingPattern",te),Cn.pop().restore()};var Nr=p.__private__.newObject=function(){var I=Tr();return Xr(I,!0),I},Tr=p.__private__.newObjectDeferred=function(){return ue++,de[ue]=function(){return me},ue},Xr=function(I,te){return te=typeof te=="boolean"&&te,de[I]=me,te&&ge(I+" 0 obj"),I},Ra=p.__private__.newAdditionalObject=function(){var I={objId:Tr(),content:""};return ve.push(I),I},ca=Tr(),es=Tr(),ts=p.__private__.decodeColorString=function(I){var te=I.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var pe=parseFloat(te[0]);te=[pe,pe,pe,"r"]}for(var xe="#",De=0;De<3;De++)xe+=("0"+Math.floor(255*parseFloat(te[De])).toString(16)).slice(-2);return xe},Ta=p.__private__.encodeColorString=function(I){var te;typeof I=="string"&&(I={ch1:I});var pe=I.ch1,xe=I.ch2,De=I.ch3,Re=I.ch4,Ye=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var ft=new g6(pe);if(ft.ok)pe=ft.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var jt=parseInt(pe.substr(1),16);pe=jt>>16&255,xe=jt>>8&255,De=255&jt}if(xe===void 0||Re===void 0&&pe===xe&&xe===De)if(typeof pe=="string")te=pe+" "+Ye[0];else switch(I.precision){case 2:te=P(pe/255)+" "+Ye[0];break;case 3:default:te=x(pe/255)+" "+Ye[0]}else if(Re===void 0||Pr(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return te=["1.","1.","1.",Ye[1]].join(" ");if(typeof pe=="string")te=[pe,xe,De,Ye[1]].join(" ");else switch(I.precision){case 2:te=[P(pe/255),P(xe/255),P(De/255),Ye[1]].join(" ");break;default:case 3:te=[x(pe/255),x(xe/255),x(De/255),Ye[1]].join(" ")}}else if(typeof pe=="string")te=[pe,xe,De,Re,Ye[2]].join(" ");else switch(I.precision){case 2:te=[P(pe),P(xe),P(De),P(Re),Ye[2]].join(" ");break;case 3:default:te=[x(pe),x(xe),x(De),x(Re),Ye[2]].join(" ")}return te},Ss=p.__private__.getFilters=function(){return i},Tn=p.__private__.putStream=function(I){var te=(I=I||{}).data||"",pe=I.filters||Ss(),xe=I.alreadyAppliedFilters||[],De=I.addLength1||!1,Re=te.length,Ye=I.objectId,ft=function(_n){return _n};if(u!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ft=Fn.encryptor(Ye,0));var jt={};pe===!0&&(pe=["FlateEncode"]);var At=I.additionalKeyValues||[],Ot=(jt=$t.API.processDataByFilters!==void 0?$t.API.processDataByFilters(te,pe):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(jt.data.length!==0&&(At.push({key:"Length",value:jt.data.length}),De===!0&&At.push({key:"Length1",value:Re})),Ot.length!=0)if(Ot.split("/").length-1==1)At.push({key:"Filter",value:Ot});else{At.push({key:"Filter",value:"["+Ot+"]"});for(var Wt=0;Wt<At.length;Wt+=1)if(At[Wt].key==="DecodeParms"){for(var gr=[],xr=0;xr<jt.reverseChain.split("/").length-1;xr+=1)gr.push("null");gr.push(At[Wt].value),At[Wt].value="["+gr.join(" ")+"]"}}ge("<<");for(var hr=0;hr<At.length;hr++)ge("/"+At[hr].key+" "+At[hr].value);ge(">>"),jt.data.length!==0&&(ge("stream"),ge(ft(jt.data)),ge("endstream"))},rs=p.__private__.putPage=function(I){var te=I.number,pe=I.data,xe=I.objId,De=I.contentsObjId;Xr(xe,!0),ge("<</Type /Page"),ge("/Parent "+I.rootDictionaryObjId+" 0 R"),ge("/Resources "+I.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(y(I.mediaBox.bottomLeftX))+" "+parseFloat(y(I.mediaBox.bottomLeftY))+" "+y(I.mediaBox.topRightX)+" "+y(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ge("/CropBox ["+y(I.cropBox.bottomLeftX)+" "+y(I.cropBox.bottomLeftY)+" "+y(I.cropBox.topRightX)+" "+y(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ge("/BleedBox ["+y(I.bleedBox.bottomLeftX)+" "+y(I.bleedBox.bottomLeftY)+" "+y(I.bleedBox.topRightX)+" "+y(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ge("/TrimBox ["+y(I.trimBox.bottomLeftX)+" "+y(I.trimBox.bottomLeftY)+" "+y(I.trimBox.topRightX)+" "+y(I.trimBox.topRightY)+"]"),I.artBox!==null&&ge("/ArtBox ["+y(I.artBox.bottomLeftX)+" "+y(I.artBox.bottomLeftY)+" "+y(I.artBox.topRightX)+" "+y(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ge("/UserUnit "+I.userUnit),Dt.publish("putPage",{objId:xe,pageContext:wt[te],pageNumber:te,page:pe}),ge("/Contents "+De+" 0 R"),ge(">>"),ge("endobj");var Re=pe.join(`
`);return L===j.ADVANCED&&(Re+=`
Q`),Xr(De,!0),Tn({data:Re,filters:Ss(),objectId:De}),ge("endobj"),xe},Us=p.__private__.putPages=function(){var I,te,pe=[];for(I=1;I<=tr;I++)wt[I].objId=Tr(),wt[I].contentsObjId=Tr();for(I=1;I<=tr;I++)pe.push(rs({number:I,data:Le[I],objId:wt[I].objId,contentsObjId:wt[I].contentsObjId,mediaBox:wt[I].mediaBox,cropBox:wt[I].cropBox,bleedBox:wt[I].bleedBox,trimBox:wt[I].trimBox,artBox:wt[I].artBox,userUnit:wt[I].userUnit,rootDictionaryObjId:ca,resourceDictionaryObjId:es}));Xr(ca,!0),ge("<</Type /Pages");var xe="/Kids [";for(te=0;te<tr;te++)xe+=pe[te]+" 0 R ";ge(xe+"]"),ge("/Count "+tr),ge(">>"),ge("endobj"),Dt.publish("postPutPages")},bo=function(I){Dt.publish("putFont",{font:I,out:ge,newObject:Nr,putStream:Tn}),I.isAlreadyPutted!==!0&&(I.objectNumber=Nr(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+rd(I.postScriptName)),ge("/Subtype /Type1"),typeof I.encoding=="string"&&ge("/Encoding /"+I.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},zs=function(){for(var I in nr)nr.hasOwnProperty(I)&&(h===!1||h===!0&&g.hasOwnProperty(I))&&bo(nr[I])},Xo=function(I){I.objectNumber=Nr();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[y(I.x),y(I.y),y(I.x+I.width),y(I.y+I.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var pe=I.pages[1].join(`
`);Tn({data:pe,additionalKeyValues:te,objectId:I.objectNumber}),ge("endobj")},Ii=function(){for(var I in cr)cr.hasOwnProperty(I)&&Xo(cr[I])},vo=function(I,te){var pe,xe=[],De=1/(te-1);for(pe=0;pe<1;pe+=De)xe.push(pe);if(xe.push(1),I[0].offset!=0){var Re={offset:0,color:I[0].color};I.unshift(Re)}if(I[I.length-1].offset!=1){var Ye={offset:1,color:I[I.length-1].color};I.push(Ye)}for(var ft="",jt=0,At=0;At<xe.length;At++){for(pe=xe[At];pe>I[jt+1].offset;)jt++;var Ot=I[jt].offset,Wt=(pe-Ot)/(I[jt+1].offset-Ot),gr=I[jt].color,xr=I[jt+1].color;ft+=le(Math.round((1-Wt)*gr[0]+Wt*xr[0]).toString(16))+le(Math.round((1-Wt)*gr[1]+Wt*xr[1]).toString(16))+le(Math.round((1-Wt)*gr[2]+Wt*xr[2]).toString(16))}return ft.trim()},Ec=function(I,te){te||(te=21);var pe=Nr(),xe=vo(I.colors,te),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+te+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tn({data:xe,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),ge("endobj"),I.objectNumber=Nr(),ge("<< /ShadingType "+I.type),ge("/ColorSpace /DeviceRGB");var Re="/Coords ["+y(parseFloat(I.coords[0]))+" "+y(parseFloat(I.coords[1]))+" ";I.type===2?Re+=y(parseFloat(I.coords[2]))+" "+y(parseFloat(I.coords[3])):Re+=y(parseFloat(I.coords[2]))+" "+y(parseFloat(I.coords[3]))+" "+y(parseFloat(I.coords[4]))+" "+y(parseFloat(I.coords[5])),ge(Re+="]"),I.matrix&&ge("/Matrix ["+I.matrix.toString()+"]"),ge("/Function "+pe+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},Ac=function(I,te){var pe=Tr(),xe=Nr();te.push({resourcesOid:pe,objectOid:xe}),I.objectNumber=xe;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+I.boundingBox.map(y).join(" ")+"]"}),De.push({key:"XStep",value:y(I.xStep)}),De.push({key:"YStep",value:y(I.yStep)}),De.push({key:"Resources",value:pe+" 0 R"}),I.matrix&&De.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Tn({data:I.stream,additionalKeyValues:De,objectId:I.objectNumber}),ge("endobj")},Qo=function(I){var te;for(te in sr)sr.hasOwnProperty(te)&&(sr[te]instanceof tc?Ec(sr[te]):sr[te]instanceof md&&Ac(sr[te],I))},Bl=function(I){for(var te in I.objectNumber=Nr(),ge("<<"),I)switch(te){case"opacity":ge("/ca "+P(I[te]));break;case"stroke-opacity":ge("/CA "+P(I[te]))}ge(">>"),ge("endobj")},fu=function(){var I;for(I in qr)qr.hasOwnProperty(I)&&Bl(qr[I])},Zo=function(){for(var I in ge("/XObject <<"),cr)cr.hasOwnProperty(I)&&cr[I].objectNumber>=0&&ge("/"+I+" "+cr[I].objectNumber+" 0 R");Dt.publish("putXobjectDict"),ge(">>")},pu=function(){Fn.oid=Nr(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Fn.v),ge("/R "+Fn.r),ge("/U <"+Fn.toHexString(Fn.U)+">"),ge("/O <"+Fn.toHexString(Fn.O)+">"),ge("/P "+Fn.P),ge(">>"),ge("endobj")},Pc=function(){for(var I in ge("/Font <<"),nr)nr.hasOwnProperty(I)&&(h===!1||h===!0&&g.hasOwnProperty(I))&&ge("/"+I+" "+nr[I].objectNumber+" 0 R");ge(">>")},Dc=function(){if(Object.keys(sr).length>0){for(var I in ge("/Shading <<"),sr)sr.hasOwnProperty(I)&&sr[I]instanceof tc&&sr[I].objectNumber>=0&&ge("/"+I+" "+sr[I].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),ge(">>")}},ei=function(I){if(Object.keys(sr).length>0){for(var te in ge("/Pattern <<"),sr)sr.hasOwnProperty(te)&&sr[te]instanceof p.TilingPattern&&sr[te].objectNumber>=0&&sr[te].objectNumber<I&&ge("/"+te+" "+sr[te].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),ge(">>")}},$l=function(){if(Object.keys(qr).length>0){var I;for(I in ge("/ExtGState <<"),qr)qr.hasOwnProperty(I)&&qr[I].objectNumber>=0&&ge("/"+I+" "+qr[I].objectNumber+" 0 R");Dt.publish("putGStateDict"),ge(">>")}},Qr=function(I){Xr(I.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pc(),Dc(),ei(I.objectOid),$l(),Zo(),ge(">>"),ge("endobj")},On=function(){var I=[];zs(),fu(),Ii(),Qo(I),Dt.publish("putResources"),I.forEach(Qr),Qr({resourcesOid:es,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources")},Vs=function(){Dt.publish("putAdditionalObjects");for(var I=0;I<ve.length;I++){var te=ve[I];Xr(te.objId,!0),ge(te.content),ge("endobj")}Dt.publish("postPutAdditionalObjects")},ti=function(I){Cr[I.fontName]=Cr[I.fontName]||{},Cr[I.fontName][I.fontStyle]=I.id},ql=function(I,te,pe,xe,De){var Re={id:"F"+(Object.keys(nr).length+1).toString(10),postScriptName:I,fontName:te,fontStyle:pe,encoding:xe,isStandardFont:De||!1,metadata:{}};return Dt.publish("addFont",{font:Re,instance:this}),nr[Re.id]=Re,ti(Re),Re.id},mu=function(I){for(var te=0,pe=Je.length;te<pe;te++){var xe=ql.call(this,I[te][0],I[te][1],I[te][2],Je[te][3],!0);h===!1&&(g[xe]=!0);var De=I[te][0].split("-");ti({id:xe,fontName:De[0],fontStyle:De[1]||""})}Dt.publish("addFonts",{fonts:nr,dictionary:Cr})},ja=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(xe){var te=xe.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var pe="Error in function "+te.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Ut.console)throw new Error(pe);Ut.console.error(pe,xe),Ut.alert&&alert(pe)}},I.foo.bar=I,I.foo},ri=function(I,te){var pe,xe,De,Re,Ye,ft,jt,At,Ot;if(De=(te=te||{}).sourceEncoding||"Unicode",Ye=te.outputEncoding,(te.autoencode||Ye)&&nr[Kt].metadata&&nr[Kt].metadata[De]&&nr[Kt].metadata[De].encoding&&(Re=nr[Kt].metadata[De].encoding,!Ye&&nr[Kt].encoding&&(Ye=nr[Kt].encoding),!Ye&&Re.codePages&&(Ye=Re.codePages[0]),typeof Ye=="string"&&(Ye=Re[Ye]),Ye)){for(jt=!1,ft=[],pe=0,xe=I.length;pe<xe;pe++)(At=Ye[I.charCodeAt(pe)])?ft.push(String.fromCharCode(At)):ft.push(I[pe]),ft[pe].charCodeAt(0)>>8&&(jt=!0);I=ft.join("")}for(pe=I.length;jt===void 0&&pe!==0;)I.charCodeAt(pe-1)>>8&&(jt=!0),pe--;if(!jt)return I;for(ft=te.noBOM?[]:[254,255],pe=0,xe=I.length;pe<xe;pe++){if((Ot=(At=I.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ft.push(Ot),ft.push(At-(Ot<<8))}return String.fromCharCode.apply(void 0,ft)},Mn=p.__private__.pdfEscape=p.pdfEscape=function(I,te){return ri(I,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Li=p.__private__.beginPage=function(I){Le[++tr]=[],wt[tr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},da(tr),Fe(Le[J])},Ic=function(I,te){var pe,xe,De;switch(r=te||r,typeof I=="string"&&(pe=v(I.toLowerCase()),Array.isArray(pe)&&(xe=pe[0],De=pe[1])),Array.isArray(I)&&(xe=I[0]*ut,De=I[1]*ut),isNaN(xe)&&(xe=a[0],De=a[1]),(xe>14400||De>14400)&&($r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),De=Math.min(14400,De)),a=[xe,De],r.substr(0,1)){case"l":De>xe&&(a=[De,xe]);break;case"p":xe>De&&(a=[De,xe])}Li(a),Fc(Mi),ge(ss),Z!==0&&ge(Z+" J"),ae!==0&&ge(ae+" j"),Dt.publish("addPage",{pageNumber:tr})},gu=function(I){I>0&&I<=tr&&(Le.splice(I,1),wt.splice(I,1),tr--,J>tr&&(J=tr),this.setPage(J))},da=function(I){I>0&&I<=tr&&(J=I)},Lc=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},wo=function(I,te,pe){var xe,De=void 0;return pe=pe||{},I=I!==void 0?I:nr[Kt].fontName,te=te!==void 0?te:nr[Kt].fontStyle,xe=I.toLowerCase(),Cr[xe]!==void 0&&Cr[xe][te]!==void 0?De=Cr[xe][te]:Cr[I]!==void 0&&Cr[I][te]!==void 0?De=Cr[I][te]:pe.disableWarning===!1&&$r.warn("Unable to look up font label for font '"+I+"', '"+te+"'. Refer to getFontList() for available fonts."),De||pe.noFallback||(De=Cr.times[te])==null&&(De=Cr.times.normal),De},yu=p.__private__.putInfo=function(){var I=Nr(),te=function(xe){return xe};for(var pe in u!==null&&(te=Fn.encryptor(I,0)),ge("<<"),ge("/Producer ("+Mn(te("jsPDF "+$t.version))+")"),St)St.hasOwnProperty(pe)&&St[pe]&&ge("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+Mn(te(St[pe]))+")");ge("/CreationDate ("+Mn(te(z))+")"),ge(">>"),ge("endobj")},Ul=p.__private__.putCatalog=function(I){var te=(I=I||{}).rootDictionaryObjId||ca;switch(Nr(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+te+" 0 R"),oe||(oe="fullwidth"),oe){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+oe;pe.substr(pe.length-1)==="%"&&(oe=parseInt(oe)/100),typeof oe=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+P(oe)+"]")}switch(st||(st="continuous"),st){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}tt&&ge("/PageMode /"+tt),Dt.publish("putCatalog"),ge(">>"),ge("endobj")},Hs=p.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(ue+1)),ge("/Root "+ue+" 0 R"),ge("/Info "+(ue-1)+" 0 R"),u!==null&&ge("/Encrypt "+Fn.oid+" 0 R"),ge("/ID [ <"+V+"> <"+V+"> ]"),ge(">>")},Ws=p.__private__.putHeader=function(){ge("%PDF-"+w),ge("%")},zl=p.__private__.putXRef=function(){var I="0000000000";ge("xref"),ge("0 "+(ue+1)),ge("0000000000 65535 f ");for(var te=1;te<=ue;te++)typeof de[te]=="function"?ge((I+de[te]()).slice(-10)+" 00000 n "):de[te]!==void 0?ge((I+de[te]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},Gs=p.__private__.buildDocument=function(){ct(),Fe(be),Dt.publish("buildDocument"),Ws(),Us(),Vs(),On(),u!==null&&pu(),yu(),Ul();var I=me;return zl(),Hs(),ge("startxref"),ge(""+I),ge("%%EOF"),Fe(Le[J]),be.join(`
`)},Cs=p.__private__.getBlob=function(I){return new Blob([rt(I)],{type:"application/pdf"})},ni=p.output=p.__private__.output=ja(function(I,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",I){case void 0:return Gs();case"save":p.save(te.filename);break;case"arraybuffer":return rt(Gs());case"blob":return Cs(Gs());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(Cs(Gs()))||void 0;$r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",xe=Gs();try{pe=Sb(xe)}catch{pe=Sb(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+te.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(De=te.pdfObjectUrl,Re="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",ft=Ut.open();return ft!==null&&ft.document.write(Ye),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',At=Ut.open();if(At!==null){At.document.write(jt);var Ot=this;At.document.documentElement.querySelector("#pdfViewer").onload=function(){At.document.title=te.filename,At.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ot.output("bloburl"))}}return At}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',gr=Ut.open();if(gr!==null&&(gr.document.write(Wt),gr.document.title=te.filename),gr||typeof safari>"u")return gr;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",te);default:return null}}),Ri=function(I){return Array.isArray(lr)===!0&&lr.indexOf(I)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Ri("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var Fn=null;X(),W();var Rc=function(I){return u!==null?Fn.encryptor(I,0):function(te){return te}},Tc=p.__private__.getPageInfo=p.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[I].objId,pageNumber:I,pageContext:wt[I]}},zt=p.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in wt)if(wt[te].objId===I)break;return Tc(te)},xu=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:wt[J].objId,pageNumber:J,pageContext:wt[J]}};p.addPage=function(){return Ic.apply(this,arguments),this},p.setPage=function(){return da.apply(this,arguments),Fe.call(this,Le[J]),this},p.insertPage=function(I){return this.addPage(),this.movePage(J,I),this},p.movePage=function(I,te){var pe,xe;if(I>te){pe=Le[I],xe=wt[I];for(var De=I;De>te;De--)Le[De]=Le[De-1],wt[De]=wt[De-1];Le[te]=pe,wt[te]=xe,this.setPage(te)}else if(I<te){pe=Le[I],xe=wt[I];for(var Re=I;Re<te;Re++)Le[Re]=Le[Re+1],wt[Re]=wt[Re+1];Le[te]=pe,wt[te]=xe,this.setPage(te)}return this},p.deletePage=function(){return gu.apply(this,arguments),this},p.__private__.text=p.text=function(I,te,pe,xe,De){var Re,Ye,ft,jt,At,Ot,Wt,gr,xr,hr=(xe=xe||{}).scope||this;if(typeof I=="number"&&typeof te=="number"&&(typeof pe=="string"||Array.isArray(pe))){var _n=pe;pe=te,te=I,I=_n}if(arguments[3]instanceof mt?(R("The transform parameter of text() with a Matrix value"),xr=De):(ft=arguments[4],jt=arguments[5],Pr(Wt=arguments[3])==="object"&&Wt!==null||(typeof ft=="string"&&(jt=ft,ft=null),typeof Wt=="string"&&(jt=Wt,Wt=null),typeof Wt=="number"&&(ft=Wt,Wt=null),xe={flags:Wt,angle:ft,align:jt})),isNaN(te)||isNaN(pe)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return hr;var Or="",gn=!1,Na=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:ko,_s=hr.internal.scaleFactor;function qc(Ur){return Ur=Ur.split("	").join(Array(xe.TabLen||9).join(" ")),Mn(Ur,Wt)}function dr(Ur){for(var zr,xn=Ur.concat(),$n=[],ai=xn.length;ai--;)typeof(zr=xn.shift())=="string"?$n.push(zr):Array.isArray(Ur)&&(zr.length===1||zr[1]===void 0&&zr[2]===void 0)?$n.push(zr[0]):$n.push([zr[0],zr[1],zr[2]]);return $n}function Co(Ur,zr){var xn;if(typeof Ur=="string")xn=zr(Ur)[0];else if(Array.isArray(Ur)){for(var $n,ai,Nu=Ur.concat(),Uc=[],bf=Nu.length;bf--;)typeof($n=Nu.shift())=="string"?Uc.push(zr($n)[0]):Array.isArray($n)&&typeof $n[0]=="string"&&(ai=zr($n[0],$n[1],$n[2]),Uc.push([ai[0],ai[1],ai[2]]));xn=Uc}return xn}var Vn=!1,Es=!0;if(typeof I=="string")Vn=!0;else if(Array.isArray(I)){var Wl=I.concat();Ye=[];for(var Fi,En=Wl.length;En--;)(typeof(Fi=Wl.shift())!="string"||Array.isArray(Fi)&&typeof Fi[0]!="string")&&(Es=!1);Vn=Es}if(Vn===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Ma=et/hr.internal.scaleFactor,_o=Ma*(Na-1);switch(xe.baseline){case"bottom":pe-=_o;break;case"top":pe+=Ma-_o;break;case"hanging":pe+=Ma-2*_o;break;case"middle":pe+=Ma/2-_o}if((Ot=xe.maxWidth||0)>0&&(typeof I=="string"?I=hr.splitTextToSize(I,Ot):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Ur,zr){return Ur.concat(hr.splitTextToSize(zr,Ot))},[]))),Re={text:I,x:te,y:pe,options:xe,mutex:{pdfEscape:Mn,activeFontKey:Kt,fonts:nr,activeFontSize:et}},Dt.publish("preProcessText",Re),I=Re.text,ft=(xe=Re.options).angle,!(xr instanceof mt)&&ft&&typeof ft=="number"){ft*=Math.PI/180,xe.rotationDirection===0&&(ft=-ft),L===j.ADVANCED&&(ft=-ft);var Sa=Math.cos(ft),Bi=Math.sin(ft);xr=new mt(Sa,Bi,-Bi,Sa,0,0)}else ft&&ft instanceof mt&&(xr=ft);L!==j.ADVANCED||xr||(xr=Lr),(At=xe.charSpace||H)!==void 0&&(Or+=y(k(At))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gr=xe.horizontalScale)!==void 0&&(Or+=y(100*gr)+` Tz
`),xe.lang;var An=-1,$i=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Eo=hr.internal.getCurrentPageInfo().pageContext;switch($i){case 0:case!1:case"fill":An=0;break;case 1:case!0:case"stroke":An=1;break;case 2:case"fillThenStroke":An=2;break;case 3:case"invisible":An=3;break;case 4:case"fillAndAddForClipping":An=4;break;case 5:case"strokeAndAddPathForClipping":An=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":An=6;break;case 7:case"addToPathForClipping":An=7}var qi=Eo.usedRenderingMode!==void 0?Eo.usedRenderingMode:-1;An!==-1?Or+=An+` Tr
`:qi!==-1&&(Or+=`0 Tr
`),An!==-1&&(Eo.usedRenderingMode=An),jt=xe.align||"left";var Fa,Ys=et*Na,Ui=hr.internal.pageSize.getWidth(),zi=nr[Kt];At=xe.charSpace||H,Ot=xe.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Ao=[],Xs=function(Ur){return hr.getStringUnitWidth(Ur,{font:zi,charSpace:At,fontSize:et,doKerning:!1})*et/_s};if(Object.prototype.toString.call(I)==="[object Array]"){var na;Ye=dr(I),jt!=="left"&&(Fa=Ye.map(Xs));var he,je=0;if(jt==="right"){te-=Fa[0],I=[],En=Ye.length;for(var Ie=0;Ie<En;Ie++)Ie===0?(he=ns(te),na=as(pe)):(he=k(je-Fa[Ie]),na=-Ys),I.push([Ye[Ie],he,na]),je=Fa[Ie]}else if(jt==="center"){te-=Fa[0]/2,I=[],En=Ye.length;for(var qe=0;qe<En;qe++)qe===0?(he=ns(te),na=as(pe)):(he=k((je-Fa[qe])/2),na=-Ys),I.push([Ye[qe],he,na]),je=Fa[qe]}else if(jt==="left"){I=[],En=Ye.length;for(var Ge=0;Ge<En;Ge++)I.push(Ye[Ge])}else if(jt==="justify"&&zi.encoding==="Identity-H"){I=[],En=Ye.length,Ot=Ot!==0?Ot:Ui;for(var ot=0,it=0;it<En;it++)if(na=it===0?as(pe):-Ys,he=it===0?ns(te):ot,it<En-1){var xt=k((Ot-Fa[it])/(Ye[it].split(" ").length-1)),dt=Ye[it].split(" ");I.push([dt[0]+" ",he,na]),ot=0;for(var Mt=1;Mt<dt.length;Mt++){var Ct=(Xs(dt[Mt-1]+" "+dt[Mt])-Xs(dt[Mt]))*_s+xt;Mt==dt.length-1?I.push([dt[Mt],Ct,0]):I.push([dt[Mt]+" ",Ct,0]),ot-=Ct}}else I.push([Ye[it],he,na]);I.push(["",ot,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],En=Ye.length,Ot=Ot!==0?Ot:Ui,it=0;it<En;it++)na=it===0?as(pe):-Ys,he=it===0?ns(te):0,it<En-1?Ao.push(y(k((Ot-Fa[it])/(Ye[it].split(" ").length-1)))):Ao.push(0),I.push([Ye[it],he,na])}}var Ft=typeof xe.R2L=="boolean"?xe.R2L:Pe;Ft===!0&&(I=Co(I,function(Ur,zr,xn){return[Ur.split("").reverse().join(""),zr,xn]})),Re={text:I,x:te,y:pe,options:xe,mutex:{pdfEscape:Mn,activeFontKey:Kt,fonts:nr,activeFontSize:et}},Dt.publish("postProcessText",Re),I=Re.text,gn=Re.mutex.isHex||!1;var Yt=nr[Kt].encoding;Yt!=="WinAnsiEncoding"&&Yt!=="StandardEncoding"||(I=Co(I,function(Ur,zr,xn){return[qc(Ur),zr,xn]})),Ye=dr(I),I=[];for(var kt,ur,an,Zr=0,Bn=1,Hn=Array.isArray(Ye[0])?Bn:Zr,Ca="",yn=function(Ur,zr,xn){var $n="";return xn instanceof mt?(xn=typeof xe.angle=="number"?Fr(xn,new mt(1,0,0,1,Ur,zr)):Fr(new mt(1,0,0,1,Ur,zr),xn),L===j.ADVANCED&&(xn=Fr(new mt(1,0,0,-1,0,0),xn)),$n=xn.join(" ")+` Tm
`):$n=y(Ur)+" "+y(zr)+` Td
`,$n},As=0;As<Ye.length;As++){switch(Ca="",Hn){case Bn:an=(gn?"<":"(")+Ye[As][0]+(gn?">":")"),kt=parseFloat(Ye[As][1]),ur=parseFloat(Ye[As][2]);break;case Zr:an=(gn?"<":"(")+Ye[As]+(gn?">":")"),kt=ns(te),ur=as(pe)}Ao!==void 0&&Ao[As]!==void 0&&(Ca=Ao[As]+` Tw
`),As===0?I.push(Ca+yn(kt,ur,xr)+an):Hn===Zr?I.push(Ca+an):Hn===Bn&&I.push(Ca+yn(kt,ur,xr)+an)}I=Hn===Zr?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Ps=`BT
/`;return Ps+=Kt+" "+et+` Tf
`,Ps+=y(et*Na)+` TL
`,Ps+=S+`
`,Ps+=Or,Ps+=I,ge(Ps+="ET"),g[Kt]=!0,hr};var bu=p.__private__.clip=p.clip=function(I){return ge(I==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return bu("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ge("n"),this};var Oa=p.__private__.isValidStyle=function(I){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(te=!0),te};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(I){return Oa(I)&&(d=I),this};var Oc=p.__private__.getStyle=p.getStyle=function(I){var te=d;switch(I){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=I}return te},Mc=p.close=function(){return ge("h"),this};p.stroke=function(){return ge("S"),this},p.fill=function(I){return Ti("f",I),this},p.fillEvenOdd=function(I){return Ti("f*",I),this},p.fillStroke=function(I){return Ti("B",I),this},p.fillStrokeEvenOdd=function(I){return Ti("B*",I),this};var Ti=function(I,te){Pr(te)==="object"?wu(te,I):ge(I)},Vl=function(I){I===null||L===j.ADVANCED&&I===void 0||(I=Oc(I),ge(I))};function vu(I,te,pe,xe,De){var Re=new md(te||this.boundingBox,pe||this.xStep,xe||this.yStep,this.gState,De||this.matrix);Re.stream=this.stream;var Ye=I+"$$"+this.cloneIndex+++"$$";return Rr(Ye,Re),Re}var wu=function(I,te){var pe=Ns[I.key],xe=sr[pe];if(xe instanceof tc)ge("q"),ge(ku(te)),xe.gState&&p.setGState(xe.gState),ge(I.matrix.toString()+" cm"),ge("/"+pe+" sh"),ge("Q");else if(xe instanceof md){var De=new mt(1,0,0,-1,0,qt());I.matrix&&(De=De.multiply(I.matrix||Lr),pe=vu.call(xe,I.key,I.boundingBox,I.xStep,I.yStep,De).id),ge("q"),ge("/Pattern cs"),ge("/"+pe+" scn"),xe.gState&&p.setGState(xe.gState),ge(te),ge("Q")}},ku=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Oi=p.moveTo=function(I,te){return ge(y(k(I))+" "+y(C(te))+" m"),this},Js=p.lineTo=function(I,te){return ge(y(k(I))+" "+y(C(te))+" l"),this},Ks=p.curveTo=function(I,te,pe,xe,De,Re){return ge([y(k(I)),y(C(te)),y(k(pe)),y(C(xe)),y(k(De)),y(C(Re)),"c"].join(" ")),this};p.__private__.line=p.line=function(I,te,pe,xe,De){if(isNaN(I)||isNaN(te)||isNaN(pe)||isNaN(xe)||!Oa(De))throw new Error("Invalid arguments passed to jsPDF.line");return L===j.COMPAT?this.lines([[pe-I,xe-te]],I,te,[1,1],De||"S"):this.lines([[pe-I,xe-te]],I,te,[1,1]).stroke()},p.__private__.lines=p.lines=function(I,te,pe,xe,De,Re){var Ye,ft,jt,At,Ot,Wt,gr,xr,hr,_n,Or,gn;if(typeof I=="number"&&(gn=pe,pe=te,te=I,I=gn),xe=xe||[1,1],Re=Re||!1,isNaN(te)||isNaN(pe)||!Array.isArray(I)||!Array.isArray(xe)||!Oa(De)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oi(te,pe),Ye=xe[0],ft=xe[1],At=I.length,_n=te,Or=pe,jt=0;jt<At;jt++)(Ot=I[jt]).length===2?(_n=Ot[0]*Ye+_n,Or=Ot[1]*ft+Or,Js(_n,Or)):(Wt=Ot[0]*Ye+_n,gr=Ot[1]*ft+Or,xr=Ot[2]*Ye+_n,hr=Ot[3]*ft+Or,_n=Ot[4]*Ye+_n,Or=Ot[5]*ft+Or,Ks(Wt,gr,xr,hr,_n,Or));return Re&&Mc(),Vl(De),this},p.path=function(I){for(var te=0;te<I.length;te++){var pe=I[te],xe=pe.c;switch(pe.op){case"m":Oi(xe[0],xe[1]);break;case"l":Js(xe[0],xe[1]);break;case"c":Ks.apply(this,xe);break;case"h":Mc()}}return this},p.__private__.rect=p.rect=function(I,te,pe,xe,De){if(isNaN(I)||isNaN(te)||isNaN(pe)||isNaN(xe)||!Oa(De))throw new Error("Invalid arguments passed to jsPDF.rect");return L===j.COMPAT&&(xe=-xe),ge([y(k(I)),y(C(te)),y(k(pe)),y(k(xe)),"re"].join(" ")),Vl(De),this},p.__private__.triangle=p.triangle=function(I,te,pe,xe,De,Re,Ye){if(isNaN(I)||isNaN(te)||isNaN(pe)||isNaN(xe)||isNaN(De)||isNaN(Re)||!Oa(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-I,xe-te],[De-pe,Re-xe],[I-De,te-Re]],I,te,[1,1],Ye,!0),this},p.__private__.roundedRect=p.roundedRect=function(I,te,pe,xe,De,Re,Ye){if(isNaN(I)||isNaN(te)||isNaN(pe)||isNaN(xe)||isNaN(De)||isNaN(Re)||!Oa(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*pe),Re=Math.min(Re,.5*xe),this.lines([[pe-2*De,0],[De*ft,0,De,Re-Re*ft,De,Re],[0,xe-2*Re],[0,Re*ft,-De*ft,Re,-De,Re],[2*De-pe,0],[-De*ft,0,-De,-Re*ft,-De,-Re],[0,2*Re-xe],[0,-Re*ft,De*ft,-Re,De,-Re]],I+De,te,[1,1],Ye,!0),this},p.__private__.ellipse=p.ellipse=function(I,te,pe,xe,De){if(isNaN(I)||isNaN(te)||isNaN(pe)||isNaN(xe)||!Oa(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*pe,Ye=4/3*(Math.SQRT2-1)*xe;return Oi(I+pe,te),Ks(I+pe,te-Ye,I+Re,te-xe,I,te-xe),Ks(I-Re,te-xe,I-pe,te-Ye,I-pe,te),Ks(I-pe,te+Ye,I-Re,te+xe,I,te+xe),Ks(I+Re,te+xe,I+pe,te+Ye,I+pe,te),Vl(De),this},p.__private__.circle=p.circle=function(I,te,pe,xe){if(isNaN(I)||isNaN(te)||isNaN(pe)||!Oa(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,te,pe,pe,xe)},p.setFont=function(I,te,pe){return pe&&(te=q(te,pe)),Kt=wo(I,te,{disableWarning:!1}),this};var Hl=p.__private__.getFont=p.getFont=function(){return nr[wo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var I,te,pe={};for(I in Cr)if(Cr.hasOwnProperty(I))for(te in pe[I]=[],Cr[I])Cr[I].hasOwnProperty(te)&&pe[I].push(te);return pe},p.addFont=function(I,te,pe,xe,De){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(pe=q(pe,xe)),De=De||"Identity-H",ql.call(this,I,te,pe,De)};var ko,Mi=t.lineWidth||.200025,jo=p.__private__.getLineWidth=p.getLineWidth=function(){return Mi},Fc=p.__private__.setLineWidth=p.setLineWidth=function(I){return Mi=I,ge(y(k(I))+" w"),this};p.__private__.setLineDash=$t.API.setLineDash=$t.API.setLineDashPattern=function(I,te){if(I=I||[],te=te||0,isNaN(te)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(pe){return y(k(pe))}).join(" "),te=y(k(te)),ge("["+I+"] "+te+" d"),this};var Bc=p.__private__.getLineHeight=p.getLineHeight=function(){return et*ko};p.__private__.getLineHeight=p.getLineHeight=function(){return et*ko};var $c=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(ko=I),this},No=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ko};$c(t.lineHeight);var ns=p.__private__.getHorizontalCoordinate=function(I){return k(I)},as=p.__private__.getVerticalCoordinate=function(I){return L===j.ADVANCED?I:wt[J].mediaBox.topRightY-wt[J].mediaBox.bottomLeftY-k(I)},ju=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(I){return y(ns(I))},So=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(I){return y(as(I))},ss=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ts(ss)},p.__private__.setStrokeColor=p.setDrawColor=function(I,te,pe,xe){return ss=Ta({ch1:I,ch2:te,ch3:pe,ch4:xe,pdfColorType:"draw",precision:2}),ge(ss),this};var m=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ts(m)},p.__private__.setFillColor=p.setFillColor=function(I,te,pe,xe){return m=Ta({ch1:I,ch2:te,ch3:pe,ch4:xe,pdfColorType:"fill",precision:2}),ge(m),this};var S=t.textColor||"0 g",F=p.__private__.getTextColor=p.getTextColor=function(){return ts(S)};p.__private__.setTextColor=p.setTextColor=function(I,te,pe,xe){return S=Ta({ch1:I,ch2:te,ch3:pe,ch4:xe,pdfColorType:"text",precision:3}),this};var H=t.charSpace,Q=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(H||0)};p.__private__.setCharSpace=p.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return H=I,this};var Z=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(I){var te=p.CapJoinStyles[I];if(te===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Z=te,ge(te+" J"),this};var ae=0;p.__private__.setLineJoin=p.setLineJoin=function(I){var te=p.CapJoinStyles[I];if(te===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ae=te,ge(te+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(y(k(I))+" M"),this},p.GState=J0,p.setGState=function(I){(I=typeof I=="string"?qr[Sn[I]]:we(null,I)).equals(mr)||(ge("/"+I.id+" gs"),mr=I)};var we=function(I,te){if(!I||!Sn[I]){var pe=!1;for(var xe in qr)if(qr.hasOwnProperty(xe)&&qr[xe].equals(te)){pe=!0;break}if(pe)te=qr[xe];else{var De="GS"+(Object.keys(qr).length+1).toString(10);qr[De]=te,te.id=De}return I&&(Sn[I]=te.id),Dt.publish("addGState",te),te}};p.addGState=function(I,te){return we(I,te),this},p.saveGraphicsState=function(){return ge("q"),ra.push({key:Kt,size:et,color:S}),this},p.restoreGraphicsState=function(){ge("Q");var I=ra.pop();return Kt=I.key,et=I.size,S=I.color,mr=null,this},p.setCurrentTransformationMatrix=function(I){return ge(I.toString()+" cm"),this},p.comment=function(I){return ge("#"+I),this};var ye=function(I,te){var pe=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Re){isNaN(Re)||(pe=parseFloat(Re))}});var xe=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Re){isNaN(Re)||(xe=parseFloat(Re))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Re){De=Re.toString()}}),this},Ce=function(I,te,pe,xe){ye.call(this,I,te),this.type="rect";var De=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(Ye){isNaN(Ye)||(De=parseFloat(Ye))}});var Re=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(Ye){isNaN(Ye)||(Re=parseFloat(Ye))}}),this},Ue=function(){this.page=tr,this.currentPage=J,this.pages=Le.slice(0),this.pagesContext=wt.slice(0),this.x=Gr,this.y=Gt,this.matrix=mn,this.width=Et(J),this.height=qt(J),this.outputDestination=We,this.id="",this.objectNumber=-1};Ue.prototype.restore=function(){tr=this.page,J=this.currentPage,wt=this.pagesContext,Le=this.pages,Gr=this.x,Gt=this.y,mn=this.matrix,er(J,this.width),nn(J,this.height),We=this.outputDestination};var Ke=function(I,te,pe,xe,De){Cn.push(new Ue),tr=J=0,Le=[],Gr=I,Gt=te,mn=De,Li([pe,xe])},Be=function(I){if(rn[I])Cn.pop().restore();else{var te=new Ue,pe="Xo"+(Object.keys(cr).length+1).toString(10);te.id=pe,rn[I]=pe,cr[pe]=te,Dt.publish("addFormObject",te),Cn.pop().restore()}};for(var at in p.beginFormObject=function(I,te,pe,xe,De){return Ke(I,te,pe,xe,De),this},p.endFormObject=function(I){return Be(I),this},p.doFormObject=function(I,te){var pe=cr[rn[I]];return ge("q"),ge(te.toString()+" cm"),ge("/"+pe.id+" Do"),ge("Q"),this},p.getFormObject=function(I){var te=cr[rn[I]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},p.save=function(I,te){return I=I||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Zl(Cs(Gs()),I),typeof Zl.unload=="function"&&Ut.setTimeout&&setTimeout(Zl.unload,911),this):new Promise(function(pe,xe){try{var De=Zl(Cs(Gs()),I);typeof Zl.unload=="function"&&Ut.setTimeout&&setTimeout(Zl.unload,911),pe(De)}catch(Re){xe(Re.message)}})},$t.API)$t.API.hasOwnProperty(at)&&(at==="events"&&$t.API.events.length?function(I,te){var pe,xe,De;for(De=te.length-1;De!==-1;De--)pe=te[De][0],xe=te[De][1],I.subscribe.apply(I,[pe].concat(typeof xe=="function"?[xe]:xe))}(Dt,$t.API.events):p[at]=$t.API[at]);var Et=p.getPageWidth=function(I){return(wt[I=I||J].mediaBox.topRightX-wt[I].mediaBox.bottomLeftX)/ut},er=p.setPageWidth=function(I,te){wt[I].mediaBox.topRightX=te*ut+wt[I].mediaBox.bottomLeftX},qt=p.getPageHeight=function(I){return(wt[I=I||J].mediaBox.topRightY-wt[I].mediaBox.bottomLeftY)/ut},nn=p.setPageHeight=function(I,te){wt[I].mediaBox.topRightY=te*ut+wt[I].mediaBox.bottomLeftY};return p.internal={pdfEscape:Mn,getStyle:Oc,getFont:Hl,getFontSize:ke,getCharSpace:Q,getTextColor:F,getLineHeight:Bc,getLineHeightFactor:No,getLineWidth:jo,write:yt,getHorizontalCoordinate:ns,getVerticalCoordinate:as,getCoordinateString:ju,getVerticalCoordinateString:So,collections:{},newObject:Nr,newAdditionalObject:Ra,newObjectDeferred:Tr,newObjectDeferredBegin:Xr,getFilters:Ss,putStream:Tn,events:Dt,scaleFactor:ut,pageSize:{getWidth:function(){return Et(J)},setWidth:function(I){er(J,I)},getHeight:function(){return qt(J)},setHeight:function(I){nn(J,I)}},encryptionOptions:u,encryption:Fn,getEncryptor:Rc,output:ni,getNumberOfPages:Lc,pages:Le,out:ge,f2:P,f3:x,getPageInfo:Tc,getPageInfoByObjId:zt,getCurrentPageInfo:xu,getPDFVersion:b,Point:ye,Rectangle:Ce,Matrix:mt,hasHotfix:Ri},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Et(J)},set:function(I){er(J,I)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return qt(J)},set:function(I){nn(J,I)},enumerable:!0,configurable:!0}),mu.call(p,Je),Kt="F1",Ic(a,r),Dt.publish("initialized"),p}td.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},td.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},td.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},td.prototype.processOwnerPassword=function(t,e){return _b(Cb(e).substr(0,5),t)},td.prototype.encryptor=function(t,e){var r=Cb(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return _b(r,n)}},J0.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Pr(t)!==Pr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},$t.API={events:[]},$t.version="3.0.1";var hn=$t.API,qw=1,_c=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(t){return t.toFixed(2)},el=function(t){return t.toFixed(5)};hn.__acroform__={};var Za=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},jk=function(t){return t*qw},Ro=function(t){var e=new v6,r=vt.internal.getHeight(t)||0,n=vt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Jt(n)),Number(Jt(r))],e},xH=hn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},bH=hn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},vH=hn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},wn=hn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return vH(t,e-1)},kn=hn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xH(t,e-1)},jn=hn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bH(t,e-1)},wH=hn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],o=t[1],i=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(o+l)||0,c.upperRight_X=r(a+i)||0,c.upperRight_Y=n(o)||0,[Number(Jt(c.lowerLeft_X)),Number(Jt(c.lowerLeft_Y)),Number(Jt(c.upperRight_X)),Number(Jt(c.upperRight_Y))]},kH=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Eb(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Jt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ro(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},Eb=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(x){return x.split(`
`)}):a.map(function(x){return[x]});var o=r,i=vt.internal.getHeight(t)||0;i=i<0?-i:i;var l=vt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(x,k,E){if(x+1<a.length){var C=k+" "+a[x+1][0];return xp(C,t,E).width<=l-4}return!1};o++;e:for(;o>0;){e="",o--;var d,u,h=xp("3",t,o).height,g=t.multiline?i-o:(i-h)/2,p=g+=2,w=0,b=0,_=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+xp(e,t,o=12).width+", FieldWidth:"+l+`
`;break}for(var v="",j=0,L=0;L<a.length;L++)if(a.hasOwnProperty(L)){var U=!1;if(a[L].length!==1&&_!==a[L].length-1){if((h+2)*(j+2)+2>i)continue e;v+=a[L][_],U=!0,b=L,L--}else{v=(v+=a[L][_]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var M=parseInt(L),q=c(M,v,o),y=L>=a.length-1;if(q&&!y){v+=" ",_=0;continue}if(q||y){if(y)b=M;else if(t.multiline&&(h+2)*(j+2)+2>i)continue e}else{if(!t.multiline||(h+2)*(j+2)+2>i)continue e;b=M}}for(var R="",A=w;A<=b;A++){var P=a[A];if(t.multiline){if(A===b){R+=P[_]+" ",_=(_+1)%P.length;continue}if(A===w){R+=P[P.length-1]+" ";continue}}R+=P[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,u=xp(R,t,o).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}e+=Jt(d)+" "+Jt(p)+` Td
`,e+="("+_c(R)+`) Tj
`,e+=-Jt(d)+` 0 Td
`,p=-(o+2),u=0,w=U?b:b+1,j++,v=""}break}return n.text=e,n.fontSize=o,n},xp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},jH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NH=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},SH=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Pr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},CH=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(yo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(jH)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");qw=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new w6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&NH(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var o=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],d=l.Rect;if(l.Rect&&(l.Rect=wH(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=vt.createDefaultAppearanceStream(l),Pr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=kH(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var w=p[i];typeof w=="function"&&(w=w.call(a,l)),h+="/"+i+" "+w+" ",a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(a,l)),h+="/"+i+" "+w,a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}o&&SH(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},b6=hn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(i){return i};if(Array.isArray(t)){for(var a="[",o=0;o<t.length;o++)switch(o!==0&&(a+=" "),Pr(t[o])){case"boolean":case"number":case"object":a+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+_c(n(t[o].toString()))+")"):a+=t[o].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Oy=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+_c(n(t))+")"},$o=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$o.prototype.toString=function(){return this.objId+" 0 R"},$o.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},$o.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:b6(a,this.objId,this.scope)}):a instanceof $o?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var v6=function(){$o.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Za(v6,$o);var w6=function(){$o.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_c(r(t))+")"}},set:function(r){t=r}})};Za(w6,$o);var yo=function t(){$o.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wn(e,3)},set:function(v){v?this.F=kn(e,3):this.F=jn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof K0)return;o="FieldObject"+t.FieldNum++}var v=function(j){return j};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+_c(v(o))+")"},set:function(v){o=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(v){o=v}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(v){i=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/qw:d},set:function(v){d=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof K0||this instanceof uc))return Oy(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Qn?g:Oy(g,this.objId,this.scope)},set:function(v){v=v.toString(),g=this instanceof Qn?v:v.substr(0,1)==="("?Qc(v.substr(1,v.length-2)):Qc(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn?Qc(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof Qn?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Qn?p:Oy(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof Qn?v:v.substr(0,1)==="("?Qc(v.substr(1,v.length-2)):Qc(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qn?Qc(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Qn?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(v){v=!!v,b=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(v){w=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,1)},set:function(v){v?this.Ff=kn(this.Ff,1):this.Ff=jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,2)},set:function(v){v?this.Ff=kn(this.Ff,2):this.Ff=jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,3)},set:function(v){v?this.Ff=kn(this.Ff,3):this.Ff=jn(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');_=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(_){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};Za(yo,$o);var Ed=function(){yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return b6(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(o,i,l){l||(l=1);for(var c,d=[];c=i.exec(o);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,18)},set:function(r){r?this.Ff=kn(this.Ff,18):this.Ff=jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=kn(this.Ff,19):this.Ff=jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,20)},set:function(r){r?(this.Ff=kn(this.Ff,20),e.sort()):this.Ff=jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,22)},set:function(r){r?this.Ff=kn(this.Ff,22):this.Ff=jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(r){r?this.Ff=kn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,27)},set:function(r){r?this.Ff=kn(this.Ff,27):this.Ff=jn(this.Ff,27)}}),this.hasAppearanceStream=!1};Za(Ed,yo);var Ad=function(){Ed.call(this),this.fontName="helvetica",this.combo=!1};Za(Ad,Ed);var Pd=function(){Ad.call(this),this.combo=!0};Za(Pd,Ad);var Vp=function(){Pd.call(this),this.edit=!0};Za(Vp,Pd);var Qn=function(){yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,15)},set:function(r){r?this.Ff=kn(this.Ff,15):this.Ff=jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,16)},set:function(r){r?this.Ff=kn(this.Ff,16):this.Ff=jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,17)},set:function(r){r?this.Ff=kn(this.Ff,17):this.Ff=jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(r){r?this.Ff=kn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+_c(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Pr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Za(Qn,yo);var Hp=function(){Qn.call(this),this.pushButton=!0};Za(Hp,Qn);var Dd=function(){Qn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Za(Dd,Qn);var K0=function(){var t,e;yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,i=[];for(o in i.push("<<"),n)i.push("/"+o+" ("+_c(a(n[o]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Pr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Za(K0,yo),Dd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Dd.prototype.createOption=function(t){var e=new K0;return e.Parent=this,e.optionName=t,this.Kids.push(e),_H.call(this.scope,e),e};var Wp=function(){Qn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};Za(Wp,Qn);var uc=function(){yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,13)},set:function(e){e?this.Ff=kn(this.Ff,13):this.Ff=jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,21)},set:function(e){e?this.Ff=kn(this.Ff,21):this.Ff=jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(e){e?this.Ff=kn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,24)},set:function(e){e?this.Ff=kn(this.Ff,24):this.Ff=jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,25)},set:function(e){e?this.Ff=kn(this.Ff,25):this.Ff=jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(e){e?this.Ff=kn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Za(uc,yo);var Gp=function(){uc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,14)},set:function(t){t?this.Ff=kn(this.Ff,14):this.Ff=jn(this.Ff,14)}}),this.password=!0};Za(Gp,uc);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ro(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),o=Eb(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Jt(vt.internal.getWidth(t))+" "+Jt(vt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jt(o.fontSize)+" Tf "+a),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ro(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],o=vt.internal.getHeight(t),i=vt.internal.getWidth(t),l=Eb(t,t.caption);return a.push("1 g"),a.push("0 0 "+Jt(i)+" "+Jt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Jt(i-1)+" "+Jt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Jt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Ro(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(vt.internal.getWidth(t))+" "+Jt(vt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=vt.RadioButton.Circle.YesNormal,e.D[t]=vt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ro(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=vt.internal.Bezier_C,o=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+el(vt.internal.getWidth(t)/2)+" "+el(vt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ro(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*vt.internal.Bezier_C).toFixed(5)),i=Number((n*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+el(vt.internal.getWidth(t)/2)+" "+el(vt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+el(vt.internal.getWidth(t)/2)+" "+el(vt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ro(t);e.scope=t.scope;var r=[],n=vt.internal.getWidth(t)<=vt.internal.getHeight(t)?vt.internal.getWidth(t)/4:vt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+el(vt.internal.getWidth(t)/2)+" "+el(vt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=vt.RadioButton.Cross.YesNormal,e.D[t]=vt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ro(t);e.scope=t.scope;var r=[],n=vt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Jt(vt.internal.getWidth(t)-2)+" "+Jt(vt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ro(t);e.scope=t.scope;var r=vt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(vt.internal.getWidth(t))+" "+Jt(vt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jt(vt.internal.getWidth(t)-2)+" "+Jt(vt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ro(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(vt.internal.getWidth(t))+" "+Jt(vt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};vt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=vt.internal.getWidth(t),r=vt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},vt.internal.getWidth=function(t){var e=0;return Pr(t)==="object"&&(e=jk(t.Rect[2])),e},vt.internal.getHeight=function(t){var e=0;return Pr(t)==="object"&&(e=jk(t.Rect[3])),e};var _H=hn.addField=function(t){if(CH(this,t),!(t instanceof yo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};hn.AcroFormChoiceField=Ed,hn.AcroFormListBox=Ad,hn.AcroFormComboBox=Pd,hn.AcroFormEditBox=Vp,hn.AcroFormButton=Qn,hn.AcroFormPushButton=Hp,hn.AcroFormRadioButton=Dd,hn.AcroFormCheckBox=Wp,hn.AcroFormTextField=uc,hn.AcroFormPasswordField=Gp,hn.AcroFormAppearance=vt,hn.AcroForm={ChoiceField:Ed,ListBox:Ad,ComboBox:Pd,EditBox:Vp,Button:Qn,PushButton:Hp,RadioButton:Dd,CheckBox:Wp,TextField:uc,PasswordField:Gp,Appearance:vt},$t.AcroForm={ChoiceField:Ed,ListBox:Ad,ComboBox:Pd,EditBox:Vp,Button:Qn,PushButton:Hp,RadioButton:Dd,CheckBox:Wp,TextField:uc,PasswordField:Gp,Appearance:vt};$t.AcroForm;function k6(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(x,k){var E,C,z,V,K,W=e;if((k=k||e)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(q(x))for(K in r)for(z=r[K],E=0;E<z.length;E+=1){for(V=!0,C=0;C<z[E].length;C+=1)if(z[E][C]!==void 0&&z[E][C]!==x[C]){V=!1;break}if(V===!0){W=K;break}}else for(K in r)for(z=r[K],E=0;E<z.length;E+=1){for(V=!0,C=0;C<z[E].length;C+=1)if(z[E][C]!==void 0&&z[E][C]!==x.charCodeAt(C)){V=!1;break}if(V===!0){W=K;break}}return W===e&&k!==e&&(W=k),W},a=function x(k){for(var E=this.internal.write,C=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:k.width}),V.push({key:"Height",value:k.height}),k.colorSpace===_.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===_.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var K="",W=0,B=k.transparency.length;W<B;W++)K+=k.transparency[W]+" "+k.transparency[W]+" ";V.push({key:"Mask",value:"["+K+"]"})}k.sMask!==void 0&&V.push({key:"SMask",value:k.objectId+1+" 0 R"});var G=k.filter!==void 0?["/"+k.filter]:void 0;if(C({data:k.data,additionalKeyValues:V,alreadyAppliedFilters:G,objectId:k.objectId}),E("endobj"),"sMask"in k&&k.sMask!==void 0){var X="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,T={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:X,data:k.sMask};"filter"in k&&(T.filter=k.filter),x.call(this,T)}if(k.colorSpace===_.INDEXED){var J=this.internal.newObject();C({data:R(new Uint8Array(k.palette)),objectId:J}),E("endobj")}},o=function(){var x=this.internal.collections.addImage_images;for(var k in x)a.call(this,x[k])},i=function(){var x,k=this.internal.collections.addImage_images,E=this.internal.write;for(var C in k)E("/I"+(x=k[C]).index,x.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var x=this.internal.collections.addImage_images;return l.call(this),x},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(x){return typeof t["process"+x.toUpperCase()]=="function"},h=function(x){return Pr(x)==="object"&&x.nodeType===1},g=function(x,k){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var E=""+x.getAttribute("src");if(E.indexOf("data:image/")===0)return gh(unescape(E).split("base64,").pop());var C=t.loadFile(E,!0);if(C!==void 0)return C}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var z;switch(k){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return gh(x.toDataURL(z,1).split("base64,").pop())}},p=function(x){var k=this.internal.collections.addImage_images;if(k){for(var E in k)if(x===k[E].alias)return k[E]}},w=function(x,k,E){return x||k||(x=-96,k=-96),x<0&&(x=-1*E.width*72/x/this.internal.scaleFactor),k<0&&(k=-1*E.height*72/k/this.internal.scaleFactor),x===0&&(x=k*E.width/E.height),k===0&&(k=x*E.height/E.width),[x,k]},b=function(x,k,E,C,z,V){var K=w.call(this,E,C,z),W=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,G=c.call(this);if(E=K[0],C=K[1],G[z.index]=z,V){V*=Math.PI/180;var X=Math.cos(V),T=Math.sin(V),J=function(le){return le.toFixed(4)},ee=[J(X),J(T),J(-1*T),J(X),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,W(x),B(k+C),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([W(E),"0","0",W(C),"0","0","cm"].join(" "))):this.internal.write([W(E),"0","0",W(C),W(x),B(k+C),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=t.__addimage__.sHashCode=function(x){var k,E,C=0;if(typeof x=="string")for(E=x.length,k=0;k<E;k++)C=(C<<5)-C+x.charCodeAt(k),C|=0;else if(q(x))for(E=x.byteLength/2,k=0;k<E;k++)C=(C<<5)-C+x[k],C|=0;return C},L=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var k=!0;return x.length===0&&(k=!1),x.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(k=!1),k},U=t.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var k=x.indexOf(",");return k<0?null:x.substring(0,k).trim().endsWith("base64")?x.substring(k+1):null},M=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(x){return M()&&x instanceof ArrayBuffer};var q=t.__addimage__.isArrayBufferView=function(x){return M()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},y=t.__addimage__.binaryStringToUint8Array=function(x){for(var k=x.length,E=new Uint8Array(k),C=0;C<k;C++)E[C]=x.charCodeAt(C);return E},R=t.__addimage__.arrayBufferToBinaryString=function(x){for(var k="",E=q(x)?x:new Uint8Array(x),C=0;C<E.length;C+=8192)k+=String.fromCharCode.apply(null,E.subarray(C,C+8192));return k};t.addImage=function(){var x,k,E,C,z,V,K,W,B;if(typeof arguments[1]=="number"?(k=e,E=arguments[1],C=arguments[2],z=arguments[3],V=arguments[4],K=arguments[5],W=arguments[6],B=arguments[7]):(k=arguments[1],E=arguments[2],C=arguments[3],z=arguments[4],V=arguments[5],K=arguments[6],W=arguments[7],B=arguments[8]),Pr(x=arguments[0])==="object"&&!h(x)&&"imageData"in x){var G=x;x=G.imageData,k=G.format||k||e,E=G.x||E||0,C=G.y||C||0,z=G.w||G.width||z,V=G.h||G.height||V,K=G.alias||K,W=G.compression||W,B=G.rotation||G.angle||B}var X=this.internal.getFilters();if(W===void 0&&X.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(E)||isNaN(C))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=A.call(this,x,k,K,W);return b.call(this,E,C,z,V,T,B),this};var A=function(x,k,E,C){var z,V,K;if(typeof x=="string"&&n(x)===e){x=unescape(x);var W=P(x,!1);(W!==""||(W=t.loadFile(x,!0))!==void 0)&&(x=W)}if(h(x)&&(x=g(x,k)),k=n(x,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((K=E)==null||K.length===0)&&(E=function(B){return typeof B=="string"||q(B)?j(B):q(B.data)?j(B.data):null}(x)),(z=p.call(this,E))||(M()&&(x instanceof Uint8Array||k==="RGBA"||(V=x,x=y(x))),z=this["process"+k.toUpperCase()](x,d.call(this),E,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in t.image_compression?B:v.NONE}(C),V)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},P=t.__addimage__.convertBase64ToBinaryString=function(x,k){k=typeof k!="boolean"||k;var E,C="";if(typeof x=="string"){var z;E=(z=U(x))!==null&&z!==void 0?z:x;try{C=gh(E)}catch(V){if(k)throw L(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return C};t.getImageProperties=function(x){var k,E,C="";if(h(x)&&(x=g(x)),typeof x=="string"&&n(x)===e&&((C=P(x,!1))===""&&(C=t.loadFile(x)||""),x=C),E=n(x),!u(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(!M()||x instanceof Uint8Array||(x=y(x)),!(k=this["process"+E.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=E,k}})($t.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};$t.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,o,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){n=d[g];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(b.objId),j=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",o+=" /Popup "+_.objId+" 0 R",o+=" /P "+c.objId+" 0 R",o+=" /T ("+p(v(j))+") >>",b.content=o;var L=b.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+L,n.open&&(o+=" /Open true"),o+=" >>",_.content=o,this.internal.write(b.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var U=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(w(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var q=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+q+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,o,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+o)},options:i,type:"link"})},t.textWithLink=function(r,n,a,o){var i,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var u=this.splitTextToSize(r,l).length;i=Math.ceil(d*u)}else l=c,i=d;return this.text(r,n,a,o),a+=.2*d,o.align==="center"&&(n-=c/2),o.align==="right"&&(n-=c),this.link(n,a-d,l,i,o),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}($t.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},i=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},l=t.__arabicParser__.isArabicEndLetter=function(b){return i(b)&&o(b)&&e[b.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(b){return i(b)&&a.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return i(b)&&o(b)&&e[b.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return i(b)&&o(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return i(b)&&o(b)&&e[b.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return i(b)&&o(b)&&e[b.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(b){var _=0,v=r,j="",L=0;for(_=0;_<b.length;_+=1)v[b.charCodeAt(_)]!==void 0?(L++,typeof(v=v[b.charCodeAt(_)])=="number"&&(j+=String.fromCharCode(v),v=r,L=0),_===b.length-1&&(v=r,j+=b.charAt(_-(L-1)),_-=L-1,L=0)):(v=r,j+=b.charAt(_-L),_-=L,L=0);return j};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(b,_,v){return i(b)?o(b)===!1?-1:!d(b)||!i(_)&&!i(v)||!i(v)&&l(_)||l(b)&&!i(_)||l(b)&&c(_)||l(b)&&l(_)?0:u(b)&&i(_)&&!l(_)&&i(v)&&d(v)?3:l(b)||!i(v)?1:2:-1},p=function(b){var _=0,v=0,j=0,L="",U="",M="",q=(b=b||"").split("\\s+"),y=[];for(_=0;_<q.length;_+=1){for(y.push(""),v=0;v<q[_].length;v+=1)L=q[_][v],U=q[_][v-1],M=q[_][v+1],i(L)?(j=g(L,U,M),y[_]+=j!==-1?String.fromCharCode(e[L.charCodeAt(0)][j]):L):y[_]+=L;y[_]=h(y[_])}return y.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var b,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(_)){var j=0;for(v=[],j=0;j<_.length;j+=1)Array.isArray(_[j])?v.push([p(_[j][0]),_[j][1],_[j][2]]):v.push([p(_[j])]);b=v}else b=p(_);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",w])}($t.API),$t.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($t.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(b){w=b}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,p=0,w=0,b=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=d.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(L,U){return L.concat(_.splitTextToSize(U,v))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)p<(b=this.getStringUnitWidth(c[j],{font:h})*u)&&(p=b);return p!==0&&(w=c.length),{w:p/=g,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=t.cell=function(){var c;c=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,g){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,w,b,_,v=[],j=[],L=[],U={},M={},q=[],y=[],R=(g=g||{}).autoSize||!1,A=g.printHeaders!==!1,P=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,x=g.margins||Object.assign({width:this.getPageWidth()},e),k=typeof g.padding=="number"?g.padding:3,E=g.headerBackgroundColor||"#c8c8c8",C=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=C,this.setFontSize(P),h==null)j=v=Object.keys(u[0]),L=v.map(function(){return"left"});else if(Array.isArray(h)&&Pr(h[0])==="object")for(v=h.map(function(G){return G.name}),j=h.map(function(G){return G.prompt||G.name||""}),L=h.map(function(G){return G.align||"left"}),p=0;p<h.length;p+=1)M[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(j=v=h,L=v.map(function(){return"left"}));if(R||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<v.length;p+=1){for(U[_=v[p]]=u.map(function(G){return G[_]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(j[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=U[_],this.setFont(void 0,"normal"),b=0;b<w.length;b+=1)q.push(this.getTextDimensions(w[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[_]=Math.max.apply(null,q)+k+k,q=[]}if(A){var z={};for(p=0;p<v.length;p+=1)z[v[p]]={},z[v[p]].text=j[p],z[v[p]].align=L[p];var V=l.call(this,z,M);y=v.map(function(G){return new o(c,d,M[G],V,z[G].text,void 0,z[G].align)}),this.setTableHeaderRow(y),this.printHeaderRow(1,!1)}var K=h.reduce(function(G,X){return G[X.name]=X.align,G},{});for(p=0;p<u.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:u[p]},this);var W=l.call(this,u[p],M);for(b=0;b<v.length;b+=1){var B=u[p][v[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:b,data:B},this),i.call(this,new o(c,d,M[v[b]],W,B,p+2,K[v[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(p){var w=c[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/g+u+u},this).reduce(function(p,w){return Math.max(p,w)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(w)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}($t.API);var j6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},N6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ab=k6(N6),S6=[100,200,300,400,500,600,700,800,900],EH=k6(S6);function Pb(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return j6[o=o||"normal"]?o:"normal"}(t.style),n=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(o){return typeof Ab[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Nk(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var AH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Sk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ck(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function PH(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},AH,r.genericFontFamilies||{}),o=null,i=null,l=0;l<e.length;++l)if(a[(o=Pb(e[l])).family]&&(o.family=a[o.family]),t.hasOwnProperty(o.family)){i=t[o.family];break}if(!(i=i||t[n]))throw new Error("Could not find a font-family for the rule '"+Ck(o)+"' and default family '"+n+"'.");if(i=function(c,d){if(d[c])return d[c];var u=Ab[c],h=u<=Ab.normal?-1:1,g=Nk(d,N6,u,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g}(o.stretch,i),i=function(c,d){if(d[c])return d[c];for(var u=j6[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)}(o.style,i),!(i=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=EH[c],h=Nk(d,S6,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(o.weight,i)))throw new Error("Failed to resolve a font for the rule '"+Ck(o)+"'.");return i}function _k(t){return t.trimLeft()}function DH(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function IH(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var bp,Ek,Ak,My=["times"];(function(t){var e,r,n,a,o,i,l,c,d,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new i,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new i,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=T;Object.defineProperty(this,"pdf",{get:function(){return J}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Fe){ee=!!Fe}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Fe){le=!!Fe}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Fe){isNaN(Fe)||(ue=Fe)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Fe){isNaN(Fe)||(de=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Fe){var ge;typeof Fe=="number"?ge=[Fe,Fe,Fe,Fe]:((ge=new Array(4))[0]=Fe[0],ge[1]=Fe.length>=2?Fe[1]:ge[0],ge[2]=Fe.length>=3?Fe[2]:ge[0],ge[3]=Fe.length>=4?Fe[3]:ge[1]),d.margin=ge}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Fe){be=Fe}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Fe){me=Fe}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(Fe){ve=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Fe){Fe instanceof u&&(d=Fe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Fe){d.path=Fe}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(Fe){Le=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var ge;ge=g(Fe),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var ge=g(Fe);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var Te=null;function We(Fe,ge){if(Te===null){var yt=function(rt){var Je=[];return Object.keys(rt).forEach(function(et){rt[et].forEach(function(oe){var ke=null;switch(oe){case"bold":ke={family:et,weight:"bold"};break;case"italic":ke={family:et,style:"italic"};break;case"bolditalic":ke={family:et,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:et}}ke!==null&&(ke.ref={name:et,style:oe},Je.push(ke))})}),Je}(Fe.getFontList());Te=function(rt){for(var Je={},et=0;et<rt.length;++et){var oe=Pb(rt[et]),ke=oe.family,Pe=oe.stretch,tt=oe.style,$e=oe.weight;Je[ke]=Je[ke]||{},Je[ke][Pe]=Je[ke][Pe]||{},Je[ke][Pe][tt]=Je[ke][Pe][tt]||{},Je[ke][Pe][tt][$e]=oe}return Je}(yt.concat(ge))}return Te}var ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(Fe){Te=null,ct=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var ge;if(this.ctx.font=Fe,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var yt=ge[1];ge[2];var rt=ge[3],Je=ge[4];ge[5];var et=ge[6],oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(oe==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:oe==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var ke=function(St){var Kt,ut,Gr=[],Gt=St.trim();if(Gt==="")return My;if(Gt in Sk)return[Sk[Gt]];for(;Gt!=="";){switch(ut=null,Kt=(Gt=_k(Gt)).charAt(0)){case'"':case"'":ut=DH(Gt.substring(1),Kt);break;default:ut=IH(Gt)}if(ut===null||(Gr.push(ut[0]),(Gt=_k(ut[1]))!==""&&Gt.charAt(0)!==","))return My;Gt=Gt.replace(/^,/,"")}return Gr}(et);if(this.fontFaces){var Pe=PH(We(this.pdf,this.fontFaces),ke.map(function(St){return{family:St,stretch:"normal",weight:rt,style:yt}}));this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var tt="";(rt==="bold"||parseInt(rt,10)>=700||yt==="bold")&&(tt="bold"),yt==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var $e="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<ke.length;Nt++){if(this.pdf.internal.getFont(ke[Nt],tt,{noFallback:!0,disableWarning:!0})!==void 0){$e=ke[Nt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(ke[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$e=ke[Nt],tt="bold";else if(this.pdf.internal.getFont(ke[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$e=ke[Nt],tt="normal";break}}if($e===""){for(var Tt=0;Tt<ke.length;Tt++)if(st[ke[Tt]]){$e=st[ke[Tt]];break}}$e=$e===""?"Times":$e,this.pdf.setFont($e,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};h.prototype.setLineDash=function(T){this.lineDash=T},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){U.call(this,"fill",!1)},h.prototype.stroke=function(){U.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(T,J){if(isNaN(T)||isNaN(J))throw $r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new i(T,J));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new i(T,J)},h.prototype.closePath=function(){var T=new i(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Pr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){T=new i(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(T.x,T.y)},h.prototype.lineTo=function(T,J){if(isNaN(T)||isNaN(J))throw $r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new i(T,J));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new i(ee.x,ee.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},h.prototype.quadraticCurveTo=function(T,J,ee,le){if(isNaN(ee)||isNaN(le)||isNaN(T)||isNaN(J))throw $r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new i(ee,le)),de=this.ctx.transform.applyToPoint(new i(T,J));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new i(ue.x,ue.y)},h.prototype.bezierCurveTo=function(T,J,ee,le,ue,de){if(isNaN(ue)||isNaN(de)||isNaN(T)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new i(ue,de)),me=this.ctx.transform.applyToPoint(new i(T,J)),ve=this.ctx.transform.applyToPoint(new i(ee,le));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:ve.x,y2:ve.y,x:be.x,y:be.y}),this.ctx.lastPoint=new i(be.x,be.y)},h.prototype.arc=function(T,J,ee,le,ue,de){if(isNaN(T)||isNaN(J)||isNaN(ee)||isNaN(le)||isNaN(ue))throw $r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new i(T,J));T=be.x,J=be.y;var me=this.ctx.transform.applyToPoint(new i(0,ee)),ve=this.ctx.transform.applyToPoint(new i(0,0));ee=Math.sqrt(Math.pow(me.x-ve.x,2)+Math.pow(me.y-ve.y,2))}Math.abs(ue-le)>=2*Math.PI&&(le=0,ue=2*Math.PI),this.path.push({type:"arc",x:T,y:J,radius:ee,startAngle:le,endAngle:ue,counterclockwise:de})},h.prototype.arcTo=function(T,J,ee,le,ue){throw new Error("arcTo not implemented.")},h.prototype.rect=function(T,J,ee,le){if(isNaN(T)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,J),this.lineTo(T+ee,J),this.lineTo(T+ee,J+le),this.lineTo(T,J+le),this.lineTo(T,J),this.lineTo(T+ee,J),this.lineTo(T,J)},h.prototype.fillRect=function(T,J,ee,le){if(isNaN(T)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,J,ee,le),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},h.prototype.strokeRect=function(T,J,ee,le){if(isNaN(T)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(T,J,ee,le),this.stroke())},h.prototype.clearRect=function(T,J,ee,le){if(isNaN(T)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,J,ee,le))},h.prototype.save=function(T){T=typeof T!="boolean"||T;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},h.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(J),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(T){var J,ee,le,ue;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))J=0,ee=0,le=0,ue=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(de!==null)J=parseInt(de[1]),ee=parseInt(de[2]),le=parseInt(de[3]),ue=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)J=parseInt(de[1]),ee=parseInt(de[2]),le=parseInt(de[3]),ue=parseFloat(de[4]);else{if(ue=1,typeof T=="string"&&T.charAt(0)!=="#"){var be=new g6(T);T=be.ok?be.toHex():"#000000"}T.length===4?(J=T.substring(1,2),J+=J,ee=T.substring(2,3),ee+=ee,le=T.substring(3,4),le+=le):(J=T.substring(1,3),ee=T.substring(3,5),le=T.substring(5,7)),J=parseInt(J,16),ee=parseInt(ee,16),le=parseInt(le,16)}}return{r:J,g:ee,b:le,a:ue,style:T}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(T,J,ee,le){if(isNaN(J)||isNaN(ee)||typeof T!="string")throw $r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!p.call(this)){var ue=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;k.call(this,{text:T,x:J,y:ee,scale:de,angle:ue,align:this.textAlign,maxWidth:le})}},h.prototype.strokeText=function(T,J,ee,le){if(isNaN(J)||isNaN(ee)||typeof T!="string")throw $r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){le=isNaN(le)?void 0:le;var ue=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;k.call(this,{text:T,x:J,y:ee,scale:de,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:le})}},h.prototype.measureText=function(T){if(typeof T!="string")throw $r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ee=this.pdf.internal.scaleFactor,le=J.internal.getFontSize(),ue=J.getStringUnitWidth(T)*le/J.internal.scaleFactor,de=function(be){var me=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new de({width:ue*=Math.round(96*ee/72*1e4)/1e4})},h.prototype.scale=function(T,J){if(isNaN(T)||isNaN(J))throw $r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new c(T,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.rotate=function(T){if(isNaN(T))throw $r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(T,J){if(isNaN(T)||isNaN(J))throw $r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new c(1,0,0,1,T,J);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.transform=function(T,J,ee,le,ue,de){if(isNaN(T)||isNaN(J)||isNaN(ee)||isNaN(le)||isNaN(ue)||isNaN(de))throw $r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new c(T,J,ee,le,ue,de);this.ctx.transform=this.ctx.transform.multiply(be)},h.prototype.setTransform=function(T,J,ee,le,ue,de){T=isNaN(T)?1:T,J=isNaN(J)?0:J,ee=isNaN(ee)?0:ee,le=isNaN(le)?1:le,ue=isNaN(ue)?0:ue,de=isNaN(de)?0:de,this.ctx.transform=new c(T,J,ee,le,ue,de)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(T,J,ee,le,ue,de,be,me,ve){var Le=this.pdf.getImageProperties(T),Te=1,We=1,ct=1,Fe=1;le!==void 0&&me!==void 0&&(ct=me/le,Fe=ve/ue,Te=Le.width/le*me/le,We=Le.height/ue*ve/ue),de===void 0&&(de=J,be=ee,J=0,ee=0),le!==void 0&&me===void 0&&(me=le,ve=ue),le===void 0&&me===void 0&&(me=Le.width,ve=Le.height);for(var ge,yt=this.ctx.transform.decompose(),rt=W(yt.rotate.shx),Je=new c,et=(Je=(Je=(Je=Je.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new l(de-J*ct,be-ee*Fe,le*Te,ue*We)),oe=_.call(this,et),ke=[],Pe=0;Pe<oe.length;Pe+=1)ke.indexOf(oe[Pe])===-1&&ke.push(oe[Pe]);if(L(ke),this.autoPaging)for(var tt=ke[0],$e=ke[ke.length-1],st=tt;st<$e+1;st++){this.pdf.setPage(st);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=st===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=st===1?0:St+(st-2)*Kt;if(this.ctx.clip_path.length!==0){var Gr=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ge,this.posX+this.margin[3],-ut+Tt+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Gr}var Gt=JSON.parse(JSON.stringify(et));Gt=j([Gt],this.posX+this.margin[3],-ut+Tt+this.ctx.prevPageLastElemOffset)[0];var mn=(st>tt||st<$e)&&b.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Kt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,rt),mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",et.x,et.y,et.w,et.h,null,null,rt)};var _=function(T,J,ee){var le=[];J=J||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":le.push(Math.floor((T.y+ue)/ee)+1);break;case"arc":le.push(Math.floor((T.y+ue-T.radius)/ee)+1),le.push(Math.floor((T.y+ue+T.radius)/ee)+1);break;case"qct":var de=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);le.push(Math.floor((de.y+ue)/ee)+1),le.push(Math.floor((de.y+de.h+ue)/ee)+1);break;case"bct":var be=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);le.push(Math.floor((be.y+ue)/ee)+1),le.push(Math.floor((be.y+be.h+ue)/ee)+1);break;case"rect":le.push(Math.floor((T.y+ue)/ee)+1),le.push(Math.floor((T.y+T.h+ue)/ee)+1)}for(var me=0;me<le.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<le[me];)v.call(this);return le},v=function(){var T=this.fillStyle,J=this.strokeStyle,ee=this.font,le=this.lineCap,ue=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=J,this.font=ee,this.lineCap=le,this.lineWidth=ue,this.lineJoin=de},j=function(T,J,ee){for(var le=0;le<T.length;le++)switch(T[le].type){case"bct":T[le].x2+=J,T[le].y2+=ee;case"qct":T[le].x1+=J,T[le].y1+=ee;case"mt":case"lt":case"arc":default:T[le].x+=J,T[le].y+=ee}return T},L=function(T){return T.sort(function(J,ee){return J-ee})},U=function(T,J){for(var ee,le,ue=this.fillStyle,de=this.strokeStyle,be=this.lineCap,me=this.lineWidth,ve=Math.abs(me*this.ctx.transform.scaleX),Le=this.lineJoin,Te=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),ct=[],Fe=0;Fe<We.length;Fe++)if(We[Fe].x!==void 0)for(var ge=_.call(this,We[Fe]),yt=0;yt<ge.length;yt+=1)ct.indexOf(ge[yt])===-1&&ct.push(ge[yt]);for(var rt=0;rt<ct.length;rt++)for(;this.pdf.internal.getNumberOfPages()<ct[rt];)v.call(this);if(L(ct),this.autoPaging)for(var Je=ct[0],et=ct[ct.length-1],oe=Je;oe<et+1;oe++){this.pdf.setPage(oe),this.fillStyle=ue,this.strokeStyle=de,this.lineCap=be,this.lineWidth=ve,this.lineJoin=Le;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=oe===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=oe===1?0:tt+(oe-2)*$e;if(this.ctx.clip_path.length!==0){var Nt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ee,this.posX+this.margin[3],-st+Pe+this.ctx.prevPageLastElemOffset),M.call(this,T,!0),this.path=Nt}if(le=JSON.parse(JSON.stringify(Te)),this.path=j(le,this.posX+this.margin[3],-st+Pe+this.ctx.prevPageLastElemOffset),J===!1||oe===0){var Tt=(oe>Je||oe<et)&&b.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,$e,null).clip().discardPath()),M.call(this,T,J),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=ve,M.call(this,T,J),this.lineWidth=me;this.path=Te},M=function(T,J){if((T!=="stroke"||J||!w.call(this))&&(T==="stroke"||J||!p.call(this))){for(var ee,le,ue=[],de=this.path,be=0;be<de.length;be++){var me=de[be];switch(me.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:me,deltas:[],abs:[]});break;case"lt":var ve=ue.length;if(de[be-1]&&!isNaN(de[be-1].x)&&(ee=[me.x-de[be-1].x,me.y-de[be-1].y],ve>0)){for(;ve>=0;ve--)if(ue[ve-1].close!==!0&&ue[ve-1].begin!==!0){ue[ve-1].deltas.push(ee),ue[ve-1].abs.push(me);break}}break;case"bct":ee=[me.x1-de[be-1].x,me.y1-de[be-1].y,me.x2-de[be-1].x,me.y2-de[be-1].y,me.x-de[be-1].x,me.y-de[be-1].y],ue[ue.length-1].deltas.push(ee);break;case"qct":var Le=de[be-1].x+2/3*(me.x1-de[be-1].x),Te=de[be-1].y+2/3*(me.y1-de[be-1].y),We=me.x+2/3*(me.x1-me.x),ct=me.y+2/3*(me.y1-me.y),Fe=me.x,ge=me.y;ee=[Le-de[be-1].x,Te-de[be-1].y,We-de[be-1].x,ct-de[be-1].y,Fe-de[be-1].x,ge-de[be-1].y],ue[ue.length-1].deltas.push(ee);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(me)}}le=J?null:T==="stroke"?"stroke":"fill";for(var yt=!1,rt=0;rt<ue.length;rt++)if(ue[rt].arc)for(var Je=ue[rt].abs,et=0;et<Je.length;et++){var oe=Je[et];oe.type==="arc"?R.call(this,oe.x,oe.y,oe.radius,oe.startAngle,oe.endAngle,oe.counterclockwise,void 0,J,!yt):E.call(this,oe.x,oe.y),yt=!0}else if(ue[rt].close===!0)this.pdf.internal.out("h"),yt=!1;else if(ue[rt].begin!==!0){var ke=ue[rt].start.x,Pe=ue[rt].start.y;C.call(this,ue[rt].deltas,ke,Pe),yt=!0}le&&A.call(this,le),J&&P.call(this)}},q=function(T){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-ee;case"top":return T+J-ee;case"hanging":return T+J-2*ee;case"middle":return T+J/2-ee;case"ideographic":return T;case"alphabetic":default:return T}},y=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(J,ee){this.colorStops.push([J,ee])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(T,J,ee,le,ue,de,be,me,ve){for(var Le=V.call(this,ee,le,ue,de),Te=0;Te<Le.length;Te++){var We=Le[Te];Te===0&&(ve?x.call(this,We.x1+T,We.y1+J):E.call(this,We.x1+T,We.y1+J)),z.call(this,T,J,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}me?P.call(this):A.call(this,be)},A=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(T,J){this.pdf.internal.out(r(T)+" "+n(J)+" m")},k=function(T){var J;switch(T.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var ee=this.pdf.getTextDimensions(T.text),le=q.call(this,T.y),ue=y.call(this,le)-ee.h,de=this.ctx.transform.applyToPoint(new i(T.x,le)),be=this.ctx.transform.decompose(),me=new c;me=(me=(me=me.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var ve,Le,Te,We=this.ctx.transform.applyToRectangle(new l(T.x,le,ee.w,ee.h)),ct=me.applyToRectangle(new l(T.x,ue,ee.w,ee.h)),Fe=_.call(this,ct),ge=[],yt=0;yt<Fe.length;yt+=1)ge.indexOf(Fe[yt])===-1&&ge.push(Fe[yt]);if(L(ge),this.autoPaging)for(var rt=ge[0],Je=ge[ge.length-1],et=rt;et<Je+1;et++){this.pdf.setPage(et);var oe=et===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],tt=Pe-this.margin[0],$e=this.pdf.internal.pageSize.width-this.margin[1],st=$e-this.margin[3],Nt=et===1?0:ke+(et-2)*tt;if(this.ctx.clip_path.length!==0){var Tt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ve,this.posX+this.margin[3],-1*Nt+oe),M.call(this,"fill",!0),this.path=Tt}var St=j([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-Nt+oe+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*T.scale),Te=this.lineWidth,this.lineWidth=Te*T.scale);var Kt=this.autoPaging!=="text";if(Kt||St.y+St.h<=Pe){if(Kt||St.y>=oe&&St.x<=$e){var ut=Kt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||$e-St.x)[0],Gr=j([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Nt+oe+this.ctx.prevPageLastElemOffset)[0],Gt=Kt&&(et>rt||et<Je)&&b.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,tt,null).clip().discardPath()),this.pdf.text(ut,Gr.x,Gr.y,{angle:T.angle,align:J,renderingMode:T.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else St.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-St.y);T.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Te)}else T.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*T.scale),Te=this.lineWidth,this.lineWidth=Te*T.scale),this.pdf.text(T.text,de.x+this.posX,de.y+this.posY,{angle:T.angle,align:J,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Te)},E=function(T,J,ee,le){ee=ee||0,le=le||0,this.pdf.internal.out(r(T+ee)+" "+n(J+le)+" l")},C=function(T,J,ee){return this.pdf.lines(T,J,ee,null,null)},z=function(T,J,ee,le,ue,de,be,me){this.pdf.internal.out([e(a(ee+T)),e(o(le+J)),e(a(ue+T)),e(o(de+J)),e(a(be+T)),e(o(me+J)),"c"].join(" "))},V=function(T,J,ee,le){for(var ue=2*Math.PI,de=Math.PI/2;J>ee;)J-=ue;var be=Math.abs(ee-J);be<ue&&le&&(be=ue-be);for(var me=[],ve=le?-1:1,Le=J;be>1e-5;){var Te=Le+ve*Math.min(be,de);me.push(K.call(this,T,Le,Te)),be-=Math.abs(Te-Le),Le=Te}return me},K=function(T,J,ee){var le=(ee-J)/2,ue=T*Math.cos(le),de=T*Math.sin(le),be=ue,me=-de,ve=be*be+me*me,Le=ve+be*ue+me*de,Te=4/3*(Math.sqrt(2*ve*Le)-Le)/(be*de-me*ue),We=be-Te*me,ct=me+Te*be,Fe=We,ge=-ct,yt=le+J,rt=Math.cos(yt),Je=Math.sin(yt);return{x1:T*Math.cos(J),y1:T*Math.sin(J),x2:We*rt-ct*Je,y2:We*Je+ct*rt,x3:Fe*rt-ge*Je,y3:Fe*Je+ge*rt,x4:T*Math.cos(ee),y4:T*Math.sin(ee)}},W=function(T){return 180*T/Math.PI},B=function(T,J,ee,le,ue,de){var be=T+.5*(ee-T),me=J+.5*(le-J),ve=ue+.5*(ee-ue),Le=de+.5*(le-de),Te=Math.min(T,ue,be,ve),We=Math.max(T,ue,be,ve),ct=Math.min(J,de,me,Le),Fe=Math.max(J,de,me,Le);return new l(Te,ct,We-Te,Fe-ct)},G=function(T,J,ee,le,ue,de,be,me){var ve,Le,Te,We,ct,Fe,ge,yt,rt,Je,et,oe,ke,Pe,tt=ee-T,$e=le-J,st=ue-ee,Nt=de-le,Tt=be-ue,St=me-de;for(Le=0;Le<41;Le++)rt=(ge=(Te=T+(ve=Le/40)*tt)+ve*((ct=ee+ve*st)-Te))+ve*(ct+ve*(ue+ve*Tt-ct)-ge),Je=(yt=(We=J+ve*$e)+ve*((Fe=le+ve*Nt)-We))+ve*(Fe+ve*(de+ve*St-Fe)-yt),Le==0?(et=rt,oe=Je,ke=rt,Pe=Je):(et=Math.min(et,rt),oe=Math.min(oe,Je),ke=Math.max(ke,rt),Pe=Math.max(Pe,Je));return new l(Math.round(et),Math.round(oe),Math.round(ke-et),Math.round(Pe-oe))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,J,ee=(T=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:J}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})($t.API),function(t){var e=function(o){var i,l,c,d,u,h,g,p,w,b;for(l=[],c=0,d=(o+=i="\0\0\0\0".slice(o.length%4||4)).length;d>c;c+=4)(u=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(b=u%85))/85)-(w=u%85))/85)-(p=u%85))/85)-(g=u%85))/85)%85,l.push(h+33,g+33,p+33,w+33,b+33)):l.push(122);return function(_,v){for(var j=v;j>0;j--)_.pop()}(l,i.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var i,l,c,d,u,h=String,g="length",p=255,w="charCodeAt",b="slice",_="replace";for(o[b](-2),o=o[b](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),c=[],d=0,u=(o+=i="uuuuu"[b](o[g]%5||5))[g];u>d;d+=5)l=52200625*(o[w](d)-33)+614125*(o[w](d+1)-33)+7225*(o[w](d+2)-33)+85*(o[w](d+3)-33)+(o[w](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(v,j){for(var L=j;L>0;L--)v.pop()}(c,i[g]),h.fromCharCode.apply(h,c)},n=function(o){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),i.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},a=function(o){for(var i=new Uint8Array(o.length),l=o.length;l--;)i[l]=o.charCodeAt(l);return o=(i=Nb(i)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,i){var l=0,c=o||"",d=[];for(typeof(i=i||[])=="string"&&(i=[i]),l=0;l<i.length;l+=1)switch(i[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}($t.API),function(t){t.loadFile=function(e,r,n){return function(a,o,i){o=o!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,g=0,p=function(w){var b=w.length,_=[],v=String.fromCharCode;for(g=0;g<b;g+=1)_.push(v(255&w.charCodeAt(g)));return _.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(p(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)}(a,o,i)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}($t.API),function(t){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):Ci(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):Ci(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var l=Pr(i);return l==="undefined"?"undefined":l==="string"||i instanceof String?"string":l==="number"||i instanceof Number?"number":l==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(i,l){var c=document.createElement(i);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},o=function i(l){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),d=i.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,i,1,[i])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(i,l){return i.__proto__=l||o.prototype,i},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(i,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},o.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(c(g,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var p=d[g],w=p.src.find(function(b){return b.format==="truetype"});w&&c.addFont(w.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(i,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,l):this.outputPdf(i,l)},o.prototype.outputPdf=function(i,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,l)})},o.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},o.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(i){if(n(i)!=="object")return this;var l=Object.keys(i||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(i,l){return this.then(function(){var c=i in o.template.prop?this.prop[i]:this.opt[i];return l?l(c):c})},o.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},o.prototype.setPageSize=function(i){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(i=i||$t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:l(i.inner.width,i.k),height:l(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},o.prototype.setProgress=function(i,l,c,d){return i!=null&&(this.progress.val=i),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(i,l,c,d){return this.setProgress(i?this.progress.val+i:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(i,l){var c=this;return this.thenCore(i,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,u).then(function(h){return c.updateProgress(1),h})})},o.prototype.thenCore=function(i,l,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=c.call(d,i,l);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(i,l){return Promise.prototype.then.call(this,i,l)},o.prototype.thenList=function(i){var l=this;return i.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(i){i&&(i=i.bind(this));var l=Promise.prototype.catch.call(this,i);return o.convert(l,this)},o.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},o.prototype.error=function(i){return this.then(function(){throw new Error(i)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,$t.getPageSize=function(i,l,c){if(Pr(i)==="object"){var d=i;i=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var p,w=0,b=0;if(g.hasOwnProperty(h))w=g[h][1]/u,b=g[h][0]/u;else try{w=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",b>w&&(p=b,b=w,w=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",w>b&&(p=b,b=w,w=p)}return{width:b,height:w,unit:l,k:u,orientation:i}},t.html=function(i,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Pb):null;var c=new o(l);return l.worker?c:c.from(i).doCallback()}}($t.API),$t.API.addJS=function(t){return Ak=t,this.internal.events.subscribe("postPutResources",function(){bp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ek=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ak+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bp!==void 0&&Ek!==void 0&&this.internal.out("/Names <</JavaScript "+bp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),o=0;o<a.length;o++){var i=a[o],l=n.exec(i);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(o=0;o<d;o++){var h=r.internal.newObject();u.push(h);var g=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<u.length;o++)r.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,o){var i={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var i=n.children[o];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])}($t.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,o,i,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var g,p=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,b={width:0,height:0,numcomponents:1},_=4;_<w;_+=2){if(_+=p,e.indexOf(h.charCodeAt(_+1))!==-1){g=256*h.charCodeAt(_+5)+h.charCodeAt(_+6),b={width:256*h.charCodeAt(_+7)+h.charCodeAt(_+8),height:g,numcomponents:h.charCodeAt(_+9)};break}p=256*h.charCodeAt(_+2)+h.charCodeAt(_+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}($t.API);var Zc,vp,Pk,Dk,Ik,LH=function(){var t,e,r;function n(o){var i,l,c,d,u,h,g,p,w,b,_,v,j,L;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),w=(function(){var U,M;for(M=[],U=0;U<4;++U)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,i-=4),o=(h!=null?h.data:void 0)||this.imgData,v=0;0<=i?v<i:v>i;0<=i?++v:--v)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((b=c-this.transparency.indexed.length)>0)for(j=0;0<=b?j<b:j>b;0<=b?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":g=(_=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,_.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,_.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(o){var i,l;for(l=[],i=0;0<=o?i<o:i>o;0<=o?++i:--i)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(o){var i=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*i),c=0,d=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(h,g,p,w){var b,_,v,j,L,U,M,q,y,R,A,P,x,k,E,C,z,V,K,W,B,G=Math.ceil((d.width-h)/p),X=Math.ceil((d.height-g)/w),T=d.width==G&&d.height==X;for(k=i*G,P=T?l:new Uint8Array(k*X),U=o.length,x=0,_=0;x<X&&c<U;){switch(o[c++]){case 0:for(j=z=0;z<k;j=z+=1)P[_++]=o[c++];break;case 1:for(j=V=0;V<k;j=V+=1)b=o[c++],L=j<i?0:P[_-i],P[_++]=(b+L)%256;break;case 2:for(j=K=0;K<k;j=K+=1)b=o[c++],v=(j-j%i)/i,E=x&&P[(x-1)*k+v*i+j%i],P[_++]=(E+b)%256;break;case 3:for(j=W=0;W<k;j=W+=1)b=o[c++],v=(j-j%i)/i,L=j<i?0:P[_-i],E=x&&P[(x-1)*k+v*i+j%i],P[_++]=(b+Math.floor((L+E)/2))%256;break;case 4:for(j=B=0;B<k;j=B+=1)b=o[c++],v=(j-j%i)/i,L=j<i?0:P[_-i],x===0?E=C=0:(E=P[(x-1)*k+v*i+j%i],C=v&&P[(x-1)*k+(v-1)*i+j%i]),M=L+E-C,q=Math.abs(M-L),R=Math.abs(M-E),A=Math.abs(M-C),y=q<=R&&q<=A?L:R<=A?E:C,P[_++]=(b+y)%256;break;default:throw new Error("Invalid filter algorithm: "+o[c-1])}if(!T){var J=((g+x*w)*d.width+h)*i,ee=x*k;for(j=0;j<G;j+=1){for(var le=0;le<i;le+=1)l[J++]=P[ee++];J+=(p-1)*i}}x++}}return o=uH(o),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var o,i,l,c,d,u,h,g,p;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,o=0,i=h=0,g=l.length;h<g;i=h+=3)d[c++]=l[i],d[c++]=l[i+1],d[c++]=l[i+2],d[c++]=(p=u[o++])!=null?p:255;return d},n.prototype.copyToImageData=function(o,i){var l,c,d,u,h,g,p,w,b,_,v;if(c=this.colors,b=null,l=this.hasAlphaChannel,this.palette.length&&(b=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,l=!0),w=(d=o.data||o).length,h=b||i,u=g=0,c===1)for(;u<w;)p=b?4*i[u/4]:g,_=h[p++],d[u++]=_,d[u++]=_,d[u++]=_,d[u++]=l?h[p++]:255,g=p;else for(;u<w;)p=b?4*i[u/4]:g,d[u++]=h[p++],d[u++]=h[p++],d[u++]=h[p++],d[u++]=l?h[p++]:255,g=p},n.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var a=function(){if(Object.prototype.toString.call(Ut)==="[object Window]"){try{e=Ut.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(o){var i;if(a()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(i=new Image).src=e.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(o){var i,l,c,d,u,h,g,p;if(this.animation){for(p=[],l=u=0,h=(g=this.animation.frames).length;u<h;l=++u)i=g[l],c=o.createImageData(i.width,i.height),d=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,d),i.imageData=c,p.push(i.image=t(c));return p}},n.prototype.renderFrame=function(o,i){var l,c,d;return l=(c=this.animation.frames)[i],d=c[i-1],i===0&&o.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?o.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&o.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&o.clearRect(l.xOffset,l.yOffset,l.width,l.height),o.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(o){var i,l,c,d,u,h,g=this;return l=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(i=function(){var p,w;if(p=l++%d,w=c[p],g.renderFrame(o,p),d>1&&l/d<u)return g.animation._timeout=setTimeout(i,w.delay)})()},n.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},n.prototype.render=function(o){var i,l;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,i=o.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(l=i.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),i.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function RH(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],o=a>>7,i=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;o&&(l=e,c=i,e+=3*i);var d=!0,u=[],h=0,g=null,p=0,w=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];h=t[e++]|t[e++]<<8,g=t[e++],!(1&b)&&(g=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,U=t[e++],M=U>>6&1,q=1<<(7&U)+1,y=l,R=c,A=!1;U>>7&&(A=!0,y=e,R=q,e+=3*q);var P=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}u.push({x:_,y:v,width:j,height:L,has_local_palette:A,palette_offset:y,palette_size:R,data_offset:P,data_length:e-P,transparent_index:g,interlaced:!!M,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,E){var C=this.frameInfo(k),z=C.width*C.height,V=new Uint8Array(z);Lk(t,C.data_offset,V,z);var K=C.palette_offset,W=C.transparent_index;W===null&&(W=256);var B=C.width,G=r-B,X=B,T=4*(C.y*r+C.x),J=4*((C.y+C.height)*r+C.x),ee=T,le=4*G;C.interlaced===!0&&(le+=4*r*7);for(var ue=8,de=0,be=V.length;de<be;++de){var me=V[de];if(X===0&&(X=B,(ee+=le)>=J&&(le=4*G+4*r*(ue-1),ee=T+(B+G)*(ue<<1),ue>>=1)),me===W)ee+=4;else{var ve=t[K+3*me],Le=t[K+3*me+1],Te=t[K+3*me+2];E[ee++]=Te,E[ee++]=Le,E[ee++]=ve,E[ee++]=255}--X}},this.decodeAndBlitFrameRGBA=function(k,E){var C=this.frameInfo(k),z=C.width*C.height,V=new Uint8Array(z);Lk(t,C.data_offset,V,z);var K=C.palette_offset,W=C.transparent_index;W===null&&(W=256);var B=C.width,G=r-B,X=B,T=4*(C.y*r+C.x),J=4*((C.y+C.height)*r+C.x),ee=T,le=4*G;C.interlaced===!0&&(le+=4*r*7);for(var ue=8,de=0,be=V.length;de<be;++de){var me=V[de];if(X===0&&(X=B,(ee+=le)>=J&&(le=4*G+4*r*(ue-1),ee=T+(B+G)*(ue<<1),ue>>=1)),me===W)ee+=4;else{var ve=t[K+3*me],Le=t[K+3*me+1],Te=t[K+3*me+2];E[ee++]=ve,E[ee++]=Le,E[ee++]=Te,E[ee++]=255}--X}}}function Lk(t,e,r,n){for(var a=t[e++],o=1<<a,i=o+1,l=i+1,c=a+1,d=(1<<c)-1,u=0,h=0,g=0,p=t[e++],w=new Int32Array(4096),b=null;;){for(;u<16&&p!==0;)h|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<c)break;var _=h&d;if(h>>=c,u-=c,_!==o){if(_===i)break;for(var v=_<l?_:b,j=0,L=v;L>o;)L=w[L]>>8,++j;var U=L;if(g+j+(v!==_?1:0)>n)return void $r.log("Warning, gif stream longer than expected.");r[g++]=U;var M=g+=j;for(v!==_&&(r[g++]=U),L=v;j--;)L=w[L],r[--M]=255&L,L>>=8;b!==null&&l<4096&&(w[l++]=b<<8|U,l>=d+1&&c<12&&(++c,d=d<<1|1)),b=_}else l=i+1,d=(1<<(c=a+1))-1,b=null}return g!==n&&$r.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fy(t){var e,r,n,a,o,i=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),g=new Array(65535),p=new Array(64),w=new Array(64),b=[],_=0,v=7,j=new Array(64),L=new Array(64),U=new Array(64),M=new Array(256),q=new Array(2048),y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(T,J){for(var ee=0,le=0,ue=new Array,de=1;de<=16;de++){for(var be=1;be<=T[de];be++)ue[J[le]]=[],ue[J[le]][0]=ee,ue[J[le]][1]=de,le++,ee++;ee*=2}return ue}function K(T){for(var J=T[0],ee=T[1]-1;ee>=0;)J&1<<ee&&(_|=1<<v),ee--,--v<0&&(_==255?(W(255),W(0)):W(_),v=7,_=0)}function W(T){b.push(T)}function B(T){W(T>>8&255),W(255&T)}function G(T,J,ee,le,ue){for(var de,be=ue[0],me=ue[240],ve=function(Je,et){var oe,ke,Pe,tt,$e,st,Nt,Tt,St,Kt,ut=0;for(St=0;St<8;++St){oe=Je[ut],ke=Je[ut+1],Pe=Je[ut+2],tt=Je[ut+3],$e=Je[ut+4],st=Je[ut+5],Nt=Je[ut+6];var Gr=oe+(Tt=Je[ut+7]),Gt=oe-Tt,mn=ke+Nt,nr=ke-Nt,Cr=Pe+st,ra=Pe-st,sr=tt+$e,Ns=tt-$e,qr=Gr+sr,Sn=Gr-sr,mr=mn+Cr,tr=mn-Cr;Je[ut]=qr+mr,Je[ut+4]=qr-mr;var wt=.707106781*(tr+Sn);Je[ut+2]=Sn+wt,Je[ut+6]=Sn-wt;var Dt=.382683433*((qr=Ns+ra)-(tr=nr+Gt)),lr=.5411961*qr+Dt,cr=1.306562965*tr+Dt,rn=.707106781*(mr=ra+nr),Cn=Gt+rn,mt=Gt-rn;Je[ut+5]=mt+lr,Je[ut+3]=mt-lr,Je[ut+1]=Cn+cr,Je[ut+7]=Cn-cr,ut+=8}for(ut=0,St=0;St<8;++St){oe=Je[ut],ke=Je[ut+8],Pe=Je[ut+16],tt=Je[ut+24],$e=Je[ut+32],st=Je[ut+40],Nt=Je[ut+48];var Fr=oe+(Tt=Je[ut+56]),Lr=oe-Tt,Rr=ke+Nt,Nr=ke-Nt,Tr=Pe+st,Xr=Pe-st,Ra=tt+$e,ca=tt-$e,es=Fr+Ra,ts=Fr-Ra,Ta=Rr+Tr,Ss=Rr-Tr;Je[ut]=es+Ta,Je[ut+32]=es-Ta;var Tn=.707106781*(Ss+ts);Je[ut+16]=ts+Tn,Je[ut+48]=ts-Tn;var rs=.382683433*((es=ca+Xr)-(Ss=Nr+Lr)),Us=.5411961*es+rs,bo=1.306562965*Ss+rs,zs=.707106781*(Ta=Xr+Nr),Xo=Lr+zs,Ii=Lr-zs;Je[ut+40]=Ii+Us,Je[ut+24]=Ii-Us,Je[ut+8]=Xo+bo,Je[ut+56]=Xo-bo,ut++}for(St=0;St<64;++St)Kt=Je[St]*et[St],p[St]=Kt>0?Kt+.5|0:Kt-.5|0;return p}(T,J),Le=0;Le<64;++Le)w[y[Le]]=ve[Le];var Te=w[0]-ee;ee=w[0],Te==0?K(le[0]):(K(le[g[de=32767+Te]]),K(h[de]));for(var We=63;We>0&&w[We]==0;)We--;if(We==0)return K(be),ee;for(var ct,Fe=1;Fe<=We;){for(var ge=Fe;w[Fe]==0&&Fe<=We;)++Fe;var yt=Fe-ge;if(yt>=16){ct=yt>>4;for(var rt=1;rt<=ct;++rt)K(me);yt&=15}de=32767+w[Fe],K(ue[(yt<<4)+g[de]]),K(h[de]),Fe++}return We!=63&&K(be),ee}function X(T){T=Math.min(Math.max(T,1),100),o!=T&&(function(J){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ue=i((ee[le]*J+50)/100);ue=Math.min(Math.max(ue,1),255),l[y[le]]=ue}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var me=i((de[be]*J+50)/100);me=Math.min(Math.max(me,1),255),c[y[be]]=me}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Te=0;Te<8;Te++)for(var We=0;We<8;We++)d[Le]=1/(l[y[Le]]*ve[Te]*ve[We]*8),u[Le]=1/(c[y[Le]]*ve[Te]*ve[We]*8),Le++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,J){J&&X(J),b=new Array,_=0,v=7,B(65496),B(65504),B(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),B(1),B(1),W(0),W(0),function(){B(65499),B(132),W(0);for(var ke=0;ke<64;ke++)W(l[ke]);W(1);for(var Pe=0;Pe<64;Pe++)W(c[Pe])}(),function(ke,Pe){B(65472),B(17),W(8),B(Pe),B(ke),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(T.width,T.height),function(){B(65476),B(418),W(0);for(var ke=0;ke<16;ke++)W(R[ke+1]);for(var Pe=0;Pe<=11;Pe++)W(A[Pe]);W(16);for(var tt=0;tt<16;tt++)W(P[tt+1]);for(var $e=0;$e<=161;$e++)W(x[$e]);W(1);for(var st=0;st<16;st++)W(k[st+1]);for(var Nt=0;Nt<=11;Nt++)W(E[Nt]);W(17);for(var Tt=0;Tt<16;Tt++)W(C[Tt+1]);for(var St=0;St<=161;St++)W(z[St])}(),B(65498),B(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var ee=0,le=0,ue=0;_=0,v=7,this.encode.displayName="_encode_";for(var de,be,me,ve,Le,Te,We,ct,Fe,ge=T.data,yt=T.width,rt=T.height,Je=4*yt,et=0;et<rt;){for(de=0;de<Je;){for(Le=Je*et+de,We=-1,ct=0,Fe=0;Fe<64;Fe++)Te=Le+(ct=Fe>>3)*Je+(We=4*(7&Fe)),et+ct>=rt&&(Te-=Je*(et+1+ct-rt)),de+We>=Je&&(Te-=de+We-Je+4),be=ge[Te++],me=ge[Te++],ve=ge[Te++],j[Fe]=(q[be]+q[me+256>>0]+q[ve+512>>0]>>16)-128,L[Fe]=(q[be+768>>0]+q[me+1024>>0]+q[ve+1280>>0]>>16)-128,U[Fe]=(q[be+1280>>0]+q[me+1536>>0]+q[ve+1792>>0]>>16)-128;ee=G(j,d,ee,e,n),le=G(L,u,le,r,a),ue=G(U,u,ue,r,a),de+=32}et+=8}if(v>=0){var oe=[];oe[1]=v+1,oe[0]=(1<<v+1)-1,K(oe)}return B(65497),new Uint8Array(b)},t=t||50,function(){for(var T=String.fromCharCode,J=0;J<256;J++)M[J]=T(J)}(),e=V(R,A),r=V(k,E),n=V(P,x),a=V(C,z),function(){for(var T=1,J=2,ee=1;ee<=15;ee++){for(var le=T;le<J;le++)g[32767+le]=ee,h[32767+le]=[],h[32767+le][1]=ee,h[32767+le][0]=le;for(var ue=-(J-1);ue<=-T;ue++)g[32767+ue]=ee,h[32767+ue]=[],h[32767+ue][1]=ee,h[32767+ue][0]=J-1+ue;T<<=1,J<<=1}}(),function(){for(var T=0;T<256;T++)q[T]=19595*T,q[T+256>>0]=38470*T,q[T+512>>0]=7471*T+32768,q[T+768>>0]=-11059*T,q[T+1024>>0]=-21709*T,q[T+1280>>0]=32768*T+8421375,q[T+1536>>0]=-27439*T,q[T+1792>>0]=-5329*T}(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ro(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Rk(t){function e(R){if(!R)throw Error("assert :P")}function r(R,A,P){for(var x=0;4>x;x++)if(R[A+x]!=P.charCodeAt(x))return!0;return!1}function n(R,A,P,x,k){for(var E=0;E<k;E++)R[A+E]=P[x+E]}function a(R,A,P,x){for(var k=0;k<x;k++)R[A+k]=P}function o(R){return new Int32Array(R)}function i(R,A){for(var P=[],x=0;x<R;x++)P.push(new A);return P}function l(R,A){var P=[];return function x(k,E,C){for(var z=C[E],V=0;V<z&&(k.push(C.length>E+1?[]:new A),!(C.length<E+1));V++)x(k[V],E+1,C)}(P,0,R),P}var c=function(){var R=this;function A(f,N){for(var O=1<<N-1>>>0;f&O;)O>>>=1;return O?(f&O-1)+O:f}function P(f,N,O,Y,re){e(!(Y%O));do f[N+(Y-=O)]=re;while(0<Y)}function x(f,N,O,Y,re){if(e(2328>=re),512>=re)var ne=o(512);else if((ne=o(re))==null)return 0;return function(se,ie,ce,fe,Ne,Oe){var Me,Ae,Ze=ie,Ve=1<<ce,Se=o(16),_e=o(16);for(e(Ne!=0),e(fe!=null),e(se!=null),e(0<ce),Ae=0;Ae<Ne;++Ae){if(15<fe[Ae])return 0;++Se[fe[Ae]]}if(Se[0]==Ne)return 0;for(_e[1]=0,Me=1;15>Me;++Me){if(Se[Me]>1<<Me)return 0;_e[Me+1]=_e[Me]+Se[Me]}for(Ae=0;Ae<Ne;++Ae)Me=fe[Ae],0<fe[Ae]&&(Oe[_e[Me]++]=Ae);if(_e[15]==1)return(fe=new k).g=0,fe.value=Oe[0],P(se,Ze,1,Ve,fe),Ve;var Xe,nt=-1,Qe=Ve-1,gt=0,ht=1,It=1,pt=1<<ce;for(Ae=0,Me=1,Ne=2;Me<=ce;++Me,Ne<<=1){if(ht+=It<<=1,0>(It-=Se[Me]))return 0;for(;0<Se[Me];--Se[Me])(fe=new k).g=Me,fe.value=Oe[Ae++],P(se,Ze+gt,Ne,pt,fe),gt=A(gt,Me)}for(Me=ce+1,Ne=2;15>=Me;++Me,Ne<<=1){if(ht+=It<<=1,0>(It-=Se[Me]))return 0;for(;0<Se[Me];--Se[Me]){if(fe=new k,(gt&Qe)!=nt){for(Ze+=pt,Xe=1<<(nt=Me)-ce;15>nt&&!(0>=(Xe-=Se[nt]));)++nt,Xe<<=1;Ve+=pt=1<<(Xe=nt-ce),se[ie+(nt=gt&Qe)].g=Xe+ce,se[ie+nt].value=Ze-ie-nt}fe.g=Me-ce,fe.value=Oe[Ae++],P(se,Ze+(gt>>ce),Ne,pt,fe),gt=A(gt,Me)}}return ht!=2*_e[15]-1?0:Ve}(f,N,O,Y,re,ne)}function k(){this.value=this.g=0}function E(){this.value=this.g=0}function C(){this.G=i(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(En,E)}function z(f,N,O,Y){e(f!=null),e(N!=null),e(2147483648>Y),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=N,f.pa=O,f.Jd=N,f.Yc=O+Y,f.Zc=4<=Y?O+Y-4+1:O,de(f)}function V(f,N){for(var O=0;0<N--;)O|=me(f,128)<<N;return O}function K(f,N){var O=V(f,N);return be(f)?-O:O}function W(f,N,O,Y){var re,ne=0;for(e(f!=null),e(N!=null),e(4294967288>Y),f.Sb=Y,f.Ra=0,f.u=0,f.h=0,4<Y&&(Y=4),re=0;re<Y;++re)ne+=N[O+re]<<8*re;f.Ra=ne,f.bb=Y,f.oa=N,f.pa=O}function B(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Sa-8>>>0,++f.bb,f.u-=8;ee(f)&&(f.h=1,f.u=0)}function G(f,N){if(e(0<=N),!f.h&&N<=_o){var O=J(f)&Ma[N];return f.u+=N,B(f),O}return f.h=1,f.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(f){return f.Ra>>>(f.u&Sa-1)>>>0}function ee(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Sa}function le(f,N){f.u=N,f.h=ee(f)}function ue(f){f.u>=Bi&&(e(f.u>=Bi),B(f))}function de(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function be(f){return V(f,1)}function me(f,N){var O=f.Ca;0>f.b&&de(f);var Y=f.b,re=O*N>>>8,ne=(f.I>>>Y>re)+0;for(ne?(O-=re,f.I-=re+1<<Y>>>0):O=re+1,Y=O,re=0;256<=Y;)re+=8,Y>>=8;return Y=7^re+An[Y],f.b-=Y,f.Ca=(O<<Y)-1,ne}function ve(f,N,O){f[N+0]=O>>24&255,f[N+1]=O>>16&255,f[N+2]=O>>8&255,f[N+3]=O>>0&255}function Le(f,N){return f[N+0]<<0|f[N+1]<<8}function Te(f,N){return Le(f,N)|f[N+2]<<16}function We(f,N){return Le(f,N)|Le(f,N+2)<<16}function ct(f,N){var O=1<<N;return e(f!=null),e(0<N),f.X=o(O),f.X==null?0:(f.Mb=32-N,f.Xa=N,1)}function Fe(f,N){e(f!=null),e(N!=null),e(f.Xa==N.Xa),n(N.X,0,f.X,0,1<<N.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function yt(f,N,O,Y){e(O!=null),e(Y!=null);var re=O[0],ne=Y[0];return re==0&&(re=(f*ne+N/2)/N),ne==0&&(ne=(N*re+f/2)/f),0>=re||0>=ne?0:(O[0]=re,Y[0]=ne,1)}function rt(f,N){return f+(1<<N)-1>>>N}function Je(f,N){return((4278255360&f)+(4278255360&N)>>>0&4278255360)+((16711935&f)+(16711935&N)>>>0&16711935)>>>0}function et(f,N){R[N]=function(O,Y,re,ne,se,ie,ce){var fe;for(fe=0;fe<se;++fe){var Ne=R[f](ie[ce+fe-1],re,ne+fe);ie[ce+fe]=Je(O[Y+fe],Ne)}}}function oe(){this.ud=this.hd=this.jd=0}function ke(f,N){return((4278124286&(f^N))>>>1)+(f&N)>>>0}function Pe(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function tt(f,N){return Pe(f+(f-N+.5>>1))}function $e(f,N,O){return Math.abs(N-O)-Math.abs(f-O)}function st(f,N,O,Y,re,ne,se){for(Y=ne[se-1],O=0;O<re;++O)ne[se+O]=Y=Je(f[N+O],Y)}function Nt(f,N,O,Y,re){var ne;for(ne=0;ne<O;++ne){var se=f[N+ne],ie=se>>8&255,ce=16711935&(ce=(ce=16711935&se)+((ie<<16)+ie));Y[re+ne]=(4278255360&se)+ce>>>0}}function Tt(f,N){N.jd=f>>0&255,N.hd=f>>8&255,N.ud=f>>16&255}function St(f,N,O,Y,re,ne){var se;for(se=0;se<Y;++se){var ie=N[O+se],ce=ie>>>8,fe=ie,Ne=255&(Ne=(Ne=ie>>>16)+((f.jd<<24>>24)*(ce<<24>>24)>>>5));fe=255&(fe=(fe=fe+((f.hd<<24>>24)*(ce<<24>>24)>>>5))+((f.ud<<24>>24)*(Ne<<24>>24)>>>5)),re[ne+se]=(4278255360&ie)+(Ne<<16)+fe}}function Kt(f,N,O,Y,re){R[N]=function(ne,se,ie,ce,fe,Ne,Oe,Me,Ae){for(ce=Oe;ce<Me;++ce)for(Oe=0;Oe<Ae;++Oe)fe[Ne++]=re(ie[Y(ne[se++])])},R[f]=function(ne,se,ie,ce,fe,Ne,Oe){var Me=8>>ne.b,Ae=ne.Ea,Ze=ne.K[0],Ve=ne.w;if(8>Me)for(ne=(1<<ne.b)-1,Ve=(1<<Me)-1;se<ie;++se){var Se,_e=0;for(Se=0;Se<Ae;++Se)Se&ne||(_e=Y(ce[fe++])),Ne[Oe++]=re(Ze[_e&Ve]),_e>>=Me}else R["VP8LMapColor"+O](ce,fe,Ze,Ve,Ne,Oe,se,ie,Ae)}}function ut(f,N,O,Y,re){for(O=N+O;N<O;){var ne=f[N++];Y[re++]=ne>>16&255,Y[re++]=ne>>8&255,Y[re++]=ne>>0&255}}function Gr(f,N,O,Y,re){for(O=N+O;N<O;){var ne=f[N++];Y[re++]=ne>>16&255,Y[re++]=ne>>8&255,Y[re++]=ne>>0&255,Y[re++]=ne>>24&255}}function Gt(f,N,O,Y,re){for(O=N+O;N<O;){var ne=(se=f[N++])>>16&240|se>>12&15,se=se>>0&240|se>>28&15;Y[re++]=ne,Y[re++]=se}}function mn(f,N,O,Y,re){for(O=N+O;N<O;){var ne=(se=f[N++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;Y[re++]=ne,Y[re++]=se}}function nr(f,N,O,Y,re){for(O=N+O;N<O;){var ne=f[N++];Y[re++]=ne>>0&255,Y[re++]=ne>>8&255,Y[re++]=ne>>16&255}}function Cr(f,N,O,Y,re,ne){if(ne==0)for(O=N+O;N<O;)ve(Y,((ne=f[N++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),re+=32;else n(Y,re,f,N,O)}function ra(f,N){R[N][0]=R[f+"0"],R[N][1]=R[f+"1"],R[N][2]=R[f+"2"],R[N][3]=R[f+"3"],R[N][4]=R[f+"4"],R[N][5]=R[f+"5"],R[N][6]=R[f+"6"],R[N][7]=R[f+"7"],R[N][8]=R[f+"8"],R[N][9]=R[f+"9"],R[N][10]=R[f+"10"],R[N][11]=R[f+"11"],R[N][12]=R[f+"12"],R[N][13]=R[f+"13"],R[N][14]=R[f+"0"],R[N][15]=R[f+"0"]}function sr(f){return f==ug||f==hg||f==Sf||f==fg}function Ns(){this.eb=[],this.size=this.A=this.fb=0}function qr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ns,this.f.kb=new qr,this.sd=null}function mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Dt(f,N){var O=f.T,Y=N.ba.f.RGBA,re=Y.eb,ne=Y.fb+f.ka*Y.A,se=Is[N.ba.S],ie=f.y,ce=f.O,fe=f.f,Ne=f.N,Oe=f.ea,Me=f.W,Ae=N.cc,Ze=N.dc,Ve=N.Mc,Se=N.Nc,_e=f.ka,Xe=f.ka+f.T,nt=f.U,Qe=nt+1>>1;for(_e==0?se(ie,ce,null,null,fe,Ne,Oe,Me,fe,Ne,Oe,Me,re,ne,null,null,nt):(se(N.ec,N.fc,ie,ce,Ae,Ze,Ve,Se,fe,Ne,Oe,Me,re,ne-Y.A,re,ne,nt),++O);_e+2<Xe;_e+=2)Ae=fe,Ze=Ne,Ve=Oe,Se=Me,Ne+=f.Rc,Me+=f.Rc,ne+=2*Y.A,se(ie,(ce+=2*f.fa)-f.fa,ie,ce,Ae,Ze,Ve,Se,fe,Ne,Oe,Me,re,ne-Y.A,re,ne,nt);return ce+=f.fa,f.j+Xe<f.o?(n(N.ec,N.fc,ie,ce,nt),n(N.cc,N.dc,fe,Ne,Qe),n(N.Mc,N.Nc,Oe,Me,Qe),O--):1&Xe||se(ie,ce,null,null,fe,Ne,Oe,Me,fe,Ne,Oe,Me,re,ne+Y.A,null,null,nt),O}function lr(f,N,O){var Y=f.F,re=[f.J];if(Y!=null){var ne=f.U,se=N.ba.S,ie=se==Nf||se==Sf;N=N.ba.f.RGBA;var ce=[0],fe=f.ka;ce[0]=f.T,f.Kb&&(fe==0?--ce[0]:(--fe,re[0]-=f.width),f.j+f.ka+f.T==f.o&&(ce[0]=f.o-f.j-fe));var Ne=N.eb;fe=N.fb+fe*N.A,f=zr(Y,re[0],f.width,ne,ce,Ne,fe+(ie?0:3),N.A),e(O==ce),f&&sr(se)&&Ps(Ne,fe,ie,ne,ce,N.A)}return 0}function cr(f){var N=f.ma,O=N.ba.S,Y=11>O,re=O==kf||O==jf||O==Nf||O==dg||O==12||sr(O);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Es(N.Oa,f,re?11:12))return 0;if(re&&sr(O)&&Ye(),f.da)alert("todo:use_scaling");else{if(Y){if(N.Ib=wt,f.Kb){if(O=f.U+1>>1,N.memory=o(f.U+2*O),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+f.U,N.Mc=N.cc,N.Nc=N.dc+O,N.Ib=Dt,Ye()}}else alert("todo:EmitYUV");re&&(N.Jb=lr,Y&&De())}if(Y&&!Xw){for(f=0;256>f;++f)a_[f]=89858*(f-128)+_f>>Cf,i_[f]=-22014*(f-128)+_f,o_[f]=-45773*(f-128),s_[f]=113618*(f-128)+_f>>Cf;for(f=Cu;f<gg;++f)N=76283*(f-16)+_f>>Cf,l_[f-Cu]=Na(N,255),c_[f-Cu]=Na(N+8>>4,15);Xw=1}return 1}function rn(f){var N=f.ma,O=f.U,Y=f.T;return e(!(1&f.ka)),0>=O||0>=Y?0:(O=N.Ib(f,N),N.Jb!=null&&N.Jb(f,N,O),N.Dc+=O,1)}function Cn(f){f.ma.memory=null}function mt(f,N,O,Y){return G(f,8)!=47?0:(N[0]=G(f,14)+1,O[0]=G(f,14)+1,Y[0]=G(f,1),G(f,3)!=0?0:!f.h)}function Fr(f,N){if(4>f)return f+1;var O=f-2>>1;return(2+(1&f)<<O)+G(N,O)+1}function Lr(f,N){return 120<N?N-120:1<=(O=((O=V6[N-1])>>4)*f+(8-(15&O)))?O:1;var O}function Rr(f,N,O){var Y=J(O),re=f[N+=255&Y].g-8;return 0<re&&(le(O,O.u+8),Y=J(O),N+=f[N].value,N+=Y&(1<<re)-1),le(O,O.u+f[N].g),f[N].value}function Nr(f,N,O){return O.g+=f.g,O.value+=f.value<<N>>>0,e(8>=O.g),f.g}function Tr(f,N,O){var Y=f.xc;return e((N=Y==0?0:f.vc[f.md*(O>>Y)+(N>>Y)])<f.Wb),f.Ya[N]}function Xr(f,N,O,Y){var re=f.ab,ne=f.c*N,se=f.C;N=se+N;var ie=O,ce=Y;for(Y=f.Ta,O=f.Ua;0<re--;){var fe=f.gc[re],Ne=se,Oe=N,Me=ie,Ae=ce,Ze=(ce=Y,ie=O,fe.Ea);switch(e(Ne<Oe),e(Oe<=fe.nc),fe.hc){case 2:qi(Me,Ae,(Oe-Ne)*Ze,ce,ie);break;case 0:var Ve=Ne,Se=Oe,_e=ce,Xe=ie,nt=(pt=fe).Ea;Ve==0&&($i(Me,Ae,null,null,1,_e,Xe),st(Me,Ae+1,0,0,nt-1,_e,Xe+1),Ae+=nt,Xe+=nt,++Ve);for(var Qe=1<<pt.b,gt=Qe-1,ht=rt(nt,pt.b),It=pt.K,pt=pt.w+(Ve>>pt.b)*ht;Ve<Se;){var br=It,_r=pt,fr=1;for(Eo(Me,Ae,_e,Xe-nt,1,_e,Xe);fr<nt;){var or=(fr&~gt)+Qe;or>nt&&(or=nt),(0,Ao[br[_r++]>>8&15])(Me,Ae+ +fr,_e,Xe+fr-nt,or-fr,_e,Xe+fr),fr=or}Ae+=nt,Xe+=nt,++Ve&gt||(pt+=ht)}Oe!=fe.nc&&n(ce,ie-Ze,ce,ie+(Oe-Ne-1)*Ze,Ze);break;case 1:for(Ze=Me,Se=Ae,nt=(Me=fe.Ea)-(Xe=Me&~(_e=(Ae=1<<fe.b)-1)),Ve=rt(Me,fe.b),Qe=fe.K,fe=fe.w+(Ne>>fe.b)*Ve;Ne<Oe;){for(gt=Qe,ht=fe,It=new oe,pt=Se+Xe,br=Se+Me;Se<pt;)Tt(gt[ht++],It),Xs(It,Ze,Se,Ae,ce,ie),Se+=Ae,ie+=Ae;Se<br&&(Tt(gt[ht++],It),Xs(It,Ze,Se,nt,ce,ie),Se+=nt,ie+=nt),++Ne&_e||(fe+=Ve)}break;case 3:if(Me==ce&&Ae==ie&&0<fe.b){for(Se=ce,Me=Ze=ie+(Oe-Ne)*Ze-(Xe=(Oe-Ne)*rt(fe.Ea,fe.b)),Ae=ce,_e=ie,Ve=[],Xe=(nt=Xe)-1;0<=Xe;--Xe)Ve[Xe]=Ae[_e+Xe];for(Xe=nt-1;0<=Xe;--Xe)Se[Me+Xe]=Ve[Xe];Fa(fe,Ne,Oe,ce,Ze,ce,ie)}else Fa(fe,Ne,Oe,Me,Ae,ce,ie)}ie=Y,ce=O}ce!=O&&n(Y,O,ie,ce,ne)}function Ra(f,N){var O=f.V,Y=f.Ba+f.c*f.C,re=N-f.C;if(e(N<=f.l.o),e(16>=re),0<re){var ne=f.l,se=f.Ta,ie=f.Ua,ce=ne.width;if(Xr(f,re,O,Y),re=ie=[ie],e((O=f.C)<(Y=N)),e(ne.v<ne.va),Y>ne.o&&(Y=ne.o),O<ne.j){var fe=ne.j-O;O=ne.j,re[0]+=fe*ce}if(O>=Y?O=0:(re[0]+=4*ne.v,ne.ka=O-ne.j,ne.U=ne.va-ne.v,ne.T=Y-O,O=1),O){if(ie=ie[0],11>(O=f.ca).S){var Ne=O.f.RGBA,Oe=(Y=O.S,re=ne.U,ne=ne.T,fe=Ne.eb,Ne.A),Me=ne;for(Ne=Ne.fb+f.Ma*Ne.A;0<Me--;){var Ae=se,Ze=ie,Ve=re,Se=fe,_e=Ne;switch(Y){case wf:na(Ae,Ze,Ve,Se,_e);break;case kf:he(Ae,Ze,Ve,Se,_e);break;case ug:he(Ae,Ze,Ve,Se,_e),Ps(Se,_e,0,Ve,1,0);break;case Uw:qe(Ae,Ze,Ve,Se,_e);break;case jf:Cr(Ae,Ze,Ve,Se,_e,1);break;case hg:Cr(Ae,Ze,Ve,Se,_e,1),Ps(Se,_e,0,Ve,1,0);break;case Nf:Cr(Ae,Ze,Ve,Se,_e,0);break;case Sf:Cr(Ae,Ze,Ve,Se,_e,0),Ps(Se,_e,1,Ve,1,0);break;case dg:je(Ae,Ze,Ve,Se,_e);break;case fg:je(Ae,Ze,Ve,Se,_e),Ur(Se,_e,Ve,1,0);break;case zw:Ie(Ae,Ze,Ve,Se,_e);break;default:e(0)}ie+=ce,Ne+=Oe}f.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=O.height)}}f.C=N,e(f.C<=f.i)}function ca(f){var N;if(0<f.ua)return 0;for(N=0;N<f.Wb;++N){var O=f.Ya[N].G,Y=f.Ya[N].H;if(0<O[1][Y[1]+0].g||0<O[2][Y[2]+0].g||0<O[3][Y[3]+0].g)return 0}return 1}function es(f,N,O,Y,re,ne){if(f.Z!=0){var se=f.qd,ie=f.rd;for(e(Hi[f.Z]!=null);N<O;++N)Hi[f.Z](se,ie,Y,re,Y,re,ne),se=Y,ie=re,re+=ne;f.qd=se,f.rd=ie}}function ts(f,N){var O=f.l.ma,Y=O.Z==0||O.Z==1?f.l.j:f.C;if(Y=f.C<Y?Y:f.C,e(N<=f.l.o),N>Y){var re=f.l.width,ne=O.ca,se=O.tb+re*Y,ie=f.V,ce=f.Ba+f.c*Y,fe=f.gc;e(f.ab==1),e(fe[0].hc==3),Ui(fe[0],Y,N,ie,ce,ne,se),es(O,Y,N,ne,se,re)}f.C=f.Ma=N}function Ta(f,N,O,Y,re,ne,se){var ie=f.$/Y,ce=f.$%Y,fe=f.m,Ne=f.s,Oe=O+f.$,Me=Oe;re=O+Y*re;var Ae=O+Y*ne,Ze=280+Ne.ua,Ve=f.Pb?ie:16777216,Se=0<Ne.ua?Ne.Wa:null,_e=Ne.wc,Xe=Oe<Ae?Tr(Ne,ce,ie):null;e(f.C<ne),e(Ae<=re);var nt=!1;e:for(;;){for(;nt||Oe<Ae;){var Qe=0;if(ie>=Ve){var gt=Oe-O;e((Ve=f).Pb),Ve.wd=Ve.m,Ve.xd=gt,0<Ve.s.ua&&Fe(Ve.s.Wa,Ve.s.vb),Ve=ie+W6}if(ce&_e||(Xe=Tr(Ne,ce,ie)),e(Xe!=null),Xe.Qb&&(N[Oe]=Xe.qb,nt=!0),!nt)if(ue(fe),Xe.jc){Qe=fe,gt=N;var ht=Oe,It=Xe.pd[J(Qe)&En-1];e(Xe.jc),256>It.g?(le(Qe,Qe.u+It.g),gt[ht]=It.value,Qe=0):(le(Qe,Qe.u+It.g-256),e(256<=It.value),Qe=It.value),Qe==0&&(nt=!0)}else Qe=Rr(Xe.G[0],Xe.H[0],fe);if(fe.h)break;if(nt||256>Qe){if(!nt)if(Xe.nd)N[Oe]=(Xe.qb|Qe<<8)>>>0;else{if(ue(fe),nt=Rr(Xe.G[1],Xe.H[1],fe),ue(fe),gt=Rr(Xe.G[2],Xe.H[2],fe),ht=Rr(Xe.G[3],Xe.H[3],fe),fe.h)break;N[Oe]=(ht<<24|nt<<16|Qe<<8|gt)>>>0}if(nt=!1,++Oe,++ce>=Y&&(ce=0,++ie,se!=null&&ie<=ne&&!(ie%16)&&se(f,ie),Se!=null))for(;Me<Oe;)Qe=N[Me++],Se.X[(506832829*Qe&4294967295)>>>Se.Mb]=Qe}else if(280>Qe){if(Qe=Fr(Qe-256,fe),gt=Rr(Xe.G[4],Xe.H[4],fe),ue(fe),gt=Lr(Y,gt=Fr(gt,fe)),fe.h)break;if(Oe-O<gt||re-Oe<Qe)break e;for(ht=0;ht<Qe;++ht)N[Oe+ht]=N[Oe+ht-gt];for(Oe+=Qe,ce+=Qe;ce>=Y;)ce-=Y,++ie,se!=null&&ie<=ne&&!(ie%16)&&se(f,ie);if(e(Oe<=re),ce&_e&&(Xe=Tr(Ne,ce,ie)),Se!=null)for(;Me<Oe;)Qe=N[Me++],Se.X[(506832829*Qe&4294967295)>>>Se.Mb]=Qe}else{if(!(Qe<Ze))break e;for(nt=Qe-280,e(Se!=null);Me<Oe;)Qe=N[Me++],Se.X[(506832829*Qe&4294967295)>>>Se.Mb]=Qe;Qe=Oe,e(!(nt>>>(gt=Se).Xa)),N[Qe]=gt.X[nt],nt=!0}nt||e(fe.h==ee(fe))}if(f.Pb&&fe.h&&Oe<re)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Fe(f.s.vb,f.s.Wa);else{if(fe.h)break e;se!=null&&se(f,ie>ne?ne:ie),f.a=0,f.$=Oe-O}return 1}return f.a=3,0}function Ss(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var N=f.Wa;N!=null&&(N.X=null),f.vb=null,e(f!=null)}function Tn(){var f=new Be;return f==null?null:(f.a=0,f.xb=Ww,ra("Predictor","VP8LPredictors"),ra("Predictor","VP8LPredictors_C"),ra("PredictorAdd","VP8LPredictorsAdd"),ra("PredictorAdd","VP8LPredictorsAdd_C"),qi=Nt,Xs=St,na=ut,he=Gr,je=Gt,Ie=mn,qe=nr,R.VP8LMapColor32b=Ys,R.VP8LMapColor8b=zi,f)}function rs(f,N,O,Y,re){var ne=1,se=[f],ie=[N],ce=Y.m,fe=Y.s,Ne=null,Oe=0;e:for(;;){if(O)for(;ne&&G(ce,1);){var Me=se,Ae=ie,Ze=Y,Ve=1,Se=Ze.m,_e=Ze.gc[Ze.ab],Xe=G(Se,2);if(Ze.Oc&1<<Xe)ne=0;else{switch(Ze.Oc|=1<<Xe,_e.hc=Xe,_e.Ea=Me[0],_e.nc=Ae[0],_e.K=[null],++Ze.ab,e(4>=Ze.ab),Xe){case 0:case 1:_e.b=G(Se,3)+2,Ve=rs(rt(_e.Ea,_e.b),rt(_e.nc,_e.b),0,Ze,_e.K),_e.K=_e.K[0];break;case 3:var nt,Qe=G(Se,8)+1,gt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(Me[0]=rt(_e.Ea,gt),_e.b=gt,nt=Ve=rs(Qe,1,0,Ze,_e.K)){var ht,It=Qe,pt=_e,br=1<<(8>>pt.b),_r=o(br);if(_r==null)nt=0;else{var fr=pt.K[0],or=pt.w;for(_r[0]=pt.K[0][0],ht=1;ht<1*It;++ht)_r[ht]=Je(fr[or+ht],_r[ht-1]);for(;ht<4*br;++ht)_r[ht]=0;pt.K[0]=null,pt.K[0]=_r,nt=1}}Ve=nt;break;case 2:break;default:e(0)}ne=Ve}}if(se=se[0],ie=ie[0],ne&&G(ce,1)&&!(ne=1<=(Oe=G(ce,4))&&11>=Oe)){Y.a=3;break e}var Br;if(Br=ne)t:{var Mr,Xt,Pn,Ba=Y,Dn=se,$a=ie,Er=Oe,is=O,ls=Ba.m,Wn=Ba.s,aa=[null],_a=1,Ls=0,Po=H6[Er];r:for(;;){if(is&&G(ls,1)){var Gn=G(ls,3)+2,oi=rt(Dn,Gn),Gl=rt($a,Gn),zc=oi*Gl;if(!rs(oi,Gl,0,Ba,aa))break r;for(aa=aa[0],Wn.xc=Gn,Mr=0;Mr<zc;++Mr){var Wi=aa[Mr]>>8&65535;aa[Mr]=Wi,Wi>=_a&&(_a=Wi+1)}}if(ls.h)break r;for(Xt=0;5>Xt;++Xt){var dn=Vw[Xt];!Xt&&0<Er&&(dn+=1<<Er),Ls<dn&&(Ls=dn)}var yg=i(_a*Po,k),e2=_a,t2=i(e2,C);if(t2==null)var Af=null;else e(65536>=e2),Af=t2;var _u=o(Ls);if(Af==null||_u==null||yg==null){Ba.a=1;break r}var Pf=yg;for(Mr=Pn=0;Mr<_a;++Mr){var Zs=Af[Mr],Vc=Zs.G,Hc=Zs.H,r2=0,Df=1,n2=0;for(Xt=0;5>Xt;++Xt){dn=Vw[Xt],Vc[Xt]=Pf,Hc[Xt]=Pn,!Xt&&0<Er&&(dn+=1<<Er);a:{var If,xg=dn,Lf=Ba,Eu=_u,h_=Pf,f_=Pn,bg=0,Gi=Lf.m,p_=G(Gi,1);if(a(Eu,0,0,xg),p_){var m_=G(Gi,1)+1,g_=G(Gi,1),a2=G(Gi,g_==0?1:8);Eu[a2]=1,m_==2&&(Eu[a2=G(Gi,8)]=1);var Rf=1}else{var s2=o(19),o2=G(Gi,4)+4;if(19<o2){Lf.a=3;var Tf=0;break a}for(If=0;If<o2;++If)s2[z6[If]]=G(Gi,3);var vg=void 0,Au=void 0,i2=Lf,y_=s2,Of=xg,l2=Eu,wg=0,Ji=i2.m,c2=8,d2=i(128,k);n:for(;x(d2,0,7,y_,19);){if(G(Ji,1)){var x_=2+2*G(Ji,3);if((vg=2+G(Ji,x_))>Of)break n}else vg=Of;for(Au=0;Au<Of&&vg--;){ue(Ji);var u2=d2[0+(127&J(Ji))];le(Ji,Ji.u+u2.g);var Wc=u2.value;if(16>Wc)l2[Au++]=Wc,Wc!=0&&(c2=Wc);else{var b_=Wc==16,h2=Wc-16,v_=q6[h2],f2=G(Ji,$6[h2])+v_;if(Au+f2>Of)break n;for(var w_=b_?c2:0;0<f2--;)l2[Au++]=w_}}wg=1;break n}wg||(i2.a=3),Rf=wg}(Rf=Rf&&!Gi.h)&&(bg=x(h_,f_,8,Eu,xg)),Rf&&bg!=0?Tf=bg:(Lf.a=3,Tf=0)}if(Tf==0)break r;if(Df&&U6[Xt]==1&&(Df=Pf[Pn].g==0),r2+=Pf[Pn].g,Pn+=Tf,3>=Xt){var Pu,kg=_u[0];for(Pu=1;Pu<dn;++Pu)_u[Pu]>kg&&(kg=_u[Pu]);n2+=kg}}if(Zs.nd=Df,Zs.Qb=0,Df&&(Zs.qb=(Vc[3][Hc[3]+0].value<<24|Vc[1][Hc[1]+0].value<<16|Vc[2][Hc[2]+0].value)>>>0,r2==0&&256>Vc[0][Hc[0]+0].value&&(Zs.Qb=1,Zs.qb+=Vc[0][Hc[0]+0].value<<8)),Zs.jc=!Zs.Qb&&6>n2,Zs.jc){var Mf,ii=Zs;for(Mf=0;Mf<En;++Mf){var Ki=Mf,Yi=ii.pd[Ki],Ff=ii.G[0][ii.H[0]+Ki];256<=Ff.value?(Yi.g=Ff.g+256,Yi.value=Ff.value):(Yi.g=0,Yi.value=0,Ki>>=Nr(Ff,8,Yi),Ki>>=Nr(ii.G[1][ii.H[1]+Ki],16,Yi),Ki>>=Nr(ii.G[2][ii.H[2]+Ki],0,Yi),Nr(ii.G[3][ii.H[3]+Ki],24,Yi))}}}Wn.vc=aa,Wn.Wb=_a,Wn.Ya=Af,Wn.yc=yg,Br=1;break t}Br=0}if(!(ne=Br)){Y.a=3;break e}if(0<Oe){if(fe.ua=1<<Oe,!ct(fe.Wa,Oe)){Y.a=1,ne=0;break e}}else fe.ua=0;var jg=Y,p2=se,k_=ie,Ng=jg.s,Sg=Ng.xc;if(jg.c=p2,jg.i=k_,Ng.md=rt(p2,Sg),Ng.wc=Sg==0?-1:(1<<Sg)-1,O){Y.xb=Z6;break e}if((Ne=o(se*ie))==null){Y.a=1,ne=0;break e}ne=(ne=Ta(Y,Ne,0,se,ie,ie,null))&&!ce.h;break e}return ne?(re!=null?re[0]=Ne:(e(Ne==null),e(O)),Y.$=0,O||Ss(fe)):Ss(fe),ne}function Us(f,N){var O=f.c*f.i,Y=O+N+16*N;return e(f.c<=N),f.V=o(Y),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+O+N,1)}function bo(f,N){var O=f.C,Y=N-O,re=f.V,ne=f.Ba+f.c*O;for(e(N<=f.l.o);0<Y;){var se=16<Y?16:Y,ie=f.l.ma,ce=f.l.width,fe=ce*se,Ne=ie.ca,Oe=ie.tb+ce*O,Me=f.Ta,Ae=f.Ua;Xr(f,se,re,ne),xn(Me,Ae,Ne,Oe,fe),es(ie,O,O+se,Ne,Oe,ce),Y-=se,re+=se*f.c,O+=se}e(O==N),f.C=f.Ma=N}function zs(){this.ub=this.yd=this.td=this.Rb=0}function Xo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ii(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function vo(){this.Yb=function(){var f=[];return function N(O,Y,re){for(var ne=re[Y],se=0;se<ne&&(O.push(re.length>Y+1?[]:0),!(re.length<Y+1));se++)N(O[se],Y+1,re)}(f,0,[3,11]),f}()}function Ec(){this.jb=o(3),this.Wc=l([4,8],vo),this.Xc=l([4,17],vo)}function Ac(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Qo(){this.ld=this.La=this.dd=this.tc=0}function Bl(){this.Na=this.la=0}function fu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function pu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qo),this.Y=0,this.ya=Array(new Zo),this.aa=0,this.l=new ei}function Pc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Dc(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new zs,this.Kc=new Xo,this.ed=new Ac,this.Qa=new Ii,this.Ic=this.$c=this.Aa=0,this.D=new pu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,X),this.ia=0,this.pb=i(4,fu),this.Pa=new Ec,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pc),this.Hd=0,this.rb=Array(new Bl),this.sb=0,this.wa=Array(new Qo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zo),this.L=this.aa=0,this.gd=l([4,2],Qo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $l(){var f=new Dc;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Su||(Su=ti)),f}function Qr(f,N,O){return f.a==0&&(f.a=N,f.sc=O,f.cb=0),0}function On(f,N,O){return 3<=O&&f[N+0]==157&&f[N+1]==1&&f[N+2]==42}function Vs(f,N){if(f==null)return 0;if(f.a=0,f.sc="OK",N==null)return Qr(f,2,"null VP8Io passed to VP8GetHeaders()");var O=N.data,Y=N.w,re=N.ha;if(4>re)return Qr(f,7,"Truncated header.");var ne=O[Y+0]|O[Y+1]<<8|O[Y+2]<<16,se=f.Od;if(se.Rb=!(1&ne),se.td=ne>>1&7,se.yd=ne>>4&1,se.ub=ne>>5,3<se.td)return Qr(f,3,"Incorrect keyframe parameters.");if(!se.yd)return Qr(f,4,"Frame not displayable.");Y+=3,re-=3;var ie=f.Kc;if(se.Rb){if(7>re)return Qr(f,7,"cannot parse picture header");if(!On(O,Y,re))return Qr(f,3,"Bad code word");ie.c=16383&(O[Y+4]<<8|O[Y+3]),ie.Td=O[Y+4]>>6,ie.i=16383&(O[Y+6]<<8|O[Y+5]),ie.Ud=O[Y+6]>>6,Y+=7,re-=7,f.za=ie.c+15>>4,f.Ub=ie.i+15>>4,N.width=ie.c,N.height=ie.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((ne=f.Pa).jb,0,255,ne.jb.length),e((ne=f.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,a(ne.Zb,0,0,ne.Zb.length),a(ne.Lb,0,0,ne.Lb)}if(se.ub>re)return Qr(f,7,"bad partition length");z(ne=f.m,O,Y,se.ub),Y+=se.ub,re-=se.ub,se.Rb&&(ie.Ld=be(ne),ie.Kd=be(ne)),ie=f.Qa;var ce,fe=f.Pa;if(e(ne!=null),e(ie!=null),ie.Cb=be(ne),ie.Cb){if(ie.Bb=be(ne),be(ne)){for(ie.Fb=be(ne),ce=0;4>ce;++ce)ie.Zb[ce]=be(ne)?K(ne,7):0;for(ce=0;4>ce;++ce)ie.Lb[ce]=be(ne)?K(ne,6):0}if(ie.Bb)for(ce=0;3>ce;++ce)fe.jb[ce]=be(ne)?V(ne,8):255}else ie.Bb=0;if(ne.Ka)return Qr(f,3,"cannot parse segment header");if((ie=f.ed).zd=be(ne),ie.Tb=V(ne,6),ie.wb=V(ne,3),ie.Pc=be(ne),ie.Pc&&be(ne)){for(fe=0;4>fe;++fe)be(ne)&&(ie.vd[fe]=K(ne,6));for(fe=0;4>fe;++fe)be(ne)&&(ie.od[fe]=K(ne,6))}if(f.L=ie.Tb==0?0:ie.zd?1:2,ne.Ka)return Qr(f,3,"cannot parse filter header");var Ne=re;if(re=ce=Y,Y=ce+Ne,ie=Ne,f.Xb=(1<<V(f.m,2))-1,Ne<3*(fe=f.Xb))O=7;else{for(ce+=3*fe,ie-=3*fe,Ne=0;Ne<fe;++Ne){var Oe=O[re+0]|O[re+1]<<8|O[re+2]<<16;Oe>ie&&(Oe=ie),z(f.Jc[+Ne],O,ce,Oe),ce+=Oe,ie-=Oe,re+=3}z(f.Jc[+fe],O,ce,ie),O=ce<Y?0:5}if(O!=0)return Qr(f,O,"cannot parse partitions");for(O=V(ce=f.m,7),re=be(ce)?K(ce,4):0,Y=be(ce)?K(ce,4):0,ie=be(ce)?K(ce,4):0,fe=be(ce)?K(ce,4):0,ce=be(ce)?K(ce,4):0,Ne=f.Qa,Oe=0;4>Oe;++Oe){if(Ne.Cb){var Me=Ne.Zb[Oe];Ne.Fb||(Me+=O)}else{if(0<Oe){f.pb[Oe]=f.pb[0];continue}Me=O}var Ae=f.pb[Oe];Ae.Sc[0]=pg[Na(Me+re,127)],Ae.Sc[1]=mg[Na(Me+0,127)],Ae.Eb[0]=2*pg[Na(Me+Y,127)],Ae.Eb[1]=101581*mg[Na(Me+ie,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=pg[Na(Me+fe,117)],Ae.Qc[1]=mg[Na(Me+ce,127)],Ae.lc=Me+ce}if(!se.Rb)return Qr(f,4,"Not a key frame.");for(be(ne),se=f.Pa,O=0;4>O;++O){for(re=0;8>re;++re)for(Y=0;3>Y;++Y)for(ie=0;11>ie;++ie)fe=me(ne,X6[O][re][Y][ie])?V(ne,8):K6[O][re][Y][ie],se.Wc[O][re].Yb[Y][ie]=fe;for(re=0;17>re;++re)se.Xc[O][re]=se.Wc[O][Q6[re]]}return f.kc=be(ne),f.kc&&(f.Bd=V(ne,8)),f.cb=1}function ti(f,N,O,Y,re,ne,se){var ie=N[re].Yb[O];for(O=0;16>re;++re){if(!me(f,ie[O+0]))return re;for(;!me(f,ie[O+1]);)if(ie=N[++re].Yb[0],O=0,re==16)return 16;var ce=N[re+1].Yb;if(me(f,ie[O+2])){var fe=f,Ne=0;if(me(fe,(Me=ie)[(Oe=O)+3]))if(me(fe,Me[Oe+6])){for(ie=0,Oe=2*(Ne=me(fe,Me[Oe+8]))+(Me=me(fe,Me[Oe+9+Ne])),Ne=0,Me=G6[Oe];Me[ie];++ie)Ne+=Ne+me(fe,Me[ie]);Ne+=3+(8<<Oe)}else me(fe,Me[Oe+7])?(Ne=7+2*me(fe,165),Ne+=me(fe,145)):Ne=5+me(fe,159);else Ne=me(fe,Me[Oe+4])?3+me(fe,Me[Oe+5]):2;ie=ce[2]}else Ne=1,ie=ce[1];ce=se+J6[re],0>(fe=f).b&&de(fe);var Oe,Me=fe.b,Ae=(Oe=fe.Ca>>1)-(fe.I>>Me)>>31;--fe.b,fe.Ca+=Ae,fe.Ca|=1,fe.I-=(Oe+1&Ae)<<Me,ne[ce]=((Ne^Ae)-Ae)*Y[(0<re)+0]}return 16}function ql(f){var N=f.rb[f.sb-1];N.la=0,N.Na=0,a(f.zc,0,0,f.zc.length),f.ja=0}function mu(f,N){if(f==null)return 0;if(N==null)return Qr(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Vs(f,N))return 0;if(e(f.cb),N.ac==null||N.ac(N)){N.ob&&(f.L=0);var O=Ef[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=N.v-O>>4,f.zb=N.j-O>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=N.o+15+O>>4,f.Hb=N.va+15+O>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var Y=f.ed;for(O=0;4>O;++O){var re;if(f.Qa.Cb){var ne=f.Qa.Lb[O];f.Qa.Fb||(ne+=Y.Tb)}else ne=Y.Tb;for(re=0;1>=re;++re){var se=f.gd[O][re],ie=ne;if(Y.Pc&&(ie+=Y.vd[0],re&&(ie+=Y.od[0])),0<(ie=0>ie?0:63<ie?63:ie)){var ce=ie;0<Y.wb&&(ce=4<Y.wb?ce>>2:ce>>1)>9-Y.wb&&(ce=9-Y.wb),1>ce&&(ce=1),se.dd=ce,se.tc=2*ie+ce,se.ld=40<=ie?2:15<=ie?1:0}else se.tc=0;se.La=re}}}O=0}else Qr(f,6,"Frame setup failed"),O=f.a;if(O=O==0){if(O){f.$c=0,0<f.Aa||(f.Ic=u_);e:{O=f.Ic,Y=4*(ce=f.za);var fe=32*ce,Ne=ce+1,Oe=0<f.L?ce*(0<f.Aa?2:1):0,Me=(f.Aa==2?2:1)*ce;if((se=Y+832+(re=3*(16*O+Ef[f.L])/2*fe)+(ne=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=se)O=0;else{if(se>f.Vb){if(f.Vb=0,f.Ec=o(se),f.Fc=0,f.Ec==null){O=Qr(f,1,"no memory during frame initialization.");break e}f.Vb=se}se=f.Ec,ie=f.Fc,f.Ac=se,f.Bc=ie,ie+=Y,f.Gd=i(fe,Pc),f.Hd=0,f.rb=i(Ne+1,Bl),f.sb=1,f.wa=Oe?i(Oe,Qo):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=ce),e(!0),f.oc=se,f.pc=ie,ie+=832,f.ya=i(Me,Zo),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=ce),f.R=16*ce,f.B=8*ce,ce=(fe=Ef[f.L])*f.R,fe=fe/2*f.B,f.sa=se,f.ta=ie+ce,f.qa=f.sa,f.ra=f.ta+16*O*f.R+fe,f.Ha=f.qa,f.Ia=f.ra+8*O*f.B+fe,f.$c=0,ie+=re,f.mb=ne?se:null,f.nb=ne?ie:null,e(ie+ne<=f.Fc+f.Vb),ql(f),a(f.Ac,f.Bc,0,Y),O=1}}if(O){if(N.ka=0,N.y=f.sa,N.O=f.ta,N.f=f.qa,N.N=f.ra,N.ea=f.Ha,N.Vd=f.Ia,N.fa=f.R,N.Rc=f.B,N.F=null,N.J=0,!bf){for(O=-255;255>=O;++O)$n[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)ai[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)Nu[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)Uc[255+O]=0>O?0:255<O?255:O;bf=1}Ge=yu,ot=gu,xt=da,dt=Lc,Mt=wo,it=Ic,Ct=m,Ft=S,Yt=Q,kt=Z,ur=F,an=H,Zr=ae,Bn=we,Hn=No,Ca=ns,yn=as,As=ju,Qs[0]=Oa,Qs[1]=Hs,Qs[2]=xu,Qs[3]=bu,Qs[4]=Oc,Qs[5]=Ti,Qs[6]=Mc,Qs[7]=Vl,Qs[8]=wu,Qs[9]=vu,Vi[0]=Ri,Vi[1]=zl,Vi[2]=Gs,Vi[3]=Cs,Vi[4]=Fn,Vi[5]=Rc,Vi[6]=Tc,si[0]=Ks,si[1]=Ws,si[2]=ku,si[3]=Oi,si[4]=ko,si[5]=Hl,si[6]=Mi,O=1}else O=0}O&&(O=function(Ae,Ze){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Ve,Se=Ae.Jc[Ae.M&Ae.Xb],_e=Ae.m,Xe=Ae;for(Ve=0;Ve<Xe.za;++Ve){var nt=_e,Qe=Xe,gt=Qe.Ac,ht=Qe.Bc+4*Ve,It=Qe.zc,pt=Qe.ya[Qe.aa+Ve];if(Qe.Qa.Bb?pt.$b=me(nt,Qe.Pa.jb[0])?2+me(nt,Qe.Pa.jb[2]):me(nt,Qe.Pa.jb[1]):pt.$b=0,Qe.kc&&(pt.Ad=me(nt,Qe.Bd)),pt.Za=!me(nt,145)+0,pt.Za){var br=pt.Ob,_r=0;for(Qe=0;4>Qe;++Qe){var fr,or=It[0+Qe];for(fr=0;4>fr;++fr){or=Y6[gt[ht+fr]][or];for(var Br=Hw[me(nt,or[0])];0<Br;)Br=Hw[2*Br+me(nt,or[Br])];or=-Br,gt[ht+fr]=or}n(br,_r,gt,ht,4),_r+=4,It[0+Qe]=or}}else or=me(nt,156)?me(nt,128)?1:3:me(nt,163)?2:0,pt.Ob[0]=or,a(gt,ht,or,4),a(It,0,or,4);pt.Dd=me(nt,142)?me(nt,114)?me(nt,183)?1:3:2:0}if(Xe.m.Ka)return Qr(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(Xe=Se,nt=(_e=Ae).rb[_e.sb-1],gt=_e.rb[_e.sb+_e.ja],Ve=_e.ya[_e.aa+_e.ja],ht=_e.kc?Ve.Ad:0)nt.la=gt.la=0,Ve.Za||(nt.Na=gt.Na=0),Ve.Hc=0,Ve.Gc=0,Ve.ia=0;else{var Mr,Xt;if(nt=gt,gt=Xe,ht=_e.Pa.Xc,It=_e.ya[_e.aa+_e.ja],pt=_e.pb[It.$b],Qe=It.ad,br=0,_r=_e.rb[_e.sb-1],or=fr=0,a(Qe,br,0,384),It.Za)var Pn=0,Ba=ht[3];else{Br=o(16);var Dn=nt.Na+_r.Na;if(Dn=Su(gt,ht[1],Dn,pt.Eb,0,Br,0),nt.Na=_r.Na=(0<Dn)+0,1<Dn)Ge(Br,0,Qe,br);else{var $a=Br[0]+3>>3;for(Br=0;256>Br;Br+=16)Qe[br+Br]=$a}Pn=1,Ba=ht[0]}var Er=15&nt.la,is=15&_r.la;for(Br=0;4>Br;++Br){var ls=1&is;for($a=Xt=0;4>$a;++$a)Er=Er>>1|(ls=(Dn=Su(gt,Ba,Dn=ls+(1&Er),pt.Sc,Pn,Qe,br))>Pn)<<7,Xt=Xt<<2|(3<Dn?3:1<Dn?2:Qe[br+0]!=0),br+=16;Er>>=4,is=is>>1|ls<<7,fr=(fr<<8|Xt)>>>0}for(Ba=Er,Pn=is>>4,Mr=0;4>Mr;Mr+=2){for(Xt=0,Er=nt.la>>4+Mr,is=_r.la>>4+Mr,Br=0;2>Br;++Br){for(ls=1&is,$a=0;2>$a;++$a)Dn=ls+(1&Er),Er=Er>>1|(ls=0<(Dn=Su(gt,ht[2],Dn,pt.Qc,0,Qe,br)))<<3,Xt=Xt<<2|(3<Dn?3:1<Dn?2:Qe[br+0]!=0),br+=16;Er>>=2,is=is>>1|ls<<5}or|=Xt<<4*Mr,Ba|=Er<<4<<Mr,Pn|=(240&is)<<Mr}nt.la=Ba,_r.la=Pn,It.Hc=fr,It.Gc=or,It.ia=43690&or?0:pt.ia,ht=!(fr|or)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Ve.$b][Ve.Za],_e.wa[_e.Y+_e.ja].La|=!ht),Xe.Ka)return Qr(Ae,7,"Premature end-of-file encountered.")}if(ql(Ae),_e=Ze,Xe=1,Ve=(Se=Ae).D,nt=0<Se.L&&Se.M>=Se.zb&&Se.M<=Se.Va,Se.Aa==0)e:{if(Ve.M=Se.M,Ve.uc=nt,Co(Se,Ve),Xe=1,Ve=(Xt=Se.D).Nb,nt=(or=Ef[Se.L])*Se.R,gt=or/2*Se.B,Br=16*Ve*Se.R,$a=8*Ve*Se.B,ht=Se.sa,It=Se.ta-nt+Br,pt=Se.qa,Qe=Se.ra-gt+$a,br=Se.Ha,_r=Se.Ia-gt+$a,is=(Er=Xt.M)==0,fr=Er>=Se.Va-1,Se.Aa==2&&Co(Se,Xt),Xt.uc)for(ls=(Dn=Se).D.M,e(Dn.D.uc),Xt=Dn.yb;Xt<Dn.Hb;++Xt){Pn=Xt,Ba=ls;var Wn=(aa=(dn=Dn).D).Nb;Mr=dn.R;var aa=aa.wa[aa.Y+Pn],_a=dn.sa,Ls=dn.ta+16*Wn*Mr+16*Pn,Po=aa.dd,Gn=aa.tc;if(Gn!=0)if(e(3<=Gn),dn.L==1)0<Pn&&Ca(_a,Ls,Mr,Gn+4),aa.La&&As(_a,Ls,Mr,Gn),0<Ba&&Hn(_a,Ls,Mr,Gn+4),aa.La&&yn(_a,Ls,Mr,Gn);else{var oi=dn.B,Gl=dn.qa,zc=dn.ra+8*Wn*oi+8*Pn,Wi=dn.Ha,dn=dn.Ia+8*Wn*oi+8*Pn;Wn=aa.ld,0<Pn&&(Ft(_a,Ls,Mr,Gn+4,Po,Wn),kt(Gl,zc,Wi,dn,oi,Gn+4,Po,Wn)),aa.La&&(an(_a,Ls,Mr,Gn,Po,Wn),Bn(Gl,zc,Wi,dn,oi,Gn,Po,Wn)),0<Ba&&(Ct(_a,Ls,Mr,Gn+4,Po,Wn),Yt(Gl,zc,Wi,dn,oi,Gn+4,Po,Wn)),aa.La&&(ur(_a,Ls,Mr,Gn,Po,Wn),Zr(Gl,zc,Wi,dn,oi,Gn,Po,Wn))}}if(Se.ia&&alert("todo:DitherRow"),_e.put!=null){if(Xt=16*Er,Er=16*(Er+1),is?(_e.y=Se.sa,_e.O=Se.ta+Br,_e.f=Se.qa,_e.N=Se.ra+$a,_e.ea=Se.Ha,_e.W=Se.Ia+$a):(Xt-=or,_e.y=ht,_e.O=It,_e.f=pt,_e.N=Qe,_e.ea=br,_e.W=_r),fr||(Er-=or),Er>_e.o&&(Er=_e.o),_e.F=null,_e.J=null,Se.Fa!=null&&0<Se.Fa.length&&Xt<Er&&(_e.J=nn(Se,_e,Xt,Er-Xt),_e.F=Se.mb,_e.F==null&&_e.F.length==0)){Xe=Qr(Se,3,"Could not decode alpha data.");break e}Xt<_e.j&&(or=_e.j-Xt,Xt=_e.j,e(!(1&or)),_e.O+=Se.R*or,_e.N+=Se.B*(or>>1),_e.W+=Se.B*(or>>1),_e.F!=null&&(_e.J+=_e.width*or)),Xt<Er&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Xt-_e.j,_e.U=_e.va-_e.v,_e.T=Er-Xt,Xe=_e.put(_e))}Ve+1!=Se.Ic||fr||(n(Se.sa,Se.ta-nt,ht,It+16*Se.R,nt),n(Se.qa,Se.ra-gt,pt,Qe+8*Se.B,gt),n(Se.Ha,Se.Ia-gt,br,_r+8*Se.B,gt))}if(!Xe)return Qr(Ae,6,"Output aborted.")}return 1}(f,N)),N.bc!=null&&N.bc(N),O&=1}return O?(f.cb=0,O):0}function ja(f,N,O,Y,re){re=f[N+O+32*Y]+(re>>3),f[N+O+32*Y]=-256&re?0>re?0:255:re}function ri(f,N,O,Y,re,ne){ja(f,N,0,O,Y+re),ja(f,N,1,O,Y+ne),ja(f,N,2,O,Y-ne),ja(f,N,3,O,Y-re)}function Mn(f){return(20091*f>>16)+f}function Li(f,N,O,Y){var re,ne=0,se=o(16);for(re=0;4>re;++re){var ie=f[N+0]+f[N+8],ce=f[N+0]-f[N+8],fe=(35468*f[N+4]>>16)-Mn(f[N+12]),Ne=Mn(f[N+4])+(35468*f[N+12]>>16);se[ne+0]=ie+Ne,se[ne+1]=ce+fe,se[ne+2]=ce-fe,se[ne+3]=ie-Ne,ne+=4,N++}for(re=ne=0;4>re;++re)ie=(f=se[ne+0]+4)+se[ne+8],ce=f-se[ne+8],fe=(35468*se[ne+4]>>16)-Mn(se[ne+12]),ja(O,Y,0,0,ie+(Ne=Mn(se[ne+4])+(35468*se[ne+12]>>16))),ja(O,Y,1,0,ce+fe),ja(O,Y,2,0,ce-fe),ja(O,Y,3,0,ie-Ne),ne++,Y+=32}function Ic(f,N,O,Y){var re=f[N+0]+4,ne=35468*f[N+4]>>16,se=Mn(f[N+4]),ie=35468*f[N+1]>>16;ri(O,Y,0,re+se,f=Mn(f[N+1]),ie),ri(O,Y,1,re+ne,f,ie),ri(O,Y,2,re-ne,f,ie),ri(O,Y,3,re-se,f,ie)}function gu(f,N,O,Y,re){Li(f,N,O,Y),re&&Li(f,N+16,O,Y+4)}function da(f,N,O,Y){ot(f,N+0,O,Y,1),ot(f,N+32,O,Y+128,1)}function Lc(f,N,O,Y){var re;for(f=f[N+0]+4,re=0;4>re;++re)for(N=0;4>N;++N)ja(O,Y,N,re,f)}function wo(f,N,O,Y){f[N+0]&&dt(f,N+0,O,Y),f[N+16]&&dt(f,N+16,O,Y+4),f[N+32]&&dt(f,N+32,O,Y+128),f[N+48]&&dt(f,N+48,O,Y+128+4)}function yu(f,N,O,Y){var re,ne=o(16);for(re=0;4>re;++re){var se=f[N+0+re]+f[N+12+re],ie=f[N+4+re]+f[N+8+re],ce=f[N+4+re]-f[N+8+re],fe=f[N+0+re]-f[N+12+re];ne[0+re]=se+ie,ne[8+re]=se-ie,ne[4+re]=fe+ce,ne[12+re]=fe-ce}for(re=0;4>re;++re)se=(f=ne[0+4*re]+3)+ne[3+4*re],ie=ne[1+4*re]+ne[2+4*re],ce=ne[1+4*re]-ne[2+4*re],fe=f-ne[3+4*re],O[Y+0]=se+ie>>3,O[Y+16]=fe+ce>>3,O[Y+32]=se-ie>>3,O[Y+48]=fe-ce>>3,Y+=64}function Ul(f,N,O){var Y,re=N-32,ne=os,se=255-f[re-1];for(Y=0;Y<O;++Y){var ie,ce=ne,fe=se+f[N-1];for(ie=0;ie<O;++ie)f[N+ie]=ce[fe+f[re+ie]];N+=32}}function Hs(f,N){Ul(f,N,4)}function Ws(f,N){Ul(f,N,8)}function zl(f,N){Ul(f,N,16)}function Gs(f,N){var O;for(O=0;16>O;++O)n(f,N+32*O,f,N-32,16)}function Cs(f,N){var O;for(O=16;0<O;--O)a(f,N,f[N-1],16),N+=32}function ni(f,N,O){var Y;for(Y=0;16>Y;++Y)a(N,O+32*Y,f,16)}function Ri(f,N){var O,Y=16;for(O=0;16>O;++O)Y+=f[N-1+32*O]+f[N+O-32];ni(Y>>5,f,N)}function Fn(f,N){var O,Y=8;for(O=0;16>O;++O)Y+=f[N-1+32*O];ni(Y>>4,f,N)}function Rc(f,N){var O,Y=8;for(O=0;16>O;++O)Y+=f[N+O-32];ni(Y>>4,f,N)}function Tc(f,N){ni(128,f,N)}function zt(f,N,O){return f+2*N+O+2>>2}function xu(f,N){var O,Y=N-32;for(Y=new Uint8Array([zt(f[Y-1],f[Y+0],f[Y+1]),zt(f[Y+0],f[Y+1],f[Y+2]),zt(f[Y+1],f[Y+2],f[Y+3]),zt(f[Y+2],f[Y+3],f[Y+4])]),O=0;4>O;++O)n(f,N+32*O,Y,0,Y.length)}function bu(f,N){var O=f[N-1],Y=f[N-1+32],re=f[N-1+64],ne=f[N-1+96];ve(f,N+0,16843009*zt(f[N-1-32],O,Y)),ve(f,N+32,16843009*zt(O,Y,re)),ve(f,N+64,16843009*zt(Y,re,ne)),ve(f,N+96,16843009*zt(re,ne,ne))}function Oa(f,N){var O,Y=4;for(O=0;4>O;++O)Y+=f[N+O-32]+f[N-1+32*O];for(Y>>=3,O=0;4>O;++O)a(f,N+32*O,Y,4)}function Oc(f,N){var O=f[N-1+0],Y=f[N-1+32],re=f[N-1+64],ne=f[N-1-32],se=f[N+0-32],ie=f[N+1-32],ce=f[N+2-32],fe=f[N+3-32];f[N+0+96]=zt(Y,re,f[N-1+96]),f[N+1+96]=f[N+0+64]=zt(O,Y,re),f[N+2+96]=f[N+1+64]=f[N+0+32]=zt(ne,O,Y),f[N+3+96]=f[N+2+64]=f[N+1+32]=f[N+0+0]=zt(se,ne,O),f[N+3+64]=f[N+2+32]=f[N+1+0]=zt(ie,se,ne),f[N+3+32]=f[N+2+0]=zt(ce,ie,se),f[N+3+0]=zt(fe,ce,ie)}function Mc(f,N){var O=f[N+1-32],Y=f[N+2-32],re=f[N+3-32],ne=f[N+4-32],se=f[N+5-32],ie=f[N+6-32],ce=f[N+7-32];f[N+0+0]=zt(f[N+0-32],O,Y),f[N+1+0]=f[N+0+32]=zt(O,Y,re),f[N+2+0]=f[N+1+32]=f[N+0+64]=zt(Y,re,ne),f[N+3+0]=f[N+2+32]=f[N+1+64]=f[N+0+96]=zt(re,ne,se),f[N+3+32]=f[N+2+64]=f[N+1+96]=zt(ne,se,ie),f[N+3+64]=f[N+2+96]=zt(se,ie,ce),f[N+3+96]=zt(ie,ce,ce)}function Ti(f,N){var O=f[N-1+0],Y=f[N-1+32],re=f[N-1+64],ne=f[N-1-32],se=f[N+0-32],ie=f[N+1-32],ce=f[N+2-32],fe=f[N+3-32];f[N+0+0]=f[N+1+64]=ne+se+1>>1,f[N+1+0]=f[N+2+64]=se+ie+1>>1,f[N+2+0]=f[N+3+64]=ie+ce+1>>1,f[N+3+0]=ce+fe+1>>1,f[N+0+96]=zt(re,Y,O),f[N+0+64]=zt(Y,O,ne),f[N+0+32]=f[N+1+96]=zt(O,ne,se),f[N+1+32]=f[N+2+96]=zt(ne,se,ie),f[N+2+32]=f[N+3+96]=zt(se,ie,ce),f[N+3+32]=zt(ie,ce,fe)}function Vl(f,N){var O=f[N+0-32],Y=f[N+1-32],re=f[N+2-32],ne=f[N+3-32],se=f[N+4-32],ie=f[N+5-32],ce=f[N+6-32],fe=f[N+7-32];f[N+0+0]=O+Y+1>>1,f[N+1+0]=f[N+0+64]=Y+re+1>>1,f[N+2+0]=f[N+1+64]=re+ne+1>>1,f[N+3+0]=f[N+2+64]=ne+se+1>>1,f[N+0+32]=zt(O,Y,re),f[N+1+32]=f[N+0+96]=zt(Y,re,ne),f[N+2+32]=f[N+1+96]=zt(re,ne,se),f[N+3+32]=f[N+2+96]=zt(ne,se,ie),f[N+3+64]=zt(se,ie,ce),f[N+3+96]=zt(ie,ce,fe)}function vu(f,N){var O=f[N-1+0],Y=f[N-1+32],re=f[N-1+64],ne=f[N-1+96];f[N+0+0]=O+Y+1>>1,f[N+2+0]=f[N+0+32]=Y+re+1>>1,f[N+2+32]=f[N+0+64]=re+ne+1>>1,f[N+1+0]=zt(O,Y,re),f[N+3+0]=f[N+1+32]=zt(Y,re,ne),f[N+3+32]=f[N+1+64]=zt(re,ne,ne),f[N+3+64]=f[N+2+64]=f[N+0+96]=f[N+1+96]=f[N+2+96]=f[N+3+96]=ne}function wu(f,N){var O=f[N-1+0],Y=f[N-1+32],re=f[N-1+64],ne=f[N-1+96],se=f[N-1-32],ie=f[N+0-32],ce=f[N+1-32],fe=f[N+2-32];f[N+0+0]=f[N+2+32]=O+se+1>>1,f[N+0+32]=f[N+2+64]=Y+O+1>>1,f[N+0+64]=f[N+2+96]=re+Y+1>>1,f[N+0+96]=ne+re+1>>1,f[N+3+0]=zt(ie,ce,fe),f[N+2+0]=zt(se,ie,ce),f[N+1+0]=f[N+3+32]=zt(O,se,ie),f[N+1+32]=f[N+3+64]=zt(Y,O,se),f[N+1+64]=f[N+3+96]=zt(re,Y,O),f[N+1+96]=zt(ne,re,Y)}function ku(f,N){var O;for(O=0;8>O;++O)n(f,N+32*O,f,N-32,8)}function Oi(f,N){var O;for(O=0;8>O;++O)a(f,N,f[N-1],8),N+=32}function Js(f,N,O){var Y;for(Y=0;8>Y;++Y)a(N,O+32*Y,f,8)}function Ks(f,N){var O,Y=8;for(O=0;8>O;++O)Y+=f[N+O-32]+f[N-1+32*O];Js(Y>>4,f,N)}function Hl(f,N){var O,Y=4;for(O=0;8>O;++O)Y+=f[N+O-32];Js(Y>>3,f,N)}function ko(f,N){var O,Y=4;for(O=0;8>O;++O)Y+=f[N-1+32*O];Js(Y>>3,f,N)}function Mi(f,N){Js(128,f,N)}function jo(f,N,O){var Y=f[N-O],re=f[N+0],ne=3*(re-Y)+cg[1020+f[N-2*O]-f[N+O]],se=vf[112+(ne+4>>3)];f[N-O]=os[255+Y+vf[112+(ne+3>>3)]],f[N+0]=os[255+re-se]}function Fc(f,N,O,Y){var re=f[N+0],ne=f[N+O];return Ds[255+f[N-2*O]-f[N-O]]>Y||Ds[255+ne-re]>Y}function Bc(f,N,O,Y){return 4*Ds[255+f[N-O]-f[N+0]]+Ds[255+f[N-2*O]-f[N+O]]<=Y}function $c(f,N,O,Y,re){var ne=f[N-3*O],se=f[N-2*O],ie=f[N-O],ce=f[N+0],fe=f[N+O],Ne=f[N+2*O],Oe=f[N+3*O];return 4*Ds[255+ie-ce]+Ds[255+se-fe]>Y?0:Ds[255+f[N-4*O]-ne]<=re&&Ds[255+ne-se]<=re&&Ds[255+se-ie]<=re&&Ds[255+Oe-Ne]<=re&&Ds[255+Ne-fe]<=re&&Ds[255+fe-ce]<=re}function No(f,N,O,Y){var re=2*Y+1;for(Y=0;16>Y;++Y)Bc(f,N+Y,O,re)&&jo(f,N+Y,O)}function ns(f,N,O,Y){var re=2*Y+1;for(Y=0;16>Y;++Y)Bc(f,N+Y*O,1,re)&&jo(f,N+Y*O,1)}function as(f,N,O,Y){var re;for(re=3;0<re;--re)No(f,N+=4*O,O,Y)}function ju(f,N,O,Y){var re;for(re=3;0<re;--re)ns(f,N+=4,O,Y)}function So(f,N,O,Y,re,ne,se,ie){for(ne=2*ne+1;0<re--;){if($c(f,N,O,ne,se))if(Fc(f,N,O,ie))jo(f,N,O);else{var ce=f,fe=N,Ne=O,Oe=ce[fe-2*Ne],Me=ce[fe-Ne],Ae=ce[fe+0],Ze=ce[fe+Ne],Ve=ce[fe+2*Ne],Se=27*(Xe=cg[1020+3*(Ae-Me)+cg[1020+Oe-Ze]])+63>>7,_e=18*Xe+63>>7,Xe=9*Xe+63>>7;ce[fe-3*Ne]=os[255+ce[fe-3*Ne]+Xe],ce[fe-2*Ne]=os[255+Oe+_e],ce[fe-Ne]=os[255+Me+Se],ce[fe+0]=os[255+Ae-Se],ce[fe+Ne]=os[255+Ze-_e],ce[fe+2*Ne]=os[255+Ve-Xe]}N+=Y}}function ss(f,N,O,Y,re,ne,se,ie){for(ne=2*ne+1;0<re--;){if($c(f,N,O,ne,se))if(Fc(f,N,O,ie))jo(f,N,O);else{var ce=f,fe=N,Ne=O,Oe=ce[fe-Ne],Me=ce[fe+0],Ae=ce[fe+Ne],Ze=vf[112+((Ve=3*(Me-Oe))+4>>3)],Ve=vf[112+(Ve+3>>3)],Se=Ze+1>>1;ce[fe-2*Ne]=os[255+ce[fe-2*Ne]+Se],ce[fe-Ne]=os[255+Oe+Ve],ce[fe+0]=os[255+Me-Ze],ce[fe+Ne]=os[255+Ae-Se]}N+=Y}}function m(f,N,O,Y,re,ne){So(f,N,O,1,16,Y,re,ne)}function S(f,N,O,Y,re,ne){So(f,N,1,O,16,Y,re,ne)}function F(f,N,O,Y,re,ne){var se;for(se=3;0<se;--se)ss(f,N+=4*O,O,1,16,Y,re,ne)}function H(f,N,O,Y,re,ne){var se;for(se=3;0<se;--se)ss(f,N+=4,1,O,16,Y,re,ne)}function Q(f,N,O,Y,re,ne,se,ie){So(f,N,re,1,8,ne,se,ie),So(O,Y,re,1,8,ne,se,ie)}function Z(f,N,O,Y,re,ne,se,ie){So(f,N,1,re,8,ne,se,ie),So(O,Y,1,re,8,ne,se,ie)}function ae(f,N,O,Y,re,ne,se,ie){ss(f,N+4*re,re,1,8,ne,se,ie),ss(O,Y+4*re,re,1,8,ne,se,ie)}function we(f,N,O,Y,re,ne,se,ie){ss(f,N+4,1,re,8,ne,se,ie),ss(O,Y+4,1,re,8,ne,se,ie)}function ye(){this.ba=new Sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ce(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ke(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new C,this.yc=new k}function Be(){this.xb=this.a=0,this.l=new ei,this.ca=new Sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ke,this.ab=0,this.gc=i(4,Ue),this.Oc=0}function at(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Et(f,N,O,Y,re,ne,se){for(f=f==null?0:f[N+0],N=0;N<se;++N)re[ne+N]=f+O[Y+N]&255,f=re[ne+N]}function er(f,N,O,Y,re,ne,se){var ie;if(f==null)Et(null,null,O,Y,re,ne,se);else for(ie=0;ie<se;++ie)re[ne+ie]=f[N+ie]+O[Y+ie]&255}function qt(f,N,O,Y,re,ne,se){if(f==null)Et(null,null,O,Y,re,ne,se);else{var ie,ce=f[N+0],fe=ce,Ne=ce;for(ie=0;ie<se;++ie)fe=Ne+(ce=f[N+ie])-fe,Ne=O[Y+ie]+(-256&fe?0>fe?0:255:fe)&255,fe=ce,re[ne+ie]=Ne}}function nn(f,N,O,Y){var re=N.width,ne=N.o;if(e(f!=null&&N!=null),0>O||0>=Y||O+Y>ne)return null;if(!f.Cc){if(f.ga==null){var se;if(f.ga=new at,(se=f.ga==null)||(se=N.width*N.o,e(f.Gb.length==0),f.Gb=o(se),f.Uc=0,f.Gb==null?se=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,se=1),se=!se),!se){se=f.ga;var ie=f.Fa,ce=f.P,fe=f.qc,Ne=f.mb,Oe=f.nb,Me=ce+1,Ae=fe-1,Ze=se.l;if(e(ie!=null&&Ne!=null&&N!=null),Hi[0]=null,Hi[1]=Et,Hi[2]=er,Hi[3]=qt,se.ca=Ne,se.tb=Oe,se.c=N.width,se.i=N.height,e(0<se.c&&0<se.i),1>=fe)N=0;else if(se.$a=ie[ce+0]>>0&3,se.Z=ie[ce+0]>>2&3,se.Lc=ie[ce+0]>>4&3,ce=ie[ce+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||ce)N=0;else if(Ze.put=rn,Ze.ac=cr,Ze.bc=Cn,Ze.ma=se,Ze.width=N.width,Ze.height=N.height,Ze.Da=N.Da,Ze.v=N.v,Ze.va=N.va,Ze.j=N.j,Ze.o=N.o,se.$a)e:{e(se.$a==1),N=Tn();t:for(;;){if(N==null){N=0;break e}if(e(se!=null),se.mc=N,N.c=se.c,N.i=se.i,N.l=se.l,N.l.ma=se,N.l.width=se.c,N.l.height=se.i,N.a=0,W(N.m,ie,Me,Ae),!rs(se.c,se.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&ca(N.s)?(se.ic=1,ie=N.c*N.i,N.Ta=null,N.Ua=0,N.V=o(ie),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(se.ic=0,N=Us(N,se.c)),!N))break t;N=1;break e}se.mc=null,N=0}else N=Ae>=se.c*se.i;se=!N}if(se)return null;f.ga.Lc!=1?f.Ga=0:Y=ne-O}e(f.ga!=null),e(O+Y<=ne);e:{if(N=(ie=f.ga).c,ne=ie.l.o,ie.$a==0){if(Me=f.rc,Ae=f.Vc,Ze=f.Fa,ce=f.P+1+O*N,fe=f.mb,Ne=f.nb+O*N,e(ce<=f.P+f.qc),ie.Z!=0)for(e(Hi[ie.Z]!=null),se=0;se<Y;++se)Hi[ie.Z](Me,Ae,Ze,ce,fe,Ne,N),Me=fe,Ae=Ne,Ne+=N,ce+=N;else for(se=0;se<Y;++se)n(fe,Ne,Ze,ce,N),Me=fe,Ae=Ne,Ne+=N,ce+=N;f.rc=Me,f.Vc=Ae}else{if(e(ie.mc!=null),N=O+Y,e((se=ie.mc)!=null),e(N<=se.i),se.C>=N)N=1;else if(ie.ic||De(),ie.ic){ie=se.V,Me=se.Ba,Ae=se.c;var Ve=se.i,Se=(Ze=1,ce=se.$/Ae,fe=se.$%Ae,Ne=se.m,Oe=se.s,se.$),_e=Ae*Ve,Xe=Ae*N,nt=Oe.wc,Qe=Se<Xe?Tr(Oe,fe,ce):null;e(Se<=_e),e(N<=Ve),e(ca(Oe));t:for(;;){for(;!Ne.h&&Se<Xe;){if(fe&nt||(Qe=Tr(Oe,fe,ce)),e(Qe!=null),ue(Ne),256>(Ve=Rr(Qe.G[0],Qe.H[0],Ne)))ie[Me+Se]=Ve,++Se,++fe>=Ae&&(fe=0,++ce<=N&&!(ce%16)&&ts(se,ce));else{if(!(280>Ve)){Ze=0;break t}Ve=Fr(Ve-256,Ne);var gt,ht=Rr(Qe.G[4],Qe.H[4],Ne);if(ue(Ne),!(Se>=(ht=Lr(Ae,ht=Fr(ht,Ne)))&&_e-Se>=Ve)){Ze=0;break t}for(gt=0;gt<Ve;++gt)ie[Me+Se+gt]=ie[Me+Se+gt-ht];for(Se+=Ve,fe+=Ve;fe>=Ae;)fe-=Ae,++ce<=N&&!(ce%16)&&ts(se,ce);Se<Xe&&fe&nt&&(Qe=Tr(Oe,fe,ce))}e(Ne.h==ee(Ne))}ts(se,ce>N?N:ce);break t}!Ze||Ne.h&&Se<_e?(Ze=0,se.a=Ne.h?5:3):se.$=Se,N=Ze}else N=Ta(se,se.V,se.Ba,se.c,se.i,N,bo);if(!N){Y=0;break e}}O+Y>=ne&&(f.Cc=1),Y=1}if(!Y)return null;if(f.Cc&&((Y=f.ga)!=null&&(Y.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+O*re}function I(f,N,O,Y,re,ne){for(;0<re--;){var se,ie=f,ce=N+(O?1:0),fe=f,Ne=N+(O?0:3);for(se=0;se<Y;++se){var Oe=fe[Ne+4*se];Oe!=255&&(Oe*=32897,ie[ce+4*se+0]=ie[ce+4*se+0]*Oe>>23,ie[ce+4*se+1]=ie[ce+4*se+1]*Oe>>23,ie[ce+4*se+2]=ie[ce+4*se+2]*Oe>>23)}N+=ne}}function te(f,N,O,Y,re){for(;0<Y--;){var ne;for(ne=0;ne<O;++ne){var se=f[N+2*ne+0],ie=15&(fe=f[N+2*ne+1]),ce=4369*ie,fe=(240&fe|fe>>4)*ce>>16;f[N+2*ne+0]=(240&se|se>>4)*ce>>16&240|(15&se|se<<4)*ce>>16>>4&15,f[N+2*ne+1]=240&fe|ie}N+=re}}function pe(f,N,O,Y,re,ne,se,ie){var ce,fe,Ne=255;for(fe=0;fe<re;++fe){for(ce=0;ce<Y;++ce){var Oe=f[N+ce];ne[se+4*ce]=Oe,Ne&=Oe}N+=O,se+=ie}return Ne!=255}function xe(f,N,O,Y,re){var ne;for(ne=0;ne<re;++ne)O[Y+ne]=f[N+ne]>>8}function De(){Ps=I,Ur=te,zr=pe,xn=xe}function Re(f,N,O){R[f]=function(Y,re,ne,se,ie,ce,fe,Ne,Oe,Me,Ae,Ze,Ve,Se,_e,Xe,nt){var Qe,gt=nt-1>>1,ht=ie[ce+0]|fe[Ne+0]<<16,It=Oe[Me+0]|Ae[Ze+0]<<16;e(Y!=null);var pt=3*ht+It+131074>>2;for(N(Y[re+0],255&pt,pt>>16,Ve,Se),ne!=null&&(pt=3*It+ht+131074>>2,N(ne[se+0],255&pt,pt>>16,_e,Xe)),Qe=1;Qe<=gt;++Qe){var br=ie[ce+Qe]|fe[Ne+Qe]<<16,_r=Oe[Me+Qe]|Ae[Ze+Qe]<<16,fr=ht+br+It+_r+524296,or=fr+2*(br+It)>>3;pt=or+ht>>1,ht=(fr=fr+2*(ht+_r)>>3)+br>>1,N(Y[re+2*Qe-1],255&pt,pt>>16,Ve,Se+(2*Qe-1)*O),N(Y[re+2*Qe-0],255&ht,ht>>16,Ve,Se+(2*Qe-0)*O),ne!=null&&(pt=fr+It>>1,ht=or+_r>>1,N(ne[se+2*Qe-1],255&pt,pt>>16,_e,Xe+(2*Qe-1)*O),N(ne[se+2*Qe+0],255&ht,ht>>16,_e,Xe+(2*Qe+0)*O)),ht=br,It=_r}1&nt||(pt=3*ht+It+131074>>2,N(Y[re+nt-1],255&pt,pt>>16,Ve,Se+(nt-1)*O),ne!=null&&(pt=3*It+ht+131074>>2,N(ne[se+nt-1],255&pt,pt>>16,_e,Xe+(nt-1)*O)))}}function Ye(){Is[wf]=e_,Is[kf]=Gw,Is[Uw]=t_,Is[jf]=Jw,Is[Nf]=Kw,Is[dg]=Yw,Is[zw]=r_,Is[ug]=Gw,Is[hg]=Jw,Is[Sf]=Kw,Is[fg]=Yw}function ft(f){return f&-16384?0>f?0:255:f>>n_}function jt(f,N){return ft((19077*f>>8)+(26149*N>>8)-14234)}function At(f,N,O){return ft((19077*f>>8)-(6419*N>>8)-(13320*O>>8)+8708)}function Ot(f,N){return ft((19077*f>>8)+(33050*N>>8)-17685)}function Wt(f,N,O,Y,re){Y[re+0]=jt(f,O),Y[re+1]=At(f,N,O),Y[re+2]=Ot(f,N)}function gr(f,N,O,Y,re){Y[re+0]=Ot(f,N),Y[re+1]=At(f,N,O),Y[re+2]=jt(f,O)}function xr(f,N,O,Y,re){var ne=At(f,N,O);N=ne<<3&224|Ot(f,N)>>3,Y[re+0]=248&jt(f,O)|ne>>5,Y[re+1]=N}function hr(f,N,O,Y,re){var ne=240&Ot(f,N)|15;Y[re+0]=240&jt(f,O)|At(f,N,O)>>4,Y[re+1]=ne}function _n(f,N,O,Y,re){Y[re+0]=255,Wt(f,N,O,Y,re+1)}function Or(f,N,O,Y,re){gr(f,N,O,Y,re),Y[re+3]=255}function gn(f,N,O,Y,re){Wt(f,N,O,Y,re),Y[re+3]=255}function Na(f,N){return 0>f?0:f>N?N:f}function _s(f,N,O){R[f]=function(Y,re,ne,se,ie,ce,fe,Ne,Oe){for(var Me=Ne+(-2&Oe)*O;Ne!=Me;)N(Y[re+0],ne[se+0],ie[ce+0],fe,Ne),N(Y[re+1],ne[se+0],ie[ce+0],fe,Ne+O),re+=2,++se,++ce,Ne+=2*O;1&Oe&&N(Y[re+0],ne[se+0],ie[ce+0],fe,Ne)}}function qc(f,N,O){return O==0?f==0?N==0?6:5:N==0?4:0:O}function dr(f,N,O,Y,re){switch(f>>>30){case 3:ot(N,O,Y,re,0);break;case 2:it(N,O,Y,re);break;case 1:dt(N,O,Y,re)}}function Co(f,N){var O,Y,re=N.M,ne=N.Nb,se=f.oc,ie=f.pc+40,ce=f.oc,fe=f.pc+584,Ne=f.oc,Oe=f.pc+600;for(O=0;16>O;++O)se[ie+32*O-1]=129;for(O=0;8>O;++O)ce[fe+32*O-1]=129,Ne[Oe+32*O-1]=129;for(0<re?se[ie-1-32]=ce[fe-1-32]=Ne[Oe-1-32]=129:(a(se,ie-32-1,127,21),a(ce,fe-32-1,127,9),a(Ne,Oe-32-1,127,9)),Y=0;Y<f.za;++Y){var Me=N.ya[N.aa+Y];if(0<Y){for(O=-1;16>O;++O)n(se,ie+32*O-4,se,ie+32*O+12,4);for(O=-1;8>O;++O)n(ce,fe+32*O-4,ce,fe+32*O+4,4),n(Ne,Oe+32*O-4,Ne,Oe+32*O+4,4)}var Ae=f.Gd,Ze=f.Hd+Y,Ve=Me.ad,Se=Me.Hc;if(0<re&&(n(se,ie-32,Ae[Ze].y,0,16),n(ce,fe-32,Ae[Ze].f,0,8),n(Ne,Oe-32,Ae[Ze].ea,0,8)),Me.Za){var _e=se,Xe=ie-32+16;for(0<re&&(Y>=f.za-1?a(_e,Xe,Ae[Ze].y[15],4):n(_e,Xe,Ae[Ze+1].y,0,4)),O=0;4>O;O++)_e[Xe+128+O]=_e[Xe+256+O]=_e[Xe+384+O]=_e[Xe+0+O];for(O=0;16>O;++O,Se<<=2)_e=se,Xe=ie+Qw[O],Qs[Me.Ob[O]](_e,Xe),dr(Se,Ve,16*+O,_e,Xe)}else if(_e=qc(Y,re,Me.Ob[0]),Vi[_e](se,ie),Se!=0)for(O=0;16>O;++O,Se<<=2)dr(Se,Ve,16*+O,se,ie+Qw[O]);for(O=Me.Gc,_e=qc(Y,re,Me.Dd),si[_e](ce,fe),si[_e](Ne,Oe),Se=Ve,_e=ce,Xe=fe,255&(Me=O>>0)&&(170&Me?xt(Se,256,_e,Xe):Mt(Se,256,_e,Xe)),Me=Ne,Se=Oe,255&(O>>=8)&&(170&O?xt(Ve,320,Me,Se):Mt(Ve,320,Me,Se)),re<f.Ub-1&&(n(Ae[Ze].y,0,se,ie+480,16),n(Ae[Ze].f,0,ce,fe+224,8),n(Ae[Ze].ea,0,Ne,Oe+224,8)),O=8*ne*f.B,Ae=f.sa,Ze=f.ta+16*Y+16*ne*f.R,Ve=f.qa,Me=f.ra+8*Y+O,Se=f.Ha,_e=f.Ia+8*Y+O,O=0;16>O;++O)n(Ae,Ze+O*f.R,se,ie+32*O,16);for(O=0;8>O;++O)n(Ve,Me+O*f.B,ce,fe+32*O,8),n(Se,_e+O*f.B,Ne,Oe+32*O,8)}}function Vn(f,N,O,Y,re,ne,se,ie,ce){var fe=[0],Ne=[0],Oe=0,Me=ce!=null?ce.kd:0,Ae=ce??new Ce;if(f==null||12>O)return 7;Ae.data=f,Ae.w=N,Ae.ha=O,N=[N],O=[O],Ae.gb=[Ae.gb];e:{var Ze=N,Ve=O,Se=Ae.gb;if(e(f!=null),e(Ve!=null),e(Se!=null),Se[0]=0,12<=Ve[0]&&!r(f,Ze[0],"RIFF")){if(r(f,Ze[0]+8,"WEBP")){Se=3;break e}var _e=We(f,Ze[0]+4);if(12>_e||4294967286<_e){Se=3;break e}if(Me&&_e>Ve[0]-8){Se=7;break e}Se[0]=_e,Ze[0]+=12,Ve[0]-=12}Se=0}if(Se!=0)return Se;for(_e=0<Ae.gb[0],O=O[0];;){e:{var Xe=f;Ve=N,Se=O;var nt=fe,Qe=Ne,gt=Ze=[0];if((pt=Oe=[Oe])[0]=0,8>Se[0])Se=7;else{if(!r(Xe,Ve[0],"VP8X")){if(We(Xe,Ve[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var ht=We(Xe,Ve[0]+8),It=1+Te(Xe,Ve[0]+12);if(2147483648<=It*(Xe=1+Te(Xe,Ve[0]+15))){Se=3;break e}gt!=null&&(gt[0]=ht),nt!=null&&(nt[0]=It),Qe!=null&&(Qe[0]=Xe),Ve[0]+=18,Se[0]-=18,pt[0]=1}Se=0}}if(Oe=Oe[0],Ze=Ze[0],Se!=0)return Se;if(Ve=!!(2&Ze),!_e&&Oe)return 3;if(ne!=null&&(ne[0]=!!(16&Ze)),se!=null&&(se[0]=Ve),ie!=null&&(ie[0]=0),se=fe[0],Ze=Ne[0],Oe&&Ve&&ce==null){Se=0;break}if(4>O){Se=7;break}if(_e&&Oe||!_e&&!Oe&&!r(f,N[0],"ALPH")){O=[O],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{ht=f,Se=N,_e=O;var pt=Ae.gb;nt=Ae.na,Qe=Ae.P,gt=Ae.Sa,It=22,e(ht!=null),e(_e!=null),Xe=Se[0];var br=_e[0];for(e(nt!=null),e(gt!=null),nt[0]=null,Qe[0]=null,gt[0]=0;;){if(Se[0]=Xe,_e[0]=br,8>br){Se=7;break e}var _r=We(ht,Xe+4);if(4294967286<_r){Se=3;break e}var fr=8+_r+1&-2;if(It+=fr,0<pt&&It>pt){Se=3;break e}if(!r(ht,Xe,"VP8 ")||!r(ht,Xe,"VP8L")){Se=0;break e}if(br[0]<fr){Se=7;break e}r(ht,Xe,"ALPH")||(nt[0]=ht,Qe[0]=Xe+8,gt[0]=_r),Xe+=fr,br-=fr}}if(O=O[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],Se!=0)break}O=[O],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(pt=f,Se=N,_e=O,nt=Ae.gb[0],Qe=Ae.Ja,gt=Ae.xa,ht=Se[0],Xe=!r(pt,ht,"VP8 "),It=!r(pt,ht,"VP8L"),e(pt!=null),e(_e!=null),e(Qe!=null),e(gt!=null),8>_e[0])Se=7;else{if(Xe||It){if(pt=We(pt,ht+4),12<=nt&&pt>nt-12){Se=3;break e}if(Me&&pt>_e[0]-8){Se=7;break e}Qe[0]=pt,Se[0]+=8,_e[0]-=8,gt[0]=It}else gt[0]=5<=_e[0]&&pt[ht+0]==47&&!(pt[ht+4]>>5),Qe[0]=_e[0];Se=0}if(O=O[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],N=N[0],Se!=0)break;if(4294967286<Ae.Ja)return 3;if(ie==null||Ve||(ie[0]=Ae.xa?2:1),se=[se],Ze=[Ze],Ae.xa){if(5>O){Se=7;break}ie=se,Me=Ze,Ve=ne,f==null||5>O?f=0:5<=O&&f[N+0]==47&&!(f[N+4]>>5)?(_e=[0],pt=[0],nt=[0],W(Qe=new T,f,N,O),mt(Qe,_e,pt,nt)?(ie!=null&&(ie[0]=_e[0]),Me!=null&&(Me[0]=pt[0]),Ve!=null&&(Ve[0]=nt[0]),f=1):f=0):f=0}else{if(10>O){Se=7;break}ie=Ze,f==null||10>O||!On(f,N+3,O-3)?f=0:(Me=f[N+0]|f[N+1]<<8|f[N+2]<<16,Ve=16383&(f[N+7]<<8|f[N+6]),f=16383&(f[N+9]<<8|f[N+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=Ae.Ja||!Ve||!f?f=0:(se&&(se[0]=Ve),ie&&(ie[0]=f),f=1))}if(!f||(se=se[0],Ze=Ze[0],Oe&&(fe[0]!=se||Ne[0]!=Ze)))return 3;ce!=null&&(ce[0]=Ae,ce.offset=N-ce.w,e(4294967286>N-ce.w),e(ce.offset==ce.ha-O));break}return Se==0||Se==7&&Oe&&ce==null?(ne!=null&&(ne[0]|=Ae.na!=null&&0<Ae.na.length),Y!=null&&(Y[0]=se),re!=null&&(re[0]=Ze),0):Se}function Es(f,N,O){var Y=N.width,re=N.height,ne=0,se=0,ie=Y,ce=re;if(N.Da=f!=null&&0<f.Da,N.Da&&(ie=f.cd,ce=f.bd,ne=f.v,se=f.j,11>O||(ne&=-2,se&=-2),0>ne||0>se||0>=ie||0>=ce||ne+ie>Y||se+ce>re))return 0;if(N.v=ne,N.j=se,N.va=ne+ie,N.o=se+ce,N.U=ie,N.T=ce,N.da=f!=null&&0<f.da,N.da){if(!yt(ie,ce,O=[f.ib],ne=[f.hb]))return 0;N.ib=O[0],N.hb=ne[0]}return N.ob=f!=null&&f.ob,N.Kb=f==null||!f.Sd,N.da&&(N.ob=N.ib<3*Y/4&&N.hb<3*re/4,N.Kb=0),1}function Wl(f){if(f==null)return 2;if(11>f.S){var N=f.f.RGBA;N.fb+=(f.height-1)*N.A,N.A=-N.A}else N=f.f.kb,f=f.height,N.O+=(f-1)*N.fa,N.fa=-N.fa,N.N+=(f-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(f-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(f-1)*N.lb,N.lb=-N.lb);return 0}function Fi(f,N,O,Y){if(Y==null||0>=f||0>=N)return 2;if(O!=null){if(O.Da){var re=O.cd,ne=O.bd,se=-2&O.v,ie=-2&O.j;if(0>se||0>ie||0>=re||0>=ne||se+re>f||ie+ne>N)return 2;f=re,N=ne}if(O.da){if(!yt(f,N,re=[O.ib],ne=[O.hb]))return 2;f=re[0],N=ne[0]}}Y.width=f,Y.height=N;e:{var ce=Y.width,fe=Y.height;if(f=Y.S,0>=ce||0>=fe||!(f>=wf&&13>f))f=2;else{if(0>=Y.Rd&&Y.sd==null){se=ne=re=N=0;var Ne=(ie=ce*Zw[f])*fe;if(11>f||(ne=(fe+1)/2*(N=(ce+1)/2),f==12&&(se=(re=ce)*fe)),(fe=o(Ne+2*ne+se))==null){f=1;break e}Y.sd=fe,11>f?((ce=Y.f.RGBA).eb=fe,ce.fb=0,ce.A=ie,ce.size=Ne):((ce=Y.f.kb).y=fe,ce.O=0,ce.fa=ie,ce.Fd=Ne,ce.f=fe,ce.N=0+Ne,ce.Ab=N,ce.Cd=ne,ce.ea=fe,ce.W=0+Ne+ne,ce.Db=N,ce.Ed=ne,f==12&&(ce.F=fe,ce.J=0+Ne+2*ne),ce.Tc=se,ce.lb=re)}if(N=1,re=Y.S,ne=Y.width,se=Y.height,re>=wf&&13>re)if(11>re)f=Y.f.RGBA,N&=(ie=Math.abs(f.A))*(se-1)+ne<=f.size,N&=ie>=ne*Zw[re],N&=f.eb!=null;else{f=Y.f.kb,ie=(ne+1)/2,Ne=(se+1)/2,ce=Math.abs(f.fa),fe=Math.abs(f.Ab);var Oe=Math.abs(f.Db),Me=Math.abs(f.lb),Ae=Me*(se-1)+ne;N&=ce*(se-1)+ne<=f.Fd,N&=fe*(Ne-1)+ie<=f.Cd,N=(N&=Oe*(Ne-1)+ie<=f.Ed)&ce>=ne&fe>=ie&Oe>=ie,N&=f.y!=null,N&=f.f!=null,N&=f.ea!=null,re==12&&(N&=Me>=ne,N&=Ae<=f.Tc,N&=f.F!=null)}else N=0;f=N?0:2}}return f!=0||O!=null&&O.fd&&(f=Wl(Y)),f}var En=64,Ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_o=24,Sa=32,Bi=8,An=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(f){return f},R.Predictor2=function(f,N,O){return N[O+0]},R.Predictor3=function(f,N,O){return N[O+1]},R.Predictor4=function(f,N,O){return N[O-1]},R.Predictor5=function(f,N,O){return ke(ke(f,N[O+1]),N[O+0])},R.Predictor6=function(f,N,O){return ke(f,N[O-1])},R.Predictor7=function(f,N,O){return ke(f,N[O+0])},R.Predictor8=function(f,N,O){return ke(N[O-1],N[O+0])},R.Predictor9=function(f,N,O){return ke(N[O+0],N[O+1])},R.Predictor10=function(f,N,O){return ke(ke(f,N[O-1]),ke(N[O+0],N[O+1]))},R.Predictor11=function(f,N,O){var Y=N[O+0];return 0>=$e(Y>>24&255,f>>24&255,(N=N[O-1])>>24&255)+$e(Y>>16&255,f>>16&255,N>>16&255)+$e(Y>>8&255,f>>8&255,N>>8&255)+$e(255&Y,255&f,255&N)?Y:f},R.Predictor12=function(f,N,O){var Y=N[O+0];return(Pe((f>>24&255)+(Y>>24&255)-((N=N[O-1])>>24&255))<<24|Pe((f>>16&255)+(Y>>16&255)-(N>>16&255))<<16|Pe((f>>8&255)+(Y>>8&255)-(N>>8&255))<<8|Pe((255&f)+(255&Y)-(255&N)))>>>0},R.Predictor13=function(f,N,O){var Y=N[O-1];return(tt((f=ke(f,N[O+0]))>>24&255,Y>>24&255)<<24|tt(f>>16&255,Y>>16&255)<<16|tt(f>>8&255,Y>>8&255)<<8|tt(f>>0&255,Y>>0&255))>>>0};var $i=R.PredictorAdd0;R.PredictorAdd1=st,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Eo=R.PredictorAdd2;Kt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var qi,Fa=R.ColorIndexInverseTransform,Ys=R.MapARGB,Ui=R.VP8LColorIndexInverseTransformAlpha,zi=R.MapAlpha,Ao=R.VP8LPredictorsAdd=[];Ao.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Xs,na,he,je,Ie,qe,Ge,ot,it,xt,dt,Mt,Ct,Ft,Yt,kt,ur,an,Zr,Bn,Hn,Ca,yn,As,Ps,Ur,zr,xn,$n=o(511),ai=o(2041),Nu=o(225),Uc=o(767),bf=0,cg=ai,vf=Nu,os=Uc,Ds=$n,wf=0,kf=1,Uw=2,jf=3,Nf=4,dg=5,zw=6,ug=7,hg=8,Sf=9,fg=10,$6=[2,3,7],q6=[3,3,11],Vw=[280,256,256,256,40],U6=[0,1,1,1,0],z6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],V6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],H6=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],W6=8,pg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Su=null,G6=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],J6=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],K6=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Y6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],X6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Q6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vi=[],Qs=[],si=[],Z6=1,Ww=2,Hi=[],Is=[];Re("UpsampleRgbLinePair",Wt,3),Re("UpsampleBgrLinePair",gr,3),Re("UpsampleRgbaLinePair",gn,4),Re("UpsampleBgraLinePair",Or,4),Re("UpsampleArgbLinePair",_n,4),Re("UpsampleRgba4444LinePair",hr,2),Re("UpsampleRgb565LinePair",xr,2);var e_=R.UpsampleRgbLinePair,t_=R.UpsampleBgrLinePair,Gw=R.UpsampleRgbaLinePair,Jw=R.UpsampleBgraLinePair,Kw=R.UpsampleArgbLinePair,Yw=R.UpsampleRgba4444LinePair,r_=R.UpsampleRgb565LinePair,Cf=16,_f=1<<Cf-1,Cu=-227,gg=482,n_=6,Xw=0,a_=o(256),s_=o(256),o_=o(256),i_=o(256),l_=o(gg-Cu),c_=o(gg-Cu);_s("YuvToRgbRow",Wt,3),_s("YuvToBgrRow",gr,3),_s("YuvToRgbaRow",gn,4),_s("YuvToBgraRow",Or,4),_s("YuvToArgbRow",_n,4),_s("YuvToRgba4444Row",hr,2),_s("YuvToRgb565Row",xr,2);var Qw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ef=[0,2,8],d_=[8,7,6,4,4,2,2,2,1,1,1,1],u_=1;this.WebPDecodeRGBA=function(f,N,O,Y,re){var ne=kf,se=new ye,ie=new Sn;se.ba=ie,ie.S=ne,ie.width=[ie.width],ie.height=[ie.height];var ce=ie.width,fe=ie.height,Ne=new mr;if(Ne==null||f==null)var Oe=2;else e(Ne!=null),Oe=Vn(f,N,O,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Oe!=0?ce=0:(ce!=null&&(ce[0]=Ne.width[0]),fe!=null&&(fe[0]=Ne.height[0]),ce=1),ce){ie.width=ie.width[0],ie.height=ie.height[0],Y!=null&&(Y[0]=ie.width),re!=null&&(re[0]=ie.height);e:{if(Y=new ei,(re=new Ce).data=f,re.w=N,re.ha=O,re.kd=1,N=[0],e(re!=null),((f=Vn(re.data,re.w,re.ha,null,null,null,N,null,re))==0||f==7)&&N[0]&&(f=4),(N=f)==0){if(e(se!=null),Y.data=re.data,Y.w=re.w+re.offset,Y.ha=re.ha-re.offset,Y.put=rn,Y.ac=cr,Y.bc=Cn,Y.ma=se,re.xa){if((f=Tn())==null){se=1;break e}if(function(Me,Ae){var Ze=[0],Ve=[0],Se=[0];t:for(;;){if(Me==null)return 0;if(Ae==null)return Me.a=2,0;if(Me.l=Ae,Me.a=0,W(Me.m,Ae.data,Ae.w,Ae.ha),!mt(Me.m,Ze,Ve,Se)){Me.a=3;break t}if(Me.xb=Ww,Ae.width=Ze[0],Ae.height=Ve[0],!rs(Ze[0],Ve[0],1,Me,null))break t;return 1}return e(Me.a!=0),0}(f,Y)){if(Y=(N=Fi(Y.width,Y.height,se.Oa,se.ba))==0){t:{Y=f;r:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((O=Y.l)!=null),e((re=O.ma)!=null),Y.xb!=0){if(Y.ca=re.ba,Y.tb=re.tb,e(Y.ca!=null),!Es(re.Oa,O,jf)){Y.a=2;break r}if(!Us(Y,O.width)||O.da)break r;if((O.da||sr(Y.ca.S))&&De(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&De()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!ct(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!Ta(Y,Y.V,Y.Ba,Y.c,Y.i,O.o,Ra))break r;re.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(N=f.a)}else N=f.a}else{if((f=new $l)==null){se=1;break e}if(f.Fa=re.na,f.P=re.P,f.qc=re.Sa,Vs(f,Y)){if((N=Fi(Y.width,Y.height,se.Oa,se.ba))==0){if(f.Aa=0,O=se.Oa,e((re=f)!=null),O!=null){if(0<(ce=0>(ce=O.Md)?0:100<ce?255:255*ce/100)){for(fe=Ne=0;4>fe;++fe)12>(Oe=re.pb[fe]).lc&&(Oe.ia=ce*d_[0>Oe.lc?0:Oe.lc]>>3),Ne|=Oe.ia;Ne&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=O.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}mu(f,Y)||(N=f.a)}}else N=f.a}N==0&&se.Oa!=null&&se.Oa.fd&&(N=Wl(se.ba))}se=N}ne=se!=0?null:11>ne?ie.f.RGBA.eb:ie.f.kb.y}else ne=null;return ne};var Zw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,A){for(var P="",x=0;x<4;x++)P+=String.fromCharCode(R[A++]);return P}function u(R,A){return(R[A+0]<<0|R[A+1]<<8|R[A+2]<<16)>>>0}function h(R,A){return(R[A+0]<<0|R[A+1]<<8|R[A+2]<<16|R[A+3]<<24)>>>0}new c;var g=[0],p=[0],w=[],b=new c,_=t,v=function(R,A){var P={},x=0,k=!1,E=0,C=0;if(P.frames=[],!function(J,ee,le,ue){for(var de=0;de<ue;de++)if(J[ee+de]!=le.charCodeAt(de))return!0;return!1}(R,A,"RIFF",4)){for(h(R,A+=4),A+=8;A<R.length;){var z=d(R,A),V=h(R,A+=4);A+=4;var K=V+(1&V);switch(z){case"VP8 ":case"VP8L":P.frames[x]===void 0&&(P.frames[x]={}),(G=P.frames[x]).src_off=k?C:A-8,G.src_size=E+V+8,x++,k&&(k=!1,E=0,C=0);break;case"VP8X":(G=P.header={}).feature_flags=R[A];var W=A+4;G.canvas_width=1+u(R,W),W+=3,G.canvas_height=1+u(R,W),W+=3;break;case"ALPH":k=!0,E=K+8,C=A-8;break;case"ANIM":(G=P.header).bgcolor=h(R,A),W=A+4,G.loop_count=(X=R)[(T=W)+0]<<0|X[T+1]<<8,W+=2;break;case"ANMF":var B,G;(G=P.frames[x]={}).offset_x=2*u(R,A),A+=3,G.offset_y=2*u(R,A),A+=3,G.width=1+u(R,A),A+=3,G.height=1+u(R,A),A+=3,G.duration=u(R,A),A+=3,B=R[A++],G.dispose=1&B,G.blend=B>>1&1}z!="ANMF"&&(A+=K)}var X,T;return P}}(_,0);v.response=_,v.rgbaoutput=!0,v.dataurl=!1;var j=v.header?v.header:null,L=v.frames?v.frames:null;if(j){j.loop_counter=j.loop_count,g=[j.canvas_height],p=[j.canvas_width];for(var U=0;U<L.length&&L[U].blend!=0;U++);}var M=L[0],q=b.WebPDecodeRGBA(_,M.src_off,M.src_size,p,g);M.rgba=q,M.imgwidth=p[0],M.imgheight=g[0];for(var y=0;y<p[0]*g[0]*4;y++)w[y]=q[y];return this.width=p,this.height=g,this.data=w,this}(function(t){var e=function(){return typeof Nb=="function"},r=function(g,p,w,b){var _=4,v=i;switch(b){case t.image_compression.FAST:_=1,v=o;break;case t.image_compression.MEDIUM:_=6,v=l;break;case t.image_compression.SLOW:_=9,v=c}g=n(g,p,w,v);var j=Nb(g,{level:_});return t.__addimage__.arrayBufferToBinaryString(j)},n=function(g,p,w,b){for(var _,v,j,L=g.length/p,U=new Uint8Array(g.length+L),M=u(),q=0;q<L;q+=1){if(j=q*p,_=g.subarray(j,j+p),b)U.set(b(_,w,v),j+q);else{for(var y,R=M.length,A=[];y<R;y+=1)A[y]=M[y](_,w,v);var P=h(A.concat());U.set(A[P],j+q)}v=_}return U},a=function(g){var p=Array.apply([],g);return p.unshift(0),p},o=function(g,p){var w,b=[],_=g.length;b[0]=1;for(var v=0;v<_;v+=1)w=g[v-p]||0,b[v+1]=g[v]-w+256&255;return b},i=function(g,p,w){var b,_=[],v=g.length;_[0]=2;for(var j=0;j<v;j+=1)b=w&&w[j]||0,_[j+1]=g[j]-b+256&255;return _},l=function(g,p,w){var b,_,v=[],j=g.length;v[0]=3;for(var L=0;L<j;L+=1)b=g[L-p]||0,_=w&&w[L]||0,v[L+1]=g[L]+256-(b+_>>>1)&255;return v},c=function(g,p,w){var b,_,v,j,L=[],U=g.length;L[0]=4;for(var M=0;M<U;M+=1)b=g[M-p]||0,_=w&&w[M]||0,v=w&&w[M-p]||0,j=d(b,_,v),L[M+1]=g[M]-j+256&255;return L},d=function(g,p,w){if(g===p&&p===w)return g;var b=Math.abs(p-w),_=Math.abs(g-w),v=Math.abs(g+p-w-w);return b<=_&&b<=v?g:_<=v?p:w},u=function(){return[a,o,i,l,c]},h=function(g){var p=g.map(function(w){return w.reduce(function(b,_){return b+Math.abs(_)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(g,p,w,b){var _,v,j,L,U,M,q,y,R,A,P,x,k,E,C,z=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(j=new LH(g)).imgData,v=j.bits,_=j.colorSpace,U=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){R=(y=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,P=new Uint8Array(R*j.colors),A=new Uint8Array(R);var K,W=j.pixelBitlength-j.bits;for(E=0,C=0;E<R;E++){for(k=y[E],K=0;K<W;)P[C++]=k>>>K&255,K+=j.bits;A[E]=k>>>K&255}}if(j.bits===16){R=(y=new Uint32Array(j.decodePixels().buffer)).length,P=new Uint8Array(R*(32/j.pixelBitlength)*j.colors),A=new Uint8Array(R*(32/j.pixelBitlength)),x=j.colors>1,E=0,C=0;for(var B=0;E<R;)k=y[E++],P[C++]=k>>>0&255,x&&(P[C++]=k>>>16&255,k=y[E++],P[C++]=k>>>0&255),A[B++]=k>>>16&255;v=8}b!==t.image_compression.NONE&&e()?(g=r(P,j.width*j.colors,j.colors,b),q=r(A,j.width,1,b)):(g=P,q=A,z=void 0)}if(j.colorType===3&&(_=this.color_spaces.INDEXED,M=j.palette,j.transparency.indexed)){var G=j.transparency.indexed,X=0;for(E=0,R=G.length;E<R;++E)X+=G[E];if((X/=255)===R-1&&G.indexOf(0)!==-1)L=[G.indexOf(0)];else if(X!==R){for(y=j.decodePixels(),A=new Uint8Array(y.length),E=0,R=y.length;E<R;E++)A[E]=G[y[E]];q=r(A,j.width,1)}}var T=function(J){var ee;switch(J){case t.image_compression.FAST:ee=11;break;case t.image_compression.MEDIUM:ee=13;break;case t.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(b);return z===this.decode.FLATE_DECODE&&(V="/Predictor "+T+" "),V+="/Colors "+U+" /BitsPerComponent "+v+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:w,data:g,index:p,filter:z,decodeParameters:V,transparency:L,palette:M,sMask:q,predictor:T,width:j.width,height:j.height,bitsPerComponent:v,colorSpace:_}}}})($t.API),function(t){t.processGIF89A=function(e,r,n,a){var o=new RH(e),i=o.width,l=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:i,height:l},u=new Fy(100).encode(d,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A}($t.API),ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ro.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){$r.log("bit decode error:"+r)}},ro.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[o>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ro.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=o>>4,c=15&o,d=this.palette[l];if(this.data[i]=d.blue,this.data[i+1]=d.green,this.data[i+2]=d.red,this.data[i+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[i+4]=d.blue,this.data[i+4+1]=d.green,this.data[i+4+2]=d.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},ro.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[o]=i.red,this.data[o+1]=i.green,this.data[o+2]=i.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},ro.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(o&e)/e*255|0,l=(o>>5&e)/e*255|0,c=(o>>10&e)/e*255|0,d=o>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=i,this.data[u+3]=d}this.pos+=t}},ro.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,c=(i>>5&r)/r*255|0,d=(i>>11)/e*255|0,u=a*this.width*4+4*o;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},ro.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*r;this.data[i]=o,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},ro.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=o,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},ro.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var o=new ro(e,!1),i=o.width,l=o.height,c={data:o.getData(),width:i,height:l},d=new Fy(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}($t.API),Rk.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var o=new Rk(e),i=o.width,l=o.height,c={data:o.getData(),width:i,height:l},d=new Fy(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}($t.API),$t.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,o=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],h=n[d+1],g=n[d+2],p=n[d+3];o[l++]=u,o[l++]=h,o[l++]=g,i[c++]=p}var w=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$t.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zc=$t.API,vp=Zc.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,g=0,p=t.length,w=0,b=l[0]||c,_=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/o)||0)/1e3):(g=h&&Pr(d[n])==="object"&&!isNaN(parseInt(d[n][w],10))?d[n][w]/u:0,_.push((l[n]||b)/c+g)),w=n;return _},Pk=Zc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Zc.processArabic&&(t=Zc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:vp.apply(this,arguments).reduce(function(o,i){return o+i},0)},Dk=function(t,e,r,n){for(var a=[],o=0,i=t.length,l=0;o!==i&&l+e[o]<r;)l+=e[o],o++;a.push(t.slice(0,o));var c=o;for(l=0;o!==i;)l+e[o]>n&&(a.push(t.slice(c,o)),l=0,c=o),l+=e[o],o++;return c!==o&&a.push(t.slice(c,o)),a},Ik=function(t,e,r){r||(r={});var n,a,o,i,l,c,d,u=[],h=[u],g=r.textIndent||0,p=0,w=0,b=t.split(" "),_=vp.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),j=[];b.map(function(U){(U=U.split(/\s*\n/)).length>1?j=j.concat(U.map(function(M,q){return(q&&M.length?`
`:"")+M})):j.push(U[0])}),b=j,c=Pk.apply(this,[v,r])}for(o=0,i=b.length;o<i;o++){var L=0;if(n=b[o],c&&n[0]==`
`&&(n=n.substr(1),L=1),g+p+(w=(a=vp.apply(this,[n,r])).reduce(function(U,M){return U+M},0))>e||L){if(w>e){for(l=Dk.apply(this,[n,a,e-(g+p),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);w=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(U,M){return U+M},0)}else u=[n];h.push(u),g=w+c,p=_}else u.push(n),g+=p+w,p=_}return d=c?function(U,M){return(M?v:"")+U.join(" ")}:function(U){return U.join(" ")},h.map(d)},Zc.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(Ik.apply(this,[n[l],i,o]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var o=function(h){return"0x"+parseInt(h,10).toString(16)},i=t.__fontmetrics__.compress=function(h){var g,p,w,b,_=["{"];for(var v in h){if(g=h[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=o(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof g=="number")g<0?(w=o(g).slice(3),b="-"):(w=o(g).slice(2),b=""),w=b+w.slice(0,-1)+n[w.slice(-1)];else{if(Pr(g)!=="object")throw new Error("Don't know what to do with value type "+Pr(g)+".");w=i(g)}_.push(p+w)}return _.push("}"),_.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,w,b,_={},v=1,j=_,L=[],U="",M="",q=h.length-1,y=1;y<q;y+=1)(b=h[y])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(L.push([j,w]),j={},w=void 0):b=="}"?((p=L.pop())[0][p[1]]=j,w=void 0,j=p[0]):b=="-"?v=-1:w===void 0?r.hasOwnProperty(b)?(U+=r[b],w=parseInt(U,16)*v,v=1,U=""):U+=b:r.hasOwnProperty(b)?(M+=r[b],j[w]=parseInt(M,16)*v,v=1,w=void 0,M=""):M+=b;return _},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var g=h.font,p=u.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var w=d.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])}($t.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=r.charCodeAt(o);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(gh(l)),i.metadata=t.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}($t),function(t){function e(){return(Ut.canvg?Promise.resolve(Ut.canvg):Ci(()=>import("./index.es-BgEJ_78B.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}$t.API.addSvgAsImage=function(r,n,a,o,i,l,c,d){if(isNaN(n)||isNaN(a))throw $r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(i))throw $r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(w){return w.fromString(h,r,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(g)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,o,i,c,d)})}}(),$t.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},$t.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,o,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],d=0,u=0,h=0;function g(w,b){var _,v=!1;for(_=0;_<w.length;_+=1)w[_]===b&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Pr(t)==="object"){for(a in t)if(o=t[a],g(l,a)&&o!==void 0){if(r[a].type==="boolean"&&typeof o=="boolean")r[a].value=o;else if(r[a].type==="name"&&g(r[a].valueSet,o))r[a].value=o;else if(r[a].type==="integer"&&Number.isInteger(o))r[a].value=o;else if(r[a].type==="array"){for(d=0;d<o.length;d+=1)if(n=!0,o[d].length===1&&typeof o[d][0]=="number")c.push(String(o[d]-1));else if(o[d].length>1){for(u=0;u<o[d].length;u+=1)typeof o[d][u]!="number"&&(n=!1);n===!0&&c.push([o[d][0]-1,o[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,b=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?b.push("/"+w+" /"+r[w].value):b.push("/"+w+" "+r[w].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}($t.API),function(t){var e=t.API,r=e.pdfEscape16=function(o,i){for(var l,c=i.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,g=o.length;h<g;++h){if(l=i.metadata.characterToGlyph(o.charCodeAt(h)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=o.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(o){var i,l,c,d,u,h,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,g=(l=Object.keys(o).sort(function(p,w){return p-w})).length;h<g;h++)i=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),o[i]!==void 0&&o[i]!==null&&typeof o[i].toString=="function"&&(d=("0000"+o[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(i){var l=i.font,c=i.out,d=i.newObject,u=i.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",w=0;w<g.length;w++)p+=String.fromCharCode(g[w]);var b=d();u({data:p,addLength1:!0,objectId:b}),c("endobj");var _=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var v=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+rd(l.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+rd(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+rd(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(i){var l=i.font,c=i.out,d=i.newObject,u=i.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,g="",p=0;p<h.length;p++)g+=String.fromCharCode(h[p]);var w=d();u({data:g,addLength1:!0,objectId:w}),c("endobj");var b=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var _=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+rd(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+rd(l.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(o)}]);var a=function(o){var i,l=o.text||"",c=o.x,d=o.y,u=o.options||{},h=o.mutex||{},g=h.pdfEscape,p=h.activeFontKey,w=h.fonts,b=p,_="",v=0,j="",L=w[b].encoding;if(w[b].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(j=l,b=p,Array.isArray(l)&&(j=l[0]),v=0;v<j.length;v+=1)w[b].metadata.hasOwnProperty("cmap")&&(i=w[b].metadata.cmap.unicode.codeMap[j[v].charCodeAt(0)]),i||j[v].charCodeAt(0)<256&&w[b].metadata.hasOwnProperty("Unicode")?_+=j[v]:_+="";var U="";return parseInt(b.slice(1))<14||L==="WinAnsiEncoding"?U=g(_,b).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(U=r(_,w[b])),h.isHex=!0,{text:U,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(o){var i=o.text||"",l=[],c={text:i,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(i)){var d=0;for(d=0;d<i.length;d+=1)Array.isArray(i[d])&&i[d].length===3?l.push([a(Object.assign({},c,{text:i[d][0]})).text,i[d][1],i[d][2]]):l.push(a(Object.assign({},c,{text:i[d]})).text);o.text=l}else o.text=a(Object.assign({},c,{text:i})).text}])}($t),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}($t.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,o,i,l,c,d,u,h=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,L=0;this.__bidiEngine__={};var U=function(x){var k=x.charCodeAt(),E=k>>8,C=b[E];return C!==void 0?h[256*C+(255&k)]:E===252||E===253?"AL":v.test(E)?"L":E===8?"R":"N"},M=function(x){for(var k,E=0;E<x.length;E++){if((k=U(x.charAt(E)))==="L")return!1;if(k==="R")return!0}return!1},q=function(x,k,E,C){var z,V,K,W,B=k[C];switch(B){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(B="AN");break;case"AL":j=!0,B="R";break;case"WS":B="N";break;case"CS":C<1||C+1>=k.length||(z=E[C-1])!=="EN"&&z!=="AN"||(V=k[C+1])!=="EN"&&V!=="AN"?B="N":j&&(V="AN"),B=V===z?V:"N";break;case"ES":B=(z=C>0?E[C-1]:"B")==="EN"&&C+1<k.length&&k[C+1]==="EN"?"EN":"N";break;case"ET":if(C>0&&E[C-1]==="EN"){B="EN";break}if(j){B="N";break}for(K=C+1,W=k.length;K<W&&k[K]==="ET";)K++;B=K<W&&k[K]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(W=k.length,K=C+1;K<W&&k[K]==="NSM";)K++;if(K<W){var G=x[C],X=G>=1425&&G<=2303||G===64286;if(z=k[K],X&&(z==="R"||z==="AL")){B="R";break}}}B=C<1||(z=k[C-1])==="B"?"N":E[C-1];break;case"B":j=!1,a=!0,B=L;break;case"S":o=!0,B="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":B="N"}return B},y=function(x,k,E){var C=x.split("");return E&&R(C,E,{hiLevel:L}),C.reverse(),k&&k.reverse(),C.join("")},R=function(x,k,E){var C,z,V,K,W,B=-1,G=x.length,X=0,T=[],J=L?p:g,ee=[];for(j=!1,a=!1,o=!1,z=0;z<G;z++)ee[z]=U(x[z]);for(V=0;V<G;V++){if(W=X,T[V]=q(x,ee,T,V),C=240&(X=J[W][w[T[V]]]),X&=15,k[V]=K=J[X][5],C>0)if(C===16){for(z=B;z<V;z++)k[z]=1;B=-1}else B=-1;if(J[X][6])B===-1&&(B=V);else if(B>-1){for(z=B;z<V;z++)k[z]=K;B=-1}ee[V]==="B"&&(k[V]=0),E.hiLevel|=K}o&&function(le,ue,de){for(var be=0;be<de;be++)if(le[be]==="S"){ue[be]=L;for(var me=be-1;me>=0&&le[me]==="WS";me--)ue[me]=L}}(ee,k,G)},A=function(x,k,E,C,z){if(!(z.hiLevel<x)){if(x===1&&L===1&&!a)return k.reverse(),void(E&&E.reverse());for(var V,K,W,B,G=k.length,X=0;X<G;){if(C[X]>=x){for(W=X+1;W<G&&C[W]>=x;)W++;for(B=X,K=W-1;B<K;B++,K--)V=k[B],k[B]=k[K],k[K]=V,E&&(V=E[B],E[B]=E[K],E[K]=V);X=W}X++}}},P=function(x,k,E){var C=x.split(""),z={hiLevel:L};return E||(E=[]),R(C,E,z),function(V,K,W){if(W.hiLevel!==0&&u)for(var B,G=0;G<V.length;G++)K[G]===1&&(B=_.indexOf(V[G]))>=0&&(V[G]=_[B+1])}(C,E,z),A(2,C,k,E,z),A(1,C,k,E,z),C.join("")};return this.__bidiEngine__.doBidiReorder=function(x,k,E){if(function(z,V){if(V)for(var K=0;K<z.length;K++)V[K]=K;l===void 0&&(l=M(z)),d===void 0&&(d=M(z))}(x,k),i||!c||d)if(i&&c&&l^d)L=l?1:0,x=y(x,k,E);else if(!i&&c&&d)L=l?1:0,x=P(x,k,E),x=y(x,k);else if(!i||l||c||d){if(i&&!c&&l^d)x=y(x,k),l?(L=0,x=P(x,k,E)):(L=1,x=P(x,k,E),x=y(x,k));else if(i&&l&&!c&&d)L=1,x=P(x,k,E),x=y(x,k);else if(!i&&!c&&l^d){var C=u;l?(L=1,x=P(x,k,E),L=0,u=!1,x=P(x,k,E),u=C):(L=0,x=P(x,k,E),x=y(x,k),L=1,u=!1,x=P(x,k,E),u=C,x=y(x,k))}}else L=0,x=P(x,k,E);else L=l?1:0,x=P(x,k,E);return x},this.__bidiEngine__.setOptions=function(x){x&&(i=x.isInputVisual,c=x.isOutputVisual,l=x.isInputRtl,d=x.isOutputRtl,u=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var i=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([r.doBidiReorder(a[l])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}($t),$t.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Il(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new KH(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new TH(this.contents),this.head=new MH(this),this.name=new UH(this),this.cmap=new C6(this),this.toUnicode={},this.hhea=new FH(this),this.maxp=new zH(this),this.hmtx=new VH(this),this.post=new $H(this),this.os2=new BH(this),this.loca=new JH(this),this.glyf=new HH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,d;for(d=[],i=0,l=(c=this.bbox).length;i<l;i++)e=c[i],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,o,i,l;for(i=0,o=0,l=(e=""+e).length;0<=l?o<l:o>l;o=0<=l?++o:--o)a=e.charCodeAt(o),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var xo,Il=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,o,i,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*o+65536*i+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)r=e[n],o.push(this.writeByte(r));return o},t}(),TH=function(){var t;function e(r){var n,a,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,o,i,l,c,d,u,h,g,p,w,b;for(b in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),i=Math.floor(h/c),u=16*p-h,(a=new Il).writeInt(this.scalarType),a.writeShort(p),a.writeShort(h),a.writeShort(i),a.writeShort(u),o=16*p,d=a.pos+o,l=null,w=[],r)for(g=r[b],a.writeString(b),a.writeInt(t(g)),a.writeInt(d),a.writeInt(g.length),w=w.concat(g),b==="head"&&(l=d),d+=g.length;d%4;)w.push(0),d++;return a.write(w),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,o,i;for(r=_6.call(r);r.length%4;)r.push(0);for(o=new Il(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=o.readUInt32();return 4294967295&a},e}(),OH={}.hasOwnProperty,Yo=function(t,e){for(var r in e)OH.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};xo=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var MH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Il).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),Tk=function(){function t(e,r){var n,a,o,i,l,c,d,u,h,g,p,w,b,_,v,j,L;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,o=function(){var U,M;for(M=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)M.push(e.readUInt16());return M}(),e.pos+=2,b=function(){var U,M;for(M=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)M.push(e.readUInt16());return M}(),d=function(){var U,M;for(M=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)M.push(e.readUInt16());return M}(),u=function(){var U,M;for(M=[],c=U=0;0<=g?U<g:U>g;c=0<=g?++U:--U)M.push(e.readUInt16());return M}(),a=(this.length-e.pos+this.offset)/2,l=function(){var U,M;for(M=[],c=U=0;0<=a?U<a:U>a;c=0<=a?++U:--U)M.push(e.readUInt16());return M}(),c=v=0,L=o.length;v<L;c=++v)for(_=o[c],n=j=w=b[c];w<=_?j<=_:j>=_;n=w<=_?++j:--j)u[c]===0?i=n+d[c]:(i=l[u[c]/2+(n-w)-(g-c)]||0)!==0&&(i+=d[c]),this.codeMap[n]=65535&i}e.pos=h}return t.encode=function(e,r){var n,a,o,i,l,c,d,u,h,g,p,w,b,_,v,j,L,U,M,q,y,R,A,P,x,k,E,C,z,V,K,W,B,G,X,T,J,ee,le,ue,de,be,me,ve,Le,Te;switch(C=new Il,i=Object.keys(e).sort(function(We,ct){return We-ct}),r){case"macroman":for(b=0,_=function(){var We=[];for(w=0;w<256;++w)We.push(0);return We}(),j={0:0},o={},z=0,B=i.length;z<B;z++)j[me=e[a=i[z]]]==null&&(j[me]=++b),o[a]={old:e[a],new:j[e[a]]},_[a]=j[e[a]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(_),{charMap:o,subtable:C.data,maxGlyphID:b+1};case"unicode":for(k=[],h=[],L=0,j={},n={},v=d=null,V=0,G=i.length;V<G;V++)j[M=e[a=i[V]]]==null&&(j[M]=++L),n[a]={old:M,new:j[M]},l=j[M]-a,v!=null&&l===d||(v&&h.push(v),k.push(a),d=l),v=a;for(v&&h.push(v),h.push(65535),k.push(65535),P=2*(A=k.length),R=2*Math.pow(Math.log(A)/Math.LN2,2),g=Math.log(R/2)/Math.LN2,y=2*A-R,c=[],q=[],p=[],w=K=0,X=k.length;K<X;w=++K){if(x=k[w],u=h[w],x===65535){c.push(0),q.push(0);break}if(x-(E=n[x].new)>=32768)for(c.push(0),q.push(2*(p.length+A-w)),a=W=x;x<=u?W<=u:W>=u;a=x<=u?++W:--W)p.push(n[a].new);else c.push(E-x),q.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*A+2*p.length),C.writeUInt16(0),C.writeUInt16(P),C.writeUInt16(R),C.writeUInt16(g),C.writeUInt16(y),de=0,T=h.length;de<T;de++)a=h[de],C.writeUInt16(a);for(C.writeUInt16(0),be=0,J=k.length;be<J;be++)a=k[be],C.writeUInt16(a);for(ve=0,ee=c.length;ve<ee;ve++)l=c[ve],C.writeUInt16(l);for(Le=0,le=q.length;Le<le;Le++)U=q[Le],C.writeUInt16(U);for(Te=0,ue=p.length;Te<ue;Te++)b=p[Te],C.writeUInt16(b);return{charMap:n,subtable:C.data,maxGlyphID:L+1}}},t}(),C6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)n=new Tk(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,o;return n==null&&(n="macroman"),a=Tk.encode(r,n),(o=new Il).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},e}(),FH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),BH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),$H=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)n=r.readByte(),o.push(this.names.push(r.readString(n)));return o;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],i=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;i=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},e}(),qH=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},UH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,o,i,l,c,d,u,h,g,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},i=h=0,g=a.length;h<g;i=++h)o=a[i],r.pos=o.offset,u=r.readString(o.length),l=new qH(u,o),d[p=o.nameID]==null&&(d[p]=[]),d[o.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),zH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),VH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,o,i,l,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)h.push(r.readInt16());return h}(),this.widths=(function(){var u,h,g,p;for(p=[],u=0,h=(g=this.metrics).length;u<h;u++)i=g[u],p.push(i.advance);return p}).call(this),a=this.widths[this.widths.length-1],d=[],n=l=0;0<=o?l<o:l>o;n=0<=o?++l:--l)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),_6=[].slice,HH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,o,i,l,c,d,u,h,g;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(o=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Il(n.read(o))).readShort(),u=c.readShort(),g=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new GH(c,u,g,d,h):new WH(c,l,u,g,d,h),this.cache[r]))},e.prototype.encode=function(r,n,a){var o,i,l,c,d;for(l=[],i=[],c=0,d=n.length;c<d;c++)o=r[n[c]],i.push(l.length),o&&(l=l.concat(o.encode(a)));return i.push(l.length),{table:l,offsets:i}},e}(),WH=function(){function t(e,r,n,a,o,i){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=i,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),GH=function(){function t(e,r,n,a,o){var i,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Il(_6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),JH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yo(e,xo),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,i;for(i=[],a=0,o=this.length;a<o;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var o,i;for(i=[],a=0,o=this.length;a<o;a+=4)i.push(r.readUInt32());return i}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),o=0,i=0,l=0;l<a.length;++l)if(a[l]=o,i<n.length&&n[i]==l){++i,a[l]=o;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(o+=d)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e}(),KH=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,o;for(r in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,o,i,l,c;for(a={},i=0,l=e.length;i<l;i++)a[o=e[i]]=this.font.glyf.glyphFor(o);for(o in r=[],a)(n=a[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in c=this.glyphsFor(r))n=c[o],a[o]=n;return a},t.prototype.encode=function(e,r){var n,a,o,i,l,c,d,u,h,g,p,w,b,_,v;for(a in n=C6.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),p={0:0},v=n.charMap)p[(c=v[a]).old]=c.new;for(w in g=n.maxGlyphID,i)w in p||(p[w]=g++);return u=function(j){var L,U;for(L in U={},j)U[j[L]]=L;return U}(p),h=Object.keys(u).sort(function(j,L){return j-L}),b=function(){var j,L,U;for(U=[],j=0,L=h.length;j<L;j++)l=h[j],U.push(u[l]);return U}(),o=this.font.glyf.encode(i,b,p),d=this.font.loca.encode(o.offsets,b),_={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();$t.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,o,i;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in o=["<<"],r)i=r[a],o.push("/"+a+" "+e.convert(i));return o.push(">>"),o.join(`
`)}return""+r},e}();function E6(t,e,r,n,a){n=n||{};var o=1.15,i=a.internal.scaleFactor,l=a.internal.getFontSize()/i,c=a.getLineHeightFactor?a.getLineHeightFactor():o,d=l*c,u=/\r\n|\r|\n/g,h="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof t=="string"?t.split(u):t,g=h.length||1),r+=l*(2-o),n.valign==="middle"?r-=g/2*d:n.valign==="bottom"&&(r-=g*d),n.halign==="center"||n.halign==="right"){var p=l;if(n.halign==="center"&&(p*=.5),h&&g>=1){for(var w=0;w<h.length;w++)a.text(h[w],e-a.getStringUnitWidth(h[w])*p,r),r+=d;return a}e-=a.getStringUnitWidth(t)*p}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var Ok={},Id=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Ok=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,o;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var i=this.jsPDFDocument.internal.getFont(),l=i.fontStyle,c=i.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=t.unifyColor(e.lineColor),u&&(o=this.jsPDFDocument).setDrawColor.apply(o,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,o){return this.jsPDFDocument.rect(e,r,n,a,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Ok||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Db=function(t,e){return Db=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Db(t,e)};function A6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Db(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var P6=function(t){A6(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function YH(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function XH(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Y0(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(o){return r.getTextWidth(o)}).reduce(function(o,i){return Math.max(o,i)},0);return a}function D6(t,e,r,n){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:o});var i=I6(a,!1);i&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,i)}function I6(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function lg(t,e){var r,n,a,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function L6(t,e){var r=lg(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function QH(t,e,r,n,a){var o={},i=1.3333333333333333,l=By(e,function(L){return a.getComputedStyle(L).backgroundColor});l!=null&&(o.fillColor=l);var c=By(e,function(L){return a.getComputedStyle(L).color});c!=null&&(o.textColor=c);var d=eW(n,r);d&&(o.cellPadding=d);var u="borderTopColor",h=i*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var p=(parseFloat(g)||0)/h;p&&(o.lineWidth=p)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},o.lineWidth.top||(o.lineWidth.right?u="borderRightColor":o.lineWidth.bottom?u="borderBottomColor":o.lineWidth.left&&(u="borderLeftColor"));var w=By(e,function(L){return a.getComputedStyle(L)[u]});w!=null&&(o.lineColor=w);var b=["left","right","center","justify"];b.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),b=["middle","bottom","top"],b.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(o.fontSize=_/i);var v=ZH(n);v&&(o.fontStyle=v);var j=(n.fontFamily||"").toLowerCase();return t.indexOf(j)!==-1&&(o.font=j),o}function ZH(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function By(t,e){var r=R6(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function R6(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:R6(t.parentElement,e):r}function eW(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=r.map(function(l){return parseInt(l||"0")/n}),i=lg(o,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function T6(t,e,r,n,a){var o,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],h=[],g=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:h,foot:g};for(var p=0;p<l.rows.length;p++){var w=l.rows[p],b=(i=(o=w==null?void 0:w.parentElement)===null||o===void 0?void 0:o.tagName)===null||i===void 0?void 0:i.toLowerCase(),_=tW(c,d,r,w,n,a);_&&(b==="thead"?u.push(_):b==="tfoot"?g.push(_):h.push(_))}return{head:u,body:h,foot:g}}function tW(t,e,r,n,a,o){for(var i=new P6(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;o&&(u=QH(t,c,e,d,r)),i.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:rW(c)})}}var h=r.getComputedStyle(n);if(i.length>0&&(a||h.display!=="none"))return i}function rW(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function nW(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var o=a[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function pi(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var l=arguments[i];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])}return o}function aW(t,e){var r=new Id(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();nW(a,n,e);var o=pi({},a,n,e),i;typeof window<"u"&&(i=window);var l=sW(a,n,e),c=oW(a,n,e),d=iW(r,o),u=cW(r,o,i);return{id:e.tableId,content:u,hooks:c,styles:l,settings:d}}function sW(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=t[c],u=e[c],h=r[c];n.columnStyles=pi({},d,u,h)}else{var g=[t,e,r],p=g.map(function(w){return w[c]||{}});n[c]=pi({},p[0],p[1],p[2])}},o=0,i=Object.keys(n);o<i.length;o++){var l=i[o];a(l)}return n}function oW(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,i=n;o<i.length;o++){var l=i[o];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function iW(t,e){var r,n,a,o,i,l,c,d,u,h,g,p,w=lg(e.margin,40/t.scaleFactor()),b=(r=lW(t,e.startY))!==null&&r!==void 0?r:w.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var j=(o=e.useCss)!==null&&o!==void 0?o:!1,L=e.theme||(j?"plain":"striped"),U=!!e.horizontalPageBreak,M=(i=e.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:j,theme:L,startY:b,margin:w,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:_,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:U,horizontalPageBreakRepeat:M,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function lW(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),o=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;o=i===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function cW(t,e,r){var n=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var i=e.includeHiddenHtml;if(r){var l=T6(t,e.html,r,i,e.useCss)||{};n=l.head||n,a=l.body||n,o=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||dW(n,a,o);return{columns:c,head:n,body:a,foot:o}}function dW(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var i=1,l;Array.isArray(n)?l=n[parseInt(o)]:l=n[o],typeof l=="object"&&!Array.isArray(l)&&(i=(l==null?void 0:l.colSpan)||1);for(var c=0;c<i;c++){var d=void 0;Array.isArray(n)?d=a.length:d=o+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var Ib=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),uW=function(t){A6(e,t);function e(r,n,a,o,i,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=o,c.column=i,c.section=o.section,c}return e}(Ib),hW=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,o,i){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new uW(e,this,n,a,o,i),h=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var o=a[n];o(new Ib(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var o=a[n];o(new Ib(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),O6=function(){function t(e,r,n,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof P6&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var o;return Math.max(n,((o=r.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,o){var i=n.cells[o.index];if(!i)return 0;var l=r.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),d=c+l;return d>a?d:a},0)},t}(),M6=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var i=o!=null?""+o:"",l=/\r\n|\r|\n/g;this.text=i.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,o=n*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=lg(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),fW=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var o=a[n],i=o.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},t}();function pW(t,e){mW(t,e);var r=[],n=0;e.columns.forEach(function(o){var i=o.getMaxCustomCellWidth(e);i?o.width=i:(o.width=o.wrappedWidth,r.push(o)),n+=o.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=Lb(r,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=Lb(r,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),yW(e),xW(e,t),gW(e)}function mW(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=L6(t,e);e.allRows().forEach(function(o){for(var i=0,l=e.columns;i<l.length;i++){var c=l[i],d=o.cells[c.index];if(d){var u=e.hooks.didParseCell;e.callCellHooks(t,u,d,o,c,null);var h=d.padding("horizontal");d.contentWidth=Y0(d.text,d.styles,t)+h;var g=Y0(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=g+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/r;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var i=0,l=e.columns;i<l.length;i++){var c=l[i],d=o.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function Lb(t,e,r){for(var n=e,a=t.reduce(function(p,w){return p+w.wrappedWidth},0),o=0;o<t.length;o++){var i=t[o],l=i.wrappedWidth/a,c=n*l,d=i.width+c,u=r(i),h=d<u?u:d;e-=h-i.width,i.width=h}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(p){return e<0?p.width>r(p):!0});g.length&&(e=Lb(g,e,r))}return e}function gW(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var o=n[a],i=0,l=t.columns;i<l.length;i++){var c=l[i],d=e[c.index];if(r>1)r--,delete o.cells[c.index];else if(d)d.cell.height+=o.height,r=d.cell.colSpan,delete o.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var u=o.cells[c.index];if(!u)continue;if(u.height=o.height,u.rowSpan>1){var h=n.length-a,g=u.rowSpan>h?h:u.rowSpan;e[c.index]={cell:u,left:g,row:o}}}}}function yW(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,o=0,i=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(i-=1,i>1&&t.columns[l+1])o+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+o}else{var d=n.cells[c.index];if(!d)continue;if(i=d.colSpan,o=0,d.colSpan>1){a=d,o+=c.width;continue}d.width=c.width+o}}}function xW(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var o=a[n],i=0,l=t.columns;i<l.length;i++){var c=l[i],d=o.cells[c.index];if(d){e.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,u+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Mk(d.text,u,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Mk(d.text,u,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,u);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<g*d.rowSpan?r={height:g,count:d.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>o.height&&(o.height=g)}}r.count--}}function Mk(t,e,r,n,a){return t.map(function(o){return bW(o,e,r,n,a)})}function bW(t,e,r,n,a){var o=1e4*n.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Y0(t,r,n))return t;for(;e<Y0(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function vW(t,e){var r=new Id(t),n=wW(e,r.scaleFactor()),a=new hW(e,n);return pW(r,a),r.applyStyles(r.userStyles),a}function wW(t,e){var r=t.content,n=jW(r.columns);if(r.head.length===0){var a=Fk(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Fk(n,"foot");a&&r.foot.push(a)}var o=t.settings.theme,i=t.styles;return{columns:n,head:$y("head",r.head,n,i,o,e),body:$y("body",r.body,n,i,o,e),foot:$y("foot",r.foot,n,i,o,e)}}function $y(t,e,r,n,a,o){var i={},l=e.map(function(c,d){for(var u=0,h={},g=0,p=0,w=0,b=r;w<b.length;w++){var _=b[w];if(i[_.index]==null||i[_.index].left===0)if(p===0){var v=void 0;Array.isArray(c)?v=c[_.index-g-u]:v=c[_.dataKey];var j={};typeof v=="object"&&!Array.isArray(v)&&(j=(v==null?void 0:v.styles)||{});var L=NW(t,_,d,a,n,o,j),U=new M6(v,L,t);h[_.dataKey]=U,h[_.index]=U,p=U.colSpan-1,i[_.index]={left:U.rowSpan-1,times:p}}else p--,g++;else i[_.index].left--,p=i[_.index].times,u++}return new O6(c,d,t,h)});return l}function Fk(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=kW(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function kW(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function jW(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new fW(a,e,r)})}function NW(t,e,r,n,a,o,i){var l=XH(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var d=pi({},l.table,l[t],a.styles,c),u=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},h=t==="body"?u:{},g=t==="body"&&r%2===0?pi({},l.alternateRow,a.alternateRowStyles):{},p=YH(o),w=pi({},p,d,g,h);return pi(w,i)}function SW(t,e,r){var n;r===void 0&&(r={});var a=L6(t,e),o=new Map,i=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var p=e.columns.find(function(w){return w.dataKey===g||w.index===g});p&&!o.has(p.index)&&(o.set(p.index,!0),i.push(p.index),l.push(e.columns[p.index]),a-=p.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(o.has(u)){u++;continue}var h=e.columns[u].wrappedWidth;if(d||a>=h)d=!1,i.push(u),l.push(e.columns[u]),a-=h;else break;u++}return{colIndexes:i,columns:l,lastIndex:u-1}}function CW(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=SW(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function _W(t,e){var r=e.settings,n=r.startY,a=r.margin,o={x:a.left,y:n},i=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+i;if(r.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(g,p){return g+p.height},0);l+=d}var u=new Id(t);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(B6(u),o.y=a.top),e.callWillDrawPageHooks(u,o);var h=pi({},o);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?EW(u,e,h,o):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return Ei(u,e,g,o,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(g,p){var w=p===e.body.length-1;X0(u,e,g,w,h,o,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return Ei(u,e,g,o,e.columns)})),D6(u,e,h,o),e.callEndPageHooks(u,o),e.finalY=o.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function EW(t,e,r,n){var a=CW(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?yh(t,e,r,n,d.columns,!0):Bk(t,e,n,d.columns),AW(t,e,r,n,d.columns),qy(t,e,n,d.columns)});else for(var i=-1,l=a[0],c=function(){var d=i;if(l){t.applyStyles(t.userStyles);var u=l.columns;i>=0?yh(t,e,r,n,u,!0):Bk(t,e,n,u),d=$k(t,e,i+1,n,u),qy(t,e,n,u)}var h=d-i;a.slice(1).forEach(function(g){t.applyStyles(t.userStyles),yh(t,e,r,n,g.columns,!0),$k(t,e,i+1,n,g.columns,h),qy(t,e,n,g.columns)}),i=d};i<e.body.length-1;)c()}function Bk(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return Ei(t,e,o,r,n)})}function AW(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(o,i){var l=i===e.body.length-1;X0(t,e,o,l,r,n,a)})}function $k(t,e,r,n,a,o){t.applyStyles(t.userStyles),o=o??e.body.length;var i=Math.min(r+o,e.body.length),l=-1;return e.body.slice(r,i).forEach(function(c,d){var u=r+d===e.body.length-1,h=F6(t,e,u,n);c.canEntireRowFit(h,a)&&(Ei(t,e,c,n,a),l=r+d)}),l}function qy(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return Ei(t,e,o,r,n)})}function PW(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),o=Math.floor((e-a)/n);return Math.max(0,o)}function DW(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var o=0,i=0,l=r.columns;i<l.length;i++){var c=l[i],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new M6(d.raw,d.styles,d.section);u=pi(u,d),u.text=[];var h=PW(d,e,n);d.text.length>h&&(u.text=d.text.splice(h,d.text.length));var g=n.scaleFactor(),p=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(g,p),d.contentHeight>=e&&(d.contentHeight=e,u.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(g,p),u.contentHeight>o&&(o=u.contentHeight),a[c.index]=u}}var w=new O6(t.raw,-1,t.section,a,!0);w.height=o;for(var b=0,_=r.columns;b<_.length;b++){var c=_[b],u=w.cells[c.index];u&&(u.height=w.height);var d=t.cells[c.index];d&&(d.height=t.height)}return w}function IW(t,e,r,n){var a=t.pageSize().height,o=n.settings.margin,i=o.top+o.bottom,l=a-i;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=e.hasRowSpan(n.columns),h=e.getMaxCellHeight(n.columns)>l;return h?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function X0(t,e,r,n,a,o,i){var l=F6(t,e,n,o);if(r.canEntireRowFit(l,i))Ei(t,e,r,o,i);else if(IW(t,r,l,e)){var c=DW(r,l,e,t);Ei(t,e,r,o,i),yh(t,e,a,o,i),X0(t,e,c,n,a,o,i)}else yh(t,e,a,o,i),X0(t,e,r,n,a,o,i)}function Ei(t,e,r,n,a){n.x=e.settings.margin.left;for(var o=0,i=a;o<i.length;o++){var l=i[o],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}LW(t,c,n);var u=c.getTextPos();E6(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function LW(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=I6(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),RW(t,e,r,n.lineWidth))}function RW(t,e,r,n){var a,o,i,l;n.top&&(a=r.x,o=r.y,i=r.x+e.width,l=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,o,i,l)),n.bottom&&(a=r.x,o=r.y+e.height,i=r.x+e.width,l=r.y+e.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,o,i,l)),n.left&&(a=r.x,o=r.y,i=r.x,l=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,o,i,l)),n.right&&(a=r.x+e.width,o=r.y,i=r.x+e.width,l=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,o,i,l));function c(d,u,h,g,p){t.getDocument().setLineWidth(d),t.getDocument().line(u,h,g,p,"S")}}function F6(t,e,r,n){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function yh(t,e,r,n,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(l){return Ei(t,e,l,n,a)}),e.callEndPageHooks(t,n);var i=e.settings.margin;D6(t,e,r,n),B6(t),e.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Ei(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function B6(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function TW(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=aW(this,n),o=vW(this,a);return _W(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){E6(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Id.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Id.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Id(this),o=T6(a,e,window,r,!1),i=o.head,l=o.body,c=((n=i[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var Uy;try{if(typeof window<"u"&&window){var qk=window,Uk=qk.jsPDF||((Uy=qk.jspdf)===null||Uy===void 0?void 0:Uy.jsPDF);Uk&&TW(Uk)}}catch(t){console.error("Could not apply autoTable plugin",t)}async function OW(t,e,r){const n=new $t({orientation:"portrait",unit:"mm",format:"a4"});n.setFont("helvetica"),await MW(n,r),n.setFontSize(16),n.setFont("helvetica","bold"),n.text("DEMONSTRATIVO DE RESULTADOS DO EXERCCIO (DRE)",105,40,{align:"center"}),n.setFontSize(10),n.setFont("helvetica","normal");const a=new Date(e.startDate).toLocaleDateString("pt-BR"),o=new Date(e.endDate).toLocaleDateString("pt-BR");n.text(`Perodo: ${a} a ${o}`,105,46,{align:"center"});let i=55;for(const c of t)i=FW(n,c,i),i>270&&(n.addPage(),i=20);const l=n.getNumberOfPages();for(let c=1;c<=l;c++)n.setPage(c),n.setFontSize(8),n.text(`Pgina ${c} de ${l}`,105,290,{align:"center"});n.save("DRE_Report.pdf")}async function MW(t,e){let r=!1;if(e.logo)try{const n=new Image;await new Promise(a=>{n.onload=()=>{try{n.width>0&&n.height>0&&(t.addImage(n,"PNG",15,10,30,20),r=!0)}catch(o){console.error("Error adding logo to PDF:",o)}a()},n.onerror=()=>{console.error("Error loading company logo"),a()},n.crossOrigin="anonymous",n.src=e.logo})}catch(n){console.error("Error in logo loading process:",n)}t.setFontSize(16),t.setFont("helvetica","bold"),t.text(e.name,r?50:15,15),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`CNPJ: ${e.cnpj}`,r?50:15,22),t.setDrawColor(200,200,200),t.line(15,30,195,30)}function FW(t,e,r){const n=["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(e.title),a=e.categories.reduce((l,c)=>l+c.total,0);t.setFillColor(n?230:240,n?230:240,n?230:240),t.rect(15,r,180,8,"F"),t.setFontSize(11),t.setFont("helvetica",n?"bold":"normal"),t.text(e.title,20,r+5);const o=zy(a);t.setTextColor(a<0?255:0,0,0),t.text(o,190,r+5,{align:"right"}),t.setTextColor(0,0,0);let i=r+10;if(!n)for(const l of e.categories){t.setFontSize(10),t.setFont("helvetica","normal"),t.text(l.name,25,i+5);const c=zy(l.total);t.setTextColor(l.total<0?255:0,0,0),t.text(c,190,i+5,{align:"right"}),t.setTextColor(0,0,0),i+=8;for(const d of l.subcategories){i>270&&(t.addPage(),i=20),t.setFontSize(9),t.text(d.name,30,i+4);const u=zy(d.total);t.setTextColor(d.total<0?255:0,0,0),t.text(u,190,i+4,{align:"right"}),t.setTextColor(0,0,0),i+=6}i+=2}return i+=5,t.setDrawColor(200,200,200),t.line(15,i-2,195,i-2),i}function zy(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}async function BW(t,e,r){const n=$W(t,e,r),a=await qW(n);UW(a,"DRE_Report.xlsx")}function $W(t,e,r){const n=new Date(e.startDate).toLocaleDateString("pt-BR"),a=new Date(e.endDate).toLocaleDateString("pt-BR"),o=[["DEMONSTRATIVO DE RESULTADOS DO EXERCCIO (DRE)"],[`${r.name} - ${r.cnpj}`],[`Perodo: ${n} a ${a}`],[""]],i=[["Descrio","Valor (R$)"]],l=[];t.forEach(u=>{const h=["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(u.title),g=u.categories.reduce((p,w)=>p+w.total,0);l.push([u.title,g]),h||u.categories.forEach(p=>{l.push([`    ${p.name}`,p.total]),p.subcategories.forEach(w=>{l.push([`        ${w.name}`,w.total])})})});const c=VW(t);return l.push(["RESULTADO LQUIDO DO EXERCCIO",c]),{sheets:[{name:"DRE",data:[...o,...i,...l]}]}}async function qW(t){const e=t.sheets[0].data;let r="";return e.forEach(a=>{const o=a.map(i=>typeof i=="number"?zW(i):typeof i=="string"?`"${i.replace(/"/g,'""')}"`:i);r+=o.join(",")+`\r
`}),new TextEncoder().encode(r).buffer}function UW(t,e){const r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(n)},0)}function zW(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function VW(t){return t.reduce((e,r)=>{const n=r.categories.reduce((a,o)=>a+o.total,0);return r.title.includes("Receita")||r.title==="Outras Receitas"||r.title.includes("Lucro")||r.title.includes("Resultado")?e+n:r.title.includes("Despesa")||r.title==="Outras Despesas"||r.title.includes("Custo")||r.title.includes("Deduo")||r.title.includes("IR/CSLL")?e-Math.abs(n):e},0)}const tl=t=>["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(t),zk=t=>({COST_OF_SALES:"Custos",OPERATIONAL_REVENUE:"Receita Operacional",OPERATING_EXPENSES:"Despesas Operacionais",FINANCIAL_REVENUE:"Receitas Financeiras",FINANCIAL_EXPENSES:"Despesas Financeiras",GROSS_REVENUE:"Receita Bruta",NET_REVENUE:"Receita Lquida",TAX_EXPENSES:"IR/CSLL",NET_PROFIT:"Resultado Lquido"})[t]||t;function HW(){const[t,e]=D.useState(!1),[r,n]=D.useState(null),[a,o]=D.useState({cnpjId:"",startDate:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[i,l]=D.useState([]),[c,d]=D.useState([]),[u,h]=D.useState([]),[g,p]=D.useState(null),[w,b]=D.useState(!1),_=[{id:"1",name:"Empresa Principal",cnpj:"12.345.678/0001-90"},{id:"2",name:"Filial SP",cnpj:"98.765.432/0001-10"},{id:"3",name:"Filial RJ",cnpj:"45.678.901/0001-23"}],v=async()=>{e(!0),n(null);try{const{data:P,error:x}=await Ee.functions.invoke("get-dre",{body:{start_date_param:a.startDate,end_date_param:a.endDate}});if(x)throw x;l(P)}catch(P){console.error("Erro ao buscar DRE:",P),n("Erro ao carregar dados do DRE. Por favor, tente novamente.")}finally{e(!1)}},j=async()=>{e(!0);try{const P=i.map(C=>C.title),x=i.flatMap(C=>C.categories.map(z=>z.id));d(P),h(x);const k=a.cnpjId?_.find(C=>C.id===a.cnpjId):{name:"Todas as Empresas",cnpj:"Consolidado"},E={name:(k==null?void 0:k.name)||"Empresa",cnpj:(k==null?void 0:k.cnpj)||"",logo:"https://via.placeholder.com/150x50?text=Logo"};await OW(i,a,E)}catch(P){console.error("Error exporting DRE as PDF:",P),n("Erro ao exportar DRE como PDF. Por favor, tente novamente.")}finally{e(!1)}},L=async()=>{e(!0);try{const P=i.map(C=>C.title),x=i.flatMap(C=>C.categories.map(z=>z.id));d(P),h(x);const k=a.cnpjId?_.find(C=>C.id===a.cnpjId):{name:"Todas as Empresas",cnpj:"Consolidado"},E={name:(k==null?void 0:k.name)||"Empresa",cnpj:(k==null?void 0:k.cnpj)||"",logo:"https://via.placeholder.com/150x50?text=Logo"};await BW(i,a,E)}catch(P){console.error("Error exporting DRE as Excel:",P),n("Erro ao exportar DRE como Excel. Por favor, tente novamente.")}finally{e(!1)}},U=P=>{d(x=>x.includes(P)?x.filter(k=>k!==P):[...x,P])},M=P=>{h(x=>x.includes(P)?x.filter(k=>k!==P):[...x,P])},q=P=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P),y=P=>P.categories.reduce((x,k)=>x+k.total,0),R=P=>P>0?"text-green-600 dark:text-green-400":P<0?"text-red-600 dark:text-red-400 font-bold":"text-secondary-600 dark:text-secondary-400",A=P=>{const x={...P,date:"2024-01-15",competenceDate:"2024-01-01",beneficiary:"Fornecedor XYZ Ltda",bankAccount:"Banco do Brasil - Ag. 1234 / CC 56789-0",cnpj:"Empresa Principal - 12.345.678/0001-90",category:"Despesas Operacionais > Despesas Administrativas > Pessoal",attachments:["https://example.com/attachment1.pdf","https://example.com/attachment2.pdf"]};p(x),b(!0)};return s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"DRE  Demonstrativo de Resultados"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Visualize o desempenho financeiro da empresa"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:j,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(Pl,{className:"h-5 w-5"}),s.jsx("span",{children:"PDF"})]}),s.jsxs("button",{onClick:L,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(j4,{className:"h-5 w-5"}),s.jsx("span",{children:"Excel"})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:a.cnpjId,onChange:P=>o({...a,cnpjId:P.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",children:[s.jsx("option",{value:"",children:"Todos os CNPJs"}),_.map(P=>s.jsxs("option",{value:P.id,children:[P.name," - ",P.cnpj]},P.id))]}),s.jsx(cn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsxs("div",{className:"flex-1 sm:flex-none sm:w-48",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Incio"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:a.startDate,onChange:P=>o({...a,startDate:P.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10"}),s.jsx(El,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsxs("div",{className:"flex-1 sm:flex-none sm:w-48",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Fim"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:a.endDate,onChange:P=>o({...a,endDate:P.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10"}),s.jsx(El,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsx("div",{className:"flex-none self-end",children:s.jsxs("button",{onClick:v,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors h-10",children:[s.jsx(jc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtrar"})]})})]})}),r&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg",children:r}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Demonstrativo de Resultados"}),s.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["Perodo: ",new Date(a.startDate).toLocaleDateString("pt-BR")," a ",new Date(a.endDate).toLocaleDateString("pt-BR")]})]}),t?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary-500"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider w-3/4",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider w-1/4",children:"Valor (R$)"})]})}),s.jsxs("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:[i.map(P=>s.jsxs(Ar.Fragment,{children:[s.jsxs("tr",{className:`
          ${tl(P.title)?"bg-secondary-100 dark:bg-secondary-700 font-semibold":"bg-secondary-50 dark:bg-secondary-800 cursor-pointer hover:bg-secondary-100 dark:hover:bg-secondary-700"} transition-colors
        `,onClick:()=>!tl(P.title)&&U(P.title),children:[s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center",children:[tl(P.title)?null:c.includes(P.title)?s.jsx(v0,{className:"h-5 w-5 text-secondary-500 mr-2"}):s.jsx(Ni,{className:"h-5 w-5 text-secondary-500 mr-2"}),zk(P.title)]})}),s.jsx("td",{className:`px-6 py-3 text-sm ${tl(P.title)?"font-bold text-lg":"font-semibold"} text-right`,children:s.jsx("span",{className:R(y(P)),children:q(y(P))})})]}),(c.includes(P.title)||tl(P.title))&&P.categories.map(x=>s.jsxs(Ar.Fragment,{children:[!tl(P.title)&&s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors cursor-pointer",onClick:()=>M(x.id),children:[s.jsx("td",{className:"px-6 py-3 text-sm text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center pl-6",children:[x.subcategories.length>0&&(u.includes(x.id)?s.jsx(v0,{className:"h-4 w-4 text-secondary-500 mr-2"}):s.jsx(Ni,{className:"h-4 w-4 text-secondary-500 mr-2"})),x.name]})}),s.jsx("td",{className:"px-6 py-3 text-sm text-right",children:s.jsx("span",{className:R(x.total??0),children:q(x.total??0)})})]}),!tl(P.title)&&u.includes(x.id)&&x.subcategories.map(k=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors cursor-pointer",onClick:()=>A(k),children:[s.jsx("td",{className:"px-6 py-2 text-sm text-secondary-700 dark:text-secondary-300",children:s.jsx("div",{className:"pl-12",children:k.name})}),s.jsx("td",{className:"px-6 py-2 text-sm text-right",children:s.jsx("span",{className:R(k.total??0),children:q(k.total??0)})})]},k.id))]},x.id)),!tl(P.title)&&c.includes(P.title)&&s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("td",{className:"px-6 py-2 text-sm font-medium text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"pl-6",children:["Total ",zk(P.title)]})}),s.jsx("td",{className:"px-6 py-2 text-sm font-medium text-right",children:s.jsx("span",{className:R(y(P)),children:q(y(P))})})]})]},P.title)),s.jsxs("tr",{className:"bg-secondary-100 dark:bg-secondary-700 font-bold",children:[s.jsx("td",{className:"px-6 py-4 text-secondary-900 dark:text-white",children:"RESULTADO LQUIDO DO EXERCCIO"}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:`text-xl ${Vk(i)<0?"text-red-600 dark:text-red-400 font-bold":"text-green-600 dark:text-green-400"}`,children:q(Vk(i))})})]})]})]})})]}),g&&s.jsx(QV,{isOpen:w,onClose:()=>b(!1),entry:g})]})}function Vk(t){return t.reduce((e,r)=>{const n=r.categories.reduce((i,l)=>i+(l.total||0),0),a=["OPERATIONAL_REVENUE","GROSS_REVENUE","FINANCIAL_REVENUE","NET_REVENUE"],o=["COST_OF_SALES","OPERATING_EXPENSES","FINANCIAL_EXPENSES","TAX_EXPENSES"];return a.includes(r.title)?e+n:o.includes(r.title)?e-Math.abs(n):e},0)}window.$=o6;window.jQuery=o6;const WW=[{path:"dashboard",permission:"dashboard"},{path:"payment-center",permission:"payment-center"},{path:"payment-requests",permission:"payment-requests"},{path:"receivables-center",permission:"receivables-center"},{path:"payment-approvals",permission:"payment-approvals"},{path:"bank-statement",permission:"bank-statement"},{path:"bank-reconciliation",permission:"bank-reconciliation"},{path:"credit-card-reconciliation",permission:"credit-card-reconciliation"},{path:"refund-requests",permission:"refund-requests"},{path:"refund-reasons",permission:"refund-reasons"},{path:"refund-responsibles",permission:"refund-responsibles"},{path:"asset-depreciation",permission:"asset-depreciation"},{path:"passives",permission:"passives"},{path:"equity",permission:"equity"},{path:"income-statement",permission:"income-statement"},{path:"cash-flow",permission:"cash-flow"},{path:"accounting-export",permission:"accounting-export"},{path:"cnpjs",permission:"cnpjs"},{path:"users",permission:"users"},{path:"permissions",permission:"permissions"},{path:"financial-categories",permission:"financial-categories"},{path:"payment-methods",permission:"payment-methods"},{path:"bank-accounts",permission:"bank-accounts"},{path:"email-config",permission:"email-config"},{path:"dda-config",permission:"dda-config"},{path:"alerts",permission:"alerts"},{path:"receivables-forecast",permission:"receivables-forecast"}];function GW(){return s.jsx(wD,{children:s.jsx(JW,{})})}function JW(){const t=ef(),[e,r]=D.useState(()=>!!localStorage.getItem("userId")),[n,a]=D.useState(()=>{const w=localStorage.getItem("theme");return w||"light"}),[o,i]=D.useState("");D.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const[l,c]=D.useState("dashboard"),d=w=>{w==="logout"?p():(t(`/${w}`),c(w))},u=()=>{const w=n==="light"?"dark":"light";a(w),localStorage.setItem("theme",w)},h=()=>{const w=JSON.parse(localStorage.getItem("userPermissions")||"[]");console.log(w);const b=WW.find(_=>w.includes(_.permission));return b?b.path:"unauthorized"},g=()=>{r(!0);const w=h();console.log(w),i(w),t(`/${w}`)},p=()=>{r(!1),localStorage.clear(),t("/login")};return s.jsx("div",{className:n==="dark"?"dark":"",children:s.jsxs("div",{className:"min-h-screen bg-secondary-50 dark:bg-secondary-900",children:[e&&s.jsx(e7,{onPageChange:d,currentPage:l}),s.jsxs("div",{className:`relative ${e?"md:ml-16":""}`,children:[e&&s.jsx(t7,{theme:n,onThemeToggle:u}),s.jsx("main",{className:`${e?"pt-16":""}`,children:s.jsxs(XP,{children:[s.jsx(Sr,{path:"/",element:e?s.jsx(Yu,{to:`/${h()}`,replace:!0}):s.jsx(Yu,{to:"/login",replace:!0})}),s.jsx(Sr,{path:"/login",element:s.jsx(JV,{onLogin:g})}),s.jsx(Sr,{path:"/reset-password",element:s.jsx(KV,{})}),e?s.jsxs(s.Fragment,{children:[s.jsx(Sr,{path:"/unauthorized",element:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"You don't have permission to access any pages. Please contact your administrator."})]})}),s.jsx(Sr,{path:"/dashboard",element:s.jsx(un,{requiredPermission:"dashboard",children:s.jsx(GV,{})})}),s.jsx(Sr,{path:"/users",element:s.jsx(un,{requiredPermission:"users",children:s.jsx(ZL,{})})}),s.jsx(Sr,{path:"/permissions",element:s.jsx(un,{requiredPermission:"permissions",children:s.jsx(i8,{})})}),s.jsx(Sr,{path:"/cnpjs",element:s.jsx(un,{requiredPermission:"cnpjs",children:s.jsx(LL,{})})}),s.jsx(Sr,{path:"/payment-methods",element:s.jsx(un,{requiredPermission:"payment-methods",children:s.jsx(g8,{})})}),s.jsx(Sr,{path:"/bank-accounts",element:s.jsx(un,{requiredPermission:"bank-accounts",children:s.jsx(v8,{})})}),s.jsx(Sr,{path:"/financial-categories",element:s.jsx(un,{requiredPermission:"financial-categories",children:s.jsx(iM,{})})}),s.jsx(Sr,{path:"/payment-requests",element:s.jsx(un,{requiredPermission:"payment-requests",children:s.jsx(QF,{})})}),s.jsx(Sr,{path:"/payment-center",element:s.jsx(un,{requiredPermission:"payment-center",children:s.jsx(JB,{})})}),s.jsx(Sr,{path:"/receivables-center",element:s.jsx(un,{requiredPermission:"receivables-center",children:s.jsx(d$,{})})}),s.jsx(Sr,{path:"/payment-approvals",element:s.jsx(un,{requiredPermission:"payment-approvals",children:s.jsx(p$,{})})}),s.jsx(Sr,{path:"/receivables-forecast",element:s.jsx(zL,{})}),s.jsx(Sr,{path:"/email-config",element:s.jsx(un,{requiredPermission:"email-config",children:s.jsx(v$,{})})}),s.jsx(Sr,{path:"/dda-config",element:s.jsx(un,{requiredPermission:"dda-config",children:s.jsx(k$,{})})}),s.jsx(Sr,{path:"/refund-requests",element:s.jsx(un,{requiredPermission:"refund-requests",children:s.jsx(D$,{})})}),s.jsx(Sr,{path:"/refund-reasons",element:s.jsx(un,{requiredPermission:"refund-reasons",children:s.jsx(S$,{})})}),s.jsx(Sr,{path:"/refund-responsibles",element:s.jsx(un,{requiredPermission:"refund-responsibles",children:s.jsx(E$,{})})}),s.jsx(Sr,{path:"/asset-depreciation",element:s.jsx(un,{requiredPermission:"asset-depreciation",children:s.jsx(T$,{})})}),s.jsx(Sr,{path:"/passives",element:s.jsx(un,{requiredPermission:"passives",children:s.jsx($$,{})})}),s.jsx(Sr,{path:"/bank-statement",element:s.jsx(un,{requiredPermission:"bank-statement",children:s.jsx(zV,{})})}),s.jsx(Sr,{path:"/bank-reconciliation",element:s.jsx(un,{requiredPermission:"bank-reconciliation",children:s.jsx(VV,{})})}),s.jsx(Sr,{path:"/credit-card-reconciliation",element:s.jsx(un,{requiredPermission:"credit-card-reconciliation",children:s.jsx(WV,{})})}),s.jsx(Sr,{path:"/income-statement",element:s.jsx(un,{requiredPermission:"income-statement",children:s.jsx(HW,{})})}),s.jsx(Sr,{path:"*",element:s.jsx(Yu,{to:`/${o}`,replace:!0})})]}):s.jsx(Sr,{path:"*",element:s.jsx(Yu,{to:"/login",replace:!0})})]})})]})]})})}a4(document.getElementById("root")).render(s.jsx(D.StrictMode,{children:s.jsx(GW,{})}));export{Zu as _,ms as c,Hk as g};

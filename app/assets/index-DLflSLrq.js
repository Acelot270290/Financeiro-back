var y_=Object.defineProperty;var x_=(e,t,r)=>t in e?y_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var d2=(e,t,r)=>x_(e,typeof t!="symbol"?t+"":t,r);function b_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $k(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var qk={exports:{}},K0={},Uk={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=Symbol.for("react.element"),w_=Symbol.for("react.portal"),k_=Symbol.for("react.fragment"),j_=Symbol.for("react.strict_mode"),N_=Symbol.for("react.profiler"),S_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),__=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),A_=Symbol.for("react.memo"),P_=Symbol.for("react.lazy"),u2=Symbol.iterator;function D_(e){return e===null||typeof e!="object"?null:(e=u2&&e[u2]||e["@@iterator"],typeof e=="function"?e:null)}var zk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vk=Object.assign,Hk={};function Wd(e,t,r){this.props=e,this.context=t,this.refs=Hk,this.updater=r||zk}Wd.prototype.isReactComponent={};Wd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wk(){}Wk.prototype=Wd.prototype;function Pb(e,t,r){this.props=e,this.context=t,this.refs=Hk,this.updater=r||zk}var Db=Pb.prototype=new Wk;Db.constructor=Pb;Vk(Db,Wd.prototype);Db.isPureReactComponent=!0;var f2=Array.isArray,Gk=Object.prototype.hasOwnProperty,Lb={current:null},Jk={key:!0,ref:!0,__self:!0,__source:!0};function Kk(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Gk.call(t,n)&&!Jk.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Gf,type:e,key:o,ref:i,props:a,_owner:Lb.current}}function L_(e,t){return{$$typeof:Gf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ib(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gf}function I_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var h2=/\/+/g;function Ng(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I_(""+e.key):t.toString(36)}function xp(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gf:case w_:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Ng(i,0):n,f2(a)?(r="",e!=null&&(r=e.replace(h2,"$&/")+"/"),xp(a,t,r,"",function(d){return d})):a!=null&&(Ib(a)&&(a=L_(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(h2,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",f2(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Ng(o,l);i+=xp(o,t,r,c,a)}else if(c=D_(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Ng(o,l++),i+=xp(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Oh(e,t,r){if(e==null)return e;var n=[],a=0;return xp(e,n,"","",function(o){return t.call(r,o,a++)}),n}function R_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Da={current:null},bp={transition:null},T_={ReactCurrentDispatcher:Da,ReactCurrentBatchConfig:bp,ReactCurrentOwner:Lb};function Yk(){throw Error("act(...) is not supported in production builds of React.")}ar.Children={map:Oh,forEach:function(e,t,r){Oh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Oh(e,function(){t++}),t},toArray:function(e){return Oh(e,function(t){return t})||[]},only:function(e){if(!Ib(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ar.Component=Wd;ar.Fragment=k_;ar.Profiler=N_;ar.PureComponent=Pb;ar.StrictMode=j_;ar.Suspense=E_;ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T_;ar.act=Yk;ar.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vk({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Lb.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gk.call(t,c)&&!Jk.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Gf,type:e.type,key:a,ref:o,props:n,_owner:i}};ar.createContext=function(e){return e={$$typeof:C_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S_,_context:e},e.Consumer=e};ar.createElement=Kk;ar.createFactory=function(e){var t=Kk.bind(null,e);return t.type=e,t};ar.createRef=function(){return{current:null}};ar.forwardRef=function(e){return{$$typeof:__,render:e}};ar.isValidElement=Ib;ar.lazy=function(e){return{$$typeof:P_,_payload:{_status:-1,_result:e},_init:R_}};ar.memo=function(e,t){return{$$typeof:A_,type:e,compare:t===void 0?null:t}};ar.startTransition=function(e){var t=bp.transition;bp.transition={};try{e()}finally{bp.transition=t}};ar.unstable_act=Yk;ar.useCallback=function(e,t){return Da.current.useCallback(e,t)};ar.useContext=function(e){return Da.current.useContext(e)};ar.useDebugValue=function(){};ar.useDeferredValue=function(e){return Da.current.useDeferredValue(e)};ar.useEffect=function(e,t){return Da.current.useEffect(e,t)};ar.useId=function(){return Da.current.useId()};ar.useImperativeHandle=function(e,t,r){return Da.current.useImperativeHandle(e,t,r)};ar.useInsertionEffect=function(e,t){return Da.current.useInsertionEffect(e,t)};ar.useLayoutEffect=function(e,t){return Da.current.useLayoutEffect(e,t)};ar.useMemo=function(e,t){return Da.current.useMemo(e,t)};ar.useReducer=function(e,t,r){return Da.current.useReducer(e,t,r)};ar.useRef=function(e){return Da.current.useRef(e)};ar.useState=function(e){return Da.current.useState(e)};ar.useSyncExternalStore=function(e,t,r){return Da.current.useSyncExternalStore(e,t,r)};ar.useTransition=function(){return Da.current.useTransition()};ar.version="18.3.1";Uk.exports=ar;var L=Uk.exports;const Mr=$k(L),p2=b_({__proto__:null,default:Mr},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_=L,M_=Symbol.for("react.element"),F_=Symbol.for("react.fragment"),B_=Object.prototype.hasOwnProperty,$_=O_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q_={key:!0,ref:!0,__self:!0,__source:!0};function Xk(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)B_.call(t,n)&&!q_.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:M_,type:e,key:o,ref:i,props:a,_owner:$_.current}}K0.Fragment=F_;K0.jsx=Xk;K0.jsxs=Xk;qk.exports=K0;var s=qk.exports,Qk={exports:{}},xs={},Zk={exports:{}},ej={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,ee){var le=V.length;V.push(ee);e:for(;0<le;){var Q=le-1>>>1,M=V[Q];if(0<a(M,ee))V[Q]=ee,V[le]=M,le=Q;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var ee=V[0],le=V.pop();if(le!==ee){V[0]=le;e:for(var Q=0,M=V.length,J=M>>>1;Q<J;){var te=2*(Q+1)-1,ue=V[te],ie=te+1,de=V[ie];if(0>a(ue,le))ie<M&&0>a(de,ue)?(V[Q]=de,V[ie]=le,Q=ie):(V[Q]=ue,V[te]=le,Q=te);else if(ie<M&&0>a(de,le))V[Q]=de,V[ie]=le,Q=ie;else break e}}return ee}function a(V,ee){var le=V.sortIndex-ee.sortIndex;return le!==0?le:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,f=null,b=3,p=!1,w=!1,g=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(V){for(var ee=r(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=V)n(d),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=r(d)}}function H(V){if(g=!1,R(V),!w)if(r(c)!==null)w=!0,B(U);else{var ee=r(d);ee!==null&&G(H,ee.startTime-V)}}function U(V,ee){w=!1,g&&(g=!1,v(I),I=-1),p=!0;var le=b;try{for(R(ee),f=r(c);f!==null&&(!(f.expirationTime>ee)||V&&!y());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,b=f.priorityLevel;var M=Q(f.expirationTime<=ee);ee=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(c)&&n(c),R(ee)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var te=r(d);te!==null&&G(H,te.startTime-ee),J=!1}return J}finally{f=null,b=le,p=!1}}var F=!1,x=null,I=-1,S=5,C=-1;function y(){return!(e.unstable_now()-C<S)}function k(){if(x!==null){var V=e.unstable_now();C=V;var ee=!0;try{ee=x(!0,V)}finally{ee?P():(F=!1,x=null)}}else F=!1}var P;if(typeof j=="function")P=function(){j(k)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,q=E.port2;E.port1.onmessage=k,P=function(){q.postMessage(null)}}else P=function(){A(k,0)};function B(V){x=V,F||(F=!0,P())}function G(V,ee){I=A(function(){V(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,B(U))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(V){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var le=b;b=ee;try{return V()}finally{b=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var le=b;b=V;try{return ee()}finally{b=le}},e.unstable_scheduleCallback=function(V,ee,le){var Q=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Q+le:Q):le=Q,V){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,V={id:u++,callback:ee,priorityLevel:V,startTime:le,expirationTime:M,sortIndex:-1},le>Q?(V.sortIndex=le,t(d,V),r(c)===null&&V===r(d)&&(g?(v(I),I=-1):g=!0,G(H,le-Q))):(V.sortIndex=M,t(c,V),w||p||(w=!0,B(U))),V},e.unstable_shouldYield=y,e.unstable_wrapCallback=function(V){var ee=b;return function(){var le=b;b=ee;try{return V.apply(this,arguments)}finally{b=le}}}})(ej);Zk.exports=ej;var U_=Zk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_=L,gs=U_;function lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tj=new Set,yf={};function xc(e,t){Dd(e,t),Dd(e+"Capture",t)}function Dd(e,t){for(yf[e]=t,e=0;e<t.length;e++)tj.add(t[e])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qy=Object.prototype.hasOwnProperty,V_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m2={},g2={};function H_(e){return qy.call(g2,e)?!0:qy.call(m2,e)?!1:V_.test(e)?g2[e]=!0:(m2[e]=!0,!1)}function W_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G_(e,t,r,n){if(t===null||typeof t>"u"||W_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function La(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ia={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ia[e]=new La(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ia[t]=new La(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ia[e]=new La(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ia[e]=new La(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ia[e]=new La(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ia[e]=new La(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ia[e]=new La(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ia[e]=new La(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ia[e]=new La(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rb=/[\-:]([a-z])/g;function Tb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rb,Tb);ia[t]=new La(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rb,Tb);ia[t]=new La(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rb,Tb);ia[t]=new La(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ia[e]=new La(e,1,!1,e.toLowerCase(),null,!1,!1)});ia.xlinkHref=new La("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ia[e]=new La(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ob(e,t,r,n){var a=ia.hasOwnProperty(t)?ia[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G_(t,r,a,n)&&(r=null),n||a===null?H_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ei=z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mh=Symbol.for("react.element"),td=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Uy=Symbol.for("react.profiler"),rj=Symbol.for("react.provider"),nj=Symbol.for("react.context"),Fb=Symbol.for("react.forward_ref"),zy=Symbol.for("react.suspense"),Vy=Symbol.for("react.suspense_list"),Bb=Symbol.for("react.memo"),nl=Symbol.for("react.lazy"),aj=Symbol.for("react.offscreen"),y2=Symbol.iterator;function Pu(e){return e===null||typeof e!="object"?null:(e=y2&&e[y2]||e["@@iterator"],typeof e=="function"?e:null)}var ln=Object.assign,Sg;function Hu(e){if(Sg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sg=t&&t[1]||""}return`
`+Sg+e}var Cg=!1;function _g(e,t){if(!e||Cg)return"";Cg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Cg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hu(e):""}function J_(e){switch(e.tag){case 5:return Hu(e.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return e=_g(e.type,!1),e;case 11:return e=_g(e.type.render,!1),e;case 1:return e=_g(e.type,!0),e;default:return""}}function Hy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rd:return"Fragment";case td:return"Portal";case Uy:return"Profiler";case Mb:return"StrictMode";case zy:return"Suspense";case Vy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nj:return(e.displayName||"Context")+".Consumer";case rj:return(e._context.displayName||"Context")+".Provider";case Fb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bb:return t=e.displayName||null,t!==null?t:Hy(e.type)||"Memo";case nl:t=e._payload,e=e._init;try{return Hy(e(t))}catch{}}return null}function K_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hy(t);case 8:return t===Mb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Y_(e){var t=sj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fh(e){e._valueTracker||(e._valueTracker=Y_(e))}function oj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wy(e,t){var r=t.checked;return ln({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function x2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ij(e,t){t=t.checked,t!=null&&Ob(e,"checked",t,!1)}function Gy(e,t){ij(e,t);var r=Sl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jy(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jy(e,t.type,Sl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function b2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jy(e,t,r){(t!=="number"||Hp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wu=Array.isArray;function pd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ky(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(lt(91));return ln({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function v2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(lt(92));if(Wu(r)){if(1<r.length)throw Error(lt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sl(r)}}function lj(e,t){var r=Sl(t.value),n=Sl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function w2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bh,dj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bh=Bh||document.createElement("div"),Bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X_=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(e){X_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qu[t]=Qu[e]})});function uj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qu.hasOwnProperty(e)&&Qu[e]?(""+t).trim():t+"px"}function fj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=uj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Q_=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xy(e,t){if(t){if(Q_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(lt(62))}}function Qy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=null;function $b(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ex=null,md=null,gd=null;function k2(e){if(e=Yf(e)){if(typeof ex!="function")throw Error(lt(280));var t=e.stateNode;t&&(t=em(t),ex(e.stateNode,e.type,t))}}function hj(e){md?gd?gd.push(e):gd=[e]:md=e}function pj(){if(md){var e=md,t=gd;if(gd=md=null,k2(e),t)for(e=0;e<t.length;e++)k2(t[e])}}function mj(e,t){return e(t)}function gj(){}var Eg=!1;function yj(e,t,r){if(Eg)return e(t,r);Eg=!0;try{return mj(e,t,r)}finally{Eg=!1,(md!==null||gd!==null)&&(gj(),pj())}}function bf(e,t){var r=e.stateNode;if(r===null)return null;var n=em(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(lt(231,t,typeof r));return r}var tx=!1;if(bi)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){tx=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{tx=!1}function Z_(e,t,r,n,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Zu=!1,Wp=null,Gp=!1,rx=null,eE={onError:function(e){Zu=!0,Wp=e}};function tE(e,t,r,n,a,o,i,l,c){Zu=!1,Wp=null,Z_.apply(eE,arguments)}function rE(e,t,r,n,a,o,i,l,c){if(tE.apply(this,arguments),Zu){if(Zu){var d=Wp;Zu=!1,Wp=null}else throw Error(lt(198));Gp||(Gp=!0,rx=d)}}function bc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j2(e){if(bc(e)!==e)throw Error(lt(188))}function nE(e){var t=e.alternate;if(!t){if(t=bc(e),t===null)throw Error(lt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return j2(a),e;if(o===n)return j2(a),t;o=o.sibling}throw Error(lt(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(lt(189))}}if(r.alternate!==n)throw Error(lt(190))}if(r.tag!==3)throw Error(lt(188));return r.stateNode.current===r?e:t}function bj(e){return e=nE(e),e!==null?vj(e):null}function vj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vj(e);if(t!==null)return t;e=e.sibling}return null}var wj=gs.unstable_scheduleCallback,N2=gs.unstable_cancelCallback,aE=gs.unstable_shouldYield,sE=gs.unstable_requestPaint,vn=gs.unstable_now,oE=gs.unstable_getCurrentPriorityLevel,qb=gs.unstable_ImmediatePriority,kj=gs.unstable_UserBlockingPriority,Jp=gs.unstable_NormalPriority,iE=gs.unstable_LowPriority,jj=gs.unstable_IdlePriority,Y0=null,$o=null;function lE(e){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(Y0,e,void 0,(e.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:uE,cE=Math.log,dE=Math.LN2;function uE(e){return e>>>=0,e===0?32:31-(cE(e)/dE|0)|0}var $h=64,qh=4194304;function Gu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Gu(l):(o&=i,o!==0&&(n=Gu(o)))}else i=r&~a,i!==0?n=Gu(i):o!==0&&(n=Gu(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-lo(t),a=1<<r,n|=e[r],t&=~a;return n}function fE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-lo(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=fE(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function nx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nj(){var e=$h;return $h<<=1,!($h&4194240)&&($h=64),e}function Ag(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Jf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lo(t),e[t]=r}function pE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-lo(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Ub(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Pr=0;function Sj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cj,zb,_j,Ej,Aj,ax=!1,Uh=[],gl=null,yl=null,xl=null,vf=new Map,wf=new Map,il=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S2(e,t){switch(e){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":vf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(t.pointerId)}}function Lu(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Yf(t),t!==null&&zb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function gE(e,t,r,n,a){switch(t){case"focusin":return gl=Lu(gl,e,t,r,n,a),!0;case"dragenter":return yl=Lu(yl,e,t,r,n,a),!0;case"mouseover":return xl=Lu(xl,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return vf.set(o,Lu(vf.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,wf.set(o,Lu(wf.get(o)||null,e,t,r,n,a)),!0}return!1}function Pj(e){var t=ec(e.target);if(t!==null){var r=bc(t);if(r!==null){if(t=r.tag,t===13){if(t=xj(r),t!==null){e.blockedOn=t,Aj(e.priority,function(){_j(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zy=n,r.target.dispatchEvent(n),Zy=null}else return t=Yf(r),t!==null&&zb(t),e.blockedOn=r,!1;t.shift()}return!0}function C2(e,t,r){vp(e)&&r.delete(t)}function yE(){ax=!1,gl!==null&&vp(gl)&&(gl=null),yl!==null&&vp(yl)&&(yl=null),xl!==null&&vp(xl)&&(xl=null),vf.forEach(C2),wf.forEach(C2)}function Iu(e,t){e.blockedOn===t&&(e.blockedOn=null,ax||(ax=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,yE)))}function kf(e){function t(a){return Iu(a,e)}if(0<Uh.length){Iu(Uh[0],e);for(var r=1;r<Uh.length;r++){var n=Uh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gl!==null&&Iu(gl,e),yl!==null&&Iu(yl,e),xl!==null&&Iu(xl,e),vf.forEach(t),wf.forEach(t),r=0;r<il.length;r++)n=il[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<il.length&&(r=il[0],r.blockedOn===null);)Pj(r),r.blockedOn===null&&il.shift()}var yd=Ei.ReactCurrentBatchConfig,Yp=!0;function xE(e,t,r,n){var a=Pr,o=yd.transition;yd.transition=null;try{Pr=1,Vb(e,t,r,n)}finally{Pr=a,yd.transition=o}}function bE(e,t,r,n){var a=Pr,o=yd.transition;yd.transition=null;try{Pr=4,Vb(e,t,r,n)}finally{Pr=a,yd.transition=o}}function Vb(e,t,r,n){if(Yp){var a=sx(e,t,r,n);if(a===null)Bg(e,t,n,Xp,r),S2(e,n);else if(gE(a,e,t,r,n))n.stopPropagation();else if(S2(e,n),t&4&&-1<mE.indexOf(e)){for(;a!==null;){var o=Yf(a);if(o!==null&&Cj(o),o=sx(e,t,r,n),o===null&&Bg(e,t,n,Xp,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Bg(e,t,n,null,r)}}var Xp=null;function sx(e,t,r,n){if(Xp=null,e=$b(n),e=ec(e),e!==null)if(t=bc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xp=e,null}function Dj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oE()){case qb:return 1;case kj:return 4;case Jp:case iE:return 16;case jj:return 536870912;default:return 16}default:return 16}}var dl=null,Hb=null,wp=null;function Lj(){if(wp)return wp;var e,t=Hb,r=t.length,n,a="value"in dl?dl.value:dl.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return wp=a.slice(e,1<n?1-n:void 0)}function kp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zh(){return!0}function _2(){return!1}function bs(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zh:_2,this.isPropagationStopped=_2,this}return ln(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zh)},persist:function(){},isPersistent:zh}),t}var Gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wb=bs(Gd),Kf=ln({},Gd,{view:0,detail:0}),vE=bs(Kf),Pg,Dg,Ru,X0=ln({},Kf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ru&&(Ru&&e.type==="mousemove"?(Pg=e.screenX-Ru.screenX,Dg=e.screenY-Ru.screenY):Dg=Pg=0,Ru=e),Pg)},movementY:function(e){return"movementY"in e?e.movementY:Dg}}),E2=bs(X0),wE=ln({},X0,{dataTransfer:0}),kE=bs(wE),jE=ln({},Kf,{relatedTarget:0}),Lg=bs(jE),NE=ln({},Gd,{animationName:0,elapsedTime:0,pseudoElement:0}),SE=bs(NE),CE=ln({},Gd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_E=bs(CE),EE=ln({},Gd,{data:0}),A2=bs(EE),AE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DE[e])?!!t[e]:!1}function Gb(){return LE}var IE=ln({},Kf,{key:function(e){if(e.key){var t=AE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gb,charCode:function(e){return e.type==="keypress"?kp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RE=bs(IE),TE=ln({},X0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P2=bs(TE),OE=ln({},Kf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gb}),ME=bs(OE),FE=ln({},Gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),BE=bs(FE),$E=ln({},X0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qE=bs($E),UE=[9,13,27,32],Jb=bi&&"CompositionEvent"in window,ef=null;bi&&"documentMode"in document&&(ef=document.documentMode);var zE=bi&&"TextEvent"in window&&!ef,Ij=bi&&(!Jb||ef&&8<ef&&11>=ef),D2=" ",L2=!1;function Rj(e,t){switch(e){case"keyup":return UE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nd=!1;function VE(e,t){switch(e){case"compositionend":return Tj(t);case"keypress":return t.which!==32?null:(L2=!0,D2);case"textInput":return e=t.data,e===D2&&L2?null:e;default:return null}}function HE(e,t){if(nd)return e==="compositionend"||!Jb&&Rj(e,t)?(e=Lj(),wp=Hb=dl=null,nd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ij&&t.locale!=="ko"?null:t.data;default:return null}}var WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WE[e.type]:t==="textarea"}function Oj(e,t,r,n){hj(n),t=Qp(t,"onChange"),0<t.length&&(r=new Wb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var tf=null,jf=null;function GE(e){Gj(e,0)}function Q0(e){var t=od(e);if(oj(t))return e}function JE(e,t){if(e==="change")return t}var Mj=!1;if(bi){var Ig;if(bi){var Rg="oninput"in document;if(!Rg){var R2=document.createElement("div");R2.setAttribute("oninput","return;"),Rg=typeof R2.oninput=="function"}Ig=Rg}else Ig=!1;Mj=Ig&&(!document.documentMode||9<document.documentMode)}function T2(){tf&&(tf.detachEvent("onpropertychange",Fj),jf=tf=null)}function Fj(e){if(e.propertyName==="value"&&Q0(jf)){var t=[];Oj(t,jf,e,$b(e)),yj(GE,t)}}function KE(e,t,r){e==="focusin"?(T2(),tf=t,jf=r,tf.attachEvent("onpropertychange",Fj)):e==="focusout"&&T2()}function YE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Q0(jf)}function XE(e,t){if(e==="click")return Q0(t)}function QE(e,t){if(e==="input"||e==="change")return Q0(t)}function ZE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uo=typeof Object.is=="function"?Object.is:ZE;function Nf(e,t){if(uo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!qy.call(t,a)||!uo(e[a],t[a]))return!1}return!0}function O2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function M2(e,t){var r=O2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=O2(r)}}function Bj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $j(){for(var e=window,t=Hp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hp(e.document)}return t}function Kb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eA(e){var t=$j(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Bj(r.ownerDocument.documentElement,r)){if(n!==null&&Kb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=M2(r,o);var i=M2(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tA=bi&&"documentMode"in document&&11>=document.documentMode,ad=null,ox=null,rf=null,ix=!1;function F2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ix||ad==null||ad!==Hp(n)||(n=ad,"selectionStart"in n&&Kb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rf&&Nf(rf,n)||(rf=n,n=Qp(ox,"onSelect"),0<n.length&&(t=new Wb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ad)))}function Vh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sd={animationend:Vh("Animation","AnimationEnd"),animationiteration:Vh("Animation","AnimationIteration"),animationstart:Vh("Animation","AnimationStart"),transitionend:Vh("Transition","TransitionEnd")},Tg={},qj={};bi&&(qj=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function Z0(e){if(Tg[e])return Tg[e];if(!sd[e])return e;var t=sd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qj)return Tg[e]=t[r];return e}var Uj=Z0("animationend"),zj=Z0("animationiteration"),Vj=Z0("animationstart"),Hj=Z0("transitionend"),Wj=new Map,B2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dl(e,t){Wj.set(e,t),xc(t,[e])}for(var Og=0;Og<B2.length;Og++){var Mg=B2[Og],rA=Mg.toLowerCase(),nA=Mg[0].toUpperCase()+Mg.slice(1);Dl(rA,"on"+nA)}Dl(Uj,"onAnimationEnd");Dl(zj,"onAnimationIteration");Dl(Vj,"onAnimationStart");Dl("dblclick","onDoubleClick");Dl("focusin","onFocus");Dl("focusout","onBlur");Dl(Hj,"onTransitionEnd");Dd("onMouseEnter",["mouseout","mouseover"]);Dd("onMouseLeave",["mouseout","mouseover"]);Dd("onPointerEnter",["pointerout","pointerover"]);Dd("onPointerLeave",["pointerout","pointerover"]);xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ju));function $2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rE(n,t,void 0,e),e.currentTarget=null}function Gj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;$2(a,l,d),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;$2(a,l,d),o=c}}}if(Gp)throw e=rx,Gp=!1,rx=null,e}function Jr(e,t){var r=t[fx];r===void 0&&(r=t[fx]=new Set);var n=e+"__bubble";r.has(n)||(Jj(t,e,2,!1),r.add(n))}function Fg(e,t,r){var n=0;t&&(n|=4),Jj(r,e,n,t)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function Sf(e){if(!e[Hh]){e[Hh]=!0,tj.forEach(function(r){r!=="selectionchange"&&(aA.has(r)||Fg(r,!1,e),Fg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hh]||(t[Hh]=!0,Fg("selectionchange",!1,t))}}function Jj(e,t,r,n){switch(Dj(t)){case 1:var a=xE;break;case 4:a=bE;break;default:a=Vb}r=a.bind(null,t,r,e),a=void 0,!tx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bg(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ec(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}yj(function(){var d=o,u=$b(r),f=[];e:{var b=Wj.get(e);if(b!==void 0){var p=Wb,w=e;switch(e){case"keypress":if(kp(r)===0)break e;case"keydown":case"keyup":p=RE;break;case"focusin":w="focus",p=Lg;break;case"focusout":w="blur",p=Lg;break;case"beforeblur":case"afterblur":p=Lg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=E2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ME;break;case Uj:case zj:case Vj:p=SE;break;case Hj:p=BE;break;case"scroll":p=vE;break;case"wheel":p=qE;break;case"copy":case"cut":case"paste":p=_E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=P2}var g=(t&4)!==0,A=!g&&e==="scroll",v=g?b!==null?b+"Capture":null:b;g=[];for(var j=d,R;j!==null;){R=j;var H=R.stateNode;if(R.tag===5&&H!==null&&(R=H,v!==null&&(H=bf(j,v),H!=null&&g.push(Cf(j,H,R)))),A)break;j=j.return}0<g.length&&(b=new p(b,w,null,r,u),f.push({event:b,listeners:g}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",b&&r!==Zy&&(w=r.relatedTarget||r.fromElement)&&(ec(w)||w[vi]))break e;if((p||b)&&(b=u.window===u?u:(b=u.ownerDocument)?b.defaultView||b.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=d,w=w?ec(w):null,w!==null&&(A=bc(w),w!==A||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(g=E2,H="onMouseLeave",v="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(g=P2,H="onPointerLeave",v="onPointerEnter",j="pointer"),A=p==null?b:od(p),R=w==null?b:od(w),b=new g(H,j+"leave",p,r,u),b.target=A,b.relatedTarget=R,H=null,ec(u)===d&&(g=new g(v,j+"enter",w,r,u),g.target=R,g.relatedTarget=A,H=g),A=H,p&&w)t:{for(g=p,v=w,j=0,R=g;R;R=Hc(R))j++;for(R=0,H=v;H;H=Hc(H))R++;for(;0<j-R;)g=Hc(g),j--;for(;0<R-j;)v=Hc(v),R--;for(;j--;){if(g===v||v!==null&&g===v.alternate)break t;g=Hc(g),v=Hc(v)}g=null}else g=null;p!==null&&q2(f,b,p,g,!1),w!==null&&A!==null&&q2(f,A,w,g,!0)}}e:{if(b=d?od(d):window,p=b.nodeName&&b.nodeName.toLowerCase(),p==="select"||p==="input"&&b.type==="file")var U=JE;else if(I2(b))if(Mj)U=QE;else{U=YE;var F=KE}else(p=b.nodeName)&&p.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(U=XE);if(U&&(U=U(e,d))){Oj(f,U,r,u);break e}F&&F(e,b,d),e==="focusout"&&(F=b._wrapperState)&&F.controlled&&b.type==="number"&&Jy(b,"number",b.value)}switch(F=d?od(d):window,e){case"focusin":(I2(F)||F.contentEditable==="true")&&(ad=F,ox=d,rf=null);break;case"focusout":rf=ox=ad=null;break;case"mousedown":ix=!0;break;case"contextmenu":case"mouseup":case"dragend":ix=!1,F2(f,r,u);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":F2(f,r,u)}var x;if(Jb)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else nd?Rj(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(Ij&&r.locale!=="ko"&&(nd||I!=="onCompositionStart"?I==="onCompositionEnd"&&nd&&(x=Lj()):(dl=u,Hb="value"in dl?dl.value:dl.textContent,nd=!0)),F=Qp(d,I),0<F.length&&(I=new A2(I,e,null,r,u),f.push({event:I,listeners:F}),x?I.data=x:(x=Tj(r),x!==null&&(I.data=x)))),(x=zE?VE(e,r):HE(e,r))&&(d=Qp(d,"onBeforeInput"),0<d.length&&(u=new A2("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=x))}Gj(f,t)})}function Cf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=bf(e,r),o!=null&&n.unshift(Cf(e,o,a)),o=bf(e,t),o!=null&&n.push(Cf(e,o,a))),e=e.return}return n}function Hc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function q2(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=bf(r,o),c!=null&&i.unshift(Cf(r,c,l))):a||(c=bf(r,o),c!=null&&i.push(Cf(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var sA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function U2(e){return(typeof e=="string"?e:""+e).replace(sA,`
`).replace(oA,"")}function Wh(e,t,r){if(t=U2(t),U2(e)!==t&&r)throw Error(lt(425))}function Zp(){}var lx=null,cx=null;function dx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ux=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,z2=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof z2<"u"?function(e){return z2.resolve(null).then(e).catch(cA)}:ux;function cA(e){setTimeout(function(){throw e})}function $g(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),kf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);kf(t)}function bl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function V2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jd=Math.random().toString(36).slice(2),Fo="__reactFiber$"+Jd,_f="__reactProps$"+Jd,vi="__reactContainer$"+Jd,fx="__reactEvents$"+Jd,dA="__reactListeners$"+Jd,uA="__reactHandles$"+Jd;function ec(e){var t=e[Fo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vi]||r[Fo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=V2(e);e!==null;){if(r=e[Fo])return r;e=V2(e)}return t}e=r,r=e.parentNode}return null}function Yf(e){return e=e[Fo]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function od(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(lt(33))}function em(e){return e[_f]||null}var hx=[],id=-1;function Ll(e){return{current:e}}function Yr(e){0>id||(e.current=hx[id],hx[id]=null,id--)}function Hr(e,t){id++,hx[id]=e.current,e.current=t}var Cl={},va=Ll(Cl),Ha=Ll(!1),dc=Cl;function Ld(e,t){var r=e.type.contextTypes;if(!r)return Cl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wa(e){return e=e.childContextTypes,e!=null}function e0(){Yr(Ha),Yr(va)}function H2(e,t,r){if(va.current!==Cl)throw Error(lt(168));Hr(va,t),Hr(Ha,r)}function Kj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(lt(108,K_(e)||"Unknown",a));return ln({},r,n)}function t0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cl,dc=va.current,Hr(va,e),Hr(Ha,Ha.current),!0}function W2(e,t,r){var n=e.stateNode;if(!n)throw Error(lt(169));r?(e=Kj(e,t,dc),n.__reactInternalMemoizedMergedChildContext=e,Yr(Ha),Yr(va),Hr(va,e)):Yr(Ha),Hr(Ha,r)}var ui=null,tm=!1,qg=!1;function Yj(e){ui===null?ui=[e]:ui.push(e)}function fA(e){tm=!0,Yj(e)}function Il(){if(!qg&&ui!==null){qg=!0;var e=0,t=Pr;try{var r=ui;for(Pr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ui=null,tm=!1}catch(a){throw ui!==null&&(ui=ui.slice(e+1)),wj(qb,Il),a}finally{Pr=t,qg=!1}}return null}var ld=[],cd=0,r0=null,n0=0,Ts=[],Os=0,uc=null,fi=1,hi="";function Jl(e,t){ld[cd++]=n0,ld[cd++]=r0,r0=e,n0=t}function Xj(e,t,r){Ts[Os++]=fi,Ts[Os++]=hi,Ts[Os++]=uc,uc=e;var n=fi;e=hi;var a=32-lo(n)-1;n&=~(1<<a),r+=1;var o=32-lo(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,fi=1<<32-lo(t)+a|r<<a|n,hi=o+e}else fi=1<<o|r<<a|n,hi=e}function Yb(e){e.return!==null&&(Jl(e,1),Xj(e,1,0))}function Xb(e){for(;e===r0;)r0=ld[--cd],ld[cd]=null,n0=ld[--cd],ld[cd]=null;for(;e===uc;)uc=Ts[--Os],Ts[Os]=null,hi=Ts[--Os],Ts[Os]=null,fi=Ts[--Os],Ts[Os]=null}var hs=null,us=null,en=!1,io=null;function Qj(e,t){var r=Ms(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function G2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hs=e,us=bl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hs=e,us=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=uc!==null?{id:fi,overflow:hi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ms(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hs=e,us=null,!0):!1;default:return!1}}function px(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mx(e){if(en){var t=us;if(t){var r=t;if(!G2(e,t)){if(px(e))throw Error(lt(418));t=bl(r.nextSibling);var n=hs;t&&G2(e,t)?Qj(n,r):(e.flags=e.flags&-4097|2,en=!1,hs=e)}}else{if(px(e))throw Error(lt(418));e.flags=e.flags&-4097|2,en=!1,hs=e}}}function J2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hs=e}function Gh(e){if(e!==hs)return!1;if(!en)return J2(e),en=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dx(e.type,e.memoizedProps)),t&&(t=us)){if(px(e))throw Zj(),Error(lt(418));for(;t;)Qj(e,t),t=bl(t.nextSibling)}if(J2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){us=bl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}us=null}}else us=hs?bl(e.stateNode.nextSibling):null;return!0}function Zj(){for(var e=us;e;)e=bl(e.nextSibling)}function Id(){us=hs=null,en=!1}function Qb(e){io===null?io=[e]:io.push(e)}var hA=Ei.ReactCurrentBatchConfig;function Tu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(lt(309));var n=r.stateNode}if(!n)throw Error(lt(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(lt(284));if(!r._owner)throw Error(lt(290,e))}return e}function Jh(e,t){throw e=Object.prototype.toString.call(t),Error(lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function K2(e){var t=e._init;return t(e._payload)}function eN(e){function t(v,j){if(e){var R=v.deletions;R===null?(v.deletions=[j],v.flags|=16):R.push(j)}}function r(v,j){if(!e)return null;for(;j!==null;)t(v,j),j=j.sibling;return null}function n(v,j){for(v=new Map;j!==null;)j.key!==null?v.set(j.key,j):v.set(j.index,j),j=j.sibling;return v}function a(v,j){return v=jl(v,j),v.index=0,v.sibling=null,v}function o(v,j,R){return v.index=R,e?(R=v.alternate,R!==null?(R=R.index,R<j?(v.flags|=2,j):R):(v.flags|=2,j)):(v.flags|=1048576,j)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,j,R,H){return j===null||j.tag!==6?(j=Jg(R,v.mode,H),j.return=v,j):(j=a(j,R),j.return=v,j)}function c(v,j,R,H){var U=R.type;return U===rd?u(v,j,R.props.children,H,R.key):j!==null&&(j.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===nl&&K2(U)===j.type)?(H=a(j,R.props),H.ref=Tu(v,j,R),H.return=v,H):(H=Ap(R.type,R.key,R.props,null,v.mode,H),H.ref=Tu(v,j,R),H.return=v,H)}function d(v,j,R,H){return j===null||j.tag!==4||j.stateNode.containerInfo!==R.containerInfo||j.stateNode.implementation!==R.implementation?(j=Kg(R,v.mode,H),j.return=v,j):(j=a(j,R.children||[]),j.return=v,j)}function u(v,j,R,H,U){return j===null||j.tag!==7?(j=oc(R,v.mode,H,U),j.return=v,j):(j=a(j,R),j.return=v,j)}function f(v,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Jg(""+j,v.mode,R),j.return=v,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Mh:return R=Ap(j.type,j.key,j.props,null,v.mode,R),R.ref=Tu(v,null,j),R.return=v,R;case td:return j=Kg(j,v.mode,R),j.return=v,j;case nl:var H=j._init;return f(v,H(j._payload),R)}if(Wu(j)||Pu(j))return j=oc(j,v.mode,R,null),j.return=v,j;Jh(v,j)}return null}function b(v,j,R,H){var U=j!==null?j.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return U!==null?null:l(v,j,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Mh:return R.key===U?c(v,j,R,H):null;case td:return R.key===U?d(v,j,R,H):null;case nl:return U=R._init,b(v,j,U(R._payload),H)}if(Wu(R)||Pu(R))return U!==null?null:u(v,j,R,H,null);Jh(v,R)}return null}function p(v,j,R,H,U){if(typeof H=="string"&&H!==""||typeof H=="number")return v=v.get(R)||null,l(j,v,""+H,U);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Mh:return v=v.get(H.key===null?R:H.key)||null,c(j,v,H,U);case td:return v=v.get(H.key===null?R:H.key)||null,d(j,v,H,U);case nl:var F=H._init;return p(v,j,R,F(H._payload),U)}if(Wu(H)||Pu(H))return v=v.get(R)||null,u(j,v,H,U,null);Jh(j,H)}return null}function w(v,j,R,H){for(var U=null,F=null,x=j,I=j=0,S=null;x!==null&&I<R.length;I++){x.index>I?(S=x,x=null):S=x.sibling;var C=b(v,x,R[I],H);if(C===null){x===null&&(x=S);break}e&&x&&C.alternate===null&&t(v,x),j=o(C,j,I),F===null?U=C:F.sibling=C,F=C,x=S}if(I===R.length)return r(v,x),en&&Jl(v,I),U;if(x===null){for(;I<R.length;I++)x=f(v,R[I],H),x!==null&&(j=o(x,j,I),F===null?U=x:F.sibling=x,F=x);return en&&Jl(v,I),U}for(x=n(v,x);I<R.length;I++)S=p(x,v,I,R[I],H),S!==null&&(e&&S.alternate!==null&&x.delete(S.key===null?I:S.key),j=o(S,j,I),F===null?U=S:F.sibling=S,F=S);return e&&x.forEach(function(y){return t(v,y)}),en&&Jl(v,I),U}function g(v,j,R,H){var U=Pu(R);if(typeof U!="function")throw Error(lt(150));if(R=U.call(R),R==null)throw Error(lt(151));for(var F=U=null,x=j,I=j=0,S=null,C=R.next();x!==null&&!C.done;I++,C=R.next()){x.index>I?(S=x,x=null):S=x.sibling;var y=b(v,x,C.value,H);if(y===null){x===null&&(x=S);break}e&&x&&y.alternate===null&&t(v,x),j=o(y,j,I),F===null?U=y:F.sibling=y,F=y,x=S}if(C.done)return r(v,x),en&&Jl(v,I),U;if(x===null){for(;!C.done;I++,C=R.next())C=f(v,C.value,H),C!==null&&(j=o(C,j,I),F===null?U=C:F.sibling=C,F=C);return en&&Jl(v,I),U}for(x=n(v,x);!C.done;I++,C=R.next())C=p(x,v,I,C.value,H),C!==null&&(e&&C.alternate!==null&&x.delete(C.key===null?I:C.key),j=o(C,j,I),F===null?U=C:F.sibling=C,F=C);return e&&x.forEach(function(k){return t(v,k)}),en&&Jl(v,I),U}function A(v,j,R,H){if(typeof R=="object"&&R!==null&&R.type===rd&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Mh:e:{for(var U=R.key,F=j;F!==null;){if(F.key===U){if(U=R.type,U===rd){if(F.tag===7){r(v,F.sibling),j=a(F,R.props.children),j.return=v,v=j;break e}}else if(F.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===nl&&K2(U)===F.type){r(v,F.sibling),j=a(F,R.props),j.ref=Tu(v,F,R),j.return=v,v=j;break e}r(v,F);break}else t(v,F);F=F.sibling}R.type===rd?(j=oc(R.props.children,v.mode,H,R.key),j.return=v,v=j):(H=Ap(R.type,R.key,R.props,null,v.mode,H),H.ref=Tu(v,j,R),H.return=v,v=H)}return i(v);case td:e:{for(F=R.key;j!==null;){if(j.key===F)if(j.tag===4&&j.stateNode.containerInfo===R.containerInfo&&j.stateNode.implementation===R.implementation){r(v,j.sibling),j=a(j,R.children||[]),j.return=v,v=j;break e}else{r(v,j);break}else t(v,j);j=j.sibling}j=Kg(R,v.mode,H),j.return=v,v=j}return i(v);case nl:return F=R._init,A(v,j,F(R._payload),H)}if(Wu(R))return w(v,j,R,H);if(Pu(R))return g(v,j,R,H);Jh(v,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,j!==null&&j.tag===6?(r(v,j.sibling),j=a(j,R),j.return=v,v=j):(r(v,j),j=Jg(R,v.mode,H),j.return=v,v=j),i(v)):r(v,j)}return A}var Rd=eN(!0),tN=eN(!1),a0=Ll(null),s0=null,dd=null,Zb=null;function ev(){Zb=dd=s0=null}function tv(e){var t=a0.current;Yr(a0),e._currentValue=t}function gx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xd(e,t){s0=e,Zb=dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Va=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(Zb!==e)if(e={context:e,memoizedValue:t,next:null},dd===null){if(s0===null)throw Error(lt(308));dd=e,s0.dependencies={lanes:0,firstContext:e}}else dd=dd.next=e;return t}var tc=null;function rv(e){tc===null?tc=[e]:tc.push(e)}function rN(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,rv(t)):(r.next=a.next,a.next=r),t.interleaved=r,wi(e,n)}function wi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var al=!1;function nv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,wi(e,r)}return a=n.interleaved,a===null?(t.next=t,rv(n)):(t.next=a.next,a.next=t),n.interleaved=t,wi(e,r)}function jp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ub(e,r)}}function Y2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function o0(e,t,r,n){var a=e.updateQueue;al=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;i=0,u=d=c=null,l=o;do{var b=l.lane,p=l.eventTime;if((n&b)===b){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(b=t,p=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(p,f,b);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,b=typeof w=="function"?w.call(p,f,b):w,b==null)break e;f=ln({},f,b);break e;case 2:al=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,b=a.effects,b===null?a.effects=[l]:b.push(l))}else p={eventTime:p,lane:b,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,i|=b;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;b=l,l=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);hc|=i,e.lanes=i,e.memoizedState=f}}function X2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(lt(191,a));a.call(n)}}}var Xf={},qo=Ll(Xf),Ef=Ll(Xf),Af=Ll(Xf);function rc(e){if(e===Xf)throw Error(lt(174));return e}function av(e,t){switch(Hr(Af,t),Hr(Ef,e),Hr(qo,Xf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yy(t,e)}Yr(qo),Hr(qo,t)}function Td(){Yr(qo),Yr(Ef),Yr(Af)}function aN(e){rc(Af.current);var t=rc(qo.current),r=Yy(t,e.type);t!==r&&(Hr(Ef,e),Hr(qo,r))}function sv(e){Ef.current===e&&(Yr(qo),Yr(Ef))}var sn=Ll(0);function i0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ug=[];function ov(){for(var e=0;e<Ug.length;e++)Ug[e]._workInProgressVersionPrimary=null;Ug.length=0}var Np=Ei.ReactCurrentDispatcher,zg=Ei.ReactCurrentBatchConfig,fc=0,on=null,qn=null,Kn=null,l0=!1,nf=!1,Pf=0,pA=0;function da(){throw Error(lt(321))}function iv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!uo(e[r],t[r]))return!1;return!0}function lv(e,t,r,n,a,o){if(fc=o,on=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Np.current=e===null||e.memoizedState===null?xA:bA,e=r(n,a),nf){o=0;do{if(nf=!1,Pf=0,25<=o)throw Error(lt(301));o+=1,Kn=qn=null,t.updateQueue=null,Np.current=vA,e=r(n,a)}while(nf)}if(Np.current=c0,t=qn!==null&&qn.next!==null,fc=0,Kn=qn=on=null,l0=!1,t)throw Error(lt(300));return e}function cv(){var e=Pf!==0;return Pf=0,e}function Ro(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?on.memoizedState=Kn=e:Kn=Kn.next=e,Kn}function $s(){if(qn===null){var e=on.alternate;e=e!==null?e.memoizedState:null}else e=qn.next;var t=Kn===null?on.memoizedState:Kn.next;if(t!==null)Kn=t,qn=e;else{if(e===null)throw Error(lt(310));qn=e,e={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Kn===null?on.memoizedState=Kn=e:Kn=Kn.next=e}return Kn}function Df(e,t){return typeof t=="function"?t(e):t}function Vg(e){var t=$s(),r=t.queue;if(r===null)throw Error(lt(311));r.lastRenderedReducer=e;var n=qn,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((fc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,on.lanes|=u,hc|=u}d=d.next}while(d!==null&&d!==o);c===null?i=n:c.next=l,uo(n,t.memoizedState)||(Va=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,on.lanes|=o,hc|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hg(e){var t=$s(),r=t.queue;if(r===null)throw Error(lt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);uo(o,t.memoizedState)||(Va=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function sN(){}function oN(e,t){var r=on,n=$s(),a=t(),o=!uo(n.memoizedState,a);if(o&&(n.memoizedState=a,Va=!0),n=n.queue,dv(cN.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Kn!==null&&Kn.memoizedState.tag&1){if(r.flags|=2048,Lf(9,lN.bind(null,r,n,a,t),void 0,null),Qn===null)throw Error(lt(349));fc&30||iN(r,t,a)}return a}function iN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lN(e,t,r,n){t.value=r,t.getSnapshot=n,dN(t)&&uN(e)}function cN(e,t,r){return r(function(){dN(t)&&uN(e)})}function dN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!uo(e,r)}catch{return!0}}function uN(e){var t=wi(e,1);t!==null&&co(t,e,1,-1)}function Q2(e){var t=Ro();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:e},t.queue=e,e=e.dispatch=yA.bind(null,on,e),[t.memoizedState,e]}function Lf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function fN(){return $s().memoizedState}function Sp(e,t,r,n){var a=Ro();on.flags|=e,a.memoizedState=Lf(1|t,r,void 0,n===void 0?null:n)}function rm(e,t,r,n){var a=$s();n=n===void 0?null:n;var o=void 0;if(qn!==null){var i=qn.memoizedState;if(o=i.destroy,n!==null&&iv(n,i.deps)){a.memoizedState=Lf(t,r,o,n);return}}on.flags|=e,a.memoizedState=Lf(1|t,r,o,n)}function Z2(e,t){return Sp(8390656,8,e,t)}function dv(e,t){return rm(2048,8,e,t)}function hN(e,t){return rm(4,2,e,t)}function pN(e,t){return rm(4,4,e,t)}function mN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gN(e,t,r){return r=r!=null?r.concat([e]):null,rm(4,4,mN.bind(null,t,e),r)}function uv(){}function yN(e,t){var r=$s();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xN(e,t){var r=$s();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bN(e,t,r){return fc&21?(uo(r,t)||(r=Nj(),on.lanes|=r,hc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Va=!0),e.memoizedState=r)}function mA(e,t){var r=Pr;Pr=r!==0&&4>r?r:4,e(!0);var n=zg.transition;zg.transition={};try{e(!1),t()}finally{Pr=r,zg.transition=n}}function vN(){return $s().memoizedState}function gA(e,t,r){var n=kl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wN(e))kN(t,r);else if(r=rN(e,t,r,n),r!==null){var a=Aa();co(r,e,n,a),jN(r,t,n)}}function yA(e,t,r){var n=kl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wN(e))kN(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,uo(l,i)){var c=t.interleaved;c===null?(a.next=a,rv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=rN(e,t,a,n),r!==null&&(a=Aa(),co(r,e,n,a),jN(r,t,n))}}function wN(e){var t=e.alternate;return e===on||t!==null&&t===on}function kN(e,t){nf=l0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ub(e,r)}}var c0={readContext:Bs,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},xA={readContext:Bs,useCallback:function(e,t){return Ro().memoizedState=[e,t===void 0?null:t],e},useContext:Bs,useEffect:Z2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sp(4194308,4,mN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sp(4,2,e,t)},useMemo:function(e,t){var r=Ro();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ro();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gA.bind(null,on,e),[n.memoizedState,e]},useRef:function(e){var t=Ro();return e={current:e},t.memoizedState=e},useState:Q2,useDebugValue:uv,useDeferredValue:function(e){return Ro().memoizedState=e},useTransition:function(){var e=Q2(!1),t=e[0];return e=mA.bind(null,e[1]),Ro().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=on,a=Ro();if(en){if(r===void 0)throw Error(lt(407));r=r()}else{if(r=t(),Qn===null)throw Error(lt(349));fc&30||iN(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Z2(cN.bind(null,n,o,e),[e]),n.flags|=2048,Lf(9,lN.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ro(),t=Qn.identifierPrefix;if(en){var r=hi,n=fi;r=(n&~(1<<32-lo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bA={readContext:Bs,useCallback:yN,useContext:Bs,useEffect:dv,useImperativeHandle:gN,useInsertionEffect:hN,useLayoutEffect:pN,useMemo:xN,useReducer:Vg,useRef:fN,useState:function(){return Vg(Df)},useDebugValue:uv,useDeferredValue:function(e){var t=$s();return bN(t,qn.memoizedState,e)},useTransition:function(){var e=Vg(Df)[0],t=$s().memoizedState;return[e,t]},useMutableSource:sN,useSyncExternalStore:oN,useId:vN,unstable_isNewReconciler:!1},vA={readContext:Bs,useCallback:yN,useContext:Bs,useEffect:dv,useImperativeHandle:gN,useInsertionEffect:hN,useLayoutEffect:pN,useMemo:xN,useReducer:Hg,useRef:fN,useState:function(){return Hg(Df)},useDebugValue:uv,useDeferredValue:function(e){var t=$s();return qn===null?t.memoizedState=e:bN(t,qn.memoizedState,e)},useTransition:function(){var e=Hg(Df)[0],t=$s().memoizedState;return[e,t]},useMutableSource:sN,useSyncExternalStore:oN,useId:vN,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){t=ln({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ln({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nm={isMounted:function(e){return(e=e._reactInternals)?bc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Aa(),a=kl(e),o=mi(n,a);o.payload=t,r!=null&&(o.callback=r),t=vl(e,o,a),t!==null&&(co(t,e,a,n),jp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Aa(),a=kl(e),o=mi(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=vl(e,o,a),t!==null&&(co(t,e,a,n),jp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Aa(),n=kl(e),a=mi(r,n);a.tag=2,t!=null&&(a.callback=t),t=vl(e,a,n),t!==null&&(co(t,e,n,r),jp(t,e,n))}};function e1(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Nf(r,n)||!Nf(a,o):!0}function NN(e,t,r){var n=!1,a=Cl,o=t.contextType;return typeof o=="object"&&o!==null?o=Bs(o):(a=Wa(t)?dc:va.current,n=t.contextTypes,o=(n=n!=null)?Ld(e,a):Cl),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function t1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nm.enqueueReplaceState(t,t.state,null)}function xx(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},nv(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Bs(o):(o=Wa(t)?dc:va.current,a.context=Ld(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(yx(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nm.enqueueReplaceState(a,a.state,null),o0(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Od(e,t){try{var r="",n=t;do r+=J_(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Wg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function bx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wA=typeof WeakMap=="function"?WeakMap:Map;function SN(e,t,r){r=mi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){u0||(u0=!0,Ax=n),bx(e,t)},r}function CN(e,t,r){r=mi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){bx(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){bx(e,t),typeof n!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function r1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=TA.bind(null,e,t,r),t.then(e,e))}function n1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function a1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mi(-1,1),t.tag=2,vl(r,t,1))),r.lanes|=1),e)}var kA=Ei.ReactCurrentOwner,Va=!1;function _a(e,t,r,n){t.child=e===null?tN(t,null,r,n):Rd(t,e.child,r,n)}function s1(e,t,r,n,a){r=r.render;var o=t.ref;return xd(t,a),n=lv(e,t,r,n,o,a),r=cv(),e!==null&&!Va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ki(e,t,a)):(en&&r&&Yb(t),t.flags|=1,_a(e,t,n,a),t.child)}function o1(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!bv(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,_N(e,t,o,n,a)):(e=Ap(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Nf,r(i,n)&&e.ref===t.ref)return ki(e,t,a)}return t.flags|=1,e=jl(o,n),e.ref=t.ref,e.return=t,t.child=e}function _N(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Nf(o,n)&&e.ref===t.ref)if(Va=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Va=!0);else return t.lanes=e.lanes,ki(e,t,a)}return vx(e,t,r,n,a)}function EN(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(fd,ds),ds|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hr(fd,ds),ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Hr(fd,ds),ds|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Hr(fd,ds),ds|=n;return _a(e,t,a,r),t.child}function AN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vx(e,t,r,n,a){var o=Wa(r)?dc:va.current;return o=Ld(t,o),xd(t,a),r=lv(e,t,r,n,o,a),n=cv(),e!==null&&!Va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ki(e,t,a)):(en&&n&&Yb(t),t.flags|=1,_a(e,t,r,a),t.child)}function i1(e,t,r,n,a){if(Wa(r)){var o=!0;t0(t)}else o=!1;if(xd(t,a),t.stateNode===null)Cp(e,t),NN(t,r,n),xx(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Bs(d):(d=Wa(r)?dc:va.current,d=Ld(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&t1(t,i,n,d),al=!1;var b=t.memoizedState;i.state=b,o0(t,n,i,a),c=t.memoizedState,l!==n||b!==c||Ha.current||al?(typeof u=="function"&&(yx(t,r,u,n),c=t.memoizedState),(l=al||e1(t,r,l,n,b,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,nN(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:no(t.type,l),i.props=d,f=t.pendingProps,b=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bs(c):(c=Wa(r)?dc:va.current,c=Ld(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||b!==c)&&t1(t,i,n,c),al=!1,b=t.memoizedState,i.state=b,o0(t,n,i,a);var w=t.memoizedState;l!==f||b!==w||Ha.current||al?(typeof p=="function"&&(yx(t,r,p,n),w=t.memoizedState),(d=al||e1(t,r,d,n,b,w,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),n=!1)}return wx(e,t,r,n,o,a)}function wx(e,t,r,n,a,o){AN(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&W2(t,r,!1),ki(e,t,o);n=t.stateNode,kA.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Rd(t,e.child,null,o),t.child=Rd(t,null,l,o)):_a(e,t,l,o),t.memoizedState=n.state,a&&W2(t,r,!0),t.child}function PN(e){var t=e.stateNode;t.pendingContext?H2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&H2(e,t.context,!1),av(e,t.containerInfo)}function l1(e,t,r,n,a){return Id(),Qb(a),t.flags|=256,_a(e,t,r,n),t.child}var kx={dehydrated:null,treeContext:null,retryLane:0};function jx(e){return{baseLanes:e,cachePool:null,transitions:null}}function DN(e,t,r){var n=t.pendingProps,a=sn.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Hr(sn,a&1),e===null)return mx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=om(i,n,0,null),e=oc(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jx(r),t.memoizedState=kx,e):fv(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return jA(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=jl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=jl(l,o):(o=oc(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?jx(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=kx,n}return o=e.child,e=o.sibling,n=jl(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fv(e,t){return t=om({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kh(e,t,r,n){return n!==null&&Qb(n),Rd(t,e.child,null,r),e=fv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jA(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Wg(Error(lt(422))),Kh(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=om({mode:"visible",children:n.children},a,0,null),o=oc(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Rd(t,e.child,null,i),t.child.memoizedState=jx(i),t.memoizedState=kx,o);if(!(t.mode&1))return Kh(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(lt(419)),n=Wg(o,n,void 0),Kh(e,t,i,n)}if(l=(i&e.childLanes)!==0,Va||l){if(n=Qn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,wi(e,a),co(n,e,a,-1))}return xv(),n=Wg(Error(lt(421))),Kh(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=OA.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,us=bl(a.nextSibling),hs=t,en=!0,io=null,e!==null&&(Ts[Os++]=fi,Ts[Os++]=hi,Ts[Os++]=uc,fi=e.id,hi=e.overflow,uc=t),t=fv(t,n.children),t.flags|=4096,t)}function c1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gx(e.return,t,r)}function Gg(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function LN(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(_a(e,t,n.children,r),n=sn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c1(e,r,t);else if(e.tag===19)c1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Hr(sn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&i0(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Gg(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&i0(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Gg(t,!0,r,null,o);break;case"together":Gg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ki(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(lt(153));if(t.child!==null){for(e=t.child,r=jl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=jl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function NA(e,t,r){switch(t.tag){case 3:PN(t),Id();break;case 5:aN(t);break;case 1:Wa(t.type)&&t0(t);break;case 4:av(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Hr(a0,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Hr(sn,sn.current&1),t.flags|=128,null):r&t.child.childLanes?DN(e,t,r):(Hr(sn,sn.current&1),e=ki(e,t,r),e!==null?e.sibling:null);Hr(sn,sn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return LN(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Hr(sn,sn.current),n)break;return null;case 22:case 23:return t.lanes=0,EN(e,t,r)}return ki(e,t,r)}var IN,Nx,RN,TN;IN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nx=function(){};RN=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,rc(qo.current);var o=null;switch(r){case"input":a=Wy(e,a),n=Wy(e,n),o=[];break;case"select":a=ln({},a,{value:void 0}),n=ln({},n,{value:void 0}),o=[];break;case"textarea":a=Ky(e,a),n=Ky(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zp)}Xy(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(yf.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(yf.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Jr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};TN=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ou(e,t){if(!en)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ua(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function SA(e,t,r){var n=t.pendingProps;switch(Xb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(t),null;case 1:return Wa(t.type)&&e0(),ua(t),null;case 3:return n=t.stateNode,Td(),Yr(Ha),Yr(va),ov(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,io!==null&&(Lx(io),io=null))),Nx(e,t),ua(t),null;case 5:sv(t);var a=rc(Af.current);if(r=t.type,e!==null&&t.stateNode!=null)RN(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(lt(166));return ua(t),null}if(e=rc(qo.current),Gh(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Fo]=t,n[_f]=o,e=(t.mode&1)!==0,r){case"dialog":Jr("cancel",n),Jr("close",n);break;case"iframe":case"object":case"embed":Jr("load",n);break;case"video":case"audio":for(a=0;a<Ju.length;a++)Jr(Ju[a],n);break;case"source":Jr("error",n);break;case"img":case"image":case"link":Jr("error",n),Jr("load",n);break;case"details":Jr("toggle",n);break;case"input":x2(n,o),Jr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Jr("invalid",n);break;case"textarea":v2(n,o),Jr("invalid",n)}Xy(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Wh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Wh(n.textContent,l,e),a=["children",""+l]):yf.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Jr("scroll",n)}switch(r){case"input":Fh(n),b2(n,o,!0);break;case"textarea":Fh(n),w2(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Zp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Fo]=t,e[_f]=n,IN(e,t,!1,!1),t.stateNode=e;e:{switch(i=Qy(r,n),r){case"dialog":Jr("cancel",e),Jr("close",e),a=n;break;case"iframe":case"object":case"embed":Jr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ju.length;a++)Jr(Ju[a],e);a=n;break;case"source":Jr("error",e),a=n;break;case"img":case"image":case"link":Jr("error",e),Jr("load",e),a=n;break;case"details":Jr("toggle",e),a=n;break;case"input":x2(e,n),a=Wy(e,n),Jr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ln({},n,{value:void 0}),Jr("invalid",e);break;case"textarea":v2(e,n),a=Ky(e,n),Jr("invalid",e);break;default:a=n}Xy(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?fj(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dj(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&xf(e,c):typeof c=="number"&&xf(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yf.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Jr("scroll",e):c!=null&&Ob(e,o,c,i))}switch(r){case"input":Fh(e),b2(e,n,!1);break;case"textarea":Fh(e),w2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sl(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?pd(e,!!n.multiple,o,!1):n.defaultValue!=null&&pd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ua(t),null;case 6:if(e&&t.stateNode!=null)TN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(lt(166));if(r=rc(Af.current),rc(qo.current),Gh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fo]=t,(o=n.nodeValue!==r)&&(e=hs,e!==null))switch(e.tag){case 3:Wh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wh(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fo]=t,t.stateNode=n}return ua(t),null;case 13:if(Yr(sn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(en&&us!==null&&t.mode&1&&!(t.flags&128))Zj(),Id(),t.flags|=98560,o=!1;else if(o=Gh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(lt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(lt(317));o[Fo]=t}else Id(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ua(t),o=!1}else io!==null&&(Lx(io),io=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||sn.current&1?zn===0&&(zn=3):xv())),t.updateQueue!==null&&(t.flags|=4),ua(t),null);case 4:return Td(),Nx(e,t),e===null&&Sf(t.stateNode.containerInfo),ua(t),null;case 10:return tv(t.type._context),ua(t),null;case 17:return Wa(t.type)&&e0(),ua(t),null;case 19:if(Yr(sn),o=t.memoizedState,o===null)return ua(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Ou(o,!1);else{if(zn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=i0(e),i!==null){for(t.flags|=128,Ou(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Hr(sn,sn.current&1|2),t.child}e=e.sibling}o.tail!==null&&vn()>Md&&(t.flags|=128,n=!0,Ou(o,!1),t.lanes=4194304)}else{if(!n)if(e=i0(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ou(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!en)return ua(t),null}else 2*vn()-o.renderingStartTime>Md&&r!==1073741824&&(t.flags|=128,n=!0,Ou(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=vn(),t.sibling=null,r=sn.current,Hr(sn,n?r&1|2:r&1),t):(ua(t),null);case 22:case 23:return yv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ds&1073741824&&(ua(t),t.subtreeFlags&6&&(t.flags|=8192)):ua(t),null;case 24:return null;case 25:return null}throw Error(lt(156,t.tag))}function CA(e,t){switch(Xb(t),t.tag){case 1:return Wa(t.type)&&e0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Td(),Yr(Ha),Yr(va),ov(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sv(t),null;case 13:if(Yr(sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(lt(340));Id()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yr(sn),null;case 4:return Td(),null;case 10:return tv(t.type._context),null;case 22:case 23:return yv(),null;case 24:return null;default:return null}}var Yh=!1,ya=!1,_A=typeof WeakSet=="function"?WeakSet:Set,bt=null;function ud(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hn(e,t,n)}else r.current=null}function Sx(e,t,r){try{r()}catch(n){hn(e,t,n)}}var d1=!1;function EA(e,t){if(lx=Yp,e=$j(),Kb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,f=e,b=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)b=f,f=p;for(;;){if(f===e)break t;if(b===r&&++d===a&&(l=i),b===o&&++u===n&&(c=i),(p=f.nextSibling)!==null)break;f=b,b=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cx={focusedElem:e,selectionRange:r},Yp=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){t=bt;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,A=w.memoizedState,v=t.stateNode,j=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),A);v.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(H){hn(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}return w=d1,d1=!1,w}function af(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Sx(t,r,o)}a=a.next}while(a!==n)}}function am(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Cx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ON(e){var t=e.alternate;t!==null&&(e.alternate=null,ON(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fo],delete t[_f],delete t[fx],delete t[dA],delete t[uA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MN(e){return e.tag===5||e.tag===3||e.tag===4}function u1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _x(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zp));else if(n!==4&&(e=e.child,e!==null))for(_x(e,t,r),e=e.sibling;e!==null;)_x(e,t,r),e=e.sibling}function Ex(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ex(e,t,r),e=e.sibling;e!==null;)Ex(e,t,r),e=e.sibling}var aa=null,so=!1;function Yi(e,t,r){for(r=r.child;r!==null;)FN(e,t,r),r=r.sibling}function FN(e,t,r){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(Y0,r)}catch{}switch(r.tag){case 5:ya||ud(r,t);case 6:var n=aa,a=so;aa=null,Yi(e,t,r),aa=n,so=a,aa!==null&&(so?(e=aa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):aa.removeChild(r.stateNode));break;case 18:aa!==null&&(so?(e=aa,r=r.stateNode,e.nodeType===8?$g(e.parentNode,r):e.nodeType===1&&$g(e,r),kf(e)):$g(aa,r.stateNode));break;case 4:n=aa,a=so,aa=r.stateNode.containerInfo,so=!0,Yi(e,t,r),aa=n,so=a;break;case 0:case 11:case 14:case 15:if(!ya&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Sx(r,t,i),a=a.next}while(a!==n)}Yi(e,t,r);break;case 1:if(!ya&&(ud(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){hn(r,t,l)}Yi(e,t,r);break;case 21:Yi(e,t,r);break;case 22:r.mode&1?(ya=(n=ya)||r.memoizedState!==null,Yi(e,t,r),ya=n):Yi(e,t,r);break;default:Yi(e,t,r)}}function f1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _A),t.forEach(function(n){var a=MA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function eo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:aa=l.stateNode,so=!1;break e;case 3:aa=l.stateNode.containerInfo,so=!0;break e;case 4:aa=l.stateNode.containerInfo,so=!0;break e}l=l.return}if(aa===null)throw Error(lt(160));FN(o,i,a),aa=null,so=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){hn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BN(t,e),t=t.sibling}function BN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(eo(t,e),Po(e),n&4){try{af(3,e,e.return),am(3,e)}catch(g){hn(e,e.return,g)}try{af(5,e,e.return)}catch(g){hn(e,e.return,g)}}break;case 1:eo(t,e),Po(e),n&512&&r!==null&&ud(r,r.return);break;case 5:if(eo(t,e),Po(e),n&512&&r!==null&&ud(r,r.return),e.flags&32){var a=e.stateNode;try{xf(a,"")}catch(g){hn(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ij(a,o),Qy(l,i);var d=Qy(l,o);for(i=0;i<c.length;i+=2){var u=c[i],f=c[i+1];u==="style"?fj(a,f):u==="dangerouslySetInnerHTML"?dj(a,f):u==="children"?xf(a,f):Ob(a,u,f,d)}switch(l){case"input":Gy(a,o);break;case"textarea":lj(a,o);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?pd(a,!!o.multiple,p,!1):b!==!!o.multiple&&(o.defaultValue!=null?pd(a,!!o.multiple,o.defaultValue,!0):pd(a,!!o.multiple,o.multiple?[]:"",!1))}a[_f]=o}catch(g){hn(e,e.return,g)}}break;case 6:if(eo(t,e),Po(e),n&4){if(e.stateNode===null)throw Error(lt(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){hn(e,e.return,g)}}break;case 3:if(eo(t,e),Po(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kf(t.containerInfo)}catch(g){hn(e,e.return,g)}break;case 4:eo(t,e),Po(e);break;case 13:eo(t,e),Po(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(mv=vn())),n&4&&f1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ya=(d=ya)||u,eo(t,e),ya=d):eo(t,e),Po(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(bt=e,u=e.child;u!==null;){for(f=bt=u;bt!==null;){switch(b=bt,p=b.child,b.tag){case 0:case 11:case 14:case 15:af(4,b,b.return);break;case 1:ud(b,b.return);var w=b.stateNode;if(typeof w.componentWillUnmount=="function"){n=b,r=b.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){hn(n,r,g)}}break;case 5:ud(b,b.return);break;case 22:if(b.memoizedState!==null){p1(f);continue}}p!==null?(p.return=b,bt=p):p1(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uj("display",i))}catch(g){hn(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){hn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:eo(t,e),Po(e),n&4&&f1(e);break;case 21:break;default:eo(t,e),Po(e)}}function Po(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(MN(r)){var n=r;break e}r=r.return}throw Error(lt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(xf(a,""),n.flags&=-33);var o=u1(e);Ex(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=u1(e);_x(e,l,i);break;default:throw Error(lt(161))}}catch(c){hn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AA(e,t,r){bt=e,$N(e)}function $N(e,t,r){for(var n=(e.mode&1)!==0;bt!==null;){var a=bt,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Yh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ya;l=Yh;var d=ya;if(Yh=i,(ya=c)&&!d)for(bt=a;bt!==null;)i=bt,c=i.child,i.tag===22&&i.memoizedState!==null?m1(a):c!==null?(c.return=i,bt=c):m1(a);for(;o!==null;)bt=o,$N(o),o=o.sibling;bt=a,Yh=l,ya=d}h1(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,bt=o):h1(e)}}function h1(e){for(;bt!==null;){var t=bt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ya||am(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ya)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:no(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&X2(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}X2(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&kf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}ya||t.flags&512&&Cx(t)}catch(b){hn(t,t.return,b)}}if(t===e){bt=null;break}if(r=t.sibling,r!==null){r.return=t.return,bt=r;break}bt=t.return}}function p1(e){for(;bt!==null;){var t=bt;if(t===e){bt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,bt=r;break}bt=t.return}}function m1(e){for(;bt!==null;){var t=bt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{am(4,t)}catch(c){hn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){hn(t,a,c)}}var o=t.return;try{Cx(t)}catch(c){hn(t,o,c)}break;case 5:var i=t.return;try{Cx(t)}catch(c){hn(t,i,c)}}}catch(c){hn(t,t.return,c)}if(t===e){bt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,bt=l;break}bt=t.return}}var PA=Math.ceil,d0=Ei.ReactCurrentDispatcher,hv=Ei.ReactCurrentOwner,Fs=Ei.ReactCurrentBatchConfig,pr=0,Qn=null,In=null,oa=0,ds=0,fd=Ll(0),zn=0,If=null,hc=0,sm=0,pv=0,sf=null,Ua=null,mv=0,Md=1/0,ci=null,u0=!1,Ax=null,wl=null,Xh=!1,ul=null,f0=0,of=0,Px=null,_p=-1,Ep=0;function Aa(){return pr&6?vn():_p!==-1?_p:_p=vn()}function kl(e){return e.mode&1?pr&2&&oa!==0?oa&-oa:hA.transition!==null?(Ep===0&&(Ep=Nj()),Ep):(e=Pr,e!==0||(e=window.event,e=e===void 0?16:Dj(e.type)),e):1}function co(e,t,r,n){if(50<of)throw of=0,Px=null,Error(lt(185));Jf(e,r,n),(!(pr&2)||e!==Qn)&&(e===Qn&&(!(pr&2)&&(sm|=r),zn===4&&ll(e,oa)),Ga(e,n),r===1&&pr===0&&!(t.mode&1)&&(Md=vn()+500,tm&&Il()))}function Ga(e,t){var r=e.callbackNode;hE(e,t);var n=Kp(e,e===Qn?oa:0);if(n===0)r!==null&&N2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&N2(r),t===1)e.tag===0?fA(g1.bind(null,e)):Yj(g1.bind(null,e)),lA(function(){!(pr&6)&&Il()}),r=null;else{switch(Sj(n)){case 1:r=qb;break;case 4:r=kj;break;case 16:r=Jp;break;case 536870912:r=jj;break;default:r=Jp}r=JN(r,qN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qN(e,t){if(_p=-1,Ep=0,pr&6)throw Error(lt(327));var r=e.callbackNode;if(bd()&&e.callbackNode!==r)return null;var n=Kp(e,e===Qn?oa:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=h0(e,n);else{t=n;var a=pr;pr|=2;var o=zN();(Qn!==e||oa!==t)&&(ci=null,Md=vn()+500,sc(e,t));do try{IA();break}catch(l){UN(e,l)}while(!0);ev(),d0.current=o,pr=a,In!==null?t=0:(Qn=null,oa=0,t=zn)}if(t!==0){if(t===2&&(a=nx(e),a!==0&&(n=a,t=Dx(e,a))),t===1)throw r=If,sc(e,0),ll(e,n),Ga(e,vn()),r;if(t===6)ll(e,n);else{if(a=e.current.alternate,!(n&30)&&!DA(a)&&(t=h0(e,n),t===2&&(o=nx(e),o!==0&&(n=o,t=Dx(e,o))),t===1))throw r=If,sc(e,0),ll(e,n),Ga(e,vn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(lt(345));case 2:Kl(e,Ua,ci);break;case 3:if(ll(e,n),(n&130023424)===n&&(t=mv+500-vn(),10<t)){if(Kp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Aa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ux(Kl.bind(null,e,Ua,ci),t);break}Kl(e,Ua,ci);break;case 4:if(ll(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-lo(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*PA(n/1960))-n,10<n){e.timeoutHandle=ux(Kl.bind(null,e,Ua,ci),n);break}Kl(e,Ua,ci);break;case 5:Kl(e,Ua,ci);break;default:throw Error(lt(329))}}}return Ga(e,vn()),e.callbackNode===r?qN.bind(null,e):null}function Dx(e,t){var r=sf;return e.current.memoizedState.isDehydrated&&(sc(e,t).flags|=256),e=h0(e,t),e!==2&&(t=Ua,Ua=r,t!==null&&Lx(t)),e}function Lx(e){Ua===null?Ua=e:Ua.push.apply(Ua,e)}function DA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!uo(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ll(e,t){for(t&=~pv,t&=~sm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lo(t),n=1<<r;e[r]=-1,t&=~n}}function g1(e){if(pr&6)throw Error(lt(327));bd();var t=Kp(e,0);if(!(t&1))return Ga(e,vn()),null;var r=h0(e,t);if(e.tag!==0&&r===2){var n=nx(e);n!==0&&(t=n,r=Dx(e,n))}if(r===1)throw r=If,sc(e,0),ll(e,t),Ga(e,vn()),r;if(r===6)throw Error(lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kl(e,Ua,ci),Ga(e,vn()),null}function gv(e,t){var r=pr;pr|=1;try{return e(t)}finally{pr=r,pr===0&&(Md=vn()+500,tm&&Il())}}function pc(e){ul!==null&&ul.tag===0&&!(pr&6)&&bd();var t=pr;pr|=1;var r=Fs.transition,n=Pr;try{if(Fs.transition=null,Pr=1,e)return e()}finally{Pr=n,Fs.transition=r,pr=t,!(pr&6)&&Il()}}function yv(){ds=fd.current,Yr(fd)}function sc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iA(r)),In!==null)for(r=In.return;r!==null;){var n=r;switch(Xb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&e0();break;case 3:Td(),Yr(Ha),Yr(va),ov();break;case 5:sv(n);break;case 4:Td();break;case 13:Yr(sn);break;case 19:Yr(sn);break;case 10:tv(n.type._context);break;case 22:case 23:yv()}r=r.return}if(Qn=e,In=e=jl(e.current,null),oa=ds=t,zn=0,If=null,pv=sm=hc=0,Ua=sf=null,tc!==null){for(t=0;t<tc.length;t++)if(r=tc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}tc=null}return e}function UN(e,t){do{var r=In;try{if(ev(),Np.current=c0,l0){for(var n=on.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}l0=!1}if(fc=0,Kn=qn=on=null,nf=!1,Pf=0,hv.current=null,r===null||r.return===null){zn=1,If=t,In=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=oa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var b=u.alternate;b?(u.updateQueue=b.updateQueue,u.memoizedState=b.memoizedState,u.lanes=b.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=n1(i);if(p!==null){p.flags&=-257,a1(p,i,l,o,t),p.mode&1&&r1(o,d,t),t=p,c=d;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){r1(o,d,t),xv();break e}c=Error(lt(426))}}else if(en&&l.mode&1){var A=n1(i);if(A!==null){!(A.flags&65536)&&(A.flags|=256),a1(A,i,l,o,t),Qb(Od(c,l));break e}}o=c=Od(c,l),zn!==4&&(zn=2),sf===null?sf=[o]:sf.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=SN(o,c,t);Y2(o,v);break e;case 1:l=c;var j=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof j.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(wl===null||!wl.has(R)))){o.flags|=65536,t&=-t,o.lanes|=t;var H=CN(o,l,t);Y2(o,H);break e}}o=o.return}while(o!==null)}HN(r)}catch(U){t=U,In===r&&r!==null&&(In=r=r.return);continue}break}while(!0)}function zN(){var e=d0.current;return d0.current=c0,e===null?c0:e}function xv(){(zn===0||zn===3||zn===2)&&(zn=4),Qn===null||!(hc&268435455)&&!(sm&268435455)||ll(Qn,oa)}function h0(e,t){var r=pr;pr|=2;var n=zN();(Qn!==e||oa!==t)&&(ci=null,sc(e,t));do try{LA();break}catch(a){UN(e,a)}while(!0);if(ev(),pr=r,d0.current=n,In!==null)throw Error(lt(261));return Qn=null,oa=0,zn}function LA(){for(;In!==null;)VN(In)}function IA(){for(;In!==null&&!aE();)VN(In)}function VN(e){var t=GN(e.alternate,e,ds);e.memoizedProps=e.pendingProps,t===null?HN(e):In=t,hv.current=null}function HN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=CA(r,t),r!==null){r.flags&=32767,In=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zn=6,In=null;return}}else if(r=SA(r,t,ds),r!==null){In=r;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);zn===0&&(zn=5)}function Kl(e,t,r){var n=Pr,a=Fs.transition;try{Fs.transition=null,Pr=1,RA(e,t,r,n)}finally{Fs.transition=a,Pr=n}return null}function RA(e,t,r,n){do bd();while(ul!==null);if(pr&6)throw Error(lt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(lt(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(pE(e,o),e===Qn&&(In=Qn=null,oa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xh||(Xh=!0,JN(Jp,function(){return bd(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Fs.transition,Fs.transition=null;var i=Pr;Pr=1;var l=pr;pr|=4,hv.current=null,EA(e,r),BN(r,e),eA(cx),Yp=!!lx,cx=lx=null,e.current=r,AA(r),sE(),pr=l,Pr=i,Fs.transition=o}else e.current=r;if(Xh&&(Xh=!1,ul=e,f0=a),o=e.pendingLanes,o===0&&(wl=null),lE(r.stateNode),Ga(e,vn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(u0)throw u0=!1,e=Ax,Ax=null,e;return f0&1&&e.tag!==0&&bd(),o=e.pendingLanes,o&1?e===Px?of++:(of=0,Px=e):of=0,Il(),null}function bd(){if(ul!==null){var e=Sj(f0),t=Fs.transition,r=Pr;try{if(Fs.transition=null,Pr=16>e?16:e,ul===null)var n=!1;else{if(e=ul,ul=null,f0=0,pr&6)throw Error(lt(331));var a=pr;for(pr|=4,bt=e.current;bt!==null;){var o=bt,i=o.child;if(bt.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(bt=d;bt!==null;){var u=bt;switch(u.tag){case 0:case 11:case 15:af(8,u,o)}var f=u.child;if(f!==null)f.return=u,bt=f;else for(;bt!==null;){u=bt;var b=u.sibling,p=u.return;if(ON(u),u===d){bt=null;break}if(b!==null){b.return=p,bt=b;break}bt=p}}}var w=o.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var A=g.sibling;g.sibling=null,g=A}while(g!==null)}}bt=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,bt=i;else e:for(;bt!==null;){if(o=bt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:af(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,bt=v;break e}bt=o.return}}var j=e.current;for(bt=j;bt!==null;){i=bt;var R=i.child;if(i.subtreeFlags&2064&&R!==null)R.return=i,bt=R;else e:for(i=j;bt!==null;){if(l=bt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:am(9,l)}}catch(U){hn(l,l.return,U)}if(l===i){bt=null;break e}var H=l.sibling;if(H!==null){H.return=l.return,bt=H;break e}bt=l.return}}if(pr=a,Il(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(Y0,e)}catch{}n=!0}return n}finally{Pr=r,Fs.transition=t}}return!1}function y1(e,t,r){t=Od(r,t),t=SN(e,t,1),e=vl(e,t,1),t=Aa(),e!==null&&(Jf(e,1,t),Ga(e,t))}function hn(e,t,r){if(e.tag===3)y1(e,e,r);else for(;t!==null;){if(t.tag===3){y1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wl===null||!wl.has(n))){e=Od(r,e),e=CN(t,e,1),t=vl(t,e,1),e=Aa(),t!==null&&(Jf(t,1,e),Ga(t,e));break}}t=t.return}}function TA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Aa(),e.pingedLanes|=e.suspendedLanes&r,Qn===e&&(oa&r)===r&&(zn===4||zn===3&&(oa&130023424)===oa&&500>vn()-mv?sc(e,0):pv|=r),Ga(e,t)}function WN(e,t){t===0&&(e.mode&1?(t=qh,qh<<=1,!(qh&130023424)&&(qh=4194304)):t=1);var r=Aa();e=wi(e,t),e!==null&&(Jf(e,t,r),Ga(e,r))}function OA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),WN(e,r)}function MA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(lt(314))}n!==null&&n.delete(t),WN(e,r)}var GN;GN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ha.current)Va=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Va=!1,NA(e,t,r);Va=!!(e.flags&131072)}else Va=!1,en&&t.flags&1048576&&Xj(t,n0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cp(e,t),e=t.pendingProps;var a=Ld(t,va.current);xd(t,r),a=lv(null,t,n,e,a,r);var o=cv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wa(n)?(o=!0,t0(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,nv(t),a.updater=nm,t.stateNode=a,a._reactInternals=t,xx(t,n,e,r),t=wx(null,t,n,!0,o,r)):(t.tag=0,en&&o&&Yb(t),_a(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=BA(n),e=no(n,e),a){case 0:t=vx(null,t,n,e,r);break e;case 1:t=i1(null,t,n,e,r);break e;case 11:t=s1(null,t,n,e,r);break e;case 14:t=o1(null,t,n,no(n.type,e),r);break e}throw Error(lt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),vx(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),i1(e,t,n,a,r);case 3:e:{if(PN(t),e===null)throw Error(lt(387));n=t.pendingProps,o=t.memoizedState,a=o.element,nN(e,t),o0(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Od(Error(lt(423)),t),t=l1(e,t,n,r,a);break e}else if(n!==a){a=Od(Error(lt(424)),t),t=l1(e,t,n,r,a);break e}else for(us=bl(t.stateNode.containerInfo.firstChild),hs=t,en=!0,io=null,r=tN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Id(),n===a){t=ki(e,t,r);break e}_a(e,t,n,r)}t=t.child}return t;case 5:return aN(t),e===null&&mx(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,dx(n,a)?i=null:o!==null&&dx(n,o)&&(t.flags|=32),AN(e,t),_a(e,t,i,r),t.child;case 6:return e===null&&mx(t),null;case 13:return DN(e,t,r);case 4:return av(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rd(t,null,n,r):_a(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),s1(e,t,n,a,r);case 7:return _a(e,t,t.pendingProps,r),t.child;case 8:return _a(e,t,t.pendingProps.children,r),t.child;case 12:return _a(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Hr(a0,n._currentValue),n._currentValue=i,o!==null)if(uo(o.value,i)){if(o.children===a.children&&!Ha.current){t=ki(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=mi(-1,r&-r),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),gx(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(lt(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),gx(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}_a(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,xd(t,r),a=Bs(a),n=n(a),t.flags|=1,_a(e,t,n,r),t.child;case 14:return n=t.type,a=no(n,t.pendingProps),a=no(n.type,a),o1(e,t,n,a,r);case 15:return _N(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),Cp(e,t),t.tag=1,Wa(n)?(e=!0,t0(t)):e=!1,xd(t,r),NN(t,n,a),xx(t,n,a,r),wx(null,t,n,!0,e,r);case 19:return LN(e,t,r);case 22:return EN(e,t,r)}throw Error(lt(156,t.tag))};function JN(e,t){return wj(e,t)}function FA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(e,t,r,n){return new FA(e,t,r,n)}function bv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BA(e){if(typeof e=="function")return bv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fb)return 11;if(e===Bb)return 14}return 2}function jl(e,t){var r=e.alternate;return r===null?(r=Ms(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ap(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")bv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case rd:return oc(r.children,a,o,t);case Mb:i=8,a|=8;break;case Uy:return e=Ms(12,r,t,a|2),e.elementType=Uy,e.lanes=o,e;case zy:return e=Ms(13,r,t,a),e.elementType=zy,e.lanes=o,e;case Vy:return e=Ms(19,r,t,a),e.elementType=Vy,e.lanes=o,e;case aj:return om(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rj:i=10;break e;case nj:i=9;break e;case Fb:i=11;break e;case Bb:i=14;break e;case nl:i=16,n=null;break e}throw Error(lt(130,e==null?e:typeof e,""))}return t=Ms(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function oc(e,t,r,n){return e=Ms(7,e,n,t),e.lanes=r,e}function om(e,t,r,n){return e=Ms(22,e,n,t),e.elementType=aj,e.lanes=r,e.stateNode={isHidden:!1},e}function Jg(e,t,r){return e=Ms(6,e,null,t),e.lanes=r,e}function Kg(e,t,r){return t=Ms(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $A(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ag(0),this.expirationTimes=Ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ag(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vv(e,t,r,n,a,o,i,l,c){return e=new $A(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ms(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nv(o),e}function qA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:td,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function KN(e){if(!e)return Cl;e=e._reactInternals;e:{if(bc(e)!==e||e.tag!==1)throw Error(lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(lt(171))}if(e.tag===1){var r=e.type;if(Wa(r))return Kj(e,r,t)}return t}function YN(e,t,r,n,a,o,i,l,c){return e=vv(r,n,!0,e,a,o,i,l,c),e.context=KN(null),r=e.current,n=Aa(),a=kl(r),o=mi(n,a),o.callback=t??null,vl(r,o,a),e.current.lanes=a,Jf(e,a,n),Ga(e,n),e}function im(e,t,r,n){var a=t.current,o=Aa(),i=kl(a);return r=KN(r),t.context===null?t.context=r:t.pendingContext=r,t=mi(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vl(a,t,i),e!==null&&(co(e,a,i,o),jp(e,a,i)),i}function p0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function x1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wv(e,t){x1(e,t),(e=e.alternate)&&x1(e,t)}function UA(){return null}var XN=typeof reportError=="function"?reportError:function(e){console.error(e)};function kv(e){this._internalRoot=e}lm.prototype.render=kv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(lt(409));im(e,t,null,null)};lm.prototype.unmount=kv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pc(function(){im(null,e,null,null)}),t[vi]=null}};function lm(e){this._internalRoot=e}lm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ej();e={blockedOn:null,target:e,priority:t};for(var r=0;r<il.length&&t!==0&&t<il[r].priority;r++);il.splice(r,0,e),r===0&&Pj(e)}};function jv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function b1(){}function zA(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var d=p0(i);o.call(d)}}var i=YN(t,n,e,0,null,!1,!1,"",b1);return e._reactRootContainer=i,e[vi]=i.current,Sf(e.nodeType===8?e.parentNode:e),pc(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=p0(c);l.call(d)}}var c=vv(e,0,!1,null,null,!1,!1,"",b1);return e._reactRootContainer=c,e[vi]=c.current,Sf(e.nodeType===8?e.parentNode:e),pc(function(){im(t,c,r,n)}),c}function dm(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=p0(i);l.call(c)}}im(t,i,e,a)}else i=zA(r,t,e,a,n);return p0(i)}Cj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gu(t.pendingLanes);r!==0&&(Ub(t,r|1),Ga(t,vn()),!(pr&6)&&(Md=vn()+500,Il()))}break;case 13:pc(function(){var n=wi(e,1);if(n!==null){var a=Aa();co(n,e,1,a)}}),wv(e,1)}};zb=function(e){if(e.tag===13){var t=wi(e,134217728);if(t!==null){var r=Aa();co(t,e,134217728,r)}wv(e,134217728)}};_j=function(e){if(e.tag===13){var t=kl(e),r=wi(e,t);if(r!==null){var n=Aa();co(r,e,t,n)}wv(e,t)}};Ej=function(){return Pr};Aj=function(e,t){var r=Pr;try{return Pr=e,t()}finally{Pr=r}};ex=function(e,t,r){switch(t){case"input":if(Gy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=em(n);if(!a)throw Error(lt(90));oj(n),Gy(n,a)}}}break;case"textarea":lj(e,r);break;case"select":t=r.value,t!=null&&pd(e,!!r.multiple,t,!1)}};mj=gv;gj=pc;var VA={usingClientEntryPoint:!1,Events:[Yf,od,em,hj,pj,gv]},Mu={findFiberByHostInstance:ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HA={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bj(e),e===null?null:e.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||UA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{Y0=Qh.inject(HA),$o=Qh}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA;xs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(t))throw Error(lt(200));return qA(e,t,null,r)};xs.createRoot=function(e,t){if(!jv(e))throw Error(lt(299));var r=!1,n="",a=XN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vv(e,1,!1,null,null,r,!1,n,a),e[vi]=t.current,Sf(e.nodeType===8?e.parentNode:e),new kv(t)};xs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(lt(188)):(e=Object.keys(e).join(","),Error(lt(268,e)));return e=bj(t),e=e===null?null:e.stateNode,e};xs.flushSync=function(e){return pc(e)};xs.hydrate=function(e,t,r){if(!cm(t))throw Error(lt(200));return dm(null,e,t,!0,r)};xs.hydrateRoot=function(e,t,r){if(!jv(e))throw Error(lt(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=XN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=YN(t,null,e,1,r??null,a,!1,o,i),e[vi]=t.current,Sf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new lm(t)};xs.render=function(e,t,r){if(!cm(t))throw Error(lt(200));return dm(null,e,t,!1,r)};xs.unmountComponentAtNode=function(e){if(!cm(e))throw Error(lt(40));return e._reactRootContainer?(pc(function(){dm(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1};xs.unstable_batchedUpdates=gv;xs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cm(r))throw Error(lt(200));if(e==null||e._reactInternals===void 0)throw Error(lt(38));return dm(e,t,r,!1,n)};xs.version="18.3.1-next-f1338f8080-20240426";function QN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QN)}catch(e){console.error(e)}}QN(),Qk.exports=xs;var nc=Qk.exports,ZN,v1=nc;ZN=v1.createRoot,v1.hydrateRoot;var Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.parse=QA;Nv.serialize=ZA;const WA=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,GA=/^[\u0021-\u003A\u003C-\u007E]*$/,JA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,KA=/^[\u0020-\u003A\u003D-\u007E]*$/,YA=Object.prototype.toString,XA=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function QA(e,t){const r=new XA,n=e.length;if(n<2)return r;const a=(t==null?void 0:t.decode)||eP;let o=0;do{const i=e.indexOf("=",o);if(i===-1)break;const l=e.indexOf(";",o),c=l===-1?n:l;if(i>c){o=e.lastIndexOf(";",i-1)+1;continue}const d=w1(e,o,i),u=k1(e,i,d),f=e.slice(d,u);if(r[f]===void 0){let b=w1(e,i+1,c),p=k1(e,c,b);const w=a(e.slice(b,p));r[f]=w}o=c+1}while(o<n);return r}function w1(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function k1(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function ZA(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!WA.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=n(t);if(!GA.test(a))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+a;if(!r)return o;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);o+="; Max-Age="+r.maxAge}if(r.domain){if(!JA.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);o+="; Domain="+r.domain}if(r.path){if(!KA.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);o+="; Path="+r.path}if(r.expires){if(!tP(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return o}function eP(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function tP(e){return YA.call(e)==="[object Date]"}var j1="popstate";function rP(e={}){function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return Ix("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Rf(a)}return aP(t,r,null,e)}function tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nP(){return Math.random().toString(36).substring(2,10)}function N1(e,t){return{usr:e.state,key:e.key,idx:t}}function Ix(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Kd(t):t,state:r,key:t&&t.key||n||nP()}}function Rf({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function aP(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l="POP",c=null,d=u();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function u(){return(i.state||{idx:null}).idx}function f(){l="POP";let A=u(),v=A==null?null:A-d;d=A,c&&c({action:l,location:g.location,delta:v})}function b(A,v){l="PUSH";let j=Ix(g.location,A,v);d=u()+1;let R=N1(j,d),H=g.createHref(j);try{i.pushState(R,"",H)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(H)}o&&c&&c({action:l,location:g.location,delta:1})}function p(A,v){l="REPLACE";let j=Ix(g.location,A,v);d=u();let R=N1(j,d),H=g.createHref(j);i.replaceState(R,"",H),o&&c&&c({action:l,location:g.location,delta:0})}function w(A){return sP(A)}let g={get action(){return l},get location(){return e(a,i)},listen(A){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(j1,f),c=A,()=>{a.removeEventListener(j1,f),c=null}},createHref(A){return t(a,A)},createURL:w,encodeLocation(A){let v=w(A);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:b,replace:p,go(A){return i.go(A)}};return g}function sP(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tn(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Rf(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function e4(e,t,r="/"){return oP(e,t,r,!1)}function oP(e,t,r,n){let a=typeof t=="string"?Kd(t):t,o=ji(a.pathname||"/",r);if(o==null)return null;let i=t4(e);iP(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=xP(o);l=gP(i[c],d,n)}return l}function t4(e,t=[],r=[],n=""){let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(tn(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let d=gi([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),t4(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:pP(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of r4(o.path))a(o,i,c)}),t}function r4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=r4(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function iP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var lP=/^:[\w-]+$/,cP=3,dP=2,uP=1,fP=10,hP=-2,S1=e=>e==="*";function pP(e,t){let r=e.split("/"),n=r.length;return r.some(S1)&&(n+=hP),t&&(n+=dP),r.filter(a=>!S1(a)).reduce((a,o)=>a+(lP.test(o)?cP:o===""?uP:fP),n)}function mP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function gP(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",f=m0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),b=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=m0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:gi([o,f.pathname]),pathnameBase:kP(gi([o,f.pathnameBase])),route:b}),f.pathnameBase!=="/"&&(o=gi([o,f.pathnameBase]))}return i}function m0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yP(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:f},b)=>{if(u==="*"){let w=l[b]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const p=l[b];return f&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function yP(e,t=!1,r=!0){fo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function xP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ji(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function bP(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Kd(e):e;return{pathname:r?r.startsWith("/")?r:vP(r,t):t,search:jP(n),hash:NP(a)}}function vP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Yg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wP(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Sv(e){let t=wP(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Cv(e,t,r,n=!1){let a;typeof e=="string"?a=Kd(e):(a={...e},tn(!a.pathname||!a.pathname.includes("?"),Yg("?","pathname","search",a)),tn(!a.pathname||!a.pathname.includes("#"),Yg("#","pathname","hash",a)),tn(!a.search||!a.search.includes("#"),Yg("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let b=i.split("/");for(;b[0]==="..";)b.shift(),f-=1;a.pathname=b.join("/")}l=f>=0?t[f]:"/"}let c=bP(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var gi=e=>e.join("/").replace(/\/\/+/g,"/"),kP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var n4=["POST","PUT","PATCH","DELETE"];new Set(n4);var CP=["GET",...n4];new Set(CP);var Yd=L.createContext(null);Yd.displayName="DataRouter";var um=L.createContext(null);um.displayName="DataRouterState";var a4=L.createContext({isTransitioning:!1});a4.displayName="ViewTransition";var _P=L.createContext(new Map);_P.displayName="Fetchers";var EP=L.createContext(null);EP.displayName="Await";var po=L.createContext(null);po.displayName="Navigation";var Qf=L.createContext(null);Qf.displayName="Location";var Wo=L.createContext({outlet:null,matches:[],isDataRoute:!1});Wo.displayName="Route";var _v=L.createContext(null);_v.displayName="RouteError";function AP(e,{relative:t}={}){tn(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=L.useContext(po),{hash:a,pathname:o,search:i}=Zf(e,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:gi([r,o])),n.createHref({pathname:l,search:i,hash:a})}function Xd(){return L.useContext(Qf)!=null}function Rl(){return tn(Xd(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Qf).location}var s4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o4(e){L.useContext(po).static||L.useLayoutEffect(e)}function Ev(){let{isDataRoute:e}=L.useContext(Wo);return e?UP():PP()}function PP(){tn(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(Yd),{basename:t,navigator:r}=L.useContext(po),{matches:n}=L.useContext(Wo),{pathname:a}=Rl(),o=JSON.stringify(Sv(n)),i=L.useRef(!1);return o4(()=>{i.current=!0}),L.useCallback((c,d={})=>{if(fo(i.current,s4),!i.current)return;if(typeof c=="number"){r.go(c);return}let u=Cv(c,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:gi([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,o,a,e])}L.createContext(null);function Zf(e,{relative:t}={}){let{matches:r}=L.useContext(Wo),{pathname:n}=Rl(),a=JSON.stringify(Sv(r));return L.useMemo(()=>Cv(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function DP(e,t){return i4(e,t)}function i4(e,t,r,n){var v;tn(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(po),{matches:o}=L.useContext(Wo),i=o[o.length-1],l=i?i.params:{},c=i?i.pathname:"/",d=i?i.pathnameBase:"/",u=i&&i.route;{let j=u&&u.path||"";l4(c,!u||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let f=Rl(),b;if(t){let j=typeof t=="string"?Kd(t):t;tn(d==="/"||((v=j.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=f;let p=b.pathname||"/",w=p;if(d!=="/"){let j=d.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=e4(e,{pathname:w});fo(u||g!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),fo(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=OP(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:gi([d,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:gi([d,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,r,n);return t&&A?L.createElement(Qf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function LP(){let e=qP(),t=SP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:a},r):null,i)}var IP=L.createElement(LP,null),RP=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Wo.Provider,{value:this.props.routeContext},L.createElement(_v.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TP({routeContext:e,match:t,children:r}){let n=L.useContext(Yd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Wo.Provider,{value:e},r)}function OP(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);tn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let i=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:u,errors:f}=r,b=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||b){i=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,u)=>{let f,b=!1,p=null,w=null;r&&(f=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||IP,i&&(l<0&&u===0?(l4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):l===u&&(b=!0,w=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,u+1)),A=()=>{let v;return f?v=p:b?v=w:d.route.Component?v=L.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,L.createElement(TP,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?L.createElement(RP,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:A(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):A()},null)}function Av(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MP(e){let t=L.useContext(Yd);return tn(t,Av(e)),t}function FP(e){let t=L.useContext(um);return tn(t,Av(e)),t}function BP(e){let t=L.useContext(Wo);return tn(t,Av(e)),t}function Pv(e){let t=BP(e),r=t.matches[t.matches.length-1];return tn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function $P(){return Pv("useRouteId")}function qP(){var n;let e=L.useContext(_v),t=FP("useRouteError"),r=Pv("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function UP(){let{router:e}=MP("useNavigate"),t=Pv("useNavigate"),r=L.useRef(!1);return o4(()=>{r.current=!0}),L.useCallback(async(a,o={})=>{fo(r.current,s4),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var C1={};function l4(e,t,r){!t&&!C1[e]&&(C1[e]=!0,fo(!1,r))}L.memo(zP);function zP({routes:e,future:t,state:r}){return i4(e,void 0,r,t)}function Ku({to:e,replace:t,state:r,relative:n}){tn(Xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(po);fo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=L.useContext(Wo),{pathname:i}=Rl(),l=Ev(),c=Cv(e,Sv(o),i,n==="path"),d=JSON.stringify(c);return L.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function Er(e){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VP({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){tn(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:i,navigator:a,static:o,future:{}}),[i,a,o]);typeof r=="string"&&(r=Kd(r));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:b="default"}=r,p=L.useMemo(()=>{let w=ji(c,i);return w==null?null:{location:{pathname:w,search:d,hash:u,state:f,key:b},navigationType:n}},[i,c,d,u,f,b,n]);return fo(p!=null,`<Router basename="${i}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:L.createElement(po.Provider,{value:l},L.createElement(Qf.Provider,{children:t,value:p}))}function HP({children:e,location:t}){return DP(Rx(e),t)}function Rx(e,t=[]){let r=[];return L.Children.forEach(e,(n,a)=>{if(!L.isValidElement(n))return;let o=[...t,a];if(n.type===L.Fragment){r.push.apply(r,Rx(n.props.children,o));return}tn(n.type===Er,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Rx(n.props.children,o)),r.push(i)}),r}var Pp="get",Dp="application/x-www-form-urlencoded";function fm(e){return e!=null&&typeof e.tagName=="string"}function WP(e){return fm(e)&&e.tagName.toLowerCase()==="button"}function GP(e){return fm(e)&&e.tagName.toLowerCase()==="form"}function JP(e){return fm(e)&&e.tagName.toLowerCase()==="input"}function KP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YP(e,t){return e.button===0&&(!t||t==="_self")&&!KP(e)}var Zh=null;function XP(){if(Zh===null)try{new FormData(document.createElement("form"),0),Zh=!1}catch{Zh=!0}return Zh}var QP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xg(e){return e!=null&&!QP.has(e)?(fo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dp}"`),null):e}function ZP(e,t){let r,n,a,o,i;if(GP(e)){let l=e.getAttribute("action");n=l?ji(l,t):null,r=e.getAttribute("method")||Pp,a=Xg(e.getAttribute("enctype"))||Dp,o=new FormData(e)}else if(WP(e)||JP(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?ji(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Pp,a=Xg(e.getAttribute("formenctype"))||Xg(l.getAttribute("enctype"))||Dp,o=new FormData(l,e),!XP()){let{name:d,type:u,value:f}=e;if(u==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,f)}}else{if(fm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pp,n=null,a=Dp,i=e}return o&&a==="text/plain"&&(i=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:i}}function Dv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function eD(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rD(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let i=await eD(o,r);return i.links?i.links():[]}return[]}));return oD(n.flat(1).filter(tD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _1(e,t,r,n,a,o){let i=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,d)=>i(c,d)||l(c,d)):o==="data"?t.filter((c,d)=>{var f;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let b=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nD(e,t,{includeHydrateFallback:r}={}){return aD(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function aD(e){return[...new Set(e)]}function sD(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function oD(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let o=JSON.stringify(sD(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iD=new Set([100,101,204,205]);function lD(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&ji(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function c4(){let e=L.useContext(Yd);return Dv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function cD(){let e=L.useContext(um);return Dv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Lv=L.createContext(void 0);Lv.displayName="FrameworkContext";function d4(){let e=L.useContext(Lv);return Dv(e,"You must render this element inside a <HydratedRouter> element"),e}function dD(e,t){let r=L.useContext(Lv),[n,a]=L.useState(!1),[o,i]=L.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,b=L.useRef(null);L.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let g=v=>{v.forEach(j=>{i(j.isIntersecting)})},A=new IntersectionObserver(g,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[e]),L.useEffect(()=>{if(n){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[n]);let p=()=>{a(!0)},w=()=>{a(!1),i(!1)};return r?e!=="intent"?[o,b,{}]:[o,b,{onFocus:Fu(l,p),onBlur:Fu(c,w),onMouseEnter:Fu(d,p),onMouseLeave:Fu(u,w),onTouchStart:Fu(f,p)}]:[!1,b,{}]}function Fu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function uD({page:e,...t}){let{router:r}=c4(),n=L.useMemo(()=>e4(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?L.createElement(hD,{page:e,matches:n,...t}):null}function fD(e){let{manifest:t,routeModules:r}=d4(),[n,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return rD(e,t,r).then(i=>{o||a(i)}),()=>{o=!0}},[e,t,r]),n}function hD({page:e,matches:t,...r}){let n=Rl(),{manifest:a,routeModules:o}=d4(),{basename:i}=c4(),{loaderData:l,matches:c}=cD(),d=L.useMemo(()=>_1(e,t,c,a,n,"data"),[e,t,c,a,n]),u=L.useMemo(()=>_1(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=L.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,g=!1;if(t.forEach(v=>{var R;let j=a.routes[v.route.id];!j||!j.hasLoader||(!d.some(H=>H.route.id===v.route.id)&&v.route.id in l&&((R=o[v.route.id])!=null&&R.shouldRevalidate)||j.hasClientLoader?g=!0:w.add(v.route.id))}),w.size===0)return[];let A=lD(e,i);return g&&w.size>0&&A.searchParams.set("_routes",t.filter(v=>w.has(v.route.id)).map(v=>v.route.id).join(",")),[A.pathname+A.search]},[i,l,n,a,d,t,e,o]),b=L.useMemo(()=>nD(u,a),[u,a]),p=fD(u);return L.createElement(L.Fragment,null,f.map(w=>L.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>L.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),p.map(({key:w,link:g})=>L.createElement("link",{key:w,...g})))}function pD(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var u4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u4&&(window.__reactRouterVersion="7.6.1")}catch{}function mD({basename:e,children:t,window:r}){let n=L.useRef();n.current==null&&(n.current=rP({window:r,v5Compat:!0}));let a=n.current,[o,i]=L.useState({action:a.action,location:a.location}),l=L.useCallback(c=>{L.startTransition(()=>i(c))},[i]);return L.useLayoutEffect(()=>a.listen(l),[a,l]),L.createElement(VP,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var f4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h4=L.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f,...b},p){let{basename:w}=L.useContext(po),g=typeof d=="string"&&f4.test(d),A,v=!1;if(typeof d=="string"&&g&&(A=d,u4))try{let S=new URL(window.location.href),C=d.startsWith("//")?new URL(S.protocol+d):new URL(d),y=ji(C.pathname,w);C.origin===S.origin&&y!=null?d=y+C.search+C.hash:v=!0}catch{fo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=AP(d,{relative:a}),[R,H,U]=dD(n,b),F=bD(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function x(S){t&&t(S),S.defaultPrevented||F(S)}let I=L.createElement("a",{...b,...U,href:A||j,onClick:v||o?t:x,ref:pD(p,H),target:c,"data-discover":!g&&r==="render"?"true":void 0});return R&&!g?L.createElement(L.Fragment,null,I,L.createElement(uD,{page:j})):I});h4.displayName="Link";var gD=L.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:i,viewTransition:l,children:c,...d},u){let f=Zf(i,{relative:d.relative}),b=Rl(),p=L.useContext(um),{navigator:w,basename:g}=L.useContext(po),A=p!=null&&ND(f)&&l===!0,v=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,j=b.pathname,R=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(j=j.toLowerCase(),R=R?R.toLowerCase():null,v=v.toLowerCase()),R&&g&&(R=ji(R,g)||R);const H=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let U=j===v||!a&&j.startsWith(v)&&j.charAt(H)==="/",F=R!=null&&(R===v||!a&&R.startsWith(v)&&R.charAt(v.length)==="/"),x={isActive:U,isPending:F,isTransitioning:A},I=U?t:void 0,S;typeof n=="function"?S=n(x):S=[n,U?"active":null,F?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(x):o;return L.createElement(h4,{...d,"aria-current":I,className:S,ref:u,style:C,to:i,viewTransition:l},typeof c=="function"?c(x):c)});gD.displayName="NavLink";var yD=L.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:i=Pp,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...b},p)=>{let w=kD(),g=jD(l,{relative:d}),A=i.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&f4.test(l),j=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let H=R.nativeEvent.submitter,U=(H==null?void 0:H.getAttribute("formmethod"))||i;w(H||R.currentTarget,{fetcherKey:t,method:U,navigate:r,replace:a,state:o,relative:d,preventScrollReset:u,viewTransition:f})};return L.createElement("form",{ref:p,method:A,action:g,onSubmit:n?c:j,...b,"data-discover":!v&&e==="render"?"true":void 0})});yD.displayName="Form";function xD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p4(e){let t=L.useContext(Yd);return tn(t,xD(e)),t}function bD(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:i}={}){let l=Ev(),c=Rl(),d=Zf(e,{relative:o});return L.useCallback(u=>{if(YP(u,t)){u.preventDefault();let f=r!==void 0?r:Rf(c)===Rf(d);l(e,{replace:f,state:n,preventScrollReset:a,relative:o,viewTransition:i})}},[c,l,d,r,n,t,e,a,o,i])}var vD=0,wD=()=>`__${String(++vD)}__`;function kD(){let{router:e}=p4("useSubmit"),{basename:t}=L.useContext(po),r=$P();return L.useCallback(async(n,a={})=>{let{action:o,method:i,encType:l,formData:c,body:d}=ZP(n,t);if(a.navigate===!1){let u=a.fetcherKey||wD();await e.fetch(u,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||i,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function jD(e,{relative:t}={}){let{basename:r}=L.useContext(po),n=L.useContext(Wo);tn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Zf(e||".",{relative:t})},i=Rl();if(e==null){o.search=i.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:gi([r,o.pathname])),Rf(o)}function ND(e,t={}){let r=L.useContext(a4);tn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=p4("useViewTransitionState"),a=Zf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=ji(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=ji(r.nextLocation.pathname,n)||r.nextLocation.pathname;return m0(a.pathname,i)!=null||m0(a.pathname,o)!=null}[...iD];/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Rt=(e,t)=>{const r=L.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:c,...d},u)=>L.createElement("svg",{ref:u,...SD,width:a,height:a,stroke:n,strokeWidth:i?Number(o)*24/Number(a):o,className:["lucide",`lucide-${CD(e)}`,l].join(" "),...d},[...t.map(([f,b])=>L.createElement(f,b)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Rt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Rt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Rt("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Rt("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Rt("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Rt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Rt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Rt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Rt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Rt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Rt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Rt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Rt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=Rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Rt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Rt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Rt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Rt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Rt("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Rt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Rt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Rt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Rt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=Rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=Rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=Rt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Rt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Rt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=Rt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Rt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Rt("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=Rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=Rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=Rt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=Rt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Rt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Rt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=Rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function YD({onPageChange:e,currentPage:t}){const[r,n]=L.useState(null),[a,o]=L.useState(!1),i=JSON.parse(localStorage.getItem("userPermissions")||"[]"),l=[{icon:FD,label:"Dashboard",href:"dashboard"},{icon:ED,label:"Pagamentos",href:"payments",submenu:[{label:"Central de Pagamentos",href:"payment-center"},{label:"Solicitaes de Pagamento",href:"payment-requests"}]},{icon:PD,label:"Recebimentos",href:"receivables",submenu:[{label:"Central de Recebimentos",href:"receivables-center"},{label:"Aprovaes de Pagamento",href:"payment-approvals"},{label:"Forecast",href:"receivables-forecast"}]},{icon:y0,label:"Caixas e Bancos",href:"reconciliation",submenu:[{label:"Extrato Bancrio",href:"bank-statement"},{label:"Conciliao de Contas",href:"bank-reconciliation"},{label:"Conciliao de Cartes",href:"credit-card-reconciliation"}]},{icon:pm,label:"Estornos",href:"refunds",submenu:[{label:"Solicitaes de Estorno",href:"refund-requests"},{label:"Motivos de Estorno",href:"refund-reasons"},{label:"Responsveis por Estorno",href:"refund-responsibles"}]},{icon:vc,label:"Balano",href:"balance",submenu:[{label:"Depreciao de Ativos",href:"asset-depreciation"},{label:"Gesto de Passivos",href:"passives"},{label:"Patrimnio Lquido",href:"equity"}]},{icon:El,label:"Relatrios",href:"reports",submenu:[{label:"DRE",href:"income-statement"},{label:"Fluxo de Caixa",href:"cash-flow"},{label:"Exportao Contbil",href:"accounting-export"}]},{icon:VD,label:"Configuraes",href:"settings",submenu:[{label:"Cadastro de CNPJs",href:"cnpjs"},{label:"Usurios",href:"users"},{label:"Permisses",href:"permissions"},{label:"Categorias Financeiras",href:"financial-categories"},{label:"Formas de Pagamento",href:"payment-methods"},{label:"Contas Bancrias",href:"bank-accounts"},{label:"Configurao de E-mail",href:"email-config"},{label:"Configurao DDA",href:"dda-config"},{label:"Alertas Financeiros",href:"alerts"}]},{icon:$D,label:"Sair",href:"logout"}],c=f=>{n(r===f?null:f)},d=(f,b)=>{b.stopPropagation(),e(f),n(null)},u=f=>i.includes(f);return s.jsxs("aside",{className:`fixed left-0 top-0 h-screen bg-white dark:bg-secondary-900 border-r border-secondary-200 dark:border-secondary-800 z-20 transition-all duration-300 ease-in-out ${a?"w-64":"w-16"}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[s.jsx("div",{className:"h-16 flex items-center justify-center px-4 border-b border-secondary-200 dark:border-secondary-800",children:a?s.jsx("h1",{className:"text-xl font-semibold text-secondary-900 dark:text-white truncate transition-all duration-300",children:"Sistema Financeiro"}):s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"SF"})})}),s.jsx("nav",{className:"mt-4 overflow-y-auto h-[calc(100vh-4rem)]",children:l.filter(f=>f.href==="logout"?!0:f.submenu?f.submenu.some(b=>u(b.href)):u(f.href)).map(f=>s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>f.submenu?c(f.href):e(f.href),className:`w-full flex items-center px-4 py-3 text-secondary-600 dark:text-secondary-300 hover:bg-primary-50 dark:hover:bg-secondary-800 hover:text-primary-600 dark:hover:text-primary-400 transition-colors ${t===f.href||f.submenu&&f.submenu.some(b=>b.href===t)?"bg-primary-50 dark:bg-secondary-800 text-primary-600 dark:text-primary-400":""}`,children:[s.jsx(f.icon,{className:`h-5 w-5 min-w-[20px] ${a?"mr-3":"mx-auto"}`}),a&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium whitespace-nowrap",children:f.label}),f.submenu&&s.jsx(TD,{className:`h-4 w-4 ml-auto transition-transform duration-300 ${r===f.href?"rotate-90":""}`})]})]}),a&&f.submenu&&r===f.href&&s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"ml-12 py-2",children:f.submenu.filter(b=>u(b.href)).map(b=>s.jsx("button",{onClick:p=>d(b.href,p),className:`w-full text-left px-4 py-2 text-sm text-secondary-600 dark:text-secondary-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors whitespace-nowrap ${t===b.href?"text-primary-600 dark:text-primary-400":""}`,children:b.label},b.href))})})]},f.href))})]})}function XD({theme:e,onThemeToggle:t}){return s.jsx("header",{className:"h-16 bg-white dark:bg-secondary-900 border-b border-secondary-200 dark:border-secondary-800 fixed top-0 right-0 left-16 z-10",children:s.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{className:"flex items-center space-x-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-2 text-secondary-700 dark:text-secondary-200 hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx("span",{children:"Todos os CNPJs"}),s.jsx(Of,{className:"h-4 w-4"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"p-2 hover:bg-primary-50 dark:hover:bg-secondary-800 rounded-lg text-secondary-600 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.jsx(ID,{className:"h-5 w-5"})}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-primary-50 dark:hover:bg-secondary-800 rounded-lg text-secondary-600 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e==="light"?s.jsx(UD,{className:"h-5 w-5"}):s.jsx(GD,{className:"h-5 w-5"})}),s.jsx("div",{className:"flex items-center space-x-3 pl-4 border-l border-secondary-200 dark:border-secondary-700",children:s.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"JD"})})})]})]})})}function un({children:e,requiredPermission:t}){return JSON.parse(localStorage.getItem("userPermissions")||"[]").includes(t)?e:s.jsx(Ku,{to:"/login",replace:!0})}const QD="modulepreload",ZD=function(e){return"/"+e},P1={},Si=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=ZD(c),c in P1)return;P1[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":QD,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((b,p)=>{f.addEventListener("load",b),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},e7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Si(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Tv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class t7 extends Tv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class r7 extends Tv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class n7 extends Tv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tx||(Tx={}));var a7=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class s7{constructor(t,{headers:r={},customFetch:n,region:a=Tx.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=e7(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return a7(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(w=>{throw new t7(w)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new r7(u);if(!u.ok)throw new n7(u);let b=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return b==="application/json"?p=yield u.json():b==="application/octet-stream"?p=yield u.blob():b==="text/event-stream"?p=u:b==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var za={},Ov={},mm={},eh={},gm={},ym={},o7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fd=o7();const i7=Fd.fetch,k4=Fd.fetch.bind(Fd),j4=Fd.Headers,l7=Fd.Request,c7=Fd.Response,Zd=Object.freeze(Object.defineProperty({__proto__:null,Headers:j4,Request:l7,Response:c7,default:k4,fetch:i7},Symbol.toStringTag,{value:"Module"})),d7=v_(Zd);var xm={};Object.defineProperty(xm,"__esModule",{value:!0});let u7=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xm.default=u7;var N4=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ym,"__esModule",{value:!0});const f7=N4(d7),h7=N4(xm);let p7=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=f7.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let d=null,u=null,f=null,b=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),A=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&A&&A.length>1&&(f=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,b=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await o.text();try{d=JSON.parse(g),Array.isArray(d)&&o.status===404&&(u=[],d=null,b=200,p="OK")}catch{o.status===404&&g===""?(b=204,p="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,b=200,p="OK"),d&&this.shouldThrowOnError)throw new h7.default(d)}return{error:d,data:u,count:f,status:b,statusText:p}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};ym.default=p7;var m7=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gm,"__esModule",{value:!0});const g7=m7(ym);let y7=class extends g7.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gm.default=y7;var x7=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0});const b7=x7(gm);let v7=class extends b7.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};eh.default=v7;var w7=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mm,"__esModule",{value:!0});const Bu=w7(eh);let k7=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Bu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Bu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Bu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Bu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Bu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};mm.default=k7;var bm={},vm={};Object.defineProperty(vm,"__esModule",{value:!0});vm.version=void 0;vm.version="0.0.0-automated";Object.defineProperty(bm,"__esModule",{value:!0});bm.DEFAULT_HEADERS=void 0;const j7=vm;bm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${j7.version}`};var S4=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ov,"__esModule",{value:!0});const N7=S4(mm),S7=S4(eh),C7=bm;let _7=class C4{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},C7.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new N7.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new C4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(i="POST",c=r);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new S7.default({method:i,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ov.default=_7;var eu=ms&&ms.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(za,"__esModule",{value:!0});za.PostgrestError=za.PostgrestBuilder=za.PostgrestTransformBuilder=za.PostgrestFilterBuilder=za.PostgrestQueryBuilder=za.PostgrestClient=void 0;const _4=eu(Ov);za.PostgrestClient=_4.default;const E4=eu(mm);za.PostgrestQueryBuilder=E4.default;const A4=eu(eh);za.PostgrestFilterBuilder=A4.default;const P4=eu(gm);za.PostgrestTransformBuilder=P4.default;const D4=eu(ym);za.PostgrestBuilder=D4.default;const L4=eu(xm);za.PostgrestError=L4.default;var E7=za.default={PostgrestClient:_4.default,PostgrestQueryBuilder:E4.default,PostgrestFilterBuilder:A4.default,PostgrestTransformBuilder:P4.default,PostgrestBuilder:D4.default,PostgrestError:L4.default};const{PostgrestClient:A7,PostgrestQueryBuilder:GW,PostgrestFilterBuilder:JW,PostgrestTransformBuilder:KW,PostgrestBuilder:YW,PostgrestError:XW}=E7,P7="2.11.2",D7={"X-Client-Info":`realtime-js/${P7}`},L7="1.0.0",I4=1e4,I7=1e3;var vd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vd||(vd={}));var cs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(cs||(cs={}));var oo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oo||(oo={}));var Ox;(function(e){e.websocket="websocket"})(Ox||(Ox={}));var Ql;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ql||(Ql={}));class R7{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+o));i=i+o;const d=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}let R4=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Vr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Vr||(Vr={}));const D1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=T7(i,e,t,a),o),{})},T7=(e,t,r,n)=>{const a=t.find(l=>l.name===e),o=a==null?void 0:a.type,i=r[e];return o&&!n.includes(o)?T4(o,i):Mx(i)},T4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return B7(t,r)}switch(e){case Vr.bool:return O7(t);case Vr.float4:case Vr.float8:case Vr.int2:case Vr.int4:case Vr.int8:case Vr.numeric:case Vr.oid:return M7(t);case Vr.json:case Vr.jsonb:return F7(t);case Vr.timestamp:return $7(t);case Vr.abstime:case Vr.date:case Vr.daterange:case Vr.int4range:case Vr.int8range:case Vr.money:case Vr.reltime:case Vr.text:case Vr.time:case Vr.timestamptz:case Vr.timetz:case Vr.tsrange:case Vr.tstzrange:return Mx(t);default:return Mx(t)}},Mx=e=>e,O7=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M7=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},F7=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},B7=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>T4(t,l))}return e},$7=e=>typeof e=="string"?e.replace(" ","T"):e,O4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Qg{constructor(t,r,n={},a=I4){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var L1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(L1||(L1={}));class lf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lf.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=lf.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=lf.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const f=o[d];if(f){const b=u.map(A=>A.presence_ref),p=f.map(A=>A.presence_ref),w=u.filter(A=>p.indexOf(A.presence_ref)<0),g=f.filter(A=>b.indexOf(A.presence_ref)<0);w.length>0&&(l[d]=w),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),b=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...b)}n(l,u,c)}),this.map(i,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var I1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(I1||(I1={}));var R1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(R1||(R1={}));var di;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(di||(di={}));class Mv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=cs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qg(this,oo.join,this.params,this.timeout),this.rejoinTimer=new R4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new lf(this),this.broadcastEndpointURL=O4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(u=>t==null?void 0:t(di.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(di.CLOSED));const c={},d={broadcast:o,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(di.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,p=(f=b==null?void 0:b.length)!==null&&f!==void 0?f:0,w=[];for(let g=0;g<p;g++){const A=b[g],{filter:{event:v,schema:j,table:R,filter:H}}=A,U=u&&u[g];if(U&&U.event===v&&U.schema===j&&U.table===R&&U.filter===H)w.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),t==null||t(di.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(di.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(di.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(di.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Qg(this,oo.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Qg(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=oo;if(n&&[l,c,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let b=this._onMessage(i,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var w,g,A;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((A=(g=p.filter)===null||g===void 0?void 0:g.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===i}).map(p=>p.callback(b,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,g,A,v,j,R;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const H=p.id,U=(w=p.filter)===null||w===void 0?void 0:w.event;return H&&((g=r.ids)===null||g===void 0?void 0:g.includes(H))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const H=(j=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return H==="*"||H===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:g,table:A,commit_timestamp:v,type:j,errors:R}=w;b=Object.assign(Object.assign({},{schema:g,table:A,commit_timestamp:v,eventType:j,new:{},old:{},errors:R}),this._getPayloadRecords(w))}p.callback(b,n)})}_isClosed(){return this.state===cs.closed}_isJoined(){return this.state===cs.joined}_isJoining(){return this.state===cs.joining}_isLeaving(){return this.state===cs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Mv.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oo.close,{},t)}_onError(t){this._on(oo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=D1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=D1(t.columns,t.old_record)),r}}const q7=()=>{},U7=typeof WebSocket<"u",z7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class V7{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=D7,this.params={},this.timeout=I4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=q7,this.conn=null,this.sendBuffer=[],this.serializer=new R7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Si(async()=>{const{default:c}=await Promise.resolve().then(()=>Zd);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Ox.websocket}`,this.httpEndpoint=O4(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(U7){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new H7(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Si(async()=>{const{default:t}=await import("./browser-Cy8Xgor2.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L7}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vd.connecting:return Ql.Connecting;case vd.open:return Ql.Open;case vd.closing:return Ql.Closing;default:return Ql.Closed}}isConnected(){return this.connectionState()===Ql.Open}channel(t,r={config:{}}){const n=new Mv(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(oo.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(I7,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(oo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([z7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class H7{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vd.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Fv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Jn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class W7 extends Fv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fx extends Fv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var G7=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const M4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Si(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},J7=()=>G7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Si(()=>Promise.resolve().then(()=>Zd),void 0)).Response:Response}),Bx=e=>{if(Array.isArray(e))return e.map(r=>Bx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Bx(n)}),t};var kc=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Zg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),K7=(e,t,r)=>kc(void 0,void 0,void 0,function*(){const n=yield J7();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new W7(Zg(a),e.status||500))}).catch(a=>{t(new Fx(Zg(a),a))}):t(new Fx(Zg(e),e))}),Y7=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function th(e,t,r,n,a,o){return kc(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Y7(t,n,a,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>K7(c,l,n))})})}function x0(e,t,r,n){return kc(this,void 0,void 0,function*(){return th(e,"GET",t,r,n)})}function sl(e,t,r,n,a){return kc(this,void 0,void 0,function*(){return th(e,"POST",t,n,a,r)})}function X7(e,t,r,n,a){return kc(this,void 0,void 0,function*(){return th(e,"PUT",t,n,a,r)})}function Q7(e,t,r,n){return kc(this,void 0,void 0,function*(){return th(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function F4(e,t,r,n,a){return kc(this,void 0,void 0,function*(){return th(e,"DELETE",t,n,a,r)})}var qa=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Z7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eL{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=M4(a)}uploadOrUpdate(t,r,n,a){return qa(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},T1),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),b=yield f.json();return f.ok?{data:{path:d,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(o){if(Jn(o))return{data:null,error:o};throw o}})}upload(t,r,n){return qa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return qa(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:T1.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),b=yield f.json();return f.ok?{data:{path:o,fullPath:b.Key},error:null}:{data:null,error:b}}catch(c){if(Jn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return qa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield sl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Fv("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}update(t,r,n){return qa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return qa(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}copy(t,r,n){return qa(this,void 0,void 0,function*(){try{return{data:{path:(yield sl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return qa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield sl(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return qa(this,void 0,void 0,function*(){try{const a=yield sl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}download(t,r){return qa(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield x0(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Jn(l))return{data:null,error:l};throw l}})}info(t){return qa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield x0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bx(n),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}exists(t){return qa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Q7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Jn(n)&&n instanceof Fx){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return qa(this,void 0,void 0,function*(){try{return{data:yield F4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}list(t,r,n){return qa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Z7),r),{prefix:t||""});return{data:yield sl(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const tL="2.7.1",rL={"X-Client-Info":`storage-js/${tL}`};var Wc=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class nL{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},rL),r),this.fetch=M4(n)}listBuckets(){return Wc(this,void 0,void 0,function*(){try{return{data:yield x0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Jn(t))return{data:null,error:t};throw t}})}getBucket(t){return Wc(this,void 0,void 0,function*(){try{return{data:yield x0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Wc(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Wc(this,void 0,void 0,function*(){try{return{data:yield X7(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Wc(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Wc(this,void 0,void 0,function*(){try{return{data:yield F4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}}class aL extends nL{constructor(t,r={},n){super(t,r,n)}from(t){return new eL(this.url,this.headers,t,this.fetch)}}const sL="2.49.8";let Yu="";typeof Deno<"u"?Yu="deno":typeof document<"u"?Yu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yu="react-native":Yu="node";const oL={"X-Client-Info":`supabase-js-${Yu}/${sL}`},iL={headers:oL},lL={schema:"public"},cL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dL={};var uL=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const fL=e=>{let t;return e?t=e:typeof fetch>"u"?t=k4:t=fetch,(...r)=>t(...r)},hL=()=>typeof Headers>"u"?j4:Headers,pL=(e,t,r)=>{const n=fL(r),a=hL();return(o,i)=>uL(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:d}))})};var mL=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function gL(e){return e.endsWith("/")?e:e+"/"}function yL(e,t){var r,n;const{db:a,auth:o,realtime:i,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,b={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>mL(this,void 0,void 0,function*(){return""})};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}const B4="2.69.1",Qc=30*1e3,$x=3,ey=$x*Qc,xL="http://localhost:9999",bL="supabase.auth.token",vL={"X-Client-Info":`gotrue-js/${B4}`},qx="X-Supabase-Api-Version",$4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kL=6e5;class Bv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Zt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jL extends Bv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function NL(e){return Zt(e)&&e.name==="AuthApiError"}class q4 extends Bv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tl extends Bv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class tl extends Tl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SL(e){return Zt(e)&&e.name==="AuthSessionMissingError"}class ty extends Tl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ep extends Tl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tp extends Tl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CL(e){return Zt(e)&&e.name==="AuthImplicitGrantRedirectError"}class O1 extends Tl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ux extends Tl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ry(e){return Zt(e)&&e.name==="AuthRetryableFetchError"}class M1 extends Tl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cf extends Tl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const F1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),B1=` 	
\r=`.split(""),_L=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<B1.length;t+=1)e[B1[t].charCodeAt(0)]=-2;for(let t=0;t<F1.length;t+=1)e[F1[t].charCodeAt(0)]=t;return e})();function U4(e,t,r){const n=_L[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $1(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{PL(i,n,r)};for(let i=0;i<e.length;i+=1)U4(e.charCodeAt(i),a,o);return t.join("")}function EL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}EL(n,t)}}function PL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function DL(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)U4(e.charCodeAt(a),r,n);return new Uint8Array(t)}function LL(e){const t=[];return AL(e,r=>t.push(r)),new Uint8Array(t)}function IL(e){return Math.round(Date.now()/1e3)+e}function RL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lo=()=>typeof window<"u"&&typeof document<"u",Wl={tested:!1,writable:!1},df=()=>{if(!Lo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wl.tested)return Wl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wl.tested=!0,Wl.writable=!0}catch{Wl.tested=!0,Wl.writable=!1}return Wl.writable};function TL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const z4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Si(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},OL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",V4=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rp=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},np=async(e,t)=>{await e.removeItem(t)};class wm{constructor(){this.promise=new wm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wm.promiseConstructor=Promise;function ny(e){const t=e.split(".");if(t.length!==3)throw new cf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!wL.test(t[n]))throw new cf("JWT not in base64url format");return{header:JSON.parse($1(t[0])),payload:JSON.parse($1(t[1])),signature:DL(t[2]),raw:{header:t[0],payload:t[1]}}}async function ML(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FL(e,t){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function BL(e){return("0"+e.toString(16)).substr(-2)}function $L(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,BL).join("")}async function qL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function UL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await qL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gc(e,t,r=!1){const n=$L();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await V4(e,`${t}-code-verifier`,a);const o=await UL(n);return[o,n===o?"plain":"s256"]}const zL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VL(e){const t=e.headers.get(qx);if(!t||!t.match(zL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var GL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Yl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JL=[502,503,504];async function q1(e){var t;if(!OL(e))throw new Ux(Yl(e),0);if(JL.includes(e.status))throw new Ux(Yl(e),e.status);let r;try{r=await e.json()}catch(o){throw new q4(Yl(o),o)}let n;const a=VL(e);if(a&&a.getTime()>=$4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new M1(Yl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new tl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new M1(Yl(r),e.status,r.weak_password.reasons);throw new jL(Yl(r),e.status||500,n)}const KL=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ir(e,t,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[qx]||(o[qx]=$4["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await YL(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function YL(e,t,r,n,a,o){const i=KL(t,n,a,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Ux(Yl(c),0)}if(l.ok||await q1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await q1(c)}}function rl(e){var t;let r=null;eI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=IL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function U1(e){const t=rl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XL(e){return{data:e,error:null}}function QL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=e,i=GL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function ZL(e){return e}function eI(e){return e.access_token&&e.refresh_token&&e.expires_in}var tI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class rI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=z4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ir(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ir(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cl})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=tI(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ir(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:QL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Zt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ir(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cl})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ir(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:ZL});if(u.error)throw u.error;const f=await u.json(),b=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(w.split(";")[1].split("=")[1]);d[`${A}Page`]=g}),d.total=parseInt(b)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Zt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await ir(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cl})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ir(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:cl})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ir(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:cl})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ir(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ir(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}}const nI={getItem:e=>df()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{df()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{df()&&globalThis.localStorage.removeItem(e)}};function z1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function aI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jc={debug:!!(globalThis&&df()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sI extends H4{}async function oI(e,t,r){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}aI();const iI={url:xL,storageKey:bL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function V1(e,t,r){return await r()}class Mf{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mf.nextInstanceID,Mf.nextInstanceID+=1,this.instanceID>0&&Lo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},iI),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new rI({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=z4(a.fetch),this.lock=a.lock||V1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Lo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=oI:this.lock=V1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:df()?this.storage=nI:(this.memoryStorage={},this.storage=z1(this.memoryStorage)):(this.memoryStorage={},this.storage=z1(this.memoryStorage)),Lo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${B4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=TL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lo()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),CL(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Zt(r)?{error:r}:{error:new q4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:rl}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Zt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,a;try{let o;if("email"in t){const{email:u,password:f,options:b}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Gc(this.storage,this.storageKey)),o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:u,password:f,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:p,code_challenge_method:w},xform:rl})}else if("phone"in t){const{phone:u,password:f,options:b}=t;o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:rl})}else throw new ep("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Zt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U1})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U1})}else throw new ep("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ty}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await rp(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:i}=await ir(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rl});if(await np(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ty}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(Zt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:o,nonce:i}=t,l=await ir(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rl}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ty}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,o,i;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Gc(this.storage,this.storageKey));const{error:f}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ep("You must provide either an email or phone number.")}catch(l){if(Zt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,o;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ir(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:rl});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Zt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Gc(this.storage,this.storageKey)),await ir(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:XL})}catch(o){if(Zt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new tl;const{error:a}=await ir(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Zt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:o}=t,{error:i}=await ir(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:o}=t,{data:i,error:l}=await ir(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new ep("You must provide either an email or phone number and a type")}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ey:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cl}):await this._useSession(async r=>{var n,a,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tl}:await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:cl})})}catch(r){if(Zt(r))return SL(r)&&(await this._removeSession(),await np(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new tl;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gc(this.storage,this.storageKey));const{data:d,error:u}=await ir(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:cl});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tl;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:i}=ny(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Zt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new tl;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lo())throw new tp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new O1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new O1("No code detected.");const{data:j,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=t;if(!o||!l||!i||!d)throw new tp("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let b=u+f;c&&(b=parseInt(c));const p=b-u;p*1e3<=Qc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=b-f;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,u);const{data:g,error:A}=await this._getUser(o);if(A)throw A;const v={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:f,expires_at:b,refresh_token:i,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Zt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rp(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{error:o};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(NL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await np(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=RL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Gc(this.storage,this.storageKey,!0));try{return await ir(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Zt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var i,l,c,d,u;const{data:f,error:b}=o;if(b)throw b;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ir(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Lo()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Zt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)throw i;return await ir(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await FL(async a=>(a>0&&await ML(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ir(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rl})),(a,o)=>{const i=200*Math.pow(2,a);return o&&ry(o)&&Date.now()+i-n<Qc})}catch(n){if(this._debug(r,"error",n),Zt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await rp(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ey;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ey}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ry(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new tl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new wm;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new tl;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),Zt(o)){const i={session:null,error:o};return ry(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await V4(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await np(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Qc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Qc}ms, refresh threshold is ${$x} ticks`),a<=$x&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof H4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Gc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await ir(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await ir(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await ir(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await ir(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ny(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+kL>Date.now()))return n;const{data:a,error:o}=await ir(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new cf("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===t),!n)throw new cf("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=ny(n);if(HL(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:a,signature:i},error:null}}const d=WL(a.alg),u=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,LL(`${l}.${c}`)))throw new cf("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}}Mf.nextInstanceID=0;const lI=Mf;class cI extends lI{constructor(t){super(t)}}var dI=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(u){try{d(n.next(u))}catch(f){i(f)}}function c(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class uI{constructor(t,r,n){var a,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=gL(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:lL,realtime:dL,auth:Object.assign(Object.assign({},cL),{storageKey:d}),global:iL},f=yL(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(b,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=pL(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new A7(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new s7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new aL(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return dI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:o,flowType:i,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cI({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new V7(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fI=(e,t,r)=>new uI(e,t,r),hI="https://lvlhrluhrmvfyutbywwn.supabase.co",pI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2bGhybHVocm12Znl1dGJ5d3duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcyMjY1MDAsImV4cCI6MjA1MjgwMjUwMH0.E_vxC0uXwcxZoyVURoR3un4UC2cFifORCNNWcH-UxwY",De=fI(hI,pI,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1},global:{headers:{"X-Client-Info":"supabase-js-web"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});De.handleFailedRequest=async e=>{if(console.error("Supabase request failed:",e),e.message==="Failed to fetch"||e.code==="NETWORK_ERROR")throw new Error("No foi possvel conectar ao banco de dados. Por favor, verifique sua conexo e tente novamente.");if(e.status===401){const{data:{session:t},error:r}=await De.auth.getSession();throw r||!t?new Error("Sesso expirada. Por favor, faa login novamente."):new Error("Sesso atualizada. Por favor, tente novamente.")}throw new Error("Erro ao acessar o banco de dados. Por favor, tente novamente.")};const mI=async(e,t=3,r=1e3)=>{let n;for(let a=0;a<t;a++)try{return await e()}catch(o){n=o,a<t-1&&await new Promise(i=>setTimeout(i,r*(a+1)))}throw n};async function gI(e){const t=e.replace(/[^\d]/g,"");try{const r=await fetch(`https://brasilapi.com.br/api/cnpj/v1/${t}`);if(!r.ok)throw new Error("CNPJ no encontrado ou servio indisponvel");const n=await r.json();return{razao_social:n.razao_social,nome_fantasia:n.nome_fantasia||"",inscricao_estadual:"",situacao:n.descricao_situacao_cadastral,data_abertura:n.data_inicio_atividade,endereco:{logradouro:n.logradouro,numero:n.numero,bairro:n.bairro,cidade:n.municipio,uf:n.uf,cep:n.cep},email:n.email||"",telefone:n.ddd_telefone_1||""}}catch(r){throw console.error("Erro ao buscar dados do CNPJ:",r),new Error("No foi possvel buscar os dados do CNPJ")}}async function W4(){try{const{data:e,error:t}=await De.from("cnpjs").select("*").order("name");if(t)throw t;return e||[]}catch(e){throw console.error("Erro ao listar CNPJs:",e),e}}async function yI(e){try{const{data:t,error:r}=await De.from("cnpjs").insert([{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return t}catch(t){throw console.error("Erro ao criar CNPJ:",t),new Error("No foi possvel criar o CNPJ")}}async function xI(e,t){try{const{data:r,error:n}=await De.from("cnpjs").update({...t,updatedAt:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}catch(r){throw console.error("Erro ao atualizar CNPJ:",r),new Error("No foi possvel atualizar o CNPJ")}}async function bI(e){try{const{data:t,error:r}=await De.from("payment_requests").select("id").eq("cnpj_id",e);if(r)throw r;if(t&&t.length>0)throw new Error("No  possvel excluir este CNPJ pois existem solicitaes de pagamento vinculadas a ele.");const{data:n,error:a}=await De.from("bank_accounts").select("id").eq("cnpjId",e);if(a)throw a;if(n&&n.length>0)throw new Error("No  possvel excluir este CNPJ pois existem contas bancrias vinculadas a ele.");const{data:o,error:i}=await De.from("email_configs").select("id").eq("cnpj_id",e);if(i)throw i;if(o&&o.length>0)throw new Error("No  possvel excluir este CNPJ pois existem configuraes de e-mail vinculadas a ele.");const{data:l,error:c}=await De.from("dda_configs").select("id").eq("cnpj_id",e);if(c)throw c;if(l&&l.length>0)throw new Error("No  possvel excluir este CNPJ pois existem configuraes DDA vinculadas a ele.");const{error:d}=await De.from("cnpjs").delete().eq("id",e);if(d)throw d}catch(t){throw console.error("Erro ao excluir CNPJ:",t),t}}async function vI(e,t){try{const{data:r,error:n}=await De.from("cnpjs").update({active:t,updatedAt:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}catch(r){throw console.error("Erro ao alterar status do CNPJ:",r),new Error("No foi possvel alterar o status do CNPJ")}}function wI(e){return e.replace(/\D/g,"").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")}function kI(e){const t=e.replace(/[^\d]/g,"");if(t.length!==14||/^(\d)\1+$/.test(t))return!1;let r=0,n=5;for(let o=0;o<12;o++)r+=parseInt(t[o])*n,n=n===2?9:n-1;let a=r%11<2?0:11-r%11;if(a!==parseInt(t[12]))return!1;r=0,n=6;for(let o=0;o<13;o++)r+=parseInt(t[o])*n,n=n===2?9:n-1;return a=r%11<2?0:11-r%11,a===parseInt(t[13])}function wd(e){return e.replace(/[^\d]/g,"").length>11}async function G4(){try{const{data:e,error:t}=await De.from("bank_accounts").select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).order("name");if(t)throw t;return e||[]}catch(e){return console.error("Erro ao listar contas bancrias:",e),[]}}async function jI(e){try{const{data:t,error:r}=await De.from("bank_accounts").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar conta bancria:",t),null}}async function NI(e,t){try{const{data:r,error:n}=await De.from("bank_accounts").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar conta bancria:",r),null}}async function SI(e){try{const{error:t}=await De.from("bank_accounts").delete().eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erro ao excluir conta bancria:",t),!1}}async function CI(e,t){try{const{data:r,error:n}=await De.from("bank_accounts").update({active:t,updated_at:new Date().toISOString()}).eq("id",e).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da conta bancria:",r),null}}function _I({isOpen:e,onClose:t,cnpj:r,onSuccess:n}){const[a,o]=L.useState({cnpj:"",name:"",tradingName:"",stateRegistration:"",registrationStatus:"",openingDate:"",address:"",number:"",neighborhood:"",city:"",state:"",zipCode:"",email:"",phone:"",active:!0,bank_account_id:""}),[i,l]=L.useState(!1),[c,d]=L.useState(""),[u,f]=L.useState([]);L.useEffect(()=>{o(r?{cnpj:r.cnpj,name:r.name,tradingName:r.tradingName||"",stateRegistration:r.stateRegistration||"",registrationStatus:r.registrationStatus||"",openingDate:r.openingDate||"",address:r.address||"",number:r.number||"",neighborhood:r.neighborhood||"",city:r.city||"",state:r.state||"",zipCode:r.zipCode||"",email:r.email||"",phone:r.phone||"",active:r.active,bank_account_id:r.bank_account_id||""}:{cnpj:"",name:"",tradingName:"",stateRegistration:"",registrationStatus:"",openingDate:"",address:"",number:"",neighborhood:"",city:"",state:"",zipCode:"",email:"",phone:"",active:!0,bank_account_id:""})},[r]),L.useEffect(()=>{(async()=>{try{const g=await G4();console.log(g),f(g)}catch(g){console.error("Error loading bank accounts:",g)}})()},[]);const b=async w=>{const g=wI(w);if(o(A=>({...A,cnpj:g})),g.length===18&&kI(g)){l(!0),d("");try{const A=await gI(g);o(v=>({...v,name:A.razao_social,tradingName:A.nome_fantasia,stateRegistration:A.inscricao_estadual,registrationStatus:A.situacao,openingDate:A.data_abertura,address:A.endereco.logradouro,number:A.endereco.numero,neighborhood:A.endereco.bairro,city:A.endereco.cidade,state:A.endereco.uf,zipCode:A.endereco.cep,email:A.email,phone:A.telefone}))}catch{d("No foi possvel buscar os dados do CNPJ. Por favor, preencha manualmente.")}finally{l(!1)}}},p=async w=>{w.preventDefault(),l(!0),d("");try{r?await xI(r.id,a):await yI(a),n()}catch{d("Erro ao salvar CNPJ. Por favor, tente novamente.")}finally{l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10 rounded-t-xl",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar CNPJ":"Adicionar Novo CNPJ"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:p,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[c&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:c}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("input",{type:"text",value:a.cnpj,onChange:w=>b(w.target.value),disabled:i||!!r,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",placeholder:"00.000.000/0001-00"})]}),s.jsxs("div",{className:"",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Razo Social"}),s.jsx("input",{type:"text",value:a.name,onChange:w=>o(g=>({...g,name:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:a.tradingName,onChange:w=>o(g=>({...g,tradingName:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Inscrio Estadual"}),s.jsx("input",{type:"text",value:a.stateRegistration,onChange:w=>o(g=>({...g,stateRegistration:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Endereo"}),s.jsx("input",{type:"text",value:a.address,onChange:w=>o(g=>({...g,address:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero"}),s.jsx("input",{type:"text",value:a.number,onChange:w=>o(g=>({...g,number:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:a.neighborhood,onChange:w=>o(g=>({...g,neighborhood:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:a.city,onChange:w=>o(g=>({...g,city:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Estado"}),s.jsxs("select",{value:a.state,onChange:w=>o(g=>({...g,state:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione um estado"}),s.jsx("option",{value:"AC",children:"Acre"}),s.jsx("option",{value:"AL",children:"Alagoas"}),s.jsx("option",{value:"AP",children:"Amap"}),s.jsx("option",{value:"AM",children:"Amazonas"}),s.jsx("option",{value:"BA",children:"Bahia"}),s.jsx("option",{value:"CE",children:"Cear"}),s.jsx("option",{value:"DF",children:"Distrito Federal"}),s.jsx("option",{value:"ES",children:"Esprito Santo"}),s.jsx("option",{value:"GO",children:"Gois"}),s.jsx("option",{value:"MA",children:"Maranho"}),s.jsx("option",{value:"MT",children:"Mato Grosso"}),s.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),s.jsx("option",{value:"MG",children:"Minas Gerais"}),s.jsx("option",{value:"PA",children:"Par"}),s.jsx("option",{value:"PB",children:"Paraba"}),s.jsx("option",{value:"PR",children:"Paran"}),s.jsx("option",{value:"PE",children:"Pernambuco"}),s.jsx("option",{value:"PI",children:"Piau"}),s.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),s.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),s.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),s.jsx("option",{value:"RO",children:"Rondnia"}),s.jsx("option",{value:"RR",children:"Roraima"}),s.jsx("option",{value:"SC",children:"Santa Catarina"}),s.jsx("option",{value:"SP",children:"So Paulo"}),s.jsx("option",{value:"SE",children:"Sergipe"}),s.jsx("option",{value:"TO",children:"Tocantins"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CEP"}),s.jsx("input",{type:"text",value:a.zipCode,onChange:w=>o(g=>({...g,zipCode:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Padro"}),s.jsxs("select",{value:a.bank_account_id,onChange:w=>o(g=>({...g,bank_account_id:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.bank," - ",w.branch,"/",w.account]},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:w=>o(g=>({...g,email:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:a.phone,onChange:w=>o(g=>({...g,phone:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-6 border-t border-secondary-200 dark:border-secondary-700 sticky bottom-0 bg-white dark:bg-secondary-800 rounded-b-xl",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar CNPJ"})]})]})]})}):null}function EI({cnpjs:e,onEdit:t,onDelete:r,onToggleStatus:n}){return e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(vc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum CNPJ cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Novo CNPJ" para comear a cadastrar empresas no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Razo Social"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome Fantasia"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.cnpj}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.tradingName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},a.cnpj))})]})})}function Ai({isOpen:e,onClose:t,title:r,description:n,confirmLabel:a,cancelLabel:o,confirmVariant:i="primary",icon:l,onConfirm:c}){return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-xl w-full max-w-md",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l&&s.jsx(l,{className:`h-6 w-6 ${i==="danger"?"text-red-500 dark:text-red-400":"text-primary-500 dark:text-primary-400"}`}),s.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:r})]}),s.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:n})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:o}),s.jsx("button",{type:"button",onClick:c,className:`px-4 py-2 text-white rounded-lg transition-colors ${i==="danger"?"bg-red-500 hover:bg-red-600":"bg-primary-500 hover:bg-primary-600"}`,children:a})]})]})}):null}function AI(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState(null),[c,d]=L.useState([]),[u,f]=L.useState(!0),[b,p]=L.useState(null);L.useEffect(()=>{w()},[]);const w=async()=>{try{f(!0),p(null);const U=await W4();d(U||[])}catch(U){p("Erro ao carregar CNPJs"),console.error(U)}finally{f(!1)}},g=()=>{l(null),t(!0)},A=U=>{l(U),t(!0)},v=U=>{l(U),n(!0)},j=async()=>{if(i)try{p(null),await bI(i.id),d(c.filter(U=>U.id!==i.id)),n(!1)}catch(U){p(U instanceof Error?U.message:"Erro ao excluir CNPJ"),n(!1)}},R=async U=>{try{p(null);const F=await vI(U.id,!U.active);F&&d(c.map(x=>x.id===U.id?F:x))}catch(F){p("Erro ao alterar o status do CNPJ"),console.error(F)}},H=c.filter(U=>{var F;return U.name.toLowerCase().includes(a.toLowerCase())||((F=U.tradingName)==null?void 0:F.toLowerCase().includes(a.toLowerCase()))||U.cnpj.includes(a)});return s.jsxs("div",{className:"p-4 sm:p-6",children:[b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:b}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Cadastro de CNPJs"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os CNPJs cadastrados no sistema"})]}),s.jsxs("button",{onClick:g,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Novo CNPJ"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por CNPJ, Razo Social ou Nome Fantasia...",value:a,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(EI,{cnpjs:H,onEdit:A,onDelete:v,onToggleStatus:R})]}),s.jsx(_I,{isOpen:e,onClose:()=>t(!1),cnpj:i,onSuccess:()=>{t(!1),w()}}),s.jsx(Ai,{isOpen:r,onClose:()=>n(!1),title:"Excluir CNPJ",description:`Tem certeza que deseja excluir o CNPJ ${i==null?void 0:i.cnpj}? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:j})]})}function PI({onYearClick:e,getYearTotal:t,formatCurrency:r}){const n=new Date().getFullYear(),a=[n-1,n,n+1,n+2],[o,i]=L.useState([]);return L.useEffect(()=>{const l=setTimeout(()=>{a.forEach((c,d)=>{setTimeout(()=>{i(u=>[...u,d])},d*100)})},100);return()=>clearTimeout(l)},[]),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((l,c)=>s.jsx("div",{className:`
              bg-white dark:bg-secondary-800 
              border border-secondary-200 dark:border-secondary-700 
              rounded-2xl p-6 shadow-sm
              hover:shadow-md hover:border-primary-500 dark:hover:border-primary-500
              cursor-pointer transition-all duration-300
              transform hover:scale-105
              ${o.includes(c)?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
            `,onClick:d=>{d.stopPropagation(),e(l)},children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[s.jsx("h3",{className:"text-3xl font-bold mb-3 text-primary-600 dark:text-primary-500",children:l}),s.jsxs("div",{className:"text-secondary-500 dark:text-secondary-400 font-medium",children:["Meta total: ",r(t(l))]})]})},l))})})}function DI({year:e,onMonthClick:t,getMonthTotal:r,formatCurrency:n}){const a=[{index:0,name:"Janeiro"},{index:1,name:"Fevereiro"},{index:2,name:"Maro"},{index:3,name:"Abril"},{index:4,name:"Maio"},{index:5,name:"Junho"},{index:6,name:"Julho"},{index:7,name:"Agosto"},{index:8,name:"Setembro"},{index:9,name:"Outubro"},{index:10,name:"Novembro"},{index:11,name:"Dezembro"}],[o,i]=L.useState([]);return L.useEffect(()=>{const l=setTimeout(()=>{a.forEach((c,d)=>{setTimeout(()=>{i(u=>[...u,d])},Math.floor(d/3)*100+d%3*50)})},100);return()=>clearTimeout(l)},[]),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map((l,c)=>s.jsx("div",{className:`
              bg-white dark:bg-secondary-800 
              border border-secondary-200 dark:border-secondary-700 
              rounded-2xl p-4 shadow-sm
              hover:shadow-md hover:border-primary-500 dark:hover:border-primary-500
              cursor-pointer transition-all duration-300
              transform hover:scale-105
              ${o.includes(c)?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
            `,onClick:d=>{d.stopPropagation(),t(l.index)},children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[s.jsx("h3",{className:"text-xl font-semibold text-primary-600 dark:text-primary-500 mb-2",children:l.name}),s.jsxs("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 font-medium",children:["Meta total: ",n(r(e,l.index))]})]})},l.index))})})}function LI({year:e,month:t,onDayClick:r,getDayTotal:n,formatCurrency:a}){const[o,i]=L.useState([]),l=new Date(e,t+1,0).getDate(),c=Array.from({length:l},(f,b)=>b+1),d=new Date(e,t,1).getDay(),u=Array.from({length:d},(f,b)=>-b-1);return L.useEffect(()=>{const f=setTimeout(()=>{i([]),[...u,...c].forEach((p,w)=>{setTimeout(()=>{i(g=>[...g,w])},Math.floor(w/7)*50+w%7*30)})},100);return()=>clearTimeout(f)},[t,e]),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map((f,b)=>s.jsx("div",{className:"text-center text-secondary-500 dark:text-secondary-400 font-medium text-sm py-2",children:f},b)),u.map(f=>s.jsx("div",{className:"h-20 rounded-xl"},`empty-${f}`)),c.map((f,b)=>{const p=b+u.length,w=n(e,t,f),g=w>0;return s.jsx("div",{className:`
                bg-white dark:bg-secondary-800 
                border ${g?"border-primary-200 dark:border-primary-800":"border-secondary-200 dark:border-secondary-700"}
                rounded-xl p-2 shadow-sm
                hover:shadow-md hover:border-primary-500 dark:hover:border-primary-500
                cursor-pointer transition-all duration-300
                transform hover:scale-105 h-20
                ${o.includes(p)?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
              `,onClick:A=>{A.stopPropagation(),r(f)},children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`
                    inline-block rounded-full w-7 h-7 text-center leading-7
                    ${g?"bg-primary-500 text-white":"text-secondary-700 dark:text-secondary-300"}
                  `,children:f})}),s.jsx("div",{className:"mt-auto text-xs text-secondary-600 dark:text-secondary-400 font-medium",children:g?a(w):""})]})},f)})]})})}async function II(e){try{const{data:t}=await De.from("tables",{schema:"information_schema"}).select("table_name").eq("table_schema","public").eq("table_name","receivable_forecasts").single();if(!t){const f=[{id:"1",date:"2024-01-15",categoryId:"vendas-online",companyId:"12.345.678/0001-90",value:15e3},{id:"2",date:"2024-01-15",categoryId:"vendas-presenciais",companyId:"12.345.678/0001-90",value:8500},{id:"3",date:"2024-01-20",categoryId:"servicos",companyId:"98.765.432/0001-10",value:12e3}];let b=f;e&&(b=f.filter(w=>{const g=new Date(w.date),[A,v]=e.split("-"),j=parseInt(A),R=parseInt(v);return g.getFullYear()===j&&g.getMonth()+1===R}));const p=H1(b,e);return{forecasts:b,summary:p}}let r=De.from("receivable_forecasts").select(`
        id,
        forecast_date,
        value,
        category_id,
        company_id,
        description,
        scenario_id,
        is_generated,
        recurring_rule_id,
        created_at
      `).eq("active",!0).order("forecast_date");if(e){const f=`${e}-01`,b=`${e}-31`;r=r.gte("forecast_date",f).lte("forecast_date",b)}const{data:n,error:a}=await r;if(a)throw a;const[o,i]=await Promise.all([J4(),K4()]),l=new Map(o.map(f=>[f.id,f.name])),c=new Map(i.map(f=>[f.id,f.name])),d=(n||[]).map(f=>({id:f.id,date:f.forecast_date,categoryId:f.category_id,companyId:f.company_id,value:f.value})),u=H1(d,e);return{forecasts:d,summary:u}}catch(t){throw console.error("Error fetching forecasts:",t),new Error("Erro ao carregar previses")}}async function RI(e){try{const{data:t}=await De.from("tables",{schema:"information_schema"}).select("table_name").eq("table_schema","public").eq("table_name","receivable_forecasts").single();if(!t){const c=e.forecasts.map((d,u)=>({id:`mock-${Date.now()}-${u}`,date:d.date,categoryId:d.categoryId,companyId:d.companyId,value:d.value}));return{success:!0,forecasts:c,count:c.length}}const{data:{user:r},error:n}=await De.auth.getUser();if(n)throw n;if(!r)throw new Error("Usurio no autenticado");const a=e.forecasts.map(c=>({forecast_date:c.date,value:c.value,category_id:c.categoryId,company_id:c.companyId,description:c.description||null,scenario_id:null,is_generated:!1,recurring_rule_id:null,created_by_id:r.id,active:!0})),{data:o,error:i}=await De.from("receivable_forecasts").insert(a).select();if(i)throw i;const l=(o||[]).map(c=>({id:c.id,date:c.forecast_date,categoryId:c.category_id,companyId:c.company_id,value:c.value}));return{success:!0,forecasts:l,count:l.length}}catch(t){throw console.error("Error creating forecasts:",t),new Error("Erro ao criar previses")}}async function TI(e,t){try{const r={};t.forecast.date&&(r.forecast_date=t.forecast.date),t.forecast.value!==void 0&&(r.value=t.forecast.value),t.forecast.categoryId&&(r.category_id=t.forecast.categoryId),t.forecast.companyId&&(r.company_id=t.forecast.companyId),r.updated_at=new Date().toISOString();const{data:n,error:a}=await De.from("receivable_forecasts").update(r).eq("id",e).select().single();if(a)throw a;if(!n)throw new Error("Forecast not found");return{success:!0,forecast:{id:n.id,date:n.forecast_date,categoryId:n.category_id,companyId:n.company_id,value:n.value}}}catch(r){throw console.error("Error updating forecast:",r),new Error("Erro ao atualizar previso")}}async function OI(e){try{const{error:t}=await De.from("receivable_forecasts").delete().eq("id",e);if(t)throw t;return{success:!0,id:e}}catch(t){throw console.error("Error deleting forecast:",t),new Error("Erro ao excluir previso")}}async function J4(){try{const{data:e}=await De.from("tables",{schema:"information_schema"}).select("table_name").eq("table_schema","public").eq("table_name","forecast_categories").single();if(!e)return[{id:"vendas-online",name:"Vendas Online",parent_id:null},{id:"vendas-presenciais",name:"Vendas Presenciais",parent_id:null},{id:"servicos",name:"Servios",parent_id:null},{id:"consultoria",name:"Consultoria",parent_id:null},{id:"produtos",name:"Produtos",parent_id:null}];const{data:t,error:r}=await De.from("forecast_categories").select("id, name, parent_id").eq("active",!0).order("name");if(r)throw r;return t||[]}catch(e){throw console.error("Error fetching forecast categories:",e),new Error("Erro ao carregar categorias")}}async function K4(){try{const{data:e,error:t}=await De.from("cnpjs").select("id, name, cnpj").eq("active",!0).order("name");return t?[{id:"1",name:"Empresa Principal",cnpj:"12.345.678/0001-90"},{id:"2",name:"Filial Norte",cnpj:"98.765.432/0001-10"},{id:"3",name:"Filial Sul",cnpj:"11.222.333/0001-44"}]:e||[]}catch(e){return console.error("Error fetching companies:",e),[{id:"1",name:"Empresa Principal",cnpj:"12.345.678/0001-90"},{id:"2",name:"Filial Norte",cnpj:"98.765.432/0001-10"},{id:"3",name:"Filial Sul",cnpj:"11.222.333/0001-44"}]}}async function MI(e){try{const{data:{user:t},error:r}=await De.auth.getUser();if(r)throw r;if(!t)throw new Error("Usurio no autenticado");const{data:n,error:a}=await De.from("recurring_forecast_rules").insert([{...e,created_by_id:t.id,active:!0}]).select().single();if(a)throw a;const{error:o}=await De.rpc("generate_forecasts_from_rule",{rule_id:n.id});if(o)throw o;return n}catch(t){throw console.error("Error creating recurring rule:",t),new Error("Erro ao criar regra de recorrncia")}}function H1(e,t){const r={totalYear:0,totalMonth:0,totalDay:0,byCategory:{},byCompany:{}};return e.forEach(n=>{const a=new Date(n.date),o=a.getFullYear(),i=a.getMonth()+1;if(a.getDate(),r.totalYear+=n.value,t){const[l,c]=t.split("-"),d=parseInt(l),u=parseInt(c);o===d&&i===u&&(r.totalMonth+=n.value,r.totalDay=n.value)}r.byCategory[n.categoryId]||(r.byCategory[n.categoryId]=0),r.byCategory[n.categoryId]+=n.value,r.byCompany[n.companyId]||(r.byCompany[n.companyId]=0),r.byCompany[n.companyId]+=n.value}),r}function Y4({isOpen:e,onClose:t,onSave:r,selectedDate:n,editMode:a=!1,initialData:o,isLoading:i=!1}){const[l,c]=L.useState([]),[d,u]=L.useState([]),[f,b]=L.useState(!1),[p,w]=L.useState(null),[g,A]=L.useState({date:n.toISOString().split("T")[0],categoryId:"",category:"",cnpjId:"",cnpj:"",value:"",recurrence:{enabled:!1,type:"none",endDate:"",repetitions:"1",customDays:1}}),[v,j]=L.useState(""),[R,H]=L.useState(""),[U,F]=L.useState(!1),[x,I]=L.useState(!1),[S,C]=L.useState(!1),[y,k]=L.useState([]),[P,E]=L.useState(!1);L.useEffect(()=>{e&&q()},[e]);const q=async()=>{try{b(!0),w(null);const[de,ye]=await Promise.all([J4(),K4()]);c(de),u(ye)}catch(de){console.error("Error loading dropdown data:",de),w("Erro ao carregar dados do formulrio")}finally{b(!1)}};L.useEffect(()=>{A(a&&o?{date:o.date,categoryId:"",category:o.category,cnpjId:"",cnpj:o.cnpj,value:o.value.toString(),recurrence:{enabled:!1,type:"none",endDate:"",repetitions:"1",customDays:1}}:{date:n.toISOString().split("T")[0],categoryId:"",category:"",cnpjId:"",cnpj:"",value:"",recurrence:{enabled:!1,type:"none",endDate:"",repetitions:"1",customDays:1}})},[n,a,o]),L.useEffect(()=>{g.recurrence.enabled?B():(k([]),E(!1))},[g.recurrence]);const B=()=>{const de=new Date(g.date),ye=[];if(!de||isNaN(de.getTime())){k([]);return}const pe=100;switch(g.recurrence.type){case"weekly":de.getDay();let Ee=new Date(de);if(g.recurrence.endDate){const rt=new Date(g.recurrence.endDate);for(;Ee<=rt&&ye.length<pe;)ye.push(new Date(Ee)),Ee.setDate(Ee.getDate()+7)}else if(g.recurrence.repetitions){const rt=parseInt(g.recurrence.repetitions);for(let Ge=0;Ge<rt&&Ge<pe;Ge++)ye.push(new Date(Ee)),Ee.setDate(Ee.getDate()+7)}break;case"weekdays":let $e=new Date(de);if(g.recurrence.endDate){const rt=new Date(g.recurrence.endDate);for(;$e<=rt&&ye.length<pe;){const Ge=$e.getDay();Ge>=1&&Ge<=5&&ye.push(new Date($e)),$e.setDate($e.getDate()+1)}}else if(g.recurrence.repetitions){const rt=parseInt(g.recurrence.repetitions);let Ge=0;for(;Ge<rt&&ye.length<pe;){const et=$e.getDay();et>=1&&et<=5&&(ye.push(new Date($e)),Ge++),$e.setDate($e.getDate()+1)}}break;case"monthly":de.getDate();let qe=new Date(de);if(g.recurrence.endDate){const rt=new Date(g.recurrence.endDate);for(;qe<=rt&&ye.length<pe;)ye.push(new Date(qe)),qe.setMonth(qe.getMonth()+1)}else if(g.recurrence.repetitions){const rt=parseInt(g.recurrence.repetitions);for(let Ge=0;Ge<rt&&Ge<pe;Ge++)ye.push(new Date(qe)),qe.setMonth(qe.getMonth()+1)}break;case"daily":let Ye=new Date(de);if(g.recurrence.endDate){const rt=new Date(g.recurrence.endDate);for(;Ye<=rt&&ye.length<pe;)ye.push(new Date(Ye)),Ye.setDate(Ye.getDate()+1)}else if(g.recurrence.repetitions){const rt=parseInt(g.recurrence.repetitions);for(let Ge=0;Ge<rt&&Ge<pe;Ge++)ye.push(new Date(Ye)),Ye.setDate(Ye.getDate()+1)}break;case"custom-days":let dt=new Date(de);const Me=g.recurrence.customDays||1;for(let rt=0;rt<Me&&rt<pe;rt++)ye.push(new Date(dt)),dt.setDate(dt.getDate()+1);break;case"custom-months":let ge=new Date(de);const yt=g.recurrence.customDays||1;for(let rt=0;rt<yt&&rt<pe;rt++)ye.push(new Date(ge)),ge.setMonth(ge.getMonth()+1);break;default:ye.push(new Date(de))}k(ye)},G=async de=>{de.preventDefault();const ye=parseFloat(g.value.replace(/[^\d,.-]/g,"").replace(",","."))||0;if(!g.categoryId&&!g.category){w("Selecione uma categoria");return}if(!g.cnpjId&&!g.cnpj){w("Selecione um CNPJ");return}if(ye<=0){w("Informe um valor vlido");return}try{if(g.recurrence.enabled&&y.length>0){const pe={name:`Previso ${g.category} - ${g.cnpj}`,recurrence_type:g.recurrence.type,base_value:ye,category_id:g.categoryId||V(g.category),company_id:g.cnpjId||ee(g.cnpj),start_date:g.date,end_date:g.recurrence.endDate||null,max_executions:g.recurrence.repetitions?parseInt(g.recurrence.repetitions):null,recurrence_config:{type:g.recurrence.type,customDays:g.recurrence.customDays,endDate:g.recurrence.endDate,repetitions:g.recurrence.repetitions}};await MI(pe),r([])}else{const pe={date:g.date,categoryId:g.categoryId||V(g.category),companyId:g.cnpjId||ee(g.cnpj),value:ye};r(pe)}}catch(pe){console.error("Error saving forecast:",pe),w("Erro ao salvar previso")}},V=de=>{var pe;const ye=l.find(Ee=>Ee.name.toLowerCase()===de.toLowerCase());return ye?ye.id:((pe=l[0])==null?void 0:pe.id)||""},ee=de=>{var pe;const ye=d.find(Ee=>Ee.name.toLowerCase()===de.toLowerCase()||Ee.cnpj===de);return ye?ye.id:((pe=d[0])==null?void 0:pe.id)||""},le=de=>{A({...g,categoryId:de.id,category:de.name}),F(!1),j("")},Q=de=>{A({...g,cnpjId:de.id,cnpj:`${de.name} - ${de.cnpj}`}),I(!1),H("")},M=de=>{const ye=de.replace(/\D/g,"");return(parseFloat(ye)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},J=de=>{const ye=de.target.value.replace(/\D/g,"");A({...g,value:ye})},te=l.filter(de=>de.name.toLowerCase().includes(v.toLowerCase())),ue=d.filter(de=>de.name.toLowerCase().includes(R.toLowerCase())||de.cnpj.includes(R)),ie=()=>{A({...g,recurrence:{...g.recurrence,enabled:!g.recurrence.enabled,type:g.recurrence.enabled?"none":"weekly"}})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-2xl shadow-xl w-full max-w-md overflow-hidden transform transition-all duration-300 ease-in-out",children:[s.jsxs("div",{className:"p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:a?"Editar Previso":"Nova Previso"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300 rounded-full p-1 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:s.jsx(Ht,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:G,className:"p-6 space-y-6",children:[p&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:p}),f&&s.jsx("div",{className:"flex justify-center items-center py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-500"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:g.date,onChange:de=>A({...g,date:de.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",required:!0}),s.jsx(_l,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:g.category,onChange:de=>{A({...g,category:de.target.value,categoryId:""}),j(de.target.value),F(!0)},onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),200),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Selecione ou digite uma categoria",required:!0}),s.jsx(cn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]}),U&&s.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-secondary-800 shadow-lg rounded-lg border border-secondary-200 dark:border-secondary-700 max-h-60 overflow-auto",children:te.length>0?te.map(de=>s.jsx("div",{className:"px-4 py-2 hover:bg-secondary-100 dark:hover:bg-secondary-700 cursor-pointer text-secondary-900 dark:text-white",onClick:()=>le(de),children:de.name},de.id)):s.jsx("div",{className:"px-4 py-2 text-secondary-500 dark:text-secondary-400",children:f?"Carregando...":"Nenhuma categoria encontrada"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:g.cnpj,onChange:de=>{A({...g,cnpj:de.target.value,cnpjId:""}),H(de.target.value),I(!0)},onFocus:()=>I(!0),onBlur:()=>setTimeout(()=>I(!1),200),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Selecione ou digite um CNPJ",required:!0}),s.jsx(cn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]}),x&&s.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-secondary-800 shadow-lg rounded-lg border border-secondary-200 dark:border-secondary-700 max-h-60 overflow-auto",children:ue.length>0?ue.map(de=>s.jsxs("div",{className:"px-4 py-2 hover:bg-secondary-100 dark:hover:bg-secondary-700 cursor-pointer",onClick:()=>Q(de),children:[s.jsx("div",{className:"text-secondary-900 dark:text-white",children:de.name}),s.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:de.cnpj})]},de.id)):s.jsx("div",{className:"px-4 py-2 text-secondary-500 dark:text-secondary-400",children:f?"Carregando...":"Nenhum CNPJ encontrado"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor da Meta"}),s.jsx("input",{type:"text",value:g.value?M(g.value):"",onChange:J,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"R$ 0,00",required:!0})]}),s.jsxs("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-secondary-50 dark:bg-secondary-800 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",onClick:()=>C(!S),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(zD,{className:"h-5 w-5 text-primary-500 mr-2"}),s.jsx("h3",{className:"font-medium text-secondary-900 dark:text-white",children:"Repetir previso em mltiplas datas"})]}),S?s.jsx(g0,{className:"h-5 w-5 text-secondary-500"}):s.jsx(Of,{className:"h-5 w-5 text-secondary-500"})]}),S&&s.jsxs("div",{className:"p-4 space-y-4 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("input",{type:"checkbox",id:"enable-recurrence",checked:g.recurrence.enabled,onChange:ie,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),s.jsx("label",{htmlFor:"enable-recurrence",className:"ml-2 text-sm text-secondary-700 dark:text-secondary-300",children:"Habilitar recorrncia"})]}),g.recurrence.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de recorrncia"}),s.jsxs("select",{value:g.recurrence.type,onChange:de=>A({...g,recurrence:{...g.recurrence,type:de.target.value}}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"weekly",children:"Repetir toda semana neste dia"}),s.jsx("option",{value:"weekdays",children:"Repetir todos os dias teis"}),s.jsx("option",{value:"monthly",children:"Repetir todos os meses (mesmo dia)"}),s.jsx("option",{value:"daily",children:"Repetir todos os dias"}),s.jsx("option",{value:"custom-days",children:"Repetir nos prximos X dias"}),s.jsx("option",{value:"custom-months",children:"Repetir nos prximos X meses"})]})]}),(g.recurrence.type==="custom-days"||g.recurrence.type==="custom-months")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:g.recurrence.type==="custom-days"?"Nmero de dias":"Nmero de meses"}),s.jsx("input",{type:"number",min:"1",max:"100",value:g.recurrence.customDays,onChange:de=>A({...g,recurrence:{...g.recurrence,customDays:parseInt(de.target.value)||1}}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),["weekly","weekdays","monthly","daily"].includes(g.recurrence.type)&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"end-date",name:"end-type",checked:!!g.recurrence.endDate,onChange:()=>A({...g,recurrence:{...g.recurrence,endDate:g.recurrence.endDate||new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString().split("T")[0],repetitions:""}}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300"}),s.jsx("label",{htmlFor:"end-date",className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Data final"})]}),!!g.recurrence.endDate&&s.jsx("div",{className:"ml-6",children:s.jsx("input",{type:"date",value:g.recurrence.endDate,onChange:de=>A({...g,recurrence:{...g.recurrence,endDate:de.target.value}}),min:g.date,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"end-repetitions",name:"end-type",checked:!!g.recurrence.repetitions&&!g.recurrence.endDate,onChange:()=>A({...g,recurrence:{...g.recurrence,repetitions:g.recurrence.repetitions||"12",endDate:""}}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300"}),s.jsx("label",{htmlFor:"end-repetitions",className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Nmero de repeties"})]}),!!g.recurrence.repetitions&&!g.recurrence.endDate&&s.jsx("div",{className:"ml-6",children:s.jsx("input",{type:"number",min:"1",max:"100",value:g.recurrence.repetitions,onChange:de=>A({...g,recurrence:{...g.recurrence,repetitions:de.target.value}}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("button",{type:"button",onClick:de=>{de.preventDefault(),E(!P)},className:"w-full px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors flex items-center justify-center",children:[s.jsx(BD,{className:"h-4 w-4 mr-2"}),P?"Ocultar pr-visualizao":"Mostrar pr-visualizao"]})}),P&&y.length>0&&s.jsxs("div",{className:"mt-2 p-3 bg-secondary-50 dark:bg-secondary-800 rounded-lg border border-secondary-200 dark:border-secondary-700 animate-fadeIn",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-2 gap-2",children:[s.jsxs("h4",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:["Datas geradas (",y.length,")"]}),s.jsxs("span",{className:"text-xs text-primary-600 dark:text-primary-400 font-medium whitespace-nowrap",children:["Total: ",M((parseFloat(g.value.replace(/[^\d,.-]/g,"").replace(",","."))||0)*y.length),s.jsxs("span",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:["(",y.length," x ",M(g.value),")"]})]})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto custom-scrollbar",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-1",children:y.map((de,ye)=>s.jsx("div",{className:"text-xs text-secondary-600 dark:text-secondary-400 py-1",children:de.toLocaleDateString("pt-BR")},ye))})})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,disabled:i,className:"px-4 py-2 border border-secondary-300 dark:border-secondary-600 rounded-lg text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg shadow-sm hover:shadow transition-all duration-200",children:i?"Salvando...":a?"Atualizar":g.recurrence.enabled&&y.length>1?`Salvar ${y.length} previses`:"Salvar"})]})]})]})}):null}function FI({day:e,month:t,year:r,forecasts:n,formatCurrency:a,onEdit:o,onDelete:i}){const[l,c]=L.useState(!0),[d,u]=L.useState(null),[f,b]=L.useState(!1),[p,w]=L.useState(!1),[g,A]=L.useState(null),v=async U=>{u(U),b(!0)},j=async U=>{if(d){w(!0),A(null);try{const F={date:U.date,categoryId:U.categoryId||"1",companyId:U.cnpjId||"1",value:U.value},x=await TI(d.id,{forecast:F});if(x.success){const I={date:x.forecast.date,category:U.category,cnpj:U.cnpj,value:x.forecast.value};o(d.id,I),b(!1),u(null)}}catch(F){A(F instanceof Error?F.message:"Erro ao atualizar previso"),console.error("Error updating forecast:",F)}finally{w(!1)}}},R=async U=>{if(window.confirm("Tem certeza que deseja excluir esta previso?")){w(!0),A(null);try{(await OI(U)).success&&i(U)}catch(F){A(F instanceof Error?F.message:"Erro ao excluir previso"),console.error("Error deleting forecast:",F)}finally{w(!1)}}},H=n.reduce((U,F)=>U+F.value,0);return s.jsxs("div",{className:"border-t border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",onClick:()=>c(!l),children:[s.jsxs("div",{className:"flex items-center",children:[l?s.jsx(g0,{className:"h-5 w-5 text-secondary-500 mr-2"}):s.jsx(Of,{className:"h-5 w-5 text-secondary-500 mr-2"}),s.jsxs("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:["Previses para ",e," de ",new Date(r,t).toLocaleString("pt-BR",{month:"long"})," de ",r]})]}),s.jsx("div",{className:"text-lg font-semibold text-primary-600 dark:text-primary-400",children:a(H)})]}),g&&s.jsx("div",{className:"mx-4 my-2 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:g}),l&&s.jsx("div",{className:"p-4 animate-fadeIn",children:n.length===0?s.jsx("div",{className:"text-center py-8 text-secondary-500 dark:text-secondary-400",children:"Nenhuma previso cadastrada para este dia."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 text-left",children:[s.jsx("th",{className:"px-4 py-3 text-sm font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-4 py-3 text-sm font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-4 py-3 text-sm font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor da Meta"}),s.jsx("th",{className:"px-4 py-3 text-sm font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider text-right",children:"Aes"})]})}),s.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:n.map(U=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-4 py-4 text-sm text-secondary-900 dark:text-white",children:U.category}),s.jsx("td",{className:"px-4 py-4 text-sm text-secondary-900 dark:text-white",children:U.cnpj}),s.jsx("td",{className:"px-4 py-4 text-sm font-medium text-secondary-900 dark:text-white",children:a(U.value)}),s.jsxs("td",{className:"px-4 py-4 text-sm text-right",children:[s.jsx("button",{onClick:F=>{F.stopPropagation(),v(U)},className:"text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 mr-3 transition-colors",title:"Editar",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:F=>{F.stopPropagation(),R(U.id)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Excluir",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},U.id))})]})})}),f&&d&&s.jsx(Y4,{isOpen:f,onClose:()=>{b(!1),u(null)},onSave:j,selectedDate:new Date(d.date),editMode:!0,initialData:d,isLoading:p})]})}function BI(){const[e,t]=L.useState("year"),[r,n]=L.useState(new Date().getFullYear()),[a,o]=L.useState(null),[i,l]=L.useState(null),[c,d]=L.useState(!1),[u,f]=L.useState([]),[b,p]=L.useState(!1),[w,g]=L.useState(null);L.useEffect(()=>{A()},[r,a]);const A=async()=>{p(!0),g(null);try{let P;if(r&&a!==null){const B=(a+1).toString().padStart(2,"0");P=`${r}-${B}`}const q=(await II(P)).forecasts.map(B=>({id:B.id||"",date:B.date,category:B.categoryId,cnpj:B.companyId,value:B.value,createdBy:"Sistema"}));f(q)}catch(P){g(P instanceof Error?P.message:"Erro ao carregar previses"),console.error("Error loading forecasts:",P)}finally{p(!1)}},v=P=>u.filter(E=>new Date(E.date).getFullYear()===P).reduce((E,q)=>E+q.value,0),j=(P,E)=>u.filter(q=>{const B=new Date(q.date);return B.getFullYear()===P&&B.getMonth()===E}).reduce((q,B)=>q+B.value,0),R=(P,E,q)=>u.filter(B=>{const G=new Date(B.date);return G.getFullYear()===P&&G.getMonth()===E&&G.getDate()===q}).reduce((B,G)=>B+G.value,0),H=(P,E,q)=>u.filter(B=>{const G=new Date(B.date);return G.getFullYear()===P&&G.getMonth()===E&&G.getDate()===q}),U=P=>{l(P),t("day")},F=P=>{o(P),l(null),t("day")},x=P=>{n(P),o(null),t("month")},I=()=>{e==="day"?(t("month"),l(null)):e==="month"&&(t("year"),o(null))},S=async P=>{p(!0),g(null);try{const E=Array.isArray(P)?P:[P],q=await RI({forecasts:E});if(q.success){const B=q.forecasts.map(G=>({id:G.id||"",date:G.date,category:G.categoryId,cnpj:G.companyId,value:G.value,createdBy:"Sistema"}));f([...u,...B]),d(!1),A()}}catch(E){g(E instanceof Error?E.message:"Erro ao adicionar previso"),console.error("Error adding forecast:",E)}finally{p(!1)}},C=(P,E)=>{f(u.map(q=>q.id===P?{...E,id:P}:q))},y=P=>{f(u.filter(E=>E.id!==P))},k=P=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P);return s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Forecast de Recebimentos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie suas metas e previses de recebimento"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-xl shadow-sm transition-all duration-200 transform hover:scale-105",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Nova Meta"})]})]}),w&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:w}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-2xl shadow-md border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700 flex items-center",children:[(e==="month"||e==="day")&&s.jsx("button",{onClick:I,className:"mr-4 p-2 rounded-full hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:s.jsx(RD,{className:"h-5 w-5 text-secondary-600 dark:text-secondary-400"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_l,{className:"h-5 w-5 text-primary-500"}),s.jsxs("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:[e==="year"&&"Selecione o Ano",e==="month"&&`${r}`,e==="day"&&`${a!==null?new Date(r,a).toLocaleString("pt-BR",{month:"long"}):""} ${r}`]})]})]}),s.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[b?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary-500"})}):e==="year"&&s.jsx(PI,{onYearClick:x,getYearTotal:v,formatCurrency:k}),e==="month"&&r&&s.jsx(DI,{year:r,onMonthClick:F,getMonthTotal:j,formatCurrency:k}),e==="day"&&r!==null&&a!==null&&s.jsx(LI,{year:r,month:a,onDayClick:U,getDayTotal:R,formatCurrency:k})]}),i!==null&&a!==null&&r&&s.jsx(FI,{day:i,month:a,year:r,forecasts:H(r,a,i),formatCurrency:k,onEdit:C,onDelete:y})]}),s.jsx(Y4,{isOpen:c,onClose:()=>d(!1),onSave:S,selectedDate:i!==null&&a!==null?new Date(r,a,i):new Date,isLoading:b})]})}function $I({users:e,onEdit:t,onDelete:r,onToggleStatus:n}){return e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(KD,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum usurio cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Novo Usurio" para comear a cadastrar usurios no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"E-mail"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.email}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},a.id))})]})})}const qI="https://financeiro.tshirteria.com";async function UI(){try{const{data:e,error:t}=await De.from("system_users").select(`
        id,
        name,
        email,
        created_at,
        permissions
      `).order("name");if(t)throw t;return(e==null?void 0:e.map(n=>({...n,createdAt:n.created_at})))||[]}catch(e){return console.error("Erro ao listar usurios:",e),[]}}async function zI(e){try{const t=await fetch(`${qI}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password,permissions:e.permissions})});if(!t.ok){const r=await t.json();return console.error("Erro ao criar usurio:",r),!1}return!0}catch(t){return console.error("Erro ao criar usurio:",t),null}}async function VI(e,t){try{const r={};t.name&&(r.name=t.name),t.email&&(r.email=t.email),t.permissions&&(r.permissions=t.permissions);const{data:n,error:a}=await De.from("system_users").update(r).eq("id",e).select().single();if(a)throw a;return n?(t.permissionId,{id:n.id,name:n.name,email:n.email,createdAt:n.created_at,updatedAt:n.updated_at||n.created_at}):null}catch(r){return console.error("Erro ao atualizar usurio:",r),null}}async function HI(e){try{const{error:t}=await De.from("system_users").delete().eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erro ao excluir usurio:",t),!1}}async function WI(e,t){try{const{data:r,error:n}=await De.from("system_users").select(`
        id,
        name,
        email,
        created_at,
      `).eq("id",e).single();if(n)throw n;return r?{id:r.id,name:r.name,email:r.email,createdAt:r.created_at,updatedAt:r.updated_at||r.created_at}:null}catch(r){return console.error("Erro ao alterar status do usurio:",r),null}}const GI=[{label:"Dashboard",value:"dashboard"},{label:"Central de Pagamentos",value:"payment-center"},{label:"Solicitaes de Pagamento",value:"payment-requests"},{label:"Central de Recebimentos",value:"receivables-center"},{label:"Aprovaes de Pagamento",value:"payment-approvals"},{label:"Extrato Bancrio",value:"bank-statement"},{label:"Conciliao Bancria",value:"bank-reconciliation"},{label:"Conciliao de Carto",value:"credit-card-reconciliation"},{label:"Solicitaes de Estorno",value:"refund-requests"},{label:"Motivos de Estorno",value:"refund-reasons"},{label:"Responsveis por Estorno",value:"refund-responsibles"},{label:"Depreciao de Ativos",value:"asset-depreciation"},{label:"Passivos",value:"passives"},{label:"Patrimnio",value:"equity"},{label:"DRE",value:"income-statement"},{label:"Fluxo de Caixa",value:"cash-flow"},{label:"Exportao Contbil",value:"accounting-export"},{label:"CNPJs",value:"cnpjs"},{label:"Usurios",value:"users"},{label:"Permisses",value:"permissions"},{label:"Categorias Financeiras",value:"financial-categories"},{label:"Formas de Pagamento",value:"payment-methods"},{label:"Contas Bancrias",value:"bank-accounts"},{label:"Configurao de Email",value:"email-config"},{label:"Configurao DDA",value:"dda-config"},{label:"Alertas",value:"alerts"}];function JI({isOpen:e,onClose:t,user:r,onSuccess:n}){const[a,o]=L.useState({name:"",email:"",password:"",confirmPassword:"",permissions:[]}),[i,l]=L.useState(!1),[c,d]=L.useState("");L.useEffect(()=>{o(r?{name:r.name,email:r.email,password:"",confirmPassword:"",permissions:r.permissions||[]}:{name:"",email:"",password:"",confirmPassword:"",permissions:[]})},[r]);const u=b=>{o(p=>({...p,permissions:p.permissions.includes(b)?p.permissions.filter(w=>w!==b):[...p.permissions,b]}))},f=async b=>{if(b.preventDefault(),l(!0),d(""),!r&&a.password!==a.confirmPassword){d("As senhas no coincidem"),l(!1);return}try{r?await VI(r.id,{name:a.name,email:a.email,permissions:a.permissions}):await zI({name:a.name,email:a.email,password:a.password,permissions:a.permissions}),n(),t()}catch(p){console.error("Erro ao salvar usurio:",p),d("Erro ao salvar usurio. Por favor, tente novamente.")}finally{l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Usurio":"Adicionar Novo Usurio"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:f,className:"p-4 sm:p-6 space-y-6",children:[c&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:c}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:a.name,onChange:b=>o(p=>({...p,name:b.target.value})),disabled:i,required:!0,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:b=>o(p=>({...p,email:b.target.value})),disabled:i||!!r,required:!0,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Senha"}),s.jsx("input",{type:"password",value:a.password,onChange:b=>o(p=>({...p,password:b.target.value})),disabled:i,required:!0,minLength:6,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Confirmar Senha"}),s.jsx("input",{type:"password",value:a.confirmPassword,onChange:b=>o(p=>({...p,confirmPassword:b.target.value})),disabled:i,required:!0,minLength:6,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Permisses de Acesso"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:GI.map(b=>s.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("input",{type:"checkbox",value:b.value,checked:a.permissions.includes(b.value),onChange:()=>u(b.value),className:"rounded border-secondary-300 text-primary-500 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-700 dark:text-secondary-300",children:b.label})]},b.value))})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg disabled:opacity-50",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar Usurio"})]})]})]})}):null}function KI(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState(null),[c,d]=L.useState([]),[u,f]=L.useState(!0),[b,p]=L.useState(null);L.useEffect(()=>{w()},[]);const w=async()=>{try{const[U]=await Promise.all([UI()]);d(U)}catch(U){p("Erro ao carregar dados"),console.error(U)}finally{f(!1)}},g=()=>{l(null),t(!0)},A=U=>{l(U),t(!0)},v=U=>{l(U),n(!0)},j=async()=>{if(i)try{await HI(i.id),d(c.filter(U=>U.id!==i.id)),n(!1)}catch(U){p("Erro ao excluir usurio"),console.error(U)}},R=async U=>{try{const F=await WI(U.id,!U.active);F&&d(c.map(x=>x.id===U.id?F:x))}catch(F){p("Erro ao alterar status do usurio"),console.error(F)}},H=c.filter(U=>U.name.toLowerCase().includes(a.toLowerCase())||U.email.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"p-4 sm:p-6",children:[b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:b}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Usurios"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os usurios do sistema"})]}),s.jsxs("button",{onClick:g,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Novo Usurio"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou e-mail",value:a,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx($I,{users:H,onEdit:A,onDelete:v,onToggleStatus:R})]}),s.jsx(JI,{isOpen:e,onClose:()=>t(!1),user:i,onSuccess:()=>{t(!1),w()}}),s.jsx(Ai,{isOpen:r,onClose:()=>n(!1),title:"Excluir Usurio",description:`Tem certeza que deseja excluir o usurio ${i==null?void 0:i.name}? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:j})]})}function YI({permissions:e,onEdit:t,onDelete:r}){return e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(HD,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma permisso cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Permisso" para comear a definir os nveis de acesso.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(n=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:n.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:n.description||"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(n),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(n),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},n.id))})]})})}const W1={dashboard:{name:"Dashboard",description:"Visualizao geral do sistema"},payments:{name:"Pagamentos",description:"Gesto de contas a pagar"},receivables:{name:"Recebimentos",description:"Gesto de contas a receber"},reconciliation:{name:"Conciliao",description:"Conciliao bancria"},refunds:{name:"Estornos",description:"Gesto de estornos"},balance:{name:"Balano",description:"Balano patrimonial"},reports:{name:"Relatrios",description:"Relatrios financeiros"},settings:{name:"Configuraes",description:"Configuraes do sistema"}},XI={REVENUE:[{value:"NO_DRE",label:"No Entrar no DRE"},{value:"OPERATIONAL_REVENUE",label:"Receita Operacional Bruta"},{value:"FINANCIAL_REVENUE",label:"Receita Financeira"},{value:"OTHER_REVENUES",label:"Outras Receitas"}],EXPENSE:[{value:"NO_DRE",label:"No Entrar no DRE"},{value:"DEDUCTIONS_FROM_REVENUE",label:"Dedues da Receita Bruta"},{value:"OPERATING_EXPENSES",label:"Despesas Operacionais"},{value:"FINANCIAL_EXPENSES",label:"Despesa Financeira"},{value:"OTHER_EXPENSES",label:"Outras Despesas"},{value:"INCOME_TAX",label:"IR e CSLL"}],BOTH:[]};async function QI(){try{const{data:e,error:t}=await De.from("permissions").select("*").order("name");if(t)throw t;return e||[]}catch(e){return console.error("Erro ao listar permisses:",e),[]}}async function ZI(e){try{const{data:t,error:r}=await De.from("permissions").insert([{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar permisso:",t),null}}async function e8(e,t){try{const{data:r,error:n}=await De.from("permissions").update({...t,updatedAt:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar permisso:",r),null}}async function t8(e){try{const{data:t,error:r}=await De.from("users").select("id").eq("permissionId",e);if(r)throw r;if(t&&t.length>0)throw new Error("No  possvel excluir esta permisso pois existem usurios vinculados a ela. Remova a permisso dos usurios primeiro.");const{error:n}=await De.from("permissions").delete().eq("id",e);if(n)throw n;return!0}catch(t){throw console.error("Erro ao excluir permisso:",t),t}}function r8({isOpen:e,onClose:t,permission:r,onSuccess:n}){const[a,o]=L.useState({name:"",description:"",modules:{}}),[i,l]=L.useState(!1),[c,d]=L.useState("");L.useEffect(()=>{if(r)o({name:r.name,description:r.description||"",modules:r.modules});else{const b=Object.keys(W1).reduce((p,w)=>({...p,[w]:{view:!1,edit:!1}}),{});o({name:"",description:"",modules:b})}},[r]);const u=(b,p,w)=>{o(g=>({...g,modules:{...g.modules,[b]:{...g.modules[b],[p]:w,...p==="edit"&&w?{view:!0}:{},...p==="view"&&!w?{edit:!1}:{}}}}))},f=async b=>{b.preventDefault(),l(!0),d("");try{if(r){if(!await e8(r.id,a))throw new Error("Erro ao atualizar permisso")}else if(!await ZI(a))throw new Error("Erro ao criar permisso");n(),t()}catch(p){console.error("Erro ao salvar permisso:",p),d("Erro ao salvar permisso. Por favor, tente novamente.")}finally{l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10 rounded-t-lg",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Permisso":"Criar Nova Permisso"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:f,className:"p-4 sm:p-6",children:[c&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:c}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Permisso"}),s.jsx("input",{type:"text",value:a.name,onChange:b=>o(p=>({...p,name:b.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:a.description,onChange:b=>o(p=>({...p,description:b.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-3",children:"Permisses de Acesso aos Mdulos"}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto pr-2 space-y-3 custom-scrollbar",children:Object.entries(W1).map(([b,p])=>{var w,g,A;return s.jsxs("div",{className:"p-4 border border-secondary-200 dark:border-secondary-700 rounded-lg",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:p.name}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:p.description})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:(w=a.modules[b])==null?void 0:w.view,onChange:v=>u(b,"view",v.target.checked),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Visualizar"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:(g=a.modules[b])==null?void 0:g.edit,onChange:v=>u(b,"edit",v.target.checked),disabled:i||!((A=a.modules[b])!=null&&A.view),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Editar"})]})]})]},b)})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Criar Permisso"})]})]})]})}):null}function n8(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState(null),[c,d]=L.useState([]),[u,f]=L.useState(!0),[b,p]=L.useState(null);L.useEffect(()=>{w()},[]);const w=async()=>{try{const H=await QI();d(H)}catch(H){p("Erro ao carregar permisses"),console.error(H)}finally{f(!1)}},g=()=>{l(null),t(!0)},A=H=>{l(H),t(!0)},v=H=>{l(H),n(!0)},j=async()=>{if(i)try{await t8(i.id),d(c.filter(H=>H.id!==i.id)),n(!1)}catch(H){p("Erro ao excluir permisso"),console.error(H)}},R=c.filter(H=>{var U;return H.name.toLowerCase().includes(a.toLowerCase())||((U=H.description)==null?void 0:U.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:b}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Permisses"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as permisses de acesso ao sistema"})]}),s.jsxs("button",{onClick:g,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Permisso"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:a,onChange:H=>o(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(YI,{permissions:R,onEdit:A,onDelete:v})]}),s.jsx(r8,{isOpen:e,onClose:()=>t(!1),permission:i,onSuccess:()=>{t(!1),w()}}),s.jsx(Ai,{isOpen:r,onClose:()=>n(!1),title:"Excluir Permisso",description:`Tem certeza que deseja excluir a permisso "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:j})]})}function a8({paymentMethods:e,onEdit:t,onDelete:r,onToggleStatus:n}){if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(hm,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma forma de pagamento cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Incluir Forma de Pagamento" para comear a cadastrar as formas de pagamento no sistema.'})]});const a=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o);return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[1200px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Condio de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Prazo (dias)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Alquota (%)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Alquota Fixa"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.paymentCondition}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.settlementDays}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[o.aliquot.toFixed(2),"%"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(o.fixedAliquot)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.active,onChange:()=>n(o)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(o),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},o.id))})]})})}async function s8(){try{const{data:e,error:t}=await De.from("payment_methods").select("*").order("type");if(t)throw t;return e||[]}catch(e){return console.error("Erro ao listar formas de pagamento:",e),[]}}async function o8(e){try{const{data:t,error:r}=await De.from("payment_methods").insert([{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return t}catch(t){return console.error("Erro ao criar forma de pagamento:",t),null}}async function i8(e,t){try{const{data:r,error:n}=await De.from("payment_methods").update({...t,updatedAt:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar forma de pagamento:",r),null}}async function l8(e){try{const{error:t}=await De.from("payment_methods").delete().eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erro ao excluir forma de pagamento:",t),!1}}async function c8(e,t){try{const{data:r,error:n}=await De.from("payment_methods").update({active:t,updatedAt:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da forma de pagamento:",r),null}}const d8=["Carto de Crdito","Carto de Dbito","Boleto Bancrio","PIX","Transferncia Bancria","Dinheiro","Cheque","Duplicata","Programa de Fidelidade","Crdito em Loja","Sem Pagamento"];function u8({isOpen:e,onClose:t,paymentMethod:r,onSuccess:n}){const[a,o]=L.useState({type:"",description:"",paymentCondition:"",settlementDays:0,aliquot:0,fixedAliquot:0,active:!0,defaultBankAccountId:null}),[i,l]=L.useState(!1),[c,d]=L.useState(""),[u,f]=L.useState([]);L.useEffect(()=>{e&&(b(),o(r?{type:r.type,description:r.description,paymentCondition:r.paymentCondition,settlementDays:r.settlementDays,aliquot:r.aliquot,fixedAliquot:r.fixedAliquot,active:r.active,defaultBankAccountId:r.defaultBankAccountId||null}:{type:"",description:"",paymentCondition:"",settlementDays:0,aliquot:0,fixedAliquot:0,active:!0,defaultBankAccountId:null}))},[e,r]);const b=async()=>{try{const{data:w,error:g}=await De.from("bank_accounts").select("*").eq("active",!0);if(g)throw g;f(w||[])}catch(w){console.error("Error loading bank accounts:",w),d("Erro ao carregar contas bancrias")}},p=async w=>{w.preventDefault(),l(!0),d("");try{if(r){if(!await i8(r.id,a))throw new Error("Erro ao atualizar forma de pagamento")}else if(!await o8(a))throw new Error("Erro ao criar forma de pagamento");n(),t()}catch(g){console.error("Erro ao salvar forma de pagamento:",g),d("Erro ao salvar forma de pagamento. Por favor, tente novamente.")}finally{l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Forma de Pagamento":"Nova Forma de Pagamento"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:p,className:"p-4 sm:p-6",children:[c&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:c}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Pagamento"}),s.jsxs("select",{value:a.type,onChange:w=>o(g=>({...g,type:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um tipo"}),d8.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:a.description,onChange:w=>o(g=>({...g,description:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Condio de Pagamento"}),s.jsxs("select",{value:a.paymentCondition,onChange:w=>o(g=>({...g,paymentCondition:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"immediate",children:" vista"}),s.jsx("option",{value:"1x",children:"1x"}),s.jsx("option",{value:"2x",children:"2x"}),s.jsx("option",{value:"3x",children:"3x"}),s.jsx("option",{value:"4x",children:"4x"}),s.jsx("option",{value:"5x",children:"5x"}),s.jsx("option",{value:"6x",children:"6x"}),s.jsx("option",{value:"7x",children:"7x"}),s.jsx("option",{value:"8x",children:"8x"}),s.jsx("option",{value:"9x",children:"9x"}),s.jsx("option",{value:"10x",children:"10x"}),s.jsx("option",{value:"11x",children:"11x"}),s.jsx("option",{value:"12x",children:"12x"}),s.jsx("option",{value:"30/60/90",children:"30/60/90"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Prazo de Recebimento (dias)"}),s.jsx("input",{type:"number",min:"0",value:a.settlementDays,onChange:w=>o(g=>({...g,settlementDays:parseInt(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alquota (%)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:a.aliquot,onChange:w=>o(g=>({...g,aliquot:parseFloat(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alquota Fixa (R$)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.fixedAliquot,onChange:w=>o(g=>({...g,fixedAliquot:parseFloat(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Padro (opcional)"}),s.jsxs("select",{value:a.defaultBankAccountId,onChange:w=>o(g=>({...g,defaultBankAccountId:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.bank," - ",w.branch,"/",w.account]},w.id))]})]}),s.jsx("div",{className:"sm:col-span-2",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:w=>o(g=>({...g,active:w.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Forma de pagamento ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar"})]})]})]})}):null}function f8(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState(null),[c,d]=L.useState([]),[u,f]=L.useState(!0),[b,p]=L.useState(null);L.useEffect(()=>{w()},[]);const w=async()=>{try{const U=await s8();d(U)}catch(U){p("Erro ao carregar formas de pagamento"),console.error(U)}finally{f(!1)}},g=()=>{l(null),t(!0)},A=U=>{l(U),t(!0)},v=U=>{l(U),n(!0)},j=async()=>{if(i)try{await l8(i.id),d(c.filter(U=>U.id!==i.id)),n(!1)}catch(U){p("Erro ao excluir forma de pagamento"),console.error(U)}},R=async U=>{try{const F=await c8(U.id,!U.active);F&&d(c.map(x=>x.id===U.id?F:x))}catch(F){p("Erro ao alterar status da forma de pagamento"),console.error(F)}},H=c.filter(U=>U.type.toLowerCase().includes(a.toLowerCase())||U.description.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"p-4 sm:p-6",children:[b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:b}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Formas de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as formas de pagamento do sistema"})]}),s.jsxs("button",{onClick:g,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Forma de Pagamento"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por tipo ou descrio...",value:a,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(a8,{paymentMethods:H,onEdit:A,onDelete:v,onToggleStatus:R})]}),s.jsx(u8,{isOpen:e,onClose:()=>t(!1),paymentMethod:i,onSuccess:()=>{t(!1),w()}}),s.jsx(Ai,{isOpen:r,onClose:()=>n(!1),title:"Excluir Forma de Pagamento",description:`Tem certeza que deseja excluir a forma de pagamento "${i==null?void 0:i.description}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:j})]})}function h8({bankAccounts:e,onEdit:t,onDelete:r,onToggleStatus:n}){return e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(vc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma conta bancria cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Conta Bancria" para comear a cadastrar contas no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[1200px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome da Conta"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Banco"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Agncia"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ Vinculado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(a=>{var o;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.bank}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.branch}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.account}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:((o=a.cnpj)==null?void 0:o.name)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},a.id)})})]})})}const p8=["Conta Corrente","Conta de Pagamento","Conta Digital"];function m8({isOpen:e,onClose:t,bankAccount:r,onSuccess:n}){const[a,o]=L.useState({name:"",bank:"",branch:"",account:"",digit:"",type:"",cnpjId:"",bankCode:"",agreementCode:"",sftpKey:"",cnabSendFolder:"",cnabReturnFolder:"",active:!0,developer_application_key:"",client_id:"",client_secret:"",basic:"",oauth_url:"",bank_api_url:"",mci_teste:""}),[i,l]=L.useState([]),[c,d]=L.useState(!1),[u,f]=L.useState(""),[b,p]=L.useState("general");L.useEffect(()=>{w()},[]),L.useEffect(()=>{o(r?{name:r.name,bank:r.bank,branch:r.branch,account:r.account,digit:r.digit||"",type:r.type,cnpjId:r.cnpjId,bankCode:r.bankCode||"",agreementCode:r.agreementCode||"",sftpKey:r.sftpKey||"",cnabSendFolder:r.cnabSendFolder||"",cnabReturnFolder:r.cnabReturnFolder||"",active:r.active,developer_application_key:r.developer_application_key||"",client_id:r.client_id||"",client_secret:r.client_secret||"",basic:r.basic||"",oauth_url:r.oauth_url||"",bank_api_url:r.bank_api_url||"",mci_teste:r.mci_teste||""}:{name:"",bank:"",branch:"",account:"",digit:"",type:"",cnpjId:"",bankCode:"",agreementCode:"",sftpKey:"",cnabSendFolder:"",cnabReturnFolder:"",active:!0,developer_application_key:"",client_id:"",client_secret:"",basic:"",oauth_url:"",bank_api_url:"",mci_teste:""})},[r]);const w=async()=>{try{const v=await W4();l(v)}catch(v){console.error("Erro ao carregar CNPJs:",v),f("Erro ao carregar lista de CNPJs")}},g=async v=>{v.preventDefault(),d(!0),f("");try{if(r){if(!await NI(r.id,a))throw new Error("Erro ao atualizar conta bancria")}else if(!await jI(a))throw new Error("Erro ao criar conta bancria");n(),t()}catch(j){console.error("Erro ao salvar conta bancria:",j),f("Erro ao salvar conta bancria. Por favor, tente novamente.")}finally{d(!1)}},A=({tab:v,label:j})=>s.jsx("button",{type:"button",onClick:()=>p(v),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${b===v?"bg-primary-500 text-white":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-100 dark:text-secondary-400 dark:hover:text-white dark:hover:bg-secondary-700"}`,children:j});return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Conta Bancria":"Nova Conta Bancria"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:g,className:"p-4 sm:p-6",children:[u&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:u}),s.jsxs("div",{className:"flex space-x-2 mb-6 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx(A,{tab:"general",label:"Dados Gerais"}),s.jsx(A,{tab:"cnab",label:"Integrao CNAB"}),s.jsx(A,{tab:"api",label:"API Bancria"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[b==="general"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Conta"}),s.jsx("input",{type:"text",value:a.name,onChange:v=>o(j=>({...j,name:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Banco"}),s.jsx("input",{type:"text",value:a.bank,onChange:v=>o(j=>({...j,bank:v.target.value})),disabled:c,placeholder:"Nome do banco",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Conta"}),s.jsxs("select",{value:a.type,onChange:v=>o(j=>({...j,type:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um tipo"}),p8.map(v=>s.jsx("option",{value:v,children:v},v))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:a.branch,onChange:v=>o(j=>({...j,branch:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:a.account,onChange:v=>o(j=>({...j,account:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:a.digit,onChange:v=>o(j=>({...j,digit:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ Vinculado"}),s.jsxs("select",{value:a.cnpjId,onChange:v=>o(j=>({...j,cnpjId:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(v=>s.jsxs("option",{value:v.id,children:[v.name," - ",v.cnpj]},v.id))]})]})]}),b==="cnab"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-900 dark:text-white mb-4",children:"Configuraes para Integrao CNAB"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Banco"}),s.jsx("input",{type:"text",value:a.bankCode,onChange:v=>o(j=>({...j,bankCode:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Convnio"}),s.jsx("input",{type:"text",value:a.agreementCode,onChange:v=>o(j=>({...j,agreementCode:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Chave de Autenticao SFTP"}),s.jsx("input",{type:"password",value:a.sftpKey,onChange:v=>o(j=>({...j,sftpKey:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Pasta de Envio CNAB"}),s.jsx("input",{type:"text",value:a.cnabSendFolder,onChange:v=>o(j=>({...j,cnabSendFolder:v.target.value})),disabled:c,placeholder:"/remessa",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Pasta de Retorno CNAB"}),s.jsx("input",{type:"text",value:a.cnabReturnFolder,onChange:v=>o(j=>({...j,cnabReturnFolder:v.target.value})),disabled:c,placeholder:"/retorno",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]})]})}),b==="api"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-900 dark:text-white mb-4",children:"Configuraes para Integrao com API Bancria"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Developer Application Key"}),s.jsx("input",{type:"password",value:a.developer_application_key,onChange:v=>o(j=>({...j,developer_application_key:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Client ID"}),s.jsx("input",{type:"password",value:a.client_id,onChange:v=>o(j=>({...j,client_id:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Client Secret"}),s.jsx("input",{type:"password",value:a.client_secret,onChange:v=>o(j=>({...j,client_secret:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Basic"}),s.jsx("input",{type:"password",value:a.basic,onChange:v=>o(j=>({...j,basic:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"OAuth URL"}),s.jsx("input",{type:"text",value:a.oauth_url,onChange:v=>o(j=>({...j,oauth_url:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bank API URL"}),s.jsx("input",{type:"text",value:a.bank_api_url,onChange:v=>o(j=>({...j,bank_api_url:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"MCI Teste"}),s.jsx("input",{type:"text",value:a.mci_teste,onChange:v=>o(j=>({...j,mci_teste:v.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]})]})}),s.jsx("div",{className:"sm:col-span-2 border-t border-secondary-200 dark:border-secondary-700 pt-4 mt-2",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:v=>o(j=>({...j,active:v.target.checked})),disabled:c,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Conta bancria ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:c,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?"Salvando...":r?"Salvar Alteraes":"Criar Conta Bancria"})]})]})]})}):null}function g8(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState(null),[c,d]=L.useState([]),[u,f]=L.useState(!0),[b,p]=L.useState(null);L.useEffect(()=>{w()},[]);const w=async()=>{try{const U=await G4();d(U)}catch(U){p("Erro ao carregar contas bancrias"),console.error(U)}finally{f(!1)}},g=()=>{l(null),t(!0)},A=U=>{console.log(U),l(U),t(!0)},v=U=>{l(U),n(!0)},j=async()=>{if(i)try{await SI(i.id),d(c.filter(U=>U.id!==i.id)),n(!1)}catch(U){p("Erro ao excluir conta bancria"),console.error(U)}},R=async U=>{try{const F=await CI(U.id,!U.active);F&&d(c.map(x=>x.id===U.id?F:x))}catch(F){p("Erro ao alterar status da conta bancria"),console.error(F)}},H=c.filter(U=>{var F,x;return U.name.toLowerCase().includes(a.toLowerCase())||U.bank.toLowerCase().includes(a.toLowerCase())||U.branch.includes(a)||U.account.includes(a)||((F=U.cnpj)==null?void 0:F.name.toLowerCase().includes(a.toLowerCase()))||((x=U.cnpj)==null?void 0:x.cnpj.includes(a))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:b}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Contas Bancrias"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as contas bancrias do sistema"})]}),s.jsxs("button",{onClick:g,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Conta Bancria"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, banco, agncia, conta ou CNPJ...",value:a,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(h8,{bankAccounts:H,onEdit:A,onDelete:v,onToggleStatus:R})]}),s.jsx(m8,{isOpen:e,onClose:()=>t(!1),bankAccount:i,onSuccess:()=>{t(!1),w()}}),s.jsx(Ai,{isOpen:r,onClose:()=>n(!1),title:"Excluir Conta Bancria",description:`Tem certeza que deseja excluir a conta bancria "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:j})]})}function y8(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return L.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const km=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tu(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function $v(e){return"nodeType"in e}function Qa(e){var t,r;return e?tu(e)?e:$v(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function qv(e){const{Document:t}=Qa(e);return e instanceof t}function rh(e){return tu(e)?!1:e instanceof Qa(e).HTMLElement}function X4(e){return e instanceof Qa(e).SVGElement}function ru(e){return e?tu(e)?e.document:$v(e)?qv(e)?e:rh(e)||X4(e)?e.ownerDocument:document:document:document}const Vo=km?L.useLayoutEffect:L.useEffect;function Uv(e){const t=L.useRef(e);return Vo(()=>{t.current=e}),L.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function x8(){const e=L.useRef(null),t=L.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=L.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Ff(e,t){t===void 0&&(t=[e]);const r=L.useRef(e);return Vo(()=>{r.current!==e&&(r.current=e)},t),r}function nh(e,t){const r=L.useRef();return L.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function b0(e){const t=Uv(e),r=L.useRef(null),n=L.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function zx(e){const t=L.useRef();return L.useEffect(()=>{t.current=e},[e]),t.current}let ay={};function ah(e,t){return L.useMemo(()=>{if(t)return t;const r=ay[e]==null?0:ay[e]+1;return ay[e]=r,e+"-"+r},[e,t])}function Q4(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((o,i)=>{const l=Object.entries(i);for(const[c,d]of l){const u=o[c];u!=null&&(o[c]=u+e*d)}return o},{...t})}}const kd=Q4(1),v0=Q4(-1);function b8(e){return"clientX"in e&&"clientY"in e}function zv(e){if(!e)return!1;const{KeyboardEvent:t}=Qa(e.target);return t&&e instanceof t}function v8(e){if(!e)return!1;const{TouchEvent:t}=Qa(e.target);return t&&e instanceof t}function Vx(e){if(v8(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return b8(e)?{x:e.clientX,y:e.clientY}:null}const Bf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Bf.Translate.toString(e),Bf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),G1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function w8(e){return e.matches(G1)?e:e.querySelector(G1)}const k8={display:"none"};function j8(e){let{id:t,value:r}=e;return Mr.createElement("div",{id:t,style:k8},r)}function N8(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Mr.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function S8(){const[e,t]=L.useState("");return{announce:L.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const Z4=L.createContext(null);function C8(e){const t=L.useContext(Z4);L.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function _8(){const[e]=L.useState(()=>new Set),t=L.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[L.useCallback(n=>{let{type:a,event:o}=n;e.forEach(i=>{var l;return(l=i[a])==null?void 0:l.call(i,o)})},[e]),t]}const E8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},A8={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function P8(e){let{announcements:t=A8,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=E8}=e;const{announce:o,announcement:i}=S8(),l=ah("DndLiveRegion"),[c,d]=L.useState(!1);if(L.useEffect(()=>{d(!0)},[]),C8(L.useMemo(()=>({onDragStart(f){let{active:b}=f;o(t.onDragStart({active:b}))},onDragMove(f){let{active:b,over:p}=f;t.onDragMove&&o(t.onDragMove({active:b,over:p}))},onDragOver(f){let{active:b,over:p}=f;o(t.onDragOver({active:b,over:p}))},onDragEnd(f){let{active:b,over:p}=f;o(t.onDragEnd({active:b,over:p}))},onDragCancel(f){let{active:b,over:p}=f;o(t.onDragCancel({active:b,over:p}))}}),[o,t])),!c)return null;const u=Mr.createElement(Mr.Fragment,null,Mr.createElement(j8,{id:n,value:a.draggable}),Mr.createElement(N8,{id:l,announcement:i}));return r?nc.createPortal(u,r):u}var Un;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Un||(Un={}));function w0(){}function D8(e,t){return L.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function L8(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return L.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const ho=Object.freeze({x:0,y:0});function I8(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function R8(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function T8(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function O8(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function J1(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const M8=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=J1(t,t.left,t.top),o=[];for(const i of n){const{id:l}=i,c=r.get(l);if(c){const d=I8(J1(c),a);o.push({id:l,data:{droppableContainer:i,value:d}})}}return o.sort(R8)};function F8(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=a-n,l=o-r;if(n<a&&r<o){const c=t.width*t.height,d=e.width*e.height,u=i*l,f=u/(c+d-u);return Number(f.toFixed(4))}return 0}const B8=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const o of n){const{id:i}=o,l=r.get(i);if(l){const c=F8(l,t);c>0&&a.push({id:i,data:{droppableContainer:o,value:c}})}}return a.sort(T8)};function $8(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function eS(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ho}function q8(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...r})}}const U8=q8(1);function z8(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function V8(e,t,r){const n=z8(t);if(!n)return e;const{scaleX:a,scaleY:o,x:i,y:l}=n,c=e.left-i-(1-a)*parseFloat(r),d=e.top-l-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),u=a?e.width/a:e.width,f=o?e.height/o:e.height;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c}}const H8={ignoreTransform:!1};function nu(e,t){t===void 0&&(t=H8);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Qa(e).getComputedStyle(e);d&&(r=V8(r,d,u))}const{top:n,left:a,width:o,height:i,bottom:l,right:c}=r;return{top:n,left:a,width:o,height:i,bottom:l,right:c}}function K1(e){return nu(e,{ignoreTransform:!0})}function W8(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function G8(e,t){return t===void 0&&(t=Qa(e).getComputedStyle(e)),t.position==="fixed"}function J8(e,t){t===void 0&&(t=Qa(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=t[a];return typeof o=="string"?r.test(o):!1})}function Vv(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(qv(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!rh(a)||X4(a)||r.includes(a))return r;const o=Qa(e).getComputedStyle(a);return a!==e&&J8(a,o)&&r.push(a),G8(a,o)?r:n(a.parentNode)}return e?n(e):r}function tS(e){const[t]=Vv(e,1);return t??null}function sy(e){return!km||!e?null:tu(e)?e:$v(e)?qv(e)||e===ru(e).scrollingElement?window:rh(e)?e:null:null}function rS(e){return tu(e)?e.scrollX:e.scrollLeft}function nS(e){return tu(e)?e.scrollY:e.scrollTop}function Hx(e){return{x:rS(e),y:nS(e)}}var Yn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Yn||(Yn={}));function aS(e){return!km||!e?!1:e===document.scrollingElement}function sS(e){const t={x:0,y:0},r=aS(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:a,isLeft:o,isBottom:i,isRight:l,maxScroll:n,minScroll:t}}const K8={x:.2,y:.2};function Y8(e,t,r,n,a){let{top:o,left:i,right:l,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=K8);const{isTop:d,isBottom:u,isLeft:f,isRight:b}=sS(e),p={x:0,y:0},w={x:0,y:0},g={height:t.height*a.y,width:t.width*a.x};return!d&&o<=t.top+g.height?(p.y=Yn.Backward,w.y=n*Math.abs((t.top+g.height-o)/g.height)):!u&&c>=t.bottom-g.height&&(p.y=Yn.Forward,w.y=n*Math.abs((t.bottom-g.height-c)/g.height)),!b&&l>=t.right-g.width?(p.x=Yn.Forward,w.x=n*Math.abs((t.right-g.width-l)/g.width)):!f&&i<=t.left+g.width&&(p.x=Yn.Backward,w.x=n*Math.abs((t.left+g.width-i)/g.width)),{direction:p,speed:w}}function X8(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function oS(e){return e.reduce((t,r)=>kd(t,Hx(r)),ho)}function Q8(e){return e.reduce((t,r)=>t+rS(r),0)}function Z8(e){return e.reduce((t,r)=>t+nS(r),0)}function eR(e,t){if(t===void 0&&(t=nu),!e)return;const{top:r,left:n,bottom:a,right:o}=t(e);tS(e)&&(a<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const tR=[["x",["left","right"],Q8],["y",["top","bottom"],Z8]];class Hv{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Vv(r),a=oS(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,l]of tR)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=l(n),u=a[o]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class uf{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function rR(e){const{EventTarget:t}=Qa(e);return e instanceof t?e:ru(e)}function oy(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Rs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Rs||(Rs={}));function Y1(e){e.preventDefault()}function nR(e){e.stopPropagation()}var kr;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(kr||(kr={}));const iS={start:[kr.Space,kr.Enter],cancel:[kr.Esc],end:[kr.Space,kr.Enter,kr.Tab]},aR=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case kr.Right:return{...r,x:r.x+25};case kr.Left:return{...r,x:r.x-25};case kr.Down:return{...r,y:r.y+25};case kr.Up:return{...r,y:r.y-25}}};class lS{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new uf(ru(r)),this.windowListeners=new uf(Qa(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rs.Resize,this.handleCancel),this.windowListeners.add(Rs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&eR(n),r(ho)}handleKeyDown(t){if(zv(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:o=iS,coordinateGetter:i=aR,scrollBehavior:l="smooth"}=a,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:ho;this.referenceCoordinates||(this.referenceCoordinates=u);const f=i(t,{active:r,context:n.current,currentCoordinates:u});if(f){const b=v0(f,u),p={x:0,y:0},{scrollableAncestors:w}=n.current;for(const g of w){const A=t.code,{isTop:v,isRight:j,isLeft:R,isBottom:H,maxScroll:U,minScroll:F}=sS(g),x=X8(g),I={x:Math.min(A===kr.Right?x.right-x.width/2:x.right,Math.max(A===kr.Right?x.left:x.left+x.width/2,f.x)),y:Math.min(A===kr.Down?x.bottom-x.height/2:x.bottom,Math.max(A===kr.Down?x.top:x.top+x.height/2,f.y))},S=A===kr.Right&&!j||A===kr.Left&&!R,C=A===kr.Down&&!H||A===kr.Up&&!v;if(S&&I.x!==f.x){const y=g.scrollLeft+b.x,k=A===kr.Right&&y<=U.x||A===kr.Left&&y>=F.x;if(k&&!b.y){g.scrollTo({left:y,behavior:l});return}k?p.x=g.scrollLeft-y:p.x=A===kr.Right?g.scrollLeft-U.x:g.scrollLeft-F.x,p.x&&g.scrollBy({left:-p.x,behavior:l});break}else if(C&&I.y!==f.y){const y=g.scrollTop+b.y,k=A===kr.Down&&y<=U.y||A===kr.Up&&y>=F.y;if(k&&!b.x){g.scrollTo({top:y,behavior:l});return}k?p.y=g.scrollTop-y:p.y=A===kr.Down?g.scrollTop-U.y:g.scrollTop-F.y,p.y&&g.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,kd(v0(f,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}lS.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=iS,onActivation:a}=t,{active:o}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const l=o.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function X1(e){return!!(e&&"distance"in e)}function Q1(e){return!!(e&&"delay"in e)}class Wv{constructor(t,r,n){var a;n===void 0&&(n=rR(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:o}=t,{target:i}=o;this.props=t,this.events=r,this.document=ru(i),this.documentListeners=new uf(this.document),this.listeners=new uf(n),this.windowListeners=new uf(Qa(i)),this.initialCoordinates=(a=Vx(o))!=null?a:ho,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Rs.Resize,this.handleCancel),this.windowListeners.add(Rs.DragStart,Y1),this.windowListeners.add(Rs.VisibilityChange,this.handleCancel),this.windowListeners.add(Rs.ContextMenu,Y1),this.documentListeners.add(Rs.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Q1(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(X1(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Rs.Click,nR,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rs.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!a)return;const c=(r=Vx(t))!=null?r:ho,d=v0(a,c);if(!n&&l){if(X1(l)){if(l.tolerance!=null&&oy(d,l.tolerance))return this.handleCancel();if(oy(d,l.distance))return this.handleStart()}if(Q1(l)&&oy(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===kr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const sR={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Gv extends Wv{constructor(t){const{event:r}=t,n=ru(r.target);super(t,sR,n)}}Gv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const oR={move:{name:"mousemove"},end:{name:"mouseup"}};var Wx;(function(e){e[e.RightClick=2]="RightClick"})(Wx||(Wx={}));class iR extends Wv{constructor(t){super(t,oR,ru(t.event.target))}}iR.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Wx.RightClick?!1:(n==null||n({event:r}),!0)}}];const iy={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lR extends Wv{constructor(t){super(t,iy)}static setup(){return window.addEventListener(iy.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(iy.move.name,t)};function t(){}}}lR.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var ff;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ff||(ff={}));var k0;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(k0||(k0={}));function cR(e){let{acceleration:t,activator:r=ff.Pointer,canScroll:n,draggingRect:a,enabled:o,interval:i=5,order:l=k0.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:f,threshold:b}=e;const p=uR({delta:f,disabled:!o}),[w,g]=x8(),A=L.useRef({x:0,y:0}),v=L.useRef({x:0,y:0}),j=L.useMemo(()=>{switch(r){case ff.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ff.DraggableRect:return a}},[r,a,c]),R=L.useRef(null),H=L.useCallback(()=>{const F=R.current;if(!F)return;const x=A.current.x*v.current.x,I=A.current.y*v.current.y;F.scrollBy(x,I)},[]),U=L.useMemo(()=>l===k0.TreeOrder?[...d].reverse():d,[l,d]);L.useEffect(()=>{if(!o||!d.length||!j){g();return}for(const F of U){if((n==null?void 0:n(F))===!1)continue;const x=d.indexOf(F),I=u[x];if(!I)continue;const{direction:S,speed:C}=Y8(F,I,j,t,b);for(const y of["x","y"])p[y][S[y]]||(C[y]=0,S[y]=0);if(C.x>0||C.y>0){g(),R.current=F,w(H,i),A.current=C,v.current=S;return}}A.current={x:0,y:0},v.current={x:0,y:0},g()},[t,H,n,g,o,i,JSON.stringify(j),JSON.stringify(p),w,d,U,u,JSON.stringify(b)])}const dR={x:{[Yn.Backward]:!1,[Yn.Forward]:!1},y:{[Yn.Backward]:!1,[Yn.Forward]:!1}};function uR(e){let{delta:t,disabled:r}=e;const n=zx(t);return nh(a=>{if(r||!n||!a)return dR;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Yn.Backward]:a.x[Yn.Backward]||o.x===-1,[Yn.Forward]:a.x[Yn.Forward]||o.x===1},y:{[Yn.Backward]:a.y[Yn.Backward]||o.y===-1,[Yn.Forward]:a.y[Yn.Forward]||o.y===1}}},[r,t,n])}function fR(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return nh(a=>{var o;return t==null?null:(o=n??a)!=null?o:null},[n,t])}function hR(e,t){return L.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,o=a.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,n)}));return[...r,...o]},[]),[e,t])}var $f;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})($f||($f={}));var Gx;(function(e){e.Optimized="optimized"})(Gx||(Gx={}));const Z1=new Map;function pR(e,t){let{dragging:r,dependencies:n,config:a}=t;const[o,i]=L.useState(null),{frequency:l,measure:c,strategy:d}=a,u=L.useRef(e),f=A(),b=Ff(f),p=L.useCallback(function(v){v===void 0&&(v=[]),!b.current&&i(j=>j===null?v:j.concat(v.filter(R=>!j.includes(R))))},[b]),w=L.useRef(null),g=nh(v=>{if(f&&!r)return Z1;if(!v||v===Z1||u.current!==e||o!=null){const j=new Map;for(let R of e){if(!R)continue;if(o&&o.length>0&&!o.includes(R.id)&&R.rect.current){j.set(R.id,R.rect.current);continue}const H=R.node.current,U=H?new Hv(c(H),H):null;R.rect.current=U,U&&j.set(R.id,U)}return j}return v},[e,o,r,f,c]);return L.useEffect(()=>{u.current=e},[e]),L.useEffect(()=>{f||p()},[r,f]),L.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),L.useEffect(()=>{f||typeof l!="number"||w.current!==null||(w.current=setTimeout(()=>{p(),w.current=null},l))},[l,f,p,...n]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:o!=null};function A(){switch(d){case $f.Always:return!1;case $f.BeforeDragging:return r;default:return!r}}}function cS(e,t){return nh(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function mR(e,t){return cS(e,t)}function gR(e){let{callback:t,disabled:r}=e;const n=Uv(t),a=L.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return L.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function jm(e){let{callback:t,disabled:r}=e;const n=Uv(t),a=L.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return L.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function yR(e){return new Hv(nu(e),e)}function e5(e,t,r){t===void 0&&(t=yR);const[n,a]=L.useState(null);function o(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??r)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const i=gR({callback(c){if(e)for(const d of c){const{type:u,target:f}=d;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),l=jm({callback:o});return Vo(()=>{o(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),n}function xR(e){const t=cS(e);return eS(e,t)}const t5=[];function bR(e){const t=L.useRef(e),r=nh(n=>e?n&&n!==t5&&e&&t.current&&e.parentNode===t.current.parentNode?n:Vv(e):t5,[e]);return L.useEffect(()=>{t.current=e},[e]),r}function vR(e){const[t,r]=L.useState(null),n=L.useRef(e),a=L.useCallback(o=>{const i=sy(o.target);i&&r(l=>l?(l.set(i,Hx(i)),new Map(l)):null)},[]);return L.useEffect(()=>{const o=n.current;if(e!==o){i(o);const l=e.map(c=>{const d=sy(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Hx(d)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{i(e),i(o)};function i(l){l.forEach(c=>{const d=sy(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),L.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>kd(o,i),ho):oS(e):ho,[e,t])}function r5(e,t){t===void 0&&(t=[]);const r=L.useRef(null);return L.useEffect(()=>{r.current=null},t),L.useEffect(()=>{const n=e!==ho;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?v0(e,r.current):ho}function wR(e){L.useEffect(()=>{if(!km)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function kR(e,t){return L.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:o}=n;return r[a]=i=>{o(i,t)},r},{}),[e,t])}function dS(e){return L.useMemo(()=>e?W8(e):null,[e])}const n5=[];function jR(e,t){t===void 0&&(t=nu);const[r]=e,n=dS(r?Qa(r):null),[a,o]=L.useState(n5);function i(){o(()=>e.length?e.map(c=>aS(c)?n:new Hv(t(c),c)):n5)}const l=jm({callback:i});return Vo(()=>{l==null||l.disconnect(),i(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function NR(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return rh(t)?t:e}function SR(e){let{measure:t}=e;const[r,n]=L.useState(null),a=L.useCallback(d=>{for(const{target:u}of d)if(rh(u)){n(f=>{const b=t(u);return f?{...f,width:b.width,height:b.height}:b});break}},[t]),o=jm({callback:a}),i=L.useCallback(d=>{const u=NR(d);o==null||o.disconnect(),u&&(o==null||o.observe(u)),n(u?t(u):null)},[t,o]),[l,c]=b0(i);return L.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const CR=[{sensor:Gv,options:{}},{sensor:lS,options:{}}],_R={current:{}},Lp={draggable:{measure:K1},droppable:{measure:K1,strategy:$f.WhileDragging,frequency:Gx.Optimized},dragOverlay:{measure:nu}};class hf extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const ER={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new hf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:w0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Lp,measureDroppableContainers:w0,windowRect:null,measuringScheduled:!1},AR={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:w0,draggableNodes:new Map,over:null,measureDroppableContainers:w0},Nm=L.createContext(AR),uS=L.createContext(ER);function PR(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new hf}}}function DR(e,t){switch(t.type){case Un.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Un.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Un.DragEnd:case Un.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Un.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new hf(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case Un.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const i=new hf(e.droppable.containers);return i.set(r,{...o,disabled:a}),{...e,droppable:{...e.droppable,containers:i}}}case Un.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const o=new hf(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function LR(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=L.useContext(Nm),o=zx(n),i=zx(r==null?void 0:r.id);return L.useEffect(()=>{if(!t&&!n&&o&&i!=null){if(!zv(o)||document.activeElement===o.target)return;const l=a.get(i);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const f=w8(u);if(f){f.focus();break}}})}},[n,t,a,i,o]),null}function IR(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,o)=>o({transform:a,...n}),r):r}function RR(e){return L.useMemo(()=>({draggable:{...Lp.draggable,...e==null?void 0:e.draggable},droppable:{...Lp.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Lp.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function TR(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const o=L.useRef(!1),{x:i,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Vo(()=>{if(!i&&!l||!t){o.current=!1;return}if(o.current||!n)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=r(d),f=eS(u,n);if(i||(f.x=0),l||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const b=tS(d);b&&b.scrollBy({top:f.y,left:f.x})}},[t,i,l,n,r])}const fS=L.createContext({...ho,scaleX:1,scaleY:1});var ol;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ol||(ol={}));const OR=L.memo(function(t){var r,n,a,o;let{id:i,accessibility:l,autoScroll:c=!0,children:d,sensors:u=CR,collisionDetection:f=B8,measuring:b,modifiers:p,...w}=t;const g=L.useReducer(DR,void 0,PR),[A,v]=g,[j,R]=_8(),[H,U]=L.useState(ol.Uninitialized),F=H===ol.Initialized,{draggable:{active:x,nodes:I,translate:S},droppable:{containers:C}}=A,y=x!=null?I.get(x):null,k=L.useRef({initial:null,translated:null}),P=L.useMemo(()=>{var mr;return x!=null?{id:x,data:(mr=y==null?void 0:y.data)!=null?mr:_R,rect:k}:null},[x,y]),E=L.useRef(null),[q,B]=L.useState(null),[G,V]=L.useState(null),ee=Ff(w,Object.values(w)),le=ah("DndDescribedBy",i),Q=L.useMemo(()=>C.getEnabled(),[C]),M=RR(b),{droppableRects:J,measureDroppableContainers:te,measuringScheduled:ue}=pR(Q,{dragging:F,dependencies:[S.x,S.y],config:M.droppable}),ie=fR(I,x),de=L.useMemo(()=>G?Vx(G):null,[G]),ye=Sn(),pe=mR(ie,M.draggable.measure);TR({activeNode:x!=null?I.get(x):null,config:ye.layoutShiftCompensation,initialRect:pe,measure:M.draggable.measure});const Ee=e5(ie,M.draggable.measure,pe),$e=e5(ie?ie.parentElement:null),qe=L.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:C,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ye=C.getNodeFor((r=qe.current.over)==null?void 0:r.id),dt=SR({measure:M.dragOverlay.measure}),Me=(n=dt.nodeRef.current)!=null?n:ie,ge=F?(a=dt.rect)!=null?a:Ee:null,yt=!!(dt.nodeRef.current&&dt.rect),rt=xR(yt?null:Ee),Ge=dS(Me?Qa(Me):null),et=bR(F?Ye??ie:null),se=jR(et),we=IR(p,{transform:{x:S.x-rt.x,y:S.y-rt.y,scaleX:1,scaleY:1},activatorEvent:G,active:P,activeNodeRect:Ee,containerNodeRect:$e,draggingNodeRect:ge,over:qe.current.over,overlayNodeRect:dt.rect,scrollableAncestors:et,scrollableAncestorRects:se,windowRect:Ge}),Ae=de?kd(de,S):null,tt=vR(et),Fe=r5(tt),st=r5(tt,[Ee]),Nt=kd(we,Fe),Tt=ge?U8(ge,we):null,St=P&&Tt?f({active:P,collisionRect:Tt,droppableRects:J,droppableContainers:Q,pointerCoordinates:Ae}):null,Kt=O8(St,"id"),[ut,Gr]=L.useState(null),Gt=yt?we:kd(we,st),mn=$8(Gt,(o=ut==null?void 0:ut.rect)!=null?o:null,Ee),rr=L.useRef(null),Sr=L.useCallback((mr,tr)=>{let{sensor:wt,options:Pt}=tr;if(E.current==null)return;const lr=I.get(E.current);if(!lr)return;const cr=mr.nativeEvent,rn=new wt({active:E.current,activeNode:lr,event:cr,options:Pt,context:qe,onAbort(mt){if(!I.get(mt))return;const{onDragAbort:Lr}=ee.current,Ir={id:mt};Lr==null||Lr(Ir),j({type:"onDragAbort",event:Ir})},onPending(mt,Fr,Lr,Ir){if(!I.get(mt))return;const{onDragPending:Rr}=ee.current,Xr={id:mt,constraint:Fr,initialCoordinates:Lr,offset:Ir};Rr==null||Rr(Xr),j({type:"onDragPending",event:Xr})},onStart(mt){const Fr=E.current;if(Fr==null)return;const Lr=I.get(Fr);if(!Lr)return;const{onDragStart:Ir}=ee.current,Nr={activatorEvent:cr,active:{id:Fr,data:Lr.data,rect:k}};nc.unstable_batchedUpdates(()=>{Ir==null||Ir(Nr),U(ol.Initializing),v({type:Un.DragStart,initialCoordinates:mt,active:Fr}),j({type:"onDragStart",event:Nr}),B(rr.current),V(cr)})},onMove(mt){v({type:Un.DragMove,coordinates:mt})},onEnd:Cn(Un.DragEnd),onCancel:Cn(Un.DragCancel)});rr.current=rn;function Cn(mt){return async function(){const{active:Lr,collisions:Ir,over:Nr,scrollAdjustedTranslate:Rr}=qe.current;let Xr=null;if(Lr&&Rr){const{cancelDrop:Ra}=ee.current;Xr={activatorEvent:cr,active:Lr,collisions:Ir,delta:Rr,over:Nr},mt===Un.DragEnd&&typeof Ra=="function"&&await Promise.resolve(Ra(Xr))&&(mt=Un.DragCancel)}E.current=null,nc.unstable_batchedUpdates(()=>{v({type:mt}),U(ol.Uninitialized),Gr(null),B(null),V(null),rr.current=null;const Ra=mt===Un.DragEnd?"onDragEnd":"onDragCancel";if(Xr){const la=ee.current[Ra];la==null||la(Xr),j({type:Ra,event:Xr})}})}}},[I]),ta=L.useCallback((mr,tr)=>(wt,Pt)=>{const lr=wt.nativeEvent,cr=I.get(Pt);if(E.current!==null||!cr||lr.dndKit||lr.defaultPrevented)return;const rn={active:cr};mr(wt,tr.options,rn)===!0&&(lr.dndKit={capturedBy:tr.sensor},E.current=Pt,Sr(wt,tr))},[I,Sr]),sr=hR(u,ta);wR(u),Vo(()=>{Ee&&H===ol.Initializing&&U(ol.Initialized)},[Ee,H]),L.useEffect(()=>{const{onDragMove:mr}=ee.current,{active:tr,activatorEvent:wt,collisions:Pt,over:lr}=qe.current;if(!tr||!wt)return;const cr={active:tr,activatorEvent:wt,collisions:Pt,delta:{x:Nt.x,y:Nt.y},over:lr};nc.unstable_batchedUpdates(()=>{mr==null||mr(cr),j({type:"onDragMove",event:cr})})},[Nt.x,Nt.y]),L.useEffect(()=>{const{active:mr,activatorEvent:tr,collisions:wt,droppableContainers:Pt,scrollAdjustedTranslate:lr}=qe.current;if(!mr||E.current==null||!tr||!lr)return;const{onDragOver:cr}=ee.current,rn=Pt.get(Kt),Cn=rn&&rn.rect.current?{id:rn.id,rect:rn.rect.current,data:rn.data,disabled:rn.disabled}:null,mt={active:mr,activatorEvent:tr,collisions:wt,delta:{x:lr.x,y:lr.y},over:Cn};nc.unstable_batchedUpdates(()=>{Gr(Cn),cr==null||cr(mt),j({type:"onDragOver",event:mt})})},[Kt]),Vo(()=>{qe.current={activatorEvent:G,active:P,activeNode:ie,collisionRect:Tt,collisions:St,droppableRects:J,draggableNodes:I,draggingNode:Me,draggingNodeRect:ge,droppableContainers:C,over:ut,scrollableAncestors:et,scrollAdjustedTranslate:Nt},k.current={initial:ge,translated:Tt}},[P,ie,St,Tt,I,Me,ge,J,C,ut,et,Nt]),cR({...ye,delta:S,draggingRect:Tt,pointerCoordinates:Ae,scrollableAncestors:et,scrollableAncestorRects:se});const Ns=L.useMemo(()=>({active:P,activeNode:ie,activeNodeRect:Ee,activatorEvent:G,collisions:St,containerNodeRect:$e,dragOverlay:dt,draggableNodes:I,droppableContainers:C,droppableRects:J,over:ut,measureDroppableContainers:te,scrollableAncestors:et,scrollableAncestorRects:se,measuringConfiguration:M,measuringScheduled:ue,windowRect:Ge}),[P,ie,Ee,G,St,$e,dt,I,C,J,ut,te,et,se,M,ue,Ge]),qr=L.useMemo(()=>({activatorEvent:G,activators:sr,active:P,activeNodeRect:Ee,ariaDescribedById:{draggable:le},dispatch:v,draggableNodes:I,over:ut,measureDroppableContainers:te}),[G,sr,P,Ee,v,le,I,ut,te]);return Mr.createElement(Z4.Provider,{value:R},Mr.createElement(Nm.Provider,{value:qr},Mr.createElement(uS.Provider,{value:Ns},Mr.createElement(fS.Provider,{value:mn},d)),Mr.createElement(LR,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Mr.createElement(P8,{...l,hiddenTextDescribedById:le}));function Sn(){const mr=(q==null?void 0:q.autoScrollEnabled)===!1,tr=typeof c=="object"?c.enabled===!1:c===!1,wt=F&&!mr&&!tr;return typeof c=="object"?{...c,enabled:wt}:{enabled:wt}}}),MR=L.createContext(null),a5="button",FR="Draggable";function BR(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const o=ah(FR),{activators:i,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:f,over:b}=L.useContext(Nm),{role:p=a5,roleDescription:w="draggable",tabIndex:g=0}=a??{},A=(c==null?void 0:c.id)===t,v=L.useContext(A?fS:MR),[j,R]=b0(),[H,U]=b0(),F=kR(i,t),x=Ff(r);Vo(()=>(f.set(t,{id:t,key:o,node:j,activatorNode:H,data:x}),()=>{const S=f.get(t);S&&S.key===o&&f.delete(t)}),[f,t]);const I=L.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":n,"aria-pressed":A&&p===a5?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[n,p,g,A,w,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:I,isDragging:A,listeners:n?void 0:F,node:j,over:b,setNodeRef:R,setActivatorNodeRef:U,transform:v}}function $R(){return L.useContext(uS)}const qR="Droppable",UR={timeout:25};function zR(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const o=ah(qR),{active:i,dispatch:l,over:c,measureDroppableContainers:d}=L.useContext(Nm),u=L.useRef({disabled:r}),f=L.useRef(!1),b=L.useRef(null),p=L.useRef(null),{disabled:w,updateMeasurementsFor:g,timeout:A}={...UR,...a},v=Ff(g??n),j=L.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(v.current)?v.current:[v.current]),p.current=null},A)},[A]),R=jm({callback:j,disabled:w||!i}),H=L.useCallback((I,S)=>{R&&(S&&(R.unobserve(S),f.current=!1),I&&R.observe(I))},[R]),[U,F]=b0(H),x=Ff(t);return L.useEffect(()=>{!R||!U.current||(R.disconnect(),f.current=!1,R.observe(U.current))},[U,R]),L.useEffect(()=>(l({type:Un.RegisterDroppable,element:{id:n,key:o,disabled:r,node:U,rect:b,data:x}}),()=>l({type:Un.UnregisterDroppable,key:o,id:n})),[n]),L.useEffect(()=>{r!==u.current.disabled&&(l({type:Un.SetDroppableDisabled,id:n,key:o,disabled:r}),u.current.disabled=r)},[n,o,r,l]),{active:i,rect:b,isOver:(c==null?void 0:c.id)===n,node:U,over:c,setNodeRef:F}}function hS(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function VR(e,t){return e.reduce((r,n,a)=>{const o=t.get(n);return o&&(r[a]=o),r},Array(e.length))}function ap(e){return e!==null&&e>=0}function HR(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function WR(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const pS=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const o=hS(t,n,r),i=t[a],l=o[a];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},sp={scaleX:1,scaleY:1},GR=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:o,overIndex:i}=e;const l=(t=o[r])!=null?t:n;if(!l)return null;if(a===r){const d=o[i];return d?{x:0,y:r<i?d.top+d.height-(l.top+l.height):d.top-l.top,...sp}:null}const c=JR(o,a,r);return a>r&&a<=i?{x:0,y:-l.height-c,...sp}:a<r&&a>=i?{x:0,y:l.height+c,...sp}:{x:0,y:0,...sp}};function JR(e,t,r){const n=e[t],a=e[t-1],o=e[t+1];return n?r<t?a?n.top-(a.top+a.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const mS="Sortable",gS=Mr.createContext({activeIndex:-1,containerId:mS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:pS,disabled:{draggable:!1,droppable:!1}});function KR(e){let{children:t,id:r,items:n,strategy:a=pS,disabled:o=!1}=e;const{active:i,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=$R(),f=ah(mS,r),b=l.rect!==null,p=L.useMemo(()=>n.map(F=>typeof F=="object"&&"id"in F?F.id:F),[n]),w=i!=null,g=i?p.indexOf(i.id):-1,A=d?p.indexOf(d.id):-1,v=L.useRef(p),j=!HR(p,v.current),R=A!==-1&&g===-1||j,H=WR(o);Vo(()=>{j&&w&&u(p)},[j,p,w,u]),L.useEffect(()=>{v.current=p},[p]);const U=L.useMemo(()=>({activeIndex:g,containerId:f,disabled:H,disableTransforms:R,items:p,overIndex:A,useDragOverlay:b,sortedRects:VR(p,c),strategy:a}),[g,f,H.draggable,H.droppable,R,p,A,c,b,a]);return Mr.createElement(gS.Provider,{value:U},t)}const YR=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return hS(r,n,a).indexOf(t)},XR=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:o,newIndex:i,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!n||l!==o&&a===i?!1:r?!0:i!==a&&t===c},QR={duration:200,easing:"ease"},yS="transform",ZR=Bf.Transition.toString({property:yS,duration:0,easing:"linear"}),eT={roleDescription:"sortable"};function tT(e){let{disabled:t,index:r,node:n,rect:a}=e;const[o,i]=L.useState(null),l=L.useRef(r);return Vo(()=>{if(!t&&r!==l.current&&n.current){const c=a.current;if(c){const d=nu(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&i(u)}}r!==l.current&&(l.current=r)},[t,r,n,a]),L.useEffect(()=>{o&&i(null)},[o]),o}function rT(e){let{animateLayoutChanges:t=XR,attributes:r,disabled:n,data:a,getNewIndex:o=YR,id:i,strategy:l,resizeObserverConfig:c,transition:d=QR}=e;const{items:u,containerId:f,activeIndex:b,disabled:p,disableTransforms:w,sortedRects:g,overIndex:A,useDragOverlay:v,strategy:j}=L.useContext(gS),R=nT(n,p),H=u.indexOf(i),U=L.useMemo(()=>({sortable:{containerId:f,index:H,items:u},...a}),[f,a,H,u]),F=L.useMemo(()=>u.slice(u.indexOf(i)),[u,i]),{rect:x,node:I,isOver:S,setNodeRef:C}=zR({id:i,data:U,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...c}}),{active:y,activatorEvent:k,activeNodeRect:P,attributes:E,setNodeRef:q,listeners:B,isDragging:G,over:V,setActivatorNodeRef:ee,transform:le}=BR({id:i,data:U,attributes:{...eT,...r},disabled:R.draggable}),Q=y8(C,q),M=!!y,J=M&&!w&&ap(b)&&ap(A),te=!v&&G,ue=te&&J?le:null,de=J?ue??(l??j)({rects:g,activeNodeRect:P,activeIndex:b,overIndex:A,index:H}):null,ye=ap(b)&&ap(A)?o({id:i,items:u,activeIndex:b,overIndex:A}):H,pe=y==null?void 0:y.id,Ee=L.useRef({activeId:pe,items:u,newIndex:ye,containerId:f}),$e=u!==Ee.current.items,qe=t({active:y,containerId:f,isDragging:G,isSorting:M,id:i,index:H,items:u,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:d,wasDragging:Ee.current.activeId!=null}),Ye=tT({disabled:!qe,index:H,node:I,rect:x});return L.useEffect(()=>{M&&Ee.current.newIndex!==ye&&(Ee.current.newIndex=ye),f!==Ee.current.containerId&&(Ee.current.containerId=f),u!==Ee.current.items&&(Ee.current.items=u)},[M,ye,f,u]),L.useEffect(()=>{if(pe===Ee.current.activeId)return;if(pe&&!Ee.current.activeId){Ee.current.activeId=pe;return}const Me=setTimeout(()=>{Ee.current.activeId=pe},50);return()=>clearTimeout(Me)},[pe]),{active:y,activeIndex:b,attributes:E,data:U,rect:x,index:H,newIndex:ye,items:u,isOver:S,isSorting:M,isDragging:G,listeners:B,node:I,overIndex:A,over:V,setNodeRef:Q,setActivatorNodeRef:ee,setDroppableNodeRef:C,setDraggableNodeRef:q,transform:Ye??de,transition:dt()};function dt(){if(Ye||$e&&Ee.current.newIndex===H)return ZR;if(!(te&&!zv(k)||!d)&&(M||qe))return Bf.Transition.toString({...d,property:yS})}}function nT(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}kr.Down,kr.Right,kr.Up,kr.Left;function aT({category:e,depth:t=0,onEdit:r,onDelete:n,onToggleStatus:a,onCreateSubcategory:o}){const i=t>0,{attributes:l,listeners:c,setNodeRef:d,transform:u,transition:f,isDragging:b}=rT({id:e.id}),p={transform:Bf.Transform.toString(u),transition:f,opacity:b?.5:1};return s.jsxs("tr",{ref:d,style:p,className:`
        transition-colors
        ${i?"bg-secondary-100 dark:bg-secondary-800/70 hover:bg-secondary-200 dark:hover:bg-secondary-800":"hover:bg-secondary-50 dark:hover:bg-secondary-800/50"}
      `,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center",children:[!i&&s.jsx("div",{...l,...c,className:"cursor-grab active:cursor-grabbing",children:s.jsx(MD,{className:"h-5 w-5 text-secondary-400 dark:text-secondary-500 mr-2"})}),s.jsx("div",{className:"flex items-center",style:{marginLeft:`${t*32}px`},children:e.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:e.type==="REVENUE"?"Receita":e.type==="EXPENSE"?"Despesa":"Ambos"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:e.active,onChange:()=>a(e)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[t<6&&s.jsx("button",{onClick:()=>o(e),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Criar Subcategoria",children:s.jsx(b4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(e),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Editar",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(e),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]})}function xS(e,t,r){const n=[s.jsx(aT,{category:e,depth:t,...r},e.id)];if(t<5&&Array.isArray(e.subcategories)&&e.subcategories.length>0)for(const a of e.subcategories)n.push(...xS(a,t+1,r));return n}function sT(e){const t=[],r=n=>{for(const a of n)t.push(a.id),Array.isArray(a.subcategories)&&r(a.subcategories)};return r(e),t}function oT({categories:e,onEdit:t,onDelete:r,onToggleStatus:n,onCreateSubcategory:a,onReorder:o}){const i=L8(D8(Gv,{activationConstraint:{distance:8}}));if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(b4,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma categoria cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Categoria" para comear a cadastrar categorias no sistema.'})]});const l=e.filter(f=>f.type==="REVENUE"&&!f.parentId),c=e.filter(f=>f.type==="EXPENSE"&&!f.parentId),d=(f,b)=>{const{active:p,over:w}=f;if(w&&p.id!==w.id){const g=b==="REVENUE"?l:c,A=g.findIndex(j=>j.id===p.id),v=g.findIndex(j=>j.id===w.id);o(A,v,b)}},u=({categories:f,title:b,type:p})=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4 px-6",children:b}),s.jsx(OR,{sensors:i,collisionDetection:M8,onDragEnd:w=>d(w,p),children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:s.jsx(KR,{items:sT(f),strategy:GR,children:f.flatMap(w=>xS(w,0,{onEdit:t,onDelete:r,onToggleStatus:n,onCreateSubcategory:a}))})})]})})]});return s.jsxs("div",{className:"overflow-x-auto",children:[s.jsx(u,{categories:l,title:"Receitas",type:"REVENUE"}),s.jsx(u,{categories:c,title:"Despesas",type:"EXPENSE"})]})}/*!
* sweetalert2 v11.22.0
* Released under the MIT License.
*/function bS(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function iT(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s5(e,t){return e.get(bS(e,t))}function lT(e,t,r){iT(e,t),t.set(e,r)}function cT(e,t,r){return e.set(bS(e,t),r),r}const dT=100,Lt={},uT=()=>{Lt.previousActiveElement instanceof HTMLElement?(Lt.previousActiveElement.focus(),Lt.previousActiveElement=null):document.body&&document.body.focus()},fT=e=>new Promise(t=>{if(!e)return t();const r=window.scrollX,n=window.scrollY;Lt.restoreFocusTimeout=setTimeout(()=>{uT(),t()},dT),window.scrollTo(r,n)}),vS="swal2-",hT=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],He=hT.reduce((e,t)=>(e[t]=vS+t,e),{}),pT=["success","warning","info","question","error"],j0=pT.reduce((e,t)=>(e[t]=vS+t,e),{}),wS="SweetAlert2:",Jv=e=>e.charAt(0).toUpperCase()+e.slice(1),Pa=e=>{console.warn(`${wS} ${typeof e=="object"?e.join(" "):e}`)},jc=e=>{console.error(`${wS} ${e}`)},o5=[],mT=e=>{o5.includes(e)||(o5.push(e),Pa(e))},kS=(e,t=null)=>{mT(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Sm=e=>typeof e=="function"?e():e,Kv=e=>e&&typeof e.toPromise=="function",sh=e=>Kv(e)?e.toPromise():Promise.resolve(e),Yv=e=>e&&Promise.resolve(e)===e,Ia=()=>document.body.querySelector(`.${He.container}`),oh=e=>{const t=Ia();return t?t.querySelector(e):null},vs=e=>oh(`.${e}`),yr=()=>vs(He.popup),au=()=>vs(He.icon),gT=()=>vs(He["icon-content"]),jS=()=>vs(He.title),Xv=()=>vs(He["html-container"]),NS=()=>vs(He.image),Qv=()=>vs(He["progress-steps"]),Cm=()=>vs(He["validation-message"]),Ho=()=>oh(`.${He.actions} .${He.confirm}`),su=()=>oh(`.${He.actions} .${He.cancel}`),Nc=()=>oh(`.${He.actions} .${He.deny}`),yT=()=>vs(He["input-label"]),ou=()=>oh(`.${He.loader}`),ih=()=>vs(He.actions),SS=()=>vs(He.footer),_m=()=>vs(He["timer-progress-bar"]),Zv=()=>vs(He.close),xT=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ew=()=>{const e=yr();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(t).sort((o,i)=>{const l=parseInt(o.getAttribute("tabindex")||"0"),c=parseInt(i.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),n=e.querySelectorAll(xT),a=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(a))].filter(o=>Ja(o))},tw=()=>yi(document.body,He.shown)&&!yi(document.body,He["toast-shown"])&&!yi(document.body,He["no-backdrop"]),Em=()=>{const e=yr();return e?yi(e,He.toast):!1},bT=()=>{const e=yr();return e?e.hasAttribute("data-loading"):!1},ws=(e,t)=>{if(e.textContent="",t){const n=new DOMParser().parseFromString(t,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach(i=>{e.appendChild(i)});const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?e.appendChild(i.cloneNode(!0)):e.appendChild(i)})}},yi=(e,t)=>{if(!t)return!1;const r=t.split(/\s+/);for(let n=0;n<r.length;n++)if(!e.classList.contains(r[n]))return!1;return!0},vT=(e,t)=>{Array.from(e.classList).forEach(r=>{!Object.values(He).includes(r)&&!Object.values(j0).includes(r)&&!Object.values(t.showClass||{}).includes(r)&&e.classList.remove(r)})},ys=(e,t,r)=>{if(vT(e,t),!t.customClass)return;const n=t.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){Pa(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}jr(e,n)}},Am=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${He.popup} > .${He[t]}`);case"checkbox":return e.querySelector(`.${He.popup} > .${He.checkbox} input`);case"radio":return e.querySelector(`.${He.popup} > .${He.radio} input:checked`)||e.querySelector(`.${He.popup} > .${He.radio} input:first-child`);case"range":return e.querySelector(`.${He.popup} > .${He.range} input`);default:return e.querySelector(`.${He.popup} > .${He.input}`)}},CS=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},_S=(e,t,r)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(e)?e.forEach(a=>{r?a.classList.add(n):a.classList.remove(n)}):r?e.classList.add(n):e.classList.remove(n)}))},jr=(e,t)=>{_S(e,t,!0)},qs=(e,t)=>{_S(e,t,!1)},fl=(e,t)=>{const r=Array.from(e.children);for(let n=0;n<r.length;n++){const a=r[n];if(a instanceof HTMLElement&&yi(a,t))return a}},ic=(e,t,r)=>{r===`${parseInt(r)}`&&(r=parseInt(r)),r||parseInt(r)===0?e.style.setProperty(t,typeof r=="number"?`${r}px`:r):e.style.removeProperty(t)},Zn=(e,t="flex")=>{e&&(e.style.display=t)},wa=e=>{e&&(e.style.display="none")},rw=(e,t="block")=>{e&&new MutationObserver(()=>{lh(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},i5=(e,t,r,n)=>{const a=e.querySelector(t);a&&a.style.setProperty(r,n)},lh=(e,t,r="flex")=>{t?Zn(e,r):wa(e)},Ja=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),wT=()=>!Ja(Ho())&&!Ja(Nc())&&!Ja(su()),Jx=e=>e.scrollHeight>e.clientHeight,kT=(e,t)=>{let r=e;for(;r&&r!==t;){if(Jx(r))return!0;r=r.parentElement}return!1},ES=e=>{const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||n>0},nw=(e,t=!1)=>{const r=_m();r&&Ja(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},jT=()=>{const e=_m();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const r=parseInt(window.getComputedStyle(e).width),n=t/r*100;e.style.width=`${n}%`},NT=()=>typeof window>"u"||typeof document>"u",ST=`
 <div aria-labelledby="${He.title}" aria-describedby="${He["html-container"]}" class="${He.popup}" tabindex="-1">
   <button type="button" class="${He.close}"></button>
   <ul class="${He["progress-steps"]}"></ul>
   <div class="${He.icon}"></div>
   <img class="${He.image}" />
   <h2 class="${He.title}" id="${He.title}"></h2>
   <div class="${He["html-container"]}" id="${He["html-container"]}"></div>
   <input class="${He.input}" id="${He.input}" />
   <input type="file" class="${He.file}" />
   <div class="${He.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${He.select}" id="${He.select}"></select>
   <div class="${He.radio}"></div>
   <label class="${He.checkbox}">
     <input type="checkbox" id="${He.checkbox}" />
     <span class="${He.label}"></span>
   </label>
   <textarea class="${He.textarea}" id="${He.textarea}"></textarea>
   <div class="${He["validation-message"]}" id="${He["validation-message"]}"></div>
   <div class="${He.actions}">
     <div class="${He.loader}"></div>
     <button type="button" class="${He.confirm}"></button>
     <button type="button" class="${He.deny}"></button>
     <button type="button" class="${He.cancel}"></button>
   </div>
   <div class="${He.footer}"></div>
   <div class="${He["timer-progress-bar-container"]}">
     <div class="${He["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),CT=()=>{const e=Ia();return e?(e.remove(),qs([document.documentElement,document.body],[He["no-backdrop"],He["toast-shown"],He["has-column"]]),!0):!1},Gl=()=>{Lt.currentInstance.resetValidationMessage()},_T=()=>{const e=yr(),t=fl(e,He.input),r=fl(e,He.file),n=e.querySelector(`.${He.range} input`),a=e.querySelector(`.${He.range} output`),o=fl(e,He.select),i=e.querySelector(`.${He.checkbox} input`),l=fl(e,He.textarea);t.oninput=Gl,r.onchange=Gl,o.onchange=Gl,i.onchange=Gl,l.oninput=Gl,n.oninput=()=>{Gl(),a.value=n.value},n.onchange=()=>{Gl(),a.value=n.value}},ET=e=>typeof e=="string"?document.querySelector(e):e,AT=e=>{const t=yr();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},PT=e=>{window.getComputedStyle(e).direction==="rtl"&&jr(Ia(),He.rtl)},DT=e=>{const t=CT();if(NT()){jc("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=He.container,t&&jr(r,He["no-transition"]),ws(r,ST),r.dataset.swal2Theme=e.theme;const n=ET(e.target);n.appendChild(r),e.topLayer&&(r.setAttribute("popover",""),r.showPopover()),AT(e),PT(n),_T()},aw=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?LT(e,t):e&&ws(t,e)},LT=(e,t)=>{e.jquery?IT(t,e):ws(t,e.toString())},IT=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},RT=(e,t)=>{const r=ih(),n=ou();!r||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?wa(r):Zn(r),ys(r,t,"actions"),TT(r,n,t),ws(n,t.loaderHtml||""),ys(n,t,"loader"))};function TT(e,t,r){const n=Ho(),a=Nc(),o=su();!n||!a||!o||(cy(n,"confirm",r),cy(a,"deny",r),cy(o,"cancel",r),OT(n,a,o,r),r.reverseButtons&&(r.toast?(e.insertBefore(o,n),e.insertBefore(a,n)):(e.insertBefore(o,t),e.insertBefore(a,t),e.insertBefore(n,t))))}function OT(e,t,r,n){if(!n.buttonsStyling){qs([e,t,r],He.styled);return}jr([e,t,r],He.styled),n.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),ly(e),ly(t),ly(r)}function ly(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function cy(e,t,r){const n=Jv(t);lh(e,r[`show${n}Button`],"inline-block"),ws(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=He[t],ys(e,r,`${t}Button`)}const MT=(e,t)=>{const r=Zv();r&&(ws(r,t.closeButtonHtml||""),ys(r,t,"closeButton"),lh(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},FT=(e,t)=>{const r=Ia();r&&(BT(r,t.backdrop),$T(r,t.position),qT(r,t.grow),ys(r,t,"container"))};function BT(e,t){typeof t=="string"?e.style.background=t:t||jr([document.documentElement,document.body],He["no-backdrop"])}function $T(e,t){t&&(t in He?jr(e,He[t]):(Pa('The "position" parameter is not valid, defaulting to "center"'),jr(e,He.center)))}function qT(e,t){t&&jr(e,He[`grow-${t}`])}var Wr={innerParams:new WeakMap,domCache:new WeakMap};const UT=["input","file","range","select","radio","checkbox","textarea"],zT=(e,t)=>{const r=yr();if(!r)return;const n=Wr.innerParams.get(e),a=!n||t.input!==n.input;UT.forEach(o=>{const i=fl(r,He[o]);i&&(WT(o,t.inputAttributes),i.className=He[o],a&&wa(i))}),t.input&&(a&&VT(t),GT(t))},VT=e=>{if(!e.input)return;if(!bn[e.input]){jc(`Unexpected type of input! Expected ${Object.keys(bn).join(" | ")}, got "${e.input}"`);return}const t=AS(e.input);if(!t)return;const r=bn[e.input](t,e);Zn(t),e.inputAutoFocus&&setTimeout(()=>{CS(r)})},HT=e=>{for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},WT=(e,t)=>{const r=yr();if(!r)return;const n=Am(r,e);if(n){HT(n);for(const a in t)n.setAttribute(a,t[a])}},GT=e=>{if(!e.input)return;const t=AS(e.input);t&&ys(t,e,"input")},sw=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},ch=(e,t,r)=>{if(r.inputLabel){const n=document.createElement("label"),a=He["input-label"];n.setAttribute("for",e.id),n.className=a,typeof r.customClass=="object"&&jr(n,r.customClass.inputLabel),n.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",n)}},AS=e=>{const t=yr();if(t)return fl(t,He[e]||He.input)},N0=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:Yv(t)||Pa(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},bn={};bn.text=bn.email=bn.password=bn.number=bn.tel=bn.url=bn.search=bn.date=bn["datetime-local"]=bn.time=bn.week=bn.month=(e,t)=>(N0(e,t.inputValue),ch(e,e,t),sw(e,t),e.type=t.input,e);bn.file=(e,t)=>(ch(e,e,t),sw(e,t),e);bn.range=(e,t)=>{const r=e.querySelector("input"),n=e.querySelector("output");return N0(r,t.inputValue),r.type=t.input,N0(n,t.inputValue),ch(r,e,t),e};bn.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const r=document.createElement("option");ws(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return ch(e,e,t),e};bn.radio=e=>(e.textContent="",e);bn.checkbox=(e,t)=>{const r=Am(yr(),"checkbox");r.value="1",r.checked=!!t.inputValue;const n=e.querySelector("span");return ws(n,t.inputPlaceholder||t.inputLabel),r};bn.textarea=(e,t)=>{N0(e,t.inputValue),sw(e,t),ch(e,e,t);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(yr()).width),a=()=>{if(!document.body.contains(e))return;const o=e.offsetWidth+r(e);o>n?yr().style.width=`${o}px`:ic(yr(),"width",t.width)};new MutationObserver(a).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const JT=(e,t)=>{const r=Xv();r&&(rw(r),ys(r,t,"htmlContainer"),t.html?(aw(t.html,r),Zn(r,"block")):t.text?(r.textContent=t.text,Zn(r,"block")):wa(r),zT(e,t))},KT=(e,t)=>{const r=SS();r&&(rw(r),lh(r,t.footer,"block"),t.footer&&aw(t.footer,r),ys(r,t,"footer"))},YT=(e,t)=>{const r=Wr.innerParams.get(e),n=au();if(!n)return;if(r&&t.icon===r.icon){c5(n,t),l5(n,t);return}if(!t.icon&&!t.iconHtml){wa(n);return}if(t.icon&&Object.keys(j0).indexOf(t.icon)===-1){jc(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),wa(n);return}Zn(n),c5(n,t),l5(n,t),jr(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",PS)},l5=(e,t)=>{for(const[r,n]of Object.entries(j0))t.icon!==r&&qs(e,n);jr(e,t.icon&&j0[t.icon]),ZT(e,t),PS(),ys(e,t,"icon")},PS=()=>{const e=yr();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=t},XT=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,QT=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,c5=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,n="";t.iconHtml?n=d5(t.iconHtml):t.icon==="success"?(n=XT,r=r.replace(/ style=".*?"/g,"")):t.icon==="error"?n=QT:t.icon&&(n=d5({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==n.trim()&&ws(e,n)},ZT=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])i5(e,r,"background-color",t.iconColor);i5(e,".swal2-success-ring","border-color",t.iconColor)}},d5=e=>`<div class="${He["icon-content"]}">${e}</div>`,e9=(e,t)=>{const r=NS();if(r){if(!t.imageUrl){wa(r);return}Zn(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),ic(r,"width",t.imageWidth),ic(r,"height",t.imageHeight),r.className=He.image,ys(r,t,"image")}};let ow=!1,DS=0,LS=0,IS=0,RS=0;const t9=e=>{e.addEventListener("mousedown",S0),document.body.addEventListener("mousemove",C0),e.addEventListener("mouseup",_0),e.addEventListener("touchstart",S0),document.body.addEventListener("touchmove",C0),e.addEventListener("touchend",_0)},r9=e=>{e.removeEventListener("mousedown",S0),document.body.removeEventListener("mousemove",C0),e.removeEventListener("mouseup",_0),e.removeEventListener("touchstart",S0),document.body.removeEventListener("touchmove",C0),e.removeEventListener("touchend",_0)},S0=e=>{const t=yr();if(e.target===t||au().contains(e.target)){ow=!0;const r=TS(e);DS=r.clientX,LS=r.clientY,IS=parseInt(t.style.insetInlineStart)||0,RS=parseInt(t.style.insetBlockStart)||0,jr(t,"swal2-dragging")}},C0=e=>{const t=yr();if(ow){let{clientX:r,clientY:n}=TS(e);t.style.insetInlineStart=`${IS+(r-DS)}px`,t.style.insetBlockStart=`${RS+(n-LS)}px`}},_0=()=>{const e=yr();ow=!1,qs(e,"swal2-dragging")},TS=e=>{let t=0,r=0;return e.type.startsWith("mouse")?(t=e.clientX,r=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,r=e.touches[0].clientY),{clientX:t,clientY:r}},n9=(e,t)=>{const r=Ia(),n=yr();if(!(!r||!n)){if(t.toast){ic(r,"width",t.width),n.style.width="100%";const a=ou();a&&n.insertBefore(a,au())}else ic(n,"width",t.width);ic(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),wa(Cm()),a9(n,t),t.draggable&&!t.toast?(jr(n,He.draggable),t9(n)):(qs(n,He.draggable),r9(n))}},a9=(e,t)=>{const r=t.showClass||{};e.className=`${He.popup} ${Ja(e)?r.popup:""}`,t.toast?(jr([document.documentElement,document.body],He["toast-shown"]),jr(e,He.toast)):jr(e,He.modal),ys(e,t,"popup"),typeof t.customClass=="string"&&jr(e,t.customClass),t.icon&&jr(e,He[`icon-${t.icon}`])},s9=(e,t)=>{const r=Qv();if(!r)return;const{progressSteps:n,currentProgressStep:a}=t;if(!n||n.length===0||a===void 0){wa(r);return}Zn(r),r.textContent="",a>=n.length&&Pa("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,i)=>{const l=o9(o);if(r.appendChild(l),i===a&&jr(l,He["active-progress-step"]),i!==n.length-1){const c=i9(t);r.appendChild(c)}})},o9=e=>{const t=document.createElement("li");return jr(t,He["progress-step"]),ws(t,e),t},i9=e=>{const t=document.createElement("li");return jr(t,He["progress-step-line"]),e.progressStepsDistance&&ic(t,"width",e.progressStepsDistance),t},l9=(e,t)=>{const r=jS();r&&(rw(r),lh(r,t.title||t.titleText,"block"),t.title&&aw(t.title,r),t.titleText&&(r.innerText=t.titleText),ys(r,t,"title"))},OS=(e,t)=>{n9(e,t),FT(e,t),s9(e,t),YT(e,t),e9(e,t),l9(e,t),MT(e,t),JT(e,t),RT(e,t),KT(e,t);const r=yr();typeof t.didRender=="function"&&r&&t.didRender(r),Lt.eventEmitter.emit("didRender",r)},c9=()=>Ja(yr()),MS=()=>{var e;return(e=Ho())===null||e===void 0?void 0:e.click()},d9=()=>{var e;return(e=Nc())===null||e===void 0?void 0:e.click()},u9=()=>{var e;return(e=su())===null||e===void 0?void 0:e.click()},iu=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),FS=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},f9=(e,t,r)=>{FS(e),t.toast||(e.keydownHandler=n=>p9(t,n,r),e.keydownTarget=t.keydownListenerCapture?window:yr(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Kx=(e,t)=>{var r;const n=ew();if(n.length){e=e+t,e===-2&&(e=n.length-1),e===n.length?e=0:e===-1&&(e=n.length-1),n[e].focus();return}(r=yr())===null||r===void 0||r.focus()},BS=["ArrowRight","ArrowDown"],h9=["ArrowLeft","ArrowUp"],p9=(e,t,r)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?m9(t,e):t.key==="Tab"?g9(t):[...BS,...h9].includes(t.key)?y9(t.key):t.key==="Escape"&&x9(t,e,r)))},m9=(e,t)=>{if(!Sm(t.allowEnterKey))return;const r=Am(yr(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;MS(),e.preventDefault()}},g9=e=>{const t=e.target,r=ew();let n=-1;for(let a=0;a<r.length;a++)if(t===r[a]){n=a;break}e.shiftKey?Kx(n,-1):Kx(n,1),e.stopPropagation(),e.preventDefault()},y9=e=>{const t=ih(),r=Ho(),n=Nc(),a=su();if(!t||!r||!n||!a)return;const o=[r,n,a];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const i=BS.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<t.children.length;c++){if(l=l[i],!l)return;if(l instanceof HTMLButtonElement&&Ja(l))break}l instanceof HTMLButtonElement&&l.focus()}},x9=(e,t,r)=>{Sm(t.allowEscapeKey)&&(e.preventDefault(),r(iu.esc))};var Bd={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const b9=()=>{const e=Ia();Array.from(document.body.children).forEach(r=>{r.contains(e)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},$S=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},qS=typeof window<"u"&&!!window.GestureEvent,v9=()=>{if(qS&&!yi(document.body,He.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,jr(document.body,He.iosfix),w9()}},w9=()=>{const e=Ia();if(!e)return;let t;e.ontouchstart=r=>{t=k9(r)},e.ontouchmove=r=>{t&&(r.preventDefault(),r.stopPropagation())}},k9=e=>{const t=e.target,r=Ia(),n=Xv();return!r||!n||j9(e)||N9(e)?!1:t===r||!Jx(r)&&t instanceof HTMLElement&&!kT(t,n)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Jx(n)&&n.contains(t))},j9=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",N9=e=>e.touches&&e.touches.length>1,S9=()=>{if(yi(document.body,He.iosfix)){const e=parseInt(document.body.style.top,10);qs(document.body,He.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},C9=()=>{const e=document.createElement("div");e.className=He["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let jd=null;const _9=e=>{jd===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(jd=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${jd+C9()}px`)},E9=()=>{jd!==null&&(document.body.style.paddingRight=`${jd}px`,jd=null)};function US(e,t,r,n){Em()?u5(e,n):(fT(r).then(()=>u5(e,n)),FS(Lt)),qS?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),tw()&&(E9(),S9(),$S()),A9()}function A9(){qs([document.documentElement,document.body],[He.shown,He["height-auto"],He["no-backdrop"],He["toast-shown"]])}function hl(e){e=D9(e);const t=Bd.swalPromiseResolve.get(this),r=P9(this);this.isAwaitingPromise?e.isDismissed||(dh(this),t(e)):r&&t(e)}const P9=e=>{const t=yr();if(!t)return!1;const r=Wr.innerParams.get(e);if(!r||yi(t,r.hideClass.popup))return!1;qs(t,r.showClass.popup),jr(t,r.hideClass.popup);const n=Ia();return qs(n,r.showClass.backdrop),jr(n,r.hideClass.backdrop),L9(e,t,r),!0};function zS(e){const t=Bd.swalPromiseReject.get(this);dh(this),t&&t(e)}const dh=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Wr.innerParams.get(e)||e._destroy())},D9=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),L9=(e,t,r)=>{var n;const a=Ia(),o=ES(t);typeof r.willClose=="function"&&r.willClose(t),(n=Lt.eventEmitter)===null||n===void 0||n.emit("willClose",t),o?I9(e,t,a,r.returnFocus,r.didClose):US(e,a,r.returnFocus,r.didClose)},I9=(e,t,r,n,a)=>{Lt.swalCloseEventFinishedCallback=US.bind(null,e,r,n,a);const o=function(i){if(i.target===t){var l;(l=Lt.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Lt),delete Lt.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o)}};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},u5=(e,t)=>{setTimeout(()=>{var r;typeof t=="function"&&t.bind(e.params)(),(r=Lt.eventEmitter)===null||r===void 0||r.emit("didClose"),e._destroy&&e._destroy()})},$d=e=>{let t=yr();if(t||new Ea,t=yr(),!t)return;const r=ou();Em()?wa(au()):R9(t,e),Zn(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},R9=(e,t)=>{const r=ih(),n=ou();!r||!n||(!t&&Ja(Ho())&&(t=Ho()),Zn(r),t&&(wa(t),n.setAttribute("data-button-to-replace",t.className),r.insertBefore(n,t)),jr([e,r],He.loading))},T9=(e,t)=>{t.input==="select"||t.input==="radio"?$9(e,t):["text","email","number","tel","textarea"].some(r=>r===t.input)&&(Kv(t.inputValue)||Yv(t.inputValue))&&($d(Ho()),q9(e,t))},O9=(e,t)=>{const r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return M9(r);case"radio":return F9(r);case"file":return B9(r);default:return t.inputAutoTrim?r.value.trim():r.value}},M9=e=>e.checked?1:0,F9=e=>e.checked?e.value:null,B9=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,$9=(e,t)=>{const r=yr();if(!r)return;const n=a=>{t.input==="select"?U9(r,E0(a),t):t.input==="radio"&&z9(r,E0(a),t)};Kv(t.inputOptions)||Yv(t.inputOptions)?($d(Ho()),sh(t.inputOptions).then(a=>{e.hideLoading(),n(a)})):typeof t.inputOptions=="object"?n(t.inputOptions):jc(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},q9=(e,t)=>{const r=e.getInput();r&&(wa(r),sh(t.inputValue).then(n=>{r.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,Zn(r),r.focus(),e.hideLoading()}).catch(n=>{jc(`Error in inputValue promise: ${n}`),r.value="",Zn(r),r.focus(),e.hideLoading()}))};function U9(e,t,r){const n=fl(e,He.select);if(!n)return;const a=(o,i,l)=>{const c=document.createElement("option");c.value=l,ws(c,i),c.selected=VS(l,r.inputValue),o.appendChild(c)};t.forEach(o=>{const i=o[0],l=o[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=i,c.disabled=!1,n.appendChild(c),l.forEach(d=>a(c,d[1],d[0]))}else a(n,l,i)}),n.focus()}function z9(e,t,r){const n=fl(e,He.radio);if(!n)return;t.forEach(o=>{const i=o[0],l=o[1],c=document.createElement("input"),d=document.createElement("label");c.type="radio",c.name=He.radio,c.value=i,VS(i,r.inputValue)&&(c.checked=!0);const u=document.createElement("span");ws(u,l),u.className=He.label,d.appendChild(c),d.appendChild(u),n.appendChild(d)});const a=n.querySelectorAll("input");a.length&&a[0].focus()}const E0=e=>{const t=[];return e instanceof Map?e.forEach((r,n)=>{let a=r;typeof a=="object"&&(a=E0(a)),t.push([n,a])}):Object.keys(e).forEach(r=>{let n=e[r];typeof n=="object"&&(n=E0(n)),t.push([r,n])}),t},VS=(e,t)=>!!t&&t.toString()===e.toString(),V9=e=>{const t=Wr.innerParams.get(e);e.disableButtons(),t.input?HS(e,"confirm"):lw(e,!0)},H9=e=>{const t=Wr.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?HS(e,"deny"):iw(e,!1)},W9=(e,t)=>{e.disableButtons(),t(iu.cancel)},HS=(e,t)=>{const r=Wr.innerParams.get(e);if(!r.input){jc(`The "input" parameter is needed to be set when using returnInputValueOn${Jv(t)}`);return}const n=e.getInput(),a=O9(e,r);r.inputValidator?G9(e,a,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||n.validationMessage)):t==="deny"?iw(e,a):lw(e,a)},G9=(e,t,r)=>{const n=Wr.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>sh(n.inputValidator(t,n.validationMessage))).then(o=>{e.enableButtons(),e.enableInput(),o?e.showValidationMessage(o):r==="deny"?iw(e,t):lw(e,t)})},iw=(e,t)=>{const r=Wr.innerParams.get(e||void 0);r.showLoaderOnDeny&&$d(Nc()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>sh(r.preDeny(t,r.validationMessage))).then(a=>{a===!1?(e.hideLoading(),dh(e)):e.close({isDenied:!0,value:typeof a>"u"?t:a})}).catch(a=>WS(e||void 0,a))):e.close({isDenied:!0,value:t})},f5=(e,t)=>{e.close({isConfirmed:!0,value:t})},WS=(e,t)=>{e.rejectPromise(t)},lw=(e,t)=>{const r=Wr.innerParams.get(e||void 0);r.showLoaderOnConfirm&&$d(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>sh(r.preConfirm(t,r.validationMessage))).then(a=>{Ja(Cm())||a===!1?(e.hideLoading(),dh(e)):f5(e,typeof a>"u"?t:a)}).catch(a=>WS(e||void 0,a))):f5(e,t)};function A0(){const e=Wr.innerParams.get(this);if(!e)return;const t=Wr.domCache.get(this);wa(t.loader),Em()?e.icon&&Zn(au()):J9(t),qs([t.popup,t.actions],He.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const J9=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?Zn(t[0],"inline-block"):wT()&&wa(e.actions)};function GS(){const e=Wr.innerParams.get(this),t=Wr.domCache.get(this);return t?Am(t.popup,e.input):null}function JS(e,t,r){const n=Wr.domCache.get(e);t.forEach(a=>{n[a].disabled=r})}function KS(e,t){const r=yr();if(!(!r||!e))if(e.type==="radio"){const n=r.querySelectorAll(`[name="${He.radio}"]`);for(let a=0;a<n.length;a++)n[a].disabled=t}else e.disabled=t}function YS(){JS(this,["confirmButton","denyButton","cancelButton"],!1)}function XS(){JS(this,["confirmButton","denyButton","cancelButton"],!0)}function QS(){KS(this.getInput(),!1)}function ZS(){KS(this.getInput(),!0)}function e3(e){const t=Wr.domCache.get(this),r=Wr.innerParams.get(this);ws(t.validationMessage,e),t.validationMessage.className=He["validation-message"],r.customClass&&r.customClass.validationMessage&&jr(t.validationMessage,r.customClass.validationMessage),Zn(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",He["validation-message"]),CS(n),jr(n,He.inputerror))}function t3(){const e=Wr.domCache.get(this);e.validationMessage&&wa(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),qs(t,He.inputerror))}const Nd={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},K9=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Y9={allowEnterKey:void 0},X9=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],r3=e=>Object.prototype.hasOwnProperty.call(Nd,e),n3=e=>K9.indexOf(e)!==-1,a3=e=>Y9[e],Q9=e=>{r3(e)||Pa(`Unknown parameter "${e}"`)},Z9=e=>{X9.includes(e)&&Pa(`The parameter "${e}" is incompatible with toasts`)},eO=e=>{const t=a3(e);t&&kS(e,t)},s3=e=>{e.backdrop===!1&&e.allowOutsideClick&&Pa('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&Pa(`Invalid theme "${e.theme}"`);for(const t in e)Q9(t),e.toast&&Z9(t),eO(t)};function o3(e){const t=Ia(),r=yr(),n=Wr.innerParams.get(this);if(!r||yi(r,n.hideClass.popup)){Pa("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=tO(e),o=Object.assign({},n,a);s3(o),t.dataset.swal2Theme=o.theme,OS(this,o),Wr.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const tO=e=>{const t={};return Object.keys(e).forEach(r=>{n3(r)?t[r]=e[r]:Pa(`Invalid parameter to update: ${r}`)}),t};function i3(){const e=Wr.domCache.get(this),t=Wr.innerParams.get(this);if(!t){l3(this);return}e.popup&&Lt.swalCloseEventFinishedCallback&&(Lt.swalCloseEventFinishedCallback(),delete Lt.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Lt.eventEmitter.emit("didDestroy"),rO(this)}const rO=e=>{l3(e),delete e.params,delete Lt.keydownHandler,delete Lt.keydownTarget,delete Lt.currentInstance},l3=e=>{e.isAwaitingPromise?(dy(Wr,e),e.isAwaitingPromise=!0):(dy(Bd,e),dy(Wr,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},dy=(e,t)=>{for(const r in e)e[r].delete(t)};var nO=Object.freeze({__proto__:null,_destroy:i3,close:hl,closeModal:hl,closePopup:hl,closeToast:hl,disableButtons:XS,disableInput:ZS,disableLoading:A0,enableButtons:YS,enableInput:QS,getInput:GS,handleAwaitingPromise:dh,hideLoading:A0,rejectPromise:zS,resetValidationMessage:t3,showValidationMessage:e3,update:o3});const aO=(e,t,r)=>{e.toast?sO(e,t,r):(iO(t),lO(t),cO(e,t,r))},sO=(e,t,r)=>{t.popup.onclick=()=>{e&&(oO(e)||e.timer||e.input)||r(iu.close)}},oO=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let P0=!1;const iO=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(P0=!0)}}},lO=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(r){e.popup.onmouseup=()=>{},(r.target===e.popup||r.target instanceof HTMLElement&&e.popup.contains(r.target))&&(P0=!0)}}},cO=(e,t,r)=>{t.container.onclick=n=>{if(P0){P0=!1;return}n.target===t.container&&Sm(e.allowOutsideClick)&&r(iu.backdrop)}},dO=e=>typeof e=="object"&&e.jquery,h5=e=>e instanceof Element||dO(e),uO=e=>{const t={};return typeof e[0]=="object"&&!h5(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((r,n)=>{const a=e[n];typeof a=="string"||h5(a)?t[r]=a:a!==void 0&&jc(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof a}`)}),t};function fO(...e){return new this(...e)}function hO(e){class t extends this{_main(n,a){return super._main(n,Object.assign({},e,a))}}return t}const pO=()=>Lt.timeout&&Lt.timeout.getTimerLeft(),c3=()=>{if(Lt.timeout)return jT(),Lt.timeout.stop()},d3=()=>{if(Lt.timeout){const e=Lt.timeout.start();return nw(e),e}},mO=()=>{const e=Lt.timeout;return e&&(e.running?c3():d3())},gO=e=>{if(Lt.timeout){const t=Lt.timeout.increase(e);return nw(t,!0),t}},yO=()=>!!(Lt.timeout&&Lt.timeout.isRunning());let p5=!1;const Yx={};function xO(e="data-swal-template"){Yx[e]=this,p5||(document.body.addEventListener("click",bO),p5=!0)}const bO=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const r in Yx){const n=t.getAttribute(r);if(n){Yx[r].fire({template:n});return}}};class vO{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,r){const n=this._getHandlersByEventName(t);n.includes(r)||n.push(r)}once(t,r){const n=(...a)=>{this.removeListener(t,n),r.apply(this,a)};this.on(t,n)}emit(t,...r){this._getHandlersByEventName(t).forEach(n=>{try{n.apply(this,r)}catch(a){console.error(a)}})}removeListener(t,r){const n=this._getHandlersByEventName(t),a=n.indexOf(r);a>-1&&n.splice(a,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}Lt.eventEmitter=new vO;const wO=(e,t)=>{Lt.eventEmitter.on(e,t)},kO=(e,t)=>{Lt.eventEmitter.once(e,t)},jO=(e,t)=>{if(!e){Lt.eventEmitter.reset();return}t?Lt.eventEmitter.removeListener(e,t):Lt.eventEmitter.removeAllListeners(e)};var NO=Object.freeze({__proto__:null,argsToParams:uO,bindClickHandler:xO,clickCancel:u9,clickConfirm:MS,clickDeny:d9,enableLoading:$d,fire:fO,getActions:ih,getCancelButton:su,getCloseButton:Zv,getConfirmButton:Ho,getContainer:Ia,getDenyButton:Nc,getFocusableElements:ew,getFooter:SS,getHtmlContainer:Xv,getIcon:au,getIconContent:gT,getImage:NS,getInputLabel:yT,getLoader:ou,getPopup:yr,getProgressSteps:Qv,getTimerLeft:pO,getTimerProgressBar:_m,getTitle:jS,getValidationMessage:Cm,increaseTimer:gO,isDeprecatedParameter:a3,isLoading:bT,isTimerRunning:yO,isUpdatableParameter:n3,isValidParameter:r3,isVisible:c9,mixin:hO,off:jO,on:wO,once:kO,resumeTimer:d3,showLoading:$d,stopTimer:c3,toggleTimer:mO});class SO{constructor(t,r){this.callback=t,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const r=this.running;return r&&this.stop(),this.remaining+=t,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const u3=["swal-title","swal-html","swal-footer"],CO=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const r=t.content;return RO(r),Object.assign(_O(r),EO(r),AO(r),PO(r),DO(r),LO(r),IO(r,u3))},_O=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(n=>{mc(n,["name","value"]);const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(typeof Nd[a]=="boolean"?t[a]=o!=="false":typeof Nd[a]=="object"?t[a]=JSON.parse(o):t[a]=o)}),t},EO=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(n=>{const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(t[a]=new Function(`return ${o}`)())}),t},AO=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(n=>{mc(n,["type","color","aria-label"]);const a=n.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(t[`${a}ButtonText`]=n.innerHTML,t[`show${Jv(a)}Button`]=!0,n.hasAttribute("color")&&(t[`${a}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${a}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},PO=e=>{const t={},r=e.querySelector("swal-image");return r&&(mc(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},DO=e=>{const t={},r=e.querySelector("swal-icon");return r&&(mc(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},LO=e=>{const t={},r=e.querySelector("swal-input");r&&(mc(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(a=>{mc(a,["value"]);const o=a.getAttribute("value");if(!o)return;const i=a.innerHTML;t.inputOptions[o]=i})),t},IO=(e,t)=>{const r={};for(const n in t){const a=t[n],o=e.querySelector(a);o&&(mc(o,[]),r[a.replace(/^swal-/,"")]=o.innerHTML.trim())}return r},RO=e=>{const t=u3.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(r=>{const n=r.tagName.toLowerCase();t.includes(n)||Pa(`Unrecognized element <${n}>`)})},mc=(e,t)=>{Array.from(e.attributes).forEach(r=>{t.indexOf(r.name)===-1&&Pa([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},f3=10,TO=e=>{const t=Ia(),r=yr();typeof e.willOpen=="function"&&e.willOpen(r),Lt.eventEmitter.emit("willOpen",r);const a=window.getComputedStyle(document.body).overflowY;FO(t,r,e),setTimeout(()=>{OO(t,r)},f3),tw()&&(MO(t,e.scrollbarPadding,a),b9()),!Em()&&!Lt.previousActiveElement&&(Lt.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(r)),Lt.eventEmitter.emit("didOpen",r),qs(t,He["no-transition"])},D0=e=>{const t=yr();if(e.target!==t)return;const r=Ia();t.removeEventListener("animationend",D0),t.removeEventListener("transitionend",D0),r.style.overflowY="auto"},OO=(e,t)=>{ES(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",D0),t.addEventListener("transitionend",D0)):e.style.overflowY="auto"},MO=(e,t,r)=>{v9(),t&&r!=="hidden"&&_9(r),setTimeout(()=>{e.scrollTop=0})},FO=(e,t,r)=>{jr(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),Zn(t,"grid"),setTimeout(()=>{jr(t,r.showClass.popup),t.style.removeProperty("opacity")},f3)):Zn(t,"grid"),jr([document.documentElement,document.body],He.shown),r.heightAuto&&r.backdrop&&!r.toast&&jr([document.documentElement,document.body],He["height-auto"])};var m5={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function BO(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=m5.email),e.input==="url"&&(e.inputValidator=m5.url))}function $O(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Pa('Target parameter is not valid, defaulting to "body"'),e.target="body")}function qO(e){BO(e),e.showLoaderOnConfirm&&!e.preConfirm&&Pa(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),$O(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),DT(e)}let To;var op=new WeakMap;class Nn{constructor(...t){if(lT(this,op,void 0),typeof window>"u")return;To=this;const r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,cT(op,this,this._main(To.params))}_main(t,r={}){if(s3(Object.assign({},r,t)),Lt.currentInstance){const o=Bd.swalPromiseResolve.get(Lt.currentInstance),{isAwaitingPromise:i}=Lt.currentInstance;Lt.currentInstance._destroy(),i||o({isDismissed:!0}),tw()&&$S()}Lt.currentInstance=To;const n=zO(t,r);qO(n),Object.freeze(n),Lt.timeout&&(Lt.timeout.stop(),delete Lt.timeout),clearTimeout(Lt.restoreFocusTimeout);const a=VO(To);return OS(To,n),Wr.innerParams.set(To,n),UO(To,a,n)}then(t){return s5(op,this).then(t)}finally(t){return s5(op,this).finally(t)}}const UO=(e,t,r)=>new Promise((n,a)=>{const o=i=>{e.close({isDismissed:!0,dismiss:i})};Bd.swalPromiseResolve.set(e,n),Bd.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>{V9(e)},t.denyButton.onclick=()=>{H9(e)},t.cancelButton.onclick=()=>{W9(e,o)},t.closeButton.onclick=()=>{o(iu.close)},aO(r,t,o),f9(Lt,r,o),T9(e,r),TO(r),HO(Lt,r,o),WO(t,r),setTimeout(()=>{t.container.scrollTop=0})}),zO=(e,t)=>{const r=CO(e),n=Object.assign({},Nd,t,r,e);return n.showClass=Object.assign({},Nd.showClass,n.showClass),n.hideClass=Object.assign({},Nd.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},VO=e=>{const t={popup:yr(),container:Ia(),actions:ih(),confirmButton:Ho(),denyButton:Nc(),cancelButton:su(),loader:ou(),closeButton:Zv(),validationMessage:Cm(),progressSteps:Qv()};return Wr.domCache.set(e,t),t},HO=(e,t,r)=>{const n=_m();wa(n),t.timer&&(e.timeout=new SO(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(Zn(n),ys(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&nw(t.timer)})))},WO=(e,t)=>{if(!t.toast){if(!Sm(t.allowEnterKey)){kS("allowEnterKey"),KO();return}GO(e)||JO(e,t)||Kx(-1,1)}},GO=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const r of t)if(r instanceof HTMLElement&&Ja(r))return r.focus(),!0;return!1},JO=(e,t)=>t.focusDeny&&Ja(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&Ja(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&Ja(e.confirmButton)?(e.confirmButton.focus(),!0):!1,KO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const r=document.createElement("audio");r.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",r.loop=!0,document.body.appendChild(r),setTimeout(()=>{r.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}Nn.prototype.disableButtons=XS;Nn.prototype.enableButtons=YS;Nn.prototype.getInput=GS;Nn.prototype.disableInput=ZS;Nn.prototype.enableInput=QS;Nn.prototype.hideLoading=A0;Nn.prototype.disableLoading=A0;Nn.prototype.showValidationMessage=e3;Nn.prototype.resetValidationMessage=t3;Nn.prototype.close=hl;Nn.prototype.closePopup=hl;Nn.prototype.closeModal=hl;Nn.prototype.closeToast=hl;Nn.prototype.rejectPromise=zS;Nn.prototype.update=o3;Nn.prototype._destroy=i3;Object.assign(Nn,NO);Object.keys(nO).forEach(e=>{Nn[e]=function(...t){return To&&To[e]?To[e](...t):null}});Nn.DismissReason=iu;Nn.version="11.22.0";const Ea=Nn;Ea.default=Ea;typeof document<"u"&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch{r.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');async function YO(){try{const{data:e,error:t}=await De.from("financial_categories").select("*").order("order",{ascending:!0});if(t)throw t;return h3(e)}catch(e){return console.error("Erro ao listar categorias financeiras (recursivo):",e),[]}}function h3(e,t=null){return e.filter(r=>r.parent_id===t).sort((r,n)=>r.order-n.order).map(r=>({...r,subcategories:h3(e,r.id)}))}async function XO(e){try{const{data:t}=await De.from("financial_categories").select("order").eq("type",e.type).is("parent_id",null).order("order",{ascending:!1}).limit(1).single(),r=t?t.order+1:0,{data:n,error:a}=await De.from("financial_categories").insert([{name:e.name,type:e.type,dre_group:e.dreGroup,parent_id:e.parentId,order:r,active:e.active,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw a;return n}catch(t){return console.error("Erro ao criar categoria financeira:",t),null}}async function QO(e,t){try{const{data:r,error:n}=await De.from("financial_categories").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar categoria financeira:",r),null}}async function ZO(e){try{const{error:t}=await De.from("financial_categories").delete().eq("id",e);if(t)throw t;return!0}catch(t){return console.error("Erro ao excluir categoria financeira:",t),!1}}async function eM(e,t){try{const{data:r,error:n}=await De.from("financial_categories").update({active:t,updatedAt:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da categoria financeira:",r),null}}async function tM(e){try{const{data:t,error:r}=await De.from("financial_categories").select("*").in("id",e);if(r)throw r;const n=e.map((o,i)=>{const l=t==null?void 0:t.find(c=>c.id===o);if(!l)throw new Error(`Category ${o} not found`);return{id:o,name:l.name,type:l.type,dre_group:l.dre_group,parent_id:l.parent_id,active:l.active,order:i,updatedAt:new Date().toISOString()}}),{error:a}=await De.from("financial_categories").upsert(n);if(a)throw a;return!0}catch(t){return console.error("Erro ao reordenar categorias:",t),!1}}function rM({isOpen:e,onClose:t,category:r,parentCategory:n,onSuccess:a}){const[o,i]=L.useState({name:"",type:"REVENUE",dre_group:"",parent_id:null,active:!0}),[l,c]=L.useState(!1),[d,u]=L.useState("");L.useEffect(()=>{i(r?{name:r.name,type:r.type,dre_group:r.dre_group||"",parent_id:r.parent_id||null,active:r.active}:n?{name:"",type:n.type,dre_group:n.dre_group||"",parent_id:n.id,active:!0}:{name:"",type:"REVENUE",dre_group:"",parent_id:null,active:!0})},[r,n]);const f=async p=>{p.preventDefault(),c(!0),u("");try{if(r){if(!await QO(r.id,o))throw new Error("Erro ao atualizar categoria");Ea.fire({icon:"success",title:"Categoria atualizada com sucesso!",timer:2e3,showConfirmButton:!1})}else{if(!await XO(o))throw new Error("Erro ao criar categoria");Ea.fire({icon:"success",title:"Categoria criada com sucesso!",timer:2e3,showConfirmButton:!1})}a(),t()}catch(w){console.error("Erro ao salvar categoria:",w),u("Erro ao salvar categoria. Por favor, tente novamente."),Ea.fire({icon:"error",title:"Erro",text:"No foi possvel salvar a categoria. Tente novamente."})}finally{c(!1)}},b=()=>XI[o.type]||[];return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Categoria":n?"Nova Subcategoria":"Nova Categoria"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:f,className:"p-4 sm:p-6",children:[d&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:d}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Categoria"}),s.jsx("input",{type:"text",value:o.name,onChange:p=>i(w=>({...w,name:p.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),!n&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo da Categoria"}),s.jsxs("select",{value:o.type,onChange:p=>i(w=>({...w,type:p.target.value,dre_group:""})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"REVENUE",children:"Receita"}),s.jsx("option",{value:"EXPENSE",children:"Despesa"}),s.jsx("option",{value:"BOTH",children:"Ambos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Grupo no DRE"}),s.jsxs("select",{value:o.dre_group,onChange:p=>i(w=>({...w,dre_group:p.target.value})),disabled:l||o.type==="BOTH",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um grupo"}),b().map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:o.active,onChange:p=>i(w=>({...w,active:p.target.checked})),disabled:l,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Categoria ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:l?"Salvando...":r?"Salvar Alteraes":"Criar Categoria"})]})]})]})}):null}function nM(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState(null),[c,d]=L.useState(null),[u,f]=L.useState([]),[b,p]=L.useState(!0),[w,g]=L.useState(null);L.useEffect(()=>{A()},[]);const A=async()=>{try{const S=await YO();f(S)}catch(S){g("Erro ao carregar categorias"),console.error(S)}finally{p(!1)}},v=()=>{l(null),d(null),t(!0)},j=S=>{l(S),d(null),t(!0)},R=S=>{l(null),d(S),t(!0)},H=S=>{l(S),n(!0)},U=async()=>{if(i)try{await ZO(i.id),f(u.filter(S=>S.id!==i.id)),n(!1)}catch(S){g("Erro ao excluir categoria"),console.error(S)}},F=async S=>{try{await eM(S.id,!S.active)&&f(y=>y.map(k=>{var P;return k.id===S.id?{...k,active:!k.active}:(P=k.subcategories)!=null&&P.some(E=>E.id===S.id)?{...k,subcategories:k.subcategories.map(E=>E.id===S.id?{...E,active:!E.active}:E)}:k}))}catch(C){g("Erro ao alterar status da categoria"),console.error(C)}},x=async(S,C,y)=>{const k=u.filter(q=>q.type===y&&!q.parentId),P=Array.from(k),[E]=P.splice(S,1);P.splice(C,0,E),f(q=>[...q.filter(G=>G.type!==y||G.parentId),...P]);try{await tM(P.map(q=>q.id))}catch(q){g("Erro ao reordenar categorias"),console.error(q),A()}},I=u.filter(S=>{var y;const C=a.toLowerCase();return S.name.toLowerCase().includes(C)||S.type.toLowerCase().includes(C)||((y=S.subcategories)==null?void 0:y.some(k=>k.name.toLowerCase().includes(C)||k.type.toLowerCase().includes(C)))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>g(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Categorias Financeiras"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as categorias de receitas e despesas do sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Categoria"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou tipo...",value:a,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),b?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(oT,{categories:I,onEdit:j,onDelete:H,onToggleStatus:F,onCreateSubcategory:R,onReorder:x})]}),s.jsx(rM,{isOpen:e,onClose:()=>t(!1),category:i,parentCategory:c,onSuccess:()=>{t(!1),A()}}),s.jsx(Ai,{isOpen:r,onClose:()=>n(!1),title:"Excluir Categoria",description:`Tem certeza que deseja excluir a categoria "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:U})]})}function p3(e,t){return function(){return e.apply(t,arguments)}}const{toString:aM}=Object.prototype,{getPrototypeOf:cw}=Object,{iterator:Pm,toStringTag:m3}=Symbol,Dm=(e=>t=>{const r=aM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),mo=e=>(e=e.toLowerCase(),t=>Dm(t)===e),Lm=e=>t=>typeof t===e,{isArray:lu}=Array,qf=Lm("undefined");function sM(e){return e!==null&&!qf(e)&&e.constructor!==null&&!qf(e.constructor)&&Ka(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g3=mo("ArrayBuffer");function oM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&g3(e.buffer),t}const iM=Lm("string"),Ka=Lm("function"),y3=Lm("number"),Im=e=>e!==null&&typeof e=="object",lM=e=>e===!0||e===!1,Ip=e=>{if(Dm(e)!=="object")return!1;const t=cw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(m3 in e)&&!(Pm in e)},cM=mo("Date"),dM=mo("File"),uM=mo("Blob"),fM=mo("FileList"),hM=e=>Im(e)&&Ka(e.pipe),pM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ka(e.append)&&((t=Dm(e))==="formdata"||t==="object"&&Ka(e.toString)&&e.toString()==="[object FormData]"))},mM=mo("URLSearchParams"),[gM,yM,xM,bM]=["ReadableStream","Request","Response","Headers"].map(mo),vM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uh(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),lu(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(n=0;n<i;n++)l=o[n],t.call(null,e[l],l,e)}}function x3(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ac=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,b3=e=>!qf(e)&&e!==ac;function Xx(){const{caseless:e}=b3(this)&&this||{},t={},r=(n,a)=>{const o=e&&x3(t,a)||a;Ip(t[o])&&Ip(n)?t[o]=Xx(t[o],n):Ip(n)?t[o]=Xx({},n):lu(n)?t[o]=n.slice():t[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&uh(arguments[n],r);return t}const wM=(e,t,r,{allOwnKeys:n}={})=>(uh(t,(a,o)=>{r&&Ka(a)?e[o]=p3(a,r):e[o]=a},{allOwnKeys:n}),e),kM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jM=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},NM=(e,t,r,n)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&cw(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},SM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},CM=e=>{if(!e)return null;if(lu(e))return e;let t=e.length;if(!y3(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_M=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&cw(Uint8Array)),EM=(e,t)=>{const n=(e&&e[Pm]).call(e);let a;for(;(a=n.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},AM=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},PM=mo("HTMLFormElement"),DM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),g5=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),LM=mo("RegExp"),v3=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};uh(r,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(n[o]=i||a)}),Object.defineProperties(e,n)},IM=e=>{v3(e,(t,r)=>{if(Ka(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ka(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},RM=(e,t)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return lu(e)?n(e):n(String(e).split(t)),r},TM=()=>{},OM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function MM(e){return!!(e&&Ka(e.append)&&e[m3]==="FormData"&&e[Pm])}const FM=e=>{const t=new Array(10),r=(n,a)=>{if(Im(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const o=lu(n)?[]:{};return uh(n,(i,l)=>{const c=r(i,a+1);!qf(c)&&(o[l]=c)}),t[a]=void 0,o}}return n};return r(e,0)},BM=mo("AsyncFunction"),$M=e=>e&&(Im(e)||Ka(e))&&Ka(e.then)&&Ka(e.catch),w3=((e,t)=>e?setImmediate:t?((r,n)=>(ac.addEventListener("message",({source:a,data:o})=>{a===ac&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ac.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ka(ac.postMessage)),qM=typeof queueMicrotask<"u"?queueMicrotask.bind(ac):typeof process<"u"&&process.nextTick||w3,UM=e=>e!=null&&Ka(e[Pm]),ze={isArray:lu,isArrayBuffer:g3,isBuffer:sM,isFormData:pM,isArrayBufferView:oM,isString:iM,isNumber:y3,isBoolean:lM,isObject:Im,isPlainObject:Ip,isReadableStream:gM,isRequest:yM,isResponse:xM,isHeaders:bM,isUndefined:qf,isDate:cM,isFile:dM,isBlob:uM,isRegExp:LM,isFunction:Ka,isStream:hM,isURLSearchParams:mM,isTypedArray:_M,isFileList:fM,forEach:uh,merge:Xx,extend:wM,trim:vM,stripBOM:kM,inherits:jM,toFlatObject:NM,kindOf:Dm,kindOfTest:mo,endsWith:SM,toArray:CM,forEachEntry:EM,matchAll:AM,isHTMLForm:PM,hasOwnProperty:g5,hasOwnProp:g5,reduceDescriptors:v3,freezeMethods:IM,toObjectSet:RM,toCamelCase:DM,noop:TM,toFiniteNumber:OM,findKey:x3,global:ac,isContextDefined:b3,isSpecCompliantForm:MM,toJSONObject:FM,isAsyncFn:BM,isThenable:$M,setImmediate:w3,asap:qM,isIterable:UM};function Qt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ze.inherits(Qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const k3=Qt.prototype,j3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{j3[e]={value:e}});Object.defineProperties(Qt,j3);Object.defineProperty(k3,"isAxiosError",{value:!0});Qt.from=(e,t,r,n,a,o)=>{const i=Object.create(k3);return ze.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Qt.call(i,e.message,t,r,n,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const zM=null;function Qx(e){return ze.isPlainObject(e)||ze.isArray(e)}function N3(e){return ze.endsWith(e,"[]")?e.slice(0,-2):e}function y5(e,t,r){return e?e.concat(t).map(function(a,o){return a=N3(a),!r&&o?"["+a+"]":a}).join(r?".":""):t}function VM(e){return ze.isArray(e)&&!e.some(Qx)}const HM=ze.toFlatObject(ze,{},null,function(t){return/^is[A-Z]/.test(t)});function Rm(e,t,r){if(!ze.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,A){return!ze.isUndefined(A[g])});const n=r.metaTokens,a=r.visitor||u,o=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(t);if(!ze.isFunction(a))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(ze.isDate(w))return w.toISOString();if(!c&&ze.isBlob(w))throw new Qt("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(w)||ze.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,g,A){let v=w;if(w&&!A&&typeof w=="object"){if(ze.endsWith(g,"{}"))g=n?g:g.slice(0,-2),w=JSON.stringify(w);else if(ze.isArray(w)&&VM(w)||(ze.isFileList(w)||ze.endsWith(g,"[]"))&&(v=ze.toArray(w)))return g=N3(g),v.forEach(function(R,H){!(ze.isUndefined(R)||R===null)&&t.append(i===!0?y5([g],H,o):i===null?g:g+"[]",d(R))}),!1}return Qx(w)?!0:(t.append(y5(A,g,o),d(w)),!1)}const f=[],b=Object.assign(HM,{defaultVisitor:u,convertValue:d,isVisitable:Qx});function p(w,g){if(!ze.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(w),ze.forEach(w,function(v,j){(!(ze.isUndefined(v)||v===null)&&a.call(t,v,ze.isString(j)?j.trim():j,g,b))===!0&&p(v,g?g.concat(j):[j])}),f.pop()}}if(!ze.isObject(e))throw new TypeError("data must be an object");return p(e),t}function x5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function dw(e,t){this._pairs=[],e&&Rm(e,this,t)}const S3=dw.prototype;S3.append=function(t,r){this._pairs.push([t,r])};S3.toString=function(t){const r=t?function(n){return t.call(this,n,x5)}:x5;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function WM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C3(e,t,r){if(!t)return e;const n=r&&r.encode||WM;ze.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(t,r):o=ze.isURLSearchParams(t)?t.toString():new dw(t,r).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class b5{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ze.forEach(this.handlers,function(n){n!==null&&t(n)})}}const _3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GM=typeof URLSearchParams<"u"?URLSearchParams:dw,JM=typeof FormData<"u"?FormData:null,KM=typeof Blob<"u"?Blob:null,YM={isBrowser:!0,classes:{URLSearchParams:GM,FormData:JM,Blob:KM},protocols:["http","https","file","blob","url","data"]},uw=typeof window<"u"&&typeof document<"u",Zx=typeof navigator=="object"&&navigator||void 0,XM=uw&&(!Zx||["ReactNative","NativeScript","NS"].indexOf(Zx.product)<0),QM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZM=uw&&window.location.href||"http://localhost",eF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uw,hasStandardBrowserEnv:XM,hasStandardBrowserWebWorkerEnv:QM,navigator:Zx,origin:ZM},Symbol.toStringTag,{value:"Module"})),xa={...eF,...YM};function tF(e,t){return Rm(e,new xa.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,o){return xa.isNode&&ze.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function rF(e){return ze.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nF(e){const t={},r=Object.keys(e);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],t[o]=e[o];return t}function E3(e){function t(r,n,a,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=r.length;return i=!i&&ze.isArray(a)?a.length:i,c?(ze.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!ze.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],o)&&ze.isArray(a[i])&&(a[i]=nF(a[i])),!l)}if(ze.isFormData(e)&&ze.isFunction(e.entries)){const r={};return ze.forEachEntry(e,(n,a)=>{t(rF(n),a,r,0)}),r}return null}function aF(e,t,r){if(ze.isString(e))try{return(t||JSON.parse)(e),ze.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const fh={transitional:_3,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=ze.isObject(t);if(o&&ze.isHTMLForm(t)&&(t=new FormData(t)),ze.isFormData(t))return a?JSON.stringify(E3(t)):t;if(ze.isArrayBuffer(t)||ze.isBuffer(t)||ze.isStream(t)||ze.isFile(t)||ze.isBlob(t)||ze.isReadableStream(t))return t;if(ze.isArrayBufferView(t))return t.buffer;if(ze.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tF(t,this.formSerializer).toString();if((l=ze.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Rm(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),aF(t)):t}],transformResponse:[function(t){const r=this.transitional||fh.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ze.isResponse(t)||ze.isReadableStream(t))return t;if(t&&ze.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?Qt.from(l,Qt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xa.classes.FormData,Blob:xa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],e=>{fh.headers[e]={}});const sF=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oF=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&sF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},v5=Symbol("internals");function $u(e){return e&&String(e).trim().toLowerCase()}function Rp(e){return e===!1||e==null?e:ze.isArray(e)?e.map(Rp):String(e)}function iF(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const lF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uy(e,t,r,n,a){if(ze.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ze.isString(t)){if(ze.isString(n))return t.indexOf(n)!==-1;if(ze.isRegExp(n))return n.test(t)}}function cF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function dF(e,t){const r=ze.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,o,i){return this[n].call(this,t,a,o,i)},configurable:!0})})}let Ya=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function o(l,c,d){const u=$u(c);if(!u)throw new Error("header name must be a non-empty string");const f=ze.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=Rp(l))}const i=(l,c)=>ze.forEach(l,(d,u)=>o(d,u,c));if(ze.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(ze.isString(t)&&(t=t.trim())&&!lF(t))i(oF(t),r);else if(ze.isObject(t)&&ze.isIterable(t)){let l={},c,d;for(const u of t){if(!ze.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ze.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=$u(t),t){const n=ze.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return iF(a);if(ze.isFunction(r))return r.call(this,a,n);if(ze.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=$u(t),t){const n=ze.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||uy(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function o(i){if(i=$u(i),i){const l=ze.findKey(n,i);l&&(!r||uy(n,n[l],l,r))&&(delete n[l],a=!0)}}return ze.isArray(t)?t.forEach(o):o(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!t||uy(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const r=this,n={};return ze.forEach(this,(a,o)=>{const i=ze.findKey(n,o);if(i){r[i]=Rp(a),delete r[o];return}const l=t?cF(o):String(o).trim();l!==o&&delete r[o],r[l]=Rp(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ze.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ze.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[v5]=this[v5]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=$u(i);n[l]||(dF(a,i),n[l]=!0)}return ze.isArray(t)?t.forEach(o):o(t),this}};Ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(Ya.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ze.freezeMethods(Ya);function fy(e,t){const r=this||fh,n=t||r,a=Ya.from(n.headers);let o=n.data;return ze.forEach(e,function(l){o=l.call(r,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function A3(e){return!!(e&&e.__CANCEL__)}function cu(e,t,r){Qt.call(this,e??"canceled",Qt.ERR_CANCELED,t,r),this.name="CanceledError"}ze.inherits(cu,Qt,{__CANCEL__:!0});function P3(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Qt("Request failed with status code "+r.status,[Qt.ERR_BAD_REQUEST,Qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fF(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[o];i||(i=d),r[a]=c,n[a]=d;let f=o,b=0;for(;f!==a;)b+=r[f++],f=f%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),d-i<t)return;const p=u&&d-u;return p?Math.round(b*1e3/p):void 0}}function hF(e,t){let r=0,n=1e3/t,a,o;const i=(d,u=Date.now())=>{r=u,a=null,o&&(clearTimeout(o),o=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=n?i(d,u):(a=d,o||(o=setTimeout(()=>{o=null,i(a)},n-f)))},()=>a&&i(a)]}const L0=(e,t,r=3)=>{let n=0;const a=fF(50,250);return hF(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-n,d=a(c),u=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},w5=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},k5=e=>(...t)=>ze.asap(()=>e(...t)),pF=xa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,xa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(xa.origin),xa.navigator&&/(msie|trident)/i.test(xa.navigator.userAgent)):()=>!0,mF=xa.hasStandardBrowserEnv?{write(e,t,r,n,a,o){const i=[e+"="+encodeURIComponent(t)];ze.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ze.isString(n)&&i.push("path="+n),ze.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function D3(e,t,r){let n=!gF(t);return e&&(n||r==!1)?yF(e,t):t}const j5=e=>e instanceof Ya?{...e}:e;function gc(e,t){t=t||{};const r={};function n(d,u,f,b){return ze.isPlainObject(d)&&ze.isPlainObject(u)?ze.merge.call({caseless:b},d,u):ze.isPlainObject(u)?ze.merge({},u):ze.isArray(u)?u.slice():u}function a(d,u,f,b){if(ze.isUndefined(u)){if(!ze.isUndefined(d))return n(void 0,d,f,b)}else return n(d,u,f,b)}function o(d,u){if(!ze.isUndefined(u))return n(void 0,u)}function i(d,u){if(ze.isUndefined(u)){if(!ze.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,f){if(f in t)return n(d,u);if(f in e)return n(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,f)=>a(j5(d),j5(u),f,!0)};return ze.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=c[u]||a,b=f(e[u],t[u],u);ze.isUndefined(b)&&f!==l||(r[u]=b)}),r}const L3=e=>{const t=gc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=Ya.from(i),t.url=C3(D3(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ze.isFormData(r)){if(xa.hasStandardBrowserEnv||xa.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(xa.hasStandardBrowserEnv&&(n&&ze.isFunction(n)&&(n=n(t)),n||n!==!1&&pF(t.url))){const d=a&&o&&mF.read(o);d&&i.set(a,d)}return t},xF=typeof XMLHttpRequest<"u",bF=xF&&function(e){return new Promise(function(r,n){const a=L3(e);let o=a.data;const i=Ya.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,b,p,w;function g(){p&&p(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let A=new XMLHttpRequest;A.open(a.method.toUpperCase(),a.url,!0),A.timeout=a.timeout;function v(){if(!A)return;const R=Ya.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),U={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:R,config:e,request:A};P3(function(x){r(x),g()},function(x){n(x),g()},U),A=null}"onloadend"in A?A.onloadend=v:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(v)},A.onabort=function(){A&&(n(new Qt("Request aborted",Qt.ECONNABORTED,e,A)),A=null)},A.onerror=function(){n(new Qt("Network Error",Qt.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let H=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const U=a.transitional||_3;a.timeoutErrorMessage&&(H=a.timeoutErrorMessage),n(new Qt(H,U.clarifyTimeoutError?Qt.ETIMEDOUT:Qt.ECONNABORTED,e,A)),A=null},o===void 0&&i.setContentType(null),"setRequestHeader"in A&&ze.forEach(i.toJSON(),function(H,U){A.setRequestHeader(U,H)}),ze.isUndefined(a.withCredentials)||(A.withCredentials=!!a.withCredentials),l&&l!=="json"&&(A.responseType=a.responseType),d&&([b,w]=L0(d,!0),A.addEventListener("progress",b)),c&&A.upload&&([f,p]=L0(c),A.upload.addEventListener("progress",f),A.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=R=>{A&&(n(!R||R.type?new cu(null,e,A):R),A.abort(),A=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const j=uF(a.url);if(j&&xa.protocols.indexOf(j)===-1){n(new Qt("Unsupported protocol "+j+":",Qt.ERR_BAD_REQUEST,e));return}A.send(o||null)})},vF=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const o=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Qt?u:new cu(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new Qt(`timeout ${t} of ms exceeded`,Qt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>ze.asap(l),c}},wF=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},kF=async function*(e,t){for await(const r of jF(e))yield*wF(r,t)},jF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},N5=(e,t,r,n)=>{const a=kF(e,t);let o=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let b=o+=f;r(b)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Tm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",I3=Tm&&typeof ReadableStream=="function",NF=Tm&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),R3=(e,...t)=>{try{return!!e(...t)}catch{return!1}},SF=I3&&R3(()=>{let e=!1;const t=new Request(xa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),S5=64*1024,eb=I3&&R3(()=>ze.isReadableStream(new Response("").body)),I0={stream:eb&&(e=>e.body)};Tm&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!I0[t]&&(I0[t]=ze.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Qt(`Response type '${t}' is not supported`,Qt.ERR_NOT_SUPPORT,n)})})})(new Response);const CF=async e=>{if(e==null)return 0;if(ze.isBlob(e))return e.size;if(ze.isSpecCompliantForm(e))return(await new Request(xa.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(e)||ze.isArrayBuffer(e))return e.byteLength;if(ze.isURLSearchParams(e)&&(e=e+""),ze.isString(e))return(await NF(e)).byteLength},_F=async(e,t)=>{const r=ze.toFiniteNumber(e.getContentLength());return r??CF(t)},EF=Tm&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:b}=L3(e);d=d?(d+"").toLowerCase():"text";let p=vF([a,o&&o.toAbortSignal()],i),w;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let A;try{if(c&&SF&&r!=="get"&&r!=="head"&&(A=await _F(u,n))!==0){let U=new Request(t,{method:"POST",body:n,duplex:"half"}),F;if(ze.isFormData(n)&&(F=U.headers.get("content-type"))&&u.setContentType(F),U.body){const[x,I]=w5(A,L0(k5(c)));n=N5(U.body,S5,x,I)}}ze.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;w=new Request(t,{...b,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:v?f:void 0});let j=await fetch(w);const R=eb&&(d==="stream"||d==="response");if(eb&&(l||R&&g)){const U={};["status","statusText","headers"].forEach(S=>{U[S]=j[S]});const F=ze.toFiniteNumber(j.headers.get("content-length")),[x,I]=l&&w5(F,L0(k5(l),!0))||[];j=new Response(N5(j.body,S5,x,()=>{I&&I(),g&&g()}),U)}d=d||"text";let H=await I0[ze.findKey(I0,d)||"text"](j,e);return!R&&g&&g(),await new Promise((U,F)=>{P3(U,F,{data:H,headers:Ya.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:w})})}catch(v){throw g&&g(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Qt("Network Error",Qt.ERR_NETWORK,e,w),{cause:v.cause||v}):Qt.from(v,v&&v.code,e,w)}}),tb={http:zM,xhr:bF,fetch:EF};ze.forEach(tb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const C5=e=>`- ${e}`,AF=e=>ze.isFunction(e)||e===null||e===!1,T3={getAdapter:e=>{e=ze.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let o=0;o<t;o++){r=e[o];let i;if(n=r,!AF(r)&&(n=tb[(i=String(r)).toLowerCase()],n===void 0))throw new Qt(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+o]=n}if(!n){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(C5).join(`
`):" "+C5(o[0]):"as no adapter specified";throw new Qt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:tb};function hy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cu(null,e)}function _5(e){return hy(e),e.headers=Ya.from(e.headers),e.data=fy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T3.getAdapter(e.adapter||fh.adapter)(e).then(function(n){return hy(e),n.data=fy.call(e,e.transformResponse,n),n.headers=Ya.from(n.headers),n},function(n){return A3(n)||(hy(e),n&&n.response&&(n.response.data=fy.call(e,e.transformResponse,n.response),n.response.headers=Ya.from(n.response.headers))),Promise.reject(n)})}const O3="1.9.0",Om={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Om[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const E5={};Om.transitional=function(t,r,n){function a(o,i){return"[Axios v"+O3+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(t===!1)throw new Qt(a(i," has been removed"+(r?" in "+r:"")),Qt.ERR_DEPRECATED);return r&&!E5[i]&&(E5[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,i,l):!0}};Om.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function PF(e,t,r){if(typeof e!="object")throw new Qt("options must be an object",Qt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const o=n[a],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new Qt("option "+o+" must be "+c,Qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qt("Unknown option "+o,Qt.ERR_BAD_OPTION)}}const Tp={assertOptions:PF,validators:Om},Do=Tp.validators;let lc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new b5,response:new b5}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Tp.assertOptions(n,{silentJSONParsing:Do.transitional(Do.boolean),forcedJSONParsing:Do.transitional(Do.boolean),clarifyTimeoutError:Do.transitional(Do.boolean)},!1),a!=null&&(ze.isFunction(a)?r.paramsSerializer={serialize:a}:Tp.assertOptions(a,{encode:Do.function,serialize:Do.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Tp.assertOptions(r,{baseUrl:Do.spelling("baseURL"),withXsrfToken:Do.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&ze.merge(o.common,o[r.method]);o&&ze.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),r.headers=Ya.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,f=0,b;if(!c){const w=[_5.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,d),b=w.length,u=Promise.resolve(r);f<b;)u=u.then(w[f++],w[f++]);return u}b=l.length;let p=r;for(f=0;f<b;){const w=l[f++],g=l[f++];try{p=w(p)}catch(A){g.call(this,A);break}}try{u=_5.call(this,p)}catch(w){return Promise.reject(w)}for(f=0,b=d.length;f<b;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=gc(this.defaults,t);const r=D3(t.baseURL,t.url,t.allowAbsoluteUrls);return C3(r,t.params,t.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(t){lc.prototype[t]=function(r,n){return this.request(gc(n||{},{method:t,url:r,data:(n||{}).data}))}});ze.forEach(["post","put","patch"],function(t){function r(n){return function(o,i,l){return this.request(gc(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}lc.prototype[t]=r(),lc.prototype[t+"Form"]=r(!0)});let DF=class M3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},t(function(o,i,l){n.reason||(n.reason=new cu(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new M3(function(a){t=a}),cancel:t}}};function LF(e){return function(r){return e.apply(null,r)}}function IF(e){return ze.isObject(e)&&e.isAxiosError===!0}const rb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rb).forEach(([e,t])=>{rb[t]=e});function F3(e){const t=new lc(e),r=p3(lc.prototype.request,t);return ze.extend(r,lc.prototype,t,{allOwnKeys:!0}),ze.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return F3(gc(e,a))},r}const Vt=F3(fh);Vt.Axios=lc;Vt.CanceledError=cu;Vt.CancelToken=DF;Vt.isCancel=A3;Vt.VERSION=O3;Vt.toFormData=Rm;Vt.AxiosError=Qt;Vt.Cancel=Vt.CanceledError;Vt.all=function(t){return Promise.all(t)};Vt.spread=LF;Vt.isAxiosError=IF;Vt.mergeConfig=gc;Vt.AxiosHeaders=Ya;Vt.formToJSON=e=>E3(ze.isHTMLForm(e)?new FormData(e):e);Vt.getAdapter=T3.getAdapter;Vt.HttpStatusCode=rb;Vt.default=Vt;const{Axios:tG,AxiosError:rG,CanceledError:nG,isCancel:aG,CancelToken:sG,VERSION:oG,all:iG,Cancel:lG,isAxiosError:cG,spread:dG,toFormData:uG,AxiosHeaders:fG,HttpStatusCode:hG,formToJSON:pG,getAdapter:mG,mergeConfig:gG}=Vt,Mm="https://financeiro.tshirteria.com";async function B3(){try{const{data:e,error:t}=await De.from("payments").select("*").order("due_date",{ascending:!0});if(t)throw t;const{data:r,error:n}=await De.from("payment_request_attachments").select("payment_request_id, file_url");return(await Promise.all(e.map(async o=>{const i=await Promise.all(r.filter(l=>l.payment_request_id===o.payment_request_id).map(l=>l.file_url));return{...o,attachment_urls:i}}))||[]).map(o=>({id:o.id,supplier:{name:o.supplier_name},description:o.description,value:o.value,dueDate:o.due_date,status:o.status,cnpjId:o.cnpj_id,cpfCnpj:o.cpfCnpj,categoryId:o.category_id,bankAccountId:o.bank_account_id,createdAt:o.created_at,updatedAt:o.updated_at,createdBy:{id:o.created_by_id,name:o.created_by_name||"Usurio"},competence:o.competence,paymentMethod:o.payment_method,pixKey:o.pix_key,pixPaymentMethod:o.pix_payment_method,barcode:o.barcode,bankCode:o.bankCode,branch:o.branch,account:o.account,digit:o.digit,type:o.type,frequency:o.frequency,installments:o.installments,installmentNumber:o.installment_number,endDate:o.end_date,paymentRequestId:o.payment_request_id,attachmentUrls:o.attachment_urls,num_req:o.num_req}))}catch(e){throw console.error("Error listing payments:",e),new Error("Erro ao carregar pagamentos")}}async function RF(e){try{const{data:t,error:r}=await mI(()=>De.from("payments").update({status:"PAID",updated_at:new Date().toISOString()}).eq("id",e).select().single());if(r)throw r;return t?{id:t.id,supplier:{name:t.supplier_name},description:t.description,value:t.value,dueDate:t.due_date,status:t.status,cnpjId:t.cnpj_id,categoryId:t.category_id,bankAccountId:t.bank_account_id,createdAt:t.created_at,updatedAt:t.updated_at,createdBy:{id:t.created_by_id,name:"Usurio"}}:null}catch(t){throw console.error("Error executing payment:",t),new Error("Erro ao executar pagamento")}}async function TF(e){const t=localStorage.getItem("userId");if(!t)throw new Error("User is not authenticated.");try{return(await Vt.post(`${Mm}/payment/create`,{...e,userId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating payment:",r),r}}async function OF(e){try{return(await Vt.post(`${Mm}/payment/update`,e,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw console.error("Error updating payment:",t),t}}async function MF(e){const t=localStorage.getItem("userId");if(!t)throw new Error("User is not authenticated.");try{return(await Vt.post(`${Mm}/payment/request/approve`,{paymentRequestId:e,userId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error approving payment request:",r),r}}async function FF(e){const t=localStorage.getItem("userId");if(!t)throw new Error("User is not authenticated.");try{return(await Vt.post(`${Mm}/payment/request/reject`,{paymentRequestId:e,userId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error rejecting payment request:",r),r}}const BF=async()=>{const{data:e,error:t}=await De.from("bank_accounts").select("id, name").eq("active",!0).order("name");if(t)throw new Error("Erro ao carregar contas bancrias");return e};function $F({isOpen:e,onClose:t,request:r,loadRequests:n}){var le;const[a,o]=L.useState(!1),[i,l]=L.useState(null),[c,d]=L.useState([]),[u,f]=L.useState(null),[b,p]=L.useState("general"),w=L.useRef(null),g=L.useRef(null),[A,v]=L.useState({supplierName:"",description:"",value:0,dueDate:"",attachments:[],cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentMethod:"",pixKey:"",barcode:"",branch:"",account:"",digit:"",type:"single",frequency:"",installments:1,endDate:"",cpfCnpj:"",bankCode:""}),[j,R]=L.useState([]),[H,U]=L.useState([]),[F,x]=L.useState([]);L.useEffect(()=>{if(e&&(S(),r)){v(M=>({...M,supplierName:r.supplier_name||"",description:r.description||"",value:r.value||0,dueDate:r.due_date||"",attachments:[],cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentMethod:r.payment_method||"",pixKey:r.pix_key||"",barcode:r.barcode||"",branch:r.branch||"",account:r.account||"",digit:r.digit||"",type:r.type||"single",frequency:r.frequency||"",installments:r.installments||1,endDate:r.end_date||"",cpfCnpj:r.cpfCnpj||"",bankCode:r.bankCode||""}));const Q=G(r.pix_key||"");f(Q)}},[e,r]);const I=Q=>{let M=Q.target.value.replace(/\D/g,"");M===""&&(M="0");const J=parseInt(M)/100;v(te=>({...te,value:J.toString()}))},S=async()=>{try{const[Q,M,J]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0)]);if(Q.error)throw Q.error;if(M.error)throw M.error;if(J.error)throw J.error;R(Q.data||[]),U(M.data||[]),x(J.data||[])}catch(Q){console.error("Error loading data:",Q),l("Erro ao carregar dados")}},C=async()=>{var Q;if(r)try{o(!0),l(null);const M=await Promise.all(A.attachments.map(async ue=>{const ie=ue.name.split(".").pop(),ye=`payment-requests/${`${Math.random().toString(36).substring(2)}.${ie}`}`,{data:pe,error:Ee}=await De.from("payment_request_attachments").delete().eq("payment_request_id",r.id);if(Ee)throw Ee;const{error:$e}=await De.storage.from("attachments").upload(ye,ue);if($e)throw $e;const{data:{publicUrl:qe}}=De.storage.from("attachments").getPublicUrl(ye);return{file_name:ue.name,file_type:ue.type,file_size:ue.size,file_url:qe}}));if(M.length>0){const{error:ue}=await De.from("payment_request_attachments").insert(M.map(ie=>({...ie,payment_request_id:r.id})));if(ue)throw ue}if(!A.supplierName)throw new Error("Informe o fornecedor");if(!A.description)throw new Error("Informe a descrio");if(A.value<=0)throw new Error("Informe o valor");if(!A.dueDate)throw new Error("Informe a data de vencimento");if(A.attachments.length===0&&((Q=r.attachment_urls)==null?void 0:Q.length)===0)throw new Error("Anexe um documento");if(!A.cnpjId)throw new Error("Selecione o CNPJ");if(!A.categoryId)throw new Error("Selecione a categoria");if(!A.competence)throw new Error("Informe a competncia");if(!A.bankAccountId)throw new Error("Selecione a conta bancria");if(!A.paymentMethod)throw new Error("Selecione a forma de pagamento");if(A.paymentMethod==="pix"&&!A.pixKey)throw new Error("Informe a chave PIX");if(A.paymentMethod==="boleto"&&!A.barcode)throw new Error("Informe o cdigo de barras");if((A.paymentMethod==="boleto"||A.paymentMethod==="transferencia")&&!A.cpfCnpj)throw new Error("Informe o CPF/CNPJ do beneficirio");if(A.paymentMethod==="transferencia"&&!A.branch)throw new Error("Informe a agncia");if(A.paymentMethod==="transferencia"&&!A.account)throw new Error("Informe a conta");if(A.paymentMethod==="transferencia"&&!A.digit)throw new Error("Informe o dgito verificador");if(A.paymentMethod==="transferencia"&&!A.bankCode)throw new Error("Informe o cdigo do banco");if(A.type==="recurring"&&!A.frequency)throw new Error("Selecione a frequncia");if(A.type==="installments"&&!A.installments)throw new Error("Informe o nmero de parcelas");if(A.type!=="single"&&A.type!=="installments"&&!A.endDate)throw new Error("Informe a data final");const{data:J,error:te}=await De.from("payment_requests").update({cnpj_id:A.cnpjId,category_id:A.categoryId,bank_account_id:A.bankAccountId,supplier_name:A.supplierName,description:A.description,value:A.value,due_date:A.dueDate,competence:A.competence,payment_method:A.paymentMethod,pix_key:A.pixKey,barcode:A.barcode,branch:A.branch,account:A.account,digit:A.digit,type:A.type,frequency:A.frequency,installments:A.installments,end_date:A.endDate?new Date(A.endDate).toISOString().split("T")[0]:null,cpfCnpj:A.cpfCnpj,bankCode:A.bankCode}).eq("id",r.id);if(te)throw te;await MF(r.id),await n(),t()}catch(M){console.error("Error approving request:",M),l(M instanceof Error?M.message:"Erro ao aprovar solicitao")}finally{o(!1)}},y=async()=>{if(r)try{o(!0),l(null),await FF(r.id),await n(),t()}catch(Q){console.error("Error rejecting request:",Q),l("Erro ao rejeitar solicitao")}finally{o(!1)}};if(!e||!r)return null;const k=Q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Q),P=Q=>{const M=Array.from(Q.target.files||[]);if(M.length===0)return;const J=M.filter(te=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(te.type)?te.size>5242880?(l("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(l("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(J.length>0){l(null);const te=J.map(ue=>ue.type.startsWith("image/")?URL.createObjectURL(ue):"");v(ue=>({...ue,attachments:[...ue.attachments,...J]})),d(ue=>[...ue,...te])}},E=Q=>{v(M=>({...M,attachments:M.attachments.filter((J,te)=>te!==Q)})),c[Q]&&URL.revokeObjectURL(c[Q]),d(M=>M.filter((J,te)=>te!==Q))};function q(Q){if(typeof Q!="string"||(Q=Q.replace(/[\s.-]*/gim,""),!Q||Q.length!==11||Q==="00000000000"||Q==="11111111111"||Q==="22222222222"||Q==="33333333333"||Q==="44444444444"||Q==="55555555555"||Q==="66666666666"||Q==="77777777777"||Q==="88888888888"||Q==="99999999999"))return!1;let M=0,J;for(let te=1;te<=9;te++)M+=parseInt(Q.substring(te-1,te))*(11-te);if(J=M*10%11,(J===10||J===11)&&(J=0),J!==parseInt(Q.substring(9,10)))return!1;M=0;for(let te=1;te<=10;te++)M+=parseInt(Q.substring(te-1,te))*(12-te);return J=M*10%11,(J===10||J===11)&&(J=0),J===parseInt(Q.substring(10,11))}function B(Q){if(typeof Q!="string"||(Q=Q.replace(/[\s.-]*/gim,""),!Q||Q.length!==14||Q==="00000000000000"||Q==="11111111111111"||Q==="22222222222222"||Q==="33333333333333"||Q==="44444444444444"||Q==="55555555555555"||Q==="66666666666666"||Q==="77777777777777"||Q==="88888888888888"||Q==="99999999999999"))return!1;let M=Q.length-2,J=Q.substring(0,M),te=Q.substring(M),ue=0,ie=M-7;for(let ye=M;ye>=1;ye--)ue+=parseInt(J.charAt(M-ye))*ie--,ie<2&&(ie=9);let de=ue%11<2?0:11-ue%11;if(de!==parseInt(te.charAt(0)))return!1;M=M+1,J=Q.substring(0,M),ue=0,ie=M-7;for(let ye=M;ye>=1;ye--)ue+=parseInt(J.charAt(M-ye))*ie--,ie<2&&(ie=9);return de=ue%11<2?0:11-ue%11,de===parseInt(te.charAt(1))}function G(Q){const M=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,J=Q.replace(/[^0-9]/g,"");return q(J)?"CPF":B(J)?"CNPJ":M.test(Q)?"Email":J.length===10||J.length===11?"Telefone":"Chave Aleatria"}const V=Q=>{const M=Q.target.value;v(te=>({...te,pixKey:M}));const J=G(M);f(J)},ee=Q=>{const M=Q.target.value,J=j.find(te=>te.id===M);v(te=>({...te,cnpjId:M,bankAccountId:(J==null?void 0:J.bank_account_id)||te.bankAccountId}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao #",r.request_number]}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>p("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${b==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes da Solicitao"}),s.jsx("button",{onClick:()=>p("mandatory"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${b==="mandatory"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados para o Pagamento"}),s.jsx("button",{onClick:()=>p("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${b==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[b==="general"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:A.supplierName,onChange:Q=>v(M=>({...M,supplierName:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:A.description,onChange:Q=>v(M=>({...M,description:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[A.description.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Pagamento"}),s.jsx("input",{type:"text",value:k(A.value),onChange:I,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Mxima de Vencimento"}),s.jsx("input",{type:"date",value:A.dueDate,onChange:Q=>v(M=>({...M,dueDate:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(le=r.attachment_urls)!=null&&le.length?s.jsx("a",{href:r.attachment_urls[0].file_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:A.attachments.map((Q,M)=>s.jsxs("div",{className:"relative",children:[c[M]?s.jsx("img",{src:c[M],alt:`Preview ${M+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:Q.name})}),s.jsx("button",{type:"button",onClick:()=>E(M),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Ht,{className:"h-4 w-4"})})]},M))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var Q;return(Q=w.current)==null?void 0:Q.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Ni,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:w,type:"file",onChange:P,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:g,type:"file",onChange:P,className:"hidden",accept:"image/*",capture:"environment"})]})]}),b==="mandatory"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:A.cnpjId,onChange:ee,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),j.map(Q=>s.jsxs("option",{value:Q.id,children:[Q.name," - ",Q.cnpj]},Q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Despesa *"}),s.jsxs("select",{value:A.categoryId,onChange:Q=>v(M=>({...M,categoryId:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),H.map(Q=>s.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:A.competence,onChange:Q=>v(M=>({...M,competence:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:A.bankAccountId,onChange:Q=>v(M=>({...M,bankAccountId:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),F.map(Q=>s.jsxs("option",{value:Q.id,children:[Q.name," - ",Q.bank," ",Q.branch,"/",Q.account]},Q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:A.paymentMethod,onChange:Q=>v(M=>({...M,paymentMethod:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"})]})]}),A.paymentMethod==="pix"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",u||"Tipo de Chave",")"]}),s.jsx("input",{type:"text",value:A.pixKey,onChange:V,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),A.paymentMethod==="boleto"&&s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:A.barcode,onChange:Q=>v(M=>({...M,barcode:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})}),A.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:A.bankCode,onChange:Q=>v(M=>({...M,bankCode:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:A.branch,onChange:Q=>v(M=>({...M,branch:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:A.account,onChange:Q=>v(M=>({...M,account:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:A.digit,onChange:Q=>v(M=>({...M,digit:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),(A.paymentMethod==="boleto"||A.paymentMethod==="transferencia")&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:A.cpfCnpj,onChange:Q=>v(M=>({...M,cpfCnpj:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),b==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:A.type==="single",onChange:Q=>v(M=>({...M,type:Q.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:A.type==="recurring",onChange:Q=>v(M=>({...M,type:Q.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:A.type==="installments",onChange:Q=>v(M=>({...M,type:Q.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),A.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:A.frequency,onChange:Q=>v(M=>({...M,frequency:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:A.type==="recurring",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),A.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:A.installments,onChange:Q=>v(M=>({...M,installments:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:A.type==="installments"})]}),A.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:A.endDate,onChange:Q=>v(M=>({...M,endDate:Q.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:A.type!=="single"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:y,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Rejeitar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:C,disabled:a,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})]})]})]})})}function qF({requests:e,loadRequests:t}){const[r,n]=Mr.useState(null);if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(El,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Incluir" para criar uma solicitao de pagamento.'})]});const a=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),o=c=>{const d=new Date(c);return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate())},i=c=>o(c).toLocaleDateString("pt-BR"),l=c=>{switch(c){case"PENDING":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Rejeitado"});default:return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconhecido"})}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nmero"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(c=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:["#",c.request_number]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"200px"},children:c.supplier_name}),c.cnpj_name&&s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:c.cnpj_name})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex flex-col",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"200px"},children:c.description})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:a(c.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(c.due_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(c.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{type:"button",onClick:()=>n(c),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})})]},c.id))})]})}),s.jsx($F,{isOpen:!!r,onClose:()=>n(null),request:r,loadRequests:t})]})}const UF="https://financeiro.tshirteria.com";function zF({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),[o,i]=L.useState([]),[l,c]=L.useState(!1),[d,u]=L.useState(!1),[f,b]=L.useState(null),[p,w]=L.useState(null),g=Mr.useRef(null),A=Mr.useRef(null),v=Mr.useRef(null),j=y=>{const k=Array.from(y.target.files||[]);if(k.length===0)return;const P=k.filter(E=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(E.type)?E.size>5242880?(b("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(b("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(P.length>0){b(null);const E=P.map(q=>q.type.startsWith("image/")?URL.createObjectURL(q):"");a(q=>({...q,attachments:Array.isArray(q.attachments)?[...q.attachments,...P]:[...P]})),i(q=>Array.isArray(q)?[...q,...E]:[...E])}},R=()=>{A.current&&A.current.click()},H=async y=>{const k=Array.from(y.target.files||[]);if(k.length===0)return;const P=k[0],E=["image/jpeg","image/png","application/pdf"],q=5*1024*1024;if(!E.includes(P.type)){b("Tipo de arquivo no suportado. Use apenas imagens ou PDF.");return}if(P.size>q){b("Arquivo muito grande. O tamanho mximo permitido  5MB.");return}b(null),w(null),u(!0);try{const B=new FormData;B.append("file",P);const G=await fetch(`${UF}/ai/process/bill`,{method:"POST",body:B});if(!G.ok){const ee=await G.json();throw new Error(`Falha ao processar boleto: ${ee.message}`)}const V=await G.json();console.log("Processed boleto data:",V),a(ee=>({supplier_name:V.beneficiario||"",description:"Boleto - "+(V.descricao||""),value:U(V.valor)||0,due_date:F(V.vencimento)||"",attachments:Array.isArray(ee.attachments)?[...ee.attachments,P]:[P]})),P.type.startsWith("image/")?i(ee=>Array.isArray(ee)?[...ee,URL.createObjectURL(P)]:[URL.createObjectURL(P)]):i(ee=>Array.isArray(ee)?[...ee,""]:[""]),w("Boleto processado com sucesso!"),setTimeout(()=>{a({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),i([]),u(!1),b(null),w(null),r(),t()},1e3)}catch(B){console.error("Error processing boleto:",B),b(B instanceof Error?B.message:"Erro ao processar boleto")}finally{u(!1),v.current&&(v.current.value="")}},U=y=>{if(!y)return 0;if(!isNaN(Number(y)))return Number(y);if(typeof y=="string"){const k=y.replace("R$","").trim();if(k.includes(","))return Number(k.replace(".","").replace(",","."))}return Number(y)},F=y=>y?y.includes("/")?y.split("/").reverse().join("-"):y:"",x=y=>{a(k=>({...k,attachments:Array.isArray(k.attachments)?k.attachments.filter((P,E)=>E!==y):[]})),Array.isArray(o)&&o[y]&&URL.revokeObjectURL(o[y]),i(k=>Array.isArray(k)?k.filter((P,E)=>E!==y):[])},I=y=>y.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),S=y=>{var E;const k=((E=y.target.value)==null?void 0:E.replace(/\D/g,""))||"0",P=parseInt(k,10)/100;a(q=>({...q,value:P}))},C=async y=>{var k;if(y&&y.preventDefault&&y.preventDefault(),c(!0),b(null),w(null),!n.supplier_name.trim()){b("O nome do beneficirio/fornecedor  obrigatrio."),c(!1);return}if(!n.description.trim()){b("A descrio  obrigatria."),c(!1);return}if(n.value<=0){b("O valor do pagamento deve ser maior que zero."),c(!1);return}if(!n.due_date){b("A data de vencimento  obrigatria."),c(!1);return}try{const{data:P,error:E}=await De.from("payment_requests").insert([{supplier_name:n.supplier_name,description:n.description,value:n.value,due_date:n.due_date,status:"PENDING",origin:"MANUAL",created_by_id:(k=(await De.auth.getUser()).data.user)==null?void 0:k.id}]).select().single();if(E)throw E;const q=n.attachments.map(async B=>{const G=B.name.split(".").pop(),ee=`payment-requests/${`${Math.random().toString(36).substring(2)}.${G}`}`,{error:le}=await De.storage.from("attachments").upload(ee,B);if(le)throw le;const{data:{publicUrl:Q}}=De.storage.from("attachments").getPublicUrl(ee);return{payment_request_id:P.id,file_name:B.name,file_type:B.type,file_size:B.size,file_url:Q}});if(q.length>0){const B=await Promise.all(q),{error:G}=await De.from("payment_request_attachments").insert(B);if(G)throw G}a({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),r(),t()}catch(P){console.error("Error creating payment request:",P),b(P instanceof Error?P.message:"Erro ao criar solicitao de pagamento")}finally{c(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Pagamento"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:C,className:"p-4 sm:p-6",children:[f&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:f})]}),p&&s.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:p})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:n.supplier_name,onChange:y=>a(k=>({...k,supplier_name:y.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:n.description,onChange:y=>a(k=>({...k,description:y.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[n.description.length,"/250 caracteres"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Pagamento"}),s.jsx("input",{type:"text",value:I(n.value),onChange:S,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Mxima de Vencimento"}),s.jsx("input",{type:"date",value:n.due_date,onChange:y=>a(k=>({...k,due_date:y.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Anexos"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:Array.isArray(n.attachments)&&n.attachments.map((y,k)=>s.jsxs("div",{className:"relative",children:[Array.isArray(o)&&o[k]?s.jsx("img",{src:o[k],alt:`Preview ${k+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:y.name})}),s.jsx("button",{type:"button",onClick:()=>x(k),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Ht,{className:"h-4 w-4"})})]},k))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{var y;return(y=g.current)==null?void 0:y.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(El,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]}),s.jsxs("button",{type:"button",onClick:R,className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(y4,{className:"h-5 w-5 mr-2"}),"Capturar Imagem"]}),s.jsxs("button",{type:"button",onClick:()=>{var y;return(y=v.current)==null?void 0:y.click()},className:"flex items-center justify-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",disabled:d,children:[s.jsx(Ni,{className:"h-5 w-5 mr-2"}),d?"Processando...":"Processar Boleto"]})]}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:g,type:"file",onChange:j,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:A,type:"file",onChange:j,className:"hidden",accept:"image/*",capture:"environment"}),s.jsx("input",{ref:v,type:"file",onChange:H,className:"hidden",accept:".pdf,.jpg,.jpeg,.png"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:l,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:l,children:l?"Salvando...":"Salvar Solicitao"})]})]})]})}):null}function VF({isOpen:e,onClose:t,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=Mr.useState(r),l=()=>{console.log(o),n(o),t()},c=()=>{const d={dateRange:{start:"",end:""},supplier:"",minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""};a(),i(d),n(d),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:o.minValue,onChange:d=>i(u=>({...u,minValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:o.maxValue,onChange:d=>i(u=>({...u,maxValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendente"}),s.jsx("option",{value:"APPROVED",children:"Aprovado"}),s.jsx("option",{value:"REJECTED",children:"Rejeitado"})]})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}class fw extends L.Component{constructor(){super(...arguments);d2(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("Error caught by boundary:",r,n)}render(){return this.state.hasError?s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Algo deu errado"}),s.jsx("p",{children:"Ocorreu um erro inesperado. Por favor, tente novamente."})]}):this.props.children}}const A5="https://financeiro.tshirteria.com",$3={async getEmailsWithAttachments(e){return(await Vt.get(`${A5}/mail/emails/${e}`)).data},async getAllEmails(){return(await Vt.get(`${A5}/mail/emails`)).data}};async function HF(){try{const{data:e,error:t}=await De.from("payment_requests_with_users").select(`
      *,
      attachment_urls:payment_request_attachments(file_url)
    `).order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){throw console.error("Erro ao listar solicitaes:",e),e}}function WF(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState([]),[c,d]=L.useState(!0),[u,f]=L.useState(null),[b,p]=L.useState({dateRange:{start:"",end:""},supplier:"",minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:"PENDING"}),w=async()=>{try{d(!0);const R=await $3.getAllEmails();console.log(R),window.location.reload()}catch(R){console.error("Erro ao buscar emails:",R)}finally{d(!1)}};L.useEffect(()=>{A()},[]);const g=()=>{o("")},A=async()=>{try{d(!0);const R=await HF();l(R),f(null)}catch(R){console.error("Erro ao carregar solicitaes:",R),f("Erro ao carregar solicitaes")}finally{d(!1)}},v=R=>{const H=new Date(R);return new Date(H.getUTCFullYear(),H.getUTCMonth(),H.getUTCDate())},j=i.filter(R=>{const H=a.toLowerCase(),U=R!=null&&R.status&&R.status==="PENDING"?"Pendente":R.status==="APPROVED"?"Aprovado":"Rejeitado",F=R.supplier_name.toLowerCase().includes(H)||R.description.toLowerCase().includes(H)||R.request_number.toString().includes(H)||R.cnpj_name&&R.cnpj_name.toLowerCase().includes(H)||R.cnpj_number&&R.cnpj_number.includes(H)||U&&U.toLowerCase().includes(H),x=(!b.dateRange.start||v(R.due_date)>=v(b.dateRange.start))&&(!b.dateRange.end||v(R.due_date)<=v(b.dateRange.end)),I=!b.supplier||R.supplier_name.toLowerCase().includes(b.supplier.toLowerCase()),S=(!b.minValue||R.value>=parseFloat(b.minValue))&&(!b.maxValue||R.value<=parseFloat(b.maxValue)),C=!b.cnpjId||R.cnpj_id===b.cnpjId,y=!b.categoryId||R.category_id===b.categoryId,k=!b.status||R.status===b.status;return F&&x&&I&&S&&C&&y&&k});return s.jsxs("div",{className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>f(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Solicitaes de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de pagamento do sistema"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:w,className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(Rv,{className:"h-5 w-5"}),s.jsx("span",{children:"Buscar Boletos"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nmero, beneficirio ou descrio...",value:a,onChange:R=>o(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(wc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})]})}),c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(qF,{requests:j,loadRequests:A})]}),s.jsx(fw,{children:s.jsx(zF,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{t(!1),A()}})}),s.jsx(VF,{isOpen:r,onClose:()=>n(!1),filters:b,onApplyFilters:p,clearSearchTerm:g})]})}const Xi="https://financeiro.tshirteria.com",Nl={async syncAccounts(e){const t=localStorage.getItem("userId");return(await Vt.post(`${Xi}/bank/statement`,{bankAccountId:e.bankAccountId,userId:t},{headers:{"Content-Type":"application/json"}})).data},async checkGoogleAuth(e){return(await Vt.post(`${Xi}/auth/check-google-auth`,e)).data},async executePayment(e,t){const r=localStorage.getItem("userId");return console.log("will execute payment",e,t),(await Vt.post(`${Xi}/bank/payment/execute`,{paymentId:e,userId:r,sourceAccountId:t},{headers:{"Content-Type":"application/json"}})).data},async getReconciliationStatements(e){return console.log(`${Xi}/bank/reconciliation/statements/${e}`),(await Vt.get(`${Xi}/bank/reconciliation/statements/${e}`,{headers:{"Content-Type":"application/json"}})).data},async createBankTransfer(e){return(await Vt.post(`${Xi}/bank/transfer`,e,{headers:{"Content-Type":"application/json"}})).data},async getMatchingStatements(e){return(await Vt.get(`${Xi}/bank/reconciliation/compare/${e}`)).data},async reconcileStatement(e,t){return(await Vt.post(`${Xi}/bank/reconciliation/reconcile`,{reconciliationStatementId:e,bankStatementId:t})).data}},hw="https://financeiro.tshirteria.com";async function q3(e){var t,r;try{if(!e.lancamentos||e.lancamentos.length===0)throw new Error("Nenhum pagamento selecionado.");return(await Vt.post(`${hw}/batch-payment/create-lote-boleto`,{payload:e})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}async function U3(e){var t,r;try{return(await Vt.post(`${hw}/batch-payment/create-lote-pix`,{payload:e})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}async function z3(e){var t,r;try{return(await Vt.post(`${hw}/batch-payment/create-lote-transferencia`,{payload:e})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}var hh={},GF=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},V3={},ks={};let pw;const JF=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ks.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ks.getSymbolTotalCodewords=function(t){return JF[t]};ks.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ks.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');pw=t};ks.isKanjiModeEnabled=function(){return typeof pw<"u"};ks.toSJIS=function(t){return pw(t)};var Fm={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(Fm);function H3(){this.buffer=[],this.length=0}H3.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var KF=H3;function ph(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}ph.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};ph.prototype.get=function(e,t){return this.data[e*this.size+t]};ph.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};ph.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var YF=ph,W3={};(function(e){const t=ks.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,o=t(n),i=o===145?26:Math.ceil((o-13)/(2*a-2))*2,l=[o-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-i;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],o=e.getRowColCoords(n),i=o.length;for(let l=0;l<i;l++)for(let c=0;c<i;c++)l===0&&c===0||l===0&&c===i-1||l===i-1&&c===0||a.push([o[l],o[c]]);return a}})(W3);var G3={};const XF=ks.getSymbolSize,P5=7;G3.getPositions=function(t){const r=XF(t);return[[0,0],[r-P5,0],[0,r-P5]]};var J3={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const o=a.size;let i=0,l=0,c=0,d=null,u=null;for(let f=0;f<o;f++){l=c=0,d=u=null;for(let b=0;b<o;b++){let p=a.get(f,b);p===d?l++:(l>=5&&(i+=t.N1+(l-5)),d=p,l=1),p=a.get(b,f),p===u?c++:(c>=5&&(i+=t.N1+(c-5)),u=p,c=1)}l>=5&&(i+=t.N1+(l-5)),c>=5&&(i+=t.N1+(c-5))}return i},e.getPenaltyN2=function(a){const o=a.size;let i=0;for(let l=0;l<o-1;l++)for(let c=0;c<o-1;c++){const d=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(d===4||d===0)&&i++}return i*t.N2},e.getPenaltyN3=function(a){const o=a.size;let i=0,l=0,c=0;for(let d=0;d<o;d++){l=c=0;for(let u=0;u<o;u++)l=l<<1&2047|a.get(d,u),u>=10&&(l===1488||l===93)&&i++,c=c<<1&2047|a.get(u,d),u>=10&&(c===1488||c===93)&&i++}return i*t.N3},e.getPenaltyN4=function(a){let o=0;const i=a.data.length;for(let c=0;c<i;c++)o+=a.data[c];return Math.abs(Math.ceil(o*100/i/5)-10)*t.N4};function r(n,a,o){switch(n){case e.Patterns.PATTERN000:return(a+o)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(a+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return a*o%2+a*o%3===0;case e.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case e.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,o){const i=o.size;for(let l=0;l<i;l++)for(let c=0;c<i;c++)o.isReserved(c,l)||o.xor(c,l,r(a,c,l))},e.getBestMask=function(a,o){const i=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let d=0;d<i;d++){o(d),e.applyMask(d,a);const u=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(d,a),u<c&&(c=u,l=d)}return l}})(J3);var Bm={};const pl=Fm,ip=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],lp=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Bm.getBlocksCount=function(t,r){switch(r){case pl.L:return ip[(t-1)*4+0];case pl.M:return ip[(t-1)*4+1];case pl.Q:return ip[(t-1)*4+2];case pl.H:return ip[(t-1)*4+3];default:return}};Bm.getTotalCodewordsCount=function(t,r){switch(r){case pl.L:return lp[(t-1)*4+0];case pl.M:return lp[(t-1)*4+1];case pl.Q:return lp[(t-1)*4+2];case pl.H:return lp[(t-1)*4+3];default:return}};var K3={},$m={};const pf=new Uint8Array(512),R0=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)pf[r]=t,R0[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)pf[r]=pf[r-255]})();$m.log=function(t){if(t<1)throw new Error("log("+t+")");return R0[t]};$m.exp=function(t){return pf[t]};$m.mul=function(t,r){return t===0||r===0?0:pf[R0[t]+R0[r]]};(function(e){const t=$m;e.mul=function(n,a){const o=new Uint8Array(n.length+a.length-1);for(let i=0;i<n.length;i++)for(let l=0;l<a.length;l++)o[i+l]^=t.mul(n[i],a[l]);return o},e.mod=function(n,a){let o=new Uint8Array(n);for(;o.length-a.length>=0;){const i=o[0];for(let c=0;c<a.length;c++)o[c]^=t.mul(a[c],i);let l=0;for(;l<o.length&&o[l]===0;)l++;o=o.slice(l)}return o},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let o=0;o<n;o++)a=e.mul(a,new Uint8Array([1,t.exp(o)]));return a}})(K3);const Y3=K3;function mw(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}mw.prototype.initialize=function(t){this.degree=t,this.genPoly=Y3.generateECPolynomial(this.degree)};mw.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=Y3.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(n,a),o}return n};var QF=mw,X3={},Ol={},gw={};gw.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ko={};const Q3="[0-9]+",ZF="[A-Z $%*+\\-./:]+";let Uf="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Uf=Uf.replace(/u/g,"\\u");const eB="(?:(?![A-Z0-9 $%*+\\-./:]|"+Uf+`)(?:.|[\r
]))+`;Ko.KANJI=new RegExp(Uf,"g");Ko.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ko.BYTE=new RegExp(eB,"g");Ko.NUMERIC=new RegExp(Q3,"g");Ko.ALPHANUMERIC=new RegExp(ZF,"g");const tB=new RegExp("^"+Uf+"$"),rB=new RegExp("^"+Q3+"$"),nB=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ko.testKanji=function(t){return tB.test(t)};Ko.testNumeric=function(t){return rB.test(t)};Ko.testAlphanumeric=function(t){return nB.test(t)};(function(e){const t=gw,r=Ko;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,i){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?o.ccBits[0]:i<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return r.testNumeric(o)?e.NUMERIC:r.testAlphanumeric(o)?e.ALPHANUMERIC:r.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(o,i){if(e.isValid(o))return o;try{return n(o)}catch{return i}}})(Ol);(function(e){const t=ks,r=Bm,n=Fm,a=Ol,o=gw,i=7973,l=t.getBCHDigit(i);function c(b,p,w){for(let g=1;g<=40;g++)if(p<=e.getCapacity(g,w,b))return g}function d(b,p){return a.getCharCountIndicator(b,p)+4}function u(b,p){let w=0;return b.forEach(function(g){const A=d(g.mode,p);w+=A+g.getBitsLength()}),w}function f(b,p){for(let w=1;w<=40;w++)if(u(b,w)<=e.getCapacity(w,p,a.MIXED))return w}e.from=function(p,w){return o.isValid(p)?parseInt(p,10):w},e.getCapacity=function(p,w,g){if(!o.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=a.BYTE);const A=t.getSymbolTotalCodewords(p),v=r.getTotalCodewordsCount(p,w),j=(A-v)*8;if(g===a.MIXED)return j;const R=j-d(g,p);switch(g){case a.NUMERIC:return Math.floor(R/10*3);case a.ALPHANUMERIC:return Math.floor(R/11*2);case a.KANJI:return Math.floor(R/13);case a.BYTE:default:return Math.floor(R/8)}},e.getBestVersionForData=function(p,w){let g;const A=n.from(w,n.M);if(Array.isArray(p)){if(p.length>1)return f(p,A);if(p.length===0)return 1;g=p[0]}else g=p;return c(g.mode,g.getLength(),A)},e.getEncodedBits=function(p){if(!o.isValid(p)||p<7)throw new Error("Invalid QR Code version");let w=p<<12;for(;t.getBCHDigit(w)-l>=0;)w^=i<<t.getBCHDigit(w)-l;return p<<12|w}})(X3);var Z3={};const nb=ks,eC=1335,aB=21522,D5=nb.getBCHDigit(eC);Z3.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;nb.getBCHDigit(a)-D5>=0;)a^=eC<<nb.getBCHDigit(a)-D5;return(n<<10|a)^aB};var tC={};const sB=Ol;function qd(e){this.mode=sB.NUMERIC,this.data=e.toString()}qd.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};qd.prototype.getLength=function(){return this.data.length};qd.prototype.getBitsLength=function(){return qd.getBitsLength(this.data.length)};qd.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const o=this.data.length-r;o>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,o*3+1))};var oB=qd;const iB=Ol,py=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ud(e){this.mode=iB.ALPHANUMERIC,this.data=e}Ud.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ud.prototype.getLength=function(){return this.data.length};Ud.prototype.getBitsLength=function(){return Ud.getBitsLength(this.data.length)};Ud.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=py.indexOf(this.data[r])*45;n+=py.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(py.indexOf(this.data[r]),6)};var lB=Ud;const cB=Ol;function zd(e){this.mode=cB.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}zd.getBitsLength=function(t){return t*8};zd.prototype.getLength=function(){return this.data.length};zd.prototype.getBitsLength=function(){return zd.getBitsLength(this.data.length)};zd.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var dB=zd;const uB=Ol,fB=ks;function Vd(e){this.mode=uB.KANJI,this.data=e}Vd.getBitsLength=function(t){return t*13};Vd.prototype.getLength=function(){return this.data.length};Vd.prototype.getBitsLength=function(){return Vd.getBitsLength(this.data.length)};Vd.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=fB.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var hB=Vd,rC={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var o={},i={};i[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,d,u,f,b,p,w,g,A;!l.empty();){c=l.pop(),d=c.value,f=c.cost,b=r[d]||{};for(u in b)b.hasOwnProperty(u)&&(p=b[u],w=f+p,g=i[u],A=typeof i[u]>"u",(A||g>w)&&(i[u]=w,l.push(u,w),o[u]=d))}if(typeof a<"u"&&typeof i[a]>"u"){var v=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(v)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],o=n;o;)a.push(o),r[o],o=r[o];return a.reverse(),a},find_path:function(r,n,a){var o=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(rC);var pB=rC.exports;(function(e){const t=Ol,r=oB,n=lB,a=dB,o=hB,i=Ko,l=ks,c=pB;function d(v){return unescape(encodeURIComponent(v)).length}function u(v,j,R){const H=[];let U;for(;(U=v.exec(R))!==null;)H.push({data:U[0],index:U.index,mode:j,length:U[0].length});return H}function f(v){const j=u(i.NUMERIC,t.NUMERIC,v),R=u(i.ALPHANUMERIC,t.ALPHANUMERIC,v);let H,U;return l.isKanjiModeEnabled()?(H=u(i.BYTE,t.BYTE,v),U=u(i.KANJI,t.KANJI,v)):(H=u(i.BYTE_KANJI,t.BYTE,v),U=[]),j.concat(R,H,U).sort(function(x,I){return x.index-I.index}).map(function(x){return{data:x.data,mode:x.mode,length:x.length}})}function b(v,j){switch(j){case t.NUMERIC:return r.getBitsLength(v);case t.ALPHANUMERIC:return n.getBitsLength(v);case t.KANJI:return o.getBitsLength(v);case t.BYTE:return a.getBitsLength(v)}}function p(v){return v.reduce(function(j,R){const H=j.length-1>=0?j[j.length-1]:null;return H&&H.mode===R.mode?(j[j.length-1].data+=R.data,j):(j.push(R),j)},[])}function w(v){const j=[];for(let R=0;R<v.length;R++){const H=v[R];switch(H.mode){case t.NUMERIC:j.push([H,{data:H.data,mode:t.ALPHANUMERIC,length:H.length},{data:H.data,mode:t.BYTE,length:H.length}]);break;case t.ALPHANUMERIC:j.push([H,{data:H.data,mode:t.BYTE,length:H.length}]);break;case t.KANJI:j.push([H,{data:H.data,mode:t.BYTE,length:d(H.data)}]);break;case t.BYTE:j.push([{data:H.data,mode:t.BYTE,length:d(H.data)}])}}return j}function g(v,j){const R={},H={start:{}};let U=["start"];for(let F=0;F<v.length;F++){const x=v[F],I=[];for(let S=0;S<x.length;S++){const C=x[S],y=""+F+S;I.push(y),R[y]={node:C,lastCount:0},H[y]={};for(let k=0;k<U.length;k++){const P=U[k];R[P]&&R[P].node.mode===C.mode?(H[P][y]=b(R[P].lastCount+C.length,C.mode)-b(R[P].lastCount,C.mode),R[P].lastCount+=C.length):(R[P]&&(R[P].lastCount=C.length),H[P][y]=b(C.length,C.mode)+4+t.getCharCountIndicator(C.mode,j))}}U=I}for(let F=0;F<U.length;F++)H[U[F]].end=0;return{map:H,table:R}}function A(v,j){let R;const H=t.getBestModeForData(v);if(R=t.from(j,H),R!==t.BYTE&&R.bit<H.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(R)+`.
 Suggested mode is: `+t.toString(H));switch(R===t.KANJI&&!l.isKanjiModeEnabled()&&(R=t.BYTE),R){case t.NUMERIC:return new r(v);case t.ALPHANUMERIC:return new n(v);case t.KANJI:return new o(v);case t.BYTE:return new a(v)}}e.fromArray=function(j){return j.reduce(function(R,H){return typeof H=="string"?R.push(A(H,null)):H.data&&R.push(A(H.data,H.mode)),R},[])},e.fromString=function(j,R){const H=f(j,l.isKanjiModeEnabled()),U=w(H),F=g(U,R),x=c.find_path(F.map,"start","end"),I=[];for(let S=1;S<x.length-1;S++)I.push(F.table[x[S]].node);return e.fromArray(p(I))},e.rawSplit=function(j){return e.fromArray(f(j,l.isKanjiModeEnabled()))}})(tC);const qm=ks,my=Fm,mB=KF,gB=YF,yB=W3,xB=G3,ab=J3,sb=Bm,bB=QF,T0=X3,vB=Z3,wB=Ol,gy=tC;function kB(e,t){const r=e.size,n=xB.getPositions(t);for(let a=0;a<n.length;a++){const o=n[a][0],i=n[a][1];for(let l=-1;l<=7;l++)if(!(o+l<=-1||r<=o+l))for(let c=-1;c<=7;c++)i+c<=-1||r<=i+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(o+l,i+c,!0,!0):e.set(o+l,i+c,!1,!0))}}function jB(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function NB(e,t){const r=yB.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],o=r[n][1];for(let i=-2;i<=2;i++)for(let l=-2;l<=2;l++)i===-2||i===2||l===-2||l===2||i===0&&l===0?e.set(a+i,o+l,!0,!0):e.set(a+i,o+l,!1,!0)}}function SB(e,t){const r=e.size,n=T0.getEncodedBits(t);let a,o,i;for(let l=0;l<18;l++)a=Math.floor(l/3),o=l%3+r-8-3,i=(n>>l&1)===1,e.set(a,o,i,!0),e.set(o,a,i,!0)}function yy(e,t,r){const n=e.size,a=vB.getEncodedBits(t,r);let o,i;for(o=0;o<15;o++)i=(a>>o&1)===1,o<6?e.set(o,8,i,!0):o<8?e.set(o+1,8,i,!0):e.set(n-15+o,8,i,!0),o<8?e.set(8,n-o-1,i,!0):o<9?e.set(8,15-o-1+1,i,!0):e.set(8,15-o-1,i,!0);e.set(n-8,8,1,!0)}function CB(e,t){const r=e.size;let n=-1,a=r-1,o=7,i=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let d=!1;i<t.length&&(d=(t[i]>>>o&1)===1),e.set(a,l-c,d),o--,o===-1&&(i++,o=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function _B(e,t,r){const n=new mB;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),wB.getCharCountIndicator(c.mode,e)),c.write(n)});const a=qm.getSymbolTotalCodewords(e),o=sb.getTotalCodewordsCount(e,t),i=(a-o)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(i-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return EB(n,e,t)}function EB(e,t,r){const n=qm.getSymbolTotalCodewords(t),a=sb.getTotalCodewordsCount(t,r),o=n-a,i=sb.getBlocksCount(t,r),l=n%i,c=i-l,d=Math.floor(n/i),u=Math.floor(o/i),f=u+1,b=d-u,p=new bB(b);let w=0;const g=new Array(i),A=new Array(i);let v=0;const j=new Uint8Array(e.buffer);for(let x=0;x<i;x++){const I=x<c?u:f;g[x]=j.slice(w,w+I),A[x]=p.encode(g[x]),w+=I,v=Math.max(v,I)}const R=new Uint8Array(n);let H=0,U,F;for(U=0;U<v;U++)for(F=0;F<i;F++)U<g[F].length&&(R[H++]=g[F][U]);for(U=0;U<b;U++)for(F=0;F<i;F++)R[H++]=A[F][U];return R}function AB(e,t,r,n){let a;if(Array.isArray(e))a=gy.fromArray(e);else if(typeof e=="string"){let d=t;if(!d){const u=gy.rawSplit(e);d=T0.getBestVersionForData(u,r)}a=gy.fromString(e,d||40)}else throw new Error("Invalid data");const o=T0.getBestVersionForData(a,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const i=_B(t,r,a),l=qm.getSymbolSize(t),c=new gB(l);return kB(c,t),jB(c),NB(c,t),yy(c,r,0),t>=7&&SB(c,t),CB(c,i),isNaN(n)&&(n=ab.getBestMask(c,yy.bind(null,c,r))),ab.applyMask(n,c),yy(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}V3.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=my.M,a,o;return typeof r<"u"&&(n=my.from(r.errorCorrectionLevel,my.M),a=T0.from(r.version),o=ab.from(r.maskPattern),r.toSJISFunc&&qm.setToSJISFunction(r.toSJISFunc)),AB(t,a,n,o)};var nC={},yw={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:o,scale:o?4:i,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const o=e.getScale(n,a);return Math.floor((n+a.margin*2)*o)},e.qrToImageData=function(n,a,o){const i=a.modules.size,l=a.modules.data,c=e.getScale(i,o),d=Math.floor((i+o.margin*2)*c),u=o.margin*c,f=[o.color.light,o.color.dark];for(let b=0;b<d;b++)for(let p=0;p<d;p++){let w=(b*d+p)*4,g=o.color.light;if(b>=u&&p>=u&&b<d-u&&p<d-u){const A=Math.floor((b-u)/c),v=Math.floor((p-u)/c);g=f[l[A*i+v]?1:0]}n[w++]=g.r,n[w++]=g.g,n[w++]=g.b,n[w]=g.a}}})(yw);(function(e){const t=yw;function r(a,o,i){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=i,o.width=i,o.style.height=i+"px",o.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,i,l){let c=l,d=i;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),i||(d=n()),c=t.getOptions(c);const u=t.getImageWidth(o.modules.size,c),f=d.getContext("2d"),b=f.createImageData(u,u);return t.qrToImageData(b.data,o,c),r(f,d,u),f.putImageData(b,0,0),d},e.renderToDataURL=function(o,i,l){let c=l;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),c||(c={});const d=e.render(o,i,c),u=c.type||"image/png",f=c.rendererOpts||{};return d.toDataURL(u,f.quality)}})(nC);var aC={};const PB=yw;function L5(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function xy(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function DB(e,t,r){let n="",a=0,o=!1,i=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),d=Math.floor(l/t);!c&&!o&&(o=!0),e[l]?(i++,l>0&&c>0&&e[l-1]||(n+=o?xy("M",c+r,.5+d+r):xy("m",a,0),a=0,o=!1),c+1<t&&e[l+1]||(n+=xy("h",i),i=0)):a++}return n}aC.render=function(t,r,n){const a=PB.getOptions(r),o=t.modules.size,i=t.modules.data,l=o+a.margin*2,c=a.color.light.a?"<path "+L5(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+L5(a.color.dark,"stroke")+' d="'+DB(i,o,a.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,b),b};const LB=GF,ob=V3,sC=nC,IB=aC;function xw(e,t,r,n,a){const o=[].slice.call(arguments,1),i=o.length,l=typeof o[i-1]=="function";if(!l&&!LB())throw new Error("Callback required as last argument");if(l){if(i<2)throw new Error("Too few arguments provided");i===2?(a=r,r=t,t=n=void 0):i===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=t,t=n=void 0):i===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,d){try{const u=ob.create(r,n);c(e(u,t,n))}catch(u){d(u)}})}try{const c=ob.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}hh.create=ob.create;hh.toCanvas=xw.bind(null,sC.render);hh.toDataURL=xw.bind(null,sC.renderToDataURL);hh.toString=xw.bind(null,function(e,t,r){return IB.render(e,r)});const Op="https://financeiro.tshirteria.com";console.log(Op);const O0={async signUp(e){return(await Vt.post(`${Op}/auth/signup`,{name:e.name,email:e.email,password:e.password},{headers:{"Content-Type":"application/json"}})).data},async preLogin(e){const t=await Vt.post(`${Op}/auth/login`,{email:e.email,password:e.password},{headers:{"Content-Type":"application/json"}}),{error:r,otpauth:n,firstLogin:a}=t.data;if(!r&&a&&n){const o=await hh.toDataURL(n);return{error:r,qrcode:o}}return t.data},async login(e){const t=await Vt.post(`${Op}/auth/login/otp`,{email:e.email,password:e.password,google_auth_code:e.google_auth_code},{headers:{"Content-Type":"application/json"}});return t.data&&t.data.user&&t.data.user.id&&(console.log("userId",t.data.user.id),localStorage.setItem("userId",t.data.user.id)),t.data},getUserId(){return localStorage.getItem("userId")},logout(){localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("userEmail"),localStorage.removeItem("userToken"),localStorage.removeItem("userPermissions")}};function RB({isOpen:e,onClose:t,payment:r,loadPayments:n}){var Ge,et;const[a,o]=L.useState([]),i=L.useRef(null),l=L.useRef(null),[c,d]=L.useState(null),[u,f]=L.useState({supplierName:"",description:"",value:"",attachments:[],dueDate:"",cnpjId:null,categoryId:null,competence:"",bankAccountId:null,paymentMethod:"",cpfCnpj:"",pixKey:"",pixPaymentMethod:"",barcode:"",branch:"",account:"",digit:"",bankCode:"",type:"single",frequency:null,installments:null,endDate:null,num_req:""}),[b,p]=L.useState([]),[w,g]=L.useState([]),[A,v]=L.useState([]),[j,R]=L.useState("general"),[H,U]=L.useState(!1),[F,x]=L.useState(!1),[I,S]=L.useState(null),[C,y]=L.useState(!1),[k,P]=L.useState(!1),[E,q]=L.useState(null),[B,G]=L.useState(""),V=se=>{q(se),setTimeout(()=>{q(null)},5e3)},ee=O0.getUserId();L.useEffect(()=>{e&&le()},[e]);const le=async()=>{try{const{data:se,error:we}=await De.from("bank_accounts").select("*").eq("active",!0).order("name");if(we)throw we;v(se||[])}catch(se){console.error("Error loading bank accounts:",se),V("Erro ao carregar contas bancrias")}};function Q(se){if(typeof se!="string"||(se=se.replace(/[\s.-]*/gim,""),!se||se.length!==11||se==="00000000000"||se==="11111111111"||se==="22222222222"||se==="33333333333"||se==="44444444444"||se==="55555555555"||se==="66666666666"||se==="77777777777"||se==="88888888888"||se==="99999999999"))return!1;let we=0,Ae;for(let tt=1;tt<=9;tt++)we+=parseInt(se.substring(tt-1,tt))*(11-tt);if(Ae=we*10%11,(Ae===10||Ae===11)&&(Ae=0),Ae!==parseInt(se.substring(9,10)))return!1;we=0;for(let tt=1;tt<=10;tt++)we+=parseInt(se.substring(tt-1,tt))*(12-tt);return Ae=we*10%11,(Ae===10||Ae===11)&&(Ae=0),Ae===parseInt(se.substring(10,11))}function M(se){if(typeof se!="string"||(se=se.replace(/[\s.-]*/gim,""),!se||se.length!==14||se==="00000000000000"||se==="11111111111111"||se==="22222222222222"||se==="33333333333333"||se==="44444444444444"||se==="55555555555555"||se==="66666666666666"||se==="77777777777777"||se==="88888888888888"||se==="99999999999999"))return!1;let we=se.length-2,Ae=se.substring(0,we);const tt=se.substring(we);let Fe=0,st=we-7;for(let Tt=we;Tt>=1;Tt--)Fe+=parseInt(Ae.charAt(we-Tt))*st--,st<2&&(st=9);let Nt=Fe%11<2?0:11-Fe%11;if(Nt!==parseInt(tt.charAt(0)))return!1;we=we+1,Ae=se.substring(0,we),Fe=0,st=we-7;for(let Tt=we;Tt>=1;Tt--)Fe+=parseInt(Ae.charAt(we-Tt))*st--,st<2&&(st=9);return Nt=Fe%11<2?0:11-Fe%11,Nt===parseInt(tt.charAt(1))}function J(se){const we=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Ae=se.replace(/[^0-9]/g,"");return Q(Ae)?"CPF":M(Ae)?"CNPJ":we.test(se)?"Email":Ae.length===10||Ae.length===11?"Telefone":"Chave Aleatria"}function te(se){const we=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Ae=se.replace(/[^0-9]/g,"");return Q(Ae)||M(Ae)?3:we.test(se)?2:Ae.length===10||Ae.length===11?1:4}const ue=async()=>{const{data:se,error:we}=await De.from("settings").select("num_req").single();if(we)throw we;const Ae=se.num_req,{data:tt,error:Fe}=await De.from("settings").update({num_req:Ae+1}).eq("id",1);if(Fe)throw Fe;return Ae},ie=async()=>{if(r)try{P(!0),V(null);const se=te(u.pixKey);f(Ae=>({...Ae,pixPaymentMethod:se}));const we=A.find(Ae=>Ae.id===r.bankAccountId);if(!we){V("Conta bancria no encontrada");return}if(u.paymentMethod==="pix"){let Ae=u.pixKey;se===3&&(Ae=Ae.replace(/\D/g,""));const Fe={numeroRequisicao:await ue(),agenciaDebito:we.branch,contaCorrenteDebito:we.account,digitoVerificadorContaCorrente:we.digit||"X",tipoPagamento:"126",listaTransferencias:[{data:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valor:Number(u.value),descricaoPagamento:u.description,descricaoPagamentoInstantaneo:u.description,formaIdentificacao:se,...se===1&&{dddTelefone:Ae.substring(0,2),telefone:Ae.substring(2)},...se===2&&{email:Ae},...se===3&&Ae.length===11&&{cpf:Ae},...se===3&&Ae.length===14&&{cnpj:Ae},...se===4&&{identificacaoAleatoria:Ae}}]},st=await U3({...Fe,paymentId:r.id,userId:ee,sourceAccountId:u.bankAccountId});if(st.error){const Nt=st.data.map(Tt=>Tt.codigo+" - "+Tt.mensagem).join(`
`);V(Nt);return}}if(r.paymentMethod==="boleto"){const tt={numeroRequisicao:await ue(),codigoContrato:we.agreementCode,numeroAgenciaDebito:we.branch,numeroContaCorrenteDebito:we.account,digitoVerificadorContaCorrenteDebito:we.digit||"X",tipoPagamento:"126",lancamentos:[{numeroCodigoBarras:u.barcode.replace(/\D/g,""),dataPagamento:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valorPagamento:Number(u.value),descricaoPagamento:u.description,valorNominal:Number(u.value),codigoTipoBeneficiario:wd(u.cpfCnpj)?2:1,documentoBeneficiario:u.cpfCnpj?u.cpfCnpj.replace(/\D/g,""):""}],sourceAccountId:u.bankAccountId},Fe=await q3({...tt,paymentId:r.id,userId:ee});if(Fe.error){const st=Fe.data.map(Nt=>Nt.codigo+" - "+Nt.mensagem).join(`
`);V(st);return}}if(r.paymentMethod==="transferencia"){const tt={numeroRequisicao:await ue(),agenciaDebito:we.branch,contaCorrenteDebito:we.account,digitoVerificadorContaCorrente:we.digit||"X",tipoPagamento:128,listaTransferencias:[{agenciaCredito:r.branch,contaCorrenteCredito:r.account,digitoVerificadorContaCorrente:r.digit||"X",dataTransferencia:new Date().toISOString().split("T")[0].split("-").reverse().join(""),numeroCOMPE:r.bankCode,codigoFinalidadeTED:1,valorTransferencia:parseFloat(r.value.toFixed(2)),...wd(r==null?void 0:r.cpfCnpj)&&{cnpjBeneficiario:r.cpfCnpj?r.cpfCnpj.replace(/\D/g,""):""},...!wd(r==null?void 0:r.cpfCnpj)&&{cpfBeneficiario:r.cpfCnpj?r.cpfCnpj.replace(/\D/g,""):""}}],sourceAccountId:u.bankAccountId},Fe=await z3({...tt,paymentId:r.id,userId:ee});if(Fe.error){const st=Fe.data.map(Nt=>Nt.codigo+" - "+Nt.mensagem).join(`
`);V(st);return}}await De.from("payments").update({bb_payment_status:"COMPLETED",updated_at:new Date().toISOString()}).in("id",[r.id]),n(),t()}catch(se){console.log(se),console.error("Erro ao processar pagamento:",se),V("Erro ao processar pagamento")}finally{P(!1)}};L.useEffect(()=>{e&&(de(),r&&(console.log(`
# PAYMENT:`,r),d(r),f(se=>({...se,num_req:r.num_req||"",supplierName:r.supplier.name||"",description:r.description||"",value:r.value?r.value.toString():"",dueDate:r.dueDate?r.dueDate.split("T")[0]:"",cnpjId:r.cnpjId||"",categoryId:r.categoryId||"",competence:r.competence||"",bankAccountId:r.bankAccountId||"",paymentMethod:r.paymentMethod||"",pixKey:r.pixKey||"",pixPaymentMethod:r.pixPaymentMethod||"",bankCode:r.bankCode||"",barcode:r.barcode||"",branch:r.branch||"",account:r.account||"",digit:r.digit||"X",type:r.type||"single",frequency:r.frequency||null,installments:r.installments||null,endDate:r.endDate?r.endDate.split("T")[0]:"",cpfCnpj:r.cpfCnpj||""}))))},[e,r]);const de=async()=>{try{const[se,we,Ae]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0)]);if(se.error)throw se.error;if(we.error)throw we.error;if(Ae.error)throw Ae.error;p(se.data||[]),g(we.data||[]),v(Ae.data||[])}catch(se){console.error("Error loading data:",se),V("Erro ao carregar dados")}};if(!e||!r)return null;const ye=se=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se),pe=se=>{let we=se.target.value.replace(/\D/g,"");we===""&&(we="0");const Ae=parseInt(we)/100;f(tt=>({...tt,value:Ae.toString()}))},Ee=se=>se?new Date(se).toLocaleDateString("pt-BR"):"-",$e=r.status==="PAID",qe=async(se,we)=>{try{if(P(!0),V(null),r.status==="PAID"){const Ae={supplier_name:u.supplierName,competence:u.competence};await De.from("payments").update(Ae).eq("id",r.id),await De.from("bank_statements").update({beneficiary:u.supplierName}).eq("payment_id",r.id)}else{const Ae={...u,pix_payment_method:u.pixPaymentMethod};await OF({...Ae,id:r.id,singleUpdate:we})}await n(),t()}catch(Ae){console.error("Error updating payment:",Ae),V("Erro ao atualizar pagamento")}finally{P(!1)}},Ye=async()=>{if(rt()){V("Os dados do pagamento foram alterados, por favor, atualize os dados antes de realizar o pagamento.");return}V(null),G(""),y(!1),U(!0),S(r)},dt=async()=>{if(rt()){V("Os dados do pagamento foram alterados, por favor, atualize os dados antes de realizar o pagamento.");return}V(null),G(""),y(!0),U(!0),S(r)},Me=async()=>{try{if(!B||B.length!==6){V("Por favor, insira um cdigo de autenticao vlido");return}P(!0),U(!1);const se=await Nl.checkGoogleAuth({userId:localStorage.getItem("userId")||"",google_auth_code:B});if(console.log(`
# RESPONSE:`,se),se.error){V(se.message);return}C?await ie():(await Nl.executePayment(r.id,u.bankAccountId),await n(),t())}catch(se){console.error("Error marking payment as paid:",se),V("Erro ao marcar pagamento como pago")}finally{P(!1)}},ge=se=>{const we=Array.from(se.target.files||[]);if(we.length===0)return;const Ae=we.filter(tt=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(tt.type)?tt.size>5242880?(V("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(V("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(Ae.length>0){V(null);const tt=Ae.map(Fe=>Fe.type.startsWith("image/")?URL.createObjectURL(Fe):"");f(Fe=>({...Fe,attachments:[...Fe.attachments,...Ae]})),o(Fe=>[...Fe,...tt])}},yt=se=>{f(we=>({...we,attachments:we.attachments.filter((Ae,tt)=>tt!==se)})),a[se]&&URL.revokeObjectURL(a[se]),o(we=>we.filter((Ae,tt)=>tt!==se))},rt=()=>{var se,we,Ae;return c?r.status==="PAID"?u.supplierName!==(((se=c.supplier)==null?void 0:se.name)||"")||u.competence!==(c.competence||""):u.supplierName!==(((we=c.supplier)==null?void 0:we.name)||"")||u.description!==(c.description||"")||u.value!==(((Ae=c.value)==null?void 0:Ae.toString())||"")||u.dueDate!==(c.dueDate?c.dueDate.split("T")[0]:"")||u.cnpjId!==(c.cnpjId||"")||u.categoryId!==(c.categoryId||"")||u.competence!==(c.competence||"")||u.bankAccountId!==(c.bankAccountId||"")||u.paymentMethod!==(c.paymentMethod||"")||u.pixKey!==(c.pixKey||"")||u.barcode!==(c.barcode||"")||u.branch!==(c.branch||"")||u.account!==(c.account||"")||u.digit!==(c.digit||"X")||u.type!==(c.type||"single")||u.frequency!==(c.frequency||null)||u.installments!==(c.installments||null)||u.endDate!==(c.endDate?c.endDate.split("T")[0]:"")||u.cpfCnpj!==(c.cpfCnpj||"")||u.bankCode!==(c.bankCode||"")||u.pixPaymentMethod!==(c.pixPaymentMethod||""):!1};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Editar/Executar Pagamento"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>R("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${j==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>R("payment"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${j==="payment"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados para o Pagamento"}),s.jsx("button",{onClick:()=>R("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${j==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("form",{children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[E&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:E})}),j==="general"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Beneficirio"}),s.jsx("input",{type:"text",value:u.supplierName,onChange:se=>f(we=>({...we,supplierName:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Descrio"}),s.jsx("textarea",{value:u.description,onChange:se=>f(we=>({...we,description:se.target.value})),disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[(Ge=u.description)==null?void 0:Ge.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor"}),s.jsx("input",{type:"text",value:ye(Number(u.value)),onChange:pe,disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:u.dueDate,onChange:se=>f(we=>({...we,dueDate:se.target.value})),disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(et=r.attachmentUrls)!=null&&et.length?s.jsx("a",{href:r.attachmentUrls[0],target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:u.attachments.map((se,we)=>s.jsxs("div",{className:"relative",children:[a[we]?s.jsx("img",{src:a[we],alt:`Preview ${we+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:se.name})}),s.jsx("button",{type:"button",onClick:()=>yt(we),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Ht,{className:"h-4 w-4"})})]},we))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var se;return(se=i.current)==null?void 0:se.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Ni,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:i,type:"file",onChange:ge,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:l,type:"file",onChange:ge,className:"hidden",accept:"image/*",capture:"environment"})]})]}),j==="payment"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:u.cnpjId,onChange:se=>f(we=>({...we,cnpjId:se.target.value})),disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),b.map(se=>s.jsxs("option",{value:se.id,children:[se.name," - ",se.cnpj]},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Despesa *"}),s.jsxs("select",{disabled:$e,value:u.categoryId,onChange:se=>f(we=>({...we,categoryId:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),w.map(se=>s.jsx("option",{value:se.id,children:se.name},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:u.competence,onChange:se=>f(we=>({...we,competence:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:u.bankAccountId,onChange:se=>f(we=>({...we,bankAccountId:se.target.value})),disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),A.map(se=>s.jsxs("option",{value:se.id,children:[se.name," - ",se.bank," ",se.branch,"/",se.account]},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:u.paymentMethod,onChange:se=>f(we=>({...we,paymentMethod:se.target.value})),disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"})]})]}),u.paymentMethod==="pix"&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",J(u.pixKey),")"]}),s.jsx("input",{type:"text",value:u.pixKey,onChange:se=>f(we=>({...we,pixKey:se.target.value})),disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]})}),u.paymentMethod==="boleto"&&s.jsxs("div",{className:"grid grid-cols-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:u.barcode,onChange:se=>f(we=>({...we,barcode:se.target.value})),disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),u.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:u.bankCode,onChange:se=>f(we=>({...we,bankCode:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:u.branch,onChange:se=>f(we=>({...we,branch:se.target.value})),disabled:$e,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:u.account,onChange:se=>f(we=>({...we,account:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:u.digit,onChange:se=>f(we=>({...we,digit:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),(u.paymentMethod==="boleto"||u.paymentMethod==="transferencia")&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1 mt-4",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:u.cpfCnpj,onChange:se=>f(we=>({...we,cpfCnpj:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),j==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:u.type==="single",onChange:se=>f(we=>({...we,type:se.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:u.type==="recurring",onChange:se=>f(we=>({...we,type:se.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:u.type==="installments",onChange:se=>f(we=>({...we,type:se.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),u.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:u.frequency,onChange:se=>f(we=>({...we,frequency:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),u.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:u.installments,onChange:se=>f(we=>({...we,installments:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:u.endDate,onChange:se=>f(we=>({...we,endDate:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700 p-6",children:[s.jsx("button",{type:"button",disabled:k,onClick:t,className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{type:"button",disabled:k,onClick:()=>qe(!1,!1),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Atualizar Dados"}),r.status!=="PAID"&&s.jsxs("button",{type:"button",className:"flex items-center px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",onClick:dt,disabled:k,children:[s.jsx(Rv,{className:"h-5 w-5"})," ",s.jsx("span",{children:"Pagar via API"})]}),r.status!=="PAID"&&s.jsx("button",{type:"button",disabled:k,onClick:Ye,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Gerar Baixa"})]})]})]}),H&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:C?"Confirmar Pagamento via API":"Confirmar Baixa"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja realizar o pagamento R$ ${I==null?void 0:I.value} para "${I==null?void 0:I.supplier.name}" com vencimento ${Ee(I==null?void 0:I.dueDate)}? Esta ao no pode ser desfeita.`}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:B,onChange:se=>G(se.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:se=>{se.key==="Enter"&&Me()},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",maxLength:6})]}),E&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:E}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{U(!1),S(null),V(null),G("")},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{onClick:Me,disabled:!B||B.length!==6||k,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[90px]",children:k?"...":"Pagar"})]})]})}),F&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Atualizao"}),r.type!="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Este  um pagamento ${r.type=="recurring"?"recorrente":"parcelado"}, como deseja prosseguir?`}),r.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:"Deseja criar parcelas/recorrncia para este pagamento?"}),u.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Este  um pagamento ${r.type=="recurring"?"recorrente":"parcelado"}, deseja apagar todos os lanamentos futuros?`}),r.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja atualizar o pagamento R$ ${r.value} para ${r==null?void 0:r.supplier.name} com vencimento ${Ee(r==null?void 0:r.dueDate)}?`}),E&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:E}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{x(!1),V(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),r.type!="single"||r.type!="single"&&s.jsx("button",{onClick:()=>{x(!1),qe(!0,!1)},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[150px]",children:"Atualizar Todos"}),s.jsx("button",{onClick:()=>{x(!1),qe(!0,r.type!="single")},className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[150px]",children:u.type!="single"&&r.type!="single"||r.type!="single"?"Atualizar Este":"Atualizar"})]})]})})]})}function TB({payments:e,loadPayments:t}){const[r,n]=Mr.useState(null);if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Tf,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum pagamento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h pagamentos que correspondam aos filtros selecionados."})]});const a=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),o=c=>{const d=new Date(c);return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate())},i=c=>o(c).toLocaleDateString("pt-BR"),l=c=>{switch(c){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Atrasado"});case"SCHEDULED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:" vencer"});case"PAID":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Pago"});default:return null}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(c=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex flex-col",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:c.supplier.name})})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:[c.description," ",c.installmentNumber&&`(${c.installmentNumber}/${c.installments})`]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:a(c.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(c.dueDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(c.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[c.status==="PAID"&&s.jsx("button",{type:"button",onClick:()=>n(c),className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors w-[90px]",children:"Ver"}),c.status!=="PAID"&&s.jsx("button",{type:"button",onClick:()=>n(c),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[90px]",children:"Pagar"})]})]},c.id))})]})}),s.jsx(RB,{isOpen:!!r,onClose:()=>n(null),payment:r,loadPayments:t})]})}function OB({isOpen:e,onClose:t,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=Mr.useState(r),l=()=>{n(o),t()},c=()=>{const d={dateRange:{start:"",end:""},status:[],cnpjId:"",bankAccountId:""};a(),i(d),n(d),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Atrasados"}),s.jsx("option",{value:"SCHEDULED",children:" vencer"}),s.jsx("option",{value:"PAID",children:"Pagos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("select",{value:o.cnpjId,onChange:d=>i(u=>({...u,cnpjId:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todos"})})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function MB({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState("general"),[o,i]=L.useState(!1),[l,c]=L.useState(null),[d,u]=L.useState([]),[f,b]=L.useState([]),[p,w]=L.useState([]),[g,A]=L.useState({general:{supplier_name:"",description:"",category:"",cnpj:"",competence:""},payment:{value:"",dueDate:"",bankAccount:"",paymentMethod:"",pixKey:"",pixPaymentMethod:"",bankCode:"",cpfCnpj:"",barcode:"",branch:"",account:"",digit:""},occurrence:{type:"single",installments:"",frequency:"",endDate:""}});L.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const[S,C,y]=await Promise.all([De.from("cnpjs").select("id, name, cnpj, bank_account_id").eq("active",!0).order("name"),De.from("financial_categories").select("*").in("type",["EXPENSE","BOTH"]).eq("active",!0).order("name"),De.from("bank_accounts").select(`
            *,
            cnpj:cnpjs (
              id,
              name,
              cnpj
            )
          `).eq("active",!0).order("name")]);if(S.error)throw S.error;if(C.error)throw C.error;if(y.error)throw y.error;u(S.data||[]),b(C.data||[]),w(y.data||[])}catch(S){console.error("Error loading data:",S),c("Erro ao carregar dados do sistema")}},j=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(S)),R=S=>{let C=S.target.value.replace(/\D/g,"");C===""&&(C="0");const y=parseInt(C)/100;A(k=>({...k,payment:{...k.payment,value:y.toString()}}))};function H(S){if(typeof S!="string"||(S=S.replace(/[\s.-]*/gim,""),!S||S.length!==11||S==="00000000000"||S==="11111111111"||S==="22222222222"||S==="33333333333"||S==="44444444444"||S==="55555555555"||S==="66666666666"||S==="77777777777"||S==="88888888888"||S==="99999999999"))return!1;let C=0,y;for(let k=1;k<=9;k++)C+=parseInt(S.substring(k-1,k))*(11-k);if(y=C*10%11,(y===10||y===11)&&(y=0),y!==parseInt(S.substring(9,10)))return!1;C=0;for(let k=1;k<=10;k++)C+=parseInt(S.substring(k-1,k))*(12-k);return y=C*10%11,(y===10||y===11)&&(y=0),y===parseInt(S.substring(10,11))}function U(S){if(typeof S!="string"||(S=S.replace(/[\s.-]*/gim,""),!S||S.length!==14||S==="00000000000000"||S==="11111111111111"||S==="22222222222222"||S==="33333333333333"||S==="44444444444444"||S==="55555555555555"||S==="66666666666666"||S==="77777777777777"||S==="88888888888888"||S==="99999999999999"))return!1;let C=S.length-2,y=S.substring(0,C),k=S.substring(C),P=0,E=C-7;for(let B=C;B>=1;B--)P+=parseInt(y.charAt(C-B))*E--,E<2&&(E=9);let q=P%11<2?0:11-P%11;if(q!==parseInt(k.charAt(0)))return!1;C=C+1,y=S.substring(0,C),P=0,E=C-7;for(let B=C;B>=1;B--)P+=parseInt(y.charAt(C-B))*E--,E<2&&(E=9);return q=P%11<2?0:11-P%11,q===parseInt(k.charAt(1))}function F(S){const C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,y=S.replace(/[^0-9]/g,"");return H(y)?"CPF":U(y)?"CNPJ":C.test(S)?"Email":y.length===10||y.length===11?"Telefone":"Chave Aleatria"}const x=async S=>{var C,y;if(S.preventDefault(),i(!0),c(null),!g.payment.value){c("Valor  obrigatrio"),i(!1);return}if(!g.payment.dueDate){c("Data de vencimento  obrigatria"),i(!1);return}if(!g.payment.bankAccount){c("Conta bancria  obrigatria"),i(!1);return}if(!g.payment.paymentMethod){c("Forma de pagamento  obrigatria"),i(!1);return}if(g.payment.paymentMethod==="transferencia"&&(!g.payment.branch||!g.payment.account||!g.payment.digit||!g.payment.bankCode)){c("Agncia, conta, dgito e banco so obrigatrios"),i(!1);return}try{const k=localStorage.getItem("userId");await TF({supplier_name:g.general.supplier_name,description:g.general.description,category_id:g.general.category,cnpj_id:g.general.cnpj,competence:new Date(g.general.competence).toISOString().split("T")[0],value:parseFloat(g.payment.value),due_date:new Date(g.payment.dueDate).toISOString().split("T")[0],bank_account_id:g.payment.bankAccount,payment_method:g.payment.paymentMethod,pix_key:g.payment.pixKey,pix_payment_method:g.payment.pixPaymentMethod,cpfCnpj:(C=g.payment)==null?void 0:C.cpfCnpj,bankCode:(y=g.payment)==null?void 0:y.bankCode,barcode:g.payment.barcode,branch:g.payment.branch,account:g.payment.account,digit:g.payment.digit,type:g.occurrence.type,installments:g.occurrence.installments||1,frequency:g.occurrence.frequency,end_date:g.occurrence.endDate?new Date(g.occurrence.endDate).toISOString().split("T")[0]:null,status:"SCHEDULED",created_by:k}),a("general"),A({general:{supplier_name:"",description:"",category:"",cnpj:"",competence:""},payment:{value:"",dueDate:"",bankAccount:"",paymentMethod:"",pixPaymentMethod:"",cpfCnpj:"",bankCode:"",pixKey:"",barcode:"",branch:"",account:"",digit:""},occurrence:{type:"single",installments:"",frequency:"",endDate:""}}),r()}catch(k){console.error("Error creating payment:",k),c("Erro ao criar pagamento")}finally{i(!1)}},I=S=>{A(C=>({...C,payment:{...C.payment,pixKey:S.target.value}}))};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Cadastrar Novo Pagamento"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("payment"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="payment"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Pagamento"}),s.jsx("button",{onClick:()=>a("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"min-h-[400px] p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:g.general.supplier_name,onChange:S=>A(C=>({...C,general:{...C.general,supplier_name:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:g.general.description,onChange:S=>A(C=>({...C,general:{...C.general,description:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia"}),s.jsx("input",{type:"date",value:g.general.competence,onChange:S=>A(C=>({...C,general:{...C.general,competence:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:g.general.category,onChange:S=>A(C=>({...C,general:{...C.general,category:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),f.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:g.general.cnpj,onChange:S=>{const C=d.find(y=>y.id===S.target.value);A(y=>({...y,general:{...y.general,cnpj:S.target.value},payment:{...y.payment,bankAccount:(C==null?void 0:C.bank_account_id)||y.payment.bankAccount}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),d.map(S=>s.jsxs("option",{value:S.id,children:[S.name," - ",S.cnpj]},S.id))]})]})]})]}),n==="payment"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:j(g.payment.value),onChange:R,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:g.payment.dueDate,onChange:S=>A(C=>({...C,payment:{...C.payment,dueDate:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:g.payment.bankAccount,onChange:S=>A(C=>({...C,payment:{...C.payment,bankAccount:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),p.map(S=>s.jsxs("option",{value:S.id,children:[S.name," - ",S.bank," ",S.branch,"/",S.account]},S.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:g.payment.paymentMethod,onChange:S=>A(C=>({...C,payment:{...C.payment,paymentMethod:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"},1),s.jsx("option",{value:"pix",children:"PIX"},2),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"},3)]})]}),g.payment.paymentMethod==="pix"&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",F(g.payment.pixKey),")"]}),s.jsx("input",{type:"text",value:g.payment.pixKey,onChange:I,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]}),g.payment.paymentMethod==="boleto"&&s.jsx("div",{className:"flex flex-nowrap gap-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:g.payment.barcode,onChange:S=>A(C=>({...C,payment:{...C.payment,barcode:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),g.payment.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:g.payment.bankCode,onChange:S=>A(C=>({...C,payment:{...C.payment,bankCode:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:g.payment.branch,onChange:S=>A(C=>({...C,payment:{...C.payment,branch:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:g.payment.account,onChange:S=>A(C=>({...C,payment:{...C.payment,account:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:g.payment.digit,onChange:S=>A(C=>({...C,payment:{...C.payment,digit:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),(g.payment.paymentMethod==="transferencia"||g.payment.paymentMethod==="boleto")&&s.jsx("div",{className:"flex flex-nowrap gap-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:g.payment.cpfCnpj,onChange:S=>A(C=>({...C,payment:{...C.payment,cpfCnpj:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})})]}),n==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:g.occurrence.type==="single",onChange:S=>A(C=>({...C,occurrence:{...C.occurrence,type:S.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:g.occurrence.type==="recurring",onChange:S=>A(C=>({...C,occurrence:{...C.occurrence,type:S.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:g.occurrence.type==="installments",onChange:S=>A(C=>({...C,occurrence:{...C.occurrence,type:S.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),g.occurrence.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:g.occurrence.frequency,onChange:S=>A(C=>({...C,occurrence:{...C.occurrence,frequency:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:g.occurrence.type==="recurring",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),g.occurrence.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:g.occurrence.installments,onChange:S=>A(C=>({...C,occurrence:{...C.occurrence,installments:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:g.occurrence.type==="installments"})]}),g.occurrence.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:g.occurrence.endDate,onChange:S=>A(C=>({...C,occurrence:{...C.occurrence,endDate:S.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:g.occurrence.type!=="single"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Pagamento"})]})]})]})}):null}const I5="https://financeiro.tshirteria.com";async function FB(e,t){if(!localStorage.getItem("userId"))throw new Error("User is not authenticated.");try{await Vt.post(`${I5}/cnab/gerar-cnab`,{headerInfo:e,detalhes:t},{headers:{"Content-Type":"application/json"}}).then(n=>{const a=document.createElement("a");a.href=`${I5}${n.data.downloadUrl}`,a.setAttribute("download","cnab400_bb_exemplo.rem"),a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a)})}catch(n){throw console.error("Error fetching receivables:",n),n}}function BB({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState(!1),[o,i]=L.useState(null),[l,c]=L.useState([]),[d,u]=L.useState(""),[f,b]=L.useState([]),[p,w]=L.useState([]),[g,A]=L.useState("240");L.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const{error:I}=await De.auth.getSession();if(I)throw I;const[S,C]=await Promise.all([De.from("bank_accounts").select("*").eq("active",!0).order("name"),De.from("payments").select("*").eq("status","SCHEDULED").order("due_date")]);if(S.error)throw S.error;if(C.error)throw C.error;c(S.data||[]),b(C.data||[])}catch(I){console.error("Error loading data:",I),i("Erro ao carregar dados")}},j=I=>{u(I),w([])},R=I=>{w(S=>S.includes(I)?S.filter(C=>C!==I):[...S,I])},H=()=>{p.length===f.length?w([]):w(f.map(I=>I.id))},U=async()=>{const I=new Date,S=String(I.getDate()).padStart(2,"0"),C=String(I.getMonth()+1).padStart(2,"0"),y=String(I.getFullYear()).slice(-2),k=l.find(B=>B.id===d),P={convenio:k==null?void 0:k.branch,conta:k==null?void 0:k.account,nomeEmpresa:k==null?void 0:k.name,dataGeracao:`${S}${C}${y}`,sequencialArquivo:"000001"},q=f.filter(B=>p.includes(B.id));FB(P,q)},F=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),x=I=>new Date(I).toLocaleDateString("pt-BR");return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Gerar Remessa CNAB"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:d,onChange:I=>j(I.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),l.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.bank," ",I.branch,"/",I.account]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de CNAB"}),s.jsxs("select",{value:g,onChange:I=>A(I.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"240",children:"CNAB 240"}),s.jsx("option",{value:"400",children:"CNAB 400"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Pagamentos Disponveis"}),s.jsx("button",{type:"button",onClick:H,className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:p.length===f.length?"Desmarcar Todos":"Selecionar Todos"})]}),s.jsx("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"w-16 px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:p.length===f.length,onChange:H,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:f.map(I=>s.jsxs("tr",{className:`${p.includes(I.id)?"bg-primary-50 dark:bg-primary-900/10":"hover:bg-secondary-50 dark:hover:bg-secondary-800"} transition-colors`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:p.includes(I.id),onChange:()=>R(I.id),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:I.supplier_name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:x(I.due_date)}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-right text-secondary-900 dark:text-white",children:F(I.value)})]},I.id))})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:U,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||!d||p.length===0,children:n?"Gerando...":"Gerar CNAB"})]})]})]})}):null}const R5=()=>{const e=new Date,t=e.getDate(),r=e.getMonth()+1,n=e.getFullYear();return`${t}${r.toString().padStart(2,"0")}${n}`};function $B({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState(!1),[o,i]=L.useState(null),[l,c]=L.useState([]),[d,u]=L.useState([]),[f,b]=L.useState([]),[p,w]=L.useState({dateRange:{start:"",end:""},paymentType:"",supplier:"",minValue:"",maxValue:"",bankAccountId:""}),[g,A]=L.useState(""),v=O0.getUserId();L.useEffect(()=>{e&&j()},[e]);const j=async()=>{try{const[y]=await Promise.all([De.from("bank_accounts").select("*").eq("active",!0).order("name")]),k=await B3();if(y.error)throw y.error;c(k),b(y.data||[])}catch(y){console.error("Error loading data:",y),i("Erro ao carregar dados")}};function R(y){if(typeof y!="string"||(y=y.replace(/[\s.-]*/gim,""),!y||y.length!==11||y==="00000000000"||y==="11111111111"||y==="22222222222"||y==="33333333333"||y==="44444444444"||y==="55555555555"||y==="66666666666"||y==="77777777777"||y==="88888888888"||y==="99999999999"))return!1;let k=0,P;for(let E=1;E<=9;E++)k+=parseInt(y.substring(E-1,E))*(11-E);if(P=k*10%11,(P===10||P===11)&&(P=0),P!==parseInt(y.substring(9,10)))return!1;k=0;for(let E=1;E<=10;E++)k+=parseInt(y.substring(E-1,E))*(12-E);return P=k*10%11,(P===10||P===11)&&(P=0),P===parseInt(y.substring(10,11))}function H(y){if(typeof y!="string"||(y=y.replace(/[\s.-]*/gim,""),!y||y.length!==14||y==="00000000000000"||y==="11111111111111"||y==="22222222222222"||y==="33333333333333"||y==="44444444444444"||y==="55555555555555"||y==="66666666666666"||y==="77777777777777"||y==="88888888888888"||y==="99999999999999"))return!1;let k=y.length-2,P=y.substring(0,k),E=y.substring(k),q=0,B=k-7;for(let V=k;V>=1;V--)q+=parseInt(P.charAt(k-V))*B--,B<2&&(B=9);let G=q%11<2?0:11-q%11;if(G!==parseInt(E.charAt(0)))return!1;k=k+1,P=y.substring(0,k),q=0,B=k-7;for(let V=k;V>=1;V--)q+=parseInt(P.charAt(k-V))*B--,B<2&&(B=9);return G=q%11<2?0:11-q%11,G===parseInt(E.charAt(1))}function U(y){const k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,P=y.replace(/[^0-9]/g,"");return R(P)||H(P)?3:k.test(y)?2:P.length===10||P.length===11?1:4}const F=async()=>{const{data:y,error:k}=await De.from("settings").select("num_req").single();if(k)throw k;const P=y.num_req,{data:E,error:q}=await De.from("settings").update({num_req:P+1}).eq("id",1);if(q)throw q;return P},x=async()=>{const y=[];if(d.length===0){i("Selecione pelo menos um pagamento");return}if(!g||g.length!==6){i("Por favor, insira um cdigo de autenticao vlido");return}try{a(!0),i(null);const k=await Nl.checkGoogleAuth({userId:v||"",google_auth_code:g});if(k.error){i(k.message);return}const P=d.reduce((E,q)=>{const B=l.find(V=>V.id===q);if(!B)return E;const G=B.bankAccountId;return E[G]||(E[G]=[]),E[G].push(B),E},{});for(const[E,q]of Object.entries(P)){const B=f.find(V=>V.id===E);if(!B)continue;const G=q.reduce((V,ee)=>(V[ee.paymentMethod]||(V[ee.paymentMethod]=[]),V[ee.paymentMethod].push(ee),V),{});if(G.pix){const ee={numeroRequisicao:await F(),agenciaDebito:B.branch,contaCorrenteDebito:B.account,digitoVerificadorContaCorrente:B.digit||"X",tipoPagamento:"126",listaTransferencias:G.pix.map(Q=>({data:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valor:Number(Q.value),descricaoPagamento:Q.description,descricaoPagamentoInstantaneo:Q.description,formaIdentificacao:U(Q.pixKey),...U(Q.pixKey)===1&&{dddTelefone:Q.pixKey.substring(0,2),telefone:Q.pixKey.substring(2)},...U(Q.pixKey)===2&&{email:Q.pixKey},...U(Q.pixKey)===3&&{cpf:Q.pixKey},...Number(Q.pixPaymentMethod)===4&&{identificacaoAleatoria:Q.pixKey},paymentId:Q.id,userId:v,sourceAccountId:E}))},le=await U3(ee);if(le.error){const Q=le.data.map(M=>M.codigo+" - "+M.mensagem).join(`
`);y.push(Q)}}if(G.boleto){const ee={numeroRequisicao:await F(),codigoContrato:B.agreementCode,numeroAgenciaDebito:B.branch,numeroContaCorrenteDebito:B.account,digitoVerificadorContaCorrenteDebito:B.digit||"X",lancamentos:G.boleto.map(Q=>({numeroCodigoBarras:Q.barcode.replace(/[^0-9]/g,""),dataPagamento:R5(),valorPagamento:parseFloat(Q.value.toFixed(2)),descricaoPagamento:Q.description,valorNominal:parseFloat(Q.value.toFixed(2)),codigoTipoBeneficiario:wd(Q==null?void 0:Q.cpfCnpj)?2:1,documentoBeneficiario:Q!=null&&Q.cpfCnpj?Q.cpfCnpj.replace(/\D/g,""):"",paymentId:Q.id,userId:v,sourceAccountId:E}))},le=await q3(ee);if(le.error){const Q=le.data.map(M=>M.codigo+" - "+M.mensagem).join(`
`);y.push(Q)}}if(G.transferencia){const ee={numeroRequisicao:await F(),agenciaDebito:B.branch,contaCorrenteDebito:B.account,digitoVerificadorContaCorrente:B.digit||"X",tipoPagamento:128,listaTransferencias:G.transferencia.map(Q=>({agenciaCredito:Q.recipientBranch||Q.branch,contaCorrenteCredito:Q.recipientAccount||Q.account,digitoVerificadorContaCorrente:Q.recipientDigit||Q.digit||"0",dataTransferencia:R5(),numeroCOMPE:Q.recipientBankCode||Q.bankCode,codigoFinalidadeTED:1,valorTransferencia:parseFloat(Q.value.toFixed(2)),...wd(Q==null?void 0:Q.cpfCnpj)&&{cnpjBeneficiario:Q.cpfCnpj?Q.cpfCnpj.replace(/\D/g,""):""},...!wd(Q==null?void 0:Q.cpfCnpj)&&{cpfBeneficiario:Q.cpfCnpj?Q.cpfCnpj.replace(/\D/g,""):""},paymentId:Q.id,userId:v,sourceAccountId:E}))},le=await z3(ee);if(le.error){const Q=le.data.map(M=>M.codigo+" - "+M.mensagem).join(`
`);y.push(Q)}}}if(y.length>0){i(y.join(`
`));return}else await De.from("payments").update({bb_payment_status:"COMPLETED",status:"PAID",updated_at:new Date().toISOString()}).in("id",d),r(),t()}catch(k){console.error("Erro ao processar pagamentos:",k),i(k instanceof Error?k.message:"Erro ao processar pagamentos")}finally{a(!1)}},I=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),S=y=>new Date(y).toLocaleDateString("pt-BR"),C=l.filter(y=>{var V,ee,le;const k=(!p.dateRange.start||new Date(y.dueDate)>=new Date(p.dateRange.start))&&(!p.dateRange.end||new Date(y.dueDate)<=new Date(p.dateRange.end)),P=!p.paymentType||((V=y.paymentMethod)==null?void 0:V.toUpperCase())===((ee=p.paymentType)==null?void 0:ee.toUpperCase()),E=!p.supplier||((le=y==null?void 0:y.supplier)==null?void 0:le.name.toLowerCase().includes(p.supplier.toLowerCase())),q=(!p.minValue||y.value>=parseFloat(p.minValue))&&(!p.maxValue||y.value<=parseFloat(p.maxValue)),B=!p.bankAccountId||y.bankAccountId===p.bankAccountId,G=y.status!=="PAID";return k&&P&&E&&q&&B&&G});return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Gerar Pagamento via API"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsx("div",{className:"space-y-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-1 sm:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Perodo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:p.dateRange.start,onChange:y=>w(k=>({...k,dateRange:{...k.dateRange,start:y.target.value}})),className:"flex-1 px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 self-center",children:"at"}),s.jsx("input",{type:"date",value:p.dateRange.end,onChange:y=>w(k=>({...k,dateRange:{...k.dateRange,end:y.target.value}})),className:"flex-1 px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:p.paymentType,onChange:y=>w(k=>({...k,paymentType:y.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todas"}),s.jsx("option",{value:"PIX",children:"PIX"}),s.jsx("option",{value:"TED",children:"TED"}),s.jsx("option",{value:"DOC",children:"DOC"}),s.jsx("option",{value:"BOLETO",children:"Boleto"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:p.bankAccountId,onChange:y=>w(k=>({...k,bankAccountId:y.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todas"}),f.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Fornecedor"}),s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-secondary-400"}),s.jsx("input",{type:"text",value:p.supplier,onChange:y=>w(k=>({...k,supplier:y.target.value})),placeholder:"Buscar fornecedor...",className:"w-full pl-9 pr-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:p.minValue,onChange:y=>w(k=>({...k,minValue:y.target.value})),placeholder:"R$ 0,00",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:p.maxValue,onChange:y=>w(k=>({...k,maxValue:y.target.value})),placeholder:"R$ 0,00",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]})}),s.jsx("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:d.length===C.length,onChange:()=>{d.length===C.length?u([]):u(C.map(y=>y.id))},className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Fornecedor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:C.map(y=>{var k;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:d.includes(y.id),onChange:()=>{u(P=>P.includes(y.id)?P.filter(E=>E!==y.id):[...P,y.id])},className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:S(y.dueDate)}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:y.supplier.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:y.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:((k=y.paymentMethod)==null?void 0:k.toUpperCase())||"TED"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:y.account}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right text-secondary-900 dark:text-white",children:I(y.value)})]},y.id)})})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1 mt-4",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:g,onChange:y=>A(y.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:y=>{y.key==="Enter"&&x()},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",maxLength:6})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:x,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||d.length===0,children:n?"Processando...":"Confirmar Pagamento"})]})]})]})}):null}function qB(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(!1),[i,l]=L.useState(!1),[c,d]=L.useState(""),[u,f]=L.useState([]),[b,p]=L.useState(!0),[w,g]=L.useState(null),[A,v]=L.useState({dateRange:{start:"",end:""},status:["SCHEDULED","PENDING"],cnpjId:"",bankAccountId:""}),[j,R]=L.useState(null),[H,U]=L.useState([]),[F,x]=L.useState(1),I=10,S=[{key:"today",label:"Hoje"},{key:"week",label:"Essa semana"},{key:"2weeks",label:"15 dias"},{key:"month",label:"Esse ms"}];L.useEffect(()=>{y()},[A]),L.useEffect(()=>{(async()=>{try{const de=await BF();U(de)}catch(de){console.error("Erro ao carregar contas bancrias:",de)}})()},[]);const C=()=>{d("")},y=async()=>{try{p(!0);const ie=await B3();f(ie),g(null)}catch(ie){console.error("Erro ao carregar pagamentos:",ie),g("Erro ao carregar pagamentos")}finally{p(!1)}},k=async ie=>{try{await RF(ie),await y(),g(null)}catch(de){console.error("Erro ao executar pagamento:",de),g("Erro ao executar pagamento")}},P=ie=>{const de=new Date(ie);return new Date(de.getUTCFullYear(),de.getUTCMonth(),de.getUTCDate())},E=ie=>{x(1),R(ie);const de=new Date;let ye=new Date(de.setHours(0,0,0,0)).toISOString(),pe=new Date(de.setHours(0,0,0,0)).toISOString();ie==="week"&&(ye=new Date,pe=new Date,ye.setDate(ye.getDate()-ye.getDay()),pe.setDate(ye.getDate()+6)),ie==="2weeks"&&(ye=new Date,pe=new Date,ye.getDate()<=15?(ye.setDate(1),pe.setDate(15)):(ye.setDate(16),pe.setMonth(ye.getMonth()+1),pe.setDate(0))),ie==="month"&&(ye=new Date,pe=new Date,ye.setDate(1),pe.setMonth(ye.getMonth()+1),pe.setDate(0)),v(Ee=>({...Ee,dateRange:{start:ye,end:pe}}))},q=ie=>{d(ie.target.value),x(1)},B=u.filter(ie=>{const de=c.toLowerCase(),ye=ie.supplier.name.toLowerCase().includes(de)||ie.description.toLowerCase().includes(de),pe=(!A.dateRange.start||P(ie.dueDate)>=P(A.dateRange.start))&&(!A.dateRange.end||P(ie.dueDate)<=P(A.dateRange.end)),Ee=!A.cnpjId||ie.cnpjId===A.cnpjId,$e=!A.status.length||A.status.includes(ie.status),qe=!A.bankAccountId||ie.bankAccountId===A.bankAccountId;return ye&&pe&&Ee&&$e&&qe}),G=B.slice((F-1)*I,F*I),V=Math.ceil(B.length/I),ee=ie=>{x(ie)},le=()=>{const ie=(F-1)*I+1,de=Math.min(F*I,B.length),ye=B.length;return s.jsxs("div",{className:"flex justify-between items-center gap-2 py-4 px-4",children:[s.jsxs("div",{className:"text-secondary-700 dark:text-secondary-300",children:["Mostrando ",ie," at ",de," de ",ye," registros"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>ee(F-1),disabled:F===1,className:"px-3 py-1 rounded-lg bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 disabled:opacity-50",children:"Anterior"}),s.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300",children:["Pgina ",F," de ",V]}),s.jsx("button",{onClick:()=>ee(F+1),disabled:F===V,className:"px-3 py-1 rounded-lg bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 disabled:opacity-50",children:"Prxima"})]})]})},Q={total:B.reduce((ie,de)=>ie+de.value,0),pending:B.filter(ie=>ie.status==="PENDING").length,scheduled:B.filter(ie=>ie.status==="SCHEDULED").length,paid:B.filter(ie=>ie.status==="PAID").length},M=ie=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ie),J=()=>{v(ie=>({...ie,status:["PENDING"]})),x(1)},te=()=>{v(ie=>({...ie,status:["SCHEDULED"]})),x(1)},ue=()=>{v(ie=>({...ie,status:["PAID"]})),x(1)};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>g(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Central de Pagamentos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie e execute os pagamentos do sistema"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(Rv,{className:"h-5 w-5"}),s.jsx("span",{children:"Pagar via API"})]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(x4,{className:"h-5 w-5"}),s.jsx("span",{children:"Gerar CNAB"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Pagamento"})]})]})]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:[S.map(ie=>s.jsx("button",{onClick:()=>E(ie.key),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${j===ie.key?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:ie.label},ie.key)),s.jsxs("select",{value:A.bankAccountId,onChange:ie=>v(de=>({...de,bankAccountId:ie.target.value})),className:"flex-shrink-0 px-4 py-2 rounded-lg transition-colors bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("option",{value:"",children:"Todas as contas"}),H.map(ie=>s.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total a Pagar"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:M(Q.total)})]}),s.jsxs("div",{onClick:J,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Atrasados"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:Q.pending})]}),s.jsxs("div",{onClick:te,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:" vencer"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-blue-600 dark:text-blue-400",children:Q.scheduled})]}),s.jsxs("div",{onClick:ue,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Pagos"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:Q.paid})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por beneficirio ou descrio...",value:c,onChange:q,className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(wc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),b?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs(s.Fragment,{children:[s.jsx(TB,{payments:G,onExecute:k,loadPayments:y}),s.jsx(le,{})]})]}),s.jsx(fw,{children:s.jsx(MB,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{t(!1),y()}})}),s.jsx(BB,{isOpen:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),y()}}),s.jsx($B,{isOpen:a,onClose:()=>o(!1),onSuccess:()=>{o(!1),y()}}),s.jsx(OB,{isOpen:i,onClose:()=>l(!1),filters:A,onApplyFilters:v,clearSearchTerm:C})]})}const du="https://financeiro.tshirteria.com";async function UB(){if(!localStorage.getItem("userId"))throw new Error("User is not authenticated.");try{return(await Vt.get(`${du}/receivable`,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw console.error("Error fetching receivables:",t),t}}async function zB(e){const t=localStorage.getItem("userId");if(!t)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/request/approve`,{receivableRequestId:e,userId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error approving receivable request:",r),r}}async function VB(e){const t=localStorage.getItem("userId");if(!t)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/request/reject`,{receivableRequestId:e,userId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error rejecting receivable request:",r),r}}async function HB(e){const t=localStorage.getItem("userId");if(!t)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/reverse`,{receivableId:e,userId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error reversing receivable:",r),r}}async function WB(e){const t=localStorage.getItem("userId");if(!t)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/cancel`,{receivableId:e,userId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error canceling receivable:",r),r}}async function GB(e){const t=localStorage.getItem("userId");if(!t)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/create`,{rec:e,userId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating receivable:",r),r}}function JB({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState("general"),[o,i]=L.useState(!1),[l,c]=L.useState(null),[d,u]=L.useState([]),[f,b]=L.useState([]),[p,w]=L.useState([]),[g,A]=L.useState([]),[v,j]=L.useState({general:{customerName:"",customerDocument:"",description:"",paymentDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}});L.useEffect(()=>{e&&R()},[e]);const R=async()=>{try{const[I,S,C,y]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0),De.from("payment_methods").select("*").eq("active",!0)]);if(I.error)throw I.error;if(S.error)throw S.error;if(C.error)throw C.error;if(y.error)throw y.error;u(I.data||[]),b(S.data||[]),w(C.data||[]),A(y.data||[])}catch(I){console.error("Error loading data:",I),c("Erro ao carregar dados")}},H=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),U=I=>{let S=I.target.value.replace(/\D/g,"");S===""&&(S="0");const C=parseInt(S)/100;j(y=>({...y,financial:{...y.financial,value:C.toString()}}))},F=I=>{const S=I.replace(/\D/g,"");return S.length<=11?S.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):S.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},x=async I=>{var S;I.preventDefault(),i(!0),c(null);try{if(v.general.customerName===""){c("Nome do cliente  obrigatrio"),i(!1);return}if(v.general.customerDocument===""){c("CPF/CNPJ  obrigatrio"),i(!1);return}if(v.general.paymentDate===""){c("Data de pagamento  obrigatria"),i(!1);return}if(v.general.competenceDate===""){c("Data de competncia  obrigatria"),i(!1);return}if(v.financial.value===""||parseFloat(v.financial.value)<=0){c("Valor do recebimento deve ser maior que 0"),i(!1);return}await GB({customer_name:v.general.customerName,customer_document:v.general.customerDocument.replace(/\D/g,""),notes:v.general.description,payment_date:v.general.paymentDate,competence:v.general.competenceDate,value:parseFloat(v.financial.value),payment_method_id:v.financial.paymentMethodId,bank_account_id:v.financial.bankAccountId,cnpj_id:v.financial.cnpjId,category_id:v.financial.categoryId,installments:parseInt(v.financial.installments),status:"PENDING",created_by_id:(S=(await De.auth.getUser()).data.user)==null?void 0:S.id}),j({general:{customerName:"",customerDocument:"",description:"",paymentDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}}),r(),t()}catch(C){console.error("Error creating receivable:",C),c("Erro ao criar recebimento")}finally{i(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Recebimento"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("financial"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="financial"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Detalhes Financeiros"})]})}),s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:v.general.customerName,onChange:I=>j(S=>({...S,general:{...S.general,customerName:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ"}),s.jsx("input",{type:"text",value:v.general.customerDocument,onChange:I=>j(S=>({...S,general:{...S.general,customerDocument:F(I.target.value)}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:v.general.description,onChange:I=>j(S=>({...S,general:{...S.general,description:I.target.value}})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{type:"date",value:v.general.paymentDate,onChange:I=>j(S=>({...S,general:{...S.general,paymentDate:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Competncia"}),s.jsx("input",{type:"date",value:v.general.competenceDate,onChange:I=>j(S=>({...S,general:{...S.general,competenceDate:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),n==="financial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Recebimento"}),s.jsx("input",{type:"text",value:H(v.financial.value),onChange:U,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:v.financial.paymentMethodId,onChange:I=>{const S=g.find(C=>C.id===I.target.value);j(C=>({...C,financial:{...C.financial,bankAccountId:(S==null?void 0:S.defaultBankAccountId)||""}})),j(C=>({...C,financial:{...C.financial,paymentMethodId:I.target.value}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),g.map(I=>s.jsx("option",{value:I.id,children:I.description},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"1",value:v.financial.installments,onChange:I=>j(S=>({...S,financial:{...S.financial,installments:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:v.financial.bankAccountId,onChange:I=>j(S=>({...S,financial:{...S.financial,bankAccountId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),p.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.bank," ",I.branch,"/",I.account]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:v.financial.cnpjId,onChange:I=>j(S=>({...S,financial:{...S.financial,cnpjId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),d.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.cnpj]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:v.financial.categoryId,onChange:I=>j(S=>({...S,financial:{...S.financial,categoryId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),f.filter(I=>I.type==="REVENUE"||I.type==="BOTH").map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Recebimento"})]})]})]})}):null}function KB({isOpen:e,onClose:t,receivable:r,loadRequests:n}){var le,Q;const[a,o]=L.useState(!1),[i,l]=L.useState(null),[c,d]=L.useState(""),[u,f]=L.useState(!1),[b,p]=L.useState(!1),[w,g]=L.useState(null),[A,v]=L.useState(null);L.useRef(null),L.useRef(null);const[j,R]=L.useState({orderNumber:"",customerName:"",customerDocument:"",notes:"",value:0,receivableRequestId:"",paymentMethodId:"",attachment:null,cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentDate:new Date().toISOString().split("T")[0]}),[H,U]=L.useState([]),[F,x]=L.useState([]),[I,S]=L.useState([]),[C,y]=L.useState([]);L.useEffect(()=>{e&&(B(),r&&(console.log(r),R(M=>{var J;return{...M,orderNumber:r.order_number||"",customerName:r.customer_name||"",customerDocument:r.customer_document||"",notes:r.notes||"",value:r.value||0,receivableRequestId:r.id,paymentMethodId:r.payment_method_id||"",attachment:((J=r==null?void 0:r.attachment)==null?void 0:J.attachment_url)||null,cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentDate:r.payment_date?new Date(r.payment_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}})))},[e,r]);const k=async()=>{f(!0),v(r)},P=async()=>{p(!0),g(r)},E=M=>M?new Date(M).toLocaleDateString("pt-BR"):"-",q=M=>{let J=M.target.value.replace(/\D/g,"");J===""&&(J="0");const te=parseInt(J)/100;R(ue=>({...ue,value:te.toString()}))},B=async()=>{var M;try{const[J,te,ue,ie]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0).eq("type","REVENUE"),De.from("bank_accounts").select("*").eq("active",!0),De.from("payment_methods").select("*").eq("active",!0)]);if(J.error)throw J.error;if(te.error)throw te.error;if(ue.error)throw ue.error;if(ie.error)throw ie.error;U(J.data||[]),x(te.data||[]),S(ue.data||[]),y(ie.data||[]),d(((M=r==null?void 0:r.attachment)==null?void 0:M.attachment_url)||"")}catch(J){console.error("Error loading data:",J),l("Erro ao carregar dados")}},G=async()=>{if(r)try{o(!0),l(null),await HB(r.id),await n(),t()}catch(M){console.error("Error reversing receivable:",M),l("Erro ao rejeitar solicitao")}finally{o(!1)}},V=async()=>{if(r)try{o(!0),l(null),await WB(r.id),await n(),t()}catch(M){console.error("Error canceling receivable:",M),l("Erro ao cancelar solicitao")}finally{o(!1)}},ee=M=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M);return!e||!r?null:s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao"," ",r.request_number?"#"+r.request_number:""]}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{disabled:!0,type:"text",value:j.orderNumber,onChange:M=>R(J=>({...J,orderNumber:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{disabled:!0,type:"text",value:j.customerName,onChange:M=>R(J=>({...J,customerName:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do Cliente"}),s.jsx("input",{disabled:!0,type:"text",value:j.customerDocument,onChange:M=>R(J=>({...J,customerDocument:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{disabled:!0,value:j.notes,onChange:M=>R(J=>({...J,notes:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[j.notes.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{disabled:!0,type:"text",value:ee(j.value),onChange:q,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{disabled:!0,type:"date",value:j.paymentDate,onChange:M=>R(J=>({...J,paymentDate:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(le=r==null?void 0:r.attachment)!=null&&le.attachment_url?s.jsx("a",{href:(Q=r==null?void 0:r.attachment)==null?void 0:Q.attachment_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{disabled:!0,value:j.cnpjId,onChange:M=>R(J=>({...J,cnpjId:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),H.map(M=>s.jsxs("option",{value:M.id,children:[M.name," - ",M.cnpj]},M.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Receita *"}),s.jsxs("select",{disabled:!0,value:j.categoryId,onChange:M=>R(J=>({...J,categoryId:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),F.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{disabled:!0,type:"date",value:j.competence,onChange:M=>R(J=>({...J,competence:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{disabled:!0,value:j.paymentMethodId,onChange:M=>{const J=C.find(te=>te.id===M.target.value);R(te=>({...te,bankAccountId:J.defaultBankAccountId||""})),R(te=>({...te,paymentMethodId:M.target.value}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),C.map(M=>s.jsx("option",{value:M.id,children:M.description},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{disabled:!0,value:j.bankAccountId,onChange:M=>R(J=>({...J,bankAccountId:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),I.map(M=>s.jsxs("option",{value:M.id,children:[M.name," - ",M.bank," ",M.branch,"/",M.account]},M.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:()=>{t()},disabled:a,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Fechar"}),(r==null?void 0:r.status)==="PENDING"&&s.jsx("button",{type:"button",onClick:P,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Cancelar Lanamento"}),(r==null?void 0:r.status)==="RECEIVED"&&s.jsx("button",{type:"button",onClick:k,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Estornar"})]})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Estorno"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja estornar o valor de R$ ${A.value} para ${A==null?void 0:A.customerName} com vencimento ${E(A==null?void 0:A.paymentDate)}? Esta ao no pode ser desfeita.`}),i&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:i}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{f(!1),v(null),l(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:G,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Estornar"})]})]})}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Cancelamento"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja cancelar o valor de R$ ${w.value} para ${w==null?void 0:w.customerName} com vencimento ${E(w==null?void 0:w.paymentDate)}? Esta ao no pode ser desfeita.`}),i&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:i}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{p(!1),g(null),l(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:V,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Cancelar"})]})]})})]})}const YB=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),XB=e=>YB.format(e),QB=e=>new Date(e).toISOString().split("T")[0].split("-").reverse().join("/"),ZB=e=>{const t=e.replace(/\D/g,"");return t.length===11?t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):t.length===14?t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):e},e$=e=>{switch(e.status){case"RECEIVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Recebido"});case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:" Receber"});case"REVERSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 dark:bg-secondary-900/20 dark:text-secondary-400",children:"Estornado"});case"CANCELED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 dark:bg-secondary-900/20 dark:text-secondary-400",children:"Cancelado"});default:return null}},oC=L.memo(({receivable:e,onSelect:t})=>{var r;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:QB(e.paymentDate)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:e.customerName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:ZB(e.customerDocument)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:XB(e.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:(r=e==null?void 0:e.paymentMethod)==null?void 0:r.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e$(e)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{type:"button",onClick:()=>t(e),className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors w-[90px]",children:"Ver"})})]})});oC.displayName="ReceivableRow";function t$({receivables:e,loadRequests:t}){const[r,n]=L.useState(null),a=L.useCallback(i=>{n(i)},[]),o=L.useMemo(()=>e.map(i=>s.jsx(oC,{receivable:i,onSelect:a},i.id)),[e,a]);return e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Tf,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum recebimento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h recebimentos que correspondam aos filtros selecionados."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:o})]}),s.jsx(KB,{isOpen:!!r,onClose:()=>n(null),receivable:r,loadRequests:t})]})}function r$({isOpen:e,onClose:t,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=Mr.useState(r),l=()=>{n(o),t()},c=()=>{const d={dateRange:{start:"",end:""},customer:"",minValue:"",maxValue:"",cnpjId:"",bankAccountId:"",paymentMethodId:"",status:""};a(),i(d),n(d),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cliente"}),s.jsx("input",{type:"text",value:o.customer,onChange:d=>i(u=>({...u,customer:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Nome, CPF ou CNPJ"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:" Receber"}),s.jsx("option",{value:"RECEIVED",children:"Recebidos"}),s.jsx("option",{value:"REVERSED",children:"Estornados"}),s.jsx("option",{value:"CANCELED",children:"Cancelados"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:o.minValue,onChange:d=>i(u=>({...u,minValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:o.maxValue,onChange:d=>i(u=>({...u,maxValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function n$(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState([]),[c,d]=L.useState(!1),[u,f]=L.useState(null),[b,p]=L.useState({dateRange:{start:"",end:""},customer:"",minValue:"",maxValue:"",cnpjId:"",bankAccountId:"",paymentMethodId:"",status:""}),w=async()=>{d(!0),UB().then(C=>{const y=C.receivables.map(k=>({...k,orderNumber:k.order_number||"Pedido no informado",customerName:k.customer_name||"Cliente no informado",customerDocument:k.customer_document||"",paymentDate:new Date(k.payment_date),attachment:k.attachment||null}));l(y),d(!1)}).catch(C=>{f("Erro ao buscar recebimentos. Tente novamente mais tarde."),d(!1)})};L.useEffect(()=>{w()},[]);const g=()=>{o("")},[A,v]=L.useState(null),j=new Date,R=Array.from({length:5},(C,y)=>{const k=new Date;return k.setDate(j.getDate()+y),k}),H=C=>{const y=C.toISOString().split("T")[0];v(y),console.log(y),p(k=>({...k,dateRange:{start:y,end:y}}))},U=()=>{v(null),p(C=>({...C,dateRange:{start:"",end:""}}))},F=i.filter(C=>{const y=a.toLowerCase(),k=C.customerName.toLowerCase().includes(y)||C.customerDocument.includes(a)||C.notes.toLowerCase().includes(y),P=(!b.dateRange.start||new Date(C.paymentDate)>=new Date(b.dateRange.start))&&(!b.dateRange.end||new Date(C.paymentDate)<=new Date(b.dateRange.end)),E=!b.customer||C.customerName.toLowerCase().includes(b.customer.toLowerCase())||C.customerDocument.includes(b.customer),q=(!b.minValue||C.value>=parseFloat(b.minValue))&&(!b.maxValue||C.value<=parseFloat(b.maxValue)),B=!b.cnpjId||C.cnpjId===b.cnpjId,G=!b.bankAccountId||C.bankAccountId===b.bankAccountId,V=!b.paymentMethodId||C.paymentMethodId===b.paymentMethodId,ee=!b.status||C.status===b.status;return k&&P&&E&&q&&B&&G&&V&&ee}),x={total:F.reduce((C,y)=>C+y.value,0),pending:F.filter(C=>C.status==="PENDING").length,received:F.filter(C=>C.status==="RECEIVED").length,canceled:F.filter(C=>C.status==="CANCELED").length},I=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),S=C=>["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][C.getDay()];return s.jsxs("div",{className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>f(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Central de Recebimentos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os recebimentos do sistema"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Recebimento"})]})]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:[s.jsx("button",{onClick:()=>U(),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${A===null?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:"Todos"}),R.map((C,y)=>s.jsx("button",{onClick:()=>H(C),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${A===C.toISOString().split("T")[0]?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:y===0?"Hoje":S(C)},C.toISOString()))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:I(x.total)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Pendentes"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:x.pending})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Recebidos"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:x.received})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Cancelados"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-600 dark:text-red-400",children:x.canceled})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente, CPF/CNPJ ou descrio...",value:a,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(wc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(t$,{receivables:F,loadRequests:w})]}),s.jsx(JB,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{t(!1),w()}}),s.jsx(r$,{isOpen:r,onClose:()=>n(!1),filters:b,onApplyFilters:p,clearSearchTerm:g})]})}function a$({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState({orderNumber:"",customerName:"",customerDocument:"",value:"",paymentMethod:"",notes:"",attachment:null}),[o,i]=L.useState(!1),[l,c]=L.useState(null),d=L.useRef(null),u=L.useRef(null),f=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),b=v=>{let j=v.target.value.replace(/\D/g,"");j===""&&(j="0");const R=parseInt(j)/100;a(H=>({...H,value:R.toString()}))},p=v=>{const j=v.replace(/\D/g,"");return j.length<=11?j.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):j.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},w=v=>{const j=v.target.files;if(!j||j.length===0)return;const R=j[0],H=5*1024*1024;if(!["image/jpeg","image/png","application/pdf"].includes(R.type)){c("Tipo de arquivo no suportado. Use apenas imagens (JPG/PNG) ou PDF.");return}if(R.size>H){c("Arquivo muito grande. O tamanho mximo permitido  5MB.");return}a(F=>({...F,attachment:R})),c(null)},g=()=>{u.current&&u.current.click()},A=async v=>{var j;v.preventDefault(),i(!0),c(null);try{const R=parseFloat(n.value);if(isNaN(R)||R<=0)throw new Error("Valor invlido");if(!n.orderNumber)throw new Error("Nmero do Pedido  obrigatrio");if(!n.customerName)throw new Error("Nome do Cliente  obrigatrio");if(!n.customerDocument)throw new Error("CPF/CNPJ  obrigatrio");const H=n.customerDocument.replace(/\D/g,"");if(H.length!==11&&H.length!==14)throw new Error("CPF/CNPJ invlido");if(!n.attachment)throw new Error("Comprovante de pagamento  obrigatrio");let U=null;if(n.attachment){const x=n.attachment.name.split(".").pop(),S=`receivable-approvals/${`${Math.random().toString(36).substring(2)}.${x}`}`,{error:C}=await De.storage.from("attachments").upload(S,n.attachment);if(C)throw C;const{data:{publicUrl:y}}=De.storage.from("attachments").getPublicUrl(S);U=y}const{error:F}=await De.from("receivable_approval_requests").insert([{order_number:n.orderNumber,customer_name:n.customerName,customer_document:H,value:R,payment_method:n.paymentMethod,notes:n.notes||null,attachment_url:U,status:"PENDING",created_by_id:(j=(await De.auth.getUser()).data.user)==null?void 0:j.id}]);if(F)throw F;a({orderNumber:"",customerName:"",customerDocument:"",value:"",paymentMethod:"",notes:"",attachment:null}),r(),t()}catch(R){console.error("Error creating approval request:",R),c(R instanceof Error?R.message:"Erro ao criar solicitao")}finally{i(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Aprovao"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:A,className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:n.orderNumber,onChange:v=>a(j=>({...j,orderNumber:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:n.customerName,onChange:v=>a(j=>({...j,customerName:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ"}),s.jsx("input",{type:"text",value:n.customerDocument,onChange:v=>a(j=>({...j,customerDocument:p(v.target.value)})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:f(n.value),onChange:b,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:n.notes,onChange:v=>a(j=>({...j,notes:v.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre a solicitao..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Comprovante de Pagamento"}),n.attachment&&s.jsxs("div",{className:"mb-4 relative inline-block",children:[n.attachment.type.startsWith("image/")?s.jsx("img",{src:URL.createObjectURL(n.attachment),alt:"Preview",className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:n.attachment.name})}),s.jsx("button",{type:"button",onClick:()=>a(v=>({...v,attachment:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Ht,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{var v;return(v=d.current)==null?void 0:v.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Ni,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]}),s.jsxs("button",{type:"button",onClick:g,className:"flex items-center justify-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:[s.jsx(y4,{className:"h-5 w-5 mr-2"}),"Capturar Imagem"]})]}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG e PNG. Tamanho mximo: 5MB."}),s.jsx("input",{ref:d,type:"file",onChange:w,className:"hidden",accept:".pdf,.jpg,.jpeg,.png"}),s.jsx("input",{ref:u,type:"file",onChange:w,className:"hidden",accept:"image/*",capture:"environment"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Criar Solicitao"})]})]})]})}):null}function s$({isOpen:e,onClose:t,request:r,loadRequests:n}){const[a,o]=L.useState(!1),[i,l]=L.useState(null),[c,d]=L.useState(""),u=L.useRef(null),f=L.useRef(null),[b,p]=L.useState({orderNumber:"",customerName:"",customerDocument:"",notes:"",value:0,receivableRequestId:"",paymentMethodId:"",attachment:null,cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentDate:new Date().toISOString().split("T")[0]}),[w,g]=L.useState([]),[A,v]=L.useState([]),[j,R]=L.useState([]),[H,U]=L.useState([]),[F,x]=L.useState("solicitacao");L.useEffect(()=>{e&&(S(),r&&p(G=>({...G,orderNumber:r.order_number||"",customerName:r.customer_name||"",customerDocument:r.customer_document||"",notes:r.notes||"",value:r.value||0,receivableRequestId:r.id,paymentMethodId:r.payment_method_id||"",attachment:r.attachment_url||null,cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentDate:r.payment_date?new Date(r.payment_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]})))},[e,r]);const I=G=>{let V=G.target.value.replace(/\D/g,"");V===""&&(V="0");const ee=parseInt(V)/100;p(le=>({...le,value:ee.toString()}))},S=async()=>{try{const[G,V,ee,le]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0).eq("type","REVENUE"),De.from("bank_accounts").select("*").eq("active",!0),De.from("payment_methods").select("*").eq("active",!0)]);if(G.error)throw G.error;if(V.error)throw V.error;if(ee.error)throw ee.error;if(le.error)throw le.error;g(G.data||[]),v(V.data||[]),R(ee.data||[]),U(le.data||[]),d((r==null?void 0:r.attachment_url)||"")}catch(G){console.error("Error loading data:",G),l("Erro ao carregar dados")}},C=async()=>{if(r)try{o(!0),l(null);const G=b.attachment;if((!G||!(G instanceof File))&&!b.attachment){l("Anexo  obrigatrio");return}let V="";if(G&&G instanceof File){const Q=G.name.split(".").pop(),J=`receivable-requests/${`${Math.random().toString(36).substring(2)}.${Q}`}`,{error:te}=await De.storage.from("attachments").upload(J,G);if(te)throw te;const{data:{url:ue}}=De.storage.from("attachments").getPublicUrl(J);V=ue}if(!b.cnpjId){l("CNPJ  obrigatrio");return}if(!b.categoryId){l("Categoria  obrigatria");return}if(!b.bankAccountId){l("Conta bancria  obrigatria");return}if(!b.competence){l("Competncia  obrigatria");return}if(!b.paymentMethodId){l("Forma de pagamento  obrigatria");return}if(!b.value){l("Valor  obrigatrio");return}if(!b.customerName){l("Nome do cliente  obrigatrio");return}if(!b.customerDocument){l("CPF/CNPJ do cliente  obrigatrio");return}if(b.customerDocument.length===11){if(!q(b.customerDocument)){l("CPF invlido");return}}else if(b.customerDocument.length===14){if(!B(b.customerDocument)){l("CNPJ invlido");return}}else{l("CPF/CNPJ invlido");return}const{data:ee,error:le}=await De.from("receivable_approval_requests").update({cnpj_id:b.cnpjId,category_id:b.categoryId,bank_account_id:b.bankAccountId,notes:b.notes,value:b.value,competence:b.competence,payment_method_id:b.paymentMethodId,attachment_url:V,payment_date:new Date().toISOString().split("T")[0]}).eq("id",r.id);if(le)throw le;await zB(r.id),await n(),t()}catch(G){console.error("Error approving request:",G),l(G instanceof Error?G.message:"Erro ao aprovar solicitao")}finally{o(!1)}},y=async()=>{if(r)try{o(!0),l(null),await VB(r.id),await n(),t()}catch(G){console.error("Error rejecting request:",G),l("Erro ao rejeitar solicitao")}finally{o(!1)}};if(!e||!r)return null;const k=G=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(G),P=G=>{const V=Array.from(G.target.files||[]);if(V.length===0)return;const ee=V.filter(le=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(le.type)?le.size>5242880?(l("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(l("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(ee.length>0){l(null);const le=ee.map(Q=>Q.type.startsWith("image/")?URL.createObjectURL(Q):"");p(Q=>({...Q,attachment:ee[0]})),d(le)}},E=()=>{p(G=>({...G,attachment:null})),c&&URL.revokeObjectURL(c),d("")};function q(G){if(typeof G!="string"||(G=G.replace(/[\s.-]*/gim,""),!G||G.length!==11||G==="00000000000"||G==="11111111111"||G==="22222222222"||G==="33333333333"||G==="44444444444"||G==="55555555555"||G==="66666666666"||G==="77777777777"||G==="88888888888"||G==="99999999999"))return!1;let V=0,ee;for(let le=1;le<=9;le++)V+=parseInt(G.substring(le-1,le))*(11-le);if(ee=V*10%11,(ee===10||ee===11)&&(ee=0),ee!==parseInt(G.substring(9,10)))return!1;V=0;for(let le=1;le<=10;le++)V+=parseInt(G.substring(le-1,le))*(12-le);return ee=V*10%11,(ee===10||ee===11)&&(ee=0),ee===parseInt(G.substring(10,11))}function B(G){if(typeof G!="string"||(G=G.replace(/[\s.-]*/gim,""),!G||G.length!==14||G==="00000000000000"||G==="11111111111111"||G==="22222222222222"||G==="33333333333333"||G==="44444444444444"||G==="55555555555555"||G==="66666666666666"||G==="77777777777777"||G==="88888888888888"||G==="99999999999999"))return!1;let V=G.length-2,ee=G.substring(0,V),le=G.substring(V),Q=0,M=V-7;for(let te=V;te>=1;te--)Q+=parseInt(ee.charAt(V-te))*M--,M<2&&(M=9);let J=Q%11<2?0:11-Q%11;if(J!==parseInt(le.charAt(0)))return!1;V=V+1,ee=G.substring(0,V),Q=0,M=V-7;for(let te=V;te>=1;te--)Q+=parseInt(ee.charAt(V-te))*M--,M<2&&(M=9);return J=Q%11<2?0:11-Q%11,J===parseInt(le.charAt(1))}return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao #",r.request_number]}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>x("solicitacao"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${F==="solicitacao"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes da Solicitao"}),s.jsx("button",{onClick:()=>x("obrigatorios"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${F==="obrigatorios"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados do Recebimento"})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[F==="solicitacao"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:b.orderNumber,onChange:G=>p(V=>({...V,orderNumber:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do Pedido",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:b.customerName,onChange:G=>p(V=>({...V,customerName:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do Cliente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do Cliente"}),s.jsx("input",{type:"text",value:b.customerDocument,onChange:G=>p(V=>({...V,customerDocument:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"CPF/CNPJ do Cliente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:b.notes,onChange:G=>p(V=>({...V,notes:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Observaes",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[b.notes.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:k(b.value),onChange:I,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{type:"date",value:b.paymentDate,onChange:G=>p(V=>({...V,paymentDate:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:r.attachment_url?s.jsx("a",{href:r.attachment_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),c&&c!==""&&s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c,alt:"Preview",className:"w-24 h-24 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>E(),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Ht,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var G;return(G=u.current)==null?void 0:G.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Ni,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:u,type:"file",onChange:P,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:f,type:"file",onChange:P,className:"hidden",accept:"image/*",capture:"environment"})]})]}),F==="obrigatorios"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:b.cnpjId,onChange:G=>p(V=>({...V,cnpjId:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),w.map(G=>s.jsxs("option",{value:G.id,children:[G.name," - ",G.cnpj]},G.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Receita *"}),s.jsxs("select",{value:b.categoryId,onChange:G=>p(V=>({...V,categoryId:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),A.map(G=>s.jsx("option",{value:G.id,children:G.name},G.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:b.competence,onChange:G=>p(V=>({...V,competence:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:b.paymentMethodId,onChange:G=>{const V=H.find(ee=>ee.id===G.target.value);p(ee=>({...ee,bankAccountId:V.defaultBankAccountId||""})),p(ee=>({...ee,paymentMethodId:G.target.value}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),H.map(G=>s.jsx("option",{value:G.id,children:G.description},G.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:b.bankAccountId,onChange:G=>p(V=>({...V,bankAccountId:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),j.map(G=>s.jsxs("option",{value:G.id,children:[G.name," - ",G.bank," ",G.branch,"/",G.account]},G.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:()=>{t()},disabled:a,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Fechar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:y,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Rejeitar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:C,disabled:a,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})]})]})]})})}function o$({approvals:e,onView:t,loadRequests:r}){const[n,a]=L.useState(null);if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Qd,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h solicitaes de aprovao que correspondam aos critrios de busca."})]});const o=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),i=d=>d?new Date(d).toISOString().split("T")[0].split("-").reverse().join("/"):"-",l=d=>d.length===11?d.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):d.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),c=d=>{switch(d){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Rejeitado"});default:return null}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Usurio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pedido"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(d=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(d.payment_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:d.created_by_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:d.order_number}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:d.customer_name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:l(d.customer_document)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:o(d.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c(d.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.status==="PENDING"&&s.jsx("button",{onClick:()=>a(d),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"APROVAR"}),d.status!=="PENDING"&&s.jsx("button",{onClick:()=>a(d),className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"VISUALIZAR"})]})]},d.id))})]})}),s.jsx(s$,{isOpen:!!n,onClose:()=>a(null),request:n,loadRequests:r})]})}function i$(){const[e,t]=L.useState(!1),[r,n]=L.useState(""),[a,o]=L.useState([]),[i,l]=L.useState([]),[c,d]=L.useState(!0),[u,f]=L.useState(null),[b,p]=L.useState({start:"",end:""}),[w,g]=L.useState(""),[A,v]=L.useState({pendingCount:0,pendingTotal:0,approvedCount:0,approvedTotal:0,rejectedCount:0,rejectedTotal:0}),j=async()=>{d(!0),f(null);const{data:H,error:U}=await De.from("receivable_approval_requests_with_details").select("*");if(U){f(U.message),d(!1);return}const F=H.filter(k=>k.status==="PENDING"),x=H.filter(k=>k.status==="APPROVED"),I=H.filter(k=>k.status==="REJECTED"),S=F.reduce((k,P)=>k+P.value,0),C=x.reduce((k,P)=>k+P.value,0),y=I.reduce((k,P)=>k+P.value,0);v({pendingCount:F.length,pendingTotal:S,approvedCount:x.length,approvedTotal:C,rejectedCount:I.length,rejectedTotal:y}),o(H),l(H),d(!1)};L.useEffect(()=>{j()},[]);const R=()=>{let H=[...a];if(r){const U=r.toLowerCase();H=H.filter(F=>F.customer_name.toLowerCase().includes(U)||F.customer_document.includes(U)||F.order_number.toLowerCase().includes(U))}(b.start||b.end)&&(H=H.filter(U=>{const F=new Date(U.created_at),x=b.start?new Date(b.start).setHours(0,0,0,0):null,I=b.end?new Date(b.end).setHours(23,59,59,999):null;return x&&I?F>=x&&F<=I:x?F>=x:I?F<=I:!0})),w&&(H=H.filter(U=>U.status===w)),l(H)};return L.useEffect(()=>{R()},[r,b,w]),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>f(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Aprovaes de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de aprovao de pagamento"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Solicitao"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Aprovaes Pendentes"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:["R$"," ",A.pendingTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[A.pendingCount," registros"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Aprovados no Ms"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:["R$"," ",A.approvedTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[A.approvedCount," registros"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Rejeitados no Ms"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:["R$"," ",A.rejectedTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[A.rejectedCount," registros"]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, CPF/CNPJ ou nmero do pedido...",value:r,onChange:H=>n(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:b.start,onChange:H=>p(U=>({...U,start:H.target.value})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:b.end,onChange:H=>p(U=>({...U,end:H.target.value})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("select",{value:w,onChange:H=>g(H.target.value),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos os Status"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"APPROVED",children:"Aprovados"}),s.jsx("option",{value:"REJECTED",children:"Rejeitados"})]})]})]})}),c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(o$,{approvals:i,loadRequests:j,onView:H=>{console.log("View approval:",H)}})]}),s.jsx(a$,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{t(!1),j()}})]})}function l$({isOpen:e,onClose:t,config:r,onSuccess:n}){const[a,o]=L.useState({cnpjId:"",email:"",password:"",imapHost:"",imapPort:993,useSSL:!0,scanFrequency:15,active:!0}),[i,l]=L.useState([]),[c,d]=L.useState(!1),[u,f]=L.useState(null);L.useEffect(()=>{e&&(b(),r?(console.log(r),o({cnpjId:r.cnpj_id||"",email:r.email||"",password:"",imapHost:r.imap_host||"",imapPort:r.imap_port||993,useSSL:r.use_ssl??!0,scanFrequency:r.scan_frequency||15,active:r.active??!0})):o({cnpjId:"",email:"",password:"",imapHost:"",imapPort:993,useSSL:!0,scanFrequency:15,active:!0}))},[e,r]);const b=async()=>{try{const{data:w,error:g}=await De.from("cnpjs").select("id, name, cnpj").eq("active",!0).order("name");if(g)throw g;l(w||[])}catch(w){console.error("Error loading CNPJs:",w),f("Erro ao carregar lista de CNPJs")}},p=async w=>{w.preventDefault(),d(!0),f(null);try{if(r){const{error:g}=await De.from("email_configs").update({cnpj_id:a.cnpjId,email:a.email,...a.password&&{password:a.password},imap_host:a.imapHost,imap_port:a.imapPort,use_ssl:a.useSSL,scan_frequency:a.scanFrequency,active:a.active,updatedAt:new Date().toISOString()}).eq("id",r.id);if(g)throw console.log(g),g}else{const{error:g}=await De.from("email_configs").insert([{cnpj_id:a.cnpjId,email:a.email,password:a.password,imap_host:a.imapHost,imap_port:a.imapPort,use_ssl:a.useSSL,scan_frequency:a.scanFrequency,active:a.active,updatedAt:new Date().toISOString()}]);if(g)throw g}n(),t()}catch(g){console.error("Error saving email config:",g),f("Erro ao salvar configurao de e-mail")}finally{d(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Configurao":"Nova Configurao"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:p,className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:u})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:a.cnpjId,onChange:w=>o(g=>({...g,cnpjId:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(w=>s.jsxs("option",{value:w.id,children:[w.name," - ",w.cnpj]},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:w=>o(g=>({...g,email:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Senha"}),s.jsx("input",{type:"password",value:a.password,onChange:w=>o(g=>({...g,password:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!r})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Servidor IMAP"}),s.jsx("input",{type:"text",value:a.imapHost,onChange:w=>o(g=>({...g,imapHost:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Porta"}),s.jsx("input",{type:"number",value:a.imapPort,onChange:w=>o(g=>({...g,imapPort:parseInt(w.target.value)||993})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.useSSL,onChange:w=>o(g=>({...g,useSSL:w.target.checked})),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Usar SSL/TLS"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:w=>o(g=>({...g,active:w.target.checked})),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Ativo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia de Sincronizao (minutos)"}),s.jsx("input",{type:"number",min:"5",max:"60",value:a.scanFrequency,onChange:w=>o(g=>({...g,scanFrequency:parseInt(w.target.value)||15})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,disabled:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:c,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",children:c?"Salvando...":r?"Salvar Alteraes":"Criar Configurao"})]})]})]})}):null}function c$({logs:e}){if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(qD,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum e-mail processado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"Aguardando a prxima sincronizao para capturar novos e-mails."})]});const t=a=>new Date(a).toLocaleString("pt-BR"),r=a=>{if(a===0)return"0 Bytes";const o=1024,i=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(a)/Math.log(o));return parseFloat((a/Math.pow(o,l)).toFixed(2))+" "+i[l]},n=a=>{switch(a){case"PENDING":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:[s.jsx(E1,{className:"w-3 h-3 mr-1"}),"Pendente"]});case"PROCESSED":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:[s.jsx(Tf,{className:"w-3 h-3 mr-1"}),"Processado"]});case"FAILED":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:[s.jsx(nr,{className:"w-3 h-3 mr-1"}),"Falha"]});case"INVALID":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:[s.jsx(nr,{className:"w-3 h-3 mr-1"}),"Invlido"]});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Remetente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Assunto"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Recebido em"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Anexos"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:a.fromEmail}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:a.cnpjName})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:a.subject})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:t(a.receivedAt)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n(a.status),a.errorMessage&&s.jsx("div",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:a.errorMessage})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"space-y-2",children:a.attachments.map(o=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(El,{className:"h-4 w-4 text-secondary-400"}),s.jsx("a",{href:o.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",children:o.fileName}),s.jsxs("span",{className:"text-secondary-500 dark:text-secondary-400",children:["(",r(o.fileSize),")"]}),o.validationStatus==="VALID"&&s.jsx(Tf,{className:"h-4 w-4 text-green-500"}),o.validationStatus==="INVALID"&&s.jsx(nr,{className:"h-4 w-4 text-red-500"}),o.validationStatus==="PENDING"&&s.jsx(E1,{className:"h-4 w-4 text-yellow-500"})]},o.id))})})]},a.id))})]})})}async function d$(){try{const{data:e,error:t}=await De.from("email_monitoring_status").select("*").order("createdAt",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error listing email configs:",e),[]}}async function u$(e){try{let t=De.from("email_logs").select("*").order("received_at",{ascending:!1});const{data:r,error:n}=await t;if(n)throw n;return(r||[]).map(a=>({id:a.id,fromEmail:a.from_email,subject:a.subject,receivedAt:a.received_at,processedAt:a.processed_at,status:a.status,errorMessage:a.error_message,configEmail:a.config_email,cnpjName:a.cnpj_name,cnpjNumber:a.cnpj_number,attachments:a.attachments||[],attachmentCount:a.attachment_count||0,validAttachments:a.valid_attachments||0,invalidAttachments:a.invalid_attachments||0,pendingAttachments:a.pending_attachments||0}))}catch(t){return console.error("Error listing email logs:",t),[]}}const f$="https://financeiro.tshirteria.com";function h$(){const[e,t]=L.useState([]),[r,n]=L.useState([]),[a,o]=L.useState(!0),[i,l]=L.useState(null),[c,d]=L.useState(!1),[u,f]=L.useState(null),[b,p]=L.useState(""),[w,g]=L.useState(null),[A,v]=L.useState([]);L.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const[S,C]=await Promise.all([d$(),u$()]);t(S),n(C),l(null)}catch(S){console.error("Error loading data:",S),l("Erro ao carregar dados")}finally{o(!1)}},R=()=>{f(null),d(!0)},H=S=>{f(S),d(!0)},U=async S=>{try{g(S);const C=await $3.getEmailsWithAttachments(S),y=C.emailsWithAttachments;for(const k of y)if(k.attachments&&k.attachments.length>0)for(const P of k.attachments)try{const E=new FormData,q=new Uint8Array(P.data.data),B=new Blob([q],{type:P.data.type});E.append("file",B,P.filename);const G=await fetch(`${f$}/ai/process/bill`,{method:"POST",body:E});G.ok?(console.log(`Successfully processed attachment ${P.filename}`),o(!1)):console.error(`Failed to process attachment ${P.filename}: ${G.statusText}`)}catch(E){console.error(`Error processing attachment ${P.filename}:`,E)}v(y),console.log(C)}catch(C){console.error("Error forcing scan:",C),l("Erro ao forar sincronizao")}finally{g(null)}},F=async(S,C="documento.pdf")=>{console.log("Downloading buffer, size:",S.length);try{const y=new Uint8Array(S);let k="application/octet-stream";C.toLowerCase().endsWith(".pdf")?k="application/pdf":C.toLowerCase().match(/\.(jpe?g)$/i)?k="image/jpeg":C.toLowerCase().endsWith(".png")&&(k="image/png");const P=new Blob([y],{type:k}),E=window.URL.createObjectURL(P),q=document.createElement("a");q.href=E,q.setAttribute("download",C),document.body.appendChild(q),q.click(),setTimeout(()=>{document.body.removeChild(q),window.URL.revokeObjectURL(E)},100)}catch(y){console.error("Error downloading file:",y),l("Erro ao baixar o arquivo")}},x=e.filter(S=>{var y,k,P;const C=b.toLowerCase();return((y=S.email)==null?void 0:y.toLowerCase().includes(C))||((k=S.cnpjName)==null?void 0:k.toLowerCase().includes(C))||((P=S.cnpjNumber)==null?void 0:P.includes(C))}),I=S=>S?new Date(S).toLocaleString("pt-BR"):"Nunca";return s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:i}),s.jsx("button",{onClick:()=>l(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Configurao de E-mail"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Configure as contas de e-mail para captura automtica de boletos"})]}),s.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Configurao"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por e-mail ou CNPJ...",value:b,onChange:S=>p(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):x.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(nr,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma configurao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Nova Configurao" para comear a configurar a captura de boletos.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"E-mail"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ltima Sincronizao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:x.map(S=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:S.email}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[S.imapHost,":",S.imapPort]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:S.cnpjName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:S.cnpjNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:I(S.lastScan)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:S.active,onChange:()=>H(S)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>U(S.id),disabled:w===S.id,className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Forar Sincronizao",children:w===S.id?s.jsx(v4,{className:"h-5 w-5 animate-spin"}):s.jsx(w4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>H(S),className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",title:"Editar",children:s.jsx(WD,{className:"h-5 w-5"})})]})]},S.id))})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Lista de Emails"})}),A.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Assunto"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Remetente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Anexos"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:A&&A.map(S=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:S.subject})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:S.from})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:S.attachments.length>0?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800/30 dark:text-green-400",children:"Sim"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-800/30 dark:text-red-400",children:"No"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:S.attachments&&S.attachments.length>0&&s.jsx("div",{className:"flex justify-end space-x-2",children:S.attachments.map(C=>s.jsx("button",{onClick:()=>F(C.data.data,C.filename),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:`Baixar ${C.filename}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})},C.filename))})})]},S.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(nr,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum email encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"Selecione uma configurao e clique no boto de sincronizao para buscar emails."})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Logs de Email"})}),s.jsx(c$,{logs:r})]})]}),s.jsx(fw,{children:s.jsx(l$,{isOpen:c,onClose:()=>d(!1),config:u,onSuccess:()=>{d(!1),j()}})})]})}function p$({isOpen:e,onClose:t,config:r,cnpjs:n,bankAccounts:a,onSuccess:o}){const[i,l]=L.useState({cnpj_id:"",bank_account_id:"",scan_frequency:15,active:!0}),[c,d]=L.useState(!1),[u,f]=L.useState(null);L.useEffect(()=>{l(r?{cnpj_id:r.cnpj_id,bank_account_id:r.bank_account_id,scan_frequency:r.scan_frequency,active:r.active}:{cnpj_id:"",bank_account_id:"",scan_frequency:15,active:!0})},[r]);const b=async p=>{p.preventDefault(),d(!0),f(null);try{if(r){const{error:w}=await De.from("dda_configs").update({cnpj_id:i.cnpj_id,bank_account_id:i.bank_account_id,scan_frequency:i.scan_frequency,active:i.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(w)throw w}else{const{error:w}=await De.from("dda_configs").insert([{cnpj_id:i.cnpj_id,bank_account_id:i.bank_account_id,scan_frequency:i.scan_frequency,active:i.active}]);if(w)throw w.code==="23505"?new Error("J existe uma configurao DDA para este CNPJ e conta bancria"):w}o(),t()}catch(w){console.error("Error saving DDA config:",w),f(w instanceof Error?w.message:"Erro ao salvar configurao DDA")}finally{d(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Configurao DDA":"Nova Configurao DDA"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:b,className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:u})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:i.cnpj_id,onChange:p=>l(w=>({...w,cnpj_id:p.target.value})),disabled:c,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),n.map(p=>s.jsxs("option",{value:p.id,children:[p.name," - ",p.cnpj]},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:i.bank_account_id,onChange:p=>l(w=>({...w,bank_account_id:p.target.value})),disabled:c,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),a.map(p=>s.jsxs("option",{value:p.id,children:[p.name," - ",p.bank," ",p.branch,"/",p.account]},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia de Sincronizao (minutos)"}),s.jsx("input",{type:"number",min:"5",max:"60",value:i.scan_frequency,onChange:p=>l(w=>({...w,scan_frequency:parseInt(p.target.value)||15})),disabled:c,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:i.active,onChange:p=>l(w=>({...w,active:p.target.checked})),disabled:c,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Configurao ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:c,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:c,children:c?"Salvando...":r?"Salvar Alteraes":"Criar Configurao"})]})]})]})}):null}function m$(){const[e,t]=L.useState(!1),[r,n]=L.useState(""),[a,o]=L.useState(null),[i,l]=L.useState([]),[c,d]=L.useState([]),[u,f]=L.useState([]),[b,p]=L.useState(!0),[w,g]=L.useState(null),[A,v]=L.useState(null);L.useEffect(()=>{j()},[]);const j=async()=>{try{const[S,C,y]=await Promise.all([De.from("dda_monitoring_status").select("*").order("cnpj_name"),De.from("cnpjs").select("*").eq("active",!0).order("name"),De.from("bank_accounts").select("*").eq("active",!0).order("name")]);if(S.error)throw S.error;if(C.error)throw C.error;if(y.error)throw y.error;l(S.data||[]),d(C.data||[]),f(y.data||[]),g(null)}catch(S){console.error("Error loading data:",S),g("Erro ao carregar dados")}finally{p(!1)}},R=()=>{o(null),t(!0)},H=S=>{o(S),t(!0)},U=async S=>{try{v(S),g(null);const{data:C,error:y}=await De.functions.invoke("dda-sync",{body:JSON.stringify({configId:S})});if(y)throw y;C.success?await j():g(C.message)}catch(C){console.error("Error forcing DDA sync:",C),g("Erro ao forar sincronizao DDA")}finally{v(null)}},F=i.filter(S=>{const C=r.toLowerCase();return S.cnpj_name.toLowerCase().includes(C)||S.cnpj_number.includes(C)||S.bank_account_name.toLowerCase().includes(C)}),x=S=>S?new Date(S).toLocaleString("pt-BR"):"Nunca",I=S=>{if(!S)return null;switch(S){case"RUNNING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Em Execuo"});case"SUCCESS":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Sucesso"});case"FAILED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Falha"});default:return null}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>g(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Configurao DDA"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as configuraes de DDA para captura automtica de boletos"})]}),s.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Configurao"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por CNPJ ou conta bancria...",value:r,onChange:S=>n(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),b?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):F.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(y0,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma configurao DDA encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Nova Configurao" para comear a configurar o DDA.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta Bancria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ltima Sincronizao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Boletos"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:F.map(S=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:S.cnpj_name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:S.cnpj_number})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:S.bank_account_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:x(S.last_scan)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[I(S.last_sync_status),S.last_sync_error&&s.jsx("div",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:S.last_sync_error})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:S.pending_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"pendentes"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:S.processed_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"processados"})]}),(S.failed_boletos>0||S.invalid_boletos>0)&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:S.failed_boletos+S.invalid_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"falhas"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>U(S.id),disabled:A===S.id||!S.active,className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3 disabled:opacity-50",title:S.active?"Forar Sincronizao":"Configurao Inativa",children:A===S.id?s.jsx(y0,{className:"h-5 w-5 animate-spin"}):s.jsx(w4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>H(S),className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",title:"Editar",children:s.jsx(nr,{className:"h-5 w-5"})})]})]},S.id))})]})})]}),s.jsx(p$,{isOpen:e,onClose:()=>t(!1),config:a,cnpjs:c,bankAccounts:u,onSuccess:()=>{t(!1),j()}})]})}function g$({reasons:e,onEdit:t,onDelete:r,onToggleStatus:n}){return e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(pm,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum motivo de estorno cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Novo Motivo" para comear a cadastrar motivos de estorno.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:a.description||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},a.id))})]})})}function y$({isOpen:e,onClose:t,reason:r,onSuccess:n}){const[a,o]=L.useState({name:"",description:"",active:!0}),[i,l]=L.useState(!1),[c,d]=L.useState(null);L.useEffect(()=>{o(r?{name:r.name,description:r.description||"",active:r.active}:{name:"",description:"",active:!0})},[r]);const u=async f=>{f.preventDefault(),l(!0),d(null);try{if(r){const{error:b}=await De.from("refund_reasons").update({name:a.name,description:a.description||null,active:a.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(b)throw b}else{const{error:b}=await De.from("refund_reasons").insert([{name:a.name,description:a.description||null,active:a.active}]);if(b)throw b}n(),t()}catch(b){console.error("Error saving refund reason:",b),d("Erro ao salvar motivo de estorno")}finally{l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Motivo de Estorno":"Novo Motivo de Estorno"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Motivo"}),s.jsx("input",{type:"text",value:a.name,onChange:f=>o(b=>({...b,name:f.target.value})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:a.description,onChange:f=>o(b=>({...b,description:f.target.value})),disabled:i,rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:f=>o(b=>({...b,active:f.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Motivo ativo"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Motivo"})]})]})]})}):null}function x$(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState(null),[c,d]=L.useState([]),[u,f]=L.useState(!0),[b,p]=L.useState(null);L.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:U,error:F}=await De.from("refund_reasons").select("*").order("name");if(F)throw F;d(U||[]),p(null)}catch(U){console.error("Error loading refund reasons:",U),p("Erro ao carregar motivos de estorno")}finally{f(!1)}},g=()=>{l(null),t(!0)},A=U=>{l(U),t(!0)},v=U=>{l(U),n(!0)},j=async()=>{if(i)try{const{error:U}=await De.from("refund_reasons").delete().eq("id",i.id);if(U)throw U;d(c.filter(F=>F.id!==i.id)),n(!1),p(null)}catch(U){console.error("Error deleting refund reason:",U),p("Erro ao excluir motivo de estorno")}},R=async U=>{try{const{error:F}=await De.from("refund_reasons").update({active:!U.active,updated_at:new Date().toISOString()}).eq("id",U.id);if(F)throw F;d(c.map(x=>x.id===U.id?{...x,active:!x.active}:x)),p(null)}catch(F){console.error("Error toggling refund reason status:",F),p("Erro ao alterar status do motivo de estorno")}},H=c.filter(U=>{var F;return U.name.toLowerCase().includes(a.toLowerCase())||((F=U.description)==null?void 0:F.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:b}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Motivos de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os motivos de estorno disponveis no sistema"})]}),s.jsxs("button",{onClick:g,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Motivo"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:a,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(g$,{reasons:H,onEdit:A,onDelete:v,onToggleStatus:R})]}),s.jsx(y$,{isOpen:e,onClose:()=>t(!1),reason:i,onSuccess:()=>{t(!1),w()}}),s.jsx(Ai,{isOpen:r,onClose:()=>n(!1),title:"Excluir Motivo de Estorno",description:`Tem certeza que deseja excluir o motivo "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:j})]})}function b$({responsibles:e,onEdit:t,onDelete:r,onToggleStatus:n}){if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(JD,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum responsvel cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Novo Responsvel" para comear a cadastrar responsveis pelos estornos.'})]});const a=o=>o.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4");return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CPF"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(o.cpf)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.active,onChange:()=>n(o)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(o),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},o.id))})]})})}function v$({isOpen:e,onClose:t,responsible:r,onSuccess:n}){const[a,o]=L.useState({id:"",name:"",cpf:"",active:!0}),[i,l]=L.useState(!1),[c,d]=L.useState(null);L.useEffect(()=>{o(r?{id:r.id,name:r.name,cpf:r.cpf,active:r.active}:{id:"",name:"",cpf:"",active:!0})},[r]);const u=p=>p.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2").slice(0,14),f=p=>{const w=p.replace(/\D/g,"");if(w.length!==11||/^(\d)\1+$/.test(w))return!1;let g=0;for(let j=0;j<9;j++)g+=parseInt(w.charAt(j))*(10-j);let A=11-g%11;A>9&&(A=0),g=0;for(let j=0;j<10;j++)g+=parseInt(w.charAt(j))*(11-j);let v=11-g%11;return v>9&&(v=0),parseInt(w.charAt(9))===A&&parseInt(w.charAt(10))===v},b=async p=>{p.preventDefault(),l(!0),d(null);try{if(!/^\d{2}$/.test(a.id))throw new Error("O ID deve conter exatamente 2 nmeros");const w=a.cpf.replace(/\D/g,"");if(!f(w))throw new Error("CPF invlido");if(r){const{error:g}=await De.from("refund_responsibles").update({id:a.id,name:a.name,cpf:w,active:a.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(g)throw g}else{const{error:g}=await De.from("refund_responsibles").insert([{id:a.id,name:a.name,cpf:w,active:a.active}]);if(g)throw g.code==="23505"?g.message.includes("cpf")?new Error("CPF j cadastrado"):new Error("ID j cadastrado"):g}n(),t()}catch(w){console.error("Error saving refund responsible:",w),d(w instanceof Error?w.message:"Erro ao salvar responsvel")}finally{l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Responsvel":"Novo Responsvel"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:b,className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"ID do Responsvel"}),s.jsx("input",{type:"text",value:a.id,onChange:p=>{const w=p.target.value.replace(/\D/g,"").slice(0,2);o(g=>({...g,id:w}))},disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: 01",required:!0}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:"Digite um nmero de dois dgitos (ex: 01, 15, 99)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Responsvel"}),s.jsx("input",{type:"text",value:a.name,onChange:p=>o(w=>({...w,name:p.target.value})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF"}),s.jsx("input",{type:"text",value:a.cpf,onChange:p=>o(w=>({...w,cpf:u(p.target.value)})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"000.000.000-00",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:p=>o(w=>({...w,active:p.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Responsvel ativo"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Responsvel"})]})]})]})}):null}function w$(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState(null),[c,d]=L.useState([]),[u,f]=L.useState(!0),[b,p]=L.useState(null);L.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:U,error:F}=await De.from("refund_responsibles").select("*").order("id");if(F)throw F;d(U||[]),p(null)}catch(U){console.error("Error loading refund responsibles:",U),p("Erro ao carregar responsveis")}finally{f(!1)}},g=()=>{l(null),t(!0)},A=U=>{l(U),t(!0)},v=U=>{l(U),n(!0)},j=async()=>{if(i)try{const{error:U}=await De.from("refund_responsibles").delete().eq("id",i.id);if(U)throw U;d(c.filter(F=>F.id!==i.id)),n(!1),p(null)}catch(U){console.error("Error deleting refund responsible:",U),p("Erro ao excluir responsvel")}},R=async U=>{try{const{error:F}=await De.from("refund_responsibles").update({active:!U.active,updated_at:new Date().toISOString()}).eq("id",U.id);if(F)throw F;d(c.map(x=>x.id===U.id?{...x,active:!x.active}:x)),p(null)}catch(F){console.error("Error toggling refund responsible status:",F),p("Erro ao alterar status do responsvel")}},H=c.filter(U=>U.name.toLowerCase().includes(a.toLowerCase())||U.cpf.includes(a)||U.id.includes(a));return s.jsxs("div",{className:"p-4 sm:p-6",children:[b&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:b}),s.jsx("button",{onClick:()=>p(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Responsveis pelos Estornos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os responsveis pelos estornos no sistema"})]}),s.jsxs("button",{onClick:g,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Responsvel"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por ID, nome ou CPF...",value:a,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(b$,{responsibles:H,onEdit:A,onDelete:v,onToggleStatus:R})]}),s.jsx(v$,{isOpen:e,onClose:()=>t(!1),responsible:i,onSuccess:()=>{t(!1),w()}}),s.jsx(Ai,{isOpen:r,onClose:()=>n(!1),title:"Excluir Responsvel",description:`Tem certeza que deseja excluir o responsvel "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:j})]})}function k$({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState({orderNumber:"",customerName:"",customerCpf:"",refundReasonId:"",refundValue:"",paymentType:"PIX",pixKey:"",responsible1Id:"",responsible2Id:"",notes:""}),[o,i]=L.useState([]),[l,c]=L.useState([]),[d,u]=L.useState(!1),[f,b]=L.useState(null);L.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const[F,x]=await Promise.all([De.from("refund_reasons").select("*").eq("active",!0).order("name"),De.from("refund_responsibles").select("*").eq("active",!0).order("name")]);if(F.error)throw F.error;if(x.error)throw x.error;i(F.data||[]),c(x.data||[])}catch(F){console.error("Error loading data:",F),b("Erro ao carregar dados")}},w=F=>F.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2").slice(0,14),g=F=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F),A=F=>{let x=F.target.value.replace(/\D/g,"");x===""&&(x="0");const I=parseInt(x)/100;a(S=>({...S,refundValue:I.toString()}))},v=F=>{const x=F.replace(/\D/g,"");if(x.length!==11||/^(\d)\1+$/.test(x))return!1;let I=0;for(let y=0;y<9;y++)I+=parseInt(x.charAt(y))*(10-y);let S=11-I%11;S>9&&(S=0),I=0;for(let y=0;y<10;y++)I+=parseInt(x.charAt(y))*(11-y);let C=11-I%11;return C>9&&(C=0),parseInt(x.charAt(9))===S&&parseInt(x.charAt(10))===C};function j(F){if(typeof F!="string"||(F=F.replace(/[\s.-]*/gim,""),!F||F.length!==11||F==="00000000000"||F==="11111111111"||F==="22222222222"||F==="33333333333"||F==="44444444444"||F==="55555555555"||F==="66666666666"||F==="77777777777"||F==="88888888888"||F==="99999999999"))return!1;let x=0,I;for(let S=1;S<=9;S++)x+=parseInt(F.substring(S-1,S))*(11-S);if(I=x*10%11,(I===10||I===11)&&(I=0),I!==parseInt(F.substring(9,10)))return!1;x=0;for(let S=1;S<=10;S++)x+=parseInt(F.substring(S-1,S))*(12-S);return I=x*10%11,(I===10||I===11)&&(I=0),I===parseInt(F.substring(10,11))}function R(F){if(typeof F!="string"||(F=F.replace(/[\s.-]*/gim,""),!F||F.length!==14||F==="00000000000000"||F==="11111111111111"||F==="22222222222222"||F==="33333333333333"||F==="44444444444444"||F==="55555555555555"||F==="66666666666666"||F==="77777777777777"||F==="88888888888888"||F==="99999999999999"))return!1;let x=F.length-2,I=F.substring(0,x),S=F.substring(x),C=0,y=x-7;for(let P=x;P>=1;P--)C+=parseInt(I.charAt(x-P))*y--,y<2&&(y=9);let k=C%11<2?0:11-C%11;if(k!==parseInt(S.charAt(0)))return!1;x=x+1,I=F.substring(0,x),C=0,y=x-7;for(let P=x;P>=1;P--)C+=parseInt(I.charAt(x-P))*y--,y<2&&(y=9);return k=C%11<2?0:11-C%11,k===parseInt(S.charAt(1))}function H(F){const x=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,I=F.replace(/[^0-9]/g,"");return j(I)?"CPF":R(I)?"CNPJ":x.test(F)?"Email":I.length===10||I.length===11?"Telefone":"Chave Aleatria"}const U=async F=>{F.preventDefault(),u(!0),b(null);try{const x=n.customerCpf.replace(/\D/g,"");if(!v(x))throw new Error("CPF invlido");const I=parseFloat(n.refundValue);if(isNaN(I)||I<=0)throw new Error("Valor de estorno invlido");const S=localStorage.getItem("userId"),{error:C}=await De.from("refund_requests").insert([{order_number:n.orderNumber,customer_name:n.customerName,customer_cpf:x,refund_reason_id:n.refundReasonId,refund_value:I,payment_type:n.paymentType,pix_key:n.pixKey,responsible_1_id:n.responsible1Id,responsible_2_id:n.responsible2Id||null,notes:n.notes||null,status:"PENDING",created_by_id:S}]);if(C)throw C;r(),t()}catch(x){console.error("Error creating refund request:",x),b(x instanceof Error?x.message:"Erro ao criar solicitao de estorno")}finally{u(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Estorno"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:U,className:"p-4 sm:p-6",children:[f&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:f})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:n.orderNumber,onChange:F=>a(x=>({...x,orderNumber:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:n.customerName,onChange:F=>a(x=>({...x,customerName:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF do Cliente"}),s.jsx("input",{type:"text",value:n.customerCpf,onChange:F=>a(x=>({...x,customerCpf:w(F.target.value)})),placeholder:"000.000.000-00",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Motivo do Estorno"}),s.jsxs("select",{value:n.refundReasonId,onChange:F=>a(x=>({...x,refundReasonId:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um motivo"}),o.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Estorno"}),s.jsx("input",{type:"text",value:g(n.refundValue),onChange:A,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Estorno"}),s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"PIX",checked:n.paymentType==="PIX",onChange:F=>a(x=>({...x,paymentType:F.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"PIX"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CUPOM",checked:n.paymentType==="CUPOM",onChange:F=>a(x=>({...x,paymentType:F.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Cupom de Desconto"})]})]})]}),n.paymentType==="PIX"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",H(n.pixKey),")"]}),s.jsx("input",{type:"text",value:n.pixKey,onChange:F=>a(x=>({...x,pixKey:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Responsvel 1"}),s.jsxs("select",{value:n.responsible1Id,onChange:F=>a(x=>({...x,responsible1Id:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione o primeiro responsvel"}),l.map(F=>s.jsxs("option",{value:F.id,children:[F.id," - ",F.name]},F.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Responsvel 2 (Opcional)"}),s.jsxs("select",{value:n.responsible2Id,onChange:F=>a(x=>({...x,responsible2Id:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione o segundo responsvel"}),l.filter(F=>F.id!==n.responsible1Id).map(F=>s.jsxs("option",{value:F.id,children:[F.id," - ",F.name]},F.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:n.notes,onChange:F=>a(x=>({...x,notes:F.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre o estorno..."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:d,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:d,children:d?"Salvando...":"Criar Solicitao"})]})]})]})}):null}function j$({isOpen:e,onClose:t,request:r,onSuccess:n}){const[a,o]=L.useState({bankAccountId:"",cnpjId:"",categoryId:"",rejectionReason:""}),[i,l]=L.useState([]),[c,d]=L.useState([]),[u,f]=L.useState([]),[b,p]=L.useState(!1),[w,g]=L.useState(null);L.useEffect(()=>{e&&A()},[e]);const A=async()=>{try{const[F,x,I]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0).order("name"),De.from("bank_accounts").select("*").eq("active",!0).order("name"),De.from("financial_categories").select("*").in("type",["EXPENSE","BOTH"]).eq("active",!0).order("name")]);if(F.error)throw F.error;if(x.error)throw x.error;if(I.error)throw I.error;l(F.data||[]),d(x.data||[]),f(I.data||[])}catch(F){console.error("Error loading data:",F),g("Erro ao carregar dados")}},v=async()=>{if(r)try{if(p(!0),g(null),!a.bankAccountId)throw new Error("Selecione a conta bancria");if(!a.cnpjId)throw new Error("Selecione o CNPJ");if(!a.categoryId)throw new Error("Selecione a categoria");const F=new Date().toISOString().split("T")[0],{error:x}=await De.from("refund_requests").update({status:"APPROVED",updated_at:new Date().toISOString()}).eq("id",r.id);if(x)throw x;const I=localStorage.getItem("userId"),{error:S}=await De.from("payments").insert([{supplier_name:r.customerName,description:`Estorno do pedido ${r.orderNumber}`,value:r.refundValue,due_date:F,status:"PENDING",cnpj_id:a.cnpjId,category_id:a.categoryId,bank_account_id:a.bankAccountId,payment_method:r.paymentType==="PIX"?"pix":null,pix_key:r.pixKey,payment_method_id:null,created_by_id:I}]);if(S)throw S;n(),t()}catch(F){console.error("Error approving refund request:",F),g(F instanceof Error?F.message:"Erro ao aprovar estorno")}finally{p(!1)}},j=async()=>{if(r)try{if(p(!0),g(null),!a.rejectionReason.trim())throw new Error("Informe o motivo da rejeio");const{error:F}=await De.from("refund_requests").update({status:"REJECTED",notes:a.rejectionReason,updated_at:new Date().toISOString()}).eq("id",r.id);if(F)throw F;n(),t()}catch(F){console.error("Error rejecting refund request:",F),g(F instanceof Error?F.message:"Erro ao rejeitar estorno")}finally{p(!1)}},R=F=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F),H=F=>F.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),U=F=>new Date(F).toLocaleDateString("pt-BR");return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao de Estorno #",r.requestNumber]}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:w})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes da Solicitao"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nmero do Pedido"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.orderNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data da Solicitao"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:U(r.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Cliente"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.customerName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"CPF"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:H(r.customerCpf)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor do Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:R(r.refundValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Forma de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.paymentType==="PIX"?"PIX":"Cupom de Desconto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Chave PIX"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.pixKey})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Motivo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.reasonName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Responsveis"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.responsible1Name,r.responsible2Name&&` e ${r.responsible2Name}`]})]}),r.notes&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Observaes"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.notes})]})]})]}),r.status==="PENDING"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Informaes para Aprovao"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:a.cnpjId,onChange:F=>o(x=>({...x,cnpjId:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(F=>s.jsxs("option",{value:F.id,children:[F.name," - ",F.cnpj]},F.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria da Despesa"}),s.jsxs("select",{value:a.categoryId,onChange:F=>o(x=>({...x,categoryId:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),u.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:a.bankAccountId,onChange:F=>o(x=>({...x,bankAccountId:F.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),c.map(F=>s.jsxs("option",{value:F.id,children:[F.name," - ",F.bank," ",F.branch,"/",F.account]},F.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Motivo da Rejeio"}),s.jsx("textarea",{value:a.rejectionReason,onChange:F=>o(x=>({...x,rejectionReason:F.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Informe o motivo da rejeio..."})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:b,children:"Fechar"}),r.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:b,children:"Rejeitar"}),s.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:b||!a.bankAccountId||!a.cnpjId||!a.categoryId,children:"Aprovar"})]})]})]})]})})}function N$(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(""),[i,l]=L.useState({start:"",end:""}),[c,d]=L.useState(null),[u,f]=L.useState([]),[b,p]=L.useState(!0),[w,g]=L.useState(null);L.useEffect(()=>{A()},[]);const A=async()=>{try{p(!0);const{data:x,error:I}=await De.from("refund_requests_with_details").select("*").order("created_at",{ascending:!1});if(I)throw I;const S=(x||[]).map(C=>({id:C.id,requestNumber:C.request_number,orderNumber:C.order_number,customerName:C.customer_name,customerCpf:C.customer_cpf,refundReasonId:C.refund_reason_id,refundValue:C.refund_value,paymentType:C.payment_type,pixKey:C.pix_key,responsible1Id:C.responsible_1_id,responsible2Id:C.responsible_2_id,status:C.status,notes:C.notes,createdById:C.created_by_id,createdAt:C.created_at,updatedAt:C.updated_at,createdByName:C.created_by_name,createdByEmail:C.created_by_email,reasonName:C.reason_name,responsible1Name:C.responsible_1_name,responsible2Name:C.responsible_2_name}));f(S),g(null)}catch(x){console.error("Error loading refund requests:",x),g("Erro ao carregar solicitaes de estorno")}finally{p(!1)}},v=x=>{d(x),n(!0)},j=u.filter(x=>{var k;const I=a.toLowerCase(),S=x.orderNumber.toLowerCase().includes(I)||x.customerName.toLowerCase().includes(I)||x.customerCpf.includes(a)||((k=x.reasonName)==null?void 0:k.toLowerCase().includes(I)),C=new Date(x.createdAt),y=(!i.start||C>=new Date(i.start))&&(!i.end||C<=new Date(i.end));return S&&y}),R=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),H=x=>x.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),U=x=>new Date(x).toLocaleDateString("pt-BR"),F=x=>{switch(x){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Rejeitado"});default:return null}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>g(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Solicitaes de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de estorno do sistema"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Solicitao"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente, CPF, nmero do pedido ou motivo...",value:a,onChange:x=>o(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"sm:w-auto flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_l,{className:"h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"date",value:i.start,onChange:x=>l(I=>({...I,start:x.target.value})),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:i.end,onChange:x=>l(I=>({...I,end:x.target.value})),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]})}),b?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):j.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(pm,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h solicitaes de estorno que correspondam aos critrios de busca."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pedido"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Motivo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:j.map(x=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:U(x.createdAt)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[x.orderNumber," ```"]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:x.customerName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:H(x.customerCpf)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:x.reasonName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:R(x.refundValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F(x.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>v(x),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:"Visualizar Detalhes",children:s.jsx(Qd,{className:"h-5 w-5"})})})]},x.id))})]})})]}),s.jsx(k$,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{t(!1),A()}}),s.jsx(j$,{isOpen:r,onClose:()=>{n(!1),d(null)},request:c,onSuccess:()=>{n(!1),d(null),A()}})]})}function S$({assets:e,onView:t,onEdit:r,onDelete:n}){if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(vc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum ativo cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Ativo" para comear a cadastrar ativos no sistema.'})]});const a=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),o=l=>new Date(l).toLocaleDateString("pt-BR"),i=l=>{switch(l){case"ACTIVE":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Ativo"});case"FULLY_DEPRECIATED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Depreciado"});case"DISPOSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Baixado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Atual"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(l=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:l.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:l.category}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(l.acquisitionValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(l.currentValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o(l.acquisitionDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i(l.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(l),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Visualizar",children:s.jsx(Qd,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(l),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Editar",children:s.jsx(Go,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(l),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:s.jsx(Jo,{className:"h-5 w-5"})})]})]},l.id))})]})})}function C$({isOpen:e,onClose:t,asset:r,onSuccess:n}){const[a,o]=L.useState({name:"",category:"",acquisitionValue:"0",acquisitionDate:new Date().toISOString().split("T")[0],usefulLifeYears:"5",annualDepreciationRate:"20",accountingAccount:"",notes:""}),[i,l]=L.useState(!1),[c,d]=L.useState(null);L.useEffect(()=>{o(r?{name:r.name||"",category:r.category||"",acquisitionValue:r.acquisitionValue?(r.acquisitionValue*100).toString():"0",acquisitionDate:r.acquisitionDate||new Date().toISOString().split("T")[0],usefulLifeYears:(r.usefulLifeYears||5).toString(),annualDepreciationRate:(r.annualDepreciationRate||20).toString(),accountingAccount:r.accountingAccount||"",notes:r.notes||""}:{name:"",category:"",acquisitionValue:"0",acquisitionDate:new Date().toISOString().split("T")[0],usefulLifeYears:"5",annualDepreciationRate:"20",accountingAccount:"",notes:""})},[r]);const u=async p=>{var w;p.preventDefault(),l(!0),d(null);try{const g=parseInt(a.acquisitionValue.replace(/\D/g,""))/100,A=parseInt(a.usefulLifeYears)||5,v=parseFloat(a.annualDepreciationRate)||20;if(g<=0)throw new Error("Valor de aquisio deve ser maior que zero");if(A<=0)throw new Error("Vida til deve ser maior que zero");if(v<=0||v>100)throw new Error("Taxa de depreciao deve estar entre 0 e 100");if(r){const{error:j}=await De.from("assets").update({name:a.name,category:a.category,acquisition_value:g,acquisition_date:a.acquisitionDate,useful_life_years:A,annual_depreciation_rate:v,accounting_account:a.accountingAccount||null,notes:a.notes||null,updated_at:new Date().toISOString()}).eq("id",r.id);if(j)throw j}else{const{error:j}=await De.from("assets").insert([{name:a.name,category:a.category,acquisition_value:g,acquisition_date:a.acquisitionDate,useful_life_years:A,annual_depreciation_rate:v,current_value:g,status:"ACTIVE",accounting_account:a.accountingAccount||null,notes:a.notes||null,created_by_id:(w=(await De.auth.getUser()).data.user)==null?void 0:w.id}]);if(j)throw j}n(),t()}catch(g){console.error("Error saving asset:",g),d(g instanceof Error?g.message:"Erro ao salvar ativo")}finally{l(!1)}},f=p=>{const w=p.replace(/\D/g,""),g=parseInt(w||"0")/100;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g)},b=p=>{const w=p.target.value.replace(/\D/g,"");o(g=>({...g,acquisitionValue:w}))};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Ativo":"Novo Ativo"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Ativo"}),s.jsx("input",{type:"text",value:a.name,onChange:p=>o(w=>({...w,name:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:a.category,onChange:p=>o(w=>({...w,category:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),s.jsx("option",{value:"Equipamento",children:"Equipamento"}),s.jsx("option",{value:"Imvel",children:"Imvel"}),s.jsx("option",{value:"Veculo",children:"Veculo"}),s.jsx("option",{value:"Mveis",children:"Mveis"}),s.jsx("option",{value:"Software",children:"Software"}),s.jsx("option",{value:"Outros",children:"Outros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor de Aquisio"}),s.jsx("input",{type:"text",value:f(a.acquisitionValue),onChange:b,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Aquisio"}),s.jsx("input",{type:"date",value:a.acquisitionDate,onChange:p=>o(w=>({...w,acquisitionDate:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Vida til (anos)"}),s.jsx("input",{type:"number",min:"1",value:a.usefulLifeYears,onChange:p=>o(w=>({...w,usefulLifeYears:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Taxa de Depreciao Anual (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:a.annualDepreciationRate,onChange:p=>o(w=>({...w,annualDepreciationRate:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Contbil"}),s.jsx("input",{type:"text",value:a.accountingAccount,onChange:p=>o(w=>({...w,accountingAccount:p.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: 1.2.3.01.001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:a.notes,onChange:p=>o(w=>({...w,notes:p.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre o ativo..."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Ativo"})]})]})]})}):null}function _$({isOpen:e,onClose:t,asset:r,onEdit:n,onSuccess:a}){const[o,i]=L.useState([]),[l,c]=L.useState(!1),[d,u]=L.useState(null);L.useEffect(()=>{e&&r&&f()},[e,r]);const f=async()=>{if(r)try{const{data:g,error:A}=await De.from("asset_depreciation_history").select("*").eq("asset_id",r.id).order("year");if(A)throw A;i(g||[])}catch(g){console.error("Error loading depreciation history:",g),u("Erro ao carregar histrico de depreciao")}},b=async()=>{if(r)try{c(!0),u(null);const{error:g}=await De.from("assets").update({status:"DISPOSED",updated_at:new Date().toISOString()}).eq("id",r.id);if(g)throw g;a(),t()}catch(g){console.error("Error disposing asset:",g),u("Erro ao baixar ativo")}finally{c(!1)}},p=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g),w=g=>new Date(g).toLocaleDateString("pt-BR");return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Ativo"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[d&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:d})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes Gerais"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nome"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Categoria"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:p(r.acquisitionValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Atual"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:p(r.currentValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:w(r.acquisitionDate)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Vida til"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.usefulLifeYears," anos"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Taxa de Depreciao Anual"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.annualDepreciationRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Conta Contbil"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.accountingAccount||"-"})]}),r.notes&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Observaes"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.notes})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Histrico de Depreciao"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Ano"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Anterior"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Depreciao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Final"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:o.map(g=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:g.year}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:p(g.previous_value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 dark:text-red-400",children:p(g.depreciated_amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:p(g.current_value)})]},g.id))})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:l,children:"Fechar"}),r.status==="ACTIVE"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>n(r),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:l,children:"Editar"}),s.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:l,children:"Baixar Ativo"})]})]})]})]})})}function E$(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(!1),[i,l]=L.useState(""),[c,d]=L.useState(null),[u,f]=L.useState([]),[b,p]=L.useState(!0),[w,g]=L.useState(null),[A,v]=L.useState({category:"",status:"",minValue:"",maxValue:"",dateRange:{start:"",end:""}});L.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:y,error:k}=await De.from("assets_with_details").select("*").order("name");if(k)throw k;f(y||[]),g(null)}catch(y){console.error("Error loading assets:",y),g("Erro ao carregar ativos")}finally{p(!1)}},R=()=>{d(null),t(!0)},H=y=>{d(y),n(!0)},U=y=>{d(y),t(!0)},F=y=>{d(y),o(!0)},x=async()=>{if(c)try{const{error:y}=await De.from("assets").delete().eq("id",c.id);if(y)throw y;f(u.filter(k=>k.id!==c.id)),o(!1),g(null)}catch(y){console.error("Error deleting asset:",y),g("Erro ao excluir ativo")}},I=u.filter(y=>{var ee;const k=i.toLowerCase(),P=y.name.toLowerCase().includes(k)||y.category.toLowerCase().includes(k)||((ee=y.accountingAccount)==null?void 0:ee.toLowerCase().includes(k)),E=!A.category||y.category===A.category,q=!A.status||y.status===A.status,B=(!A.minValue||y.currentValue>=parseFloat(A.minValue))&&(!A.maxValue||y.currentValue<=parseFloat(A.maxValue)),G=new Date(y.acquisitionDate),V=(!A.dateRange.start||G>=new Date(A.dateRange.start))&&(!A.dateRange.end||G<=new Date(A.dateRange.end));return P&&E&&q&&B&&V}),S=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),C={acquisitionValue:I.reduce((y,k)=>y+k.acquisitionValue,0),currentValue:I.reduce((y,k)=>y+k.currentValue,0),totalDepreciation:I.reduce((y,k)=>y+(k.acquisitionValue-k.currentValue),0),activeCount:I.filter(y=>y.status==="ACTIVE").length,fullyDepreciatedCount:I.filter(y=>y.status==="FULLY_DEPRECIATED").length,disposedCount:I.filter(y=>y.status==="DISPOSED").length};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>g(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Gesto de Ativos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os ativos e suas depreciaes"})]}),s.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Ativo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total de Aquisio"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:S(C.acquisitionValue)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Atual (Depreciado)"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:S(C.currentValue)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total Depreciado"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-600 dark:text-red-400",children:S(C.totalDepreciation)})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, categoria ou conta contbil...",value:i,onChange:y=>l(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>{},className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(wc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),b?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(S$,{assets:I,onView:H,onEdit:U,onDelete:F})]}),s.jsx(C$,{isOpen:e,onClose:()=>t(!1),asset:c,onSuccess:()=>{t(!1),j()}}),s.jsx(_$,{isOpen:r,onClose:()=>n(!1),asset:c,onEdit:U,onSuccess:j}),s.jsx(Ai,{isOpen:a,onClose:()=>o(!1),title:"Excluir Ativo",description:`Tem certeza que deseja excluir o ativo "${c==null?void 0:c.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:x})]})}function A$({isOpen:e,onClose:t,passive:r,onSuccess:n}){const[a,o]=L.useState("general"),[i,l]=L.useState(!1),[c,d]=L.useState(null),[u,f]=L.useState([]),[b,p]=L.useState([]),[w,g]=L.useState([]),[A,v]=L.useState([]),[j,R]=L.useState({general:{name:"",description:"",acquisitionDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}});L.useEffect(()=>{e&&(H(),r&&R({general:{name:r.name,description:r.description,acquisitionDate:r.acquisition_date,competenceDate:r.competence_date},financial:{value:r.value.toString(),paymentMethodId:r.payment_method_id,installments:r.total_installments.toString(),bankAccountId:r.bank_account_id,cnpjId:r.cnpj_id,categoryId:r.category_id}}))},[e,r]);const H=async()=>{try{const[I,S,C,y]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0),De.from("payment_methods").select("*").eq("active",!0)]);if(I.error)throw I.error;if(S.error)throw S.error;if(C.error)throw C.error;if(y.error)throw y.error;f(I.data||[]),p(S.data||[]),g(C.data||[]),v(y.data||[])}catch(I){console.error("Error loading data:",I),d("Erro ao carregar dados")}},U=I=>{const S=I.replace(/\D/g,"");return(parseInt(S)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},F=I=>{let S=I.target.value.replace(/\D/g,"");S===""&&(S="0");const C=parseInt(S)/100;R(y=>({...y,financial:{...y.financial,value:C.toString()}}))},x=async I=>{var S;I.preventDefault(),l(!0),d(null);try{const C={name:j.general.name,description:j.general.description,acquisition_date:j.general.acquisitionDate,competence_date:j.general.competenceDate,value:parseFloat(j.financial.value),payment_method_id:j.financial.paymentMethodId,bank_account_id:j.financial.bankAccountId,cnpj_id:j.financial.cnpjId,category_id:j.financial.categoryId,total_installments:parseInt(j.financial.installments),status:"PENDING",created_by_id:(S=(await De.auth.getUser()).data.user)==null?void 0:S.id};if(r){const{error:y}=await De.from("passives").update(C).eq("id",r.id);if(y)throw y}else{const{error:y}=await De.from("passives").insert([C]);if(y)throw y}n(),t()}catch(C){console.error("Error saving passive:",C),d("Erro ao salvar passivo")}finally{l(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Passivo":"Novo Passivo"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>o("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>o("financial"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="financial"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Detalhes Financeiros"})]})}),s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),a==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Passivo"}),s.jsx("input",{type:"text",value:j.general.name,onChange:I=>R(S=>({...S,general:{...S.general,name:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:j.general.description,onChange:I=>R(S=>({...S,general:{...S.general,description:I.target.value}})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Aquisio"}),s.jsx("input",{type:"date",value:j.general.acquisitionDate,onChange:I=>R(S=>({...S,general:{...S.general,acquisitionDate:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Competncia"}),s.jsx("input",{type:"date",value:j.general.competenceDate,onChange:I=>R(S=>({...S,general:{...S.general,competenceDate:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),a==="financial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Passivo"}),s.jsx("input",{type:"text",value:U(j.financial.value),onChange:F,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:j.financial.paymentMethodId,onChange:I=>R(S=>({...S,financial:{...S.financial,paymentMethodId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),A.map(I=>s.jsx("option",{value:I.id,children:I.description},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"1",value:j.financial.installments,onChange:I=>R(S=>({...S,financial:{...S.financial,installments:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:j.financial.bankAccountId,onChange:I=>R(S=>({...S,financial:{...S.financial,bankAccountId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),w.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.bank," ",I.branch,"/",I.account]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:j.financial.cnpjId,onChange:I=>R(S=>({...S,financial:{...S.financial,cnpjId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),u.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.cnpj]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:j.financial.categoryId,onChange:I=>R(S=>({...S,financial:{...S.financial,categoryId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),b.filter(I=>I.type==="EXPENSE"||I.type==="BOTH").map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Passivo"})]})]})]})}):null}function P$({isOpen:e,onClose:t,passive:r,onEdit:n,onSuccess:a}){if(!e||!r)return null;const o=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),i=l=>new Date(l).toLocaleDateString("pt-BR");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Passivo"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes Gerais"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nome"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:o(r.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:i(r.acquisition_date)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Competncia"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:i(r.competence_date)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Forma de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.payment_method_description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Conta Bancria"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.bank_account_name})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Descrio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.description})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Parcelas"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Parcela"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:(r.installment_details||[]).map(l=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[l.installment_number,"/",r.total_installments]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o(l.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(l.due_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.status==="PAID"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":l.status==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:l.status==="PAID"?"Pago":l.status==="PENDING"?"Pendente":"Cancelado"})})]},l.installment_number))})]})})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{type:"button",onClick:()=>n(r),className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Editar"})]})]})})}function D$({passives:e,onView:t}){if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(vc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum passivo encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h passivos que correspondam aos filtros selecionados."})]});const r=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),n=o=>new Date(o).toLocaleDateString("pt-BR"),a=o=>{switch(o){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"IN_PROGRESS":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Em Andamento"});case"PAID":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Quitado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Pago"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:o.name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:o.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:r(o.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:r(o.total_paid||0)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:n(o.acquisition_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.payment_method_description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a(o.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>t(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:"Visualizar",children:s.jsx(Qd,{className:"h-5 w-5"})})})]},o.id))})]})})}function L$({isOpen:e,onClose:t,filters:r,onApplyFilters:n}){const[a,o]=Mr.useState(r),i=()=>{n(a),t()},l=()=>{const c={dateRange:{start:"",end:""},minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""};o(c),n(c),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:a.dateRange.start,onChange:c=>o(d=>({...d,dateRange:{...d.dateRange,start:c.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:a.dateRange.end,onChange:c=>o(d=>({...d,dateRange:{...d.dateRange,end:c.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:a.minValue,onChange:c=>o(d=>({...d,minValue:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:a.maxValue,onChange:c=>o(d=>({...d,maxValue:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:a.status,onChange:c=>o(d=>({...d,status:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"IN_PROGRESS",children:"Em Andamento"}),s.jsx("option",{value:"PAID",children:"Quitados"})]})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function I$(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(!1),[i,l]=L.useState(""),[c,d]=L.useState(null),[u,f]=L.useState([]),[b,p]=L.useState(!0),[w,g]=L.useState(null),[A,v]=L.useState({dateRange:{start:"",end:""},minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""});L.useEffect(()=>{j()},[A]);const j=async()=>{try{p(!0);const{data:F,error:x}=await De.from("passives_with_details").select("*").order("acquisition_date",{ascending:!1});if(x)throw x;f(F||[]),g(null)}catch(F){console.error("Error loading passives:",F),g("Erro ao carregar passivos")}finally{p(!1)}},R=u.filter(F=>{const x=i.toLowerCase(),I=F.name.toLowerCase().includes(x)||F.description.toLowerCase().includes(x),S=(!A.dateRange.start||new Date(F.acquisition_date)>=new Date(A.dateRange.start))&&(!A.dateRange.end||new Date(F.acquisition_date)<=new Date(A.dateRange.end)),C=(!A.minValue||F.value>=parseFloat(A.minValue))&&(!A.maxValue||F.value<=parseFloat(A.maxValue)),y=!A.cnpjId||F.cnpj_id===A.cnpjId,k=!A.categoryId||F.category_id===A.categoryId,P=!A.status||F.status===A.status;return I&&S&&C&&y&&k&&P}),H={totalDebt:R.reduce((F,x)=>F+x.value,0),monthlyPayments:R.filter(F=>F.status==="IN_PROGRESS").reduce((F,x)=>{const I=x.installment_details||[],S=new Date().getMonth(),C=new Date().getFullYear();return F+I.filter(y=>{const k=new Date(y.due_date);return k.getMonth()===S&&k.getFullYear()===C&&y.status==="PENDING"}).reduce((y,k)=>y+k.value,0)},0),totalPaid:R.reduce((F,x)=>F+(x.total_paid||0),0)},U=F=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F);return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>g(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Gesto de Passivos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as dvidas da empresa"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Passivo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total das Dvidas"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:U(H.totalDebt)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Parcelas do Ms"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:U(H.monthlyPayments)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total J Pago"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:U(H.totalPaid)})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:i,onChange:F=>l(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(wc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),b?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(D$,{passives:R,onView:F=>{d(F),n(!0)}})]}),s.jsx(A$,{isOpen:e,onClose:()=>t(!1),passive:null,onSuccess:()=>{t(!1),j()}}),s.jsx(P$,{isOpen:r,onClose:()=>{n(!1),d(null)},passive:c,onEdit:F=>{d(F),n(!1),t(!0)},onSuccess:j}),s.jsx(L$,{isOpen:a,onClose:()=>o(!1),filters:A,onApplyFilters:v})]})}function R$({isOpen:e,onClose:t,filters:r,onApplyFilters:n}){const[a,o]=Mr.useState(r),i=()=>{n(a),t()},l=()=>{const c={bankAccountId:"",type:"",categoryId:"",status:""};o(c),n(c),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsx("select",{value:a.bankAccountId,onChange:c=>o(d=>({...d,bankAccountId:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todas as contas"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Lanamento"}),s.jsxs("select",{value:a.type,onChange:c=>o(d=>({...d,type:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"CREDIT",children:"Receitas"}),s.jsx("option",{value:"DEBIT",children:"Despesas"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx("select",{value:a.categoryId,onChange:c=>o(d=>({...d,categoryId:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todas as categorias"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:a.status,onChange:c=>o(d=>({...d,status:c.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"RECONCILED",children:"Conciliado"}),s.jsx("option",{value:"PENDING",children:"No Conciliado"}),s.jsx("option",{value:"REGISTERED",children:"Pendente"}),s.jsx("option",{value:"CANCELED",children:"Cancelado"}),s.jsx("option",{value:"REVERSED",children:"Estornado"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function T$({handleDelete:e,statements:t,onView:r,onEdit:n,onDelete:a}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(vc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum lanamento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h lanamentos bancrios que correspondam aos filtros selecionados."})]});const o=(c,d)=>{const u=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(c));return d==="DEBIT"?`-${u}`:u},i=c=>c?c.split("-").reverse().join("/"):"-",l=c=>{switch(c){case"RECONCILED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Conciliado"});case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"No Conciliado"});case"REGISTERED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Pendente"});case"CANCELED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Cancelado"});case"REVERSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",children:"Estornado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio/Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta Bancria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(c=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(c.transaction_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.category_name||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.description||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.beneficiary||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.bank_account_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(c.status)}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${c.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:o(c.value,c.type)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>r(c),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Visualizar",children:s.jsx(Qd,{className:"h-5 w-5"})})})]},c.id))})]})})}function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function O$(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iC(e){var t=O$(e,"string");return yc(t)=="symbol"?t:t+""}function Xu(e,t,r){return(t=iC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(r),!0).forEach(function(n){Xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M$(e){if(Array.isArray(e))return e}function F$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,l=[],c=!0,d=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw a}}return l}}function ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lC(e,t){if(e){if(typeof e=="string")return ib(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ib(e,t):void 0}}function B$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xi(e,t){return M$(e)||F$(e,t)||lC(e,t)||B$()}function $$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pi(e,t){if(e==null)return{};var r,n,a=$$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var q$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function U$(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,a=n===void 0?!1:n,o=e.defaultValue,i=o===void 0?null:o,l=e.inputValue,c=e.menuIsOpen,d=e.onChange,u=e.onInputChange,f=e.onMenuClose,b=e.onMenuOpen,p=e.value,w=Pi(e,q$),g=L.useState(l!==void 0?l:r),A=xi(g,2),v=A[0],j=A[1],R=L.useState(c!==void 0?c:a),H=xi(R,2),U=H[0],F=H[1],x=L.useState(p!==void 0?p:i),I=xi(x,2),S=I[0],C=I[1],y=L.useCallback(function(V,ee){typeof d=="function"&&d(V,ee),C(V)},[d]),k=L.useCallback(function(V,ee){var le;typeof u=="function"&&(le=u(V,ee)),j(le!==void 0?le:V)},[u]),P=L.useCallback(function(){typeof b=="function"&&b(),F(!0)},[b]),E=L.useCallback(function(){typeof f=="function"&&f(),F(!1)},[f]),q=l!==void 0?l:v,B=c!==void 0?c:U,G=p!==void 0?p:S;return It(It({},w),{},{inputValue:q,menuIsOpen:B,onChange:y,onInputChange:k,onMenuClose:E,onMenuOpen:P,value:G})}function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bt.apply(null,arguments)}function z$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iC(n.key),n)}}function V$(e,t,r){return t&&O5(e.prototype,t),r&&O5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lb(e,t){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lb(e,t)}function H$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lb(e,t)}function M0(e){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M0(e)}function cC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cC=function(){return!!e})()}function W$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G$(e,t){if(t&&(yc(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W$(e)}function J$(e){var t=cC();return function(){var r,n=M0(e);if(t){var a=M0(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return G$(this,r)}}function K$(e){if(Array.isArray(e))return ib(e)}function Y$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bw(e){return K$(e)||Y$(e)||lC(e)||X$()}function Q$(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Z$(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var eq=function(){function e(r){var n=this;this._insertTag=function(a){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,o),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Z$(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Q$(a);try{o.insertRule(n,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ga="-ms-",F0="-moz-",vr="-webkit-",dC="comm",vw="rule",ww="decl",tq="@import",uC="@keyframes",rq="@layer",nq=Math.abs,Um=String.fromCharCode,aq=Object.assign;function sq(e,t){return sa(e,0)^45?(((t<<2^sa(e,0))<<2^sa(e,1))<<2^sa(e,2))<<2^sa(e,3):0}function fC(e){return e.trim()}function oq(e,t){return(e=t.exec(e))?e[0]:e}function wr(e,t,r){return e.replace(t,r)}function cb(e,t){return e.indexOf(t)}function sa(e,t){return e.charCodeAt(t)|0}function zf(e,t,r){return e.slice(t,r)}function Oo(e){return e.length}function kw(e){return e.length}function cp(e,t){return t.push(e),e}function iq(e,t){return e.map(t).join("")}var zm=1,Hd=1,hC=0,Xa=0,Ln=0,uu="";function Vm(e,t,r,n,a,o,i){return{value:e,root:t,parent:r,type:n,props:a,children:o,line:zm,column:Hd,length:i,return:""}}function qu(e,t){return aq(Vm("",null,null,"",null,null,0),e,{length:-e.length},t)}function lq(){return Ln}function cq(){return Ln=Xa>0?sa(uu,--Xa):0,Hd--,Ln===10&&(Hd=1,zm--),Ln}function ps(){return Ln=Xa<hC?sa(uu,Xa++):0,Hd++,Ln===10&&(Hd=1,zm++),Ln}function Uo(){return sa(uu,Xa)}function Mp(){return Xa}function mh(e,t){return zf(uu,e,t)}function Vf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pC(e){return zm=Hd=1,hC=Oo(uu=e),Xa=0,[]}function mC(e){return uu="",e}function Fp(e){return fC(mh(Xa-1,db(e===91?e+2:e===40?e+1:e)))}function dq(e){for(;(Ln=Uo())&&Ln<33;)ps();return Vf(e)>2||Vf(Ln)>3?"":" "}function uq(e,t){for(;--t&&ps()&&!(Ln<48||Ln>102||Ln>57&&Ln<65||Ln>70&&Ln<97););return mh(e,Mp()+(t<6&&Uo()==32&&ps()==32))}function db(e){for(;ps();)switch(Ln){case e:return Xa;case 34:case 39:e!==34&&e!==39&&db(Ln);break;case 40:e===41&&db(e);break;case 92:ps();break}return Xa}function fq(e,t){for(;ps()&&e+Ln!==57;)if(e+Ln===84&&Uo()===47)break;return"/*"+mh(t,Xa-1)+"*"+Um(e===47?e:ps())}function hq(e){for(;!Vf(Uo());)ps();return mh(e,Xa)}function pq(e){return mC(Bp("",null,null,null,[""],e=pC(e),0,[0],e))}function Bp(e,t,r,n,a,o,i,l,c){for(var d=0,u=0,f=i,b=0,p=0,w=0,g=1,A=1,v=1,j=0,R="",H=a,U=o,F=n,x=R;A;)switch(w=j,j=ps()){case 40:if(w!=108&&sa(x,f-1)==58){cb(x+=wr(Fp(j),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:x+=Fp(j);break;case 9:case 10:case 13:case 32:x+=dq(w);break;case 92:x+=uq(Mp()-1,7);continue;case 47:switch(Uo()){case 42:case 47:cp(mq(fq(ps(),Mp()),t,r),c);break;default:x+="/"}break;case 123*g:l[d++]=Oo(x)*v;case 125*g:case 59:case 0:switch(j){case 0:case 125:A=0;case 59+u:v==-1&&(x=wr(x,/\f/g,"")),p>0&&Oo(x)-f&&cp(p>32?F5(x+";",n,r,f-1):F5(wr(x," ","")+";",n,r,f-2),c);break;case 59:x+=";";default:if(cp(F=M5(x,t,r,d,u,a,l,R,H=[],U=[],f),o),j===123)if(u===0)Bp(x,t,F,F,H,o,f,l,U);else switch(b===99&&sa(x,3)===110?100:b){case 100:case 108:case 109:case 115:Bp(e,F,F,n&&cp(M5(e,F,F,0,0,a,l,R,a,H=[],f),U),a,U,f,l,n?H:U);break;default:Bp(x,F,F,F,[""],U,0,l,U)}}d=u=p=0,g=v=1,R=x="",f=i;break;case 58:f=1+Oo(x),p=w;default:if(g<1){if(j==123)--g;else if(j==125&&g++==0&&cq()==125)continue}switch(x+=Um(j),j*g){case 38:v=u>0?1:(x+="\f",-1);break;case 44:l[d++]=(Oo(x)-1)*v,v=1;break;case 64:Uo()===45&&(x+=Fp(ps())),b=Uo(),u=f=Oo(R=x+=hq(Mp())),j++;break;case 45:w===45&&Oo(x)==2&&(g=0)}}return o}function M5(e,t,r,n,a,o,i,l,c,d,u){for(var f=a-1,b=a===0?o:[""],p=kw(b),w=0,g=0,A=0;w<n;++w)for(var v=0,j=zf(e,f+1,f=nq(g=i[w])),R=e;v<p;++v)(R=fC(g>0?b[v]+" "+j:wr(j,/&\f/g,b[v])))&&(c[A++]=R);return Vm(e,t,r,a===0?vw:l,c,d,u)}function mq(e,t,r){return Vm(e,t,r,dC,Um(lq()),zf(e,2,-2),0)}function F5(e,t,r,n){return Vm(e,t,r,ww,zf(e,0,n),zf(e,n+1,-1),n)}function Sd(e,t){for(var r="",n=kw(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function gq(e,t,r,n){switch(e.type){case rq:if(e.children.length)break;case tq:case ww:return e.return=e.return||e.value;case dC:return"";case uC:return e.return=e.value+"{"+Sd(e.children,n)+"}";case vw:e.value=e.props.join(",")}return Oo(r=Sd(e.children,n))?e.return=e.value+"{"+r+"}":""}function yq(e){var t=kw(e);return function(r,n,a,o){for(var i="",l=0;l<t;l++)i+=e[l](r,n,a,o)||"";return i}}function xq(e){return function(t){t.root||(t=t.return)&&e(t)}}function bq(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var vq=function(t,r,n){for(var a=0,o=0;a=o,o=Uo(),a===38&&o===12&&(r[n]=1),!Vf(o);)ps();return mh(t,Xa)},wq=function(t,r){var n=-1,a=44;do switch(Vf(a)){case 0:a===38&&Uo()===12&&(r[n]=1),t[n]+=vq(Xa-1,r,n);break;case 2:t[n]+=Fp(a);break;case 4:if(a===44){t[++n]=Uo()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Um(a)}while(a=ps());return t},kq=function(t,r){return mC(wq(pC(t),r))},B5=new WeakMap,jq=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!B5.get(n))&&!a){B5.set(t,!0);for(var o=[],i=kq(r,o),l=n.props,c=0,d=0;c<i.length;c++)for(var u=0;u<l.length;u++,d++)t.props[d]=o[c]?i[c].replace(/&\f/g,l[u]):l[u]+" "+i[c]}}},Nq=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function gC(e,t){switch(sq(e,t)){case 5103:return vr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vr+e+F0+e+ga+e+e;case 6828:case 4268:return vr+e+ga+e+e;case 6165:return vr+e+ga+"flex-"+e+e;case 5187:return vr+e+wr(e,/(\w+).+(:[^]+)/,vr+"box-$1$2"+ga+"flex-$1$2")+e;case 5443:return vr+e+ga+"flex-item-"+wr(e,/flex-|-self/,"")+e;case 4675:return vr+e+ga+"flex-line-pack"+wr(e,/align-content|flex-|-self/,"")+e;case 5548:return vr+e+ga+wr(e,"shrink","negative")+e;case 5292:return vr+e+ga+wr(e,"basis","preferred-size")+e;case 6060:return vr+"box-"+wr(e,"-grow","")+vr+e+ga+wr(e,"grow","positive")+e;case 4554:return vr+wr(e,/([^-])(transform)/g,"$1"+vr+"$2")+e;case 6187:return wr(wr(wr(e,/(zoom-|grab)/,vr+"$1"),/(image-set)/,vr+"$1"),e,"")+e;case 5495:case 3959:return wr(e,/(image-set\([^]*)/,vr+"$1$`$1");case 4968:return wr(wr(e,/(.+:)(flex-)?(.*)/,vr+"box-pack:$3"+ga+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vr+e+e;case 4095:case 3583:case 4068:case 2532:return wr(e,/(.+)-inline(.+)/,vr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oo(e)-1-t>6)switch(sa(e,t+1)){case 109:if(sa(e,t+4)!==45)break;case 102:return wr(e,/(.+:)(.+)-([^]+)/,"$1"+vr+"$2-$3$1"+F0+(sa(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cb(e,"stretch")?gC(wr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(sa(e,t+1)!==115)break;case 6444:switch(sa(e,Oo(e)-3-(~cb(e,"!important")&&10))){case 107:return wr(e,":",":"+vr)+e;case 101:return wr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vr+(sa(e,14)===45?"inline-":"")+"box$3$1"+vr+"$2$3$1"+ga+"$2box$3")+e}break;case 5936:switch(sa(e,t+11)){case 114:return vr+e+ga+wr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vr+e+ga+wr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vr+e+ga+wr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return vr+e+ga+e+e}return e}var Sq=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case ww:t.return=gC(t.value,t.length);break;case uC:return Sd([qu(t,{value:wr(t.value,"@","@"+vr)})],a);case vw:if(t.length)return iq(t.props,function(o){switch(oq(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sd([qu(t,{props:[wr(o,/:(read-\w+)/,":"+F0+"$1")]})],a);case"::placeholder":return Sd([qu(t,{props:[wr(o,/:(plac\w+)/,":"+vr+"input-$1")]}),qu(t,{props:[wr(o,/:(plac\w+)/,":"+F0+"$1")]}),qu(t,{props:[wr(o,/:(plac\w+)/,ga+"input-$1")]})],a)}return""})}},Cq=[Sq],_q=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var A=g.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=t.stylisPlugins||Cq,o={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var A=g.getAttribute("data-emotion").split(" "),v=1;v<A.length;v++)o[A[v]]=!0;l.push(g)});var c,d=[jq,Nq];{var u,f=[gq,xq(function(g){u.insert(g)})],b=yq(d.concat(a,f)),p=function(A){return Sd(pq(A),b)};c=function(A,v,j,R){u=j,p(A?A+"{"+v.styles+"}":v.styles),R&&(w.inserted[v.name]=!0)}}var w={key:r,sheet:new eq({key:r,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return w.sheet.hydrate(l),w},yC={exports:{}},Dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=typeof Symbol=="function"&&Symbol.for,jw=ea?Symbol.for("react.element"):60103,Nw=ea?Symbol.for("react.portal"):60106,Hm=ea?Symbol.for("react.fragment"):60107,Wm=ea?Symbol.for("react.strict_mode"):60108,Gm=ea?Symbol.for("react.profiler"):60114,Jm=ea?Symbol.for("react.provider"):60109,Km=ea?Symbol.for("react.context"):60110,Sw=ea?Symbol.for("react.async_mode"):60111,Ym=ea?Symbol.for("react.concurrent_mode"):60111,Xm=ea?Symbol.for("react.forward_ref"):60112,Qm=ea?Symbol.for("react.suspense"):60113,Eq=ea?Symbol.for("react.suspense_list"):60120,Zm=ea?Symbol.for("react.memo"):60115,eg=ea?Symbol.for("react.lazy"):60116,Aq=ea?Symbol.for("react.block"):60121,Pq=ea?Symbol.for("react.fundamental"):60117,Dq=ea?Symbol.for("react.responder"):60118,Lq=ea?Symbol.for("react.scope"):60119;function js(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jw:switch(e=e.type,e){case Sw:case Ym:case Hm:case Gm:case Wm:case Qm:return e;default:switch(e=e&&e.$$typeof,e){case Km:case Xm:case eg:case Zm:case Jm:return e;default:return t}}case Nw:return t}}}function xC(e){return js(e)===Ym}Dr.AsyncMode=Sw;Dr.ConcurrentMode=Ym;Dr.ContextConsumer=Km;Dr.ContextProvider=Jm;Dr.Element=jw;Dr.ForwardRef=Xm;Dr.Fragment=Hm;Dr.Lazy=eg;Dr.Memo=Zm;Dr.Portal=Nw;Dr.Profiler=Gm;Dr.StrictMode=Wm;Dr.Suspense=Qm;Dr.isAsyncMode=function(e){return xC(e)||js(e)===Sw};Dr.isConcurrentMode=xC;Dr.isContextConsumer=function(e){return js(e)===Km};Dr.isContextProvider=function(e){return js(e)===Jm};Dr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jw};Dr.isForwardRef=function(e){return js(e)===Xm};Dr.isFragment=function(e){return js(e)===Hm};Dr.isLazy=function(e){return js(e)===eg};Dr.isMemo=function(e){return js(e)===Zm};Dr.isPortal=function(e){return js(e)===Nw};Dr.isProfiler=function(e){return js(e)===Gm};Dr.isStrictMode=function(e){return js(e)===Wm};Dr.isSuspense=function(e){return js(e)===Qm};Dr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hm||e===Ym||e===Gm||e===Wm||e===Qm||e===Eq||typeof e=="object"&&e!==null&&(e.$$typeof===eg||e.$$typeof===Zm||e.$$typeof===Jm||e.$$typeof===Km||e.$$typeof===Xm||e.$$typeof===Pq||e.$$typeof===Dq||e.$$typeof===Lq||e.$$typeof===Aq)};Dr.typeOf=js;yC.exports=Dr;var Iq=yC.exports,bC=Iq,Rq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Tq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vC={};vC[bC.ForwardRef]=Rq;vC[bC.Memo]=Tq;var Oq=!0;function Mq(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var wC=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||Oq===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},Fq=function(t,r,n){wC(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+a:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Bq(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $q={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qq=/[A-Z]|^ms/g,Uq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kC=function(t){return t.charCodeAt(1)===45},$5=function(t){return t!=null&&typeof t!="boolean"},by=bq(function(e){return kC(e)?e:e.replace(qq,"-$&").toLowerCase()}),q5=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Uq,function(n,a,o){return Mo={name:a,styles:o,next:Mo},a})}return $q[t]!==1&&!kC(t)&&typeof r=="number"&&r!==0?r+"px":r};function Hf(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Mo={name:a.name,styles:a.styles,next:Mo},a.name;var o=r;if(o.styles!==void 0){var i=o.next;if(i!==void 0)for(;i!==void 0;)Mo={name:i.name,styles:i.styles,next:Mo},i=i.next;var l=o.styles+";";return l}return zq(e,t,r)}case"function":{if(e!==void 0){var c=Mo,d=r(e);return Mo=c,Hf(e,t,d)}break}}var u=r;return u}function zq(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Hf(e,t,r[a])+";";else for(var o in r){var i=r[o];if(typeof i!="object"){var l=i;$5(l)&&(n+=by(o)+":"+q5(o,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&t==null)for(var c=0;c<i.length;c++)$5(i[c])&&(n+=by(o)+":"+q5(o,i[c])+";");else{var d=Hf(e,t,i);switch(o){case"animation":case"animationName":{n+=by(o)+":"+d+";";break}default:n+=o+"{"+d+"}"}}}return n}var U5=/label:\s*([^\s;{]+)\s*(;|$)/g,Mo;function jC(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";Mo=void 0;var o=e[0];if(o==null||o.raw===void 0)n=!1,a+=Hf(r,t,o);else{var i=o;a+=i[0]}for(var l=1;l<e.length;l++)if(a+=Hf(r,t,e[l]),n){var c=o;a+=c[l]}U5.lastIndex=0;for(var d="",u;(u=U5.exec(a))!==null;)d+="-"+u[1];var f=Bq(a)+d;return{name:f,styles:a,next:Mo}}var Vq=function(t){return t()},Hq=p2.useInsertionEffect?p2.useInsertionEffect:!1,Wq=Hq||Vq,NC=L.createContext(typeof HTMLElement<"u"?_q({key:"css"}):null);NC.Provider;var Gq=function(t){return L.forwardRef(function(r,n){var a=L.useContext(NC);return t(r,a,n)})},Jq=L.createContext({}),Cw={}.hasOwnProperty,ub="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Kq=function(t,r){var n={};for(var a in r)Cw.call(r,a)&&(n[a]=r[a]);return n[ub]=t,n},Yq=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return wC(r,n,a),Wq(function(){return Fq(r,n,a)}),null},Xq=Gq(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[ub],o=[n],i="";typeof e.className=="string"?i=Mq(t.registered,o,e.className):e.className!=null&&(i=e.className+" ");var l=jC(o,void 0,L.useContext(Jq));i+=t.key+"-"+l.name;var c={};for(var d in e)Cw.call(e,d)&&d!=="css"&&d!==ub&&(c[d]=e[d]);return c.className=i,r&&(c.ref=r),L.createElement(L.Fragment,null,L.createElement(Yq,{cache:t,serialized:l,isStringTag:typeof a=="string"}),L.createElement(a,c))}),Qq=Xq,_t=function(t,r){var n=arguments;if(r==null||!Cw.call(r,"css"))return L.createElement.apply(void 0,n);var a=n.length,o=new Array(a);o[0]=Qq,o[1]=Kq(t,r);for(var i=2;i<a;i++)o[i]=n[i];return L.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(_t||(_t={}));function _w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return jC(t)}function Zq(){var e=_w.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function eU(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const tU=Math.min,rU=Math.max,B0=Math.round,dp=Math.floor,$0=e=>({x:e,y:e});function nU(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function tg(){return typeof window<"u"}function SC(e){return _C(e)?(e.nodeName||"").toLowerCase():"#document"}function Ci(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function CC(e){var t;return(t=(_C(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _C(e){return tg()?e instanceof Node||e instanceof Ci(e).Node:!1}function aU(e){return tg()?e instanceof Element||e instanceof Ci(e).Element:!1}function Ew(e){return tg()?e instanceof HTMLElement||e instanceof Ci(e).HTMLElement:!1}function z5(e){return!tg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ci(e).ShadowRoot}function EC(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Aw(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function sU(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oU(e){return["html","body","#document"].includes(SC(e))}function Aw(e){return Ci(e).getComputedStyle(e)}function iU(e){if(SC(e)==="html")return e;const t=e.assignedSlot||e.parentNode||z5(e)&&e.host||CC(e);return z5(t)?t.host:t}function AC(e){const t=iU(e);return oU(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ew(t)&&EC(t)?t:AC(t)}function q0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=AC(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=Ci(a);if(o){const l=fb(i);return t.concat(i,i.visualViewport||[],EC(a)?a:[],l&&r?q0(l):[])}return t.concat(a,q0(a,[],r))}function fb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lU(e){const t=Aw(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ew(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=B0(r)!==o||B0(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Pw(e){return aU(e)?e:e.contextElement}function V5(e){const t=Pw(e);if(!Ew(t))return $0(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=lU(t);let i=(o?B0(r.width):r.width)/n,l=(o?B0(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const cU=$0(0);function dU(e){const t=Ci(e);return!sU()||!t.visualViewport?cU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uU(e,t,r){return!1}function H5(e,t,r,n){t===void 0&&(t=!1);const a=e.getBoundingClientRect(),o=Pw(e);let i=$0(1);t&&(i=V5(e));const l=uU()?dU(o):$0(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,f=a.height/i.y;if(o){const b=Ci(o),p=n;let w=b,g=fb(w);for(;g&&n&&p!==w;){const A=V5(g),v=g.getBoundingClientRect(),j=Aw(g),R=v.left+(g.clientLeft+parseFloat(j.paddingLeft))*A.x,H=v.top+(g.clientTop+parseFloat(j.paddingTop))*A.y;c*=A.x,d*=A.y,u*=A.x,f*=A.y,c+=R,d+=H,w=Ci(g),g=fb(w)}}return nU({width:u,height:f,x:c,y:d})}function PC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fU(e,t){let r=null,n;const a=CC(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:u,top:f,width:b,height:p}=d;if(l||t(),!b||!p)return;const w=dp(f),g=dp(a.clientWidth-(u+b)),A=dp(a.clientHeight-(f+p)),v=dp(u),R={rootMargin:-w+"px "+-g+"px "+-A+"px "+-v+"px",threshold:rU(0,tU(1,c))||1};let H=!0;function U(F){const x=F[0].intersectionRatio;if(x!==c){if(!H)return i();x?i(!1,x):n=setTimeout(()=>{i(!1,1e-7)},1e3)}x===1&&!PC(d,e.getBoundingClientRect())&&i(),H=!1}try{r=new IntersectionObserver(U,{...R,root:a.ownerDocument})}catch{r=new IntersectionObserver(U,R)}r.observe(e)}return i(!0),o}function hU(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Pw(e),u=a||o?[...d?q0(d):[],...q0(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const f=d&&l?fU(d,r):null;let b=-1,p=null;i&&(p=new ResizeObserver(v=>{let[j]=v;j&&j.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=p)==null||R.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let w,g=c?H5(e):null;c&&A();function A(){const v=H5(e);g&&!PC(g,v)&&r(),g=v,w=requestAnimationFrame(A)}return r(),()=>{var v;u.forEach(j=>{a&&j.removeEventListener("scroll",r),o&&j.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(w)}}var hb=L.useLayoutEffect,pU=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],U0=function(){};function mU(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function gU(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o=[].concat(n);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&o.push("".concat(mU(e,i)));return o.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var W5=function(t){return SU(t)?t.filter(Boolean):yc(t)==="object"&&t!==null?[t]:[]},DC=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=Pi(t,pU);return It({},r)},pn=function(t,r,n){var a=t.cx,o=t.getStyles,i=t.getClassNames,l=t.className;return{css:o(r,t),className:a(n??{},i(r,t),l)}};function rg(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function yU(e){return rg(e)?window.innerHeight:e.clientHeight}function LC(e){return rg(e)?window.pageYOffset:e.scrollTop}function z0(e,t){if(rg(e)){window.scrollTo(0,t);return}e.scrollTop=t}function xU(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}function bU(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function up(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U0,a=LC(e),o=t-a,i=10,l=0;function c(){l+=i;var d=bU(l,a,o,r);z0(e,d),l<r?window.requestAnimationFrame(c):n(e)}c()}function G5(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=t.offsetHeight/3;n.bottom+a>r.bottom?z0(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):n.top-a<r.top&&z0(e,Math.max(t.offsetTop-a,0))}function vU(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function J5(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function wU(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var IC=!1,kU={get passive(){return IC=!0}},fp=typeof window<"u"?window:{};fp.addEventListener&&fp.removeEventListener&&(fp.addEventListener("p",U0,kU),fp.removeEventListener("p",U0,!1));var jU=IC;function NU(e){return e!=null}function SU(e){return Array.isArray(e)}function hp(e,t,r){return e?t:r}var CU=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=Object.entries(t).filter(function(i){var l=xi(i,1),c=l[0];return!n.includes(c)});return o.reduce(function(i,l){var c=xi(l,2),d=c[0],u=c[1];return i[d]=u,i},{})},_U=["children","innerProps"],EU=["children","innerProps"];function AU(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,a=e.placement,o=e.shouldScroll,i=e.isFixedPosition,l=e.controlHeight,c=xU(r),d={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return d;var u=c.getBoundingClientRect(),f=u.height,b=r.getBoundingClientRect(),p=b.bottom,w=b.height,g=b.top,A=r.offsetParent.getBoundingClientRect(),v=A.top,j=i?window.innerHeight:yU(c),R=LC(c),H=parseInt(getComputedStyle(r).marginBottom,10),U=parseInt(getComputedStyle(r).marginTop,10),F=v-U,x=j-g,I=F+R,S=f-R-g,C=p-j+R+H,y=R+g-U,k=160;switch(a){case"auto":case"bottom":if(x>=w)return{placement:"bottom",maxHeight:t};if(S>=w&&!i)return o&&up(c,C,k),{placement:"bottom",maxHeight:t};if(!i&&S>=n||i&&x>=n){o&&up(c,C,k);var P=i?x-H:S-H;return{placement:"bottom",maxHeight:P}}if(a==="auto"||i){var E=t,q=i?F:I;return q>=n&&(E=Math.min(q-H-l,t)),{placement:"top",maxHeight:E}}if(a==="bottom")return o&&z0(c,C),{placement:"bottom",maxHeight:t};break;case"top":if(F>=w)return{placement:"top",maxHeight:t};if(I>=w&&!i)return o&&up(c,y,k),{placement:"top",maxHeight:t};if(!i&&I>=n||i&&F>=n){var B=t;return(!i&&I>=n||i&&F>=n)&&(B=i?F-U:I-U),o&&up(c,y,k),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return d}function PU(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var RC=function(t){return t==="auto"?"bottom":t},DU=function(t,r){var n,a=t.placement,o=t.theme,i=o.borderRadius,l=o.spacing,c=o.colors;return It((n={label:"menu"},Xu(n,PU(a),"100%"),Xu(n,"position","absolute"),Xu(n,"width","100%"),Xu(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},TC=L.createContext(null),LU=function(t){var r=t.children,n=t.minMenuHeight,a=t.maxMenuHeight,o=t.menuPlacement,i=t.menuPosition,l=t.menuShouldScrollIntoView,c=t.theme,d=L.useContext(TC)||{},u=d.setPortalPlacement,f=L.useRef(null),b=L.useState(a),p=xi(b,2),w=p[0],g=p[1],A=L.useState(null),v=xi(A,2),j=v[0],R=v[1],H=c.spacing.controlHeight;return hb(function(){var U=f.current;if(U){var F=i==="fixed",x=l&&!F,I=AU({maxHeight:a,menuEl:U,minHeight:n,placement:o,shouldScroll:x,isFixedPosition:F,controlHeight:H});g(I.maxHeight),R(I.placement),u==null||u(I.placement)}},[a,o,i,l,n,u,H]),r({ref:f,placerProps:It(It({},t),{},{placement:j||RC(o),maxHeight:w})})},IU=function(t){var r=t.children,n=t.innerRef,a=t.innerProps;return _t("div",Bt({},pn(t,"menu",{menu:!0}),{ref:n},a),r)},RU=IU,TU=function(t,r){var n=t.maxHeight,a=t.theme.spacing.baseUnit;return It({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},OU=function(t){var r=t.children,n=t.innerProps,a=t.innerRef,o=t.isMulti;return _t("div",Bt({},pn(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:a},n),r)},OC=function(t,r){var n=t.theme,a=n.spacing.baseUnit,o=n.colors;return It({textAlign:"center"},r?{}:{color:o.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},MU=OC,FU=OC,BU=function(t){var r=t.children,n=r===void 0?"No options":r,a=t.innerProps,o=Pi(t,_U);return _t("div",Bt({},pn(It(It({},o),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},$U=function(t){var r=t.children,n=r===void 0?"Loading...":r,a=t.innerProps,o=Pi(t,EU);return _t("div",Bt({},pn(It(It({},o),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},qU=function(t){var r=t.rect,n=t.offset,a=t.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},UU=function(t){var r=t.appendTo,n=t.children,a=t.controlElement,o=t.innerProps,i=t.menuPlacement,l=t.menuPosition,c=L.useRef(null),d=L.useRef(null),u=L.useState(RC(i)),f=xi(u,2),b=f[0],p=f[1],w=L.useMemo(function(){return{setPortalPlacement:p}},[]),g=L.useState(null),A=xi(g,2),v=A[0],j=A[1],R=L.useCallback(function(){if(a){var x=vU(a),I=l==="fixed"?0:window.pageYOffset,S=x[b]+I;(S!==(v==null?void 0:v.offset)||x.left!==(v==null?void 0:v.rect.left)||x.width!==(v==null?void 0:v.rect.width))&&j({offset:S,rect:x})}},[a,l,b,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);hb(function(){R()},[R]);var H=L.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),a&&c.current&&(d.current=hU(a,c.current,R,{elementResize:"ResizeObserver"in window}))},[a,R]);hb(function(){H()},[H]);var U=L.useCallback(function(x){c.current=x,H()},[H]);if(!r&&l!=="fixed"||!v)return null;var F=_t("div",Bt({ref:U},pn(It(It({},t),{},{offset:v.offset,position:l,rect:v.rect}),"menuPortal",{"menu-portal":!0}),o),n);return _t(TC.Provider,{value:w},r?nc.createPortal(F,r):F)},zU=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},VU=function(t){var r=t.children,n=t.innerProps,a=t.isDisabled,o=t.isRtl;return _t("div",Bt({},pn(t,"container",{"--is-disabled":a,"--is-rtl":o}),n),r)},HU=function(t,r){var n=t.theme.spacing,a=t.isMulti,o=t.hasValue,i=t.selectProps.controlShouldRenderValue;return It({alignItems:"center",display:a&&o&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},WU=function(t){var r=t.children,n=t.innerProps,a=t.isMulti,o=t.hasValue;return _t("div",Bt({},pn(t,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":o}),n),r)},GU=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},JU=function(t){var r=t.children,n=t.innerProps;return _t("div",Bt({},pn(t,"indicatorsContainer",{indicators:!0}),n),r)},K5,KU=["size"],YU=["innerProps","isRtl","size"],XU={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},MC=function(t){var r=t.size,n=Pi(t,KU);return _t("svg",Bt({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:XU},n))},Dw=function(t){return _t(MC,Bt({size:20},t),_t("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},FC=function(t){return _t(MC,Bt({size:20},t),_t("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},BC=function(t,r){var n=t.isFocused,a=t.theme,o=a.spacing.baseUnit,i=a.colors;return It({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:o*2,":hover":{color:n?i.neutral80:i.neutral40}})},QU=BC,ZU=function(t){var r=t.children,n=t.innerProps;return _t("div",Bt({},pn(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||_t(FC,null))},ez=BC,tz=function(t){var r=t.children,n=t.innerProps;return _t("div",Bt({},pn(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||_t(Dw,null))},rz=function(t,r){var n=t.isDisabled,a=t.theme,o=a.spacing.baseUnit,i=a.colors;return It({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:o*2,marginTop:o*2})},nz=function(t){var r=t.innerProps;return _t("span",Bt({},r,pn(t,"indicatorSeparator",{"indicator-separator":!0})))},az=Zq(K5||(K5=eU([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),sz=function(t,r){var n=t.isFocused,a=t.size,o=t.theme,i=o.colors,l=o.spacing.baseUnit;return It({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},vy=function(t){var r=t.delay,n=t.offset;return _t("span",{css:_w({animation:"".concat(az," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},oz=function(t){var r=t.innerProps,n=t.isRtl,a=t.size,o=a===void 0?4:a,i=Pi(t,YU);return _t("div",Bt({},pn(It(It({},i),{},{innerProps:r,isRtl:n,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),_t(vy,{delay:0,offset:n}),_t(vy,{delay:160,offset:!0}),_t(vy,{delay:320,offset:!n}))},iz=function(t,r){var n=t.isDisabled,a=t.isFocused,o=t.theme,i=o.colors,l=o.borderRadius,c=o.spacing;return It({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},lz=function(t){var r=t.children,n=t.isDisabled,a=t.isFocused,o=t.innerRef,i=t.innerProps,l=t.menuIsOpen;return _t("div",Bt({ref:o},pn(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},cz=lz,dz=["data"],uz=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},fz=function(t){var r=t.children,n=t.cx,a=t.getStyles,o=t.getClassNames,i=t.Heading,l=t.headingProps,c=t.innerProps,d=t.label,u=t.theme,f=t.selectProps;return _t("div",Bt({},pn(t,"group",{group:!0}),c),_t(i,Bt({},l,{selectProps:f,theme:u,getStyles:a,getClassNames:o,cx:n}),d),_t("div",null,r))},hz=function(t,r){var n=t.theme,a=n.colors,o=n.spacing;return It({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},pz=function(t){var r=DC(t);r.data;var n=Pi(r,dz);return _t("div",Bt({},pn(t,"groupHeading",{"group-heading":!0}),n))},mz=fz,gz=["innerRef","isDisabled","isHidden","inputClassName"],yz=function(t,r){var n=t.isDisabled,a=t.value,o=t.theme,i=o.spacing,l=o.colors;return It(It({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},xz),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},$C={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},xz={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":It({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},$C)},bz=function(t){return It({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},$C)},vz=function(t){var r=t.cx,n=t.value,a=DC(t),o=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,d=Pi(a,gz);return _t("div",Bt({},pn(t,"input",{"input-container":!0}),{"data-value":n||""}),_t("input",Bt({className:r({input:!0},c),ref:o,style:bz(l),disabled:i},d)))},wz=vz,kz=function(t,r){var n=t.theme,a=n.spacing,o=n.borderRadius,i=n.colors;return It({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:o/2,margin:a.baseUnit/2})},jz=function(t,r){var n=t.theme,a=n.borderRadius,o=n.colors,i=t.cropWithEllipsis;return It({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Nz=function(t,r){var n=t.theme,a=n.spacing,o=n.borderRadius,i=n.colors,l=t.isFocused;return It({alignItems:"center",display:"flex"},r?{}:{borderRadius:o/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},qC=function(t){var r=t.children,n=t.innerProps;return _t("div",n,r)},Sz=qC,Cz=qC;function _z(e){var t=e.children,r=e.innerProps;return _t("div",Bt({role:"button"},r),t||_t(Dw,{size:14}))}var Ez=function(t){var r=t.children,n=t.components,a=t.data,o=t.innerProps,i=t.isDisabled,l=t.removeProps,c=t.selectProps,d=n.Container,u=n.Label,f=n.Remove;return _t(d,{data:a,innerProps:It(It({},pn(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),o),selectProps:c},_t(u,{data:a,innerProps:It({},pn(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),_t(f,{data:a,innerProps:It(It({},pn(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Az=Ez,Pz=function(t,r){var n=t.isDisabled,a=t.isFocused,o=t.isSelected,i=t.theme,l=i.spacing,c=i.colors;return It({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:o?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:o?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:o?c.primary:c.primary50}})},Dz=function(t){var r=t.children,n=t.isDisabled,a=t.isFocused,o=t.isSelected,i=t.innerRef,l=t.innerProps;return _t("div",Bt({},pn(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":o}),{ref:i,"aria-disabled":n},l),r)},Lz=Dz,Iz=function(t,r){var n=t.theme,a=n.spacing,o=n.colors;return It({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:o.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Rz=function(t){var r=t.children,n=t.innerProps;return _t("div",Bt({},pn(t,"placeholder",{placeholder:!0}),n),r)},Tz=Rz,Oz=function(t,r){var n=t.isDisabled,a=t.theme,o=a.spacing,i=a.colors;return It({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Mz=function(t){var r=t.children,n=t.isDisabled,a=t.innerProps;return _t("div",Bt({},pn(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Fz=Mz,Bz={ClearIndicator:tz,Control:cz,DropdownIndicator:ZU,DownChevron:FC,CrossIcon:Dw,Group:mz,GroupHeading:pz,IndicatorsContainer:JU,IndicatorSeparator:nz,Input:wz,LoadingIndicator:oz,Menu:RU,MenuList:OU,MenuPortal:UU,LoadingMessage:$U,NoOptionsMessage:BU,MultiValue:Az,MultiValueContainer:Sz,MultiValueLabel:Cz,MultiValueRemove:_z,Option:Lz,Placeholder:Tz,SelectContainer:VU,SingleValue:Fz,ValueContainer:WU},$z=function(t){return It(It({},Bz),t.components)},Y5=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function qz(e,t){return!!(e===t||Y5(e)&&Y5(t))}function Uz(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!qz(e[r],t[r]))return!1;return!0}function zz(e,t){t===void 0&&(t=Uz);var r=null;function n(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var Vz={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Hz=function(t){return _t("span",Bt({css:Vz},t))},X5=Hz,Wz={guidance:function(t){var r=t.isSearchable,n=t.isMulti,a=t.tabSelectsValue,o=t.context,i=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,a=n===void 0?"":n,o=t.labels,i=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,a=t.options,o=t.label,i=o===void 0?"":o,l=t.selectValue,c=t.isDisabled,d=t.isSelected,u=t.isAppleDevice,f=function(g,A){return g&&g.length?"".concat(g.indexOf(A)+1," of ").concat(g.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&u){var b=c?" disabled":"",p="".concat(d?" selected":"").concat(b);return"".concat(i).concat(p,", ").concat(f(a,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Gz=function(t){var r=t.ariaSelection,n=t.focusedOption,a=t.focusedValue,o=t.focusableOptions,i=t.isFocused,l=t.selectValue,c=t.selectProps,d=t.id,u=t.isAppleDevice,f=c.ariaLiveMessages,b=c.getOptionLabel,p=c.inputValue,w=c.isMulti,g=c.isOptionDisabled,A=c.isSearchable,v=c.menuIsOpen,j=c.options,R=c.screenReaderStatus,H=c.tabSelectsValue,U=c.isLoading,F=c["aria-label"],x=c["aria-live"],I=L.useMemo(function(){return It(It({},Wz),f||{})},[f]),S=L.useMemo(function(){var q="";if(r&&I.onChange){var B=r.option,G=r.options,V=r.removedValue,ee=r.removedValues,le=r.value,Q=function(ye){return Array.isArray(ye)?null:ye},M=V||B||Q(le),J=M?b(M):"",te=G||ee||void 0,ue=te?te.map(b):[],ie=It({isDisabled:M&&g(M,l),label:J,labels:ue},r);q=I.onChange(ie)}return q},[r,I,g,l,b]),C=L.useMemo(function(){var q="",B=n||a,G=!!(n&&l&&l.includes(n));if(B&&I.onFocus){var V={focused:B,label:b(B),isDisabled:g(B,l),isSelected:G,options:o,context:B===n?"menu":"value",selectValue:l,isAppleDevice:u};q=I.onFocus(V)}return q},[n,a,b,g,I,o,l,u]),y=L.useMemo(function(){var q="";if(v&&j.length&&!U&&I.onFilter){var B=R({count:o.length});q=I.onFilter({inputValue:p,resultsMessage:B})}return q},[o,p,v,I,j,R,U]),k=(r==null?void 0:r.action)==="initial-input-focus",P=L.useMemo(function(){var q="";if(I.guidance){var B=a?"value":v?"menu":"input";q=I.guidance({"aria-label":F,context:B,isDisabled:n&&g(n,l),isMulti:w,isSearchable:A,tabSelectsValue:H,isInitialFocus:k})}return q},[F,n,a,w,g,A,v,I,l,H,k]),E=_t(L.Fragment,null,_t("span",{id:"aria-selection"},S),_t("span",{id:"aria-focused"},C),_t("span",{id:"aria-results"},y),_t("span",{id:"aria-guidance"},P));return _t(L.Fragment,null,_t(X5,{id:d},k&&E),_t(X5,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!k&&E))},Jz=Gz,pb=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Kz=new RegExp("["+pb.map(function(e){return e.letters}).join("")+"]","g"),UC={};for(var wy=0;wy<pb.length;wy++)for(var ky=pb[wy],jy=0;jy<ky.letters.length;jy++)UC[ky.letters[jy]]=ky.base;var zC=function(t){return t.replace(Kz,function(r){return UC[r]})},Yz=zz(zC),Q5=function(t){return t.replace(/^\s+|\s+$/g,"")},Xz=function(t){return"".concat(t.label," ").concat(t.value)},Qz=function(t){return function(r,n){if(r.data.__isNew__)return!0;var a=It({ignoreCase:!0,ignoreAccents:!0,stringify:Xz,trim:!0,matchFrom:"any"},t),o=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,d=a.matchFrom,u=c?Q5(n):n,f=c?Q5(l(r)):l(r);return o&&(u=u.toLowerCase(),f=f.toLowerCase()),i&&(u=Yz(u),f=zC(f)),d==="start"?f.substr(0,u.length)===u:f.indexOf(u)>-1}},Zz=["innerRef"];function eV(e){var t=e.innerRef,r=Pi(e,Zz),n=CU(r,"onExited","in","enter","exit","appear");return _t("input",Bt({ref:t},n,{css:_w({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var tV=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function rV(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,a=e.onTopArrive,o=e.onTopLeave,i=L.useRef(!1),l=L.useRef(!1),c=L.useRef(0),d=L.useRef(null),u=L.useCallback(function(A,v){if(d.current!==null){var j=d.current,R=j.scrollTop,H=j.scrollHeight,U=j.clientHeight,F=d.current,x=v>0,I=H-U-R,S=!1;I>v&&i.current&&(n&&n(A),i.current=!1),x&&l.current&&(o&&o(A),l.current=!1),x&&v>I?(r&&!i.current&&r(A),F.scrollTop=H,S=!0,i.current=!0):!x&&-v>R&&(a&&!l.current&&a(A),F.scrollTop=0,S=!0,l.current=!0),S&&tV(A)}},[r,n,a,o]),f=L.useCallback(function(A){u(A,A.deltaY)},[u]),b=L.useCallback(function(A){c.current=A.changedTouches[0].clientY},[]),p=L.useCallback(function(A){var v=c.current-A.changedTouches[0].clientY;u(A,v)},[u]),w=L.useCallback(function(A){if(A){var v=jU?{passive:!1}:!1;A.addEventListener("wheel",f,v),A.addEventListener("touchstart",b,v),A.addEventListener("touchmove",p,v)}},[p,b,f]),g=L.useCallback(function(A){A&&(A.removeEventListener("wheel",f,!1),A.removeEventListener("touchstart",b,!1),A.removeEventListener("touchmove",p,!1))},[p,b,f]);return L.useEffect(function(){if(t){var A=d.current;return w(A),function(){g(A)}}},[t,w,g]),function(A){d.current=A}}var Z5=["boxSizing","height","overflow","paddingRight","position"],ek={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function tk(e){e.cancelable&&e.preventDefault()}function rk(e){e.stopPropagation()}function nk(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function ak(){return"ontouchstart"in window||navigator.maxTouchPoints}var sk=!!(typeof window<"u"&&window.document&&window.document.createElement),Uu=0,Kc={capture:!1,passive:!1};function nV(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,a=L.useRef({}),o=L.useRef(null),i=L.useCallback(function(c){if(sk){var d=document.body,u=d&&d.style;if(n&&Z5.forEach(function(w){var g=u&&u[w];a.current[w]=g}),n&&Uu<1){var f=parseInt(a.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,p=window.innerWidth-b+f||0;Object.keys(ek).forEach(function(w){var g=ek[w];u&&(u[w]=g)}),u&&(u.paddingRight="".concat(p,"px"))}d&&ak()&&(d.addEventListener("touchmove",tk,Kc),c&&(c.addEventListener("touchstart",nk,Kc),c.addEventListener("touchmove",rk,Kc))),Uu+=1}},[n]),l=L.useCallback(function(c){if(sk){var d=document.body,u=d&&d.style;Uu=Math.max(Uu-1,0),n&&Uu<1&&Z5.forEach(function(f){var b=a.current[f];u&&(u[f]=b)}),d&&ak()&&(d.removeEventListener("touchmove",tk,Kc),c&&(c.removeEventListener("touchstart",nk,Kc),c.removeEventListener("touchmove",rk,Kc)))}},[n]);return L.useEffect(function(){if(t){var c=o.current;return i(c),function(){l(c)}}},[t,i,l]),function(c){o.current=c}}var aV=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},sV={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function oV(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,a=n===void 0?!0:n,o=e.onBottomArrive,i=e.onBottomLeave,l=e.onTopArrive,c=e.onTopLeave,d=rV({isEnabled:a,onBottomArrive:o,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),u=nV({isEnabled:r}),f=function(p){d(p),u(p)};return _t(L.Fragment,null,r&&_t("div",{onClick:aV,css:sV}),t(f))}var iV={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},lV=function(t){var r=t.name,n=t.onFocus;return _t("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:iV,value:"",onChange:function(){}})},cV=lV;function Lw(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function dV(){return Lw(/^iPhone/i)}function VC(){return Lw(/^Mac/i)}function uV(){return Lw(/^iPad/i)||VC()&&navigator.maxTouchPoints>1}function fV(){return dV()||uV()}function hV(){return VC()||fV()}var pV=function(t){return t.label},mV=function(t){return t.label},gV=function(t){return t.value},yV=function(t){return!!t.isDisabled},xV={clearIndicator:ez,container:zU,control:iz,dropdownIndicator:QU,group:uz,groupHeading:hz,indicatorsContainer:GU,indicatorSeparator:rz,input:yz,loadingIndicator:sz,loadingMessage:FU,menu:DU,menuList:TU,menuPortal:qU,multiValue:kz,multiValueLabel:jz,multiValueRemove:Nz,noOptionsMessage:MU,option:Pz,placeholder:Iz,singleValue:Oz,valueContainer:HU},bV={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},vV=4,HC=4,wV=38,kV=HC*2,jV={baseUnit:HC,controlHeight:wV,menuGutter:kV},Ny={borderRadius:vV,colors:bV,spacing:jV},NV={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:J5(),captureMenuScroll:!J5(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Qz(),formatGroupLabel:pV,getOptionLabel:mV,getOptionValue:gV,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:yV,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!wU(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function ok(e,t,r,n){var a=JC(e,t,r),o=KC(e,t,r),i=GC(e,t),l=V0(e,t);return{type:"option",data:t,isDisabled:a,isSelected:o,label:i,value:l,index:n}}function $p(e,t){return e.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return ok(e,i,t,l)}).filter(function(i){return lk(e,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var o=ok(e,r,t,n);return lk(e,o)?o:void 0}).filter(NU)}function WC(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,bw(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function ik(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,bw(n.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function SV(e,t){return WC($p(e,t))}function lk(e,t){var r=e.inputValue,n=r===void 0?"":r,a=t.data,o=t.isSelected,i=t.label,l=t.value;return(!XC(e)||!o)&&YC(e,{label:i,value:l,data:a},n)}function CV(e,t){var r=e.focusedValue,n=e.selectValue,a=n.indexOf(r);if(a>-1){var o=t.indexOf(r);if(o>-1)return r;if(a<t.length)return t[a]}return null}function _V(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var Sy=function(t,r){var n,a=(n=t.find(function(o){return o.data===r}))===null||n===void 0?void 0:n.id;return a||null},GC=function(t,r){return t.getOptionLabel(r)},V0=function(t,r){return t.getOptionValue(r)};function JC(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function KC(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=V0(e,t);return r.some(function(a){return V0(e,a)===n})}function YC(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var XC=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},EV=1,QC=function(e){H$(r,e);var t=J$(r);function r(n){var a;if(z$(this,r),a=t.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=hV(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,d){var u=a.props,f=u.onChange,b=u.name;d.name=b,a.ariaOnChange(c,d),f(c,d)},a.setValue=function(c,d,u){var f=a.props,b=f.closeMenuOnSelect,p=f.isMulti,w=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:w}),b&&(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:d,option:u})},a.selectOption=function(c){var d=a.props,u=d.blurInputOnSelect,f=d.isMulti,b=d.name,p=a.state.selectValue,w=f&&a.isOptionSelected(c,p),g=a.isOptionDisabled(c,p);if(w){var A=a.getOptionValue(c);a.setValue(p.filter(function(v){return a.getOptionValue(v)!==A}),"deselect-option",c)}else if(!g)f?a.setValue([].concat(bw(p),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:b});return}u&&a.blurInput()},a.removeValue=function(c){var d=a.props.isMulti,u=a.state.selectValue,f=a.getOptionValue(c),b=u.filter(function(w){return a.getOptionValue(w)!==f}),p=hp(d,b,b[0]||null);a.onChange(p,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(hp(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,d=a.state.selectValue,u=d[d.length-1],f=d.slice(0,d.length-1),b=hp(c,f,f[0]||null);u&&a.onChange(b,{action:"pop-value",removedValue:u})},a.getFocusedOptionId=function(c){return Sy(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return ik($p(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];return gU.apply(void 0,[a.props.classNamePrefix].concat(d))},a.getOptionLabel=function(c){return GC(a.props,c)},a.getOptionValue=function(c){return V0(a.props,c)},a.getStyles=function(c,d){var u=a.props.unstyled,f=xV[c](d,u);f.boxSizing="border-box";var b=a.props.styles[c];return b?b(f,d):f},a.getClassNames=function(c,d){var u,f;return(u=(f=a.props.classNames)[c])===null||u===void 0?void 0:u.call(f,d)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return $z(a.props)},a.buildCategorizedOptions=function(){return $p(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return WC(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,d){a.setState({ariaSelection:It({value:c},d)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():d&&a.openMenu("first"):(d&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var d=a.props,u=d.isMulti,f=d.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!u}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&rg(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var d=c.touches,u=d&&d.item(0);u&&(a.initialTouchX=u.clientX,a.initialTouchY=u.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var d=c.touches,u=d&&d.item(0);if(u){var f=Math.abs(u.clientX-a.initialTouchX),b=Math.abs(u.clientY-a.initialTouchY),p=5;a.userIsDragging=f>p||b>p}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var d=a.props.inputValue,u=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(u,{action:"input-change",prevInputValue:d}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var d=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:d}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var d=a.getFocusableOptions(),u=d.indexOf(c);a.setState({focusedOption:c,focusedOptionId:u>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return XC(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var d=a.props,u=d.isMulti,f=d.backspaceRemovesValue,b=d.escapeClearsValue,p=d.inputValue,w=d.isClearable,g=d.isDisabled,A=d.menuIsOpen,v=d.onKeyDown,j=d.tabSelectsValue,R=d.openMenuOnFocus,H=a.state,U=H.focusedOption,F=H.focusedValue,x=H.selectValue;if(!g&&!(typeof v=="function"&&(v(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!u||p)return;a.focusValue("previous");break;case"ArrowRight":if(!u||p)return;a.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(F)a.removeValue(F);else{if(!f)return;u?a.popValue():w&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!A||!j||!U||R&&a.isOptionSelected(U,x))return;a.selectOption(U);break;case"Enter":if(c.keyCode===229)break;if(A){if(!U||a.isComposing)return;a.selectOption(U);break}return;case"Escape":A?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:p}),a.onMenuClose()):w&&b&&a.clearValue();break;case" ":if(p)return;if(!A){a.openMenu("first");break}if(!U)return;a.selectOption(U);break;case"ArrowUp":A?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":A?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!A)return;a.focusOption("pageup");break;case"PageDown":if(!A)return;a.focusOption("pagedown");break;case"Home":if(!A)return;a.focusOption("first");break;case"End":if(!A)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++EV),a.state.selectValue=W5(n.value),n.menuIsOpen&&a.state.selectValue.length){var o=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=o,a.state.focusedOption=i[l],a.state.focusedOptionId=Sy(o,i[l])}return a}return V$(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&G5(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isDisabled,l=o.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(G5(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,o){this.props.onInputChange(a,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var o=this,i=this.state,l=i.selectValue,c=i.isFocused,d=this.buildFocusableOptions(),u=a==="first"?0:d.length-1;if(!this.props.isMulti){var f=d.indexOf(l[0]);f>-1&&(u=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[u],focusedOptionId:this.getFocusedOptionId(d[u])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(a){var o=this.state,i=o.selectValue,l=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var d=i.length-1,u=-1;if(i.length){switch(a){case"previous":c===0?u=0:c===-1?u=d:u=c-1;break;case"next":c>-1&&c<d&&(u=c+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,d=l.indexOf(i);i||(d=-1),a==="up"?c=d>0?d-1:l.length-1:a==="down"?c=(d+1)%l.length:a==="pageup"?(c=d-o,c<0&&(c=0)):a==="pagedown"?(c=d+o,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ny):It(It({},Ny),this.props.theme):Ny}},{key:"getCommonProps",value:function(){var a=this.clearValue,o=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,d=this.selectOption,u=this.setValue,f=this.props,b=f.isMulti,p=f.isRtl,w=f.options,g=this.hasValue();return{clearValue:a,cx:o,getStyles:i,getClassNames:l,getValue:c,hasValue:g,isMulti:b,isRtl:p,options:w,selectOption:d,selectProps:f,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,o=a.isClearable,i=a.isMulti;return o===void 0?i:o}},{key:"isOptionDisabled",value:function(a,o){return JC(this.props,a,o)}},{key:"isOptionSelected",value:function(a,o){return KC(this.props,a,o)}},{key:"filterOption",value:function(a,o){return YC(this.props,a,o)}},{key:"formatOptionLabel",value:function(a,o){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:o,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,o=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,d=a.tabIndex,u=a.form,f=a.menuIsOpen,b=a.required,p=this.getComponents(),w=p.Input,g=this.state,A=g.inputIsHidden,v=g.ariaSelection,j=this.commonProps,R=l||this.getElementId("input"),H=It(It(It({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?L.createElement(w,Bt({},j,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:R,innerRef:this.getInputRef,isDisabled:o,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:u,type:"text",value:c},H)):L.createElement(eV,Bt({id:R,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:U0,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:u,value:""},H))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,o=this.getComponents(),i=o.MultiValue,l=o.MultiValueContainer,c=o.MultiValueLabel,d=o.MultiValueRemove,u=o.SingleValue,f=o.Placeholder,b=this.commonProps,p=this.props,w=p.controlShouldRenderValue,g=p.isDisabled,A=p.isMulti,v=p.inputValue,j=p.placeholder,R=this.state,H=R.selectValue,U=R.focusedValue,F=R.isFocused;if(!this.hasValue()||!w)return v?null:L.createElement(f,Bt({},b,{key:"placeholder",isDisabled:g,isFocused:F,innerProps:{id:this.getElementId("placeholder")}}),j);if(A)return H.map(function(I,S){var C=I===U,y="".concat(a.getOptionLabel(I),"-").concat(a.getOptionValue(I));return L.createElement(i,Bt({},b,{components:{Container:l,Label:c,Remove:d},isFocused:C,isDisabled:g,key:y,index:S,removeProps:{onClick:function(){return a.removeValue(I)},onTouchEnd:function(){return a.removeValue(I)},onMouseDown:function(P){P.preventDefault()}},data:I}),a.formatOptionLabel(I,"value"))});if(v)return null;var x=H[0];return L.createElement(u,Bt({},b,{data:x,isDisabled:g}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),o=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,u=this.state.isFocused;if(!this.isClearable()||!o||c||!this.hasValue()||d)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return L.createElement(o,Bt({},i,{innerProps:f,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),o=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,u=this.state.isFocused;if(!o||!d)return null;var f={"aria-hidden":"true"};return L.createElement(o,Bt({},i,{innerProps:f,isDisabled:c,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator,i=a.IndicatorSeparator;if(!o||!i)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return L.createElement(i,Bt({},l,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator;if(!o)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return L.createElement(o,Bt({},i,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,o=this.getComponents(),i=o.Group,l=o.GroupHeading,c=o.Menu,d=o.MenuList,u=o.MenuPortal,f=o.LoadingMessage,b=o.NoOptionsMessage,p=o.Option,w=this.commonProps,g=this.state.focusedOption,A=this.props,v=A.captureMenuScroll,j=A.inputValue,R=A.isLoading,H=A.loadingMessage,U=A.minMenuHeight,F=A.maxMenuHeight,x=A.menuIsOpen,I=A.menuPlacement,S=A.menuPosition,C=A.menuPortalTarget,y=A.menuShouldBlockScroll,k=A.menuShouldScrollIntoView,P=A.noOptionsMessage,E=A.onMenuScrollToTop,q=A.onMenuScrollToBottom;if(!x)return null;var B=function(J,te){var ue=J.type,ie=J.data,de=J.isDisabled,ye=J.isSelected,pe=J.label,Ee=J.value,$e=g===ie,qe=de?void 0:function(){return a.onOptionHover(ie)},Ye=de?void 0:function(){return a.selectOption(ie)},dt="".concat(a.getElementId("option"),"-").concat(te),Me={id:dt,onClick:Ye,onMouseMove:qe,onMouseOver:qe,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:ye};return L.createElement(p,Bt({},w,{innerProps:Me,data:ie,isDisabled:de,isSelected:ye,key:dt,label:pe,type:ue,value:Ee,isFocused:$e,innerRef:$e?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(J.data,"menu"))},G;if(this.hasOptions())G=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var J=M.data,te=M.options,ue=M.index,ie="".concat(a.getElementId("group"),"-").concat(ue),de="".concat(ie,"-heading");return L.createElement(i,Bt({},w,{key:ie,data:J,options:te,Heading:l,headingProps:{id:de,data:M.data},label:a.formatGroupLabel(M.data)}),M.options.map(function(ye){return B(ye,"".concat(ue,"-").concat(ye.index))}))}else if(M.type==="option")return B(M,"".concat(M.index))});else if(R){var V=H({inputValue:j});if(V===null)return null;G=L.createElement(f,w,V)}else{var ee=P({inputValue:j});if(ee===null)return null;G=L.createElement(b,w,ee)}var le={minMenuHeight:U,maxMenuHeight:F,menuPlacement:I,menuPosition:S,menuShouldScrollIntoView:k},Q=L.createElement(LU,Bt({},w,le),function(M){var J=M.ref,te=M.placerProps,ue=te.placement,ie=te.maxHeight;return L.createElement(c,Bt({},w,le,{innerRef:J,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:R,placement:ue}),L.createElement(oV,{captureEnabled:v,onTopArrive:E,onBottomArrive:q,lockEnabled:y},function(de){return L.createElement(d,Bt({},w,{innerRef:function(pe){a.getMenuListRef(pe),de(pe)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:a.getElementId("listbox")},isLoading:R,maxHeight:ie,focusedOption:g}),G)}))});return C||S==="fixed"?L.createElement(u,Bt({},w,{appendTo:C,controlElement:this.controlRef,menuPlacement:I,menuPosition:S}),Q):Q}},{key:"renderFormField",value:function(){var a=this,o=this.props,i=o.delimiter,l=o.isDisabled,c=o.isMulti,d=o.name,u=o.required,f=this.state.selectValue;if(u&&!this.hasValue()&&!l)return L.createElement(cV,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(c)if(i){var b=f.map(function(g){return a.getOptionValue(g)}).join(i);return L.createElement("input",{name:d,type:"hidden",value:b})}else{var p=f.length>0?f.map(function(g,A){return L.createElement("input",{key:"i-".concat(A),name:d,type:"hidden",value:a.getOptionValue(g)})}):L.createElement("input",{name:d,type:"hidden",value:""});return L.createElement("div",null,p)}else{var w=f[0]?this.getOptionValue(f[0]):"";return L.createElement("input",{name:d,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,o=this.state,i=o.ariaSelection,l=o.focusedOption,c=o.focusedValue,d=o.isFocused,u=o.selectValue,f=this.getFocusableOptions();return L.createElement(Jz,Bt({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:d,selectValue:u,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),o=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,d=this.props,u=d.className,f=d.id,b=d.isDisabled,p=d.menuIsOpen,w=this.state.isFocused,g=this.commonProps=this.getCommonProps();return L.createElement(l,Bt({},g,{className:u,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:w}),this.renderLiveRegion(),L.createElement(o,Bt({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:w,menuIsOpen:p}),L.createElement(c,Bt({},g,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),L.createElement(i,Bt({},g,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,o){var i=o.prevProps,l=o.clearFocusValueOnUpdate,c=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,u=o.isFocused,f=o.prevWasFocused,b=o.instancePrefix,p=a.options,w=a.value,g=a.menuIsOpen,A=a.inputValue,v=a.isMulti,j=W5(w),R={};if(i&&(w!==i.value||p!==i.options||g!==i.menuIsOpen||A!==i.inputValue)){var H=g?SV(a,j):[],U=g?ik($p(a,j),"".concat(b,"-option")):[],F=l?CV(o,j):null,x=_V(o,H),I=Sy(U,x);R={selectValue:j,focusedOption:x,focusedOptionId:I,focusableOptionsWithIds:U,focusedValue:F,clearFocusValueOnUpdate:!1}}var S=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},C=d,y=u&&f;return u&&!y&&(C={value:hp(v,j,j[0]||null),options:j,action:"initial-input-focus"},y=!f),(d==null?void 0:d.action)==="initial-input-focus"&&(C=null),It(It(It({},R),S),{},{prevProps:a,ariaSelection:C,prevWasFocused:y})}}]),r}(L.Component);QC.defaultProps=NV;var AV=L.forwardRef(function(e,t){var r=U$(e);return L.createElement(QC,Bt({ref:t},r))}),Iw=AV;const PV=[],DV=["RECEITA BRUTA","FINANCEIRA","DESPESAS","RECEITA FINANCEIRA","OUTRAS RECEITAS"].map(e=>e.trim().toUpperCase());function ZC({isOpen:e,onClose:t,onSuccess:r,statement:n,defaultStatus:a}){const[o,i]=L.useState(!1),[l,c]=L.useState(null),[d,u]=L.useState([]),[f,b]=L.useState([]),p=L.useRef(null),[w,g]=L.useState(null),[A,v]=L.useState(!1),[j,R]=L.useState({type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null});L.useEffect(()=>{if(e){H();const C=new Date().toISOString().split("T")[0];if(n){let y=n.value.toString();y.includes(".")||(y+=".00"),y.includes(".")&&y.split(".")[1].length===1&&(y+="0");const k=y.replace(/\D/g,"");R(P=>({...P,description:"",value:k,transactionDate:n.transaction_date,valueDate:n.value_date,bankAccountId:n.bank_account_id,categoryId:"",beneficiary:n.description,document:n.document,attachment:null,type:n.type,status:a||"REGISTERED"}))}else R(y=>({...y,transactionDate:C,valueDate:C,value:"0",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null}));g(null)}},[e]);const H=async()=>{try{const[C,y]=await Promise.all([De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0)]);if(C.error)throw C.error;if(y.error)throw y.error;u(C.data||[]),b(y.data||[])}catch(C){console.error("Error loading data:",C),c("Erro ao carregar dados")}},U=C=>{const y=C.replace(/\D/g,"")||"0";return(parseInt(y,10)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},F=C=>{const y=C.target.value.replace(/\D/g,"");R(k=>({...k,value:y}))},x=C=>{var k;const y=((k=C.target.files)==null?void 0:k[0])||null;if(R(P=>({...P,attachment:y})),!y){g(null);return}y.type.startsWith("image/")?g(URL.createObjectURL(y)):g("")},I=async C=>{C.preventDefault(),i(!0),c(null),v(!1);try{const y=localStorage.getItem("userId");let k=null;if(j.attachment){const E=j.attachment.name.split(".").pop(),B=`bank-statements/${`${Math.random().toString(36).substring(2)}.${E}`}`,{error:G}=await De.storage.from("attachments").upload(B,j.attachment);if(G)throw G;const{data:{publicUrl:V}}=De.storage.from("attachments").getPublicUrl(B);k=V}const{error:P}=await De.from("bank_statements").insert([{type:j.type,description:j.description||"-",value:parseFloat(j.value)/100,transaction_date:j.transactionDate,value_date:j.valueDate,bank_account_id:j.bankAccountId,category_id:j.categoryId||null,beneficiary:j.beneficiary||null,document:j.document||null,attachment_url:k,status:a??"PENDING",created_by_id:y}]);if(P)throw P;R({type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null}),g(null),r(),t()}catch(y){console.error("Error creating bank statement:",y),c("Erro ao criar lanamento bancrio")}finally{i(!1)}},S=Mr.useMemo(()=>d.filter(y=>j.type==="CREDIT"?y.type==="REVENUE"||y.type==="BOTH":y.type==="EXPENSE"||y.type==="BOTH").filter(y=>{const k=PV.includes(y.id),P=DV.includes((y.name||"").trim().toUpperCase());return!k&&!P}),[d,j.type]);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Lanamento Bancrio"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:I,className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex flex-row gap-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Tipo de Lanamento:"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CREDIT",checked:j.type==="CREDIT",onChange:C=>R(y=>({...y,type:C.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Entrada"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"DEBIT",checked:j.type==="DEBIT",onChange:C=>R(y=>({...y,type:C.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Sada"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:U(j.value),onChange:F,className:`w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 focus:ring-2 focus:ring-primary-500 focus:border-transparent ${j.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Lanamento"}),s.jsx("input",{type:"date",value:j.transactionDate,onChange:C=>R(y=>({...y,transactionDate:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Competncia"}),s.jsx("input",{type:"date",value:j.valueDate,onChange:C=>R(y=>({...y,valueDate:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx(Iw,{options:S.map(C=>({value:C.id,label:C.name})),value:(()=>{const C=typeof j.categoryId=="string"&&Number(j.categoryId)||j.categoryId,y=S.find(k=>k.id===C);return y?{value:y.id,label:y.name}:null})(),onChange:C=>R(y=>({...y,categoryId:(C==null?void 0:C.value)??""})),placeholder:"Selecione uma categoria",isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:j.bankAccountId,onChange:C=>R(y=>({...y,bankAccountId:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),f.map(C=>s.jsxs("option",{value:C.id,children:[C.name," - ",C.bank," ",C.branch,"/",C.account]},C.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("input",{type:"text",value:j.beneficiary,onChange:C=>R(y=>({...y,beneficiary:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do beneficirio ou cliente"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:j.description,onChange:C=>R(y=>({...y,description:C.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio do lanamento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Documento"}),s.jsx("input",{type:"text",value:j.document,onChange:C=>R(y=>({...y,document:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do documento (opcional)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Anexo"}),j.attachment&&s.jsx("div",{className:"mb-4",children:j.attachment.type.startsWith("image/")?s.jsx("img",{src:w,alt:"Preview",className:"w-[150px] h-[150px] object-cover rounded border border-secondary-300"}):s.jsx("div",{className:"w-[150px] h-[150px] flex items-center justify-center border border-secondary-300 rounded bg-secondary-50 dark:bg-secondary-900 text-secondary-700 dark:text-secondary-300 text-center p-2",children:s.jsx("span",{className:"text-xs break-words",children:j.attachment.name})})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},className:`flex items-center justify-center px-4 py-2 rounded-lg transition-colors ${A?"bg-red-100 text-red-700 border border-red-500":"bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-200 dark:hover:bg-secondary-700"}`,children:[s.jsx(El,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]})}),A&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:"O anexo  obrigatrio."}),s.jsx("input",{ref:p,type:"file",onChange:C=>{x(C),v(!1)},className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.xlsx"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Lanamento"})]})]})]})}):null}function LV({isOpen:e,onClose:t,onSuccess:r,statement:n}){var S;const[a,o]=L.useState(!1),[i,l]=L.useState(null),[c,d]=L.useState(null),[u,f]=L.useState([]),b=L.useRef(null),[p,w]=L.useState([]),[g,A]=L.useState([]),[v,j]=L.useState({id:"",type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachments:[],attachmentUrl:""});L.useEffect(()=>{if(e){R();const C=new Date().toISOString().split("T")[0];j(y=>({...y,id:(n==null?void 0:n.id)||"",type:(n==null?void 0:n.type)||"CREDIT",description:(n==null?void 0:n.description)||"",value:n!=null&&n.value?""+n.value:"",transactionDate:(n==null?void 0:n.transaction_date)||C,valueDate:(n==null?void 0:n.value_date)||C,bankAccountId:(n==null?void 0:n.bank_account_id)||"",categoryId:(n==null?void 0:n.category_id)||"",beneficiary:(n==null?void 0:n.beneficiary)||"",document:(n==null?void 0:n.document)||"",attachments:[],attachmentUrl:(n==null?void 0:n.attachment_url)||""})),n!=null&&n.attachment_url&&d(n.attachment_url)}},[e]),L.useEffect(()=>{e||(u.forEach(C=>{C&&URL.revokeObjectURL(C)}),f([]))},[e]);const R=async()=>{try{const[C,y]=await Promise.all([De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0)]);if(C.error)throw C.error;if(y.error)throw y.error;w(C.data||[]),A(y.data||[])}catch(C){console.error("Error loading data:",C),l("Erro ao carregar dados")}},H=C=>{const y=typeof C=="string"?parseFloat(C)||0:C;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y)},U=C=>{let y=C.target.value.replace(/\D/g,"");y===""&&(y="0");const k=parseInt(y)/100;j(P=>({...P,value:k.toString()}))},F=C=>{j(y=>({...y,attachments:y.attachments.filter((k,P)=>P!==C)})),f(y=>y.filter((k,P)=>P!==C))},x=async C=>{const y=Array.from(C.target.files||[]);if(y.length===0)return;const k=y.filter(P=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(P.type)?P.size>5242880?(l("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(l("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(k.length>0){l(null),j(E=>({...E,attachments:[...E.attachments,...k]}));const P=k.map(E=>E.type.startsWith("image/")?URL.createObjectURL(E):"");f(E=>[...E,...P])}},I=async C=>{C.preventDefault(),o(!0),l(null);try{const y=localStorage.getItem("userId");let k=v.attachments.length?null:n.attachment_url;if(v.attachments.length){const q=v.attachments[0],B=q.name.split(".").pop(),V=`bank-statements/${`${Math.random().toString(36).substring(2)}.${B}`}`,{error:ee}=await De.storage.from("attachments").upload(V,q);if(ee)throw ee;const{data:{publicUrl:le}}=De.storage.from("attachments").getPublicUrl(V);k=le}const P={type:v.type,description:v.description,value:parseFloat(v.value),transaction_date:v.transactionDate,value_date:v.valueDate,bank_account_id:v.bankAccountId,category_id:v.categoryId||null,beneficiary:v.beneficiary||null,document:v.document||null,attachment_url:k||null,status:"PENDING",created_by_id:y},{error:E}=await De.from("bank_statements").update(P).eq("id",v.id);if(E)throw E;j({id:"",type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachments:[],attachmentUrl:""}),r(),t()}catch(y){console.error("Error updating bank statement:",y),l("Erro ao atualizar lanamento bancrio")}finally{o(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Visualizar Lanamento Bancrio"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:I,className:"p-4 sm:p-6",children:[i&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:i})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex flex-row gap-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Tipo de Lanamento:"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CREDIT",checked:v.type==="CREDIT",onChange:C=>j(y=>({...y,type:C.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Entrada"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"DEBIT",checked:v.type==="DEBIT",onChange:C=>j(y=>({...y,type:C.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Sada"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:H(v.value),onChange:U,className:`w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 focus:ring-2 focus:ring-primary-500 focus:border-transparent ${v.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Lanamento"}),s.jsx("input",{type:"date",value:v.transactionDate,onChange:C=>j(y=>({...y,transactionDate:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Competncia"}),s.jsx("input",{type:"date",value:v.valueDate,onChange:C=>j(y=>({...y,valueDate:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx(Iw,{options:p.filter(C=>v.type==="CREDIT"?C.type==="REVENUE"||C.type==="BOTH":C.type==="EXPENSE"||C.type==="BOTH").map(C=>({value:C.id,label:C.name})),value:p.filter(C=>C.id===v.categoryId).map(C=>({value:C.id,label:C.name}))[0]||null,onChange:C=>j(y=>({...y,categoryId:(C==null?void 0:C.value)||""})),placeholder:"Selecione uma categoria",isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:v.bankAccountId,onChange:C=>j(y=>({...y,bankAccountId:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),g.map(C=>s.jsxs("option",{value:C.id,children:[C.name," - ",C.bank," ",C.branch,"/",C.account]},C.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("input",{type:"text",value:v.beneficiary,onChange:C=>j(y=>({...y,beneficiary:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do beneficirio ou cliente"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:v.description,onChange:C=>j(y=>({...y,description:C.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio do lanamento",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Documento"}),s.jsx("input",{type:"text",value:v.document,onChange:C=>j(y=>({...y,document:C.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do documento (opcional)"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:v.attachmentUrl?s.jsx("a",{href:v.attachmentUrl,target:"_blank",rel:"noreferrer",children:"Ver anexo atual"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:(S=v.attachments)==null?void 0:S.map((C,y)=>s.jsxs("div",{className:"relative",children:[u!=null&&u[y]?s.jsx("img",{src:u[y],alt:`Preview ${y+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:C.name})}),s.jsx("button",{type:"button",onClick:()=>F(y),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Ht,{className:"h-4 w-4"})})]},y))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var C;return(C=b.current)==null?void 0:C.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(Ni,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:b,type:"file",onChange:x,className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.xlsx"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:a,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:a,children:a?"Salvando...":"Salvar Lanamento"})]})]})]})}):null}function IV({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState(!1),[o,i]=L.useState(null),[l,c]=L.useState([]),[d,u]=L.useState(""),[f,b]=L.useState({sourceAccountId:"",destinationAccountId:"",value:"",date:new Date().toISOString().split("T")[0],description:"",transferType:"PIX"});L.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const{data:v,error:j}=await De.from("bank_accounts").select("*").eq("active",!0).order("name");if(j)throw j;c(v||[])}catch(v){console.error("Error loading bank accounts:",v),i("Erro ao carregar contas bancrias")}},w=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(v)),g=v=>{let j=v.target.value.replace(/\D/g,"");j===""&&(j="0");const R=parseInt(j)/100;b(H=>({...H,value:R.toString()}))},A=async v=>{v.preventDefault(),a(!0),i(null);try{if(!d||d.length!==6)throw new Error("Por favor, insira um cdigo de autenticao vlido");const j=localStorage.getItem("userId"),R=await Nl.checkGoogleAuth({userId:j||"",google_auth_code:d});if(R.error)throw new Error(R.message);if(f.sourceAccountId===f.destinationAccountId)throw new Error("As contas de origem e destino devem ser diferentes");if(parseFloat(f.value)<=0)throw new Error("O valor da transferncia deve ser maior que zero");const H=l.find(x=>x.id===f.sourceAccountId),U=l.find(x=>x.id===f.destinationAccountId);if(!H||!U)throw new Error("Conta bancria no encontrada");const F=await Nl.createBankTransfer({sourceAccountId:f.sourceAccountId,destinationAccountId:f.destinationAccountId,value:parseFloat(f.value),date:f.date,description:f.description,transferType:f.transferType,userId:j||""});if(F.error)throw new Error(F.error);r(),t()}catch(j){console.error("Error creating bank transfer:",j),i(j instanceof Error?j.message:"Erro ao realizar transferncia")}finally{a(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Transferncia Entre Contas"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:A,className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 items-center",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta de Origem"}),s.jsxs("select",{value:f.sourceAccountId,onChange:v=>b(j=>({...j,sourceAccountId:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),l.map(v=>s.jsxs("option",{value:v.id,disabled:v.id===f.destinationAccountId,children:[v.name," - ",v.bank," ",v.branch,"/",v.account]},v.id))]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(m4,{className:"h-6 w-6 text-secondary-400"})}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta de Destino"}),s.jsxs("select",{value:f.destinationAccountId,onChange:v=>b(j=>({...j,destinationAccountId:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),l.map(v=>s.jsxs("option",{value:v.id,disabled:v.id===f.sourceAccountId,children:[v.name," - ",v.bank," ",v.branch,"/",v.account]},v.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor da Transferncia"}),s.jsx("input",{type:"text",value:w(f.value),onChange:g,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Transferncia"}),s.jsx("input",{disabled:!0,type:"date",value:f.date,onChange:v=>b(j=>({...j,date:v.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:f.description,onChange:v=>b(j=>({...j,description:v.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio da transferncia (opcional)"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:d,onChange:v=>u(v.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:v=>{var j;v.key==="Enter"&&((j=document.getElementById("transfer-button"))==null||j.click())},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",maxLength:6,required:!0})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"submit",id:"transfer-button",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n,children:n?"Transferindo...":"Realizar Transferncia"})]})]})]})}):null}async function ck(e){try{const t=[],r=e.match(/<BANKTRANLIST>[\s\S]*?<\/BANKTRANLIST>/);if(!r)throw new Error("Nenhuma transao encontrada no arquivo");const n=r[0].match(/<STMTTRN>[\s\S]*?<\/STMTTRN>/g);if(!n)throw new Error("Nenhuma transao encontrada no arquivo");for(const a of n){const o=a.match(/<DTPOSTED>(.*?)</);if(!o)continue;const i=RV(o[1]),l=a.match(/<TRNAMT>(.*?)</);if(!l)continue;const c=parseFloat(l[1]),d=a.match(/<MEMO>(.*?)</),u=a.match(/<NAME>(.*?)</),f=((d==null?void 0:d[1])||(u==null?void 0:u[1])||"").trim(),b=a.match(/<CHECKNUM>(.*?)</),p=b==null?void 0:b[1];t.push({date:i,type:c>=0?"CREDIT":"DEBIT",value:Math.abs(c),description:f,document:p})}return t}catch(t){throw console.error("Error parsing OFX:",t),new Error("Erro ao processar arquivo OFX. Verifique se o arquivo est no formato correto.")}}function RV(e){const t=e.substring(0,8),r=t.slice(0,4),n=t.slice(4,6),a=t.slice(6,8);return`${r}-${n}-${a}`}function TV({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState(!1),[o,i]=L.useState(null),[l,c]=L.useState([]),[d,u]=L.useState(null),[f,b]=L.useState(""),[p,w]=L.useState([]),g=L.useRef(null);L.useEffect(()=>{e?A():(u(null),b(""),w([]),i(null))},[e]);const A=async()=>{try{const{data:x,error:I}=await De.from("bank_accounts").select("*").eq("active",!0).order("name");if(I)throw I;c(x||[])}catch(x){console.error("Error loading bank accounts:",x),i("Erro ao carregar contas bancrias")}},v=async x=>{const I=x.target.files;if(!I||I.length===0)return;const S=I[0];if(!S.name.toLowerCase().endsWith(".ofx")){i("O arquivo deve estar no formato OFX");return}u(S),i(null);const C=new FileReader;C.onload=async y=>{var P;const k=(P=y.target)==null?void 0:P.result;if(!k){i("Erro ao ler arquivo");return}try{const E=await ck(k);w(E)}catch(E){console.error("Error parsing OFX:",E),i(E instanceof Error?E.message:"Erro ao processar arquivo OFX"),u(null),w([])}},C.onerror=()=>{i("Erro ao ler arquivo"),u(null),w([])},C.readAsText(S)},j=x=>{x.preventDefault(),x.stopPropagation()},R=async x=>{x.preventDefault(),x.stopPropagation();const I=x.dataTransfer.files;if(!I||I.length===0)return;const S=I[0];if(!S.name.toLowerCase().endsWith(".ofx")){i("O arquivo deve estar no formato OFX");return}u(S),i(null);const C=new FileReader;C.onload=async y=>{var P;const k=(P=y.target)==null?void 0:P.result;if(!k){i("Erro ao ler arquivo");return}try{const E=await ck(k);w(E)}catch(E){console.error("Error parsing OFX:",E),i(E instanceof Error?E.message:"Erro ao processar arquivo OFX"),u(null),w([])}},C.onerror=()=>{i("Erro ao ler arquivo"),u(null),w([])},C.readAsText(S)},H=async()=>{if(!(!d||!f||p.length===0)){a(!0),i(null);try{const{data:{user:x},error:I}=await De.auth.getUser();if(I)throw I;if(!x)throw new Error("Usurio no autenticado");const S=p.map(y=>({bank_account_id:f,transaction_date:y.date,value_date:y.date,type:y.type,description:y.description,document:y.document,value:y.value,status:"REGISTERED",created_by_id:x.id})),{error:C}=await De.from("bank_statements").insert(S);if(C)throw C;r(),t()}catch(x){console.error("Error importing transactions:",x),i("Erro ao importar transaes")}finally{a(!1)}}},U=(x,I)=>{const S=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(x));return I==="DEBIT"?`-${S}`:S},F=x=>new Date(x).toLocaleDateString("pt-BR");return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Importar Arquivo OFX"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:f,onChange:x=>b(x.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),l.map(x=>s.jsxs("option",{value:x.id,children:[x.name," - ",x.bank," ",x.branch,"/",x.account]},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Arquivo OFX"}),d?s.jsxs("div",{className:"mb-4 flex items-center justify-between p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ni,{className:"h-5 w-5 text-secondary-400 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:d.name})]}),s.jsx("button",{type:"button",onClick:()=>{u(null),w([])},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Ht,{className:"h-5 w-5"})})]}):s.jsxs("div",{onDragOver:j,onDrop:R,onClick:()=>{var x;return(x=g.current)==null?void 0:x.click()},className:"border-2 border-dashed border-secondary-200 dark:border-secondary-700 rounded-lg p-6 text-center cursor-pointer hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx(Ni,{className:"h-8 w-8 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Clique para selecionar ou arraste o arquivo OFX aqui"})]}),s.jsx("input",{ref:g,type:"file",onChange:v,accept:".ofx",className:"hidden"})]}),p.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Transaes Encontradas"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Documento"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:p.map((x,I)=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:F(x.date)}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:x.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:x.document||"---"}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium text-right ${x.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:U(x.value,x.type)})]},I))})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:H,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||!d||!f||p.length===0,children:n?"Importando...":"Confirmar Importao"})]})]})]})}):null}function OV(){const[e,t]=L.useState(!1),[r,n]=L.useState(!1),[a,o]=L.useState(!1),[i,l]=L.useState(!1),[c,d]=L.useState(null),[u,f]=L.useState("all"),[b,p]=L.useState(""),[w,g]=L.useState([]),[A,v]=L.useState([]),[j,R]=L.useState(!0),[H,U]=L.useState(null),[F,x]=L.useState(!1),[I,S]=L.useState({dateRange:{start:"",end:""},bankAccountId:"",type:"",categoryId:"",status:""}),[C,y]=L.useState(!1),[k,P]=L.useState(1),E=10;L.useEffect(()=>{P(1),q()},[I,u]);const q=async()=>{try{R(!0);const[pe,Ee]=await Promise.all([De.from("bank_accounts").select("*").eq("active",!0).order("name"),De.from("bank_statements_with_details").select("*").order("transaction_date",{ascending:!1})]);if(pe.error)throw pe.error;if(Ee.error)throw Ee.error;console.log("Statements data:",Ee.data),g(pe.data||[]),v(Ee.data||[]),U(null)}catch(pe){console.error("Error loading data:",pe),U("Erro ao carregar dados")}finally{R(!1)}},B=pe=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(pe),G=w.map(pe=>{const $e=A.filter(qe=>qe.bank_account_id===pe.id).reduce((qe,Ye)=>qe+(Ye.type==="CREDIT"?Ye.value:-Ye.value),0);return{id:pe.id,name:pe.name,bank:pe.bank,balance:$e,branch:pe.branch,account:pe.account}}),V=A.filter(pe=>{var rt,Ge,et;const Ee=b.toLowerCase(),$e=((rt=pe.description)==null?void 0:rt.toLowerCase().includes(Ee))||((Ge=pe.beneficiary)==null?void 0:Ge.toLowerCase().includes(Ee))||((et=pe.document)==null?void 0:et.toLowerCase().includes(Ee)),qe=(!I.dateRange.start||new Date(pe.transaction_date)>=new Date(I.dateRange.start))&&(!I.dateRange.end||new Date(pe.transaction_date)<=new Date(I.dateRange.end)),Ye=!I.bankAccountId||pe.bank_account_id===I.bankAccountId,dt=!I.type||pe.type===I.type,Me=!I.categoryId||pe.category_id===I.categoryId,ge=!I.status||pe.status===I.status,yt=u==="all"||u==="debits"&&pe.type==="DEBIT"||u==="credits"&&pe.type==="CREDIT";return $e&&qe&&Ye&&dt&&Me&&ge&&yt}),ee=Math.ceil(V.length/E),le=V.slice((k-1)*E,k*E),[Q,M]=L.useState(!1),[J,te]=L.useState(null),[ue,ie]=L.useState(!1),de=async pe=>{te(pe),M(!0)},ye=async()=>{if(J){ie(!0),U(null);try{const{error:pe}=await De.from("bank_statements").delete().eq("id",J.id);if(pe)throw pe;v(Ee=>Ee.filter($e=>$e.id!==J.id)),M(!1),te(null)}catch(pe){console.error("Erro ao excluir o lanamento:",pe),U(pe.message||"Ocorreu um erro ao excluir o lanamento")}finally{ie(!1)}}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[H&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:H}),s.jsx("button",{onClick:()=>U(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Extrato Bancrio"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Visualize e gerencie todas as movimentaes bancrias"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(AD,{className:"h-5 w-5"}),s.jsx("span",{children:"Transferir"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Lanamento"})]})]})]}),s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 mb-6",children:G.map(pe=>s.jsxs("div",{className:"flex-shrink-0 w-52 bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:pe.name}),s.jsx(vc,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:`text-2xl font-semibold ${pe.balance>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:B(pe.balance)}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:pe.bank}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[pe.branch,"/",pe.account]})]},pe.id))}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por descrio, beneficirio ou documento...",value:b,onChange:pe=>{p(pe.target.value),P(1)},className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:I.dateRange.start,onChange:pe=>S(Ee=>({...Ee,dateRange:{...Ee.dateRange,start:pe.target.value}})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:I.dateRange.end,onChange:pe=>S(Ee=>({...Ee,dateRange:{...Ee.dateRange,end:pe.target.value}})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("button",{onClick:()=>x(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(wc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})]})]})}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>f("all"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="all"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Geral"}),s.jsx("button",{onClick:()=>f("debits"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="debits"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Sadas"}),s.jsx("button",{onClick:()=>f("credits"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="credits"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Entradas"})]})}),j?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs("div",{children:[s.jsx(T$,{handleDelete:de,statements:le,onView:pe=>{console.log("View statement:",pe),d(pe),l(!0)},onEdit:pe=>{d(pe),l(!0)},onDelete:pe=>{console.log("Delete statement:",pe)}}),s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("p",{className:"text-sm text-secondary-700 dark:text-secondary-400",children:["Mostrando ",(k-1)*E+1," at ",Math.min(k*E,V.length)," de ",V.length," registros"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(pe=>Math.max(1,pe-1)),disabled:k===1,className:`px-3 py-1 text-sm font-medium rounded-md border border-secondary-200 dark:border-secondary-600 \r
                           text-secondary-700 dark:text-secondary-300 \r
                           disabled:opacity-50 disabled:cursor-not-allowed\r
                           hover:bg-secondary-50 dark:hover:bg-secondary-700`,children:"Anterior"}),s.jsxs("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Pgina ",k," de ",ee]}),s.jsx("button",{onClick:()=>P(pe=>Math.min(ee,pe+1)),disabled:k===ee,className:`px-3 py-1 text-sm font-medium rounded-md border border-secondary-200 dark:border-secondary-600 \r
                           text-secondary-700 dark:text-secondary-300 \r
                           disabled:opacity-50 disabled:cursor-not-allowed\r
                           hover:bg-secondary-50 dark:hover:bg-secondary-700`,children:"Prxima"})]})]})]})]}),s.jsx(ZC,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{t(!1),q()}}),s.jsx(LV,{isOpen:i,onClose:()=>l(!1),onSuccess:()=>{l(!1),q()},statement:c}),s.jsx(IV,{isOpen:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),q()}}),s.jsx(TV,{isOpen:a,onClose:()=>o(!1),onSuccess:()=>{o(!1),q()}}),s.jsx(R$,{isOpen:F,onClose:()=>x(!1),filters:{bankAccountId:I.bankAccountId,type:I.type,categoryId:I.categoryId,status:I.status},onApplyFilters:pe=>{S(Ee=>({...Ee,...pe})),x(!1)}}),Q&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Excluso"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja excluir o lanamento ${J.description} de R$ ${J.value}? Esta ao no pode ser desfeita.`}),H&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:H}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{M(!1),te(null),U(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:ye,disabled:ue,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:ue?"Excluindo...":"Excluir"})]})]})})]})}function MV(){const[e,t]=L.useState(!0),[r,n]=L.useState(!1),[a,o]=L.useState(null),[i,l]=L.useState([]),[c,d]=L.useState(""),[u,f]=L.useState({start:"",end:""}),[b,p]=L.useState(""),[w,g]=L.useState([]),[A,v]=L.useState([]),[j,R]=L.useState("PENDING"),[H]=L.useState({}),[U,F]=L.useState(!1),[x,I]=L.useState(null),[S,C]=L.useState(!1),[y,k]=L.useState(null),P=async()=>{try{console.log("Syncing bank accounts:",c),F(!0),await Nl.syncAccounts({bankAccountId:c}),E()}catch(J){console.error("Error syncing statements:",J),o("Erro ao sincronizar extrato")}finally{F(!1)}},E=async()=>{try{t(!0);const J=await Nl.getMatchingStatements(c);g(J.data),v(J.pendingBankStatements),o(null)}catch(J){console.error("Error loading matching statements:",J),o("Erro ao carregar extrato conciliado")}finally{t(!1)}};L.useEffect(()=>{q()},[]),L.useEffect(()=>{c&&E()},[c]);const q=async()=>{try{const{data:J,error:te}=await De.from("bank_accounts").select("*").eq("active",!0).order("name");if(te)throw te;console.log(" Contas bancrias carregadas:",J),l(J||[]),o(null)}catch(J){console.error("Error loading bank accounts:",J),o("Erro ao carregar contas bancrias")}finally{t(!1)}},B=async()=>{try{if(!c){Ea.fire("Aviso","Selecione uma conta bancria","warning");return}t(!0);const J=document.createElement("input");J.type="file",J.accept=".ofx,.qfx,.xml",J.onchange=async te=>{var ye;const ie=(ye=te.target.files)==null?void 0:ye[0];if(!ie){Ea.fire("Aviso","Nenhum arquivo selecionado","warning"),t(!1);return}const de=new FileReader;de.onload=async pe=>{var Ee;try{const $e=(Ee=pe.target)==null?void 0:Ee.result,qe=G($e);if(!qe||qe.length===0)throw new Error("No foi possvel encontrar transaes no arquivo OFX");const Ye=localStorage.getItem("userId");if(!Ye)throw new Error("Usurio no autenticado");const dt=qe.map(Ae=>Ae.id).filter(Ae=>Ae),{data:Me}=await De.from("reconciliation_statements").select("document").eq("bank_account_id",c).in("document",dt),ge=new Set((Me==null?void 0:Me.map(Ae=>Ae.document))||[]),yt=qe.filter(Ae=>!ge.has(Ae.id));if(yt.length===0){Ea.fire("Informao","Todas as transaes j foram importadas anteriormente.","info"),t(!1);return}const rt=new Date().toISOString(),Ge=yt.map(Ae=>({bank_account_id:c,transaction_date:Ae.date,value_date:Ae.date,type:Ae.amount>0?"CREDIT":"DEBIT",description:Ae.description||"Transao importada",document:Ae.id||"",value:Math.abs(Ae.amount),status:"PENDING",created_by_id:Ye,created_at:rt,updated_at:rt,api_json:JSON.stringify(Ae)})),et=50;for(let Ae=0;Ae<Ge.length;Ae+=et){const tt=Ge.slice(Ae,Ae+et),{error:Fe}=await De.from("reconciliation_statements").insert(tt);if(Fe)throw Fe}const se=qe.length-yt.length,we=`${yt.length} transaes importadas com sucesso!`+(se>0?` (${se} j existentes foram ignoradas)`:"");Ea.fire("Sucesso",we,"success"),E()}catch($e){console.error("Error importing OFX:",$e),o("Erro ao importar arquivo OFX: "+($e.message||"Erro desconhecido")),Ea.fire("Erro","Erro ao importar arquivo OFX","error")}finally{t(!1)}},de.onerror=()=>{o("Erro ao ler o arquivo"),Ea.fire("Erro","Erro ao ler o arquivo","error"),t(!1)},de.readAsText(ie,"windows-1252")},J.click()}catch(J){console.error("Error setting up OFX import:",J),o("Erro ao configurar importao de OFX"),Ea.fire("Erro","Erro ao configurar importao de OFX","error"),t(!1)}};function G(J){var Ee,$e;if(!J)return[];const te=J.replace(/\r/g,`
`),ie=(((Ee=te.match(/<BANKTRANLIST>([\s\S]*?)<\/BANKTRANLIST>/i))==null?void 0:Ee[1])??(($e=te.match(/<CCSTMTRNRS>[\s\S]*?<BANKTRANLIST>([\s\S]*?)<\/BANKTRANLIST>/i))==null?void 0:$e[1])??te).split(/<STMTTRN>/i).slice(1).map(qe=>"<STMTTRN>"+qe),de=(qe,Ye)=>{const dt=qe.match(new RegExp(`<${Ye}>([^<\\n\\r]+)`,"i"));return dt?dt[1].trim():""},ye=qe=>{const Ye=qe.match(/^(\d{4})(\d{2})(\d{2})/);if(!Ye)return null;const[,dt,Me,ge]=Ye;return`${dt}-${Me}-${ge}`};return ie.map(qe=>{const Ye=de(qe,"DTPOSTED")||de(qe,"DTUSER")||de(qe,"DTAVAIL"),dt=de(qe,"TRNAMT").replace(",","."),Me=parseFloat(dt),ge=de(qe,"FITID")||de(qe,"CHECKNUM")||"",yt=de(qe,"MEMO")||de(qe,"NAME")||de(qe,"CHECKNUM")||"Transao";return{id:ge||void 0,date:ye(Ye),amount:isNaN(Me)?0:Me,description:yt}}).filter(qe=>qe.date&&!isNaN(qe.amount))}const V=J=>{const te=A.filter(ie=>ie.type===J.reconciliation_statement.type&&ie.transaction_date===J.reconciliation_statement.transaction_date),ue=A.filter(ie=>ie.type===J.reconciliation_statement.type);return te&&te.length>0?te:ue},ee=async(J,te)=>{var ue,ie;try{n(!0),I(J.id),console.log("Reconciling:",{reconciliationStatement:J,bankStatement:te});const de=await Nl.reconcileStatement(J.id,te.id);if(de!=null&&de.error||(de==null?void 0:de.status)==="error")throw new Error((de==null?void 0:de.message)||"Erro na conciliao");v(ye=>ye.filter(pe=>pe.id!==te.id)),g(ye=>ye.filter(pe=>pe.reconciliation_statement.id!==J.id)),Ea.fire({toast:!0,position:"top-end",icon:"success",title:"Lanamento conciliado com sucesso!",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}catch(de){console.error("Error reconciling transactions:",de);const ye=(de==null?void 0:de.message)||((ie=(ue=de==null?void 0:de.response)==null?void 0:ue.data)==null?void 0:ie.message)||"Erro ao conciliar lanamentos";o(ye),Ea.fire({icon:"error",title:"Erro",text:ye})}finally{n(!1)}},le=J=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(J),Q=J=>new Date(J).toLocaleDateString("pt-BR"),M=async J=>{try{const{error:te}=await De.from("reconciliation_statements").delete().eq("id",J);if(te)throw te;g(ue=>ue.filter(ie=>ie.reconciliation_statement.id!==J))}catch(te){console.error("Error deleting statement:",te),toast.error("Erro ao excluir lanamento")}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[a&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:a}),s.jsx("button",{onClick:()=>o(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Conciliao de Contas"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Concilie os lanamentos bancrios com as movimentaes internas"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:B,disabled:e||!c,className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600 disabled:opacity-50",children:[s.jsx(Ni,{className:"h-5 w-5"}),s.jsx("span",{children:"Importar OFX"})]}),s.jsxs("button",{onClick:P,disabled:U||!c,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[s.jsx(y0,{className:`h-5 w-5 ${U?"animate-spin":""}`}),s.jsx("span",{children:"Atualizar Extrato"})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:c,onChange:J=>d(J.target.value),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),i.map(J=>{var pe;const te=J.branch&&J.branch!=="0"?J.branch:"",ue=J.account&&J.account!=="0"?J.account:"",ie=J.digit&&String(J.digit)!=="0"?`-${J.digit}`:"",de=[J.bank,[te,ue?ue+ie:""].filter(Boolean).join("/")].filter(Boolean).join(" "),ye=[(pe=J.name)==null?void 0:pe.trim(),de].filter(Boolean).join(" - ");return s.jsx("option",{value:J.id,children:ye},J.id)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Perodo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:u.start,onChange:J=>f(te=>({...te,start:J.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("input",{type:"date",value:u.end,onChange:J=>f(te=>({...te,end:J.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:j,onChange:J=>R(J.target.value),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"ALL",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"RECONCILED",children:"Conciliados"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",value:b,onChange:J=>p(J.target.value),placeholder:"Buscar por descrio...",className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]})}),s.jsx("div",{className:"flex gap-8",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Lanamentos Bancrios"})}),s.jsx("div",{className:"p-4 space-y-4",children:w&&w.length>0?w.map(J=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"hover:bg-secondary-100 dark:hover:bg-secondary-700 flex-1 p-4 h-24 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:border-primary-500 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>{k(J.reconciliation_statement),C(!0)},children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:Q(J.reconciliation_statement.transaction_date)}),J.reconciliation_statement.status==="RECONCILED"&&s.jsx(Tf,{className:"h-4 w-4 text-green-500"})]}),s.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:J.reconciliation_statement.description}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:J.reconciliation_statement.id})]}),s.jsxs("span",{className:`font-medium ${J.reconciliation_statement.type==="CREDIT"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[J.reconciliation_statement.type==="CREDIT"?"+":"-",le(J.reconciliation_statement.value)]})]})}),s.jsx("div",{className:"w-16 flex justify-center",children:s.jsx("button",{onClick:()=>{J.possible_matches.length>0&&ee(J.reconciliation_statement,J.possible_matches[0])},className:`p-2 rounded-lg transition-colors ${J.possible_matches.length>0?"bg-primary-500 hover:bg-primary-600 text-white":"bg-secondary-100 dark:bg-secondary-800 text-secondary-400"}`,disabled:J.possible_matches.length===0,children:x===J.reconciliation_statement.id&&r?s.jsx(v4,{className:"h-5 w-5 animate-spin"}):s.jsx(m4,{className:"h-5 w-5"})})}),s.jsx("div",{className:"flex-1 p-4 h-24 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:border-primary-500 transition-colors",children:J.possible_matches.length>0?s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:Q(J.possible_matches[0].transaction_date)}),J.possible_matches[0].category_id&&s.jsx("span",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Categoria"})]}),s.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:J.possible_matches[0].description})]}),s.jsxs("span",{className:`flex items-center font-medium ${J.possible_matches[0].type==="CREDIT"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[J.possible_matches[0].type==="CREDIT"?"+":"-",le(J.possible_matches[0].value),s.jsx("button",{className:"ml-2 text-secondary-500 dark:text-secondary-400 hover:text-secondary-700 dark:hover:text-secondary-300",onClick:te=>{te.stopPropagation(),g(ue=>ue.map(ie=>({...ie,possible_matches:ie.possible_matches.filter(de=>de.id!==J.possible_matches[0].id)})))},children:s.jsx(Ht,{className:"h-7 w-7"})})]})]})}):s.jsxs("div",{className:"p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Iw,{options:V(J).map(te=>({value:te.id,label:`${te.beneficiary||"Sem beneficirio"} - ${le(te.value)} (${new Date(te.transaction_date).toLocaleDateString("pt-BR")}${te.description?` - ${te.description}`:""})`,statement:te})),onChange:te=>{const ue=te==null?void 0:te.statement;ue&&g(ie=>ie.map(de=>de.reconciliation_statement.id===J.reconciliation_statement.id?{...de,possible_matches:[...de.possible_matches,ue]}:de))},placeholder:"Selecione ou pesquise um beneficirio...",isSearchable:!0,className:"w-3/4 react-select-container",classNamePrefix:"react-select"}),s.jsx("button",{className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm",onClick:()=>{k(J.reconciliation_statement),C(!0)},children:"Novo"})]}),H[J.reconciliation_statement.id]&&s.jsxs("div",{className:"mt-2 text-sm text-primary-600 dark:text-primary-400",children:["Sugesto: ",H[J.reconciliation_statement.id].name]})]})})]},J.reconciliation_statement.id)):s.jsx("div",{className:"p-6 text-center text-secondary-500 dark:text-secondary-400",children:e?"Carregando...":"Nenhum lanamento para conciliao encontrado."})})]})})}),s.jsx(ZC,{isOpen:S,onClose:()=>{C(!1),k(null)},onSuccess:async()=>{y&&await M(y.id),C(!1),k(null),E()},statement:y,defaultStatus:"RECONCILED"})]})}function FV({isOpen:e,onClose:t,onSuccess:r}){const[n,a]=L.useState("general"),[o,i]=L.useState(!1),[l,c]=L.useState(null),[d,u]=L.useState({general:{name:"",lastDigits:"",brand:"VISA",bank:"",dueDate:"",closingDate:""},account:{bankAccountId:"",cnpjId:""},limit:{totalLimit:"",currentUsed:"",alertPercentage:"80"}}),f=async w=>{w.preventDefault(),i(!0),c(null);try{r(),t()}catch(g){console.error("Error creating credit card:",g),c("Erro ao criar carto")}finally{i(!1)}},b=w=>{const g=w.replace(/\D/g,"");return(parseInt(g)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},p=w=>g=>{let A=g.target.value.replace(/\D/g,"");A===""&&(A="0");const v=parseInt(A)/100;u(j=>({...j,limit:{...j.limit,[w]:v.toString()}}))};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Carto de Crdito"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("account"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="account"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Vinculao Financeira"}),s.jsx("button",{onClick:()=>a("limit"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="limit"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Controle de Limite"})]})}),s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Carto"}),s.jsx("input",{type:"text",value:d.general.name,onChange:w=>u(g=>({...g,general:{...g.general,name:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"ltimos 4 dgitos"}),s.jsx("input",{type:"text",value:d.general.lastDigits,onChange:w=>{const g=w.target.value.replace(/\D/g,"").slice(0,4);u(A=>({...A,general:{...A.general,lastDigits:g}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,maxLength:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bandeira"}),s.jsxs("select",{value:d.general.brand,onChange:w=>u(g=>({...g,general:{...g.general,brand:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"VISA",children:"VISA"}),s.jsx("option",{value:"MASTERCARD",children:"MASTERCARD"}),s.jsx("option",{value:"ELO",children:"ELO"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Banco Emissor"}),s.jsx("input",{type:"text",value:d.general.bank,onChange:w=>u(g=>({...g,general:{...g.general,bank:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dia do Vencimento"}),s.jsx("input",{type:"number",min:"1",max:"31",value:d.general.dueDate,onChange:w=>u(g=>({...g,general:{...g.general,dueDate:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dia do Fechamento"}),s.jsx("input",{type:"number",min:"1",max:"31",value:d.general.closingDate,onChange:w=>u(g=>({...g,general:{...g.general,closingDate:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),n==="account"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Associada"}),s.jsx("select",{value:d.account.bankAccountId,onChange:w=>u(g=>({...g,account:{...g.account,bankAccountId:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:s.jsx("option",{value:"",children:"Selecione uma conta bancria"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("select",{value:d.account.cnpjId,onChange:w=>u(g=>({...g,account:{...g.account,cnpjId:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:s.jsx("option",{value:"",children:"Selecione um CNPJ"})})]})]}),n==="limit"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Limite Total"}),s.jsx("input",{type:"text",value:b(d.limit.totalLimit),onChange:p("totalLimit"),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Saldo Utilizado Atual"}),s.jsx("input",{type:"text",value:b(d.limit.currentUsed),onChange:p("currentUsed"),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alerta de Limite (%)"}),s.jsx("input",{type:"number",min:"1",max:"100",value:d.limit.alertPercentage,onChange:w=>u(g=>({...g,limit:{...g.limit,alertPercentage:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:"O sistema emitir um alerta quando o limite utilizado atingir esta porcentagem"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Criar Carto"})]})]})]})}):null}function BV(){const[e,t]=L.useState(!1),[r]=L.useState([{id:"1",name:"Carto Empresarial Bradesco",bank:"Bradesco",lastDigits:"1234",brand:"VISA",limit:15e3,used:8750,dueDate:15,closingDate:10,bankAccount:{id:"1",name:"Bradesco - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}},{id:"2",name:"Carto Corporativo BB",bank:"Banco do Brasil",lastDigits:"5678",brand:"MASTERCARD",limit:25e3,used:12500,dueDate:20,closingDate:15,bankAccount:{id:"2",name:"BB - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}},{id:"3",name:"Carto Fornecedores",bank:"Ita",lastDigits:"9012",brand:"ELO",limit:5e4,used:35e3,dueDate:25,closingDate:20,bankAccount:{id:"3",name:"Ita - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}}]),n=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i),a=i=>{switch(i){case"VISA":return"bg-gradient-to-br from-blue-500 to-blue-700";case"MASTERCARD":return"bg-gradient-to-br from-red-500 to-red-700";case"ELO":return"bg-gradient-to-br from-purple-500 to-purple-700";default:return"bg-gradient-to-br from-gray-500 to-gray-700"}},o=i=>{switch(i){case"VISA":return" VISA";case"MASTERCARD":return" MASTERCARD";case"ELO":return" ELO";default:return""}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Conciliao de Cartes"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os cartes de crdito da empresa"})]}),s.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Rn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Novo Carto"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total de Limites"}),s.jsx(hm,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:n(r.reduce((i,l)=>i+l.limit,0))})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total Utilizado"}),s.jsx(Iv,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:n(r.reduce((i,l)=>i+l.used,0))})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Disponvel"}),s.jsx(nr,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:n(r.reduce((i,l)=>i+(l.limit-l.used),0))})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(i=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>{},children:[s.jsxs("div",{className:`relative ${a(i.brand)} rounded-xl p-6 shadow-lg transform transition-transform group-hover:scale-[1.02]`,children:[s.jsx("div",{className:"absolute top-4 right-4 text-white font-medium",children:o(i.brand)}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:i.name}),s.jsxs("p",{className:"text-white/80 text-sm",children:["**** **** **** ",i.lastDigits]})]}),s.jsxs("div",{className:"flex justify-between items-center text-white/90 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{children:"Vencimento"}),s.jsxs("p",{className:"font-medium",children:["Todo dia ",i.dueDate]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{children:"Fechamento"}),s.jsxs("p",{className:"font-medium",children:["Todo dia ",i.closingDate]})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 -mt-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Limite Total"}),s.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:n(i.limit)})]}),s.jsx("div",{className:"w-full h-2 bg-secondary-100 dark:bg-secondary-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-red-500",style:{width:`${i.used/i.limit*100}%`}})}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Utilizado"}),s.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:n(i.used)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Disponvel"}),s.jsx("p",{className:"font-medium text-green-600 dark:text-green-400",children:n(i.limit-i.used)})]})]}),s.jsxs("div",{className:"pt-2 border-t border-secondary-100 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Conta para Pagamento"}),s.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:i.bankAccount.name})]})]})})]},i.id))}),s.jsx(FV,{isOpen:e,onClose:()=>t(!1),onSuccess:()=>{t(!1)}})]})}function $V(){const t=(()=>{const i=[];for(let l=0;l<30;l++)i.push({x:l,y:Math.floor(Math.random()*100)});return i})(),r=Math.max(...t.map(i=>i.y)),n=i=>`M ${i.map((u,f)=>{const b=f/(i.length-1)*600,p=300-u.y/r*300;return`${b},${p}`}).join(" L ")}`,a=[{name:"Produto com Defeito",value:12567.89,color:"#f43f5e"},{name:"Desistncia da Compra",value:8234.56,color:"#8b5cf6"},{name:"Tamanho Incorreto",value:6789.12,color:"#0ea5e9"},{name:"Cor Diferente",value:4567.89,color:"#10b981"},{name:"Atraso na Entrega",value:3456.78,color:"#f59e0b"}],o=a.reduce((i,l)=>i+l.value,0);return s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Dashboard Financeiro"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{className:"flex items-center space-x-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-2 text-secondary-700 dark:text-secondary-200 hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx(_l,{className:"h-4 w-4"}),s.jsx("span",{children:"Janeiro 2024"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 dark:from-blue-500/20 dark:to-blue-600/20 rounded-xl p-4 border border-blue-100 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Saldo Bancrio"}),s.jsx(Iv,{className:"h-4 w-4 text-blue-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-blue-900 dark:text-blue-100 whitespace-nowrap",children:"R$ 256.489,32"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 dark:from-green-500/20 dark:to-green-600/20 rounded-xl p-4 border border-green-100 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Saldo do Ms"}),s.jsx(A1,{className:"h-4 w-4 text-green-500"})]}),s.jsxs("div",{className:"flex items-baseline",children:[s.jsx("span",{className:"text-base font-bold text-green-900 dark:text-green-100 whitespace-nowrap",children:"R$ 45.678,90"}),s.jsx("span",{className:"ml-1 text-xs text-green-600 dark:text-green-400",children:"+12.5%"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 dark:from-emerald-500/20 dark:to-emerald-600/20 rounded-xl p-4 border border-emerald-100 dark:border-emerald-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-300",children:"Entradas"}),s.jsx(DD,{className:"h-4 w-4 text-emerald-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-emerald-900 dark:text-emerald-100 whitespace-nowrap",children:"R$ 158.945,67"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 dark:from-red-500/20 dark:to-red-600/20 rounded-xl p-4 border border-red-100 dark:border-red-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:"Sadas"}),s.jsx(_D,{className:"h-4 w-4 text-red-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-red-900 dark:text-red-100 whitespace-nowrap",children:"R$ 113.266,77"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 dark:from-yellow-500/20 dark:to-yellow-600/20 rounded-xl p-4 border border-yellow-100 dark:border-yellow-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-yellow-700 dark:text-yellow-300",children:"A Pagar"}),s.jsx(nr,{className:"h-4 w-4 text-yellow-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-yellow-900 dark:text-yellow-100 whitespace-nowrap",children:"R$ 34.567,89"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/10 to-indigo-600/10 dark:from-indigo-500/20 dark:to-indigo-600/20 rounded-xl p-4 border border-indigo-100 dark:border-indigo-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300",children:"A Receber"}),s.jsx(hm,{className:"h-4 w-4 text-indigo-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-indigo-900 dark:text-indigo-100 whitespace-nowrap",children:"R$ 67.890,12"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Fluxo de Caixa"}),s.jsxs("select",{className:"px-3 py-1.5 bg-secondary-50 dark:bg-secondary-700 border border-secondary-200 dark:border-secondary-600 rounded-lg text-sm text-secondary-700 dark:text-secondary-300",children:[s.jsx("option",{value:"30",children:"ltimos 30 dias"}),s.jsx("option",{value:"60",children:"ltimos 60 dias"}),s.jsx("option",{value:"90",children:"ltimos 90 dias"})]})]}),s.jsx("div",{className:"h-[300px] relative",children:s.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 300",preserveAspectRatio:"none",children:[[0,1,2,3,4].map(i=>s.jsx("line",{x1:"0",y1:i*75,x2:"600",y2:i*75,stroke:"#e2e8f0",strokeWidth:"1",strokeDasharray:"4 4"},i)),s.jsx("path",{d:n(t),fill:"none",stroke:"#22c55e",strokeWidth:"2"}),s.jsx("path",{d:`${n(t)} L 600,300 L 0,300 Z`,fill:"url(#gradient)",opacity:"0.1"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:"0.5"}),s.jsx("stop",{offset:"100%",stopColor:"#22c55e",stopOpacity:"0"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Entradas"}),s.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"R$ 158.945,67"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Sadas"}),s.jsx("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"R$ 113.266,77"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Saldo"}),s.jsx("p",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:"R$ 45.678,90"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Despesas por Categoria"}),s.jsxs("select",{className:"px-3 py-1.5 bg-secondary-50 dark:bg-secondary-700 border border-secondary-200 dark:border-secondary-600 rounded-lg text-sm text-secondary-700 dark:text-secondary-300",children:[s.jsx("option",{value:"current",children:"Ms Atual"}),s.jsx("option",{value:"last",children:"Ms Anterior"}),s.jsx("option",{value:"year",children:"Ano Atual"})]})]}),s.jsx("div",{className:"h-[300px] relative",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("svg",{width:"250",height:"250",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e2e8f0",strokeWidth:"10"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#22c55e",strokeWidth:"10",strokeDasharray:"70.69 282.74",transform:"rotate(-90 50 50)"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#3b82f6",strokeWidth:"10",strokeDasharray:"141.37 282.74",transform:"rotate(-90 50 50)",strokeDashoffset:"-70.69"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#ef4444",strokeWidth:"10",strokeDasharray:"70.69 282.74",transform:"rotate(-90 50 50)",strokeDashoffset:"-212.06"})]})})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Folha de Pagamento"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 45.678,90"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Marketing"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 23.456,78"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Infraestrutura"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 18.234,56"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Ativos e Passivos"}),s.jsx(g4,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Total de Ativos"}),s.jsx("span",{className:"text-secondary-900 dark:text-white font-medium",children:"R$ 1.234.567,89"})]}),s.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"75%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Total de Passivos"}),s.jsx("span",{className:"text-secondary-900 dark:text-white font-medium",children:"R$ 567.890,12"})]}),s.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"35%"}})})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Rentabilidade"}),s.jsx(LD,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Margem de Lucro"}),s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"32.5%"}),s.jsx("span",{className:"ml-2 text-sm text-green-600 dark:text-green-400",children:"+2.1%"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"ROI"}),s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"18.9%"}),s.jsx("span",{className:"ml-2 text-sm text-green-600 dark:text-green-400",children:"+0.8%"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Projees"}),s.jsx(A1,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Receita Projetada"}),s.jsx("p",{className:"text-lg font-semibold text-secondary-900 dark:text-white mt-1",children:"R$ 198.765,43"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Despesa Projetada"}),s.jsx("p",{className:"text-lg font-semibold text-secondary-900 dark:text-white mt-1",children:"R$ 145.678,90"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Lucro Projetado"}),s.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mt-1",children:"R$ 53.086,53"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Estornos por Categoria"}),s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Distribuio dos valores de estorno por motivo"})]}),s.jsx(pm,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-[300px] relative",children:s.jsx("div",{className:"absolute inset-0",children:a.map((i,l)=>s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"h-8 rounded transition-all duration-500 ease-in-out",style:{width:`${i.value/o*100}%`,backgroundColor:i.color}}),s.jsx("span",{className:"ml-2 text-sm text-secondary-600 dark:text-secondary-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.value)})]},l))})}),s.jsxs("div",{className:"space-y-4",children:[a.map((i,l)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:i.color}}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:i.name})]}),s.jsxs("div",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[(i.value/o*100).toFixed(1),"%"]})]},l)),s.jsx("div",{className:"pt-4 mt-4 border-t border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Total de Estornos"}),s.jsx("span",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o)})]})})]})]})]})})]})}const qV=({onLogin:e})=>{const[t,r]=L.useState(1),[n,a]=L.useState(""),[o,i]=L.useState(""),[l,c]=L.useState(!1),[d,u]=L.useState(null),[f,b]=L.useState(""),[p,w]=L.useState(null),[g,A]=L.useState(!1),[v,j]=L.useState(!1),R=L.useRef(null),H=x=>{x.preventDefault(),t===1?U():F()},U=async()=>{w(null),A(!0);try{const x=await O0.preLogin({email:n,password:o}),{error:I,qrcode:S,message:C}=x;if(console.log(S),S&&u(S),I)throw new Error(C);j(!0),r(2),setTimeout(()=>{var y;(y=R.current)==null||y.focus()},100)}catch(x){console.error("Login error:",x),w(x.message||"Erro ao fazer login")}finally{A(!1)}},F=async()=>{w(null),A(!0);try{const x=await O0.login({email:n,password:o,google_auth_code:f}),{error:I,message:S,user:C,token:y}=x;if(I)throw new Error(S);localStorage.setItem("userId",C.id),localStorage.setItem("userName",C.name),localStorage.setItem("userEmail",C.email),localStorage.setItem("userToken",y),localStorage.setItem("userPermissions",JSON.stringify(C.permissions)),e()}catch(x){console.error("Login error:",x),w(x.message||"Erro ao fazer login")}finally{A(!1)}};return s.jsx("div",{className:"min-h-screen flex",children:s.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-[url('/src/assets/bg2.png')] bg-cover bg-center",children:s.jsxs("div",{className:"w-full max-w-md",children:[p&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:p})}),s.jsxs("form",{onSubmit:H,className:"space-y-10 px-8 py-16 bg-[#34495e] dark:bg-gray-800",children:[!(d||v)&&s.jsx("div",{className:"py-16 bg-[url('/src/assets/logo-white.png')] bg-contain bg-center bg-no-repeat"}),!(d||v)&&s.jsx("h1",{className:"text-center text-xl text-white dark:text-gray-200 font-bold",children:"SISTEMA FINANCEIRO"}),!(d||v)&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white dark:text-gray-300",children:"E-MAIL"}),s.jsx("input",{type:"email",id:"email",value:n,onChange:x=>a(x.target.value),placeholder:"",className:"mt-1 block w-full pb-2 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500 dark:bg-transparent bg-transparent text-white sm:text-sm",required:!0})]}),!(d||v)&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white dark:text-gray-300",children:"SENHA"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:l?"text":"password",id:"password",value:o,onChange:x=>i(x.target.value),placeholder:"",className:"mt-1 block w-full pb-2 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500 dark:bg-transparent bg-transparent text-white sm:text-sm",required:!0}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 rounded-3xl right-0 px-3 flex items-center text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:l?s.jsx(OD,{className:"h-4 w-4"}):s.jsx(Qd,{className:"h-4 w-4"})})]})]}),!(d||v)&&s.jsx("button",{type:"submit",disabled:g,className:"w-full flex rounded-3xl justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium text-white bg-blue-400 dark:bg-gray-600 hover:bg-blue-500 dark:hover:bg-slate-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Entrando...":"ACESSAR"}),(d||v)&&s.jsxs("div",{className:"flex-col justify-center items-center",children:[s.jsx("div",{className:"py-24 bg-[url('/src/assets/google_auth_logo.png')] bg-contain bg-center bg-no-repeat"}),d&&s.jsx("h2",{className:"text-center text-white dark:text-gray-200 mb-4",children:"Faa a leitura do QR Code no seu app de autenticao (Google Authenticator)"}),d&&s.jsx("img",{src:d,alt:"QR Code",className:"w-96 h-96"}),d&&s.jsx("h2",{className:"text-center text-white dark:text-gray-200 mb-4 mt-12",children:"Insira abaixo o cdigo de autenticao gerado pelo app (Google Authenticator)"}),!d&&s.jsx("h2",{className:"text-center text-white dark:text-gray-200 mb-4",children:"Insira abaixo o cdigo de autenticao gerado pelo app (Google Authenticator)"}),s.jsx("input",{ref:R,type:"text",value:f,onChange:x=>b(x.target.value),placeholder:"Cdigo de autenticao",className:"mt-1 block w-full p-2 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500 dark:bg-transparent bg-transparent text-white sm:text-sm",required:!0}),s.jsx("button",{type:"submit",disabled:g,className:"w-full flex rounded-3xl justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium text-white bg-blue-400 dark:bg-gray-600 hover:bg-blue-500 dark:hover:bg-slate-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-4",children:g?"Validando...":"VALIDAR"}),s.jsx("button",{type:"button",disabled:g,onClick:()=>{b(""),j(!1),u(null),r(1)},className:"w-full flex rounded-3xl justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium text-white dark:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-4",children:"VOLTAR PARA O LOGIN"})]})]})]})})})};var Cy={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var dk;function mb(){return dk||(dk=1,function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:ms,function(t,r){var n=[],a=Object.getPrototypeOf,o=n.slice,i=n.flat?function(m){return n.flat.call(m)}:function(m){return n.concat.apply([],m)},l=n.push,c=n.indexOf,d={},u=d.toString,f=d.hasOwnProperty,b=f.toString,p=b.call(Object),w={},g=function(_){return typeof _=="function"&&typeof _.nodeType!="number"&&typeof _.item!="function"},A=function(_){return _!=null&&_===_.window},v=t.document,j={type:!0,src:!0,nonce:!0,noModule:!0};function R(m,_,O){O=O||v;var z,K,Y=O.createElement("script");if(Y.text=m,_)for(z in j)K=_[z]||_.getAttribute&&_.getAttribute(z),K&&Y.setAttribute(z,K);O.head.appendChild(Y).parentNode.removeChild(Y)}function H(m){return m==null?m+"":typeof m=="object"||typeof m=="function"?d[u.call(m)]||"object":typeof m}var U="3.7.1",F=/HTML$/i,x=function(m,_){return new x.fn.init(m,_)};x.fn=x.prototype={jquery:U,constructor:x,length:0,toArray:function(){return o.call(this)},get:function(m){return m==null?o.call(this):m<0?this[m+this.length]:this[m]},pushStack:function(m){var _=x.merge(this.constructor(),m);return _.prevObject=this,_},each:function(m){return x.each(this,m)},map:function(m){return this.pushStack(x.map(this,function(_,O){return m.call(_,O,_)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,function(m,_){return(_+1)%2}))},odd:function(){return this.pushStack(x.grep(this,function(m,_){return _%2}))},eq:function(m){var _=this.length,O=+m+(m<0?_:0);return this.pushStack(O>=0&&O<_?[this[O]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:n.sort,splice:n.splice},x.extend=x.fn.extend=function(){var m,_,O,z,K,Y,ne=arguments[0]||{},ve=1,xe=arguments.length,Se=!1;for(typeof ne=="boolean"&&(Se=ne,ne=arguments[ve]||{},ve++),typeof ne!="object"&&!g(ne)&&(ne={}),ve===xe&&(ne=this,ve--);ve<xe;ve++)if((m=arguments[ve])!=null)for(_ in m)z=m[_],!(_==="__proto__"||ne===z)&&(Se&&z&&(x.isPlainObject(z)||(K=Array.isArray(z)))?(O=ne[_],K&&!Array.isArray(O)?Y=[]:!K&&!x.isPlainObject(O)?Y={}:Y=O,K=!1,ne[_]=x.extend(Se,Y,z)):z!==void 0&&(ne[_]=z));return ne},x.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(m){throw new Error(m)},noop:function(){},isPlainObject:function(m){var _,O;return!m||u.call(m)!=="[object Object]"?!1:(_=a(m),_?(O=f.call(_,"constructor")&&_.constructor,typeof O=="function"&&b.call(O)===p):!0)},isEmptyObject:function(m){var _;for(_ in m)return!1;return!0},globalEval:function(m,_,O){R(m,{nonce:_&&_.nonce},O)},each:function(m,_){var O,z=0;if(I(m))for(O=m.length;z<O&&_.call(m[z],z,m[z])!==!1;z++);else for(z in m)if(_.call(m[z],z,m[z])===!1)break;return m},text:function(m){var _,O="",z=0,K=m.nodeType;if(!K)for(;_=m[z++];)O+=x.text(_);return K===1||K===11?m.textContent:K===9?m.documentElement.textContent:K===3||K===4?m.nodeValue:O},makeArray:function(m,_){var O=_||[];return m!=null&&(I(Object(m))?x.merge(O,typeof m=="string"?[m]:m):l.call(O,m)),O},inArray:function(m,_,O){return _==null?-1:c.call(_,m,O)},isXMLDoc:function(m){var _=m&&m.namespaceURI,O=m&&(m.ownerDocument||m).documentElement;return!F.test(_||O&&O.nodeName||"HTML")},merge:function(m,_){for(var O=+_.length,z=0,K=m.length;z<O;z++)m[K++]=_[z];return m.length=K,m},grep:function(m,_,O){for(var z,K=[],Y=0,ne=m.length,ve=!O;Y<ne;Y++)z=!_(m[Y],Y),z!==ve&&K.push(m[Y]);return K},map:function(m,_,O){var z,K,Y=0,ne=[];if(I(m))for(z=m.length;Y<z;Y++)K=_(m[Y],Y,O),K!=null&&ne.push(K);else for(Y in m)K=_(m[Y],Y,O),K!=null&&ne.push(K);return i(ne)},guid:1,support:w}),typeof Symbol=="function"&&(x.fn[Symbol.iterator]=n[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(m,_){d["[object "+_+"]"]=_.toLowerCase()});function I(m){var _=!!m&&"length"in m&&m.length,O=H(m);return g(m)||A(m)?!1:O==="array"||_===0||typeof _=="number"&&_>0&&_-1 in m}function S(m,_){return m.nodeName&&m.nodeName.toLowerCase()===_.toLowerCase()}var C=n.pop,y=n.sort,k=n.splice,P="[\\x20\\t\\r\\n\\f]",E=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");x.contains=function(m,_){var O=_&&_.parentNode;return m===O||!!(O&&O.nodeType===1&&(m.contains?m.contains(O):m.compareDocumentPosition&&m.compareDocumentPosition(O)&16))};var q=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function B(m,_){return _?m==="\0"?"":m.slice(0,-1)+"\\"+m.charCodeAt(m.length-1).toString(16)+" ":"\\"+m}x.escapeSelector=function(m){return(m+"").replace(q,B)};var G=v,V=l;(function(){var m,_,O,z,K,Y=V,ne,ve,xe,Se,Ue,Je=x.expando,Oe=0,at=0,Et=So(),er=So(),qt=So(),nn=So(),D=function(fe,ke){return fe===ke&&(K=!0),0},X="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",me="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",be="\\["+P+"*("+me+")(?:"+P+"*([*^$|!~]?=)"+P+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+me+"))|)"+P+"*\\]",Pe=":("+me+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+be+")*)|.*)\\)|)",Ie=new RegExp(P+"+","g"),Ke=new RegExp("^"+P+"*,"+P+"*"),ht=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),jt=new RegExp(P+"|>"),At=new RegExp(Pe),Ot=new RegExp("^"+me+"$"),Wt={ID:new RegExp("^#("+me+")"),CLASS:new RegExp("^\\.("+me+")"),TAG:new RegExp("^("+me+"|[*])"),ATTR:new RegExp("^"+be),PSEUDO:new RegExp("^"+Pe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+X+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},gr=/^(?:input|select|textarea|button)$/i,xr=/^h\d$/i,fr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_n=/[+~]/,Tr=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),gn=function(fe,ke){var Le="0x"+fe.slice(1)-65536;return ke||(Le<0?String.fromCharCode(Le+65536):String.fromCharCode(Le>>10|55296,Le&1023|56320))},ja=function(){Na()},_s=_o(function(fe){return fe.disabled===!0&&S(fe,"fieldset")},{dir:"parentNode",next:"legend"});function Bc(){try{return ne.activeElement}catch{}}try{Y.apply(n=o.call(G.childNodes),G.childNodes),n[G.childNodes.length].nodeType}catch{Y={apply:function(ke,Le){V.apply(ke,o.call(Le))},call:function(ke){V.apply(ke,o.call(arguments,1))}}}function dr(fe,ke,Le,Be){var We,ot,it,xt,ct,Mt,Ct,Ft=ke&&ke.ownerDocument,Yt=ke?ke.nodeType:9;if(Le=Le||[],typeof fe!="string"||!fe||Yt!==1&&Yt!==9&&Yt!==11)return Le;if(!Be&&(Na(ke),ke=ke||ne,xe)){if(Yt!==11&&(ct=fr.exec(fe)))if(We=ct[1]){if(Yt===9)if(it=ke.getElementById(We)){if(it.id===We)return Y.call(Le,it),Le}else return Le;else if(Ft&&(it=Ft.getElementById(We))&&dr.contains(ke,it)&&it.id===We)return Y.call(Le,it),Le}else{if(ct[2])return Y.apply(Le,ke.getElementsByTagName(fe)),Le;if((We=ct[3])&&ke.getElementsByClassName)return Y.apply(Le,ke.getElementsByClassName(We)),Le}if(!nn[fe+" "]&&(!Se||!Se.test(fe))){if(Ct=fe,Ft=ke,Yt===1&&(jt.test(fe)||ht.test(fe))){for(Ft=_n.test(fe)&&Co(ke.parentNode)||ke,(Ft!=ke||!w.scope)&&((xt=ke.getAttribute("id"))?xt=x.escapeSelector(xt):ke.setAttribute("id",xt=Je)),Mt=An(fe),ot=Mt.length;ot--;)Mt[ot]=(xt?"#"+xt:":scope")+" "+Bi(Mt[ot]);Ct=Mt.join(",")}try{return Y.apply(Le,Ft.querySelectorAll(Ct)),Le}catch{nn(fe,!0)}finally{xt===Je&&ke.removeAttribute("id")}}}return ra(fe.replace(E,"$1"),ke,Le,Be)}function So(){var fe=[];function ke(Le,Be){return fe.push(Le+" ")>_.cacheLength&&delete ke[fe.shift()],ke[Le+" "]=Be}return ke}function Vn(fe){return fe[Je]=!0,fe}function Es(fe){var ke=ne.createElement("fieldset");try{return!!fe(ke)}catch{return!1}finally{ke.parentNode&&ke.parentNode.removeChild(ke),ke=null}}function Vl(fe){return function(ke){return S(ke,"input")&&ke.type===fe}}function Mi(fe){return function(ke){return(S(ke,"input")||S(ke,"button"))&&ke.type===fe}}function En(fe){return function(ke){return"form"in ke?ke.parentNode&&ke.disabled===!1?"label"in ke?"label"in ke.parentNode?ke.parentNode.disabled===fe:ke.disabled===fe:ke.isDisabled===fe||ke.isDisabled!==!fe&&_s(ke)===fe:ke.disabled===fe:"label"in ke?ke.disabled===fe:!1}}function Ma(fe){return Vn(function(ke){return ke=+ke,Vn(function(Le,Be){for(var We,ot=fe([],Le.length,ke),it=ot.length;it--;)Le[We=ot[it]]&&(Le[We]=!(Be[We]=Le[We]))})})}function Co(fe){return fe&&typeof fe.getElementsByTagName<"u"&&fe}function Na(fe){var ke,Le=fe?fe.ownerDocument||fe:G;return Le==ne||Le.nodeType!==9||!Le.documentElement||(ne=Le,ve=ne.documentElement,xe=!x.isXMLDoc(ne),Ue=ve.matches||ve.webkitMatchesSelector||ve.msMatchesSelector,ve.msMatchesSelector&&G!=ne&&(ke=ne.defaultView)&&ke.top!==ke&&ke.addEventListener("unload",ja),w.getById=Es(function(Be){return ve.appendChild(Be).id=x.expando,!ne.getElementsByName||!ne.getElementsByName(x.expando).length}),w.disconnectedMatch=Es(function(Be){return Ue.call(Be,"*")}),w.scope=Es(function(){return ne.querySelectorAll(":scope")}),w.cssHas=Es(function(){try{return ne.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(_.filter.ID=function(Be){var We=Be.replace(Tr,gn);return function(ot){return ot.getAttribute("id")===We}},_.find.ID=function(Be,We){if(typeof We.getElementById<"u"&&xe){var ot=We.getElementById(Be);return ot?[ot]:[]}}):(_.filter.ID=function(Be){var We=Be.replace(Tr,gn);return function(ot){var it=typeof ot.getAttributeNode<"u"&&ot.getAttributeNode("id");return it&&it.value===We}},_.find.ID=function(Be,We){if(typeof We.getElementById<"u"&&xe){var ot,it,xt,ct=We.getElementById(Be);if(ct){if(ot=ct.getAttributeNode("id"),ot&&ot.value===Be)return[ct];for(xt=We.getElementsByName(Be),it=0;ct=xt[it++];)if(ot=ct.getAttributeNode("id"),ot&&ot.value===Be)return[ct]}return[]}}),_.find.TAG=function(Be,We){return typeof We.getElementsByTagName<"u"?We.getElementsByTagName(Be):We.querySelectorAll(Be)},_.find.CLASS=function(Be,We){if(typeof We.getElementsByClassName<"u"&&xe)return We.getElementsByClassName(Be)},Se=[],Es(function(Be){var We;ve.appendChild(Be).innerHTML="<a id='"+Je+"' href='' disabled='disabled'></a><select id='"+Je+"-\r\\' disabled='disabled'><option selected=''></option></select>",Be.querySelectorAll("[selected]").length||Se.push("\\["+P+"*(?:value|"+X+")"),Be.querySelectorAll("[id~="+Je+"-]").length||Se.push("~="),Be.querySelectorAll("a#"+Je+"+*").length||Se.push(".#.+[+~]"),Be.querySelectorAll(":checked").length||Se.push(":checked"),We=ne.createElement("input"),We.setAttribute("type","hidden"),Be.appendChild(We).setAttribute("name","D"),ve.appendChild(Be).disabled=!0,Be.querySelectorAll(":disabled").length!==2&&Se.push(":enabled",":disabled"),We=ne.createElement("input"),We.setAttribute("name",""),Be.appendChild(We),Be.querySelectorAll("[name='']").length||Se.push("\\["+P+"*name"+P+"*="+P+`*(?:''|"")`)}),w.cssHas||Se.push(":has"),Se=Se.length&&new RegExp(Se.join("|")),D=function(Be,We){if(Be===We)return K=!0,0;var ot=!Be.compareDocumentPosition-!We.compareDocumentPosition;return ot||(ot=(Be.ownerDocument||Be)==(We.ownerDocument||We)?Be.compareDocumentPosition(We):1,ot&1||!w.sortDetached&&We.compareDocumentPosition(Be)===ot?Be===ne||Be.ownerDocument==G&&dr.contains(G,Be)?-1:We===ne||We.ownerDocument==G&&dr.contains(G,We)?1:z?c.call(z,Be)-c.call(z,We):0:ot&4?-1:1)}),ne}dr.matches=function(fe,ke){return dr(fe,null,null,ke)},dr.matchesSelector=function(fe,ke){if(Na(fe),xe&&!nn[ke+" "]&&(!Se||!Se.test(ke)))try{var Le=Ue.call(fe,ke);if(Le||w.disconnectedMatch||fe.document&&fe.document.nodeType!==11)return Le}catch{nn(ke,!0)}return dr(ke,ne,null,[fe]).length>0},dr.contains=function(fe,ke){return(fe.ownerDocument||fe)!=ne&&Na(fe),x.contains(fe,ke)},dr.attr=function(fe,ke){(fe.ownerDocument||fe)!=ne&&Na(fe);var Le=_.attrHandle[ke.toLowerCase()],Be=Le&&f.call(_.attrHandle,ke.toLowerCase())?Le(fe,ke,!xe):void 0;return Be!==void 0?Be:fe.getAttribute(ke)},dr.error=function(fe){throw new Error("Syntax error, unrecognized expression: "+fe)},x.uniqueSort=function(fe){var ke,Le=[],Be=0,We=0;if(K=!w.sortStable,z=!w.sortStable&&o.call(fe,0),y.call(fe,D),K){for(;ke=fe[We++];)ke===fe[We]&&(Be=Le.push(We));for(;Be--;)k.call(fe,Le[Be],1)}return z=null,fe},x.fn.uniqueSort=function(){return this.pushStack(x.uniqueSort(o.apply(this)))},_=x.expr={cacheLength:50,createPseudo:Vn,match:Wt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(fe){return fe[1]=fe[1].replace(Tr,gn),fe[3]=(fe[3]||fe[4]||fe[5]||"").replace(Tr,gn),fe[2]==="~="&&(fe[3]=" "+fe[3]+" "),fe.slice(0,4)},CHILD:function(fe){return fe[1]=fe[1].toLowerCase(),fe[1].slice(0,3)==="nth"?(fe[3]||dr.error(fe[0]),fe[4]=+(fe[4]?fe[5]+(fe[6]||1):2*(fe[3]==="even"||fe[3]==="odd")),fe[5]=+(fe[7]+fe[8]||fe[3]==="odd")):fe[3]&&dr.error(fe[0]),fe},PSEUDO:function(fe){var ke,Le=!fe[6]&&fe[2];return Wt.CHILD.test(fe[0])?null:(fe[3]?fe[2]=fe[4]||fe[5]||"":Le&&At.test(Le)&&(ke=An(Le,!0))&&(ke=Le.indexOf(")",Le.length-ke)-Le.length)&&(fe[0]=fe[0].slice(0,ke),fe[2]=Le.slice(0,ke)),fe.slice(0,3))}},filter:{TAG:function(fe){var ke=fe.replace(Tr,gn).toLowerCase();return fe==="*"?function(){return!0}:function(Le){return S(Le,ke)}},CLASS:function(fe){var ke=Et[fe+" "];return ke||(ke=new RegExp("(^|"+P+")"+fe+"("+P+"|$)"))&&Et(fe,function(Le){return ke.test(typeof Le.className=="string"&&Le.className||typeof Le.getAttribute<"u"&&Le.getAttribute("class")||"")})},ATTR:function(fe,ke,Le){return function(Be){var We=dr.attr(Be,fe);return We==null?ke==="!=":ke?(We+="",ke==="="?We===Le:ke==="!="?We!==Le:ke==="^="?Le&&We.indexOf(Le)===0:ke==="*="?Le&&We.indexOf(Le)>-1:ke==="$="?Le&&We.slice(-Le.length)===Le:ke==="~="?(" "+We.replace(Ie," ")+" ").indexOf(Le)>-1:ke==="|="?We===Le||We.slice(0,Le.length+1)===Le+"-":!1):!0}},CHILD:function(fe,ke,Le,Be,We){var ot=fe.slice(0,3)!=="nth",it=fe.slice(-4)!=="last",xt=ke==="of-type";return Be===1&&We===0?function(ct){return!!ct.parentNode}:function(ct,Mt,Ct){var Ft,Yt,kt,ur,an,Zr=ot!==it?"nextSibling":"previousSibling",Bn=ct.parentNode,Hn=xt&&ct.nodeName.toLowerCase(),Sa=!Ct&&!xt,yn=!1;if(Bn){if(ot){for(;Zr;){for(kt=ct;kt=kt[Zr];)if(xt?S(kt,Hn):kt.nodeType===1)return!1;an=Zr=fe==="only"&&!an&&"nextSibling"}return!0}if(an=[it?Bn.firstChild:Bn.lastChild],it&&Sa){for(Yt=Bn[Je]||(Bn[Je]={}),Ft=Yt[fe]||[],ur=Ft[0]===Oe&&Ft[1],yn=ur&&Ft[2],kt=ur&&Bn.childNodes[ur];kt=++ur&&kt&&kt[Zr]||(yn=ur=0)||an.pop();)if(kt.nodeType===1&&++yn&&kt===ct){Yt[fe]=[Oe,ur,yn];break}}else if(Sa&&(Yt=ct[Je]||(ct[Je]={}),Ft=Yt[fe]||[],ur=Ft[0]===Oe&&Ft[1],yn=ur),yn===!1)for(;(kt=++ur&&kt&&kt[Zr]||(yn=ur=0)||an.pop())&&!((xt?S(kt,Hn):kt.nodeType===1)&&++yn&&(Sa&&(Yt=kt[Je]||(kt[Je]={}),Yt[fe]=[Oe,yn]),kt===ct)););return yn-=We,yn===Be||yn%Be===0&&yn/Be>=0}}},PSEUDO:function(fe,ke){var Le,Be=_.pseudos[fe]||_.setFilters[fe.toLowerCase()]||dr.error("unsupported pseudo: "+fe);return Be[Je]?Be(ke):Be.length>1?(Le=[fe,fe,"",ke],_.setFilters.hasOwnProperty(fe.toLowerCase())?Vn(function(We,ot){for(var it,xt=Be(We,ke),ct=xt.length;ct--;)it=c.call(We,xt[ct]),We[it]=!(ot[it]=xt[ct])}):function(We){return Be(We,0,Le)}):Be}},pseudos:{not:Vn(function(fe){var ke=[],Le=[],Be=Xs(fe.replace(E,"$1"));return Be[Je]?Vn(function(We,ot,it,xt){for(var ct,Mt=Be(We,null,xt,[]),Ct=We.length;Ct--;)(ct=Mt[Ct])&&(We[Ct]=!(ot[Ct]=ct))}):function(We,ot,it){return ke[0]=We,Be(ke,null,it,Le),ke[0]=null,!Le.pop()}}),has:Vn(function(fe){return function(ke){return dr(fe,ke).length>0}}),contains:Vn(function(fe){return fe=fe.replace(Tr,gn),function(ke){return(ke.textContent||x.text(ke)).indexOf(fe)>-1}}),lang:Vn(function(fe){return Ot.test(fe||"")||dr.error("unsupported lang: "+fe),fe=fe.replace(Tr,gn).toLowerCase(),function(ke){var Le;do if(Le=xe?ke.lang:ke.getAttribute("xml:lang")||ke.getAttribute("lang"))return Le=Le.toLowerCase(),Le===fe||Le.indexOf(fe+"-")===0;while((ke=ke.parentNode)&&ke.nodeType===1);return!1}}),target:function(fe){var ke=t.location&&t.location.hash;return ke&&ke.slice(1)===fe.id},root:function(fe){return fe===ve},focus:function(fe){return fe===Bc()&&ne.hasFocus()&&!!(fe.type||fe.href||~fe.tabIndex)},enabled:En(!1),disabled:En(!0),checked:function(fe){return S(fe,"input")&&!!fe.checked||S(fe,"option")&&!!fe.selected},selected:function(fe){return fe.parentNode&&fe.parentNode.selectedIndex,fe.selected===!0},empty:function(fe){for(fe=fe.firstChild;fe;fe=fe.nextSibling)if(fe.nodeType<6)return!1;return!0},parent:function(fe){return!_.pseudos.empty(fe)},header:function(fe){return xr.test(fe.nodeName)},input:function(fe){return gr.test(fe.nodeName)},button:function(fe){return S(fe,"input")&&fe.type==="button"||S(fe,"button")},text:function(fe){var ke;return S(fe,"input")&&fe.type==="text"&&((ke=fe.getAttribute("type"))==null||ke.toLowerCase()==="text")},first:Ma(function(){return[0]}),last:Ma(function(fe,ke){return[ke-1]}),eq:Ma(function(fe,ke,Le){return[Le<0?Le+ke:Le]}),even:Ma(function(fe,ke){for(var Le=0;Le<ke;Le+=2)fe.push(Le);return fe}),odd:Ma(function(fe,ke){for(var Le=1;Le<ke;Le+=2)fe.push(Le);return fe}),lt:Ma(function(fe,ke,Le){var Be;for(Le<0?Be=Le+ke:Le>ke?Be=ke:Be=Le;--Be>=0;)fe.push(Be);return fe}),gt:Ma(function(fe,ke,Le){for(var Be=Le<0?Le+ke:Le;++Be<ke;)fe.push(Be);return fe})}},_.pseudos.nth=_.pseudos.eq;for(m in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[m]=Vl(m);for(m in{submit:!0,reset:!0})_.pseudos[m]=Mi(m);function Fi(){}Fi.prototype=_.filters=_.pseudos,_.setFilters=new Fi;function An(fe,ke){var Le,Be,We,ot,it,xt,ct,Mt=er[fe+" "];if(Mt)return ke?0:Mt.slice(0);for(it=fe,xt=[],ct=_.preFilter;it;){(!Le||(Be=Ke.exec(it)))&&(Be&&(it=it.slice(Be[0].length)||it),xt.push(We=[])),Le=!1,(Be=ht.exec(it))&&(Le=Be.shift(),We.push({value:Le,type:Be[0].replace(E," ")}),it=it.slice(Le.length));for(ot in _.filter)(Be=Wt[ot].exec(it))&&(!ct[ot]||(Be=ct[ot](Be)))&&(Le=Be.shift(),We.push({value:Le,type:ot,matches:Be}),it=it.slice(Le.length));if(!Le)break}return ke?it.length:it?dr.error(fe):er(fe,xt).slice(0)}function Bi(fe){for(var ke=0,Le=fe.length,Be="";ke<Le;ke++)Be+=fe[ke].value;return Be}function _o(fe,ke,Le){var Be=ke.dir,We=ke.next,ot=We||Be,it=Le&&ot==="parentNode",xt=at++;return ke.first?function(ct,Mt,Ct){for(;ct=ct[Be];)if(ct.nodeType===1||it)return fe(ct,Mt,Ct);return!1}:function(ct,Mt,Ct){var Ft,Yt,kt=[Oe,xt];if(Ct){for(;ct=ct[Be];)if((ct.nodeType===1||it)&&fe(ct,Mt,Ct))return!0}else for(;ct=ct[Be];)if(ct.nodeType===1||it)if(Yt=ct[Je]||(ct[Je]={}),We&&S(ct,We))ct=ct[Be]||ct;else{if((Ft=Yt[ot])&&Ft[0]===Oe&&Ft[1]===xt)return kt[2]=Ft[2];if(Yt[ot]=kt,kt[2]=fe(ct,Mt,Ct))return!0}return!1}}function $i(fe){return fe.length>1?function(ke,Le,Be){for(var We=fe.length;We--;)if(!fe[We](ke,Le,Be))return!1;return!0}:fe[0]}function Fa(fe,ke,Le){for(var Be=0,We=ke.length;Be<We;Be++)dr(fe,ke[Be],Le);return Le}function Ys(fe,ke,Le,Be,We){for(var ot,it=[],xt=0,ct=fe.length,Mt=ke!=null;xt<ct;xt++)(ot=fe[xt])&&(!Le||Le(ot,Be,We))&&(it.push(ot),Mt&&ke.push(xt));return it}function qi(fe,ke,Le,Be,We,ot){return Be&&!Be[Je]&&(Be=qi(Be)),We&&!We[Je]&&(We=qi(We,ot)),Vn(function(it,xt,ct,Mt){var Ct,Ft,Yt,kt,ur=[],an=[],Zr=xt.length,Bn=it||Fa(ke||"*",ct.nodeType?[ct]:ct,[]),Hn=fe&&(it||!ke)?Ys(Bn,ur,fe,ct,Mt):Bn;if(Le?(kt=We||(it?fe:Zr||Be)?[]:xt,Le(Hn,kt,ct,Mt)):kt=Hn,Be)for(Ct=Ys(kt,an),Be(Ct,[],ct,Mt),Ft=Ct.length;Ft--;)(Yt=Ct[Ft])&&(kt[an[Ft]]=!(Hn[an[Ft]]=Yt));if(it){if(We||fe){if(We){for(Ct=[],Ft=kt.length;Ft--;)(Yt=kt[Ft])&&Ct.push(Hn[Ft]=Yt);We(null,kt=[],Ct,Mt)}for(Ft=kt.length;Ft--;)(Yt=kt[Ft])&&(Ct=We?c.call(it,Yt):ur[Ft])>-1&&(it[Ct]=!(xt[Ct]=Yt))}}else kt=Ys(kt===xt?kt.splice(Zr,kt.length):kt),We?We(null,xt,kt,Mt):Y.apply(xt,kt)})}function Ui(fe){for(var ke,Le,Be,We=fe.length,ot=_.relative[fe[0].type],it=ot||_.relative[" "],xt=ot?1:0,ct=_o(function(Ft){return Ft===ke},it,!0),Mt=_o(function(Ft){return c.call(ke,Ft)>-1},it,!0),Ct=[function(Ft,Yt,kt){var ur=!ot&&(kt||Yt!=O)||((ke=Yt).nodeType?ct(Ft,Yt,kt):Mt(Ft,Yt,kt));return ke=null,ur}];xt<We;xt++)if(Le=_.relative[fe[xt].type])Ct=[_o($i(Ct),Le)];else{if(Le=_.filter[fe[xt].type].apply(null,fe[xt].matches),Le[Je]){for(Be=++xt;Be<We&&!_.relative[fe[Be].type];Be++);return qi(xt>1&&$i(Ct),xt>1&&Bi(fe.slice(0,xt-1).concat({value:fe[xt-2].type===" "?"*":""})).replace(E,"$1"),Le,xt<Be&&Ui(fe.slice(xt,Be)),Be<We&&Ui(fe=fe.slice(Be)),Be<We&&Bi(fe))}Ct.push(Le)}return $i(Ct)}function Eo(fe,ke){var Le=ke.length>0,Be=fe.length>0,We=function(ot,it,xt,ct,Mt){var Ct,Ft,Yt,kt=0,ur="0",an=ot&&[],Zr=[],Bn=O,Hn=ot||Be&&_.find.TAG("*",Mt),Sa=Oe+=Bn==null?1:Math.random()||.1,yn=Hn.length;for(Mt&&(O=it==ne||it||Mt);ur!==yn&&(Ct=Hn[ur])!=null;ur++){if(Be&&Ct){for(Ft=0,!it&&Ct.ownerDocument!=ne&&(Na(Ct),xt=!xe);Yt=fe[Ft++];)if(Yt(Ct,it||ne,xt)){Y.call(ct,Ct);break}Mt&&(Oe=Sa)}Le&&((Ct=!Yt&&Ct)&&kt--,ot&&an.push(Ct))}if(kt+=ur,Le&&ur!==kt){for(Ft=0;Yt=ke[Ft++];)Yt(an,Zr,it,xt);if(ot){if(kt>0)for(;ur--;)an[ur]||Zr[ur]||(Zr[ur]=C.call(ct));Zr=Ys(Zr)}Y.apply(ct,Zr),Mt&&!ot&&Zr.length>0&&kt+ke.length>1&&x.uniqueSort(ct)}return Mt&&(Oe=Sa,O=Bn),an};return Le?Vn(We):We}function Xs(fe,ke){var Le,Be=[],We=[],ot=qt[fe+" "];if(!ot){for(ke||(ke=An(fe)),Le=ke.length;Le--;)ot=Ui(ke[Le]),ot[Je]?Be.push(ot):We.push(ot);ot=qt(fe,Eo(We,Be)),ot.selector=fe}return ot}function ra(fe,ke,Le,Be){var We,ot,it,xt,ct,Mt=typeof fe=="function"&&fe,Ct=!Be&&An(fe=Mt.selector||fe);if(Le=Le||[],Ct.length===1){if(ot=Ct[0]=Ct[0].slice(0),ot.length>2&&(it=ot[0]).type==="ID"&&ke.nodeType===9&&xe&&_.relative[ot[1].type]){if(ke=(_.find.ID(it.matches[0].replace(Tr,gn),ke)||[])[0],ke)Mt&&(ke=ke.parentNode);else return Le;fe=fe.slice(ot.shift().value.length)}for(We=Wt.needsContext.test(fe)?0:ot.length;We--&&(it=ot[We],!_.relative[xt=it.type]);)if((ct=_.find[xt])&&(Be=ct(it.matches[0].replace(Tr,gn),_n.test(ot[0].type)&&Co(ke.parentNode)||ke))){if(ot.splice(We,1),fe=Be.length&&Bi(ot),!fe)return Y.apply(Le,Be),Le;break}}return(Mt||Xs(fe,Ct))(Be,ke,!xe,Le,!ke||_n.test(fe)&&Co(ke.parentNode)||ke),Le}w.sortStable=Je.split("").sort(D).join("")===Je,Na(),w.sortDetached=Es(function(fe){return fe.compareDocumentPosition(ne.createElement("fieldset"))&1}),x.find=dr,x.expr[":"]=x.expr.pseudos,x.unique=x.uniqueSort,dr.compile=Xs,dr.select=ra,dr.setDocument=Na,dr.tokenize=An,dr.escape=x.escapeSelector,dr.getText=x.text,dr.isXML=x.isXMLDoc,dr.selectors=x.expr,dr.support=x.support,dr.uniqueSort=x.uniqueSort})();var ee=function(m,_,O){for(var z=[],K=O!==void 0;(m=m[_])&&m.nodeType!==9;)if(m.nodeType===1){if(K&&x(m).is(O))break;z.push(m)}return z},le=function(m,_){for(var O=[];m;m=m.nextSibling)m.nodeType===1&&m!==_&&O.push(m);return O},Q=x.expr.match.needsContext,M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(m,_,O){return g(_)?x.grep(m,function(z,K){return!!_.call(z,K,z)!==O}):_.nodeType?x.grep(m,function(z){return z===_!==O}):typeof _!="string"?x.grep(m,function(z){return c.call(_,z)>-1!==O}):x.filter(_,m,O)}x.filter=function(m,_,O){var z=_[0];return O&&(m=":not("+m+")"),_.length===1&&z.nodeType===1?x.find.matchesSelector(z,m)?[z]:[]:x.find.matches(m,x.grep(_,function(K){return K.nodeType===1}))},x.fn.extend({find:function(m){var _,O,z=this.length,K=this;if(typeof m!="string")return this.pushStack(x(m).filter(function(){for(_=0;_<z;_++)if(x.contains(K[_],this))return!0}));for(O=this.pushStack([]),_=0;_<z;_++)x.find(m,K[_],O);return z>1?x.uniqueSort(O):O},filter:function(m){return this.pushStack(J(this,m||[],!1))},not:function(m){return this.pushStack(J(this,m||[],!0))},is:function(m){return!!J(this,typeof m=="string"&&Q.test(m)?x(m):m||[],!1).length}});var te,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ie=x.fn.init=function(m,_,O){var z,K;if(!m)return this;if(O=O||te,typeof m=="string")if(m[0]==="<"&&m[m.length-1]===">"&&m.length>=3?z=[null,m,null]:z=ue.exec(m),z&&(z[1]||!_))if(z[1]){if(_=_ instanceof x?_[0]:_,x.merge(this,x.parseHTML(z[1],_&&_.nodeType?_.ownerDocument||_:v,!0)),M.test(z[1])&&x.isPlainObject(_))for(z in _)g(this[z])?this[z](_[z]):this.attr(z,_[z]);return this}else return K=v.getElementById(z[2]),K&&(this[0]=K,this.length=1),this;else return!_||_.jquery?(_||O).find(m):this.constructor(_).find(m);else{if(m.nodeType)return this[0]=m,this.length=1,this;if(g(m))return O.ready!==void 0?O.ready(m):m(x)}return x.makeArray(m,this)};ie.prototype=x.fn,te=x(v);var de=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({has:function(m){var _=x(m,this),O=_.length;return this.filter(function(){for(var z=0;z<O;z++)if(x.contains(this,_[z]))return!0})},closest:function(m,_){var O,z=0,K=this.length,Y=[],ne=typeof m!="string"&&x(m);if(!Q.test(m)){for(;z<K;z++)for(O=this[z];O&&O!==_;O=O.parentNode)if(O.nodeType<11&&(ne?ne.index(O)>-1:O.nodeType===1&&x.find.matchesSelector(O,m))){Y.push(O);break}}return this.pushStack(Y.length>1?x.uniqueSort(Y):Y)},index:function(m){return m?typeof m=="string"?c.call(x(m),this[0]):c.call(this,m.jquery?m[0]:m):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(m,_){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(m,_))))},addBack:function(m){return this.add(m==null?this.prevObject:this.prevObject.filter(m))}});function pe(m,_){for(;(m=m[_])&&m.nodeType!==1;);return m}x.each({parent:function(m){var _=m.parentNode;return _&&_.nodeType!==11?_:null},parents:function(m){return ee(m,"parentNode")},parentsUntil:function(m,_,O){return ee(m,"parentNode",O)},next:function(m){return pe(m,"nextSibling")},prev:function(m){return pe(m,"previousSibling")},nextAll:function(m){return ee(m,"nextSibling")},prevAll:function(m){return ee(m,"previousSibling")},nextUntil:function(m,_,O){return ee(m,"nextSibling",O)},prevUntil:function(m,_,O){return ee(m,"previousSibling",O)},siblings:function(m){return le((m.parentNode||{}).firstChild,m)},children:function(m){return le(m.firstChild)},contents:function(m){return m.contentDocument!=null&&a(m.contentDocument)?m.contentDocument:(S(m,"template")&&(m=m.content||m),x.merge([],m.childNodes))}},function(m,_){x.fn[m]=function(O,z){var K=x.map(this,_,O);return m.slice(-5)!=="Until"&&(z=O),z&&typeof z=="string"&&(K=x.filter(z,K)),this.length>1&&(ye[m]||x.uniqueSort(K),de.test(m)&&K.reverse()),this.pushStack(K)}});var Ee=/[^\x20\t\r\n\f]+/g;function $e(m){var _={};return x.each(m.match(Ee)||[],function(O,z){_[z]=!0}),_}x.Callbacks=function(m){m=typeof m=="string"?$e(m):x.extend({},m);var _,O,z,K,Y=[],ne=[],ve=-1,xe=function(){for(K=K||m.once,z=_=!0;ne.length;ve=-1)for(O=ne.shift();++ve<Y.length;)Y[ve].apply(O[0],O[1])===!1&&m.stopOnFalse&&(ve=Y.length,O=!1);m.memory||(O=!1),_=!1,K&&(O?Y=[]:Y="")},Se={add:function(){return Y&&(O&&!_&&(ve=Y.length-1,ne.push(O)),function Ue(Je){x.each(Je,function(Oe,at){g(at)?(!m.unique||!Se.has(at))&&Y.push(at):at&&at.length&&H(at)!=="string"&&Ue(at)})}(arguments),O&&!_&&xe()),this},remove:function(){return x.each(arguments,function(Ue,Je){for(var Oe;(Oe=x.inArray(Je,Y,Oe))>-1;)Y.splice(Oe,1),Oe<=ve&&ve--}),this},has:function(Ue){return Ue?x.inArray(Ue,Y)>-1:Y.length>0},empty:function(){return Y&&(Y=[]),this},disable:function(){return K=ne=[],Y=O="",this},disabled:function(){return!Y},lock:function(){return K=ne=[],!O&&!_&&(Y=O=""),this},locked:function(){return!!K},fireWith:function(Ue,Je){return K||(Je=Je||[],Je=[Ue,Je.slice?Je.slice():Je],ne.push(Je),_||xe()),this},fire:function(){return Se.fireWith(this,arguments),this},fired:function(){return!!z}};return Se};function qe(m){return m}function Ye(m){throw m}function dt(m,_,O,z){var K;try{m&&g(K=m.promise)?K.call(m).done(_).fail(O):m&&g(K=m.then)?K.call(m,_,O):_.apply(void 0,[m].slice(z))}catch(Y){O.apply(void 0,[Y])}}x.extend({Deferred:function(m){var _=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],O="pending",z={state:function(){return O},always:function(){return K.done(arguments).fail(arguments),this},catch:function(Y){return z.then(null,Y)},pipe:function(){var Y=arguments;return x.Deferred(function(ne){x.each(_,function(ve,xe){var Se=g(Y[xe[4]])&&Y[xe[4]];K[xe[1]](function(){var Ue=Se&&Se.apply(this,arguments);Ue&&g(Ue.promise)?Ue.promise().progress(ne.notify).done(ne.resolve).fail(ne.reject):ne[xe[0]+"With"](this,Se?[Ue]:arguments)})}),Y=null}).promise()},then:function(Y,ne,ve){var xe=0;function Se(Ue,Je,Oe,at){return function(){var Et=this,er=arguments,qt=function(){var D,X;if(!(Ue<xe)){if(D=Oe.apply(Et,er),D===Je.promise())throw new TypeError("Thenable self-resolution");X=D&&(typeof D=="object"||typeof D=="function")&&D.then,g(X)?at?X.call(D,Se(xe,Je,qe,at),Se(xe,Je,Ye,at)):(xe++,X.call(D,Se(xe,Je,qe,at),Se(xe,Je,Ye,at),Se(xe,Je,qe,Je.notifyWith))):(Oe!==qe&&(Et=void 0,er=[D]),(at||Je.resolveWith)(Et,er))}},nn=at?qt:function(){try{qt()}catch(D){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(D,nn.error),Ue+1>=xe&&(Oe!==Ye&&(Et=void 0,er=[D]),Je.rejectWith(Et,er))}};Ue?nn():(x.Deferred.getErrorHook?nn.error=x.Deferred.getErrorHook():x.Deferred.getStackHook&&(nn.error=x.Deferred.getStackHook()),t.setTimeout(nn))}}return x.Deferred(function(Ue){_[0][3].add(Se(0,Ue,g(ve)?ve:qe,Ue.notifyWith)),_[1][3].add(Se(0,Ue,g(Y)?Y:qe)),_[2][3].add(Se(0,Ue,g(ne)?ne:Ye))}).promise()},promise:function(Y){return Y!=null?x.extend(Y,z):z}},K={};return x.each(_,function(Y,ne){var ve=ne[2],xe=ne[5];z[ne[1]]=ve.add,xe&&ve.add(function(){O=xe},_[3-Y][2].disable,_[3-Y][3].disable,_[0][2].lock,_[0][3].lock),ve.add(ne[3].fire),K[ne[0]]=function(){return K[ne[0]+"With"](this===K?void 0:this,arguments),this},K[ne[0]+"With"]=ve.fireWith}),z.promise(K),m&&m.call(K,K),K},when:function(m){var _=arguments.length,O=_,z=Array(O),K=o.call(arguments),Y=x.Deferred(),ne=function(ve){return function(xe){z[ve]=this,K[ve]=arguments.length>1?o.call(arguments):xe,--_||Y.resolveWith(z,K)}};if(_<=1&&(dt(m,Y.done(ne(O)).resolve,Y.reject,!_),Y.state()==="pending"||g(K[O]&&K[O].then)))return Y.then();for(;O--;)dt(K[O],ne(O),Y.reject);return Y.promise()}});var Me=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(m,_){t.console&&t.console.warn&&m&&Me.test(m.name)&&t.console.warn("jQuery.Deferred exception: "+m.message,m.stack,_)},x.readyException=function(m){t.setTimeout(function(){throw m})};var ge=x.Deferred();x.fn.ready=function(m){return ge.then(m).catch(function(_){x.readyException(_)}),this},x.extend({isReady:!1,readyWait:1,ready:function(m){(m===!0?--x.readyWait:x.isReady)||(x.isReady=!0,!(m!==!0&&--x.readyWait>0)&&ge.resolveWith(v,[x]))}}),x.ready.then=ge.then;function yt(){v.removeEventListener("DOMContentLoaded",yt),t.removeEventListener("load",yt),x.ready()}v.readyState==="complete"||v.readyState!=="loading"&&!v.documentElement.doScroll?t.setTimeout(x.ready):(v.addEventListener("DOMContentLoaded",yt),t.addEventListener("load",yt));var rt=function(m,_,O,z,K,Y,ne){var ve=0,xe=m.length,Se=O==null;if(H(O)==="object"){K=!0;for(ve in O)rt(m,_,ve,O[ve],!0,Y,ne)}else if(z!==void 0&&(K=!0,g(z)||(ne=!0),Se&&(ne?(_.call(m,z),_=null):(Se=_,_=function(Ue,Je,Oe){return Se.call(x(Ue),Oe)})),_))for(;ve<xe;ve++)_(m[ve],O,ne?z:z.call(m[ve],ve,_(m[ve],O)));return K?m:Se?_.call(m):xe?_(m[0],O):Y},Ge=/^-ms-/,et=/-([a-z])/g;function se(m,_){return _.toUpperCase()}function we(m){return m.replace(Ge,"ms-").replace(et,se)}var Ae=function(m){return m.nodeType===1||m.nodeType===9||!+m.nodeType};function tt(){this.expando=x.expando+tt.uid++}tt.uid=1,tt.prototype={cache:function(m){var _=m[this.expando];return _||(_={},Ae(m)&&(m.nodeType?m[this.expando]=_:Object.defineProperty(m,this.expando,{value:_,configurable:!0}))),_},set:function(m,_,O){var z,K=this.cache(m);if(typeof _=="string")K[we(_)]=O;else for(z in _)K[we(z)]=_[z];return K},get:function(m,_){return _===void 0?this.cache(m):m[this.expando]&&m[this.expando][we(_)]},access:function(m,_,O){return _===void 0||_&&typeof _=="string"&&O===void 0?this.get(m,_):(this.set(m,_,O),O!==void 0?O:_)},remove:function(m,_){var O,z=m[this.expando];if(z!==void 0){if(_!==void 0)for(Array.isArray(_)?_=_.map(we):(_=we(_),_=_ in z?[_]:_.match(Ee)||[]),O=_.length;O--;)delete z[_[O]];(_===void 0||x.isEmptyObject(z))&&(m.nodeType?m[this.expando]=void 0:delete m[this.expando])}},hasData:function(m){var _=m[this.expando];return _!==void 0&&!x.isEmptyObject(_)}};var Fe=new tt,st=new tt,Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/[A-Z]/g;function St(m){return m==="true"?!0:m==="false"?!1:m==="null"?null:m===+m+""?+m:Nt.test(m)?JSON.parse(m):m}function Kt(m,_,O){var z;if(O===void 0&&m.nodeType===1)if(z="data-"+_.replace(Tt,"-$&").toLowerCase(),O=m.getAttribute(z),typeof O=="string"){try{O=St(O)}catch{}st.set(m,_,O)}else O=void 0;return O}x.extend({hasData:function(m){return st.hasData(m)||Fe.hasData(m)},data:function(m,_,O){return st.access(m,_,O)},removeData:function(m,_){st.remove(m,_)},_data:function(m,_,O){return Fe.access(m,_,O)},_removeData:function(m,_){Fe.remove(m,_)}}),x.fn.extend({data:function(m,_){var O,z,K,Y=this[0],ne=Y&&Y.attributes;if(m===void 0){if(this.length&&(K=st.get(Y),Y.nodeType===1&&!Fe.get(Y,"hasDataAttrs"))){for(O=ne.length;O--;)ne[O]&&(z=ne[O].name,z.indexOf("data-")===0&&(z=we(z.slice(5)),Kt(Y,z,K[z])));Fe.set(Y,"hasDataAttrs",!0)}return K}return typeof m=="object"?this.each(function(){st.set(this,m)}):rt(this,function(ve){var xe;if(Y&&ve===void 0)return xe=st.get(Y,m),xe!==void 0||(xe=Kt(Y,m),xe!==void 0)?xe:void 0;this.each(function(){st.set(this,m,ve)})},null,_,arguments.length>1,null,!0)},removeData:function(m){return this.each(function(){st.remove(this,m)})}}),x.extend({queue:function(m,_,O){var z;if(m)return _=(_||"fx")+"queue",z=Fe.get(m,_),O&&(!z||Array.isArray(O)?z=Fe.access(m,_,x.makeArray(O)):z.push(O)),z||[]},dequeue:function(m,_){_=_||"fx";var O=x.queue(m,_),z=O.length,K=O.shift(),Y=x._queueHooks(m,_),ne=function(){x.dequeue(m,_)};K==="inprogress"&&(K=O.shift(),z--),K&&(_==="fx"&&O.unshift("inprogress"),delete Y.stop,K.call(m,ne,Y)),!z&&Y&&Y.empty.fire()},_queueHooks:function(m,_){var O=_+"queueHooks";return Fe.get(m,O)||Fe.access(m,O,{empty:x.Callbacks("once memory").add(function(){Fe.remove(m,[_+"queue",O])})})}}),x.fn.extend({queue:function(m,_){var O=2;return typeof m!="string"&&(_=m,m="fx",O--),arguments.length<O?x.queue(this[0],m):_===void 0?this:this.each(function(){var z=x.queue(this,m,_);x._queueHooks(this,m),m==="fx"&&z[0]!=="inprogress"&&x.dequeue(this,m)})},dequeue:function(m){return this.each(function(){x.dequeue(this,m)})},clearQueue:function(m){return this.queue(m||"fx",[])},promise:function(m,_){var O,z=1,K=x.Deferred(),Y=this,ne=this.length,ve=function(){--z||K.resolveWith(Y,[Y])};for(typeof m!="string"&&(_=m,m=void 0),m=m||"fx";ne--;)O=Fe.get(Y[ne],m+"queueHooks"),O&&O.empty&&(z++,O.empty.add(ve));return ve(),K.promise(_)}});var ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gr=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),Gt=["Top","Right","Bottom","Left"],mn=v.documentElement,rr=function(m){return x.contains(m.ownerDocument,m)},Sr={composed:!0};mn.getRootNode&&(rr=function(m){return x.contains(m.ownerDocument,m)||m.getRootNode(Sr)===m.ownerDocument});var ta=function(m,_){return m=_||m,m.style.display==="none"||m.style.display===""&&rr(m)&&x.css(m,"display")==="none"};function sr(m,_,O,z){var K,Y,ne=20,ve=z?function(){return z.cur()}:function(){return x.css(m,_,"")},xe=ve(),Se=O&&O[3]||(x.cssNumber[_]?"":"px"),Ue=m.nodeType&&(x.cssNumber[_]||Se!=="px"&&+xe)&&Gr.exec(x.css(m,_));if(Ue&&Ue[3]!==Se){for(xe=xe/2,Se=Se||Ue[3],Ue=+xe||1;ne--;)x.style(m,_,Ue+Se),(1-Y)*(1-(Y=ve()/xe||.5))<=0&&(ne=0),Ue=Ue/Y;Ue=Ue*2,x.style(m,_,Ue+Se),O=O||[]}return O&&(Ue=+Ue||+xe||0,K=O[1]?Ue+(O[1]+1)*O[2]:+O[2],z&&(z.unit=Se,z.start=Ue,z.end=K)),K}var Ns={};function qr(m){var _,O=m.ownerDocument,z=m.nodeName,K=Ns[z];return K||(_=O.body.appendChild(O.createElement(z)),K=x.css(_,"display"),_.parentNode.removeChild(_),K==="none"&&(K="block"),Ns[z]=K,K)}function Sn(m,_){for(var O,z,K=[],Y=0,ne=m.length;Y<ne;Y++)z=m[Y],z.style&&(O=z.style.display,_?(O==="none"&&(K[Y]=Fe.get(z,"display")||null,K[Y]||(z.style.display="")),z.style.display===""&&ta(z)&&(K[Y]=qr(z))):O!=="none"&&(K[Y]="none",Fe.set(z,"display",O)));for(Y=0;Y<ne;Y++)K[Y]!=null&&(m[Y].style.display=K[Y]);return m}x.fn.extend({show:function(){return Sn(this,!0)},hide:function(){return Sn(this)},toggle:function(m){return typeof m=="boolean"?m?this.show():this.hide():this.each(function(){ta(this)?x(this).show():x(this).hide()})}});var mr=/^(?:checkbox|radio)$/i,tr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var m=v.createDocumentFragment(),_=m.appendChild(v.createElement("div")),O=v.createElement("input");O.setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),_.appendChild(O),w.checkClone=_.cloneNode(!0).cloneNode(!0).lastChild.checked,_.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!_.cloneNode(!0).lastChild.defaultValue,_.innerHTML="<option></option>",w.option=!!_.lastChild})();var Pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.thead,Pt.th=Pt.td,w.option||(Pt.optgroup=Pt.option=[1,"<select multiple='multiple'>","</select>"]);function lr(m,_){var O;return typeof m.getElementsByTagName<"u"?O=m.getElementsByTagName(_||"*"):typeof m.querySelectorAll<"u"?O=m.querySelectorAll(_||"*"):O=[],_===void 0||_&&S(m,_)?x.merge([m],O):O}function cr(m,_){for(var O=0,z=m.length;O<z;O++)Fe.set(m[O],"globalEval",!_||Fe.get(_[O],"globalEval"))}var rn=/<|&#?\w+;/;function Cn(m,_,O,z,K){for(var Y,ne,ve,xe,Se,Ue,Je=_.createDocumentFragment(),Oe=[],at=0,Et=m.length;at<Et;at++)if(Y=m[at],Y||Y===0)if(H(Y)==="object")x.merge(Oe,Y.nodeType?[Y]:Y);else if(!rn.test(Y))Oe.push(_.createTextNode(Y));else{for(ne=ne||Je.appendChild(_.createElement("div")),ve=(tr.exec(Y)||["",""])[1].toLowerCase(),xe=Pt[ve]||Pt._default,ne.innerHTML=xe[1]+x.htmlPrefilter(Y)+xe[2],Ue=xe[0];Ue--;)ne=ne.lastChild;x.merge(Oe,ne.childNodes),ne=Je.firstChild,ne.textContent=""}for(Je.textContent="",at=0;Y=Oe[at++];){if(z&&x.inArray(Y,z)>-1){K&&K.push(Y);continue}if(Se=rr(Y),ne=lr(Je.appendChild(Y),"script"),Se&&cr(ne),O)for(Ue=0;Y=ne[Ue++];)wt.test(Y.type||"")&&O.push(Y)}return Je}var mt=/^([^.]*)(?:\.(.+)|)/;function Fr(){return!0}function Lr(){return!1}function Ir(m,_,O,z,K,Y){var ne,ve;if(typeof _=="object"){typeof O!="string"&&(z=z||O,O=void 0);for(ve in _)Ir(m,ve,O,z,_[ve],Y);return m}if(z==null&&K==null?(K=O,z=O=void 0):K==null&&(typeof O=="string"?(K=z,z=void 0):(K=z,z=O,O=void 0)),K===!1)K=Lr;else if(!K)return m;return Y===1&&(ne=K,K=function(xe){return x().off(xe),ne.apply(this,arguments)},K.guid=ne.guid||(ne.guid=x.guid++)),m.each(function(){x.event.add(this,_,K,z,O)})}x.event={global:{},add:function(m,_,O,z,K){var Y,ne,ve,xe,Se,Ue,Je,Oe,at,Et,er,qt=Fe.get(m);if(Ae(m))for(O.handler&&(Y=O,O=Y.handler,K=Y.selector),K&&x.find.matchesSelector(mn,K),O.guid||(O.guid=x.guid++),(xe=qt.events)||(xe=qt.events=Object.create(null)),(ne=qt.handle)||(ne=qt.handle=function(nn){return typeof x<"u"&&x.event.triggered!==nn.type?x.event.dispatch.apply(m,arguments):void 0}),_=(_||"").match(Ee)||[""],Se=_.length;Se--;)ve=mt.exec(_[Se])||[],at=er=ve[1],Et=(ve[2]||"").split(".").sort(),at&&(Je=x.event.special[at]||{},at=(K?Je.delegateType:Je.bindType)||at,Je=x.event.special[at]||{},Ue=x.extend({type:at,origType:er,data:z,handler:O,guid:O.guid,selector:K,needsContext:K&&x.expr.match.needsContext.test(K),namespace:Et.join(".")},Y),(Oe=xe[at])||(Oe=xe[at]=[],Oe.delegateCount=0,(!Je.setup||Je.setup.call(m,z,Et,ne)===!1)&&m.addEventListener&&m.addEventListener(at,ne)),Je.add&&(Je.add.call(m,Ue),Ue.handler.guid||(Ue.handler.guid=O.guid)),K?Oe.splice(Oe.delegateCount++,0,Ue):Oe.push(Ue),x.event.global[at]=!0)},remove:function(m,_,O,z,K){var Y,ne,ve,xe,Se,Ue,Je,Oe,at,Et,er,qt=Fe.hasData(m)&&Fe.get(m);if(!(!qt||!(xe=qt.events))){for(_=(_||"").match(Ee)||[""],Se=_.length;Se--;){if(ve=mt.exec(_[Se])||[],at=er=ve[1],Et=(ve[2]||"").split(".").sort(),!at){for(at in xe)x.event.remove(m,at+_[Se],O,z,!0);continue}for(Je=x.event.special[at]||{},at=(z?Je.delegateType:Je.bindType)||at,Oe=xe[at]||[],ve=ve[2]&&new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"),ne=Y=Oe.length;Y--;)Ue=Oe[Y],(K||er===Ue.origType)&&(!O||O.guid===Ue.guid)&&(!ve||ve.test(Ue.namespace))&&(!z||z===Ue.selector||z==="**"&&Ue.selector)&&(Oe.splice(Y,1),Ue.selector&&Oe.delegateCount--,Je.remove&&Je.remove.call(m,Ue));ne&&!Oe.length&&((!Je.teardown||Je.teardown.call(m,Et,qt.handle)===!1)&&x.removeEvent(m,at,qt.handle),delete xe[at])}x.isEmptyObject(xe)&&Fe.remove(m,"handle events")}},dispatch:function(m){var _,O,z,K,Y,ne,ve=new Array(arguments.length),xe=x.event.fix(m),Se=(Fe.get(this,"events")||Object.create(null))[xe.type]||[],Ue=x.event.special[xe.type]||{};for(ve[0]=xe,_=1;_<arguments.length;_++)ve[_]=arguments[_];if(xe.delegateTarget=this,!(Ue.preDispatch&&Ue.preDispatch.call(this,xe)===!1)){for(ne=x.event.handlers.call(this,xe,Se),_=0;(K=ne[_++])&&!xe.isPropagationStopped();)for(xe.currentTarget=K.elem,O=0;(Y=K.handlers[O++])&&!xe.isImmediatePropagationStopped();)(!xe.rnamespace||Y.namespace===!1||xe.rnamespace.test(Y.namespace))&&(xe.handleObj=Y,xe.data=Y.data,z=((x.event.special[Y.origType]||{}).handle||Y.handler).apply(K.elem,ve),z!==void 0&&(xe.result=z)===!1&&(xe.preventDefault(),xe.stopPropagation()));return Ue.postDispatch&&Ue.postDispatch.call(this,xe),xe.result}},handlers:function(m,_){var O,z,K,Y,ne,ve=[],xe=_.delegateCount,Se=m.target;if(xe&&Se.nodeType&&!(m.type==="click"&&m.button>=1)){for(;Se!==this;Se=Se.parentNode||this)if(Se.nodeType===1&&!(m.type==="click"&&Se.disabled===!0)){for(Y=[],ne={},O=0;O<xe;O++)z=_[O],K=z.selector+" ",ne[K]===void 0&&(ne[K]=z.needsContext?x(K,this).index(Se)>-1:x.find(K,this,null,[Se]).length),ne[K]&&Y.push(z);Y.length&&ve.push({elem:Se,handlers:Y})}}return Se=this,xe<_.length&&ve.push({elem:Se,handlers:_.slice(xe)}),ve},addProp:function(m,_){Object.defineProperty(x.Event.prototype,m,{enumerable:!0,configurable:!0,get:g(_)?function(){if(this.originalEvent)return _(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[m]},set:function(O){Object.defineProperty(this,m,{enumerable:!0,configurable:!0,writable:!0,value:O})}})},fix:function(m){return m[x.expando]?m:new x.Event(m)},special:{load:{noBubble:!0},click:{setup:function(m){var _=this||m;return mr.test(_.type)&&_.click&&S(_,"input")&&Nr(_,"click",!0),!1},trigger:function(m){var _=this||m;return mr.test(_.type)&&_.click&&S(_,"input")&&Nr(_,"click"),!0},_default:function(m){var _=m.target;return mr.test(_.type)&&_.click&&S(_,"input")&&Fe.get(_,"click")||S(_,"a")}},beforeunload:{postDispatch:function(m){m.result!==void 0&&m.originalEvent&&(m.originalEvent.returnValue=m.result)}}}};function Nr(m,_,O){if(!O){Fe.get(m,_)===void 0&&x.event.add(m,_,Fr);return}Fe.set(m,_,!1),x.event.add(m,_,{namespace:!1,handler:function(z){var K,Y=Fe.get(this,_);if(z.isTrigger&1&&this[_]){if(Y)(x.event.special[_]||{}).delegateType&&z.stopPropagation();else if(Y=o.call(arguments),Fe.set(this,_,Y),this[_](),K=Fe.get(this,_),Fe.set(this,_,!1),Y!==K)return z.stopImmediatePropagation(),z.preventDefault(),K}else Y&&(Fe.set(this,_,x.event.trigger(Y[0],Y.slice(1),this)),z.stopPropagation(),z.isImmediatePropagationStopped=Fr)}})}x.removeEvent=function(m,_,O){m.removeEventListener&&m.removeEventListener(_,O)},x.Event=function(m,_){if(!(this instanceof x.Event))return new x.Event(m,_);m&&m.type?(this.originalEvent=m,this.type=m.type,this.isDefaultPrevented=m.defaultPrevented||m.defaultPrevented===void 0&&m.returnValue===!1?Fr:Lr,this.target=m.target&&m.target.nodeType===3?m.target.parentNode:m.target,this.currentTarget=m.currentTarget,this.relatedTarget=m.relatedTarget):this.type=m,_&&x.extend(this,_),this.timeStamp=m&&m.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Lr,isPropagationStopped:Lr,isImmediatePropagationStopped:Lr,isSimulated:!1,preventDefault:function(){var m=this.originalEvent;this.isDefaultPrevented=Fr,m&&!this.isSimulated&&m.preventDefault()},stopPropagation:function(){var m=this.originalEvent;this.isPropagationStopped=Fr,m&&!this.isSimulated&&m.stopPropagation()},stopImmediatePropagation:function(){var m=this.originalEvent;this.isImmediatePropagationStopped=Fr,m&&!this.isSimulated&&m.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(m,_){function O(z){if(v.documentMode){var K=Fe.get(this,"handle"),Y=x.event.fix(z);Y.type=z.type==="focusin"?"focus":"blur",Y.isSimulated=!0,K(z),Y.target===Y.currentTarget&&K(Y)}else x.event.simulate(_,z.target,x.event.fix(z))}x.event.special[m]={setup:function(){var z;if(Nr(this,m,!0),v.documentMode)z=Fe.get(this,_),z||this.addEventListener(_,O),Fe.set(this,_,(z||0)+1);else return!1},trigger:function(){return Nr(this,m),!0},teardown:function(){var z;if(v.documentMode)z=Fe.get(this,_)-1,z?Fe.set(this,_,z):(this.removeEventListener(_,O),Fe.remove(this,_));else return!1},_default:function(z){return Fe.get(z.target,m)},delegateType:_},x.event.special[_]={setup:function(){var z=this.ownerDocument||this.document||this,K=v.documentMode?this:z,Y=Fe.get(K,_);Y||(v.documentMode?this.addEventListener(_,O):z.addEventListener(m,O,!0)),Fe.set(K,_,(Y||0)+1)},teardown:function(){var z=this.ownerDocument||this.document||this,K=v.documentMode?this:z,Y=Fe.get(K,_)-1;Y?Fe.set(K,_,Y):(v.documentMode?this.removeEventListener(_,O):z.removeEventListener(m,O,!0),Fe.remove(K,_))}}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(m,_){x.event.special[m]={delegateType:_,bindType:_,handle:function(O){var z,K=this,Y=O.relatedTarget,ne=O.handleObj;return(!Y||Y!==K&&!x.contains(K,Y))&&(O.type=ne.origType,z=ne.handler.apply(this,arguments),O.type=_),z}}}),x.fn.extend({on:function(m,_,O,z){return Ir(this,m,_,O,z)},one:function(m,_,O,z){return Ir(this,m,_,O,z,1)},off:function(m,_,O){var z,K;if(m&&m.preventDefault&&m.handleObj)return z=m.handleObj,x(m.delegateTarget).off(z.namespace?z.origType+"."+z.namespace:z.origType,z.selector,z.handler),this;if(typeof m=="object"){for(K in m)this.off(K,_,m[K]);return this}return(_===!1||typeof _=="function")&&(O=_,_=void 0),O===!1&&(O=Lr),this.each(function(){x.event.remove(this,m,O,_)})}});var Rr=/<script|<style|<link/i,Xr=/checked\s*(?:[^=]|=\s*.checked.)/i,Ra=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function la(m,_){return S(m,"table")&&S(_.nodeType!==11?_:_.firstChild,"tr")&&x(m).children("tbody")[0]||m}function es(m){return m.type=(m.getAttribute("type")!==null)+"/"+m.type,m}function ts(m){return(m.type||"").slice(0,5)==="true/"?m.type=m.type.slice(5):m.removeAttribute("type"),m}function Ta(m,_){var O,z,K,Y,ne,ve,xe;if(_.nodeType===1){if(Fe.hasData(m)&&(Y=Fe.get(m),xe=Y.events,xe)){Fe.remove(_,"handle events");for(K in xe)for(O=0,z=xe[K].length;O<z;O++)x.event.add(_,K,xe[K][O])}st.hasData(m)&&(ne=st.access(m),ve=x.extend({},ne),st.set(_,ve))}}function Ss(m,_){var O=_.nodeName.toLowerCase();O==="input"&&mr.test(m.type)?_.checked=m.checked:(O==="input"||O==="textarea")&&(_.defaultValue=m.defaultValue)}function Tn(m,_,O,z){_=i(_);var K,Y,ne,ve,xe,Se,Ue=0,Je=m.length,Oe=Je-1,at=_[0],Et=g(at);if(Et||Je>1&&typeof at=="string"&&!w.checkClone&&Xr.test(at))return m.each(function(er){var qt=m.eq(er);Et&&(_[0]=at.call(this,er,qt.html())),Tn(qt,_,O,z)});if(Je&&(K=Cn(_,m[0].ownerDocument,!1,m,z),Y=K.firstChild,K.childNodes.length===1&&(K=Y),Y||z)){for(ne=x.map(lr(K,"script"),es),ve=ne.length;Ue<Je;Ue++)xe=K,Ue!==Oe&&(xe=x.clone(xe,!0,!0),ve&&x.merge(ne,lr(xe,"script"))),O.call(m[Ue],xe,Ue);if(ve)for(Se=ne[ne.length-1].ownerDocument,x.map(ne,ts),Ue=0;Ue<ve;Ue++)xe=ne[Ue],wt.test(xe.type||"")&&!Fe.access(xe,"globalEval")&&x.contains(Se,xe)&&(xe.src&&(xe.type||"").toLowerCase()!=="module"?x._evalUrl&&!xe.noModule&&x._evalUrl(xe.src,{nonce:xe.nonce||xe.getAttribute("nonce")},Se):R(xe.textContent.replace(Ra,""),xe,Se))}return m}function rs(m,_,O){for(var z,K=_?x.filter(_,m):m,Y=0;(z=K[Y])!=null;Y++)!O&&z.nodeType===1&&x.cleanData(lr(z)),z.parentNode&&(O&&rr(z)&&cr(lr(z,"script")),z.parentNode.removeChild(z));return m}x.extend({htmlPrefilter:function(m){return m},clone:function(m,_,O){var z,K,Y,ne,ve=m.cloneNode(!0),xe=rr(m);if(!w.noCloneChecked&&(m.nodeType===1||m.nodeType===11)&&!x.isXMLDoc(m))for(ne=lr(ve),Y=lr(m),z=0,K=Y.length;z<K;z++)Ss(Y[z],ne[z]);if(_)if(O)for(Y=Y||lr(m),ne=ne||lr(ve),z=0,K=Y.length;z<K;z++)Ta(Y[z],ne[z]);else Ta(m,ve);return ne=lr(ve,"script"),ne.length>0&&cr(ne,!xe&&lr(m,"script")),ve},cleanData:function(m){for(var _,O,z,K=x.event.special,Y=0;(O=m[Y])!==void 0;Y++)if(Ae(O)){if(_=O[Fe.expando]){if(_.events)for(z in _.events)K[z]?x.event.remove(O,z):x.removeEvent(O,z,_.handle);O[Fe.expando]=void 0}O[st.expando]&&(O[st.expando]=void 0)}}}),x.fn.extend({detach:function(m){return rs(this,m,!0)},remove:function(m){return rs(this,m)},text:function(m){return rt(this,function(_){return _===void 0?x.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=_)})},null,m,arguments.length)},append:function(){return Tn(this,arguments,function(m){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=la(this,m);_.appendChild(m)}})},prepend:function(){return Tn(this,arguments,function(m){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=la(this,m);_.insertBefore(m,_.firstChild)}})},before:function(){return Tn(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this)})},after:function(){return Tn(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this.nextSibling)})},empty:function(){for(var m,_=0;(m=this[_])!=null;_++)m.nodeType===1&&(x.cleanData(lr(m,!1)),m.textContent="");return this},clone:function(m,_){return m=m??!1,_=_??m,this.map(function(){return x.clone(this,m,_)})},html:function(m){return rt(this,function(_){var O=this[0]||{},z=0,K=this.length;if(_===void 0&&O.nodeType===1)return O.innerHTML;if(typeof _=="string"&&!Rr.test(_)&&!Pt[(tr.exec(_)||["",""])[1].toLowerCase()]){_=x.htmlPrefilter(_);try{for(;z<K;z++)O=this[z]||{},O.nodeType===1&&(x.cleanData(lr(O,!1)),O.innerHTML=_);O=0}catch{}}O&&this.empty().append(_)},null,m,arguments.length)},replaceWith:function(){var m=[];return Tn(this,arguments,function(_){var O=this.parentNode;x.inArray(this,m)<0&&(x.cleanData(lr(this)),O&&O.replaceChild(_,this))},m)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(m,_){x.fn[m]=function(O){for(var z,K=[],Y=x(O),ne=Y.length-1,ve=0;ve<=ne;ve++)z=ve===ne?this:this.clone(!0),x(Y[ve])[_](z),l.apply(K,z.get());return this.pushStack(K)}});var Us=new RegExp("^("+ut+")(?!px)[a-z%]+$","i"),xo=/^--/,zs=function(m){var _=m.ownerDocument.defaultView;return(!_||!_.opener)&&(_=t),_.getComputedStyle(m)},Xo=function(m,_,O){var z,K,Y={};for(K in _)Y[K]=m.style[K],m.style[K]=_[K];z=O.call(m);for(K in _)m.style[K]=Y[K];return z},Di=new RegExp(Gt.join("|"),"i");(function(){function m(){if(Se){xe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Se.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",mn.appendChild(xe).appendChild(Se);var Ue=t.getComputedStyle(Se);O=Ue.top!=="1%",ve=_(Ue.marginLeft)===12,Se.style.right="60%",Y=_(Ue.right)===36,z=_(Ue.width)===36,Se.style.position="absolute",K=_(Se.offsetWidth/3)===12,mn.removeChild(xe),Se=null}}function _(Ue){return Math.round(parseFloat(Ue))}var O,z,K,Y,ne,ve,xe=v.createElement("div"),Se=v.createElement("div");Se.style&&(Se.style.backgroundClip="content-box",Se.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=Se.style.backgroundClip==="content-box",x.extend(w,{boxSizingReliable:function(){return m(),z},pixelBoxStyles:function(){return m(),Y},pixelPosition:function(){return m(),O},reliableMarginLeft:function(){return m(),ve},scrollboxSize:function(){return m(),K},reliableTrDimensions:function(){var Ue,Je,Oe,at;return ne==null&&(Ue=v.createElement("table"),Je=v.createElement("tr"),Oe=v.createElement("div"),Ue.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Je.style.cssText="box-sizing:content-box;border:1px solid",Je.style.height="1px",Oe.style.height="9px",Oe.style.display="block",mn.appendChild(Ue).appendChild(Je).appendChild(Oe),at=t.getComputedStyle(Je),ne=parseInt(at.height,10)+parseInt(at.borderTopWidth,10)+parseInt(at.borderBottomWidth,10)===Je.offsetHeight,mn.removeChild(Ue)),ne}}))})();function bo(m,_,O){var z,K,Y,ne,ve=xo.test(_),xe=m.style;return O=O||zs(m),O&&(ne=O.getPropertyValue(_)||O[_],ve&&ne&&(ne=ne.replace(E,"$1")||void 0),ne===""&&!rr(m)&&(ne=x.style(m,_)),!w.pixelBoxStyles()&&Us.test(ne)&&Di.test(_)&&(z=xe.width,K=xe.minWidth,Y=xe.maxWidth,xe.minWidth=xe.maxWidth=xe.width=ne,ne=O.width,xe.width=z,xe.minWidth=K,xe.maxWidth=Y)),ne!==void 0?ne+"":ne}function Cc(m,_){return{get:function(){if(m()){delete this.get;return}return(this.get=_).apply(this,arguments)}}}var _c=["Webkit","Moz","ms"],Qo=v.createElement("div").style,Ml={};function fu(m){for(var _=m[0].toUpperCase()+m.slice(1),O=_c.length;O--;)if(m=_c[O]+_,m in Qo)return m}function Zo(m){var _=x.cssProps[m]||Ml[m];return _||(m in Qo?m:Ml[m]=fu(m)||m)}var hu=/^(none|table(?!-c[ea]).+)/,Ec={position:"absolute",visibility:"hidden",display:"block"},Ac={letterSpacing:"0",fontWeight:"400"};function ei(m,_,O){var z=Gr.exec(_);return z?Math.max(0,z[2]-(O||0))+(z[3]||"px"):_}function Fl(m,_,O,z,K,Y){var ne=_==="width"?1:0,ve=0,xe=0,Se=0;if(O===(z?"border":"content"))return 0;for(;ne<4;ne+=2)O==="margin"&&(Se+=x.css(m,O+Gt[ne],!0,K)),z?(O==="content"&&(xe-=x.css(m,"padding"+Gt[ne],!0,K)),O!=="margin"&&(xe-=x.css(m,"border"+Gt[ne]+"Width",!0,K))):(xe+=x.css(m,"padding"+Gt[ne],!0,K),O!=="padding"?xe+=x.css(m,"border"+Gt[ne]+"Width",!0,K):ve+=x.css(m,"border"+Gt[ne]+"Width",!0,K));return!z&&Y>=0&&(xe+=Math.max(0,Math.ceil(m["offset"+_[0].toUpperCase()+_.slice(1)]-Y-xe-ve-.5))||0),xe+Se}function Qr(m,_,O){var z=zs(m),K=!w.boxSizingReliable()||O,Y=K&&x.css(m,"boxSizing",!1,z)==="border-box",ne=Y,ve=bo(m,_,z),xe="offset"+_[0].toUpperCase()+_.slice(1);if(Us.test(ve)){if(!O)return ve;ve="auto"}return(!w.boxSizingReliable()&&Y||!w.reliableTrDimensions()&&S(m,"tr")||ve==="auto"||!parseFloat(ve)&&x.css(m,"display",!1,z)==="inline")&&m.getClientRects().length&&(Y=x.css(m,"boxSizing",!1,z)==="border-box",ne=xe in m,ne&&(ve=m[xe])),ve=parseFloat(ve)||0,ve+Fl(m,_,O||(Y?"border":"content"),ne,z,ve)+"px"}x.extend({cssHooks:{opacity:{get:function(m,_){if(_){var O=bo(m,"opacity");return O===""?"1":O}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(m,_,O,z){if(!(!m||m.nodeType===3||m.nodeType===8||!m.style)){var K,Y,ne,ve=we(_),xe=xo.test(_),Se=m.style;if(xe||(_=Zo(ve)),ne=x.cssHooks[_]||x.cssHooks[ve],O!==void 0){if(Y=typeof O,Y==="string"&&(K=Gr.exec(O))&&K[1]&&(O=sr(m,_,K),Y="number"),O==null||O!==O)return;Y==="number"&&!xe&&(O+=K&&K[3]||(x.cssNumber[ve]?"":"px")),!w.clearCloneStyle&&O===""&&_.indexOf("background")===0&&(Se[_]="inherit"),(!ne||!("set"in ne)||(O=ne.set(m,O,z))!==void 0)&&(xe?Se.setProperty(_,O):Se[_]=O)}else return ne&&"get"in ne&&(K=ne.get(m,!1,z))!==void 0?K:Se[_]}},css:function(m,_,O,z){var K,Y,ne,ve=we(_),xe=xo.test(_);return xe||(_=Zo(ve)),ne=x.cssHooks[_]||x.cssHooks[ve],ne&&"get"in ne&&(K=ne.get(m,!0,O)),K===void 0&&(K=bo(m,_,z)),K==="normal"&&_ in Ac&&(K=Ac[_]),O===""||O?(Y=parseFloat(K),O===!0||isFinite(Y)?Y||0:K):K}}),x.each(["height","width"],function(m,_){x.cssHooks[_]={get:function(O,z,K){if(z)return hu.test(x.css(O,"display"))&&(!O.getClientRects().length||!O.getBoundingClientRect().width)?Xo(O,Ec,function(){return Qr(O,_,K)}):Qr(O,_,K)},set:function(O,z,K){var Y,ne=zs(O),ve=!w.scrollboxSize()&&ne.position==="absolute",xe=ve||K,Se=xe&&x.css(O,"boxSizing",!1,ne)==="border-box",Ue=K?Fl(O,_,K,Se,ne):0;return Se&&ve&&(Ue-=Math.ceil(O["offset"+_[0].toUpperCase()+_.slice(1)]-parseFloat(ne[_])-Fl(O,_,"border",!1,ne)-.5)),Ue&&(Y=Gr.exec(z))&&(Y[3]||"px")!=="px"&&(O.style[_]=z,z=x.css(O,_)),ei(O,z,Ue)}}}),x.cssHooks.marginLeft=Cc(w.reliableMarginLeft,function(m,_){if(_)return(parseFloat(bo(m,"marginLeft"))||m.getBoundingClientRect().left-Xo(m,{marginLeft:0},function(){return m.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(m,_){x.cssHooks[m+_]={expand:function(O){for(var z=0,K={},Y=typeof O=="string"?O.split(" "):[O];z<4;z++)K[m+Gt[z]+_]=Y[z]||Y[z-2]||Y[0];return K}},m!=="margin"&&(x.cssHooks[m+_].set=ei)}),x.fn.extend({css:function(m,_){return rt(this,function(O,z,K){var Y,ne,ve={},xe=0;if(Array.isArray(z)){for(Y=zs(O),ne=z.length;xe<ne;xe++)ve[z[xe]]=x.css(O,z[xe],!1,Y);return ve}return K!==void 0?x.style(O,z,K):x.css(O,z)},m,_,arguments.length>1)}});function On(m,_,O,z,K){return new On.prototype.init(m,_,O,z,K)}x.Tween=On,On.prototype={constructor:On,init:function(m,_,O,z,K,Y){this.elem=m,this.prop=O,this.easing=K||x.easing._default,this.options=_,this.start=this.now=this.cur(),this.end=z,this.unit=Y||(x.cssNumber[O]?"":"px")},cur:function(){var m=On.propHooks[this.prop];return m&&m.get?m.get(this):On.propHooks._default.get(this)},run:function(m){var _,O=On.propHooks[this.prop];return this.options.duration?this.pos=_=x.easing[this.easing](m,this.options.duration*m,0,1,this.options.duration):this.pos=_=m,this.now=(this.end-this.start)*_+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),O&&O.set?O.set(this):On.propHooks._default.set(this),this}},On.prototype.init.prototype=On.prototype,On.propHooks={_default:{get:function(m){var _;return m.elem.nodeType!==1||m.elem[m.prop]!=null&&m.elem.style[m.prop]==null?m.elem[m.prop]:(_=x.css(m.elem,m.prop,""),!_||_==="auto"?0:_)},set:function(m){x.fx.step[m.prop]?x.fx.step[m.prop](m):m.elem.nodeType===1&&(x.cssHooks[m.prop]||m.elem.style[Zo(m.prop)]!=null)?x.style(m.elem,m.prop,m.now+m.unit):m.elem[m.prop]=m.now}}},On.propHooks.scrollTop=On.propHooks.scrollLeft={set:function(m){m.elem.nodeType&&m.elem.parentNode&&(m.elem[m.prop]=m.now)}},x.easing={linear:function(m){return m},swing:function(m){return .5-Math.cos(m*Math.PI)/2},_default:"swing"},x.fx=On.prototype.init,x.fx.step={};var Vs,ti,Bl=/^(?:toggle|show|hide)$/,pu=/queueHooks$/;function ka(){ti&&(v.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ka):t.setTimeout(ka,x.fx.interval),x.fx.tick())}function ri(){return t.setTimeout(function(){Vs=void 0}),Vs=Date.now()}function Mn(m,_){var O,z=0,K={height:m};for(_=_?1:0;z<4;z+=2-_)O=Gt[z],K["margin"+O]=K["padding"+O]=m;return _&&(K.opacity=K.width=m),K}function Li(m,_,O){for(var z,K=(ca.tweeners[_]||[]).concat(ca.tweeners["*"]),Y=0,ne=K.length;Y<ne;Y++)if(z=K[Y].call(O,_,m))return z}function Pc(m,_,O){var z,K,Y,ne,ve,xe,Se,Ue,Je="width"in _||"height"in _,Oe=this,at={},Et=m.style,er=m.nodeType&&ta(m),qt=Fe.get(m,"fxshow");O.queue||(ne=x._queueHooks(m,"fx"),ne.unqueued==null&&(ne.unqueued=0,ve=ne.empty.fire,ne.empty.fire=function(){ne.unqueued||ve()}),ne.unqueued++,Oe.always(function(){Oe.always(function(){ne.unqueued--,x.queue(m,"fx").length||ne.empty.fire()})}));for(z in _)if(K=_[z],Bl.test(K)){if(delete _[z],Y=Y||K==="toggle",K===(er?"hide":"show"))if(K==="show"&&qt&&qt[z]!==void 0)er=!0;else continue;at[z]=qt&&qt[z]||x.style(m,z)}if(xe=!x.isEmptyObject(_),!(!xe&&x.isEmptyObject(at))){Je&&m.nodeType===1&&(O.overflow=[Et.overflow,Et.overflowX,Et.overflowY],Se=qt&&qt.display,Se==null&&(Se=Fe.get(m,"display")),Ue=x.css(m,"display"),Ue==="none"&&(Se?Ue=Se:(Sn([m],!0),Se=m.style.display||Se,Ue=x.css(m,"display"),Sn([m]))),(Ue==="inline"||Ue==="inline-block"&&Se!=null)&&x.css(m,"float")==="none"&&(xe||(Oe.done(function(){Et.display=Se}),Se==null&&(Ue=Et.display,Se=Ue==="none"?"":Ue)),Et.display="inline-block")),O.overflow&&(Et.overflow="hidden",Oe.always(function(){Et.overflow=O.overflow[0],Et.overflowX=O.overflow[1],Et.overflowY=O.overflow[2]})),xe=!1;for(z in at)xe||(qt?"hidden"in qt&&(er=qt.hidden):qt=Fe.access(m,"fxshow",{display:Se}),Y&&(qt.hidden=!er),er&&Sn([m],!0),Oe.done(function(){er||Sn([m]),Fe.remove(m,"fxshow");for(z in at)x.style(m,z,at[z])})),xe=Li(er?qt[z]:0,z,Oe),z in qt||(qt[z]=xe.start,er&&(xe.end=xe.start,xe.start=0))}}function mu(m,_){var O,z,K,Y,ne;for(O in m)if(z=we(O),K=_[z],Y=m[O],Array.isArray(Y)&&(K=Y[1],Y=m[O]=Y[0]),O!==z&&(m[z]=Y,delete m[O]),ne=x.cssHooks[z],ne&&"expand"in ne){Y=ne.expand(Y),delete m[z];for(O in Y)O in m||(m[O]=Y[O],_[O]=K)}else _[z]=K}function ca(m,_,O){var z,K,Y=0,ne=ca.prefilters.length,ve=x.Deferred().always(function(){delete xe.elem}),xe=function(){if(K)return!1;for(var Je=Vs||ri(),Oe=Math.max(0,Se.startTime+Se.duration-Je),at=Oe/Se.duration||0,Et=1-at,er=0,qt=Se.tweens.length;er<qt;er++)Se.tweens[er].run(Et);return ve.notifyWith(m,[Se,Et,Oe]),Et<1&&qt?Oe:(qt||ve.notifyWith(m,[Se,1,0]),ve.resolveWith(m,[Se]),!1)},Se=ve.promise({elem:m,props:x.extend({},_),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},O),originalProperties:_,originalOptions:O,startTime:Vs||ri(),duration:O.duration,tweens:[],createTween:function(Je,Oe){var at=x.Tween(m,Se.opts,Je,Oe,Se.opts.specialEasing[Je]||Se.opts.easing);return Se.tweens.push(at),at},stop:function(Je){var Oe=0,at=Je?Se.tweens.length:0;if(K)return this;for(K=!0;Oe<at;Oe++)Se.tweens[Oe].run(1);return Je?(ve.notifyWith(m,[Se,1,0]),ve.resolveWith(m,[Se,Je])):ve.rejectWith(m,[Se,Je]),this}}),Ue=Se.props;for(mu(Ue,Se.opts.specialEasing);Y<ne;Y++)if(z=ca.prefilters[Y].call(Se,m,Ue,Se.opts),z)return g(z.stop)&&(x._queueHooks(Se.elem,Se.opts.queue).stop=z.stop.bind(z)),z;return x.map(Ue,Li,Se),g(Se.opts.start)&&Se.opts.start.call(m,Se),Se.progress(Se.opts.progress).done(Se.opts.done,Se.opts.complete).fail(Se.opts.fail).always(Se.opts.always),x.fx.timer(x.extend(xe,{elem:m,anim:Se,queue:Se.opts.queue})),Se}x.Animation=x.extend(ca,{tweeners:{"*":[function(m,_){var O=this.createTween(m,_);return sr(O.elem,m,Gr.exec(_),O),O}]},tweener:function(m,_){g(m)?(_=m,m=["*"]):m=m.match(Ee);for(var O,z=0,K=m.length;z<K;z++)O=m[z],ca.tweeners[O]=ca.tweeners[O]||[],ca.tweeners[O].unshift(_)},prefilters:[Pc],prefilter:function(m,_){_?ca.prefilters.unshift(m):ca.prefilters.push(m)}}),x.speed=function(m,_,O){var z=m&&typeof m=="object"?x.extend({},m):{complete:O||!O&&_||g(m)&&m,duration:m,easing:O&&_||_&&!g(_)&&_};return x.fx.off?z.duration=0:typeof z.duration!="number"&&(z.duration in x.fx.speeds?z.duration=x.fx.speeds[z.duration]:z.duration=x.fx.speeds._default),(z.queue==null||z.queue===!0)&&(z.queue="fx"),z.old=z.complete,z.complete=function(){g(z.old)&&z.old.call(this),z.queue&&x.dequeue(this,z.queue)},z},x.fn.extend({fadeTo:function(m,_,O,z){return this.filter(ta).css("opacity",0).show().end().animate({opacity:_},m,O,z)},animate:function(m,_,O,z){var K=x.isEmptyObject(m),Y=x.speed(_,O,z),ne=function(){var ve=ca(this,x.extend({},m),Y);(K||Fe.get(this,"finish"))&&ve.stop(!0)};return ne.finish=ne,K||Y.queue===!1?this.each(ne):this.queue(Y.queue,ne)},stop:function(m,_,O){var z=function(K){var Y=K.stop;delete K.stop,Y(O)};return typeof m!="string"&&(O=_,_=m,m=void 0),_&&this.queue(m||"fx",[]),this.each(function(){var K=!0,Y=m!=null&&m+"queueHooks",ne=x.timers,ve=Fe.get(this);if(Y)ve[Y]&&ve[Y].stop&&z(ve[Y]);else for(Y in ve)ve[Y]&&ve[Y].stop&&pu.test(Y)&&z(ve[Y]);for(Y=ne.length;Y--;)ne[Y].elem===this&&(m==null||ne[Y].queue===m)&&(ne[Y].anim.stop(O),K=!1,ne.splice(Y,1));(K||!O)&&x.dequeue(this,m)})},finish:function(m){return m!==!1&&(m=m||"fx"),this.each(function(){var _,O=Fe.get(this),z=O[m+"queue"],K=O[m+"queueHooks"],Y=x.timers,ne=z?z.length:0;for(O.finish=!0,x.queue(this,m,[]),K&&K.stop&&K.stop.call(this,!0),_=Y.length;_--;)Y[_].elem===this&&Y[_].queue===m&&(Y[_].anim.stop(!0),Y.splice(_,1));for(_=0;_<ne;_++)z[_]&&z[_].finish&&z[_].finish.call(this);delete O.finish})}}),x.each(["toggle","show","hide"],function(m,_){var O=x.fn[_];x.fn[_]=function(z,K,Y){return z==null||typeof z=="boolean"?O.apply(this,arguments):this.animate(Mn(_,!0),z,K,Y)}}),x.each({slideDown:Mn("show"),slideUp:Mn("hide"),slideToggle:Mn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(m,_){x.fn[m]=function(O,z,K){return this.animate(_,O,z,K)}}),x.timers=[],x.fx.tick=function(){var m,_=0,O=x.timers;for(Vs=Date.now();_<O.length;_++)m=O[_],!m()&&O[_]===m&&O.splice(_--,1);O.length||x.fx.stop(),Vs=void 0},x.fx.timer=function(m){x.timers.push(m),x.fx.start()},x.fx.interval=13,x.fx.start=function(){ti||(ti=!0,ka())},x.fx.stop=function(){ti=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(m,_){return m=x.fx&&x.fx.speeds[m]||m,_=_||"fx",this.queue(_,function(O,z){var K=t.setTimeout(O,m);z.stop=function(){t.clearTimeout(K)}})},function(){var m=v.createElement("input"),_=v.createElement("select"),O=_.appendChild(v.createElement("option"));m.type="checkbox",w.checkOn=m.value!=="",w.optSelected=O.selected,m=v.createElement("input"),m.value="t",m.type="radio",w.radioValue=m.value==="t"}();var Dc,vo=x.expr.attrHandle;x.fn.extend({attr:function(m,_){return rt(this,x.attr,m,_,arguments.length>1)},removeAttr:function(m){return this.each(function(){x.removeAttr(this,m)})}}),x.extend({attr:function(m,_,O){var z,K,Y=m.nodeType;if(!(Y===3||Y===8||Y===2)){if(typeof m.getAttribute>"u")return x.prop(m,_,O);if((Y!==1||!x.isXMLDoc(m))&&(K=x.attrHooks[_.toLowerCase()]||(x.expr.match.bool.test(_)?Dc:void 0)),O!==void 0){if(O===null){x.removeAttr(m,_);return}return K&&"set"in K&&(z=K.set(m,O,_))!==void 0?z:(m.setAttribute(_,O+""),O)}return K&&"get"in K&&(z=K.get(m,_))!==null?z:(z=x.find.attr(m,_),z??void 0)}},attrHooks:{type:{set:function(m,_){if(!w.radioValue&&_==="radio"&&S(m,"input")){var O=m.value;return m.setAttribute("type",_),O&&(m.value=O),_}}}},removeAttr:function(m,_){var O,z=0,K=_&&_.match(Ee);if(K&&m.nodeType===1)for(;O=K[z++];)m.removeAttribute(O)}}),Dc={set:function(m,_,O){return _===!1?x.removeAttr(m,O):m.setAttribute(O,O),O}},x.each(x.expr.match.bool.source.match(/\w+/g),function(m,_){var O=vo[_]||x.find.attr;vo[_]=function(z,K,Y){var ne,ve,xe=K.toLowerCase();return Y||(ve=vo[xe],vo[xe]=ne,ne=O(z,K,Y)!=null?xe:null,vo[xe]=ve),ne}});var gu=/^(?:input|select|textarea|button)$/i,$l=/^(?:a|area)$/i;x.fn.extend({prop:function(m,_){return rt(this,x.prop,m,_,arguments.length>1)},removeProp:function(m){return this.each(function(){delete this[x.propFix[m]||m]})}}),x.extend({prop:function(m,_,O){var z,K,Y=m.nodeType;if(!(Y===3||Y===8||Y===2))return(Y!==1||!x.isXMLDoc(m))&&(_=x.propFix[_]||_,K=x.propHooks[_]),O!==void 0?K&&"set"in K&&(z=K.set(m,O,_))!==void 0?z:m[_]=O:K&&"get"in K&&(z=K.get(m,_))!==null?z:m[_]},propHooks:{tabIndex:{get:function(m){var _=x.find.attr(m,"tabindex");return _?parseInt(_,10):gu.test(m.nodeName)||$l.test(m.nodeName)&&m.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(x.propHooks.selected={get:function(m){var _=m.parentNode;return _&&_.parentNode&&_.parentNode.selectedIndex,null},set:function(m){var _=m.parentNode;_&&(_.selectedIndex,_.parentNode&&_.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this});function Hs(m){var _=m.match(Ee)||[];return _.join(" ")}function Ws(m){return m.getAttribute&&m.getAttribute("class")||""}function ql(m){return Array.isArray(m)?m:typeof m=="string"?m.match(Ee)||[]:[]}x.fn.extend({addClass:function(m){var _,O,z,K,Y,ne;return g(m)?this.each(function(ve){x(this).addClass(m.call(this,ve,Ws(this)))}):(_=ql(m),_.length?this.each(function(){if(z=Ws(this),O=this.nodeType===1&&" "+Hs(z)+" ",O){for(Y=0;Y<_.length;Y++)K=_[Y],O.indexOf(" "+K+" ")<0&&(O+=K+" ");ne=Hs(O),z!==ne&&this.setAttribute("class",ne)}}):this)},removeClass:function(m){var _,O,z,K,Y,ne;return g(m)?this.each(function(ve){x(this).removeClass(m.call(this,ve,Ws(this)))}):arguments.length?(_=ql(m),_.length?this.each(function(){if(z=Ws(this),O=this.nodeType===1&&" "+Hs(z)+" ",O){for(Y=0;Y<_.length;Y++)for(K=_[Y];O.indexOf(" "+K+" ")>-1;)O=O.replace(" "+K+" "," ");ne=Hs(O),z!==ne&&this.setAttribute("class",ne)}}):this):this.attr("class","")},toggleClass:function(m,_){var O,z,K,Y,ne=typeof m,ve=ne==="string"||Array.isArray(m);return g(m)?this.each(function(xe){x(this).toggleClass(m.call(this,xe,Ws(this),_),_)}):typeof _=="boolean"&&ve?_?this.addClass(m):this.removeClass(m):(O=ql(m),this.each(function(){if(ve)for(Y=x(this),K=0;K<O.length;K++)z=O[K],Y.hasClass(z)?Y.removeClass(z):Y.addClass(z);else(m===void 0||ne==="boolean")&&(z=Ws(this),z&&Fe.set(this,"__className__",z),this.setAttribute&&this.setAttribute("class",z||m===!1?"":Fe.get(this,"__className__")||""))}))},hasClass:function(m){var _,O,z=0;for(_=" "+m+" ";O=this[z++];)if(O.nodeType===1&&(" "+Hs(Ws(O))+" ").indexOf(_)>-1)return!0;return!1}});var Gs=/\r/g;x.fn.extend({val:function(m){var _,O,z,K=this[0];return arguments.length?(z=g(m),this.each(function(Y){var ne;this.nodeType===1&&(z?ne=m.call(this,Y,x(this).val()):ne=m,ne==null?ne="":typeof ne=="number"?ne+="":Array.isArray(ne)&&(ne=x.map(ne,function(ve){return ve==null?"":ve+""})),_=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],(!_||!("set"in _)||_.set(this,ne,"value")===void 0)&&(this.value=ne))})):K?(_=x.valHooks[K.type]||x.valHooks[K.nodeName.toLowerCase()],_&&"get"in _&&(O=_.get(K,"value"))!==void 0?O:(O=K.value,typeof O=="string"?O.replace(Gs,""):O??"")):void 0}}),x.extend({valHooks:{option:{get:function(m){var _=x.find.attr(m,"value");return _??Hs(x.text(m))}},select:{get:function(m){var _,O,z,K=m.options,Y=m.selectedIndex,ne=m.type==="select-one",ve=ne?null:[],xe=ne?Y+1:K.length;for(Y<0?z=xe:z=ne?Y:0;z<xe;z++)if(O=K[z],(O.selected||z===Y)&&!O.disabled&&(!O.parentNode.disabled||!S(O.parentNode,"optgroup"))){if(_=x(O).val(),ne)return _;ve.push(_)}return ve},set:function(m,_){for(var O,z,K=m.options,Y=x.makeArray(_),ne=K.length;ne--;)z=K[ne],(z.selected=x.inArray(x.valHooks.option.get(z),Y)>-1)&&(O=!0);return O||(m.selectedIndex=-1),Y}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(m,_){if(Array.isArray(_))return m.checked=x.inArray(x(m).val(),_)>-1}},w.checkOn||(x.valHooks[this].get=function(m){return m.getAttribute("value")===null?"on":m.value})});var Cs=t.location,ni={guid:Date.now()},Ii=/\?/;x.parseXML=function(m){var _,O;if(!m||typeof m!="string")return null;try{_=new t.DOMParser().parseFromString(m,"text/xml")}catch{}return O=_&&_.getElementsByTagName("parsererror")[0],(!_||O)&&x.error("Invalid XML: "+(O?x.map(O.childNodes,function(z){return z.textContent}).join(`
`):m)),_};var Fn=/^(?:focusinfocus|focusoutblur)$/,Lc=function(m){m.stopPropagation()};x.extend(x.event,{trigger:function(m,_,O,z){var K,Y,ne,ve,xe,Se,Ue,Je,Oe=[O||v],at=f.call(m,"type")?m.type:m,Et=f.call(m,"namespace")?m.namespace.split("."):[];if(Y=Je=ne=O=O||v,!(O.nodeType===3||O.nodeType===8)&&!Fn.test(at+x.event.triggered)&&(at.indexOf(".")>-1&&(Et=at.split("."),at=Et.shift(),Et.sort()),xe=at.indexOf(":")<0&&"on"+at,m=m[x.expando]?m:new x.Event(at,typeof m=="object"&&m),m.isTrigger=z?2:3,m.namespace=Et.join("."),m.rnamespace=m.namespace?new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m.result=void 0,m.target||(m.target=O),_=_==null?[m]:x.makeArray(_,[m]),Ue=x.event.special[at]||{},!(!z&&Ue.trigger&&Ue.trigger.apply(O,_)===!1))){if(!z&&!Ue.noBubble&&!A(O)){for(ve=Ue.delegateType||at,Fn.test(ve+at)||(Y=Y.parentNode);Y;Y=Y.parentNode)Oe.push(Y),ne=Y;ne===(O.ownerDocument||v)&&Oe.push(ne.defaultView||ne.parentWindow||t)}for(K=0;(Y=Oe[K++])&&!m.isPropagationStopped();)Je=Y,m.type=K>1?ve:Ue.bindType||at,Se=(Fe.get(Y,"events")||Object.create(null))[m.type]&&Fe.get(Y,"handle"),Se&&Se.apply(Y,_),Se=xe&&Y[xe],Se&&Se.apply&&Ae(Y)&&(m.result=Se.apply(Y,_),m.result===!1&&m.preventDefault());return m.type=at,!z&&!m.isDefaultPrevented()&&(!Ue._default||Ue._default.apply(Oe.pop(),_)===!1)&&Ae(O)&&xe&&g(O[at])&&!A(O)&&(ne=O[xe],ne&&(O[xe]=null),x.event.triggered=at,m.isPropagationStopped()&&Je.addEventListener(at,Lc),O[at](),m.isPropagationStopped()&&Je.removeEventListener(at,Lc),x.event.triggered=void 0,ne&&(O[xe]=ne)),m.result}},simulate:function(m,_,O){var z=x.extend(new x.Event,O,{type:m,isSimulated:!0});x.event.trigger(z,null,_)}}),x.fn.extend({trigger:function(m,_){return this.each(function(){x.event.trigger(m,_,this)})},triggerHandler:function(m,_){var O=this[0];if(O)return x.event.trigger(m,_,O,!0)}});var Ic=/\[\]$/,zt=/\r?\n/g,yu=/^(?:submit|button|image|reset|file)$/i,xu=/^(?:input|select|textarea|keygen)/i;function Oa(m,_,O,z){var K;if(Array.isArray(_))x.each(_,function(Y,ne){O||Ic.test(m)?z(m,ne):Oa(m+"["+(typeof ne=="object"&&ne!=null?Y:"")+"]",ne,O,z)});else if(!O&&H(_)==="object")for(K in _)Oa(m+"["+K+"]",_[K],O,z);else z(m,_)}x.param=function(m,_){var O,z=[],K=function(Y,ne){var ve=g(ne)?ne():ne;z[z.length]=encodeURIComponent(Y)+"="+encodeURIComponent(ve??"")};if(m==null)return"";if(Array.isArray(m)||m.jquery&&!x.isPlainObject(m))x.each(m,function(){K(this.name,this.value)});else for(O in m)Oa(O,m[O],_,K);return z.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var m=x.prop(this,"elements");return m?x.makeArray(m):this}).filter(function(){var m=this.type;return this.name&&!x(this).is(":disabled")&&xu.test(this.nodeName)&&!yu.test(m)&&(this.checked||!mr.test(m))}).map(function(m,_){var O=x(this).val();return O==null?null:Array.isArray(O)?x.map(O,function(z){return{name:_.name,value:z.replace(zt,`\r
`)}}):{name:_.name,value:O.replace(zt,`\r
`)}}).get()}});var Rc=/%20/g,Tc=/#.*$/,Ri=/([?&])_=[^&]*/,Ul=/^(.*?):[ \t]*([^\r\n]*)$/mg,bu=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vu=/^(?:GET|HEAD)$/,wu=/^\/\//,Ti={},Js={},Ks="*/".concat("*"),zl=v.createElement("a");zl.href=Cs.href;function wo(m){return function(_,O){typeof _!="string"&&(O=_,_="*");var z,K=0,Y=_.toLowerCase().match(Ee)||[];if(g(O))for(;z=Y[K++];)z[0]==="+"?(z=z.slice(1)||"*",(m[z]=m[z]||[]).unshift(O)):(m[z]=m[z]||[]).push(O)}}function Oi(m,_,O,z){var K={},Y=m===Js;function ne(ve){var xe;return K[ve]=!0,x.each(m[ve]||[],function(Se,Ue){var Je=Ue(_,O,z);if(typeof Je=="string"&&!Y&&!K[Je])return _.dataTypes.unshift(Je),ne(Je),!1;if(Y)return!(xe=Je)}),xe}return ne(_.dataTypes[0])||!K["*"]&&ne("*")}function ko(m,_){var O,z,K=x.ajaxSettings.flatOptions||{};for(O in _)_[O]!==void 0&&((K[O]?m:z||(z={}))[O]=_[O]);return z&&x.extend(!0,m,z),m}function Oc(m,_,O){for(var z,K,Y,ne,ve=m.contents,xe=m.dataTypes;xe[0]==="*";)xe.shift(),z===void 0&&(z=m.mimeType||_.getResponseHeader("Content-Type"));if(z){for(K in ve)if(ve[K]&&ve[K].test(z)){xe.unshift(K);break}}if(xe[0]in O)Y=xe[0];else{for(K in O){if(!xe[0]||m.converters[K+" "+xe[0]]){Y=K;break}ne||(ne=K)}Y=Y||ne}if(Y)return Y!==xe[0]&&xe.unshift(Y),O[Y]}function Mc(m,_,O,z){var K,Y,ne,ve,xe,Se={},Ue=m.dataTypes.slice();if(Ue[1])for(ne in m.converters)Se[ne.toLowerCase()]=m.converters[ne];for(Y=Ue.shift();Y;)if(m.responseFields[Y]&&(O[m.responseFields[Y]]=_),!xe&&z&&m.dataFilter&&(_=m.dataFilter(_,m.dataType)),xe=Y,Y=Ue.shift(),Y){if(Y==="*")Y=xe;else if(xe!=="*"&&xe!==Y){if(ne=Se[xe+" "+Y]||Se["* "+Y],!ne){for(K in Se)if(ve=K.split(" "),ve[1]===Y&&(ne=Se[xe+" "+ve[0]]||Se["* "+ve[0]],ne)){ne===!0?ne=Se[K]:Se[K]!==!0&&(Y=ve[0],Ue.unshift(ve[1]));break}}if(ne!==!0)if(ne&&m.throws)_=ne(_);else try{_=ne(_)}catch(Je){return{state:"parsererror",error:ne?Je:"No conversion from "+xe+" to "+Y}}}}return{state:"success",data:_}}x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cs.href,type:"GET",isLocal:bu.test(Cs.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ks,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(m,_){return _?ko(ko(m,x.ajaxSettings),_):ko(x.ajaxSettings,m)},ajaxPrefilter:wo(Ti),ajaxTransport:wo(Js),ajax:function(m,_){typeof m=="object"&&(_=m,m=void 0),_=_||{};var O,z,K,Y,ne,ve,xe,Se,Ue,Je,Oe=x.ajaxSetup({},_),at=Oe.context||Oe,Et=Oe.context&&(at.nodeType||at.jquery)?x(at):x.event,er=x.Deferred(),qt=x.Callbacks("once memory"),nn=Oe.statusCode||{},D={},X={},me="canceled",be={readyState:0,getResponseHeader:function(Ie){var Ke;if(xe){if(!Y)for(Y={};Ke=Ul.exec(K);)Y[Ke[1].toLowerCase()+" "]=(Y[Ke[1].toLowerCase()+" "]||[]).concat(Ke[2]);Ke=Y[Ie.toLowerCase()+" "]}return Ke==null?null:Ke.join(", ")},getAllResponseHeaders:function(){return xe?K:null},setRequestHeader:function(Ie,Ke){return xe==null&&(Ie=X[Ie.toLowerCase()]=X[Ie.toLowerCase()]||Ie,D[Ie]=Ke),this},overrideMimeType:function(Ie){return xe==null&&(Oe.mimeType=Ie),this},statusCode:function(Ie){var Ke;if(Ie)if(xe)be.always(Ie[be.status]);else for(Ke in Ie)nn[Ke]=[nn[Ke],Ie[Ke]];return this},abort:function(Ie){var Ke=Ie||me;return O&&O.abort(Ke),Pe(0,Ke),this}};if(er.promise(be),Oe.url=((m||Oe.url||Cs.href)+"").replace(wu,Cs.protocol+"//"),Oe.type=_.method||_.type||Oe.method||Oe.type,Oe.dataTypes=(Oe.dataType||"*").toLowerCase().match(Ee)||[""],Oe.crossDomain==null){ve=v.createElement("a");try{ve.href=Oe.url,ve.href=ve.href,Oe.crossDomain=zl.protocol+"//"+zl.host!=ve.protocol+"//"+ve.host}catch{Oe.crossDomain=!0}}if(Oe.data&&Oe.processData&&typeof Oe.data!="string"&&(Oe.data=x.param(Oe.data,Oe.traditional)),Oi(Ti,Oe,_,be),xe)return be;Se=x.event&&Oe.global,Se&&x.active++===0&&x.event.trigger("ajaxStart"),Oe.type=Oe.type.toUpperCase(),Oe.hasContent=!vu.test(Oe.type),z=Oe.url.replace(Tc,""),Oe.hasContent?Oe.data&&Oe.processData&&(Oe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Oe.data=Oe.data.replace(Rc,"+")):(Je=Oe.url.slice(z.length),Oe.data&&(Oe.processData||typeof Oe.data=="string")&&(z+=(Ii.test(z)?"&":"?")+Oe.data,delete Oe.data),Oe.cache===!1&&(z=z.replace(Ri,"$1"),Je=(Ii.test(z)?"&":"?")+"_="+ni.guid+++Je),Oe.url=z+Je),Oe.ifModified&&(x.lastModified[z]&&be.setRequestHeader("If-Modified-Since",x.lastModified[z]),x.etag[z]&&be.setRequestHeader("If-None-Match",x.etag[z])),(Oe.data&&Oe.hasContent&&Oe.contentType!==!1||_.contentType)&&be.setRequestHeader("Content-Type",Oe.contentType),be.setRequestHeader("Accept",Oe.dataTypes[0]&&Oe.accepts[Oe.dataTypes[0]]?Oe.accepts[Oe.dataTypes[0]]+(Oe.dataTypes[0]!=="*"?", "+Ks+"; q=0.01":""):Oe.accepts["*"]);for(Ue in Oe.headers)be.setRequestHeader(Ue,Oe.headers[Ue]);if(Oe.beforeSend&&(Oe.beforeSend.call(at,be,Oe)===!1||xe))return be.abort();if(me="abort",qt.add(Oe.complete),be.done(Oe.success),be.fail(Oe.error),O=Oi(Js,Oe,_,be),!O)Pe(-1,"No Transport");else{if(be.readyState=1,Se&&Et.trigger("ajaxSend",[be,Oe]),xe)return be;Oe.async&&Oe.timeout>0&&(ne=t.setTimeout(function(){be.abort("timeout")},Oe.timeout));try{xe=!1,O.send(D,Pe)}catch(Ie){if(xe)throw Ie;Pe(-1,Ie)}}function Pe(Ie,Ke,ht,jt){var At,Ot,Wt,gr,xr,fr=Ke;xe||(xe=!0,ne&&t.clearTimeout(ne),O=void 0,K=jt||"",be.readyState=Ie>0?4:0,At=Ie>=200&&Ie<300||Ie===304,ht&&(gr=Oc(Oe,be,ht)),!At&&x.inArray("script",Oe.dataTypes)>-1&&x.inArray("json",Oe.dataTypes)<0&&(Oe.converters["text script"]=function(){}),gr=Mc(Oe,gr,be,At),At?(Oe.ifModified&&(xr=be.getResponseHeader("Last-Modified"),xr&&(x.lastModified[z]=xr),xr=be.getResponseHeader("etag"),xr&&(x.etag[z]=xr)),Ie===204||Oe.type==="HEAD"?fr="nocontent":Ie===304?fr="notmodified":(fr=gr.state,Ot=gr.data,Wt=gr.error,At=!Wt)):(Wt=fr,(Ie||!fr)&&(fr="error",Ie<0&&(Ie=0))),be.status=Ie,be.statusText=(Ke||fr)+"",At?er.resolveWith(at,[Ot,fr,be]):er.rejectWith(at,[be,fr,Wt]),be.statusCode(nn),nn=void 0,Se&&Et.trigger(At?"ajaxSuccess":"ajaxError",[be,Oe,At?Ot:Wt]),qt.fireWith(at,[be,fr]),Se&&(Et.trigger("ajaxComplete",[be,Oe]),--x.active||x.event.trigger("ajaxStop")))}return be},getJSON:function(m,_,O){return x.get(m,_,O,"json")},getScript:function(m,_){return x.get(m,void 0,_,"script")}}),x.each(["get","post"],function(m,_){x[_]=function(O,z,K,Y){return g(z)&&(Y=Y||K,K=z,z=void 0),x.ajax(x.extend({url:O,type:_,dataType:Y,data:z,success:K},x.isPlainObject(O)&&O))}}),x.ajaxPrefilter(function(m){var _;for(_ in m.headers)_.toLowerCase()==="content-type"&&(m.contentType=m.headers[_]||"")}),x._evalUrl=function(m,_,O){return x.ajax({url:m,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(z){x.globalEval(z,_,O)}})},x.fn.extend({wrapAll:function(m){var _;return this[0]&&(g(m)&&(m=m.call(this[0])),_=x(m,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&_.insertBefore(this[0]),_.map(function(){for(var O=this;O.firstElementChild;)O=O.firstElementChild;return O}).append(this)),this},wrapInner:function(m){return g(m)?this.each(function(_){x(this).wrapInner(m.call(this,_))}):this.each(function(){var _=x(this),O=_.contents();O.length?O.wrapAll(m):_.append(m)})},wrap:function(m){var _=g(m);return this.each(function(O){x(this).wrapAll(_?m.call(this,O):m)})},unwrap:function(m){return this.parent(m).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(m){return!x.expr.pseudos.visible(m)},x.expr.pseudos.visible=function(m){return!!(m.offsetWidth||m.offsetHeight||m.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Fc={0:200,1223:204},jo=x.ajaxSettings.xhr();w.cors=!!jo&&"withCredentials"in jo,w.ajax=jo=!!jo,x.ajaxTransport(function(m){var _,O;if(w.cors||jo&&!m.crossDomain)return{send:function(z,K){var Y,ne=m.xhr();if(ne.open(m.type,m.url,m.async,m.username,m.password),m.xhrFields)for(Y in m.xhrFields)ne[Y]=m.xhrFields[Y];m.mimeType&&ne.overrideMimeType&&ne.overrideMimeType(m.mimeType),!m.crossDomain&&!z["X-Requested-With"]&&(z["X-Requested-With"]="XMLHttpRequest");for(Y in z)ne.setRequestHeader(Y,z[Y]);_=function(ve){return function(){_&&(_=O=ne.onload=ne.onerror=ne.onabort=ne.ontimeout=ne.onreadystatechange=null,ve==="abort"?ne.abort():ve==="error"?typeof ne.status!="number"?K(0,"error"):K(ne.status,ne.statusText):K(Fc[ne.status]||ne.status,ne.statusText,(ne.responseType||"text")!=="text"||typeof ne.responseText!="string"?{binary:ne.response}:{text:ne.responseText},ne.getAllResponseHeaders()))}},ne.onload=_(),O=ne.onerror=ne.ontimeout=_("error"),ne.onabort!==void 0?ne.onabort=O:ne.onreadystatechange=function(){ne.readyState===4&&t.setTimeout(function(){_&&O()})},_=_("abort");try{ne.send(m.hasContent&&m.data||null)}catch(ve){if(_)throw ve}},abort:function(){_&&_()}}}),x.ajaxPrefilter(function(m){m.crossDomain&&(m.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(m){return x.globalEval(m),m}}}),x.ajaxPrefilter("script",function(m){m.cache===void 0&&(m.cache=!1),m.crossDomain&&(m.type="GET")}),x.ajaxTransport("script",function(m){if(m.crossDomain||m.scriptAttrs){var _,O;return{send:function(z,K){_=x("<script>").attr(m.scriptAttrs||{}).prop({charset:m.scriptCharset,src:m.url}).on("load error",O=function(Y){_.remove(),O=null,Y&&K(Y.type==="error"?404:200,Y.type)}),v.head.appendChild(_[0])},abort:function(){O&&O()}}}});var ns=[],as=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var m=ns.pop()||x.expando+"_"+ni.guid++;return this[m]=!0,m}}),x.ajaxPrefilter("json jsonp",function(m,_,O){var z,K,Y,ne=m.jsonp!==!1&&(as.test(m.url)?"url":typeof m.data=="string"&&(m.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&as.test(m.data)&&"data");if(ne||m.dataTypes[0]==="jsonp")return z=m.jsonpCallback=g(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback,ne?m[ne]=m[ne].replace(as,"$1"+z):m.jsonp!==!1&&(m.url+=(Ii.test(m.url)?"&":"?")+m.jsonp+"="+z),m.converters["script json"]=function(){return Y||x.error(z+" was not called"),Y[0]},m.dataTypes[0]="json",K=t[z],t[z]=function(){Y=arguments},O.always(function(){K===void 0?x(t).removeProp(z):t[z]=K,m[z]&&(m.jsonpCallback=_.jsonpCallback,ns.push(z)),Y&&g(K)&&K(Y[0]),Y=K=void 0}),"script"}),w.createHTMLDocument=function(){var m=v.implementation.createHTMLDocument("").body;return m.innerHTML="<form></form><form></form>",m.childNodes.length===2}(),x.parseHTML=function(m,_,O){if(typeof m!="string")return[];typeof _=="boolean"&&(O=_,_=!1);var z,K,Y;return _||(w.createHTMLDocument?(_=v.implementation.createHTMLDocument(""),z=_.createElement("base"),z.href=v.location.href,_.head.appendChild(z)):_=v),K=M.exec(m),Y=!O&&[],K?[_.createElement(K[1])]:(K=Cn([m],_,Y),Y&&Y.length&&x(Y).remove(),x.merge([],K.childNodes))},x.fn.load=function(m,_,O){var z,K,Y,ne=this,ve=m.indexOf(" ");return ve>-1&&(z=Hs(m.slice(ve)),m=m.slice(0,ve)),g(_)?(O=_,_=void 0):_&&typeof _=="object"&&(K="POST"),ne.length>0&&x.ajax({url:m,type:K||"GET",dataType:"html",data:_}).done(function(xe){Y=arguments,ne.html(z?x("<div>").append(x.parseHTML(xe)).find(z):xe)}).always(O&&function(xe,Se){ne.each(function(){O.apply(this,Y||[xe.responseText,Se,xe])})}),this},x.expr.pseudos.animated=function(m){return x.grep(x.timers,function(_){return m===_.elem}).length},x.offset={setOffset:function(m,_,O){var z,K,Y,ne,ve,xe,Se,Ue=x.css(m,"position"),Je=x(m),Oe={};Ue==="static"&&(m.style.position="relative"),ve=Je.offset(),Y=x.css(m,"top"),xe=x.css(m,"left"),Se=(Ue==="absolute"||Ue==="fixed")&&(Y+xe).indexOf("auto")>-1,Se?(z=Je.position(),ne=z.top,K=z.left):(ne=parseFloat(Y)||0,K=parseFloat(xe)||0),g(_)&&(_=_.call(m,O,x.extend({},ve))),_.top!=null&&(Oe.top=_.top-ve.top+ne),_.left!=null&&(Oe.left=_.left-ve.left+K),"using"in _?_.using.call(m,Oe):Je.css(Oe)}},x.fn.extend({offset:function(m){if(arguments.length)return m===void 0?this:this.each(function(K){x.offset.setOffset(this,m,K)});var _,O,z=this[0];if(z)return z.getClientRects().length?(_=z.getBoundingClientRect(),O=z.ownerDocument.defaultView,{top:_.top+O.pageYOffset,left:_.left+O.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var m,_,O,z=this[0],K={top:0,left:0};if(x.css(z,"position")==="fixed")_=z.getBoundingClientRect();else{for(_=this.offset(),O=z.ownerDocument,m=z.offsetParent||O.documentElement;m&&(m===O.body||m===O.documentElement)&&x.css(m,"position")==="static";)m=m.parentNode;m&&m!==z&&m.nodeType===1&&(K=x(m).offset(),K.top+=x.css(m,"borderTopWidth",!0),K.left+=x.css(m,"borderLeftWidth",!0))}return{top:_.top-K.top-x.css(z,"marginTop",!0),left:_.left-K.left-x.css(z,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var m=this.offsetParent;m&&x.css(m,"position")==="static";)m=m.offsetParent;return m||mn})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(m,_){var O=_==="pageYOffset";x.fn[m]=function(z){return rt(this,function(K,Y,ne){var ve;if(A(K)?ve=K:K.nodeType===9&&(ve=K.defaultView),ne===void 0)return ve?ve[_]:K[Y];ve?ve.scrollTo(O?ve.pageXOffset:ne,O?ne:ve.pageYOffset):K[Y]=ne},m,z,arguments.length)}}),x.each(["top","left"],function(m,_){x.cssHooks[_]=Cc(w.pixelPosition,function(O,z){if(z)return z=bo(O,_),Us.test(z)?x(O).position()[_]+"px":z})}),x.each({Height:"height",Width:"width"},function(m,_){x.each({padding:"inner"+m,content:_,"":"outer"+m},function(O,z){x.fn[z]=function(K,Y){var ne=arguments.length&&(O||typeof K!="boolean"),ve=O||(K===!0||Y===!0?"margin":"border");return rt(this,function(xe,Se,Ue){var Je;return A(xe)?z.indexOf("outer")===0?xe["inner"+m]:xe.document.documentElement["client"+m]:xe.nodeType===9?(Je=xe.documentElement,Math.max(xe.body["scroll"+m],Je["scroll"+m],xe.body["offset"+m],Je["offset"+m],Je["client"+m])):Ue===void 0?x.css(xe,Se,ve):x.style(xe,Se,Ue,ve)},_,ne?K:void 0,ne)}})}),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(m,_){x.fn[_]=function(O){return this.on(_,O)}}),x.fn.extend({bind:function(m,_,O){return this.on(m,null,_,O)},unbind:function(m,_){return this.off(m,null,_)},delegate:function(m,_,O,z){return this.on(_,m,O,z)},undelegate:function(m,_,O){return arguments.length===1?this.off(m,"**"):this.off(_,m||"**",O)},hover:function(m,_){return this.on("mouseenter",m).on("mouseleave",_||m)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(m,_){x.fn[_]=function(O,z){return arguments.length>0?this.on(_,null,O,z):this.trigger(_)}});var ku=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;x.proxy=function(m,_){var O,z,K;if(typeof _=="string"&&(O=m[_],_=m,m=O),!!g(m))return z=o.call(arguments,2),K=function(){return m.apply(_||this,z.concat(o.call(arguments)))},K.guid=m.guid=m.guid||x.guid++,K},x.holdReady=function(m){m?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=S,x.isFunction=g,x.isWindow=A,x.camelCase=we,x.type=H,x.now=Date.now,x.isNumeric=function(m){var _=x.type(m);return(_==="number"||_==="string")&&!isNaN(m-parseFloat(m))},x.trim=function(m){return m==null?"":(m+"").replace(ku,"$1")};var No=t.jQuery,ss=t.$;return x.noConflict=function(m){return t.$===x&&(t.$=ss),m&&t.jQuery===x&&(t.jQuery=No),x},typeof r>"u"&&(t.jQuery=t.$=x),x})}(Cy)),Cy.exports}var UV=mb();const e6=$k(UV);var zV={exports:{}};/*! Select2 4.1.0-rc.0 | https://github.com/select2/select2/blob/master/LICENSE.md */(function(e,t){(function(r){e.exports?e.exports=function(n,a){return a===void 0&&(a=typeof window<"u"?mb():mb()(n)),r(a),a}:r(jQuery)})(function(r){var n,a,o,i,l,c,d,u,f,b,p,w,g,A,v,v=((I=r&&r.fn&&r.fn.select2&&r.fn.select2.amd?r.fn.select2.amd:I)&&I.requirejs||(I?a=I:I={},u={},f={},b={},p={},w=Object.prototype.hasOwnProperty,g=[].slice,A=/\.js$/,c=function(S,q){var y,k,P=F(S),E=P[0],q=q[1];return S=P[1],E&&(y=U(E=R(E,q))),E?S=y&&y.normalize?y.normalize(S,(k=q,function(B){return R(B,k)})):R(S,q):(E=(P=F(S=R(S,q)))[0],S=P[1],E&&(y=U(E))),{f:E?E+"!"+S:S,n:S,pr:E,p:y}},d={require:function(S){return H(S)},exports:function(S){var C=u[S];return C!==void 0?C:u[S]={}},module:function(S){return{id:S,uri:"",exports:u[S],config:(C=S,function(){return b&&b.config&&b.config[C]||{}})};var C}},i=function(S,C,y,k){var P,E,q,B,G,V=[],ee=typeof y,le=x(k=k||S);if(ee=="undefined"||ee=="function"){for(C=!C.length&&y.length?["require","exports","module"]:C,B=0;B<C.length;B+=1)if((E=(q=c(C[B],le)).f)==="require")V[B]=d.require(S);else if(E==="exports")V[B]=d.exports(S),G=!0;else if(E==="module")P=V[B]=d.module(S);else if(j(u,E)||j(f,E)||j(p,E))V[B]=U(E);else{if(!q.p)throw new Error(S+" missing "+E);q.p.load(q.n,H(k,!0),function(Q){return function(M){u[Q]=M}}(E),{}),V[B]=u[E]}ee=y?y.apply(u[S],V):void 0,S&&(P&&P.exports!==o&&P.exports!==u[S]?u[S]=P.exports:ee===o&&G||(u[S]=ee))}else S&&(u[S]=y)},n=a=l=function(S,C,y,k,P){if(typeof S=="string")return d[S]?d[S](C):U(c(S,x(C)).f);if(!S.splice){if((b=S).deps&&l(b.deps,b.callback),!C)return;C.splice?(S=C,C=y,y=null):S=o}return C=C||function(){},typeof y=="function"&&(y=k,k=P),k?i(o,S,C,y):setTimeout(function(){i(o,S,C,y)},4),l},l.config=function(S){return l(S)},n._defined=u,(v=function(S,C,y){if(typeof S!="string")throw new Error("See almond README: incorrect module build, no module name");C.splice||(y=C,C=[]),j(u,S)||j(f,S)||(f[S]=[S,C,y])}).amd={jQuery:!0},I.requirejs=n,I.require=a,I.define=v),I.define("almond",function(){}),I.define("jquery",[],function(){var S=r||$;return S==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),S}),I.define("select2/utils",["jquery"],function(S){var C={};function y(E){var q,B=E.prototype,G=[];for(q in B)typeof B[q]=="function"&&q!=="constructor"&&G.push(q);return G}C.Extend=function(E,q){var B,G={}.hasOwnProperty;function V(){this.constructor=E}for(B in q)G.call(q,B)&&(E[B]=q[B]);return V.prototype=q.prototype,E.prototype=new V,E.__super__=q.prototype,E},C.Decorate=function(E,q){var B=y(q),G=y(E);function V(){var J=Array.prototype.unshift,te=q.prototype.constructor.length,ue=E.prototype.constructor;0<te&&(J.call(arguments,E.prototype.constructor),ue=q.prototype.constructor),ue.apply(this,arguments)}q.displayName=E.displayName,V.prototype=new function(){this.constructor=V};for(var ee=0;ee<G.length;ee++){var le=G[ee];V.prototype[le]=E.prototype[le]}for(var Q=0;Q<B.length;Q++){var M=B[Q];V.prototype[M]=function(J){var te=function(){};J in V.prototype&&(te=V.prototype[J]);var ue=q.prototype[J];return function(){return Array.prototype.unshift.call(arguments,te),ue.apply(this,arguments)}}(M)}return V};function k(){this.listeners={}}k.prototype.on=function(E,q){this.listeners=this.listeners||{},E in this.listeners?this.listeners[E].push(q):this.listeners[E]=[q]},k.prototype.trigger=function(E){var q=Array.prototype.slice,B=q.call(arguments,1);this.listeners=this.listeners||{},(B=B??[]).length===0&&B.push({}),(B[0]._type=E)in this.listeners&&this.invoke(this.listeners[E],q.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},k.prototype.invoke=function(E,q){for(var B=0,G=E.length;B<G;B++)E[B].apply(this,q)},C.Observable=k,C.generateChars=function(E){for(var q="",B=0;B<E;B++)q+=Math.floor(36*Math.random()).toString(36);return q},C.bind=function(E,q){return function(){E.apply(q,arguments)}},C._convertData=function(E){for(var q in E){var B=q.split("-"),G=E;if(B.length!==1){for(var V=0;V<B.length;V++){var ee=B[V];(ee=ee.substring(0,1).toLowerCase()+ee.substring(1))in G||(G[ee]={}),V==B.length-1&&(G[ee]=E[q]),G=G[ee]}delete E[q]}}return E},C.hasScroll=function(E,q){var B=S(q),G=q.style.overflowX,V=q.style.overflowY;return(G!==V||V!=="hidden"&&V!=="visible")&&(G==="scroll"||V==="scroll"||B.innerHeight()<q.scrollHeight||B.innerWidth()<q.scrollWidth)},C.escapeMarkup=function(E){var q={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof E!="string"?E:String(E).replace(/[&<>"'\/\\]/g,function(B){return q[B]})},C.__cache={};var P=0;return C.GetUniqueElementId=function(E){var q=E.getAttribute("data-select2-id");return q!=null||(q=E.id?"select2-data-"+E.id:"select2-data-"+(++P).toString()+"-"+C.generateChars(4),E.setAttribute("data-select2-id",q)),q},C.StoreData=function(E,q,B){E=C.GetUniqueElementId(E),C.__cache[E]||(C.__cache[E]={}),C.__cache[E][q]=B},C.GetData=function(E,q){var B=C.GetUniqueElementId(E);return q?C.__cache[B]&&C.__cache[B][q]!=null?C.__cache[B][q]:S(E).data(q):C.__cache[B]},C.RemoveData=function(E){var q=C.GetUniqueElementId(E);C.__cache[q]!=null&&delete C.__cache[q],E.removeAttribute("data-select2-id")},C.copyNonInternalCssClasses=function(E,G){var B=(B=E.getAttribute("class").trim().split(/\s+/)).filter(function(V){return V.indexOf("select2-")===0}),G=(G=G.getAttribute("class").trim().split(/\s+/)).filter(function(V){return V.indexOf("select2-")!==0}),G=B.concat(G);E.setAttribute("class",G.join(" "))},C}),I.define("select2/results",["jquery","./utils"],function(S,C){function y(k,P,E){this.$element=k,this.data=E,this.options=P,y.__super__.constructor.call(this)}return C.Extend(y,C.Observable),y.prototype.render=function(){var k=S('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&k.attr("aria-multiselectable","true"),this.$results=k},y.prototype.clear=function(){this.$results.empty()},y.prototype.displayMessage=function(k){var P=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var E=S('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),q=this.options.get("translations").get(k.message);E.append(P(q(k.args))),E[0].className+=" select2-results__message",this.$results.append(E)},y.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},y.prototype.append=function(k){this.hideLoading();var P=[];if(k.results!=null&&k.results.length!==0){k.results=this.sort(k.results);for(var E=0;E<k.results.length;E++){var q=k.results[E],q=this.option(q);P.push(q)}this.$results.append(P)}else this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"})},y.prototype.position=function(k,P){P.find(".select2-results").append(k)},y.prototype.sort=function(k){return this.options.get("sorter")(k)},y.prototype.highlightFirstItem=function(){var k=this.$results.find(".select2-results__option--selectable"),P=k.filter(".select2-results__option--selected");(0<P.length?P:k).first().trigger("mouseenter"),this.ensureHighlightVisible()},y.prototype.setClasses=function(){var k=this;this.data.current(function(P){var E=P.map(function(q){return q.id.toString()});k.$results.find(".select2-results__option--selectable").each(function(){var q=S(this),B=C.GetData(this,"data"),G=""+B.id;B.element!=null&&B.element.selected||B.element==null&&-1<E.indexOf(G)?(this.classList.add("select2-results__option--selected"),q.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),q.attr("aria-selected","false"))})})},y.prototype.showLoading=function(k){this.hideLoading(),k={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(k)},k=this.option(k),k.className+=" loading-results",this.$results.prepend(k)},y.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},y.prototype.option=function(k){var P=document.createElement("li");P.classList.add("select2-results__option"),P.classList.add("select2-results__option--selectable");var E,q={role:"option"},B=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(E in(k.element!=null&&B.call(k.element,":disabled")||k.element==null&&k.disabled)&&(q["aria-disabled"]="true",P.classList.remove("select2-results__option--selectable"),P.classList.add("select2-results__option--disabled")),k.id==null&&P.classList.remove("select2-results__option--selectable"),k._resultId!=null&&(P.id=k._resultId),k.title&&(P.title=k.title),k.children&&(q.role="group",q["aria-label"]=k.text,P.classList.remove("select2-results__option--selectable"),P.classList.add("select2-results__option--group")),q){var G=q[E];P.setAttribute(E,G)}if(k.children){var V=S(P),ee=document.createElement("strong");ee.className="select2-results__group",this.template(k,ee);for(var le=[],Q=0;Q<k.children.length;Q++){var M=k.children[Q],M=this.option(M);le.push(M)}B=S("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"}),B.append(le),V.append(ee),V.append(B)}else this.template(k,P);return C.StoreData(P,"data",k),P},y.prototype.bind=function(k,P){var E=this,q=k.id+"-results";this.$results.attr("id",q),k.on("results:all",function(B){E.clear(),E.append(B.data),k.isOpen()&&(E.setClasses(),E.highlightFirstItem())}),k.on("results:append",function(B){E.append(B.data),k.isOpen()&&E.setClasses()}),k.on("query",function(B){E.hideMessages(),E.showLoading(B)}),k.on("select",function(){k.isOpen()&&(E.setClasses(),E.options.get("scrollAfterSelect")&&E.highlightFirstItem())}),k.on("unselect",function(){k.isOpen()&&(E.setClasses(),E.options.get("scrollAfterSelect")&&E.highlightFirstItem())}),k.on("open",function(){E.$results.attr("aria-expanded","true"),E.$results.attr("aria-hidden","false"),E.setClasses(),E.ensureHighlightVisible()}),k.on("close",function(){E.$results.attr("aria-expanded","false"),E.$results.attr("aria-hidden","true"),E.$results.removeAttr("aria-activedescendant")}),k.on("results:toggle",function(){var B=E.getHighlightedResults();B.length!==0&&B.trigger("mouseup")}),k.on("results:select",function(){var B,G=E.getHighlightedResults();G.length!==0&&(B=C.GetData(G[0],"data"),G.hasClass("select2-results__option--selected")?E.trigger("close",{}):E.trigger("select",{data:B}))}),k.on("results:previous",function(){var B,G=E.getHighlightedResults(),V=E.$results.find(".select2-results__option--selectable"),ee=V.index(G);ee<=0||(B=ee-1,G.length===0&&(B=0),(ee=V.eq(B)).trigger("mouseenter"),G=E.$results.offset().top,V=ee.offset().top,ee=E.$results.scrollTop()+(V-G),B===0?E.$results.scrollTop(0):V-G<0&&E.$results.scrollTop(ee))}),k.on("results:next",function(){var B,G=E.getHighlightedResults(),V=E.$results.find(".select2-results__option--selectable"),ee=V.index(G)+1;ee>=V.length||((B=V.eq(ee)).trigger("mouseenter"),G=E.$results.offset().top+E.$results.outerHeight(!1),V=B.offset().top+B.outerHeight(!1),B=E.$results.scrollTop()+V-G,ee===0?E.$results.scrollTop(0):G<V&&E.$results.scrollTop(B))}),k.on("results:focus",function(B){B.element[0].classList.add("select2-results__option--highlighted"),B.element[0].setAttribute("aria-selected","true")}),k.on("results:message",function(B){E.displayMessage(B)}),S.fn.mousewheel&&this.$results.on("mousewheel",function(B){var G=E.$results.scrollTop(),V=E.$results.get(0).scrollHeight-G+B.deltaY,G=0<B.deltaY&&G-B.deltaY<=0,V=B.deltaY<0&&V<=E.$results.height();G?(E.$results.scrollTop(0),B.preventDefault(),B.stopPropagation()):V&&(E.$results.scrollTop(E.$results.get(0).scrollHeight-E.$results.height()),B.preventDefault(),B.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(B){var G=S(this),V=C.GetData(this,"data");G.hasClass("select2-results__option--selected")?E.options.get("multiple")?E.trigger("unselect",{originalEvent:B,data:V}):E.trigger("close",{}):E.trigger("select",{originalEvent:B,data:V})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(B){var G=C.GetData(this,"data");E.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),E.trigger("results:focus",{data:G,element:S(this)})})},y.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},y.prototype.destroy=function(){this.$results.remove()},y.prototype.ensureHighlightVisible=function(){var k,P,E,q,B=this.getHighlightedResults();B.length!==0&&(k=this.$results.find(".select2-results__option--selectable").index(B),q=this.$results.offset().top,P=B.offset().top,E=this.$results.scrollTop()+(P-q),q=P-q,E-=2*B.outerHeight(!1),k<=2?this.$results.scrollTop(0):(q>this.$results.outerHeight()||q<0)&&this.$results.scrollTop(E))},y.prototype.template=function(B,P){var E=this.options.get("templateResult"),q=this.options.get("escapeMarkup"),B=E(B,P);B==null?P.style.display="none":typeof B=="string"?P.innerHTML=q(B):S(P).append(B)},y}),I.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),I.define("select2/selection/base",["jquery","../utils","../keys"],function(S,C,y){function k(P,E){this.$element=P,this.options=E,k.__super__.constructor.call(this)}return C.Extend(k,C.Observable),k.prototype.render=function(){var P=S('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,C.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=C.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),P.attr("title",this.$element.attr("title")),P.attr("tabindex",this._tabindex),P.attr("aria-disabled","false"),this.$selection=P},k.prototype.bind=function(P,E){var q=this,B=P.id+"-results";this.container=P,this.$selection.on("focus",function(G){q.trigger("focus",G)}),this.$selection.on("blur",function(G){q._handleBlur(G)}),this.$selection.on("keydown",function(G){q.trigger("keypress",G),G.which===y.SPACE&&G.preventDefault()}),P.on("results:focus",function(G){q.$selection.attr("aria-activedescendant",G.data._resultId)}),P.on("selection:update",function(G){q.update(G.data)}),P.on("open",function(){q.$selection.attr("aria-expanded","true"),q.$selection.attr("aria-owns",B),q._attachCloseHandler(P)}),P.on("close",function(){q.$selection.attr("aria-expanded","false"),q.$selection.removeAttr("aria-activedescendant"),q.$selection.removeAttr("aria-owns"),q.$selection.trigger("focus"),q._detachCloseHandler(P)}),P.on("enable",function(){q.$selection.attr("tabindex",q._tabindex),q.$selection.attr("aria-disabled","false")}),P.on("disable",function(){q.$selection.attr("tabindex","-1"),q.$selection.attr("aria-disabled","true")})},k.prototype._handleBlur=function(P){var E=this;window.setTimeout(function(){document.activeElement==E.$selection[0]||S.contains(E.$selection[0],document.activeElement)||E.trigger("blur",P)},1)},k.prototype._attachCloseHandler=function(P){S(document.body).on("mousedown.select2."+P.id,function(E){var q=S(E.target).closest(".select2");S(".select2.select2-container--open").each(function(){this!=q[0]&&C.GetData(this,"element").select2("close")})})},k.prototype._detachCloseHandler=function(P){S(document.body).off("mousedown.select2."+P.id)},k.prototype.position=function(P,E){E.find(".selection").append(P)},k.prototype.destroy=function(){this._detachCloseHandler(this.container)},k.prototype.update=function(P){throw new Error("The `update` method must be defined in child classes.")},k.prototype.isEnabled=function(){return!this.isDisabled()},k.prototype.isDisabled=function(){return this.options.get("disabled")},k}),I.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(S,C,y,k){function P(){P.__super__.constructor.apply(this,arguments)}return y.Extend(P,C),P.prototype.render=function(){var E=P.__super__.render.call(this);return E[0].classList.add("select2-selection--single"),E.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),E},P.prototype.bind=function(E,q){var B=this;P.__super__.bind.apply(this,arguments);var G=E.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",G).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",G),this.$selection.attr("aria-controls",G),this.$selection.on("mousedown",function(V){V.which===1&&B.trigger("toggle",{originalEvent:V})}),this.$selection.on("focus",function(V){}),this.$selection.on("blur",function(V){}),E.on("focus",function(V){E.isOpen()||B.$selection.trigger("focus")})},P.prototype.clear=function(){var E=this.$selection.find(".select2-selection__rendered");E.empty(),E.removeAttr("title")},P.prototype.display=function(E,q){var B=this.options.get("templateSelection");return this.options.get("escapeMarkup")(B(E,q))},P.prototype.selectionContainer=function(){return S("<span></span>")},P.prototype.update=function(E){var q,B;E.length!==0?(B=E[0],q=this.$selection.find(".select2-selection__rendered"),E=this.display(B,q),q.empty().append(E),(B=B.title||B.text)?q.attr("title",B):q.removeAttr("title")):this.clear()},P}),I.define("select2/selection/multiple",["jquery","./base","../utils"],function(S,C,y){function k(P,E){k.__super__.constructor.apply(this,arguments)}return y.Extend(k,C),k.prototype.render=function(){var P=k.__super__.render.call(this);return P[0].classList.add("select2-selection--multiple"),P.html('<ul class="select2-selection__rendered"></ul>'),P},k.prototype.bind=function(P,E){var q=this;k.__super__.bind.apply(this,arguments);var B=P.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",B),this.$selection.on("click",function(G){q.trigger("toggle",{originalEvent:G})}),this.$selection.on("click",".select2-selection__choice__remove",function(G){var V;q.isDisabled()||(V=S(this).parent(),V=y.GetData(V[0],"data"),q.trigger("unselect",{originalEvent:G,data:V}))}),this.$selection.on("keydown",".select2-selection__choice__remove",function(G){q.isDisabled()||G.stopPropagation()})},k.prototype.clear=function(){var P=this.$selection.find(".select2-selection__rendered");P.empty(),P.removeAttr("title")},k.prototype.display=function(P,E){var q=this.options.get("templateSelection");return this.options.get("escapeMarkup")(q(P,E))},k.prototype.selectionContainer=function(){return S('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},k.prototype.update=function(P){if(this.clear(),P.length!==0){for(var E=[],q=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",B=0;B<P.length;B++){var G=P[B],V=this.selectionContainer(),ee=this.display(G,V),le=q+y.generateChars(4)+"-";G.id?le+=G.id:le+=y.generateChars(4),V.find(".select2-selection__choice__display").append(ee).attr("id",le);var Q=G.title||G.text;Q&&V.attr("title",Q),ee=this.options.get("translations").get("removeItem"),Q=V.find(".select2-selection__choice__remove"),Q.attr("title",ee()),Q.attr("aria-label",ee()),Q.attr("aria-describedby",le),y.StoreData(V[0],"data",G),E.push(V)}this.$selection.find(".select2-selection__rendered").append(E)}},k}),I.define("select2/selection/placeholder",[],function(){function S(C,y,k){this.placeholder=this.normalizePlaceholder(k.get("placeholder")),C.call(this,y,k)}return S.prototype.normalizePlaceholder=function(C,y){return y=typeof y=="string"?{id:"",text:y}:y},S.prototype.createPlaceholder=function(C,y){var k=this.selectionContainer();return k.html(this.display(y)),k[0].classList.add("select2-selection__placeholder"),k[0].classList.remove("select2-selection__choice"),y=y.title||y.text||k.text(),this.$selection.find(".select2-selection__rendered").attr("title",y),k},S.prototype.update=function(C,y){var k=y.length==1&&y[0].id!=this.placeholder.id;if(1<y.length||k)return C.call(this,y);this.clear(),y=this.createPlaceholder(this.placeholder),this.$selection.find(".select2-selection__rendered").append(y)},S}),I.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(S,C,y){function k(){}return k.prototype.bind=function(P,E,q){var B=this;P.call(this,E,q),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(G){B._handleClear(G)}),E.on("keypress",function(G){B._handleKeyboardClear(G,E)})},k.prototype._handleClear=function(P,E){if(!this.isDisabled()){var q=this.$selection.find(".select2-selection__clear");if(q.length!==0){E.stopPropagation();var B=y.GetData(q[0],"data"),G=this.$element.val();this.$element.val(this.placeholder.id);var V={data:B};if(this.trigger("clear",V),V.prevented)this.$element.val(G);else{for(var ee=0;ee<B.length;ee++)if(V={data:B[ee]},this.trigger("unselect",V),V.prevented)return void this.$element.val(G);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},k.prototype._handleKeyboardClear=function(P,E,q){q.isOpen()||E.which!=C.DELETE&&E.which!=C.BACKSPACE||this._handleClear(E)},k.prototype.update=function(P,E){var q,B;P.call(this,E),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),0<this.$selection.find(".select2-selection__placeholder").length||E.length===0||(q=this.$selection.find(".select2-selection__rendered").attr("id"),B=this.options.get("translations").get("removeAllItems"),(P=S('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title",B()),P.attr("aria-label",B()),P.attr("aria-describedby",q),y.StoreData(P[0],"data",E),this.$selection.prepend(P),this.$selection[0].classList.add("select2-selection--clearable"))},k}),I.define("select2/selection/search",["jquery","../utils","../keys"],function(S,C,y){function k(P,E,q){P.call(this,E,q)}return k.prototype.render=function(P){var E=this.options.get("translations").get("search"),q=S('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');return this.$searchContainer=q,this.$search=q.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",E()),P=P.call(this),this._transferTabIndex(),P.append(this.$searchContainer),P},k.prototype.bind=function(P,ee,q){var B=this,G=ee.id+"-results",V=ee.id+"-container";P.call(this,ee,q),B.$search.attr("aria-describedby",V),ee.on("open",function(){B.$search.attr("aria-controls",G),B.$search.trigger("focus")}),ee.on("close",function(){B.$search.val(""),B.resizeSearch(),B.$search.removeAttr("aria-controls"),B.$search.removeAttr("aria-activedescendant"),B.$search.trigger("focus")}),ee.on("enable",function(){B.$search.prop("disabled",!1),B._transferTabIndex()}),ee.on("disable",function(){B.$search.prop("disabled",!0)}),ee.on("focus",function(Q){B.$search.trigger("focus")}),ee.on("results:focus",function(Q){Q.data._resultId?B.$search.attr("aria-activedescendant",Q.data._resultId):B.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(Q){B.trigger("focus",Q)}),this.$selection.on("focusout",".select2-search--inline",function(Q){B._handleBlur(Q)}),this.$selection.on("keydown",".select2-search--inline",function(Q){var M;Q.stopPropagation(),B.trigger("keypress",Q),B._keyUpPrevented=Q.isDefaultPrevented(),Q.which!==y.BACKSPACE||B.$search.val()!==""||0<(M=B.$selection.find(".select2-selection__choice").last()).length&&(M=C.GetData(M[0],"data"),B.searchRemoveChoice(M),Q.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(Q){B.$search.val()&&Q.stopPropagation()});var ee=document.documentMode,le=ee&&ee<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(Q){le?B.$selection.off("input.search input.searchcheck"):B.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(Q){var M;le&&Q.type==="input"?B.$selection.off("input.search input.searchcheck"):(M=Q.which)!=y.SHIFT&&M!=y.CTRL&&M!=y.ALT&&M!=y.TAB&&B.handleSearch(Q)})},k.prototype._transferTabIndex=function(P){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},k.prototype.createPlaceholder=function(P,E){this.$search.attr("placeholder",E.text)},k.prototype.update=function(P,E){var q=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),P.call(this,E),this.resizeSearch(),q&&this.$search.trigger("focus")},k.prototype.handleSearch=function(){var P;this.resizeSearch(),this._keyUpPrevented||(P=this.$search.val(),this.trigger("query",{term:P})),this._keyUpPrevented=!1},k.prototype.searchRemoveChoice=function(P,E){this.trigger("unselect",{data:E}),this.$search.val(E.text),this.handleSearch()},k.prototype.resizeSearch=function(){this.$search.css("width","25px");var P="100%";this.$search.attr("placeholder")===""&&(P=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",P)},k}),I.define("select2/selection/selectionCss",["../utils"],function(S){function C(){}return C.prototype.render=function(P){var k=P.call(this),P=this.options.get("selectionCssClass")||"";return P.indexOf(":all:")!==-1&&(P=P.replace(":all:",""),S.copyNonInternalCssClasses(k[0],this.$element[0])),k.addClass(P),k},C}),I.define("select2/selection/eventRelay",["jquery"],function(S){function C(){}return C.prototype.bind=function(y,k,P){var E=this,q=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],B=["opening","closing","selecting","unselecting","clearing"];y.call(this,k,P),k.on("*",function(G,V){var ee;q.indexOf(G)!==-1&&(V=V||{},ee=S.Event("select2:"+G,{params:V}),E.$element.trigger(ee),B.indexOf(G)!==-1&&(V.prevented=ee.isDefaultPrevented()))})},C}),I.define("select2/translation",["jquery","require"],function(S,C){function y(k){this.dict=k||{}}return y.prototype.all=function(){return this.dict},y.prototype.get=function(k){return this.dict[k]},y.prototype.extend=function(k){this.dict=S.extend({},k.all(),this.dict)},y._cache={},y.loadPath=function(k){var P;return k in y._cache||(P=C(k),y._cache[k]=P),new y(y._cache[k])},y}),I.define("select2/diacritics",[],function(){return{"":"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A","":"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B",:"B",:"B",:"B",:"B","":"B",:"B",:"B","":"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C","":"C","":"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D","":"D",:"DZ",:"DZ",:"Dz",:"Dz","":"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"F",:"F",:"F",:"F","":"F","":"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G","":"G","":"G","":"G","":"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H","":"H","":"H","":"H","":"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"J",:"J",:"J","":"J","":"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K","":"K","":"K","":"K","":"K","":"K","":"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L",:"LJ",:"Lj","":"M",:"M",:"M",:"M",:"M","":"M",:"M","":"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N","":"N","":"N",:"NJ",:"Nj","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"OE",:"OI","":"OO",:"OU","":"P",:"P",:"P",:"P",:"P","":"P","":"P","":"P","":"P","":"Q",:"Q","":"Q","":"Q","":"Q","":"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"R","":"R","":"R","":"S",:"S","":"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S","":"S","":"S","":"S","":"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T","":"T","":"T","":"TZ","":"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"U","":"V",:"V",:"V",:"V",:"V","":"V","":"V","":"VY","":"W",:"W",:"W",:"W",:"W",:"W",:"W",:"W","":"W","":"X",:"X",:"X",:"X","":"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y","":"Y","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z","":"Z","":"Z","":"Z","":"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay","":"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b","":"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c","":"c","":"c","":"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d","":"d",:"dz",:"dz","":"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e",:"e","":"f",:"f",:"f",:"f","":"f","":"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g","":"g","":"g","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h","":"h","":"h",:"h",:"hv","":"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"j",:"j",:"j",:"j","":"j","":"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k","":"k","":"k","":"k","":"k","":"k","":"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l","":"l","":"l","":"l","":"l",:"lj","":"m",:"m",:"m",:"m",:"m",:"m",:"m","":"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"nj","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o",:"o",:"oe",:"oi",:"ou","":"oo","":"p",:"p",:"p",:"p",:"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q","":"q","":"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r","":"r","":"r","":"r","":"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"s","":"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t","":"t","":"t","":"tz","":"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"v",:"v",:"v",:"v",:"v","":"v",:"v","":"vy","":"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w","":"w","":"x",:"x",:"x",:"x","":"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y","":"y","":"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z","":"z","":"z","":"z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"'"}}),I.define("select2/data/base",["../utils"],function(S){function C(y,k){C.__super__.constructor.call(this)}return S.Extend(C,S.Observable),C.prototype.current=function(y){throw new Error("The `current` method must be defined in child classes.")},C.prototype.query=function(y,k){throw new Error("The `query` method must be defined in child classes.")},C.prototype.bind=function(y,k){},C.prototype.destroy=function(){},C.prototype.generateResultId=function(y,k){return y=y.id+"-result-",y+=S.generateChars(4),k.id!=null?y+="-"+k.id.toString():y+="-"+S.generateChars(4),y},C}),I.define("select2/data/select",["./base","../utils","jquery"],function(S,C,y){function k(P,E){this.$element=P,this.options=E,k.__super__.constructor.call(this)}return C.Extend(k,S),k.prototype.current=function(P){var E=this;P(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(q){return E.item(y(q))}))},k.prototype.select=function(P){var E,q=this;if(P.selected=!0,P.element!=null&&P.element.tagName.toLowerCase()==="option")return P.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(B){var G=[];(P=[P]).push.apply(P,B);for(var V=0;V<P.length;V++){var ee=P[V].id;G.indexOf(ee)===-1&&G.push(ee)}q.$element.val(G),q.$element.trigger("input").trigger("change")}):(E=P.id,this.$element.val(E),this.$element.trigger("input").trigger("change"))},k.prototype.unselect=function(P){var E=this;if(this.$element.prop("multiple")){if(P.selected=!1,P.element!=null&&P.element.tagName.toLowerCase()==="option")return P.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(q){for(var B=[],G=0;G<q.length;G++){var V=q[G].id;V!==P.id&&B.indexOf(V)===-1&&B.push(V)}E.$element.val(B),E.$element.trigger("input").trigger("change")})}},k.prototype.bind=function(P,E){var q=this;(this.container=P).on("select",function(B){q.select(B.data)}),P.on("unselect",function(B){q.unselect(B.data)})},k.prototype.destroy=function(){this.$element.find("*").each(function(){C.RemoveData(this)})},k.prototype.query=function(P,E){var q=[],B=this;this.$element.children().each(function(){var G;this.tagName.toLowerCase()!=="option"&&this.tagName.toLowerCase()!=="optgroup"||(G=y(this),G=B.item(G),(G=B.matches(P,G))!==null&&q.push(G))}),E({results:q})},k.prototype.addOptions=function(P){this.$element.append(P)},k.prototype.option=function(P){var E;return P.children?(E=document.createElement("optgroup")).label=P.text:(E=document.createElement("option")).textContent!==void 0?E.textContent=P.text:E.innerText=P.text,P.id!==void 0&&(E.value=P.id),P.disabled&&(E.disabled=!0),P.selected&&(E.selected=!0),P.title&&(E.title=P.title),P=this._normalizeItem(P),P.element=E,C.StoreData(E,"data",P),y(E)},k.prototype.item=function(P){var E={};if((E=C.GetData(P[0],"data"))!=null)return E;var q=P[0];if(q.tagName.toLowerCase()==="option")E={id:P.val(),text:P.text(),disabled:P.prop("disabled"),selected:P.prop("selected"),title:P.prop("title")};else if(q.tagName.toLowerCase()==="optgroup"){E={text:P.prop("label"),children:[],title:P.prop("title")};for(var B=P.children("option"),G=[],V=0;V<B.length;V++){var ee=y(B[V]),ee=this.item(ee);G.push(ee)}E.children=G}return(E=this._normalizeItem(E)).element=P[0],C.StoreData(P[0],"data",E),E},k.prototype._normalizeItem=function(P){return P!==Object(P)&&(P={id:P,text:P}),(P=y.extend({},{text:""},P)).id!=null&&(P.id=P.id.toString()),P.text!=null&&(P.text=P.text.toString()),P._resultId==null&&P.id&&this.container!=null&&(P._resultId=this.generateResultId(this.container,P)),y.extend({},{selected:!1,disabled:!1},P)},k.prototype.matches=function(P,E){return this.options.get("matcher")(P,E)},k}),I.define("select2/data/array",["./select","../utils","jquery"],function(S,C,y){function k(P,E){this._dataToConvert=E.get("data")||[],k.__super__.constructor.call(this,P,E)}return C.Extend(k,S),k.prototype.bind=function(P,E){k.__super__.bind.call(this,P,E),this.addOptions(this.convertToOptions(this._dataToConvert))},k.prototype.select=function(P){var E=this.$element.find("option").filter(function(q,B){return B.value==P.id.toString()});E.length===0&&(E=this.option(P),this.addOptions(E)),k.__super__.select.call(this,P)},k.prototype.convertToOptions=function(P){for(var E=this,q=this.$element.find("option"),B=q.map(function(){return E.item(y(this)).id}).get(),G=[],V=0;V<P.length;V++){var ee,le,Q=this._normalizeItem(P[V]);0<=B.indexOf(Q.id)?(ee=q.filter(function(M){return function(){return y(this).val()==M.id}}(Q)),le=this.item(ee),le=y.extend(!0,{},Q,le),le=this.option(le),ee.replaceWith(le)):(le=this.option(Q),Q.children&&(Q=this.convertToOptions(Q.children),le.append(Q)),G.push(le))}return G},k}),I.define("select2/data/ajax",["./array","../utils","jquery"],function(S,C,y){function k(P,E){this.ajaxOptions=this._applyDefaults(E.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),k.__super__.constructor.call(this,P,E)}return C.Extend(k,S),k.prototype._applyDefaults=function(P){var E={data:function(q){return y.extend({},q,{q:q.term})},transport:function(q,B,G){return q=y.ajax(q),q.then(B),q.fail(G),q}};return y.extend({},E,P,!0)},k.prototype.processResults=function(P){return P},k.prototype.query=function(P,E){var q=this;this._request!=null&&(typeof this._request.abort=="function"&&this._request.abort(),this._request=null);var B=y.extend({type:"GET"},this.ajaxOptions);function G(){var V=B.transport(B,function(ee){ee=q.processResults(ee,P),q.options.get("debug")&&window.console&&console.error&&(ee&&ee.results&&Array.isArray(ee.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),E(ee)},function(){"status"in V&&(V.status===0||V.status==="0")||q.trigger("results:message",{message:"errorLoading"})});q._request=V}typeof B.url=="function"&&(B.url=B.url.call(this.$element,P)),typeof B.data=="function"&&(B.data=B.data.call(this.$element,P)),this.ajaxOptions.delay&&P.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(G,this.ajaxOptions.delay)):G()},k}),I.define("select2/data/tags",["jquery"],function(S){function C(y,k,P){var E=P.get("tags"),q=P.get("createTag");if(q!==void 0&&(this.createTag=q),q=P.get("insertTag"),q!==void 0&&(this.insertTag=q),y.call(this,k,P),Array.isArray(E))for(var B=0;B<E.length;B++){var G=E[B],G=this._normalizeItem(G),G=this.option(G);this.$element.append(G)}}return C.prototype.query=function(y,k,P){var E=this;this._removeOldTags(),k.term!=null&&k.page==null?y.call(this,k,function q(B,G){for(var V=B.results,ee=0;ee<V.length;ee++){var le=V[ee],Q=le.children!=null&&!q({results:le.children},!0);if((le.text||"").toUpperCase()===(k.term||"").toUpperCase()||Q)return!G&&(B.data=V,void P(B))}if(G)return!0;var M,J=E.createTag(k);J!=null&&((M=E.option(J)).attr("data-select2-tag","true"),E.addOptions([M]),E.insertTag(V,J)),B.results=V,P(B)}):y.call(this,k,P)},C.prototype.createTag=function(y,k){return k.term==null?null:(k=k.term.trim(),k===""?null:{id:k,text:k})},C.prototype.insertTag=function(y,k,P){k.unshift(P)},C.prototype._removeOldTags=function(y){this.$element.find("option[data-select2-tag]").each(function(){this.selected||S(this).remove()})},C}),I.define("select2/data/tokenizer",["jquery"],function(S){function C(y,k,P){var E=P.get("tokenizer");E!==void 0&&(this.tokenizer=E),y.call(this,k,P)}return C.prototype.bind=function(y,k,P){y.call(this,k,P),this.$search=k.dropdown.$search||k.selection.$search||P.find(".select2-search__field")},C.prototype.query=function(y,k,P){var E=this;k.term=k.term||"";var q=this.tokenizer(k,this.options,function(B){var G,V=E._normalizeItem(B);E.$element.find("option").filter(function(){return S(this).val()===V.id}).length||((G=E.option(V)).attr("data-select2-tag",!0),E._removeOldTags(),E.addOptions([G])),G=V,E.trigger("select",{data:G})});q.term!==k.term&&(this.$search.length&&(this.$search.val(q.term),this.$search.trigger("focus")),k.term=q.term),y.call(this,k,P)},C.prototype.tokenizer=function(y,k,P,E){for(var q=P.get("tokenSeparators")||[],B=k.term,G=0,V=this.createTag||function(le){return{id:le.term,text:le.term}};G<B.length;){var ee=B[G];q.indexOf(ee)!==-1?(ee=B.substr(0,G),(ee=V(S.extend({},k,{term:ee})))!=null?(E(ee),B=B.substr(G+1)||"",G=0):G++):G++}return{term:B}},C}),I.define("select2/data/minimumInputLength",[],function(){function S(C,y,k){this.minimumInputLength=k.get("minimumInputLength"),C.call(this,y,k)}return S.prototype.query=function(C,y,k){y.term=y.term||"",y.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:y.term,params:y}}):C.call(this,y,k)},S}),I.define("select2/data/maximumInputLength",[],function(){function S(C,y,k){this.maximumInputLength=k.get("maximumInputLength"),C.call(this,y,k)}return S.prototype.query=function(C,y,k){y.term=y.term||"",0<this.maximumInputLength&&y.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:y.term,params:y}}):C.call(this,y,k)},S}),I.define("select2/data/maximumSelectionLength",[],function(){function S(C,y,k){this.maximumSelectionLength=k.get("maximumSelectionLength"),C.call(this,y,k)}return S.prototype.bind=function(C,y,k){var P=this;C.call(this,y,k),y.on("select",function(){P._checkIfMaximumSelected()})},S.prototype.query=function(C,y,k){var P=this;this._checkIfMaximumSelected(function(){C.call(P,y,k)})},S.prototype._checkIfMaximumSelected=function(C,y){var k=this;this.current(function(P){P=P!=null?P.length:0,0<k.maximumSelectionLength&&P>=k.maximumSelectionLength?k.trigger("results:message",{message:"maximumSelected",args:{maximum:k.maximumSelectionLength}}):y&&y()})},S}),I.define("select2/dropdown",["jquery","./utils"],function(S,C){function y(k,P){this.$element=k,this.options=P,y.__super__.constructor.call(this)}return C.Extend(y,C.Observable),y.prototype.render=function(){var k=S('<span class="select2-dropdown"><span class="select2-results"></span></span>');return k.attr("dir",this.options.get("dir")),this.$dropdown=k},y.prototype.bind=function(){},y.prototype.position=function(k,P){},y.prototype.destroy=function(){this.$dropdown.remove()},y}),I.define("select2/dropdown/search",["jquery"],function(S){function C(){}return C.prototype.render=function(E){var k=E.call(this),P=this.options.get("translations").get("search"),E=S('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=E,this.$search=E.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",P()),k.prepend(E),k},C.prototype.bind=function(y,k,P){var E=this,q=k.id+"-results";y.call(this,k,P),this.$search.on("keydown",function(B){E.trigger("keypress",B),E._keyUpPrevented=B.isDefaultPrevented()}),this.$search.on("input",function(B){S(this).off("keyup")}),this.$search.on("keyup input",function(B){E.handleSearch(B)}),k.on("open",function(){E.$search.attr("tabindex",0),E.$search.attr("aria-controls",q),E.$search.trigger("focus"),window.setTimeout(function(){E.$search.trigger("focus")},0)}),k.on("close",function(){E.$search.attr("tabindex",-1),E.$search.removeAttr("aria-controls"),E.$search.removeAttr("aria-activedescendant"),E.$search.val(""),E.$search.trigger("blur")}),k.on("focus",function(){k.isOpen()||E.$search.trigger("focus")}),k.on("results:all",function(B){B.query.term!=null&&B.query.term!==""||(E.showSearch(B)?E.$searchContainer[0].classList.remove("select2-search--hide"):E.$searchContainer[0].classList.add("select2-search--hide"))}),k.on("results:focus",function(B){B.data._resultId?E.$search.attr("aria-activedescendant",B.data._resultId):E.$search.removeAttr("aria-activedescendant")})},C.prototype.handleSearch=function(y){var k;this._keyUpPrevented||(k=this.$search.val(),this.trigger("query",{term:k})),this._keyUpPrevented=!1},C.prototype.showSearch=function(y,k){return!0},C}),I.define("select2/dropdown/hidePlaceholder",[],function(){function S(C,y,k,P){this.placeholder=this.normalizePlaceholder(k.get("placeholder")),C.call(this,y,k,P)}return S.prototype.append=function(C,y){y.results=this.removePlaceholder(y.results),C.call(this,y)},S.prototype.normalizePlaceholder=function(C,y){return y=typeof y=="string"?{id:"",text:y}:y},S.prototype.removePlaceholder=function(C,y){for(var k=y.slice(0),P=y.length-1;0<=P;P--){var E=y[P];this.placeholder.id===E.id&&k.splice(P,1)}return k},S}),I.define("select2/dropdown/infiniteScroll",["jquery"],function(S){function C(y,k,P,E){this.lastParams={},y.call(this,k,P,E),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return C.prototype.append=function(y,k){this.$loadingMore.remove(),this.loading=!1,y.call(this,k),this.showLoadingMore(k)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},C.prototype.bind=function(y,k,P){var E=this;y.call(this,k,P),k.on("query",function(q){E.lastParams=q,E.loading=!0}),k.on("query:append",function(q){E.lastParams=q,E.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},C.prototype.loadMoreIfNeeded=function(){var y=S.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&y&&(y=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=y+50&&this.loadMore())},C.prototype.loadMore=function(){this.loading=!0;var y=S.extend({},{page:1},this.lastParams);y.page++,this.trigger("query:append",y)},C.prototype.showLoadingMore=function(y,k){return k.pagination&&k.pagination.more},C.prototype.createLoadingMore=function(){var y=S('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),k=this.options.get("translations").get("loadingMore");return y.html(k(this.lastParams)),y},C}),I.define("select2/dropdown/attachBody",["jquery","../utils"],function(S,C){function y(k,P,E){this.$dropdownParent=S(E.get("dropdownParent")||document.body),k.call(this,P,E)}return y.prototype.bind=function(k,P,E){var q=this;k.call(this,P,E),P.on("open",function(){q._showDropdown(),q._attachPositioningHandler(P),q._bindContainerResultHandlers(P)}),P.on("close",function(){q._hideDropdown(),q._detachPositioningHandler(P)}),this.$dropdownContainer.on("mousedown",function(B){B.stopPropagation()})},y.prototype.destroy=function(k){k.call(this),this.$dropdownContainer.remove()},y.prototype.position=function(k,P,E){P.attr("class",E.attr("class")),P[0].classList.remove("select2"),P[0].classList.add("select2-container--open"),P.css({position:"absolute",top:-999999}),this.$container=E},y.prototype.render=function(E){var P=S("<span></span>"),E=E.call(this);return P.append(E),this.$dropdownContainer=P},y.prototype._hideDropdown=function(k){this.$dropdownContainer.detach()},y.prototype._bindContainerResultHandlers=function(k,P){var E;this._containerResultsHandlersBound||(E=this,P.on("results:all",function(){E._positionDropdown(),E._resizeDropdown()}),P.on("results:append",function(){E._positionDropdown(),E._resizeDropdown()}),P.on("results:message",function(){E._positionDropdown(),E._resizeDropdown()}),P.on("select",function(){E._positionDropdown(),E._resizeDropdown()}),P.on("unselect",function(){E._positionDropdown(),E._resizeDropdown()}),this._containerResultsHandlersBound=!0)},y.prototype._attachPositioningHandler=function(k,V){var E=this,q="scroll.select2."+V.id,B="resize.select2."+V.id,G="orientationchange.select2."+V.id,V=this.$container.parents().filter(C.hasScroll);V.each(function(){C.StoreData(this,"select2-scroll-position",{x:S(this).scrollLeft(),y:S(this).scrollTop()})}),V.on(q,function(ee){var le=C.GetData(this,"select2-scroll-position");S(this).scrollTop(le.y)}),S(window).on(q+" "+B+" "+G,function(ee){E._positionDropdown(),E._resizeDropdown()})},y.prototype._detachPositioningHandler=function(k,B){var E="scroll.select2."+B.id,q="resize.select2."+B.id,B="orientationchange.select2."+B.id;this.$container.parents().filter(C.hasScroll).off(E),S(window).off(E+" "+q+" "+B)},y.prototype._positionDropdown=function(){var ee=S(window),k=this.$dropdown[0].classList.contains("select2-dropdown--above"),P=this.$dropdown[0].classList.contains("select2-dropdown--below"),E=null,q=this.$container.offset();q.bottom=q.top+this.$container.outerHeight(!1);var B={height:this.$container.outerHeight(!1)};B.top=q.top,B.bottom=q.top+B.height;var G=this.$dropdown.outerHeight(!1),le=ee.scrollTop(),Q=ee.scrollTop()+ee.height(),V=le<q.top-G,ee=Q>q.bottom+G,le={left:q.left,top:B.bottom},Q=this.$dropdownParent;Q.css("position")==="static"&&(Q=Q.offsetParent()),q={top:0,left:0},(S.contains(document.body,Q[0])||Q[0].isConnected)&&(q=Q.offset()),le.top-=q.top,le.left-=q.left,k||P||(E="below"),ee||!V||k?!V&&ee&&k&&(E="below"):E="above",(E=="above"||k&&E!=="below")&&(le.top=B.top-q.top-G),E!=null&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+E),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+E)),this.$dropdownContainer.css(le)},y.prototype._resizeDropdown=function(){var k={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(k.minWidth=k.width,k.position="relative",k.width="auto"),this.$dropdown.css(k)},y.prototype._showDropdown=function(k){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},y}),I.define("select2/dropdown/minimumResultsForSearch",[],function(){function S(C,y,k,P){this.minimumResultsForSearch=k.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),C.call(this,y,k,P)}return S.prototype.showSearch=function(C,y){return!(function k(P){for(var E=0,q=0;q<P.length;q++){var B=P[q];B.children?E+=k(B.children):E++}return E}(y.data.results)<this.minimumResultsForSearch)&&C.call(this,y)},S}),I.define("select2/dropdown/selectOnClose",["../utils"],function(S){function C(){}return C.prototype.bind=function(y,k,P){var E=this;y.call(this,k,P),k.on("close",function(q){E._handleSelectOnClose(q)})},C.prototype._handleSelectOnClose=function(y,k){if(k&&k.originalSelect2Event!=null){var P=k.originalSelect2Event;if(P._type==="select"||P._type==="unselect")return}P=this.getHighlightedResults(),P.length<1||(P=S.GetData(P[0],"data")).element!=null&&P.element.selected||P.element==null&&P.selected||this.trigger("select",{data:P})},C}),I.define("select2/dropdown/closeOnSelect",[],function(){function S(){}return S.prototype.bind=function(C,y,k){var P=this;C.call(this,y,k),y.on("select",function(E){P._selectTriggered(E)}),y.on("unselect",function(E){P._selectTriggered(E)})},S.prototype._selectTriggered=function(C,y){var k=y.originalEvent;k&&(k.ctrlKey||k.metaKey)||this.trigger("close",{originalEvent:k,originalSelect2Event:y})},S}),I.define("select2/dropdown/dropdownCss",["../utils"],function(S){function C(){}return C.prototype.render=function(P){var k=P.call(this),P=this.options.get("dropdownCssClass")||"";return P.indexOf(":all:")!==-1&&(P=P.replace(":all:",""),S.copyNonInternalCssClasses(k[0],this.$element[0])),k.addClass(P),k},C}),I.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(S){function C(){}return C.prototype.highlightFirstItem=function(y){var k=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(0<k.length){var P=k.first(),k=S.GetData(P[0],"data").element;if(k&&k.getAttribute&&k.getAttribute("data-select2-tag")==="true")return void P.trigger("mouseenter")}y.call(this)},C}),I.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(y){var C=y.input.length-y.maximum,y="Please delete "+C+" character";return C!=1&&(y+="s"),y},inputTooShort:function(S){return"Please enter "+(S.minimum-S.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(S){var C="You can only select "+S.maximum+" item";return S.maximum!=1&&(C+="s"),C},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),I.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(S,C,y,k,P,E,q,B,G,V,ee,le,Q,M,J,te,ue,ie,de,ye,pe,Ee,$e,qe,Ye,dt,Me,ge,yt,rt,Ge){function et(){this.reset()}return et.prototype.apply=function(se){var we;(se=S.extend(!0,{},this.defaults,se)).dataAdapter==null&&(se.ajax!=null?se.dataAdapter=J:se.data!=null?se.dataAdapter=M:se.dataAdapter=Q,0<se.minimumInputLength&&(se.dataAdapter=V.Decorate(se.dataAdapter,ie)),0<se.maximumInputLength&&(se.dataAdapter=V.Decorate(se.dataAdapter,de)),0<se.maximumSelectionLength&&(se.dataAdapter=V.Decorate(se.dataAdapter,ye)),se.tags&&(se.dataAdapter=V.Decorate(se.dataAdapter,te)),se.tokenSeparators==null&&se.tokenizer==null||(se.dataAdapter=V.Decorate(se.dataAdapter,ue))),se.resultsAdapter==null&&(se.resultsAdapter=C,se.ajax!=null&&(se.resultsAdapter=V.Decorate(se.resultsAdapter,qe)),se.placeholder!=null&&(se.resultsAdapter=V.Decorate(se.resultsAdapter,$e)),se.selectOnClose&&(se.resultsAdapter=V.Decorate(se.resultsAdapter,Me)),se.tags&&(se.resultsAdapter=V.Decorate(se.resultsAdapter,rt))),se.dropdownAdapter==null&&(se.multiple?se.dropdownAdapter=pe:(we=V.Decorate(pe,Ee),se.dropdownAdapter=we),se.minimumResultsForSearch!==0&&(se.dropdownAdapter=V.Decorate(se.dropdownAdapter,dt)),se.closeOnSelect&&(se.dropdownAdapter=V.Decorate(se.dropdownAdapter,ge)),se.dropdownCssClass!=null&&(se.dropdownAdapter=V.Decorate(se.dropdownAdapter,yt)),se.dropdownAdapter=V.Decorate(se.dropdownAdapter,Ye)),se.selectionAdapter==null&&(se.multiple?se.selectionAdapter=k:se.selectionAdapter=y,se.placeholder!=null&&(se.selectionAdapter=V.Decorate(se.selectionAdapter,P)),se.allowClear&&(se.selectionAdapter=V.Decorate(se.selectionAdapter,E)),se.multiple&&(se.selectionAdapter=V.Decorate(se.selectionAdapter,q)),se.selectionCssClass!=null&&(se.selectionAdapter=V.Decorate(se.selectionAdapter,B)),se.selectionAdapter=V.Decorate(se.selectionAdapter,G)),se.language=this._resolveLanguage(se.language),se.language.push("en");for(var Ae=[],tt=0;tt<se.language.length;tt++){var Fe=se.language[tt];Ae.indexOf(Fe)===-1&&Ae.push(Fe)}return se.language=Ae,se.translations=this._processTranslations(se.language,se.debug),se},et.prototype.reset=function(){function se(we){return we.replace(/[^\u0000-\u007E]/g,function(Ae){return le[Ae]||Ae})}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:V.escapeMarkup,language:{},matcher:function we(Ae,tt){if(Ae.term==null||Ae.term.trim()==="")return tt;if(tt.children&&0<tt.children.length){for(var Fe=S.extend(!0,{},tt),st=tt.children.length-1;0<=st;st--)we(Ae,tt.children[st])==null&&Fe.children.splice(st,1);return 0<Fe.children.length?Fe:we(Ae,Fe)}var Nt=se(tt.text).toUpperCase(),Tt=se(Ae.term).toUpperCase();return-1<Nt.indexOf(Tt)?tt:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(we){return we},templateResult:function(we){return we.text},templateSelection:function(we){return we.text},theme:"default",width:"resolve"}},et.prototype.applyFromElement=function(se,st){var Ae=se.language,tt=this.defaults.language,Fe=st.prop("lang"),st=st.closest("[lang]").prop("lang"),st=Array.prototype.concat.call(this._resolveLanguage(Fe),this._resolveLanguage(Ae),this._resolveLanguage(tt),this._resolveLanguage(st));return se.language=st,se},et.prototype._resolveLanguage=function(se){if(!se)return[];if(S.isEmptyObject(se))return[];if(S.isPlainObject(se))return[se];for(var we,Ae=Array.isArray(se)?se:[se],tt=[],Fe=0;Fe<Ae.length;Fe++)tt.push(Ae[Fe]),typeof Ae[Fe]=="string"&&0<Ae[Fe].indexOf("-")&&(we=Ae[Fe].split("-")[0],tt.push(we));return tt},et.prototype._processTranslations=function(se,we){for(var Ae=new ee,tt=0;tt<se.length;tt++){var Fe=new ee,st=se[tt];if(typeof st=="string")try{Fe=ee.loadPath(st)}catch{try{st=this.defaults.amdLanguageBase+st,Fe=ee.loadPath(st)}catch{we&&window.console&&console.warn&&console.warn('Select2: The language file for "'+st+'" could not be automatically loaded. A fallback will be used instead.')}}else Fe=S.isPlainObject(st)?new ee(st):st;Ae.extend(Fe)}return Ae},et.prototype.set=function(se,we){var Ae={};Ae[S.camelCase(se)]=we,Ae=V._convertData(Ae),S.extend(!0,this.defaults,Ae)},new et}),I.define("select2/options",["jquery","./defaults","./utils"],function(S,C,y){function k(P,E){this.options=P,E!=null&&this.fromElement(E),E!=null&&(this.options=C.applyFromElement(this.options,E)),this.options=C.apply(this.options)}return k.prototype.fromElement=function(P){var E=["select2"];this.options.multiple==null&&(this.options.multiple=P.prop("multiple")),this.options.disabled==null&&(this.options.disabled=P.prop("disabled")),this.options.autocomplete==null&&P.prop("autocomplete")&&(this.options.autocomplete=P.prop("autocomplete")),this.options.dir==null&&(P.prop("dir")?this.options.dir=P.prop("dir"):P.closest("[dir]").prop("dir")?this.options.dir=P.closest("[dir]").prop("dir"):this.options.dir="ltr"),P.prop("disabled",this.options.disabled),P.prop("multiple",this.options.multiple),y.GetData(P[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),y.StoreData(P[0],"data",y.GetData(P[0],"select2Tags")),y.StoreData(P[0],"tags",!0)),y.GetData(P[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),P.attr("ajax--url",y.GetData(P[0],"ajaxUrl")),y.StoreData(P[0],"ajax-Url",y.GetData(P[0],"ajaxUrl")));var q={};function B(M,J){return J.toUpperCase()}for(var G=0;G<P[0].attributes.length;G++){var V=P[0].attributes[G].name,ee="data-";V.substr(0,ee.length)==ee&&(V=V.substring(ee.length),ee=y.GetData(P[0],V),q[V.replace(/-([a-z])/g,B)]=ee)}S.fn.jquery&&S.fn.jquery.substr(0,2)=="1."&&P[0].dataset&&(q=S.extend(!0,{},P[0].dataset,q));var le,Q=S.extend(!0,{},y.GetData(P[0]),q);for(le in Q=y._convertData(Q))-1<E.indexOf(le)||(S.isPlainObject(this.options[le])?S.extend(this.options[le],Q[le]):this.options[le]=Q[le]);return this},k.prototype.get=function(P){return this.options[P]},k.prototype.set=function(P,E){this.options[P]=E},k}),I.define("select2/core",["jquery","./options","./utils","./keys"],function(S,C,y,k){var P=function(E,q){y.GetData(E[0],"select2")!=null&&y.GetData(E[0],"select2").destroy(),this.$element=E,this.id=this._generateId(E),q=q||{},this.options=new C(q,E),P.__super__.constructor.call(this);var B=E.attr("tabindex")||0;y.StoreData(E[0],"old-tabindex",B),E.attr("tabindex","-1"),q=this.options.get("dataAdapter"),this.dataAdapter=new q(E,this.options),B=this.render(),this._placeContainer(B),q=this.options.get("selectionAdapter"),this.selection=new q(E,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,B),q=this.options.get("dropdownAdapter"),this.dropdown=new q(E,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,B),B=this.options.get("resultsAdapter"),this.results=new B(E,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var G=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(V){G.trigger("selection:update",{data:V})}),E[0].classList.add("select2-hidden-accessible"),E.attr("aria-hidden","true"),this._syncAttributes(),y.StoreData(E[0],"select2",this),E.data("select2",this)};return y.Extend(P,y.Observable),P.prototype._generateId=function(E){return"select2-"+(E.attr("id")!=null?E.attr("id"):E.attr("name")!=null?E.attr("name")+"-"+y.generateChars(2):y.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},P.prototype._placeContainer=function(E){E.insertAfter(this.$element);var q=this._resolveWidth(this.$element,this.options.get("width"));q!=null&&E.css("width",q)},P.prototype._resolveWidth=function(E,q){var B=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(q=="resolve"){var G=this._resolveWidth(E,"style");return G??this._resolveWidth(E,"element")}if(q=="element")return G=E.outerWidth(!1),G<=0?"auto":G+"px";if(q!="style")return q!="computedstyle"?q:window.getComputedStyle(E[0]).width;if(E=E.attr("style"),typeof E!="string")return null;for(var V=E.split(";"),ee=0,le=V.length;ee<le;ee+=1){var Q=V[ee].replace(/\s/g,"").match(B);if(Q!==null&&1<=Q.length)return Q[1]}return null},P.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},P.prototype._registerDomEvents=function(){var E=this;this.$element.on("change.select2",function(){E.dataAdapter.current(function(q){E.trigger("selection:update",{data:q})})}),this.$element.on("focus.select2",function(q){E.trigger("focus",q)}),this._syncA=y.bind(this._syncAttributes,this),this._syncS=y.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(q){E._syncA(),E._syncS(q)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},P.prototype._registerDataEvents=function(){var E=this;this.dataAdapter.on("*",function(q,B){E.trigger(q,B)})},P.prototype._registerSelectionEvents=function(){var E=this,q=["toggle","focus"];this.selection.on("toggle",function(){E.toggleDropdown()}),this.selection.on("focus",function(B){E.focus(B)}),this.selection.on("*",function(B,G){q.indexOf(B)===-1&&E.trigger(B,G)})},P.prototype._registerDropdownEvents=function(){var E=this;this.dropdown.on("*",function(q,B){E.trigger(q,B)})},P.prototype._registerResultsEvents=function(){var E=this;this.results.on("*",function(q,B){E.trigger(q,B)})},P.prototype._registerEvents=function(){var E=this;this.on("open",function(){E.$container[0].classList.add("select2-container--open")}),this.on("close",function(){E.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){E.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){E.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){E.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(q){E.isOpen()||E.trigger("open",{}),this.dataAdapter.query(q,function(B){E.trigger("results:all",{data:B,query:q})})}),this.on("query:append",function(q){this.dataAdapter.query(q,function(B){E.trigger("results:append",{data:B,query:q})})}),this.on("keypress",function(q){var B=q.which;E.isOpen()?B===k.ESC||B===k.UP&&q.altKey?(E.close(q),q.preventDefault()):B===k.ENTER||B===k.TAB?(E.trigger("results:select",{}),q.preventDefault()):B===k.SPACE&&q.ctrlKey?(E.trigger("results:toggle",{}),q.preventDefault()):B===k.UP?(E.trigger("results:previous",{}),q.preventDefault()):B===k.DOWN&&(E.trigger("results:next",{}),q.preventDefault()):(B===k.ENTER||B===k.SPACE||B===k.DOWN&&q.altKey)&&(E.open(),q.preventDefault())})},P.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},P.prototype._isChangeMutation=function(E){var q=this;if(E.addedNodes&&0<E.addedNodes.length){for(var B=0;B<E.addedNodes.length;B++)if(E.addedNodes[B].selected)return!0}else{if(E.removedNodes&&0<E.removedNodes.length)return!0;if(Array.isArray(E))return E.some(function(G){return q._isChangeMutation(G)})}return!1},P.prototype._syncSubtree=function(q){var q=this._isChangeMutation(q),B=this;q&&this.dataAdapter.current(function(G){B.trigger("selection:update",{data:G})})},P.prototype.trigger=function(E,q){var B=P.__super__.trigger,G={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(q===void 0&&(q={}),E in G){var V=G[E],G={prevented:!1,name:E,args:q};if(B.call(this,V,G),G.prevented)return void(q.prevented=!0)}B.call(this,E,q)},P.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},P.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},P.prototype.close=function(E){this.isOpen()&&this.trigger("close",{originalEvent:E})},P.prototype.isEnabled=function(){return!this.isDisabled()},P.prototype.isDisabled=function(){return this.options.get("disabled")},P.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},P.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},P.prototype.focus=function(E){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},P.prototype.enable=function(E){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),E=!(E=E==null||E.length===0?[!0]:E)[0],this.$element.prop("disabled",E)},P.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var E=[];return this.dataAdapter.current(function(q){E=q}),E},P.prototype.val=function(E){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),E==null||E.length===0)return this.$element.val();E=E[0],Array.isArray(E)&&(E=E.map(function(q){return q.toString()})),this.$element.val(E).trigger("input").trigger("change")},P.prototype.destroy=function(){y.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",y.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),y.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},P.prototype.render=function(){var E=S('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return E.attr("dir",this.options.get("dir")),this.$container=E,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),y.StoreData(E[0],"element",this.$element),E},P}),I.define("select2/dropdown/attachContainer",[],function(){function S(C,y,k){C.call(this,y,k)}return S.prototype.position=function(C,y,k){k.find(".dropdown-wrapper").append(y),y[0].classList.add("select2-dropdown--below"),k[0].classList.add("select2-container--below")},S}),I.define("select2/dropdown/stopPropagation",[],function(){function S(){}return S.prototype.bind=function(C,y,k){C.call(this,y,k),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(P){P.stopPropagation()})},S}),I.define("select2/selection/stopPropagation",[],function(){function S(){}return S.prototype.bind=function(C,y,k){C.call(this,y,k),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(P){P.stopPropagation()})},S}),v=function(S){var C,y,k=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],P="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],E=Array.prototype.slice;if(S.event.fixHooks)for(var q=k.length;q;)S.event.fixHooks[k[--q]]=S.event.mouseHooks;var B=S.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var le=P.length;le;)this.addEventListener(P[--le],G,!1);else this.onmousewheel=G;S.data(this,"mousewheel-line-height",B.getLineHeight(this)),S.data(this,"mousewheel-page-height",B.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var le=P.length;le;)this.removeEventListener(P[--le],G,!1);else this.onmousewheel=null;S.removeData(this,"mousewheel-line-height"),S.removeData(this,"mousewheel-page-height")},getLineHeight:function(M){var Q=S(M),M=Q["offsetParent"in S.fn?"offsetParent":"parent"]();return M.length||(M=S("body")),parseInt(M.css("fontSize"),10)||parseInt(Q.css("fontSize"),10)||16},getPageHeight:function(le){return S(le).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function G(le){var Q,M=le||window.event,J=E.call(arguments,1),te=0,ue=0,ie=0,de=0,ye=0,pe=0;if(le=S.event.fix(M),le.type="mousewheel","detail"in M&&(ie=-1*M.detail),"wheelDelta"in M&&(ie=M.wheelDelta),"wheelDeltaY"in M&&(ie=M.wheelDeltaY),"wheelDeltaX"in M&&(ue=-1*M.wheelDeltaX),"axis"in M&&M.axis===M.HORIZONTAL_AXIS&&(ue=-1*ie,ie=0),te=ie===0?ue:ie,"deltaY"in M&&(te=ie=-1*M.deltaY),"deltaX"in M&&(ue=M.deltaX,ie===0&&(te=-1*ue)),ie!==0||ue!==0)return M.deltaMode===1?(te*=Q=S.data(this,"mousewheel-line-height"),ie*=Q,ue*=Q):M.deltaMode===2&&(te*=Q=S.data(this,"mousewheel-page-height"),ie*=Q,ue*=Q),de=Math.max(Math.abs(ie),Math.abs(ue)),(!y||de<y)&&ee(M,y=de)&&(y/=40),ee(M,de)&&(te/=40,ue/=40,ie/=40),te=Math[1<=te?"floor":"ceil"](te/y),ue=Math[1<=ue?"floor":"ceil"](ue/y),ie=Math[1<=ie?"floor":"ceil"](ie/y),B.settings.normalizeOffset&&this.getBoundingClientRect&&(de=this.getBoundingClientRect(),ye=le.clientX-de.left,pe=le.clientY-de.top),le.deltaX=ue,le.deltaY=ie,le.deltaFactor=y,le.offsetX=ye,le.offsetY=pe,le.deltaMode=0,J.unshift(le,te,ue,ie),C&&clearTimeout(C),C=setTimeout(V,200),(S.event.dispatch||S.event.handle).apply(this,J)}function V(){y=null}function ee(le,Q){return B.settings.adjustOldDeltas&&le.type==="mousewheel"&&Q%120==0}S.fn.extend({mousewheel:function(le){return le?this.bind("mousewheel",le):this.trigger("mousewheel")},unmousewheel:function(le){return this.unbind("mousewheel",le)}})},typeof I.define=="function"&&I.define.amd?I.define("jquery-mousewheel",["jquery"],v):e.exports=v,I.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(S,C,y,k,P){var E;return S.fn.select2==null&&(E=["open","close","destroy"],S.fn.select2=function(q){if(typeof(q=q||{})=="object")return this.each(function(){var V=S.extend(!0,{},q);new y(S(this),V)}),this;if(typeof q!="string")throw new Error("Invalid arguments for Select2: "+q);var B,G=Array.prototype.slice.call(arguments,1);return this.each(function(){var V=P.GetData(this,"select2");V==null&&window.console&&console.error&&console.error("The select2('"+q+"') method was called on an element that is not using Select2."),B=V[q].apply(V,G)}),-1<E.indexOf(q)?this:B}),S.fn.select2.defaults==null&&(S.fn.select2.defaults=k),y}),{define:I.define,require:I.require});function j(S,C){return w.call(S,C)}function R(S,C){var y,k,P,E,q,B,G,V,ee,le,Q=C&&C.split("/"),M=b.map,J=M&&M["*"]||{};if(S){for(C=(S=S.split("/")).length-1,b.nodeIdCompat&&A.test(S[C])&&(S[C]=S[C].replace(A,"")),S[0].charAt(0)==="."&&Q&&(S=Q.slice(0,Q.length-1).concat(S)),V=0;V<S.length;V++)(le=S[V])==="."?(S.splice(V,1),--V):le===".."&&(V===0||V===1&&S[2]===".."||S[V-1]===".."||0<V&&(S.splice(V-1,2),V-=2));S=S.join("/")}if((Q||J)&&M){for(V=(y=S.split("/")).length;0<V;--V){if(k=y.slice(0,V).join("/"),Q){for(ee=Q.length;0<ee;--ee)if(P=M[Q.slice(0,ee).join("/")],P=P&&P[k]){E=P,q=V;break}}if(E)break;!B&&J&&J[k]&&(B=J[k],G=V)}!E&&B&&(E=B,q=G),E&&(y.splice(0,q,E),S=y.join("/"))}return S}function H(S,C){return function(){var y=g.call(arguments,0);return typeof y[0]!="string"&&y.length===1&&y.push(null),l.apply(o,y.concat([S,C]))}}function U(S){var C;if(j(f,S)&&(C=f[S],delete f[S],p[S]=!0,i.apply(o,C)),!j(u,S)&&!j(p,S))throw new Error("No "+S);return u[S]}function F(S){var C,y=S?S.indexOf("!"):-1;return-1<y&&(C=S.substring(0,y),S=S.substring(y+1,S.length)),[C,S]}function x(S){return S?F(S):[]}var I=v.require("jquery.select2");return r.fn.select2.amd=v,I})})(zV);function VV({isOpen:e,onClose:t,entry:r}){if(!e)return null;const n=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),a=o=>o?new Date(o).toLocaleDateString("pt-BR"):"-";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Lanamento"}),s.jsx("button",{onClick:t,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300 rounded-full p-1 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:s.jsx(Ht,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 pb-4 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:r.description}),s.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm",children:["ID: ",r.id]})]}),s.jsx("div",{className:`text-xl font-bold ${r.value<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:n(r.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(_l,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Data do Lanamento"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:a(r.date)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(_l,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Data de Competncia"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:a(r.competenceDate)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Iv,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Valor"}),s.jsx("p",{className:`font-medium ${r.value<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:n(r.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(g4,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"CNPJ"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.cnpj||"-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(hm,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Conta Bancria"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.bankAccount||"-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(El,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Categoria"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.category||"-"})]})]})]})]}),s.jsxs("div",{className:"pt-2 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.beneficiary||"-"})]}),r.attachments&&r.attachments.length>0&&s.jsxs("div",{className:"pt-2 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Anexos"}),s.jsx("div",{className:"space-y-2",children:r.attachments.map((o,i)=>s.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-2 bg-secondary-50 dark:bg-secondary-700 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(El,{className:"h-5 w-5 text-primary-500 mr-2"}),s.jsxs("span",{className:"text-secondary-900 dark:text-white text-sm",children:["Anexo ",i+1]})]},i))})]})]}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex justify-end",children:s.jsx("button",{onClick:t,className:"px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:"Fechar"})})]})})}function Ar(e){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(e)}var ba=Uint8Array,fs=Uint16Array,Rw=Int32Array,ng=new ba([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ag=new ba([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gb=new ba([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t6=function(e,t){for(var r=new fs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Rw(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)a[o]=o-r[n]<<5|n;return{b:r,r:a}},r6=t6(ng,2),n6=r6.b,yb=r6.r;n6[28]=258,yb[258]=28;var a6=t6(ag,0),HV=a6.b,uk=a6.r,xb=new fs(32768);for(var Kr=0;Kr<32768;++Kr){var Qi=(Kr&43690)>>1|(Kr&21845)<<1;Qi=(Qi&52428)>>2|(Qi&13107)<<2,Qi=(Qi&61680)>>4|(Qi&3855)<<4,xb[Kr]=((Qi&65280)>>8|(Qi&255)<<8)>>1}var zo=function(e,t,r){for(var n=e.length,a=0,o=new fs(t);a<n;++a)e[a]&&++o[e[a]-1];var i=new fs(t);for(a=1;a<t;++a)i[a]=i[a-1]+o[a-1]<<1;var l;if(r){l=new fs(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],f=i[e[a]-1]++<<u,b=f|(1<<u)-1;f<=b;++f)l[xb[f]>>c]=d}else for(l=new fs(n),a=0;a<n;++a)e[a]&&(l[a]=xb[i[e[a]-1]++]>>15-e[a]);return l},Al=new ba(288);for(var Kr=0;Kr<144;++Kr)Al[Kr]=8;for(var Kr=144;Kr<256;++Kr)Al[Kr]=9;for(var Kr=256;Kr<280;++Kr)Al[Kr]=7;for(var Kr=280;Kr<288;++Kr)Al[Kr]=8;var Wf=new ba(32);for(var Kr=0;Kr<32;++Kr)Wf[Kr]=5;var WV=zo(Al,9,0),GV=zo(Al,9,1),JV=zo(Wf,5,0),KV=zo(Wf,5,1),_y=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},to=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Ey=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Tw=function(e){return(e+7)/8|0},s6=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ba(e.subarray(t,r))},YV=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ao=function(e,t,r){var n=new Error(t||YV[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ao),!r)throw n;return n},XV=function(e,t,r,n){var a=e.length,o=0;if(!a||t.f&&!t.l)return r||new ba(0);var i=!r,l=i||t.i!=2,c=t.i;i&&(r=new ba(a*3));var d=function($e){var qe=r.length;if($e>qe){var Ye=new ba(Math.max(qe*2,$e));Ye.set(r),r=Ye}},u=t.f||0,f=t.p||0,b=t.b||0,p=t.l,w=t.d,g=t.m,A=t.n,v=a*8;do{if(!p){u=to(e,f,1);var j=to(e,f+1,3);if(f+=3,j)if(j==1)p=GV,w=KV,g=9,A=5;else if(j==2){var F=to(e,f,31)+257,x=to(e,f+10,15)+4,I=F+to(e,f+5,31)+1;f+=14;for(var S=new ba(I),C=new ba(19),y=0;y<x;++y)C[gb[y]]=to(e,f+y*3,7);f+=x*3;for(var k=_y(C),P=(1<<k)-1,E=zo(C,k,1),y=0;y<I;){var q=E[to(e,f,P)];f+=q&15;var R=q>>4;if(R<16)S[y++]=R;else{var B=0,G=0;for(R==16?(G=3+to(e,f,3),f+=2,B=S[y-1]):R==17?(G=3+to(e,f,7),f+=3):R==18&&(G=11+to(e,f,127),f+=7);G--;)S[y++]=B}}var V=S.subarray(0,F),ee=S.subarray(F);g=_y(V),A=_y(ee),p=zo(V,g,1),w=zo(ee,A,1)}else ao(1);else{var R=Tw(f)+4,H=e[R-4]|e[R-3]<<8,U=R+H;if(U>a){c&&ao(0);break}l&&d(b+H),r.set(e.subarray(R,U),b),t.b=b+=H,t.p=f=U*8,t.f=u;continue}if(f>v){c&&ao(0);break}}l&&d(b+131072);for(var le=(1<<g)-1,Q=(1<<A)-1,M=f;;M=f){var B=p[Ey(e,f)&le],J=B>>4;if(f+=B&15,f>v){c&&ao(0);break}if(B||ao(2),J<256)r[b++]=J;else if(J==256){M=f,p=null;break}else{var te=J-254;if(J>264){var y=J-257,ue=ng[y];te=to(e,f,(1<<ue)-1)+n6[y],f+=ue}var ie=w[Ey(e,f)&Q],de=ie>>4;ie||ao(3),f+=ie&15;var ee=HV[de];if(de>3){var ue=ag[de];ee+=Ey(e,f)&(1<<ue)-1,f+=ue}if(f>v){c&&ao(0);break}l&&d(b+131072);var ye=b+te;if(b<ee){var pe=o-ee,Ee=Math.min(ee,ye);for(pe+b<0&&ao(3);b<Ee;++b)r[b]=n[pe+b]}for(;b<ye;++b)r[b]=r[b-ee]}}t.l=p,t.p=M,t.b=b,t.f=u,p&&(u=1,t.m=g,t.d=w,t.n=A)}while(!u);return b!=r.length&&i?s6(r,0,b):r.subarray(0,b)},li=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},zu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Ay=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,o=r.slice();if(!a)return{t:i6,l:0};if(a==1){var i=new ba(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(U,F){return U.f-F.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[f].f?d++:f++],c=r[d!=u&&r[d].f<r[f].f?d++:f++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var b=o[0].s,n=1;n<a;++n)o[n].s>b&&(b=o[n].s);var p=new fs(b+1),w=bb(r[u-1],p,0);if(w>t){var n=0,g=0,A=w-t,v=1<<A;for(o.sort(function(F,x){return p[x.s]-p[F.s]||F.f-x.f});n<a;++n){var j=o[n].s;if(p[j]>t)g+=v-(1<<w-p[j]),p[j]=t;else break}for(g>>=A;g>0;){var R=o[n].s;p[R]<t?g-=1<<t-p[R]++-1:++n}for(;n>=0&&g;--n){var H=o[n].s;p[H]==t&&(--p[H],++g)}w=t}return{t:new ba(p),l:w}},bb=function(e,t,r){return e.s==-1?Math.max(bb(e.l,t,r+1),bb(e.r,t,r+1)):t[e.s]=r},fk=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new fs(++t),n=0,a=e[0],o=1,i=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(a),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(a);o=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Vu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},o6=function(e,t,r){var n=r.length,a=Tw(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var o=0;o<n;++o)e[a+o+4]=r[o];return(a+4+n)*8},hk=function(e,t,r,n,a,o,i,l,c,d,u){li(t,u++,r),++a[256];for(var f=Ay(a,15),b=f.t,p=f.l,w=Ay(o,15),g=w.t,A=w.l,v=fk(b),j=v.c,R=v.n,H=fk(g),U=H.c,F=H.n,x=new fs(19),I=0;I<j.length;++I)++x[j[I]&31];for(var I=0;I<U.length;++I)++x[U[I]&31];for(var S=Ay(x,7),C=S.t,y=S.l,k=19;k>4&&!C[gb[k-1]];--k);var P=d+5<<3,E=Vu(a,Al)+Vu(o,Wf)+i,q=Vu(a,b)+Vu(o,g)+i+14+3*k+Vu(x,C)+2*x[16]+3*x[17]+7*x[18];if(c>=0&&P<=E&&P<=q)return o6(t,u,e.subarray(c,c+d));var B,G,V,ee;if(li(t,u,1+(q<E)),u+=2,q<E){B=zo(b,p,0),G=b,V=zo(g,A,0),ee=g;var le=zo(C,y,0);li(t,u,R-257),li(t,u+5,F-1),li(t,u+10,k-4),u+=14;for(var I=0;I<k;++I)li(t,u+3*I,C[gb[I]]);u+=3*k;for(var Q=[j,U],M=0;M<2;++M)for(var J=Q[M],I=0;I<J.length;++I){var te=J[I]&31;li(t,u,le[te]),u+=C[te],te>15&&(li(t,u,J[I]>>5&127),u+=J[I]>>12)}}else B=WV,G=Al,V=JV,ee=Wf;for(var I=0;I<l;++I){var ue=n[I];if(ue>255){var te=ue>>18&31;zu(t,u,B[te+257]),u+=G[te+257],te>7&&(li(t,u,ue>>23&31),u+=ng[te]);var ie=ue&31;zu(t,u,V[ie]),u+=ee[ie],ie>3&&(zu(t,u,ue>>5&8191),u+=ag[ie])}else zu(t,u,B[ue]),u+=G[ue]}return zu(t,u,B[256]),u+G[256]},QV=new Rw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),i6=new ba(0),ZV=function(e,t,r,n,a,o){var i=o.z||e.length,l=new ba(n+i+5*(1+Math.ceil(i/7e3))+a),c=l.subarray(n,l.length-a),d=o.l,u=(o.r||0)&7;if(t){u&&(c[0]=o.r>>3);for(var f=QV[t-1],b=f>>13,p=f&8191,w=(1<<r)-1,g=o.p||new fs(32768),A=o.h||new fs(w+1),v=Math.ceil(r/3),j=2*v,R=function(dt){return(e[dt]^e[dt+1]<<v^e[dt+2]<<j)&w},H=new Rw(25e3),U=new fs(288),F=new fs(32),x=0,I=0,S=o.i||0,C=0,y=o.w||0,k=0;S+2<i;++S){var P=R(S),E=S&32767,q=A[P];if(g[E]=q,A[P]=E,y<=S){var B=i-S;if((x>7e3||C>24576)&&(B>423||!d)){u=hk(e,c,0,H,U,F,I,C,k,S-k,u),C=x=I=0,k=S;for(var G=0;G<286;++G)U[G]=0;for(var G=0;G<30;++G)F[G]=0}var V=2,ee=0,le=p,Q=E-q&32767;if(B>2&&P==R(S-Q))for(var M=Math.min(b,B)-1,J=Math.min(32767,S),te=Math.min(258,B);Q<=J&&--le&&E!=q;){if(e[S+V]==e[S+V-Q]){for(var ue=0;ue<te&&e[S+ue]==e[S+ue-Q];++ue);if(ue>V){if(V=ue,ee=Q,ue>M)break;for(var ie=Math.min(Q,ue-2),de=0,G=0;G<ie;++G){var ye=S-Q+G&32767,pe=g[ye],Ee=ye-pe&32767;Ee>de&&(de=Ee,q=ye)}}}E=q,q=g[E],Q+=E-q&32767}if(ee){H[C++]=268435456|yb[V]<<18|uk[ee];var $e=yb[V]&31,qe=uk[ee]&31;I+=ng[$e]+ag[qe],++U[257+$e],++F[qe],y=S+V,++x}else H[C++]=e[S],++U[e[S]]}}for(S=Math.max(S,y);S<i;++S)H[C++]=e[S],++U[e[S]];u=hk(e,c,d,H,U,F,I,C,k,S-k,u),d||(o.r=u&7|c[u/8|0]<<3,u-=7,o.h=A,o.p=g,o.i=S,o.w=y)}else{for(var S=o.w||0;S<i+d;S+=65535){var Ye=S+65535;Ye>=i&&(c[u/8|0]=d,Ye=i),u=o6(c,u+1,e.subarray(S,Ye))}o.i=i}return s6(l,0,n+Tw(u)+a)},l6=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,o=r.length|0,i=0;i!=o;){for(var l=Math.min(i+2655,o);i<l;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},eH=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),i=new ba(o.length+e.length);i.set(o),i.set(e,o.length),e=i,a.w=o.length}return ZV(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},c6=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},tH=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=l6();a.p(t.dictionary),c6(e,2,a.d())}},rH=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ao(6,"invalid zlib data"),(e[1]>>5&1)==1&&ao(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function vb(e,t){t||(t={});var r=l6();r.p(e);var n=eH(e,t,t.dictionary?6:2,4);return tH(n,t),c6(n,n.length-4,r.d()),n}function nH(e,t){return XV(e.subarray(rH(e),-4),{i:2},t,t)}var aH=typeof TextDecoder<"u"&&new TextDecoder,sH=0;try{aH.decode(i6,{stream:!0}),sH=1}catch{}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Py(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var $r={log:Py,warn:function(e){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):Py.call(null,arguments))},error:function(e){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):Py(e))}};function Dy(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Xl(n.response,t,r)},n.onerror=function(){$r.error("could not download file")},n.send()}function pk(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function pp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var mf,wb,Xl=Ut.saveAs||((typeof window>"u"?"undefined":Ar(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ut.URL||Ut.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?pk(a.href)?Dy(e,t,r):pp(a,a.target="_blank"):pp(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){pp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(pk(e))Dy(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){pp(n)})}else navigator.msSaveOrOpenBlob(function(a,o){return o===void 0?o={autoBom:!1}:Ar(o)!=="object"&&($r.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Dy(e,t,r);var a=e.type==="application/octet-stream",o=/constructor/i.test(Ut.HTMLElement)||Ut.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&o)&&(typeof FileReader>"u"?"undefined":Ar(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=Ut.URL||Ut.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function d6(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,o=r[n].process,i=a.exec(e);i&&(t=o(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ly(e,t){var r=e[0],n=e[1],a=e[2],o=e[3];r=fa(r,n,a,o,t[0],7,-680876936),o=fa(o,r,n,a,t[1],12,-389564586),a=fa(a,o,r,n,t[2],17,606105819),n=fa(n,a,o,r,t[3],22,-1044525330),r=fa(r,n,a,o,t[4],7,-176418897),o=fa(o,r,n,a,t[5],12,1200080426),a=fa(a,o,r,n,t[6],17,-1473231341),n=fa(n,a,o,r,t[7],22,-45705983),r=fa(r,n,a,o,t[8],7,1770035416),o=fa(o,r,n,a,t[9],12,-1958414417),a=fa(a,o,r,n,t[10],17,-42063),n=fa(n,a,o,r,t[11],22,-1990404162),r=fa(r,n,a,o,t[12],7,1804603682),o=fa(o,r,n,a,t[13],12,-40341101),a=fa(a,o,r,n,t[14],17,-1502002290),r=ha(r,n=fa(n,a,o,r,t[15],22,1236535329),a,o,t[1],5,-165796510),o=ha(o,r,n,a,t[6],9,-1069501632),a=ha(a,o,r,n,t[11],14,643717713),n=ha(n,a,o,r,t[0],20,-373897302),r=ha(r,n,a,o,t[5],5,-701558691),o=ha(o,r,n,a,t[10],9,38016083),a=ha(a,o,r,n,t[15],14,-660478335),n=ha(n,a,o,r,t[4],20,-405537848),r=ha(r,n,a,o,t[9],5,568446438),o=ha(o,r,n,a,t[14],9,-1019803690),a=ha(a,o,r,n,t[3],14,-187363961),n=ha(n,a,o,r,t[8],20,1163531501),r=ha(r,n,a,o,t[13],5,-1444681467),o=ha(o,r,n,a,t[2],9,-51403784),a=ha(a,o,r,n,t[7],14,1735328473),r=pa(r,n=ha(n,a,o,r,t[12],20,-1926607734),a,o,t[5],4,-378558),o=pa(o,r,n,a,t[8],11,-2022574463),a=pa(a,o,r,n,t[11],16,1839030562),n=pa(n,a,o,r,t[14],23,-35309556),r=pa(r,n,a,o,t[1],4,-1530992060),o=pa(o,r,n,a,t[4],11,1272893353),a=pa(a,o,r,n,t[7],16,-155497632),n=pa(n,a,o,r,t[10],23,-1094730640),r=pa(r,n,a,o,t[13],4,681279174),o=pa(o,r,n,a,t[0],11,-358537222),a=pa(a,o,r,n,t[3],16,-722521979),n=pa(n,a,o,r,t[6],23,76029189),r=pa(r,n,a,o,t[9],4,-640364487),o=pa(o,r,n,a,t[12],11,-421815835),a=pa(a,o,r,n,t[15],16,530742520),r=ma(r,n=pa(n,a,o,r,t[2],23,-995338651),a,o,t[0],6,-198630844),o=ma(o,r,n,a,t[7],10,1126891415),a=ma(a,o,r,n,t[14],15,-1416354905),n=ma(n,a,o,r,t[5],21,-57434055),r=ma(r,n,a,o,t[12],6,1700485571),o=ma(o,r,n,a,t[3],10,-1894986606),a=ma(a,o,r,n,t[10],15,-1051523),n=ma(n,a,o,r,t[1],21,-2054922799),r=ma(r,n,a,o,t[8],6,1873313359),o=ma(o,r,n,a,t[15],10,-30611744),a=ma(a,o,r,n,t[6],15,-1560198380),n=ma(n,a,o,r,t[13],21,1309151649),r=ma(r,n,a,o,t[4],6,-145523070),o=ma(o,r,n,a,t[11],10,-1120210379),a=ma(a,o,r,n,t[2],15,718787259),n=ma(n,a,o,r,t[9],21,-343485551),e[0]=ml(r,e[0]),e[1]=ml(n,e[1]),e[2]=ml(a,e[2]),e[3]=ml(o,e[3])}function sg(e,t,r,n,a,o){return t=ml(ml(t,e),ml(n,o)),ml(t<<a|t>>>32-a,r)}function fa(e,t,r,n,a,o,i){return sg(t&r|~t&n,e,t,a,o,i)}function ha(e,t,r,n,a,o,i){return sg(t&n|r&~n,e,t,a,o,i)}function pa(e,t,r,n,a,o,i){return sg(t^r^n,e,t,a,o,i)}function ma(e,t,r,n,a,o,i){return sg(r^(t|~n),e,t,a,o,i)}function u6(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ly(n,oH(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Ly(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Ly(n,a),n}function oH(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}mf=Ut.atob.bind(Ut),wb=Ut.btoa.bind(Ut);var mk="0123456789abcdef".split("");function iH(e){for(var t="",r=0;r<4;r++)t+=mk[e>>8*r+4&15]+mk[e>>8*r&15];return t}function lH(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function kb(e){return u6(e).map(lH).join("")}var cH=function(e){for(var t=0;t<e.length;t++)e[t]=iH(e[t]);return e.join("")}(u6("hello"))!="5d41402abc4b2a76b9719d911017c592";function ml(e,t){if(cH){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jb(e,t){var r,n,a,o;if(e!==r){for(var i=(a=e,o=1+(256/e.length>>0),new Array(o+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+i.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var f=t.length,b=0,p=0,w="";for(c=0;c<f;c++)p=(p+(u=l[b=(b+1)%256]))%256,l[b]=l[p],l[p]=u,i=l[(l[b]+l[p])%256],w+=String.fromCharCode(t.charCodeAt(c)^i);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gk={print:4,modify:8,copy:16,"annot-forms":32};function Zc(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(gk.perm!==void 0)throw new Error("Invalid permission: "+l);a+=gk[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,i),this.P=-(1+(255^a)),this.encryptionKey=kb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=jb(this.encryptionKey,this.padding)}function ed(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function yk(e){if(Ar(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var o=Math.random().toString(35);return t[r][o]=[n,!!a],o},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[r]){var i=t[r][o];try{i[0].apply(e,n)}catch(l){Ut.console&&$r.error("jsPDF PubSub Error",l.message,l)}i[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function H0(e){if(!(this instanceof H0))return new H0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function f6(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Zl(e,t,r,n,a){if(!(this instanceof Zl))return new Zl(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,f6.call(this,n,a)}function hd(e,t,r,n,a){if(!(this instanceof hd))return new hd(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,f6.call(this,n,a)}function $t(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],i=[],l=1,c=16,d="S",u=null;Ar(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,o=e.compress||e.compressPdf||o,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),i=e.filters||(o===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,b={},p={internal:{},__private__:{}};p.__private__.PubSub=yk;var w="1.3",g=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(D){w=D};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return A};var v=p.__private__.getPageFormat=function(D){return A[D]};a=a||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},R=j.COMPAT;function H(){this.saveGraphicsState(),ge(new mt(ut,0,0,-ut,0,qt()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),d="n",R=j.ADVANCED}function U(){this.restoreGraphicsState(),d="S",R=j.COMPAT}var F=p.__private__.combineFontStyleAndFontWeight=function(D,X){if(D=="bold"&&X=="normal"||D=="bold"&&X==400||D=="normal"&&X=="italic"||D=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(D=X==400||X==="normal"?D==="italic"?"italic":"normal":X!=700&&X!=="bold"||D!=="normal"?(X==700?"bold":X)+""+D:"bold"),D};p.advancedAPI=function(D){var X=R===j.COMPAT;return X&&H.call(this),typeof D!="function"||(D(this),X&&U.call(this)),this},p.compatAPI=function(D){var X=R===j.ADVANCED;return X&&U.call(this),typeof D!="function"||(D(this),X&&H.call(this)),this},p.isAdvancedAPI=function(){return R===j.ADVANCED};var x,I=function(D){if(R!==j.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(D,X){var me=t||X;if(isNaN(D)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(me).replace(/0+$/,"")};x=p.hpf=p.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return S(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return S(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return S(D,16)};var C=p.f2=p.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return S(D,2)},y=p.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return S(D,3)},k=p.scale=p.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return R===j.COMPAT?D*ut:R===j.ADVANCED?D:void 0},P=function(D){return R===j.COMPAT?qt()-D:R===j.ADVANCED?D:void 0},E=function(D){return k(P(D))};p.__private__.setPrecision=p.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var q,B="00000000000000000000000000000000",G=p.__private__.getFileId=function(){return B},V=p.__private__.setFileId=function(D){return B=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():B.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Fn=new Zc(u.userPermissions,u.userPassword,u.ownerPassword,B)),B};p.setFileId=function(D){return V(D),this},p.getFileId=function(){return G()};var ee=p.__private__.convertDateToPDFDate=function(D){var X=D.getTimezoneOffset(),me=X<0?"+":"-",be=Math.floor(Math.abs(X/60)),Pe=Math.abs(X%60),Ie=[me,te(be),"'",te(Pe),"'"].join("");return["D:",D.getFullYear(),te(D.getMonth()+1),te(D.getDate()),te(D.getHours()),te(D.getMinutes()),te(D.getSeconds()),Ie].join("")},le=p.__private__.convertPDFDateToDate=function(D){var X=parseInt(D.substr(2,4),10),me=parseInt(D.substr(6,2),10)-1,be=parseInt(D.substr(8,2),10),Pe=parseInt(D.substr(10,2),10),Ie=parseInt(D.substr(12,2),10),Ke=parseInt(D.substr(14,2),10);return new Date(X,me,be,Pe,Ie,Ke,0)},Q=p.__private__.setCreationDate=function(D){var X;if(D===void 0&&(D=new Date),D instanceof Date)X=ee(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=D}return q=X},M=p.__private__.getCreationDate=function(D){var X=q;return D==="jsDate"&&(X=le(q)),X};p.setCreationDate=function(D){return Q(D),this},p.getCreationDate=function(D){return M(D)};var J,te=p.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ue=p.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},ie=0,de=[],ye=[],pe=0,Ee=[],$e=[],qe=!1,Ye=ye,dt=function(){ie=0,pe=0,ye=[],de=[],Ee=[],la=Rr(),es=Rr()};p.__private__.setCustomOutputDestination=function(D){qe=!0,Ye=D};var Me=function(D){qe||(Ye=D)};p.__private__.resetCustomOutputDestination=function(){qe=!1,Ye=ye};var ge=p.__private__.out=function(D){return D=D.toString(),pe+=D.length+1,Ye.push(D),Ye},yt=p.__private__.write=function(D){return ge(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},rt=p.__private__.getArrayBuffer=function(D){for(var X=D.length,me=new ArrayBuffer(X),be=new Uint8Array(me);X--;)be[X]=D.charCodeAt(X);return me},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ge};var et=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(D){return et=R===j.ADVANCED?D/ut:D,this};var se,we=p.__private__.getFontSize=p.getFontSize=function(){return R===j.COMPAT?et:et*ut},Ae=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(D){return Ae=D,this},p.__private__.getR2L=p.getR2L=function(){return Ae};var tt,Fe=p.__private__.setZoomMode=function(D){var X=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))se=D;else if(isNaN(D)){if(X.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');se=D}else se=parseInt(D,10)};p.__private__.getZoomMode=function(){return se};var st,Nt=p.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');tt=D};p.__private__.getPageMode=function(){return tt};var Tt=p.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');st=D};p.__private__.getLayoutMode=function(){return st},p.__private__.setDisplayMode=p.setDisplayMode=function(D,X,me){return Fe(D),Tt(X),Nt(me),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(D){if(Object.keys(St).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[D]},p.__private__.getDocumentProperties=function(){return St},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(D){for(var X in St)St.hasOwnProperty(X)&&D[X]&&(St[X]=D[X]);return this},p.__private__.setDocumentProperty=function(D,X){if(Object.keys(St).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[D]=X};var Kt,ut,Gr,Gt,mn,rr={},Sr={},ta=[],sr={},Ns={},qr={},Sn={},mr=null,tr=0,wt=[],Pt=new yk(p),lr=e.hotfixes||[],cr={},rn={},Cn=[],mt=function D(X,me,be,Pe,Ie,Ke){if(!(this instanceof D))return new D(X,me,be,Pe,Ie,Ke);isNaN(X)&&(X=1),isNaN(me)&&(me=0),isNaN(be)&&(be=0),isNaN(Pe)&&(Pe=1),isNaN(Ie)&&(Ie=0),isNaN(Ke)&&(Ke=0),this._matrix=[X,me,be,Pe,Ie,Ke]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(x).join(D)},mt.prototype.multiply=function(D){var X=D.sx*this.sx+D.shy*this.shx,me=D.sx*this.shy+D.shy*this.sy,be=D.shx*this.sx+D.sy*this.shx,Pe=D.shx*this.shy+D.sy*this.sy,Ie=D.tx*this.sx+D.ty*this.shx+this.tx,Ke=D.tx*this.shy+D.ty*this.sy+this.ty;return new mt(X,me,be,Pe,Ie,Ke)},mt.prototype.decompose=function(){var D=this.sx,X=this.shy,me=this.shx,be=this.sy,Pe=this.tx,Ie=this.ty,Ke=Math.sqrt(D*D+X*X),ht=(D/=Ke)*me+(X/=Ke)*be;me-=D*ht,be-=X*ht;var jt=Math.sqrt(me*me+be*be);return ht/=jt,D*(be/=jt)<X*(me/=jt)&&(D=-D,X=-X,ht=-ht,Ke=-Ke),{scale:new mt(Ke,0,0,jt,0,0),translate:new mt(1,0,0,1,Pe,Ie),rotate:new mt(D,X,-X,D,0,0),skew:new mt(1,0,ht,1,0,0)}},mt.prototype.toString=function(D){return this.join(" ")},mt.prototype.inversed=function(){var D=this.sx,X=this.shy,me=this.shx,be=this.sy,Pe=this.tx,Ie=this.ty,Ke=1/(D*be-X*me),ht=be*Ke,jt=-X*Ke,At=-me*Ke,Ot=D*Ke;return new mt(ht,jt,At,Ot,-ht*Pe-At*Ie,-jt*Pe-Ot*Ie)},mt.prototype.applyToPoint=function(D){var X=D.x*this.sx+D.y*this.shx+this.tx,me=D.x*this.shy+D.y*this.sy+this.ty;return new xe(X,me)},mt.prototype.applyToRectangle=function(D){var X=this.applyToPoint(D),me=this.applyToPoint(new xe(D.x+D.w,D.y+D.h));return new Se(X.x,X.y,me.x-X.x,me.y-X.y)},mt.prototype.clone=function(){var D=this.sx,X=this.shy,me=this.shx,be=this.sy,Pe=this.tx,Ie=this.ty;return new mt(D,X,me,be,Pe,Ie)},p.Matrix=mt;var Fr=p.matrixMult=function(D,X){return X.multiply(D)},Lr=new mt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Lr;var Ir=function(D,X){if(!Ns[D]){var me=(X instanceof Zl?"Sh":"P")+(Object.keys(sr).length+1).toString(10);X.id=me,Ns[D]=me,sr[me]=X,Pt.publish("addPattern",X)}};p.ShadingPattern=Zl,p.TilingPattern=hd,p.addShadingPattern=function(D,X){return I("addShadingPattern()"),Ir(D,X),this},p.beginTilingPattern=function(D){I("beginTilingPattern()"),Je(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},p.endTilingPattern=function(D,X){I("endTilingPattern()"),X.stream=$e[J].join(`
`),Ir(D,X),Pt.publish("endTilingPattern",X),Cn.pop().restore()};var Nr=p.__private__.newObject=function(){var D=Rr();return Xr(D,!0),D},Rr=p.__private__.newObjectDeferred=function(){return ie++,de[ie]=function(){return pe},ie},Xr=function(D,X){return X=typeof X=="boolean"&&X,de[D]=pe,X&&ge(D+" 0 obj"),D},Ra=p.__private__.newAdditionalObject=function(){var D={objId:Rr(),content:""};return Ee.push(D),D},la=Rr(),es=Rr(),ts=p.__private__.decodeColorString=function(D){var X=D.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length===5&&(X[4]==="k"||X[4]==="K")&&(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var me=parseFloat(X[0]);X=[me,me,me,"r"]}for(var be="#",Pe=0;Pe<3;Pe++)be+=("0"+Math.floor(255*parseFloat(X[Pe])).toString(16)).slice(-2);return be},Ta=p.__private__.encodeColorString=function(D){var X;typeof D=="string"&&(D={ch1:D});var me=D.ch1,be=D.ch2,Pe=D.ch3,Ie=D.ch4,Ke=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var ht=new d6(me);if(ht.ok)me=ht.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var jt=parseInt(me.substr(1),16);me=jt>>16&255,be=jt>>8&255,Pe=255&jt}if(be===void 0||Ie===void 0&&me===be&&be===Pe)if(typeof me=="string")X=me+" "+Ke[0];else switch(D.precision){case 2:X=C(me/255)+" "+Ke[0];break;case 3:default:X=y(me/255)+" "+Ke[0]}else if(Ie===void 0||Ar(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return X=["1.","1.","1.",Ke[1]].join(" ");if(typeof me=="string")X=[me,be,Pe,Ke[1]].join(" ");else switch(D.precision){case 2:X=[C(me/255),C(be/255),C(Pe/255),Ke[1]].join(" ");break;default:case 3:X=[y(me/255),y(be/255),y(Pe/255),Ke[1]].join(" ")}}else if(typeof me=="string")X=[me,be,Pe,Ie,Ke[2]].join(" ");else switch(D.precision){case 2:X=[C(me),C(be),C(Pe),C(Ie),Ke[2]].join(" ");break;case 3:default:X=[y(me),y(be),y(Pe),y(Ie),Ke[2]].join(" ")}return X},Ss=p.__private__.getFilters=function(){return i},Tn=p.__private__.putStream=function(D){var X=(D=D||{}).data||"",me=D.filters||Ss(),be=D.alreadyAppliedFilters||[],Pe=D.addLength1||!1,Ie=X.length,Ke=D.objectId,ht=function(_n){return _n};if(u!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ht=Fn.encryptor(Ke,0));var jt={};me===!0&&(me=["FlateEncode"]);var At=D.additionalKeyValues||[],Ot=(jt=$t.API.processDataByFilters!==void 0?$t.API.processDataByFilters(X,me):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(jt.data.length!==0&&(At.push({key:"Length",value:jt.data.length}),Pe===!0&&At.push({key:"Length1",value:Ie})),Ot.length!=0)if(Ot.split("/").length-1==1)At.push({key:"Filter",value:Ot});else{At.push({key:"Filter",value:"["+Ot+"]"});for(var Wt=0;Wt<At.length;Wt+=1)if(At[Wt].key==="DecodeParms"){for(var gr=[],xr=0;xr<jt.reverseChain.split("/").length-1;xr+=1)gr.push("null");gr.push(At[Wt].value),At[Wt].value="["+gr.join(" ")+"]"}}ge("<<");for(var fr=0;fr<At.length;fr++)ge("/"+At[fr].key+" "+At[fr].value);ge(">>"),jt.data.length!==0&&(ge("stream"),ge(ht(jt.data)),ge("endstream"))},rs=p.__private__.putPage=function(D){var X=D.number,me=D.data,be=D.objId,Pe=D.contentsObjId;Xr(be,!0),ge("<</Type /Page"),ge("/Parent "+D.rootDictionaryObjId+" 0 R"),ge("/Resources "+D.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(x(D.mediaBox.bottomLeftX))+" "+parseFloat(x(D.mediaBox.bottomLeftY))+" "+x(D.mediaBox.topRightX)+" "+x(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&ge("/CropBox ["+x(D.cropBox.bottomLeftX)+" "+x(D.cropBox.bottomLeftY)+" "+x(D.cropBox.topRightX)+" "+x(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&ge("/BleedBox ["+x(D.bleedBox.bottomLeftX)+" "+x(D.bleedBox.bottomLeftY)+" "+x(D.bleedBox.topRightX)+" "+x(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&ge("/TrimBox ["+x(D.trimBox.bottomLeftX)+" "+x(D.trimBox.bottomLeftY)+" "+x(D.trimBox.topRightX)+" "+x(D.trimBox.topRightY)+"]"),D.artBox!==null&&ge("/ArtBox ["+x(D.artBox.bottomLeftX)+" "+x(D.artBox.bottomLeftY)+" "+x(D.artBox.topRightX)+" "+x(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&ge("/UserUnit "+D.userUnit),Pt.publish("putPage",{objId:be,pageContext:wt[X],pageNumber:X,page:me}),ge("/Contents "+Pe+" 0 R"),ge(">>"),ge("endobj");var Ie=me.join(`
`);return R===j.ADVANCED&&(Ie+=`
Q`),Xr(Pe,!0),Tn({data:Ie,filters:Ss(),objectId:Pe}),ge("endobj"),be},Us=p.__private__.putPages=function(){var D,X,me=[];for(D=1;D<=tr;D++)wt[D].objId=Rr(),wt[D].contentsObjId=Rr();for(D=1;D<=tr;D++)me.push(rs({number:D,data:$e[D],objId:wt[D].objId,contentsObjId:wt[D].contentsObjId,mediaBox:wt[D].mediaBox,cropBox:wt[D].cropBox,bleedBox:wt[D].bleedBox,trimBox:wt[D].trimBox,artBox:wt[D].artBox,userUnit:wt[D].userUnit,rootDictionaryObjId:la,resourceDictionaryObjId:es}));Xr(la,!0),ge("<</Type /Pages");var be="/Kids [";for(X=0;X<tr;X++)be+=me[X]+" 0 R ";ge(be+"]"),ge("/Count "+tr),ge(">>"),ge("endobj"),Pt.publish("postPutPages")},xo=function(D){Pt.publish("putFont",{font:D,out:ge,newObject:Nr,putStream:Tn}),D.isAlreadyPutted!==!0&&(D.objectNumber=Nr(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+ed(D.postScriptName)),ge("/Subtype /Type1"),typeof D.encoding=="string"&&ge("/Encoding /"+D.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},zs=function(){for(var D in rr)rr.hasOwnProperty(D)&&(f===!1||f===!0&&b.hasOwnProperty(D))&&xo(rr[D])},Xo=function(D){D.objectNumber=Nr();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[x(D.x),x(D.y),x(D.x+D.width),x(D.y+D.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var me=D.pages[1].join(`
`);Tn({data:me,additionalKeyValues:X,objectId:D.objectNumber}),ge("endobj")},Di=function(){for(var D in cr)cr.hasOwnProperty(D)&&Xo(cr[D])},bo=function(D,X){var me,be=[],Pe=1/(X-1);for(me=0;me<1;me+=Pe)be.push(me);if(be.push(1),D[0].offset!=0){var Ie={offset:0,color:D[0].color};D.unshift(Ie)}if(D[D.length-1].offset!=1){var Ke={offset:1,color:D[D.length-1].color};D.push(Ke)}for(var ht="",jt=0,At=0;At<be.length;At++){for(me=be[At];me>D[jt+1].offset;)jt++;var Ot=D[jt].offset,Wt=(me-Ot)/(D[jt+1].offset-Ot),gr=D[jt].color,xr=D[jt+1].color;ht+=ue(Math.round((1-Wt)*gr[0]+Wt*xr[0]).toString(16))+ue(Math.round((1-Wt)*gr[1]+Wt*xr[1]).toString(16))+ue(Math.round((1-Wt)*gr[2]+Wt*xr[2]).toString(16))}return ht.trim()},Cc=function(D,X){X||(X=21);var me=Nr(),be=bo(D.colors,X),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+X+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tn({data:be,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),ge("endobj"),D.objectNumber=Nr(),ge("<< /ShadingType "+D.type),ge("/ColorSpace /DeviceRGB");var Ie="/Coords ["+x(parseFloat(D.coords[0]))+" "+x(parseFloat(D.coords[1]))+" ";D.type===2?Ie+=x(parseFloat(D.coords[2]))+" "+x(parseFloat(D.coords[3])):Ie+=x(parseFloat(D.coords[2]))+" "+x(parseFloat(D.coords[3]))+" "+x(parseFloat(D.coords[4]))+" "+x(parseFloat(D.coords[5])),ge(Ie+="]"),D.matrix&&ge("/Matrix ["+D.matrix.toString()+"]"),ge("/Function "+me+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},_c=function(D,X){var me=Rr(),be=Nr();X.push({resourcesOid:me,objectOid:be}),D.objectNumber=be;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+D.boundingBox.map(x).join(" ")+"]"}),Pe.push({key:"XStep",value:x(D.xStep)}),Pe.push({key:"YStep",value:x(D.yStep)}),Pe.push({key:"Resources",value:me+" 0 R"}),D.matrix&&Pe.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Tn({data:D.stream,additionalKeyValues:Pe,objectId:D.objectNumber}),ge("endobj")},Qo=function(D){var X;for(X in sr)sr.hasOwnProperty(X)&&(sr[X]instanceof Zl?Cc(sr[X]):sr[X]instanceof hd&&_c(sr[X],D))},Ml=function(D){for(var X in D.objectNumber=Nr(),ge("<<"),D)switch(X){case"opacity":ge("/ca "+C(D[X]));break;case"stroke-opacity":ge("/CA "+C(D[X]))}ge(">>"),ge("endobj")},fu=function(){var D;for(D in qr)qr.hasOwnProperty(D)&&Ml(qr[D])},Zo=function(){for(var D in ge("/XObject <<"),cr)cr.hasOwnProperty(D)&&cr[D].objectNumber>=0&&ge("/"+D+" "+cr[D].objectNumber+" 0 R");Pt.publish("putXobjectDict"),ge(">>")},hu=function(){Fn.oid=Nr(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Fn.v),ge("/R "+Fn.r),ge("/U <"+Fn.toHexString(Fn.U)+">"),ge("/O <"+Fn.toHexString(Fn.O)+">"),ge("/P "+Fn.P),ge(">>"),ge("endobj")},Ec=function(){for(var D in ge("/Font <<"),rr)rr.hasOwnProperty(D)&&(f===!1||f===!0&&b.hasOwnProperty(D))&&ge("/"+D+" "+rr[D].objectNumber+" 0 R");ge(">>")},Ac=function(){if(Object.keys(sr).length>0){for(var D in ge("/Shading <<"),sr)sr.hasOwnProperty(D)&&sr[D]instanceof Zl&&sr[D].objectNumber>=0&&ge("/"+D+" "+sr[D].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),ge(">>")}},ei=function(D){if(Object.keys(sr).length>0){for(var X in ge("/Pattern <<"),sr)sr.hasOwnProperty(X)&&sr[X]instanceof p.TilingPattern&&sr[X].objectNumber>=0&&sr[X].objectNumber<D&&ge("/"+X+" "+sr[X].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),ge(">>")}},Fl=function(){if(Object.keys(qr).length>0){var D;for(D in ge("/ExtGState <<"),qr)qr.hasOwnProperty(D)&&qr[D].objectNumber>=0&&ge("/"+D+" "+qr[D].objectNumber+" 0 R");Pt.publish("putGStateDict"),ge(">>")}},Qr=function(D){Xr(D.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ec(),Ac(),ei(D.objectOid),Fl(),Zo(),ge(">>"),ge("endobj")},On=function(){var D=[];zs(),fu(),Di(),Qo(D),Pt.publish("putResources"),D.forEach(Qr),Qr({resourcesOid:es,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources")},Vs=function(){Pt.publish("putAdditionalObjects");for(var D=0;D<Ee.length;D++){var X=Ee[D];Xr(X.objId,!0),ge(X.content),ge("endobj")}Pt.publish("postPutAdditionalObjects")},ti=function(D){Sr[D.fontName]=Sr[D.fontName]||{},Sr[D.fontName][D.fontStyle]=D.id},Bl=function(D,X,me,be,Pe){var Ie={id:"F"+(Object.keys(rr).length+1).toString(10),postScriptName:D,fontName:X,fontStyle:me,encoding:be,isStandardFont:Pe||!1,metadata:{}};return Pt.publish("addFont",{font:Ie,instance:this}),rr[Ie.id]=Ie,ti(Ie),Ie.id},pu=function(D){for(var X=0,me=Ge.length;X<me;X++){var be=Bl.call(this,D[X][0],D[X][1],D[X][2],Ge[X][3],!0);f===!1&&(b[be]=!0);var Pe=D[X][0].split("-");ti({id:be,fontName:Pe[0],fontStyle:Pe[1]||""})}Pt.publish("addFonts",{fonts:rr,dictionary:Sr})},ka=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(be){var X=be.stack||"";~X.indexOf(" at ")&&(X=X.split(" at ")[1]);var me="Error in function "+X.split(`
`)[0].split("<")[0]+": "+be.message;if(!Ut.console)throw new Error(me);Ut.console.error(me,be),Ut.alert&&alert(me)}},D.foo.bar=D,D.foo},ri=function(D,X){var me,be,Pe,Ie,Ke,ht,jt,At,Ot;if(Pe=(X=X||{}).sourceEncoding||"Unicode",Ke=X.outputEncoding,(X.autoencode||Ke)&&rr[Kt].metadata&&rr[Kt].metadata[Pe]&&rr[Kt].metadata[Pe].encoding&&(Ie=rr[Kt].metadata[Pe].encoding,!Ke&&rr[Kt].encoding&&(Ke=rr[Kt].encoding),!Ke&&Ie.codePages&&(Ke=Ie.codePages[0]),typeof Ke=="string"&&(Ke=Ie[Ke]),Ke)){for(jt=!1,ht=[],me=0,be=D.length;me<be;me++)(At=Ke[D.charCodeAt(me)])?ht.push(String.fromCharCode(At)):ht.push(D[me]),ht[me].charCodeAt(0)>>8&&(jt=!0);D=ht.join("")}for(me=D.length;jt===void 0&&me!==0;)D.charCodeAt(me-1)>>8&&(jt=!0),me--;if(!jt)return D;for(ht=X.noBOM?[]:[254,255],me=0,be=D.length;me<be;me++){if((Ot=(At=D.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(Ot),ht.push(At-(Ot<<8))}return String.fromCharCode.apply(void 0,ht)},Mn=p.__private__.pdfEscape=p.pdfEscape=function(D,X){return ri(D,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Li=p.__private__.beginPage=function(D){$e[++tr]=[],wt[tr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},ca(tr),Me($e[J])},Pc=function(D,X){var me,be,Pe;switch(r=X||r,typeof D=="string"&&(me=v(D.toLowerCase()),Array.isArray(me)&&(be=me[0],Pe=me[1])),Array.isArray(D)&&(be=D[0]*ut,Pe=D[1]*ut),isNaN(be)&&(be=a[0],Pe=a[1]),(be>14400||Pe>14400)&&($r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Pe=Math.min(14400,Pe)),a=[be,Pe],r.substr(0,1)){case"l":Pe>be&&(a=[Pe,be]);break;case"p":be>Pe&&(a=[Pe,be])}Li(a),Oc(Oi),ge(ss),Y!==0&&ge(Y+" J"),ne!==0&&ge(ne+" j"),Pt.publish("addPage",{pageNumber:tr})},mu=function(D){D>0&&D<=tr&&($e.splice(D,1),wt.splice(D,1),tr--,J>tr&&(J=tr),this.setPage(J))},ca=function(D){D>0&&D<=tr&&(J=D)},Dc=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return $e.length-1},vo=function(D,X,me){var be,Pe=void 0;return me=me||{},D=D!==void 0?D:rr[Kt].fontName,X=X!==void 0?X:rr[Kt].fontStyle,be=D.toLowerCase(),Sr[be]!==void 0&&Sr[be][X]!==void 0?Pe=Sr[be][X]:Sr[D]!==void 0&&Sr[D][X]!==void 0?Pe=Sr[D][X]:me.disableWarning===!1&&$r.warn("Unable to look up font label for font '"+D+"', '"+X+"'. Refer to getFontList() for available fonts."),Pe||me.noFallback||(Pe=Sr.times[X])==null&&(Pe=Sr.times.normal),Pe},gu=p.__private__.putInfo=function(){var D=Nr(),X=function(be){return be};for(var me in u!==null&&(X=Fn.encryptor(D,0)),ge("<<"),ge("/Producer ("+Mn(X("jsPDF "+$t.version))+")"),St)St.hasOwnProperty(me)&&St[me]&&ge("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Mn(X(St[me]))+")");ge("/CreationDate ("+Mn(X(q))+")"),ge(">>"),ge("endobj")},$l=p.__private__.putCatalog=function(D){var X=(D=D||{}).rootDictionaryObjId||la;switch(Nr(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+X+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+se;me.substr(me.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+C(se)+"]")}switch(st||(st="continuous"),st){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}tt&&ge("/PageMode /"+tt),Pt.publish("putCatalog"),ge(">>"),ge("endobj")},Hs=p.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(ie+1)),ge("/Root "+ie+" 0 R"),ge("/Info "+(ie-1)+" 0 R"),u!==null&&ge("/Encrypt "+Fn.oid+" 0 R"),ge("/ID [ <"+B+"> <"+B+"> ]"),ge(">>")},Ws=p.__private__.putHeader=function(){ge("%PDF-"+w),ge("%")},ql=p.__private__.putXRef=function(){var D="0000000000";ge("xref"),ge("0 "+(ie+1)),ge("0000000000 65535 f ");for(var X=1;X<=ie;X++)typeof de[X]=="function"?ge((D+de[X]()).slice(-10)+" 00000 n "):de[X]!==void 0?ge((D+de[X]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},Gs=p.__private__.buildDocument=function(){dt(),Me(ye),Pt.publish("buildDocument"),Ws(),Us(),Vs(),On(),u!==null&&hu(),gu(),$l();var D=pe;return ql(),Hs(),ge("startxref"),ge(""+D),ge("%%EOF"),Me($e[J]),ye.join(`
`)},Cs=p.__private__.getBlob=function(D){return new Blob([rt(D)],{type:"application/pdf"})},ni=p.output=p.__private__.output=ka(function(D,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",D){case void 0:return Gs();case"save":p.save(X.filename);break;case"arraybuffer":return rt(Gs());case"blob":return Cs(Gs());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(Cs(Gs()))||void 0;$r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",be=Gs();try{me=wb(be)}catch{me=wb(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+X.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Pe=X.pdfObjectUrl,Ie="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",ht=Ut.open();return ht!==null&&ht.document.write(Ke),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',At=Ut.open();if(At!==null){At.document.write(jt);var Ot=this;At.document.documentElement.querySelector("#pdfViewer").onload=function(){At.document.title=X.filename,At.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ot.output("bloburl"))}}return At}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',gr=Ut.open();if(gr!==null&&(gr.document.write(Wt),gr.document.title=X.filename),gr||typeof safari>"u")return gr;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",X);default:return null}}),Ii=function(D){return Array.isArray(lr)===!0&&lr.indexOf(D)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Ii("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var Fn=null;Q(),V();var Lc=function(D){return u!==null?Fn.encryptor(D,0):function(X){return X}},Ic=p.__private__.getPageInfo=p.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[D].objId,pageNumber:D,pageContext:wt[D]}},zt=p.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in wt)if(wt[X].objId===D)break;return Ic(X)},yu=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:wt[J].objId,pageNumber:J,pageContext:wt[J]}};p.addPage=function(){return Pc.apply(this,arguments),this},p.setPage=function(){return ca.apply(this,arguments),Me.call(this,$e[J]),this},p.insertPage=function(D){return this.addPage(),this.movePage(J,D),this},p.movePage=function(D,X){var me,be;if(D>X){me=$e[D],be=wt[D];for(var Pe=D;Pe>X;Pe--)$e[Pe]=$e[Pe-1],wt[Pe]=wt[Pe-1];$e[X]=me,wt[X]=be,this.setPage(X)}else if(D<X){me=$e[D],be=wt[D];for(var Ie=D;Ie<X;Ie++)$e[Ie]=$e[Ie+1],wt[Ie]=wt[Ie+1];$e[X]=me,wt[X]=be,this.setPage(X)}return this},p.deletePage=function(){return mu.apply(this,arguments),this},p.__private__.text=p.text=function(D,X,me,be,Pe){var Ie,Ke,ht,jt,At,Ot,Wt,gr,xr,fr=(be=be||{}).scope||this;if(typeof D=="number"&&typeof X=="number"&&(typeof me=="string"||Array.isArray(me))){var _n=me;me=X,X=D,D=_n}if(arguments[3]instanceof mt?(I("The transform parameter of text() with a Matrix value"),xr=Pe):(ht=arguments[4],jt=arguments[5],Ar(Wt=arguments[3])==="object"&&Wt!==null||(typeof ht=="string"&&(jt=ht,ht=null),typeof Wt=="string"&&(jt=Wt,Wt=null),typeof Wt=="number"&&(ht=Wt,Wt=null),be={flags:Wt,angle:ht,align:jt})),isNaN(X)||isNaN(me)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return fr;var Tr="",gn=!1,ja=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:wo,_s=fr.internal.scaleFactor;function Bc(Ur){return Ur=Ur.split("	").join(Array(be.TabLen||9).join(" ")),Mn(Ur,Wt)}function dr(Ur){for(var zr,xn=Ur.concat(),$n=[],ai=xn.length;ai--;)typeof(zr=xn.shift())=="string"?$n.push(zr):Array.isArray(Ur)&&(zr.length===1||zr[1]===void 0&&zr[2]===void 0)?$n.push(zr[0]):$n.push([zr[0],zr[1],zr[2]]);return $n}function So(Ur,zr){var xn;if(typeof Ur=="string")xn=zr(Ur)[0];else if(Array.isArray(Ur)){for(var $n,ai,ju=Ur.concat(),$c=[],gh=ju.length;gh--;)typeof($n=ju.shift())=="string"?$c.push(zr($n)[0]):Array.isArray($n)&&typeof $n[0]=="string"&&(ai=zr($n[0],$n[1],$n[2]),$c.push([ai[0],ai[1],ai[2]]));xn=$c}return xn}var Vn=!1,Es=!0;if(typeof D=="string")Vn=!0;else if(Array.isArray(D)){var Vl=D.concat();Ke=[];for(var Mi,En=Vl.length;En--;)(typeof(Mi=Vl.shift())!="string"||Array.isArray(Mi)&&typeof Mi[0]!="string")&&(Es=!1);Vn=Es}if(Vn===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Ma=et/fr.internal.scaleFactor,Co=Ma*(ja-1);switch(be.baseline){case"bottom":me-=Co;break;case"top":me+=Ma-Co;break;case"hanging":me+=Ma-2*Co;break;case"middle":me+=Ma/2-Co}if((Ot=be.maxWidth||0)>0&&(typeof D=="string"?D=fr.splitTextToSize(D,Ot):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Ur,zr){return Ur.concat(fr.splitTextToSize(zr,Ot))},[]))),Ie={text:D,x:X,y:me,options:be,mutex:{pdfEscape:Mn,activeFontKey:Kt,fonts:rr,activeFontSize:et}},Pt.publish("preProcessText",Ie),D=Ie.text,ht=(be=Ie.options).angle,!(xr instanceof mt)&&ht&&typeof ht=="number"){ht*=Math.PI/180,be.rotationDirection===0&&(ht=-ht),R===j.ADVANCED&&(ht=-ht);var Na=Math.cos(ht),Fi=Math.sin(ht);xr=new mt(Na,Fi,-Fi,Na,0,0)}else ht&&ht instanceof mt&&(xr=ht);R!==j.ADVANCED||xr||(xr=Lr),(At=be.charSpace||z)!==void 0&&(Tr+=x(k(At))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gr=be.horizontalScale)!==void 0&&(Tr+=x(100*gr)+` Tz
`),be.lang;var An=-1,Bi=be.renderingMode!==void 0?be.renderingMode:be.stroke,_o=fr.internal.getCurrentPageInfo().pageContext;switch(Bi){case 0:case!1:case"fill":An=0;break;case 1:case!0:case"stroke":An=1;break;case 2:case"fillThenStroke":An=2;break;case 3:case"invisible":An=3;break;case 4:case"fillAndAddForClipping":An=4;break;case 5:case"strokeAndAddPathForClipping":An=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":An=6;break;case 7:case"addToPathForClipping":An=7}var $i=_o.usedRenderingMode!==void 0?_o.usedRenderingMode:-1;An!==-1?Tr+=An+` Tr
`:$i!==-1&&(Tr+=`0 Tr
`),An!==-1&&(_o.usedRenderingMode=An),jt=be.align||"left";var Fa,Ys=et*ja,qi=fr.internal.pageSize.getWidth(),Ui=rr[Kt];At=be.charSpace||z,Ot=be.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},be.flags);var Eo=[],Xs=function(Ur){return fr.getStringUnitWidth(Ur,{font:Ui,charSpace:At,fontSize:et,doKerning:!1})*et/_s};if(Object.prototype.toString.call(D)==="[object Array]"){var ra;Ke=dr(D),jt!=="left"&&(Fa=Ke.map(Xs));var fe,ke=0;if(jt==="right"){X-=Fa[0],D=[],En=Ke.length;for(var Le=0;Le<En;Le++)Le===0?(fe=ns(X),ra=as(me)):(fe=k(ke-Fa[Le]),ra=-Ys),D.push([Ke[Le],fe,ra]),ke=Fa[Le]}else if(jt==="center"){X-=Fa[0]/2,D=[],En=Ke.length;for(var Be=0;Be<En;Be++)Be===0?(fe=ns(X),ra=as(me)):(fe=k((ke-Fa[Be])/2),ra=-Ys),D.push([Ke[Be],fe,ra]),ke=Fa[Be]}else if(jt==="left"){D=[],En=Ke.length;for(var We=0;We<En;We++)D.push(Ke[We])}else if(jt==="justify"&&Ui.encoding==="Identity-H"){D=[],En=Ke.length,Ot=Ot!==0?Ot:qi;for(var ot=0,it=0;it<En;it++)if(ra=it===0?as(me):-Ys,fe=it===0?ns(X):ot,it<En-1){var xt=k((Ot-Fa[it])/(Ke[it].split(" ").length-1)),ct=Ke[it].split(" ");D.push([ct[0]+" ",fe,ra]),ot=0;for(var Mt=1;Mt<ct.length;Mt++){var Ct=(Xs(ct[Mt-1]+" "+ct[Mt])-Xs(ct[Mt]))*_s+xt;Mt==ct.length-1?D.push([ct[Mt],Ct,0]):D.push([ct[Mt]+" ",Ct,0]),ot-=Ct}}else D.push([Ke[it],fe,ra]);D.push(["",ot,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],En=Ke.length,Ot=Ot!==0?Ot:qi,it=0;it<En;it++)ra=it===0?as(me):-Ys,fe=it===0?ns(X):0,it<En-1?Eo.push(x(k((Ot-Fa[it])/(Ke[it].split(" ").length-1)))):Eo.push(0),D.push([Ke[it],fe,ra])}}var Ft=typeof be.R2L=="boolean"?be.R2L:Ae;Ft===!0&&(D=So(D,function(Ur,zr,xn){return[Ur.split("").reverse().join(""),zr,xn]})),Ie={text:D,x:X,y:me,options:be,mutex:{pdfEscape:Mn,activeFontKey:Kt,fonts:rr,activeFontSize:et}},Pt.publish("postProcessText",Ie),D=Ie.text,gn=Ie.mutex.isHex||!1;var Yt=rr[Kt].encoding;Yt!=="WinAnsiEncoding"&&Yt!=="StandardEncoding"||(D=So(D,function(Ur,zr,xn){return[Bc(Ur),zr,xn]})),Ke=dr(D),D=[];for(var kt,ur,an,Zr=0,Bn=1,Hn=Array.isArray(Ke[0])?Bn:Zr,Sa="",yn=function(Ur,zr,xn){var $n="";return xn instanceof mt?(xn=typeof be.angle=="number"?Fr(xn,new mt(1,0,0,1,Ur,zr)):Fr(new mt(1,0,0,1,Ur,zr),xn),R===j.ADVANCED&&(xn=Fr(new mt(1,0,0,-1,0,0),xn)),$n=xn.join(" ")+` Tm
`):$n=x(Ur)+" "+x(zr)+` Td
`,$n},As=0;As<Ke.length;As++){switch(Sa="",Hn){case Bn:an=(gn?"<":"(")+Ke[As][0]+(gn?">":")"),kt=parseFloat(Ke[As][1]),ur=parseFloat(Ke[As][2]);break;case Zr:an=(gn?"<":"(")+Ke[As]+(gn?">":")"),kt=ns(X),ur=as(me)}Eo!==void 0&&Eo[As]!==void 0&&(Sa=Eo[As]+` Tw
`),As===0?D.push(Sa+yn(kt,ur,xr)+an):Hn===Zr?D.push(Sa+an):Hn===Bn&&D.push(Sa+yn(kt,ur,xr)+an)}D=Hn===Zr?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ps=`BT
/`;return Ps+=Kt+" "+et+` Tf
`,Ps+=x(et*ja)+` TL
`,Ps+=_+`
`,Ps+=Tr,Ps+=D,ge(Ps+="ET"),b[Kt]=!0,fr};var xu=p.__private__.clip=p.clip=function(D){return ge(D==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return xu("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ge("n"),this};var Oa=p.__private__.isValidStyle=function(D){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(X=!0),X};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(D){return Oa(D)&&(d=D),this};var Rc=p.__private__.getStyle=p.getStyle=function(D){var X=d;switch(D){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=D}return X},Tc=p.close=function(){return ge("h"),this};p.stroke=function(){return ge("S"),this},p.fill=function(D){return Ri("f",D),this},p.fillEvenOdd=function(D){return Ri("f*",D),this},p.fillStroke=function(D){return Ri("B",D),this},p.fillStrokeEvenOdd=function(D){return Ri("B*",D),this};var Ri=function(D,X){Ar(X)==="object"?vu(X,D):ge(D)},Ul=function(D){D===null||R===j.ADVANCED&&D===void 0||(D=Rc(D),ge(D))};function bu(D,X,me,be,Pe){var Ie=new hd(X||this.boundingBox,me||this.xStep,be||this.yStep,this.gState,Pe||this.matrix);Ie.stream=this.stream;var Ke=D+"$$"+this.cloneIndex+++"$$";return Ir(Ke,Ie),Ie}var vu=function(D,X){var me=Ns[D.key],be=sr[me];if(be instanceof Zl)ge("q"),ge(wu(X)),be.gState&&p.setGState(be.gState),ge(D.matrix.toString()+" cm"),ge("/"+me+" sh"),ge("Q");else if(be instanceof hd){var Pe=new mt(1,0,0,-1,0,qt());D.matrix&&(Pe=Pe.multiply(D.matrix||Lr),me=bu.call(be,D.key,D.boundingBox,D.xStep,D.yStep,Pe).id),ge("q"),ge("/Pattern cs"),ge("/"+me+" scn"),be.gState&&p.setGState(be.gState),ge(X),ge("Q")}},wu=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ti=p.moveTo=function(D,X){return ge(x(k(D))+" "+x(E(X))+" m"),this},Js=p.lineTo=function(D,X){return ge(x(k(D))+" "+x(E(X))+" l"),this},Ks=p.curveTo=function(D,X,me,be,Pe,Ie){return ge([x(k(D)),x(E(X)),x(k(me)),x(E(be)),x(k(Pe)),x(E(Ie)),"c"].join(" ")),this};p.__private__.line=p.line=function(D,X,me,be,Pe){if(isNaN(D)||isNaN(X)||isNaN(me)||isNaN(be)||!Oa(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return R===j.COMPAT?this.lines([[me-D,be-X]],D,X,[1,1],Pe||"S"):this.lines([[me-D,be-X]],D,X,[1,1]).stroke()},p.__private__.lines=p.lines=function(D,X,me,be,Pe,Ie){var Ke,ht,jt,At,Ot,Wt,gr,xr,fr,_n,Tr,gn;if(typeof D=="number"&&(gn=me,me=X,X=D,D=gn),be=be||[1,1],Ie=Ie||!1,isNaN(X)||isNaN(me)||!Array.isArray(D)||!Array.isArray(be)||!Oa(Pe)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ti(X,me),Ke=be[0],ht=be[1],At=D.length,_n=X,Tr=me,jt=0;jt<At;jt++)(Ot=D[jt]).length===2?(_n=Ot[0]*Ke+_n,Tr=Ot[1]*ht+Tr,Js(_n,Tr)):(Wt=Ot[0]*Ke+_n,gr=Ot[1]*ht+Tr,xr=Ot[2]*Ke+_n,fr=Ot[3]*ht+Tr,_n=Ot[4]*Ke+_n,Tr=Ot[5]*ht+Tr,Ks(Wt,gr,xr,fr,_n,Tr));return Ie&&Tc(),Ul(Pe),this},p.path=function(D){for(var X=0;X<D.length;X++){var me=D[X],be=me.c;switch(me.op){case"m":Ti(be[0],be[1]);break;case"l":Js(be[0],be[1]);break;case"c":Ks.apply(this,be);break;case"h":Tc()}}return this},p.__private__.rect=p.rect=function(D,X,me,be,Pe){if(isNaN(D)||isNaN(X)||isNaN(me)||isNaN(be)||!Oa(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return R===j.COMPAT&&(be=-be),ge([x(k(D)),x(E(X)),x(k(me)),x(k(be)),"re"].join(" ")),Ul(Pe),this},p.__private__.triangle=p.triangle=function(D,X,me,be,Pe,Ie,Ke){if(isNaN(D)||isNaN(X)||isNaN(me)||isNaN(be)||isNaN(Pe)||isNaN(Ie)||!Oa(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-D,be-X],[Pe-me,Ie-be],[D-Pe,X-Ie]],D,X,[1,1],Ke,!0),this},p.__private__.roundedRect=p.roundedRect=function(D,X,me,be,Pe,Ie,Ke){if(isNaN(D)||isNaN(X)||isNaN(me)||isNaN(be)||isNaN(Pe)||isNaN(Ie)||!Oa(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*me),Ie=Math.min(Ie,.5*be),this.lines([[me-2*Pe,0],[Pe*ht,0,Pe,Ie-Ie*ht,Pe,Ie],[0,be-2*Ie],[0,Ie*ht,-Pe*ht,Ie,-Pe,Ie],[2*Pe-me,0],[-Pe*ht,0,-Pe,-Ie*ht,-Pe,-Ie],[0,2*Ie-be],[0,-Ie*ht,Pe*ht,-Ie,Pe,-Ie]],D+Pe,X,[1,1],Ke,!0),this},p.__private__.ellipse=p.ellipse=function(D,X,me,be,Pe){if(isNaN(D)||isNaN(X)||isNaN(me)||isNaN(be)||!Oa(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*me,Ke=4/3*(Math.SQRT2-1)*be;return Ti(D+me,X),Ks(D+me,X-Ke,D+Ie,X-be,D,X-be),Ks(D-Ie,X-be,D-me,X-Ke,D-me,X),Ks(D-me,X+Ke,D-Ie,X+be,D,X+be),Ks(D+Ie,X+be,D+me,X+Ke,D+me,X),Ul(Pe),this},p.__private__.circle=p.circle=function(D,X,me,be){if(isNaN(D)||isNaN(X)||isNaN(me)||!Oa(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,X,me,me,be)},p.setFont=function(D,X,me){return me&&(X=F(X,me)),Kt=vo(D,X,{disableWarning:!1}),this};var zl=p.__private__.getFont=p.getFont=function(){return rr[vo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var D,X,me={};for(D in Sr)if(Sr.hasOwnProperty(D))for(X in me[D]=[],Sr[D])Sr[D].hasOwnProperty(X)&&me[D].push(X);return me},p.addFont=function(D,X,me,be,Pe){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(me=F(me,be)),Pe=Pe||"Identity-H",Bl.call(this,D,X,me,Pe)};var wo,Oi=e.lineWidth||.200025,ko=p.__private__.getLineWidth=p.getLineWidth=function(){return Oi},Oc=p.__private__.setLineWidth=p.setLineWidth=function(D){return Oi=D,ge(x(k(D))+" w"),this};p.__private__.setLineDash=$t.API.setLineDash=$t.API.setLineDashPattern=function(D,X){if(D=D||[],X=X||0,isNaN(X)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(me){return x(k(me))}).join(" "),X=x(k(X)),ge("["+D+"] "+X+" d"),this};var Mc=p.__private__.getLineHeight=p.getLineHeight=function(){return et*wo};p.__private__.getLineHeight=p.getLineHeight=function(){return et*wo};var Fc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(wo=D),this},jo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return wo};Fc(e.lineHeight);var ns=p.__private__.getHorizontalCoordinate=function(D){return k(D)},as=p.__private__.getVerticalCoordinate=function(D){return R===j.ADVANCED?D:wt[J].mediaBox.topRightY-wt[J].mediaBox.bottomLeftY-k(D)},ku=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(D){return x(ns(D))},No=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(D){return x(as(D))},ss=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ts(ss)},p.__private__.setStrokeColor=p.setDrawColor=function(D,X,me,be){return ss=Ta({ch1:D,ch2:X,ch3:me,ch4:be,pdfColorType:"draw",precision:2}),ge(ss),this};var m=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ts(m)},p.__private__.setFillColor=p.setFillColor=function(D,X,me,be){return m=Ta({ch1:D,ch2:X,ch3:me,ch4:be,pdfColorType:"fill",precision:2}),ge(m),this};var _=e.textColor||"0 g",O=p.__private__.getTextColor=p.getTextColor=function(){return ts(_)};p.__private__.setTextColor=p.setTextColor=function(D,X,me,be){return _=Ta({ch1:D,ch2:X,ch3:me,ch4:be,pdfColorType:"text",precision:3}),this};var z=e.charSpace,K=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(z||0)};p.__private__.setCharSpace=p.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return z=D,this};var Y=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(D){var X=p.CapJoinStyles[D];if(X===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Y=X,ge(X+" J"),this};var ne=0;p.__private__.setLineJoin=p.setLineJoin=function(D){var X=p.CapJoinStyles[D];if(X===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ne=X,ge(X+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(x(k(D))+" M"),this},p.GState=H0,p.setGState=function(D){(D=typeof D=="string"?qr[Sn[D]]:ve(null,D)).equals(mr)||(ge("/"+D.id+" gs"),mr=D)};var ve=function(D,X){if(!D||!Sn[D]){var me=!1;for(var be in qr)if(qr.hasOwnProperty(be)&&qr[be].equals(X)){me=!0;break}if(me)X=qr[be];else{var Pe="GS"+(Object.keys(qr).length+1).toString(10);qr[Pe]=X,X.id=Pe}return D&&(Sn[D]=X.id),Pt.publish("addGState",X),X}};p.addGState=function(D,X){return ve(D,X),this},p.saveGraphicsState=function(){return ge("q"),ta.push({key:Kt,size:et,color:_}),this},p.restoreGraphicsState=function(){ge("Q");var D=ta.pop();return Kt=D.key,et=D.size,_=D.color,mr=null,this},p.setCurrentTransformationMatrix=function(D){return ge(D.toString()+" cm"),this},p.comment=function(D){return ge("#"+D),this};var xe=function(D,X){var me=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(Ie){isNaN(Ie)||(me=parseFloat(Ie))}});var be=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Ie){isNaN(Ie)||(be=parseFloat(Ie))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Ie){Pe=Ie.toString()}}),this},Se=function(D,X,me,be){xe.call(this,D,X),this.type="rect";var Pe=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(Ke){isNaN(Ke)||(Pe=parseFloat(Ke))}});var Ie=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Ke){isNaN(Ke)||(Ie=parseFloat(Ke))}}),this},Ue=function(){this.page=tr,this.currentPage=J,this.pages=$e.slice(0),this.pagesContext=wt.slice(0),this.x=Gr,this.y=Gt,this.matrix=mn,this.width=Et(J),this.height=qt(J),this.outputDestination=Ye,this.id="",this.objectNumber=-1};Ue.prototype.restore=function(){tr=this.page,J=this.currentPage,wt=this.pagesContext,$e=this.pages,Gr=this.x,Gt=this.y,mn=this.matrix,er(J,this.width),nn(J,this.height),Ye=this.outputDestination};var Je=function(D,X,me,be,Pe){Cn.push(new Ue),tr=J=0,$e=[],Gr=D,Gt=X,mn=Pe,Li([me,be])},Oe=function(D){if(rn[D])Cn.pop().restore();else{var X=new Ue,me="Xo"+(Object.keys(cr).length+1).toString(10);X.id=me,rn[D]=me,cr[me]=X,Pt.publish("addFormObject",X),Cn.pop().restore()}};for(var at in p.beginFormObject=function(D,X,me,be,Pe){return Je(D,X,me,be,Pe),this},p.endFormObject=function(D){return Oe(D),this},p.doFormObject=function(D,X){var me=cr[rn[D]];return ge("q"),ge(X.toString()+" cm"),ge("/"+me.id+" Do"),ge("Q"),this},p.getFormObject=function(D){var X=cr[rn[D]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},p.save=function(D,X){return D=D||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Xl(Cs(Gs()),D),typeof Xl.unload=="function"&&Ut.setTimeout&&setTimeout(Xl.unload,911),this):new Promise(function(me,be){try{var Pe=Xl(Cs(Gs()),D);typeof Xl.unload=="function"&&Ut.setTimeout&&setTimeout(Xl.unload,911),me(Pe)}catch(Ie){be(Ie.message)}})},$t.API)$t.API.hasOwnProperty(at)&&(at==="events"&&$t.API.events.length?function(D,X){var me,be,Pe;for(Pe=X.length-1;Pe!==-1;Pe--)me=X[Pe][0],be=X[Pe][1],D.subscribe.apply(D,[me].concat(typeof be=="function"?[be]:be))}(Pt,$t.API.events):p[at]=$t.API[at]);var Et=p.getPageWidth=function(D){return(wt[D=D||J].mediaBox.topRightX-wt[D].mediaBox.bottomLeftX)/ut},er=p.setPageWidth=function(D,X){wt[D].mediaBox.topRightX=X*ut+wt[D].mediaBox.bottomLeftX},qt=p.getPageHeight=function(D){return(wt[D=D||J].mediaBox.topRightY-wt[D].mediaBox.bottomLeftY)/ut},nn=p.setPageHeight=function(D,X){wt[D].mediaBox.topRightY=X*ut+wt[D].mediaBox.bottomLeftY};return p.internal={pdfEscape:Mn,getStyle:Rc,getFont:zl,getFontSize:we,getCharSpace:K,getTextColor:O,getLineHeight:Mc,getLineHeightFactor:jo,getLineWidth:ko,write:yt,getHorizontalCoordinate:ns,getVerticalCoordinate:as,getCoordinateString:ku,getVerticalCoordinateString:No,collections:{},newObject:Nr,newAdditionalObject:Ra,newObjectDeferred:Rr,newObjectDeferredBegin:Xr,getFilters:Ss,putStream:Tn,events:Pt,scaleFactor:ut,pageSize:{getWidth:function(){return Et(J)},setWidth:function(D){er(J,D)},getHeight:function(){return qt(J)},setHeight:function(D){nn(J,D)}},encryptionOptions:u,encryption:Fn,getEncryptor:Lc,output:ni,getNumberOfPages:Dc,pages:$e,out:ge,f2:C,f3:y,getPageInfo:Ic,getPageInfoByObjId:zt,getCurrentPageInfo:yu,getPDFVersion:g,Point:xe,Rectangle:Se,Matrix:mt,hasHotfix:Ii},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Et(J)},set:function(D){er(J,D)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return qt(J)},set:function(D){nn(J,D)},enumerable:!0,configurable:!0}),pu.call(p,Ge),Kt="F1",Pc(a,r),Pt.publish("initialized"),p}Zc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Zc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zc.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Zc.prototype.processOwnerPassword=function(e,t){return jb(kb(t).substr(0,5),e)},Zc.prototype.encryptor=function(e,t){var r=kb(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return jb(r,n)}},H0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ar(e)!==Ar(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},$t.API={events:[]},$t.version="3.0.1";var fn=$t.API,Ow=1,Sc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(e){return e.toFixed(2)},Zi=function(e){return e.toFixed(5)};fn.__acroform__={};var Za=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},xk=function(e){return e*Ow},Io=function(e){var t=new p6,r=vt.internal.getHeight(e)||0,n=vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jt(n)),Number(Jt(r))],t},dH=fn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},uH=fn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},fH=fn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},wn=fn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fH(e,t-1)},kn=fn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dH(e,t-1)},jn=fn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uH(e,t-1)},hH=fn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],o=e[1],i=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(o+l)||0,c.upperRight_X=r(a+i)||0,c.upperRight_Y=n(o)||0,[Number(Jt(c.lowerLeft_X)),Number(Jt(c.lowerLeft_Y)),Number(Jt(c.upperRight_X)),Number(Jt(c.upperRight_Y))]},pH=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Nb(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Jt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Io(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},Nb=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(y){return y.split(`
`)}):a.map(function(y){return[y]});var o=r,i=vt.internal.getHeight(e)||0;i=i<0?-i:i;var l=vt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(y,k,P){if(y+1<a.length){var E=k+" "+a[y+1][0];return mp(E,e,P).width<=l-4}return!1};o++;e:for(;o>0;){t="",o--;var d,u,f=mp("3",e,o).height,b=e.multiline?i-o:(i-f)/2,p=b+=2,w=0,g=0,A=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+mp(t,e,o=12).width+", FieldWidth:"+l+`
`;break}for(var v="",j=0,R=0;R<a.length;R++)if(a.hasOwnProperty(R)){var H=!1;if(a[R].length!==1&&A!==a[R].length-1){if((f+2)*(j+2)+2>i)continue e;v+=a[R][A],H=!0,g=R,R--}else{v=(v+=a[R][A]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var U=parseInt(R),F=c(U,v,o),x=R>=a.length-1;if(F&&!x){v+=" ",A=0;continue}if(F||x){if(x)g=U;else if(e.multiline&&(f+2)*(j+2)+2>i)continue e}else{if(!e.multiline||(f+2)*(j+2)+2>i)continue e;g=U}}for(var I="",S=w;S<=g;S++){var C=a[S];if(e.multiline){if(S===g){I+=C[A]+" ",A=(A+1)%C.length;continue}if(S===w){I+=C[C.length-1]+" ";continue}}I+=C[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,u=mp(I,e,o).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}t+=Jt(d)+" "+Jt(p)+` Td
`,t+="("+Sc(I)+`) Tj
`,t+=-Jt(d)+` 0 Td
`,p=-(o+2),u=0,w=H?g:g+1,j++,v=""}break}return n.text=t,n.fontSize=o,n},mp=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},mH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gH=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},yH=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Ar(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},xH=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(go.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(mH)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ow=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new m6,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&gH(o,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var o=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var l=n[i],c=[],d=l.Rect;if(l.Rect&&(l.Rect=hH(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=vt.createDefaultAppearanceStream(l),Ar(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=pH(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var p=l.appearanceStreamContent[b];if(f+="/"+b+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var w=p[i];typeof w=="function"&&(w=w.call(a,l)),f+="/"+i+" "+w+" ",a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(a,l)),f+="/"+i+" "+w,a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}o&&yH(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},h6=fn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var a="[",o=0;o<e.length;o++)switch(o!==0&&(a+=" "),Ar(e[o])){case"boolean":case"number":case"object":a+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Sc(n(e[o].toString()))+")"):a+=e[o].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Iy=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Sc(n(e))+")"},Bo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bo.prototype.toString=function(){return this.objId+" 0 R"},Bo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:h6(a,this.objId,this.scope)}):a instanceof Bo?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var p6=function(){Bo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Za(p6,Bo);var m6=function(){Bo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Sc(r(e))+")"}},set:function(r){e=r}})};Za(m6,Bo);var go=function e(){Bo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wn(t,3)},set:function(v){v?this.F=kn(t,3):this.F=jn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof W0)return;o="FieldObject"+e.FieldNum++}var v=function(j){return j};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Sc(v(o))+")"},set:function(v){o=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(v){o=v}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(v){i=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Ow:d},set:function(v){d=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof W0||this instanceof cc))return Iy(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Xn?b:Iy(b,this.objId,this.scope)},set:function(v){v=v.toString(),b=this instanceof Xn?v:v.substr(0,1)==="("?Yc(v.substr(1,v.length-2)):Yc(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Yc(b.substr(1,b.length-1)):b},set:function(v){v=v.toString(),b=this instanceof Xn?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Xn?p:Iy(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof Xn?v:v.substr(0,1)==="("?Yc(v.substr(1,v.length-2)):Yc(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Yc(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Xn?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(v){w=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,1)},set:function(v){v?this.Ff=kn(this.Ff,1):this.Ff=jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,2)},set:function(v){v?this.Ff=kn(this.Ff,2):this.Ff=jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,3)},set:function(v){v?this.Ff=kn(this.Ff,3):this.Ff=jn(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');A=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(A){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Za(go,Bo);var Cd=function(){go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return h6(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(o,i,l){l||(l=1);for(var c,d=[];c=i.exec(o);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,18)},set:function(r){r?this.Ff=kn(this.Ff,18):this.Ff=jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=kn(this.Ff,19):this.Ff=jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,20)},set:function(r){r?(this.Ff=kn(this.Ff,20),t.sort()):this.Ff=jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,22)},set:function(r){r?this.Ff=kn(this.Ff,22):this.Ff=jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(r){r?this.Ff=kn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,27)},set:function(r){r?this.Ff=kn(this.Ff,27):this.Ff=jn(this.Ff,27)}}),this.hasAppearanceStream=!1};Za(Cd,go);var _d=function(){Cd.call(this),this.fontName="helvetica",this.combo=!1};Za(_d,Cd);var Ed=function(){_d.call(this),this.combo=!0};Za(Ed,_d);var qp=function(){Ed.call(this),this.edit=!0};Za(qp,Ed);var Xn=function(){go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,15)},set:function(r){r?this.Ff=kn(this.Ff,15):this.Ff=jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,16)},set:function(r){r?this.Ff=kn(this.Ff,16):this.Ff=jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,17)},set:function(r){r?this.Ff=kn(this.Ff,17):this.Ff=jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(r){r?this.Ff=kn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Sc(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ar(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Za(Xn,go);var Up=function(){Xn.call(this),this.pushButton=!0};Za(Up,Xn);var Ad=function(){Xn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Za(Ad,Xn);var W0=function(){var e,t;go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,i=[];for(o in i.push("<<"),n)i.push("/"+o+" ("+Sc(a(n[o]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Ar(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Za(W0,go),Ad.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ad.prototype.createOption=function(e){var t=new W0;return t.Parent=this,t.optionName=e,this.Kids.push(t),bH.call(this.scope,t),t};var zp=function(){Xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};Za(zp,Xn);var cc=function(){go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,13)},set:function(t){t?this.Ff=kn(this.Ff,13):this.Ff=jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,21)},set:function(t){t?this.Ff=kn(this.Ff,21):this.Ff=jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(t){t?this.Ff=kn(this.Ff,23):this.Ff=jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,24)},set:function(t){t?this.Ff=kn(this.Ff,24):this.Ff=jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,25)},set:function(t){t?this.Ff=kn(this.Ff,25):this.Ff=jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(t){t?this.Ff=kn(this.Ff,26):this.Ff=jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Za(cc,go);var Vp=function(){cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,14)},set:function(e){e?this.Ff=kn(this.Ff,14):this.Ff=jn(this.Ff,14)}}),this.password=!0};Za(Vp,cc);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Io(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),o=Nb(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Jt(vt.internal.getWidth(e))+" "+Jt(vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jt(o.fontSize)+" Tf "+a),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Io(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],o=vt.internal.getHeight(e),i=vt.internal.getWidth(e),l=Nb(e,e.caption);return a.push("1 g"),a.push("0 0 "+Jt(i)+" "+Jt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Jt(i-1)+" "+Jt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Jt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Io(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(vt.internal.getWidth(e))+" "+Jt(vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Circle.YesNormal,t.D[e]=vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Io(e);t.scope=e.scope;var r=[],n=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=vt.internal.Bezier_C,o=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Zi(vt.internal.getWidth(e)/2)+" "+Zi(vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Io(e);t.scope=e.scope;var r=[],n=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*vt.internal.Bezier_C).toFixed(5)),i=Number((n*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zi(vt.internal.getWidth(e)/2)+" "+Zi(vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Zi(vt.internal.getWidth(e)/2)+" "+Zi(vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Io(e);t.scope=e.scope;var r=[],n=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zi(vt.internal.getWidth(e)/2)+" "+Zi(vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Cross.YesNormal,t.D[e]=vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Io(e);t.scope=e.scope;var r=[],n=vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Jt(vt.internal.getWidth(e)-2)+" "+Jt(vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Io(e);t.scope=e.scope;var r=vt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(vt.internal.getWidth(e))+" "+Jt(vt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jt(vt.internal.getWidth(e)-2)+" "+Jt(vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Io(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(vt.internal.getWidth(e))+" "+Jt(vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=vt.internal.getWidth(e),r=vt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},vt.internal.getWidth=function(e){var t=0;return Ar(e)==="object"&&(t=xk(e.Rect[2])),t},vt.internal.getHeight=function(e){var t=0;return Ar(e)==="object"&&(t=xk(e.Rect[3])),t};var bH=fn.addField=function(e){if(xH(this,e),!(e instanceof go))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};fn.AcroFormChoiceField=Cd,fn.AcroFormListBox=_d,fn.AcroFormComboBox=Ed,fn.AcroFormEditBox=qp,fn.AcroFormButton=Xn,fn.AcroFormPushButton=Up,fn.AcroFormRadioButton=Ad,fn.AcroFormCheckBox=zp,fn.AcroFormTextField=cc,fn.AcroFormPasswordField=Vp,fn.AcroFormAppearance=vt,fn.AcroForm={ChoiceField:Cd,ListBox:_d,ComboBox:Ed,EditBox:qp,Button:Xn,PushButton:Up,RadioButton:Ad,CheckBox:zp,TextField:cc,PasswordField:Vp,Appearance:vt},$t.AcroForm={ChoiceField:Cd,ListBox:_d,ComboBox:Ed,EditBox:qp,Button:Xn,PushButton:Up,RadioButton:Ad,CheckBox:zp,TextField:cc,PasswordField:Vp,Appearance:vt};$t.AcroForm;function g6(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(y,k){var P,E,q,B,G,V=t;if((k=k||t)==="RGBA"||y.data!==void 0&&y.data instanceof Uint8ClampedArray&&"height"in y&&"width"in y)return"RGBA";if(F(y))for(G in r)for(q=r[G],P=0;P<q.length;P+=1){for(B=!0,E=0;E<q[P].length;E+=1)if(q[P][E]!==void 0&&q[P][E]!==y[E]){B=!1;break}if(B===!0){V=G;break}}else for(G in r)for(q=r[G],P=0;P<q.length;P+=1){for(B=!0,E=0;E<q[P].length;E+=1)if(q[P][E]!==void 0&&q[P][E]!==y.charCodeAt(E)){B=!1;break}if(B===!0){V=G;break}}return V===t&&k!==t&&(V=k),V},a=function y(k){for(var P=this.internal.write,E=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var B=[];if(B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Image"}),B.push({key:"Width",value:k.width}),B.push({key:"Height",value:k.height}),k.colorSpace===A.INDEXED?B.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(B.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===A.DEVICE_CMYK&&B.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),B.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&B.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var G="",V=0,ee=k.transparency.length;V<ee;V++)G+=k.transparency[V]+" "+k.transparency[V]+" ";B.push({key:"Mask",value:"["+G+"]"})}k.sMask!==void 0&&B.push({key:"SMask",value:k.objectId+1+" 0 R"});var le=k.filter!==void 0?["/"+k.filter]:void 0;if(E({data:k.data,additionalKeyValues:B,alreadyAppliedFilters:le,objectId:k.objectId}),P("endobj"),"sMask"in k&&k.sMask!==void 0){var Q="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,M={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:Q,data:k.sMask};"filter"in k&&(M.filter=k.filter),y.call(this,M)}if(k.colorSpace===A.INDEXED){var J=this.internal.newObject();E({data:I(new Uint8Array(k.palette)),objectId:J}),P("endobj")}},o=function(){var y=this.internal.collections.addImage_images;for(var k in y)a.call(this,y[k])},i=function(){var y,k=this.internal.collections.addImage_images,P=this.internal.write;for(var E in k)P("/I"+(y=k[E]).index,y.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var y=this.internal.collections.addImage_images;return l.call(this),y},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(y){return typeof e["process"+y.toUpperCase()]=="function"},f=function(y){return Ar(y)==="object"&&y.nodeType===1},b=function(y,k){if(y.nodeName==="IMG"&&y.hasAttribute("src")){var P=""+y.getAttribute("src");if(P.indexOf("data:image/")===0)return mf(unescape(P).split("base64,").pop());var E=e.loadFile(P,!0);if(E!==void 0)return E}if(y.nodeName==="CANVAS"){if(y.width===0||y.height===0)throw new Error("Given canvas must have data. Canvas width: "+y.width+", height: "+y.height);var q;switch(k){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;case"JPEG":case"JPG":default:q="image/jpeg"}return mf(y.toDataURL(q,1).split("base64,").pop())}},p=function(y){var k=this.internal.collections.addImage_images;if(k){for(var P in k)if(y===k[P].alias)return k[P]}},w=function(y,k,P){return y||k||(y=-96,k=-96),y<0&&(y=-1*P.width*72/y/this.internal.scaleFactor),k<0&&(k=-1*P.height*72/k/this.internal.scaleFactor),y===0&&(y=k*P.width/P.height),k===0&&(k=y*P.height/P.width),[y,k]},g=function(y,k,P,E,q,B){var G=w.call(this,P,E,q),V=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,le=c.call(this);if(P=G[0],E=G[1],le[q.index]=q,B){B*=Math.PI/180;var Q=Math.cos(B),M=Math.sin(B),J=function(ue){return ue.toFixed(4)},te=[J(Q),J(M),J(-1*M),J(Q),0,0,"cm"]}this.internal.write("q"),B?(this.internal.write([1,"0","0",1,V(y),ee(k+E),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([V(P),"0","0",V(E),"0","0","cm"].join(" "))):this.internal.write([V(P),"0","0",V(E),V(y),ee(k+E),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(y){var k,P,E=0;if(typeof y=="string")for(P=y.length,k=0;k<P;k++)E=(E<<5)-E+y.charCodeAt(k),E|=0;else if(F(y))for(P=y.byteLength/2,k=0;k<P;k++)E=(E<<5)-E+y[k],E|=0;return E},R=e.__addimage__.validateStringAsBase64=function(y){(y=y||"").toString().trim();var k=!0;return y.length===0&&(k=!1),y.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(y.substr(0,y.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(y.substr(-2))===!1&&(k=!1),k},H=e.__addimage__.extractImageFromDataUrl=function(y){if(y==null||!(y=y.trim()).startsWith("data:"))return null;var k=y.indexOf(",");return k<0?null:y.substring(0,k).trim().endsWith("base64")?y.substring(k+1):null},U=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(y){return U()&&y instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(y){return U()&&typeof Uint32Array<"u"&&(y instanceof Int8Array||y instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&y instanceof Uint8ClampedArray||y instanceof Int16Array||y instanceof Uint16Array||y instanceof Int32Array||y instanceof Uint32Array||y instanceof Float32Array||y instanceof Float64Array)},x=e.__addimage__.binaryStringToUint8Array=function(y){for(var k=y.length,P=new Uint8Array(k),E=0;E<k;E++)P[E]=y.charCodeAt(E);return P},I=e.__addimage__.arrayBufferToBinaryString=function(y){for(var k="",P=F(y)?y:new Uint8Array(y),E=0;E<P.length;E+=8192)k+=String.fromCharCode.apply(null,P.subarray(E,E+8192));return k};e.addImage=function(){var y,k,P,E,q,B,G,V,ee;if(typeof arguments[1]=="number"?(k=t,P=arguments[1],E=arguments[2],q=arguments[3],B=arguments[4],G=arguments[5],V=arguments[6],ee=arguments[7]):(k=arguments[1],P=arguments[2],E=arguments[3],q=arguments[4],B=arguments[5],G=arguments[6],V=arguments[7],ee=arguments[8]),Ar(y=arguments[0])==="object"&&!f(y)&&"imageData"in y){var le=y;y=le.imageData,k=le.format||k||t,P=le.x||P||0,E=le.y||E||0,q=le.w||le.width||q,B=le.h||le.height||B,G=le.alias||G,V=le.compression||V,ee=le.rotation||le.angle||ee}var Q=this.internal.getFilters();if(V===void 0&&Q.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(P)||isNaN(E))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=S.call(this,y,k,G,V);return g.call(this,P,E,q,B,M,ee),this};var S=function(y,k,P,E){var q,B,G;if(typeof y=="string"&&n(y)===t){y=unescape(y);var V=C(y,!1);(V!==""||(V=e.loadFile(y,!0))!==void 0)&&(y=V)}if(f(y)&&(y=b(y,k)),k=n(y,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((G=P)==null||G.length===0)&&(P=function(ee){return typeof ee=="string"||F(ee)?j(ee):F(ee.data)?j(ee.data):null}(y)),(q=p.call(this,P))||(U()&&(y instanceof Uint8Array||k==="RGBA"||(B=y,y=x(y))),q=this["process"+k.toUpperCase()](y,d.call(this),P,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:v.NONE}(E),B)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},C=e.__addimage__.convertBase64ToBinaryString=function(y,k){k=typeof k!="boolean"||k;var P,E="";if(typeof y=="string"){var q;P=(q=H(y))!==null&&q!==void 0?q:y;try{E=mf(P)}catch(B){if(k)throw R(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+B.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return E};e.getImageProperties=function(y){var k,P,E="";if(f(y)&&(y=b(y)),typeof y=="string"&&n(y)===t&&((E=C(y,!1))===""&&(E=e.loadFile(y)||""),y=E),P=n(y),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!U()||y instanceof Uint8Array||(y=x(y)),!(k=this["process"+P.toUpperCase()](y)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=P,k}})($t.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};$t.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,o,i=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((n=d[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){n=d[b];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),j=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",o+=" /Popup "+A.objId+" 0 R",o+=" /P "+c.objId+" 0 R",o+=" /T ("+p(v(j))+") >>",g.content=o;var R=g.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+R,n.open&&(o+=" /Open true"),o+=" >>",A.content=o,this.internal.write(g.objId,"0 R",A.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+l(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var H=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(w(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var U=this.annotations._nameMap[n.options.name];n.options.pageNumber=U.page,n.options.top=U.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var F=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,o,i){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+o)},options:i,type:"link"})},e.textWithLink=function(r,n,a,o){var i,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var u=this.splitTextToSize(r,l).length;i=Math.ceil(d*u)}else l=c,i=d;return this.text(r,n,a,o),a+=.2*d,o.align==="center"&&(n-=c/2),o.align==="right"&&(n-=c),this.link(n,a-d,l,i,o),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}($t.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return i(g)&&o(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return i(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return i(g)&&o(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return i(g)&&o(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return i(g)&&o(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return i(g)&&o(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var A=0,v=r,j="",R=0;for(A=0;A<g.length;A+=1)v[g.charCodeAt(A)]!==void 0?(R++,typeof(v=v[g.charCodeAt(A)])=="number"&&(j+=String.fromCharCode(v),v=r,R=0),A===g.length-1&&(v=r,j+=g.charAt(A-(R-1)),A-=R-1,R=0)):(v=r,j+=g.charAt(A-R),A-=R,R=0);return j};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(g,A,v){return i(g)?o(g)===!1?-1:!d(g)||!i(A)&&!i(v)||!i(v)&&l(A)||l(g)&&!i(A)||l(g)&&c(A)||l(g)&&l(A)?0:u(g)&&i(A)&&!l(A)&&i(v)&&d(v)?3:l(g)||!i(v)?1:2:-1},p=function(g){var A=0,v=0,j=0,R="",H="",U="",F=(g=g||"").split("\\s+"),x=[];for(A=0;A<F.length;A+=1){for(x.push(""),v=0;v<F[A].length;v+=1)R=F[A][v],H=F[A][v-1],U=F[A][v+1],i(R)?(j=b(R,H,U),x[A]+=j!==-1?String.fromCharCode(t[R.charCodeAt(0)][j]):R):x[A]+=R;x[A]=f(x[A])}return x.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var g,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(A)){var j=0;for(v=[],j=0;j<A.length;j+=1)Array.isArray(A[j])?v.push([p(A[j][0]),A[j][1],A[j][2]]):v.push([p(A[j])]);g=v}else g=p(A);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",w])}($t.API),$t.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(l){i=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}($t.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(g){b=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(g){w=g}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,p=0,w=0,g=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=d.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,H){return R.concat(A.splitTextToSize(H,v))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)p<(g=this.getStringUnitWidth(c[j],{font:f})*u)&&(p=g);return p!==0&&(w=c.length),{w:p/=b,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var c;c=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,b){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,w,g,A,v=[],j=[],R=[],H={},U={},F=[],x=[],I=(b=b||{}).autoSize||!1,S=b.printHeaders!==!1,C=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,y=b.margins||Object.assign({width:this.getPageWidth()},t),k=typeof b.padding=="number"?b.padding:3,P=b.headerBackgroundColor||"#c8c8c8",E=b.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=y,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=E,this.setFontSize(C),f==null)j=v=Object.keys(u[0]),R=v.map(function(){return"left"});else if(Array.isArray(f)&&Ar(f[0])==="object")for(v=f.map(function(le){return le.name}),j=f.map(function(le){return le.prompt||le.name||""}),R=f.map(function(le){return le.align||"left"}),p=0;p<f.length;p+=1)U[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(j=v=f,R=v.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(H[A=v[p]]=u.map(function(le){return le[A]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(j[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=H[A],this.setFont(void 0,"normal"),g=0;g<w.length;g+=1)F.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[A]=Math.max.apply(null,F)+k+k,F=[]}if(S){var q={};for(p=0;p<v.length;p+=1)q[v[p]]={},q[v[p]].text=j[p],q[v[p]].align=R[p];var B=l.call(this,q,U);x=v.map(function(le){return new o(c,d,U[le],B,q[le].text,void 0,q[le].align)}),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var G=f.reduce(function(le,Q){return le[Q.name]=Q.align,le},{});for(p=0;p<u.length;p+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:p,data:u[p]},this);var V=l.call(this,u[p],U);for(g=0;g<v.length;g+=1){var ee=u[p][v[g]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:p,col:g,data:ee},this),i.call(this,new o(c,d,U[v[g]],V,ee,p+2,G[v[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(p){var w=c[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/b+u+u},this).reduce(function(p,w){return Math.max(p,w)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,b.push(u)),u.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(w)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}}($t.API);var y6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},x6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sb=g6(x6),b6=[100,200,300,400,500,600,700,800,900],vH=g6(b6);function Cb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return y6[o=o||"normal"]?o:"normal"}(e.style),n=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(o){return typeof Sb[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function bk(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var wH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function wk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function kH(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},wH,r.genericFontFamilies||{}),o=null,i=null,l=0;l<t.length;++l)if(a[(o=Cb(t[l])).family]&&(o.family=a[o.family]),e.hasOwnProperty(o.family)){i=e[o.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+wk(o)+"' and default family '"+n+"'.");if(i=function(c,d){if(d[c])return d[c];var u=Sb[c],f=u<=Sb.normal?-1:1,b=bk(d,x6,u,f);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(o.stretch,i),i=function(c,d){if(d[c])return d[c];for(var u=y6[c],f=0;f<u.length;++f)if(d[u[f]])return d[u[f]];throw new Error("Could not find a matching font-style for "+c)}(o.style,i),!(i=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=vH[c],f=bk(d,b6,u,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(o.weight,i)))throw new Error("Failed to resolve a font for the rule '"+wk(o)+"'.");return i}function kk(e){return e.trimLeft()}function jH(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function NH(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var gp,jk,Nk,Ry=["times"];(function(e){var t,r,n,a,o,i,l,c,d,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new i,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new i,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,i=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=M;Object.defineProperty(this,"pdf",{get:function(){return J}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Me){te=!!Me}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Me){ue=!!Me}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Me){isNaN(Me)||(ie=Me)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Me){isNaN(Me)||(de=Me)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Me){var ge;typeof Me=="number"?ge=[Me,Me,Me,Me]:((ge=new Array(4))[0]=Me[0],ge[1]=Me.length>=2?Me[1]:ge[0],ge[2]=Me.length>=3?Me[2]:ge[0],ge[3]=Me.length>=4?Me[3]:ge[1]),d.margin=ge}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Me){ye=Me}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Me){pe=Me}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(Me){Ee=Me}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Me){Me instanceof u&&(d=Me)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Me){d.path=Me}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(Me){$e=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var ge;ge=b(Me),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var ge=b(Me);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var qe=null;function Ye(Me,ge){if(qe===null){var yt=function(rt){var Ge=[];return Object.keys(rt).forEach(function(et){rt[et].forEach(function(se){var we=null;switch(se){case"bold":we={family:et,weight:"bold"};break;case"italic":we={family:et,style:"italic"};break;case"bolditalic":we={family:et,weight:"bold",style:"italic"};break;case"":case"normal":we={family:et}}we!==null&&(we.ref={name:et,style:se},Ge.push(we))})}),Ge}(Me.getFontList());qe=function(rt){for(var Ge={},et=0;et<rt.length;++et){var se=Cb(rt[et]),we=se.family,Ae=se.stretch,tt=se.style,Fe=se.weight;Ge[we]=Ge[we]||{},Ge[we][Ae]=Ge[we][Ae]||{},Ge[we][Ae][tt]=Ge[we][Ae][tt]||{},Ge[we][Ae][tt][Fe]=se}return Ge}(yt.concat(ge))}return qe}var dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(Me){qe=null,dt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var ge;if(this.ctx.font=Me,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var yt=ge[1];ge[2];var rt=ge[3],Ge=ge[4];ge[5];var et=ge[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(se==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var we=function(St){var Kt,ut,Gr=[],Gt=St.trim();if(Gt==="")return Ry;if(Gt in vk)return[vk[Gt]];for(;Gt!=="";){switch(ut=null,Kt=(Gt=kk(Gt)).charAt(0)){case'"':case"'":ut=jH(Gt.substring(1),Kt);break;default:ut=NH(Gt)}if(ut===null||(Gr.push(ut[0]),(Gt=kk(ut[1]))!==""&&Gt.charAt(0)!==","))return Ry;Gt=Gt.replace(/^,/,"")}return Gr}(et);if(this.fontFaces){var Ae=kH(Ye(this.pdf,this.fontFaces),we.map(function(St){return{family:St,stretch:"normal",weight:rt,style:yt}}));this.pdf.setFont(Ae.ref.name,Ae.ref.style)}else{var tt="";(rt==="bold"||parseInt(rt,10)>=700||yt==="bold")&&(tt="bold"),yt==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var Fe="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<we.length;Nt++){if(this.pdf.internal.getFont(we[Nt],tt,{noFallback:!0,disableWarning:!0})!==void 0){Fe=we[Nt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(we[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fe=we[Nt],tt="bold";else if(this.pdf.internal.getFont(we[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fe=we[Nt],tt="normal";break}}if(Fe===""){for(var Tt=0;Tt<we.length;Tt++)if(st[we[Tt]]){Fe=st[we[Tt]];break}}Fe=Fe===""?"Times":Fe,this.pdf.setFont(Fe,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){H.call(this,"fill",!1)},f.prototype.stroke=function(){H.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,J){if(isNaN(M)||isNaN(J))throw $r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new i(M,J));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new i(M,J)},f.prototype.closePath=function(){var M=new i(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Ar(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){M=new i(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(M.x,M.y)},f.prototype.lineTo=function(M,J){if(isNaN(M)||isNaN(J))throw $r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new i(M,J));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new i(te.x,te.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,J,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(M)||isNaN(J))throw $r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new i(te,ue)),de=this.ctx.transform.applyToPoint(new i(M,J));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new i(ie.x,ie.y)},f.prototype.bezierCurveTo=function(M,J,te,ue,ie,de){if(isNaN(ie)||isNaN(de)||isNaN(M)||isNaN(J)||isNaN(te)||isNaN(ue))throw $r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new i(ie,de)),pe=this.ctx.transform.applyToPoint(new i(M,J)),Ee=this.ctx.transform.applyToPoint(new i(te,ue));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ee.x,y2:Ee.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new i(ye.x,ye.y)},f.prototype.arc=function(M,J,te,ue,ie,de){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(ue)||isNaN(ie))throw $r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new i(M,J));M=ye.x,J=ye.y;var pe=this.ctx.transform.applyToPoint(new i(0,te)),Ee=this.ctx.transform.applyToPoint(new i(0,0));te=Math.sqrt(Math.pow(pe.x-Ee.x,2)+Math.pow(pe.y-Ee.y,2))}Math.abs(ie-ue)>=2*Math.PI&&(ue=0,ie=2*Math.PI),this.path.push({type:"arc",x:M,y:J,radius:te,startAngle:ue,endAngle:ie,counterclockwise:de})},f.prototype.arcTo=function(M,J,te,ue,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,J,te,ue){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(ue))throw $r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,J),this.lineTo(M+te,J),this.lineTo(M+te,J+ue),this.lineTo(M,J+ue),this.lineTo(M,J),this.lineTo(M+te,J),this.lineTo(M,J)},f.prototype.fillRect=function(M,J,te,ue){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(ue))throw $r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,J,te,ue),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(M,J,te,ue){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(ue))throw $r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(M,J,te,ue),this.stroke())},f.prototype.clearRect=function(M,J,te,ue){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(ue))throw $r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,J,te,ue))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(J),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(M){var J,te,ue,ie;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))J=0,te=0,ue=0,ie=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(de!==null)J=parseInt(de[1]),te=parseInt(de[2]),ue=parseInt(de[3]),ie=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)J=parseInt(de[1]),te=parseInt(de[2]),ue=parseInt(de[3]),ie=parseFloat(de[4]);else{if(ie=1,typeof M=="string"&&M.charAt(0)!=="#"){var ye=new d6(M);M=ye.ok?ye.toHex():"#000000"}M.length===4?(J=M.substring(1,2),J+=J,te=M.substring(2,3),te+=te,ue=M.substring(3,4),ue+=ue):(J=M.substring(1,3),te=M.substring(3,5),ue=M.substring(5,7)),J=parseInt(J,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:J,g:te,b:ue,a:ie,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,J,te,ue){if(isNaN(J)||isNaN(te)||typeof M!="string")throw $r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!p.call(this)){var ie=V(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;k.call(this,{text:M,x:J,y:te,scale:de,angle:ie,align:this.textAlign,maxWidth:ue})}},f.prototype.strokeText=function(M,J,te,ue){if(isNaN(J)||isNaN(te)||typeof M!="string")throw $r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ue=isNaN(ue)?void 0:ue;var ie=V(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;k.call(this,{text:M,x:J,y:te,scale:de,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ue})}},f.prototype.measureText=function(M){if(typeof M!="string")throw $r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,te=this.pdf.internal.scaleFactor,ue=J.internal.getFontSize(),ie=J.getStringUnitWidth(M)*ue/J.internal.scaleFactor,de=function(ye){var pe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new de({width:ie*=Math.round(96*te/72*1e4)/1e4})},f.prototype.scale=function(M,J){if(isNaN(M)||isNaN(J))throw $r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c(M,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.rotate=function(M){if(isNaN(M))throw $r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.translate=function(M,J){if(isNaN(M)||isNaN(J))throw $r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,M,J);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.transform=function(M,J,te,ue,ie,de){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(ue)||isNaN(ie)||isNaN(de))throw $r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(M,J,te,ue,ie,de);this.ctx.transform=this.ctx.transform.multiply(ye)},f.prototype.setTransform=function(M,J,te,ue,ie,de){M=isNaN(M)?1:M,J=isNaN(J)?0:J,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,ie=isNaN(ie)?0:ie,de=isNaN(de)?0:de,this.ctx.transform=new c(M,J,te,ue,ie,de)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,J,te,ue,ie,de,ye,pe,Ee){var $e=this.pdf.getImageProperties(M),qe=1,Ye=1,dt=1,Me=1;ue!==void 0&&pe!==void 0&&(dt=pe/ue,Me=Ee/ie,qe=$e.width/ue*pe/ue,Ye=$e.height/ie*Ee/ie),de===void 0&&(de=J,ye=te,J=0,te=0),ue!==void 0&&pe===void 0&&(pe=ue,Ee=ie),ue===void 0&&pe===void 0&&(pe=$e.width,Ee=$e.height);for(var ge,yt=this.ctx.transform.decompose(),rt=V(yt.rotate.shx),Ge=new c,et=(Ge=(Ge=(Ge=Ge.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new l(de-J*dt,ye-te*Me,ue*qe,ie*Ye)),se=A.call(this,et),we=[],Ae=0;Ae<se.length;Ae+=1)we.indexOf(se[Ae])===-1&&we.push(se[Ae]);if(R(we),this.autoPaging)for(var tt=we[0],Fe=we[we.length-1],st=tt;st<Fe+1;st++){this.pdf.setPage(st);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=st===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=st===1?0:St+(st-2)*Kt;if(this.ctx.clip_path.length!==0){var Gr=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ge,this.posX+this.margin[3],-ut+Tt+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Gr}var Gt=JSON.parse(JSON.stringify(et));Gt=j([Gt],this.posX+this.margin[3],-ut+Tt+this.ctx.prevPageLastElemOffset)[0];var mn=(st>tt||st<Fe)&&g.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Kt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,rt),mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",et.x,et.y,et.w,et.h,null,null,rt)};var A=function(M,J,te){var ue=[];J=J||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ue.push(Math.floor((M.y+ie)/te)+1);break;case"arc":ue.push(Math.floor((M.y+ie-M.radius)/te)+1),ue.push(Math.floor((M.y+ie+M.radius)/te)+1);break;case"qct":var de=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ue.push(Math.floor((de.y+ie)/te)+1),ue.push(Math.floor((de.y+de.h+ie)/te)+1);break;case"bct":var ye=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ue.push(Math.floor((ye.y+ie)/te)+1),ue.push(Math.floor((ye.y+ye.h+ie)/te)+1);break;case"rect":ue.push(Math.floor((M.y+ie)/te)+1),ue.push(Math.floor((M.y+M.h+ie)/te)+1)}for(var pe=0;pe<ue.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<ue[pe];)v.call(this);return ue},v=function(){var M=this.fillStyle,J=this.strokeStyle,te=this.font,ue=this.lineCap,ie=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=J,this.font=te,this.lineCap=ue,this.lineWidth=ie,this.lineJoin=de},j=function(M,J,te){for(var ue=0;ue<M.length;ue++)switch(M[ue].type){case"bct":M[ue].x2+=J,M[ue].y2+=te;case"qct":M[ue].x1+=J,M[ue].y1+=te;case"mt":case"lt":case"arc":default:M[ue].x+=J,M[ue].y+=te}return M},R=function(M){return M.sort(function(J,te){return J-te})},H=function(M,J){for(var te,ue,ie=this.fillStyle,de=this.strokeStyle,ye=this.lineCap,pe=this.lineWidth,Ee=Math.abs(pe*this.ctx.transform.scaleX),$e=this.lineJoin,qe=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),dt=[],Me=0;Me<Ye.length;Me++)if(Ye[Me].x!==void 0)for(var ge=A.call(this,Ye[Me]),yt=0;yt<ge.length;yt+=1)dt.indexOf(ge[yt])===-1&&dt.push(ge[yt]);for(var rt=0;rt<dt.length;rt++)for(;this.pdf.internal.getNumberOfPages()<dt[rt];)v.call(this);if(R(dt),this.autoPaging)for(var Ge=dt[0],et=dt[dt.length-1],se=Ge;se<et+1;se++){this.pdf.setPage(se),this.fillStyle=ie,this.strokeStyle=de,this.lineCap=ye,this.lineWidth=Ee,this.lineJoin=$e;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ae=se===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=se===1?0:tt+(se-2)*Fe;if(this.ctx.clip_path.length!==0){var Nt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(te,this.posX+this.margin[3],-st+Ae+this.ctx.prevPageLastElemOffset),U.call(this,M,!0),this.path=Nt}if(ue=JSON.parse(JSON.stringify(qe)),this.path=j(ue,this.posX+this.margin[3],-st+Ae+this.ctx.prevPageLastElemOffset),J===!1||se===0){var Tt=(se>Ge||se<et)&&g.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Fe,null).clip().discardPath()),U.call(this,M,J),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ee,U.call(this,M,J),this.lineWidth=pe;this.path=qe},U=function(M,J){if((M!=="stroke"||J||!w.call(this))&&(M==="stroke"||J||!p.call(this))){for(var te,ue,ie=[],de=this.path,ye=0;ye<de.length;ye++){var pe=de[ye];switch(pe.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ee=ie.length;if(de[ye-1]&&!isNaN(de[ye-1].x)&&(te=[pe.x-de[ye-1].x,pe.y-de[ye-1].y],Ee>0)){for(;Ee>=0;Ee--)if(ie[Ee-1].close!==!0&&ie[Ee-1].begin!==!0){ie[Ee-1].deltas.push(te),ie[Ee-1].abs.push(pe);break}}break;case"bct":te=[pe.x1-de[ye-1].x,pe.y1-de[ye-1].y,pe.x2-de[ye-1].x,pe.y2-de[ye-1].y,pe.x-de[ye-1].x,pe.y-de[ye-1].y],ie[ie.length-1].deltas.push(te);break;case"qct":var $e=de[ye-1].x+2/3*(pe.x1-de[ye-1].x),qe=de[ye-1].y+2/3*(pe.y1-de[ye-1].y),Ye=pe.x+2/3*(pe.x1-pe.x),dt=pe.y+2/3*(pe.y1-pe.y),Me=pe.x,ge=pe.y;te=[$e-de[ye-1].x,qe-de[ye-1].y,Ye-de[ye-1].x,dt-de[ye-1].y,Me-de[ye-1].x,ge-de[ye-1].y],ie[ie.length-1].deltas.push(te);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(pe)}}ue=J?null:M==="stroke"?"stroke":"fill";for(var yt=!1,rt=0;rt<ie.length;rt++)if(ie[rt].arc)for(var Ge=ie[rt].abs,et=0;et<Ge.length;et++){var se=Ge[et];se.type==="arc"?I.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,J,!yt):P.call(this,se.x,se.y),yt=!0}else if(ie[rt].close===!0)this.pdf.internal.out("h"),yt=!1;else if(ie[rt].begin!==!0){var we=ie[rt].start.x,Ae=ie[rt].start.y;E.call(this,ie[rt].deltas,we,Ae),yt=!0}ue&&S.call(this,ue),J&&C.call(this)}},F=function(M){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-te;case"top":return M+J-te;case"hanging":return M+J-2*te;case"middle":return M+J/2-te;case"ideographic":return M;case"alphabetic":default:return M}},x=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(J,te){this.colorStops.push([J,te])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(M,J,te,ue,ie,de,ye,pe,Ee){for(var $e=B.call(this,te,ue,ie,de),qe=0;qe<$e.length;qe++){var Ye=$e[qe];qe===0&&(Ee?y.call(this,Ye.x1+M,Ye.y1+J):P.call(this,Ye.x1+M,Ye.y1+J)),q.call(this,M,J,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}pe?C.call(this):S.call(this,ye)},S=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},y=function(M,J){this.pdf.internal.out(r(M)+" "+n(J)+" m")},k=function(M){var J;switch(M.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var te=this.pdf.getTextDimensions(M.text),ue=F.call(this,M.y),ie=x.call(this,ue)-te.h,de=this.ctx.transform.applyToPoint(new i(M.x,ue)),ye=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Ee,$e,qe,Ye=this.ctx.transform.applyToRectangle(new l(M.x,ue,te.w,te.h)),dt=pe.applyToRectangle(new l(M.x,ie,te.w,te.h)),Me=A.call(this,dt),ge=[],yt=0;yt<Me.length;yt+=1)ge.indexOf(Me[yt])===-1&&ge.push(Me[yt]);if(R(ge),this.autoPaging)for(var rt=ge[0],Ge=ge[ge.length-1],et=rt;et<Ge+1;et++){this.pdf.setPage(et);var se=et===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[2],tt=Ae-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],st=Fe-this.margin[3],Nt=et===1?0:we+(et-2)*tt;if(this.ctx.clip_path.length!==0){var Tt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ee,this.posX+this.margin[3],-1*Nt+se),U.call(this,"fill",!0),this.path=Tt}var St=j([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-Nt+se+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*M.scale),qe=this.lineWidth,this.lineWidth=qe*M.scale);var Kt=this.autoPaging!=="text";if(Kt||St.y+St.h<=Ae){if(Kt||St.y>=se&&St.x<=Fe){var ut=Kt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Fe-St.x)[0],Gr=j([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Nt+se+this.ctx.prevPageLastElemOffset)[0],Gt=Kt&&(et>rt||et<Ge)&&g.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,tt,null).clip().discardPath()),this.pdf.text(ut,Gr.x,Gr.y,{angle:M.angle,align:J,renderingMode:M.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else St.y<Ae&&(this.ctx.prevPageLastElemOffset+=Ae-St.y);M.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=qe)}else M.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*M.scale),qe=this.lineWidth,this.lineWidth=qe*M.scale),this.pdf.text(M.text,de.x+this.posX,de.y+this.posY,{angle:M.angle,align:J,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=qe)},P=function(M,J,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(r(M+te)+" "+n(J+ue)+" l")},E=function(M,J,te){return this.pdf.lines(M,J,te,null,null)},q=function(M,J,te,ue,ie,de,ye,pe){this.pdf.internal.out([t(a(te+M)),t(o(ue+J)),t(a(ie+M)),t(o(de+J)),t(a(ye+M)),t(o(pe+J)),"c"].join(" "))},B=function(M,J,te,ue){for(var ie=2*Math.PI,de=Math.PI/2;J>te;)J-=ie;var ye=Math.abs(te-J);ye<ie&&ue&&(ye=ie-ye);for(var pe=[],Ee=ue?-1:1,$e=J;ye>1e-5;){var qe=$e+Ee*Math.min(ye,de);pe.push(G.call(this,M,$e,qe)),ye-=Math.abs(qe-$e),$e=qe}return pe},G=function(M,J,te){var ue=(te-J)/2,ie=M*Math.cos(ue),de=M*Math.sin(ue),ye=ie,pe=-de,Ee=ye*ye+pe*pe,$e=Ee+ye*ie+pe*de,qe=4/3*(Math.sqrt(2*Ee*$e)-$e)/(ye*de-pe*ie),Ye=ye-qe*pe,dt=pe+qe*ye,Me=Ye,ge=-dt,yt=ue+J,rt=Math.cos(yt),Ge=Math.sin(yt);return{x1:M*Math.cos(J),y1:M*Math.sin(J),x2:Ye*rt-dt*Ge,y2:Ye*Ge+dt*rt,x3:Me*rt-ge*Ge,y3:Me*Ge+ge*rt,x4:M*Math.cos(te),y4:M*Math.sin(te)}},V=function(M){return 180*M/Math.PI},ee=function(M,J,te,ue,ie,de){var ye=M+.5*(te-M),pe=J+.5*(ue-J),Ee=ie+.5*(te-ie),$e=de+.5*(ue-de),qe=Math.min(M,ie,ye,Ee),Ye=Math.max(M,ie,ye,Ee),dt=Math.min(J,de,pe,$e),Me=Math.max(J,de,pe,$e);return new l(qe,dt,Ye-qe,Me-dt)},le=function(M,J,te,ue,ie,de,ye,pe){var Ee,$e,qe,Ye,dt,Me,ge,yt,rt,Ge,et,se,we,Ae,tt=te-M,Fe=ue-J,st=ie-te,Nt=de-ue,Tt=ye-ie,St=pe-de;for($e=0;$e<41;$e++)rt=(ge=(qe=M+(Ee=$e/40)*tt)+Ee*((dt=te+Ee*st)-qe))+Ee*(dt+Ee*(ie+Ee*Tt-dt)-ge),Ge=(yt=(Ye=J+Ee*Fe)+Ee*((Me=ue+Ee*Nt)-Ye))+Ee*(Me+Ee*(de+Ee*St-Me)-yt),$e==0?(et=rt,se=Ge,we=rt,Ae=Ge):(et=Math.min(et,rt),se=Math.min(se,Ge),we=Math.max(we,rt),Ae=Math.max(Ae,Ge));return new l(Math.round(et),Math.round(se),Math.round(we-et),Math.round(Ae-se))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,J,te=(M=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:J}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})($t.API),function(e){var t=function(o){var i,l,c,d,u,f,b,p,w,g;for(l=[],c=0,d=(o+=i="\0\0\0\0".slice(o.length%4||4)).length;d>c;c+=4)(u=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(f=(u=((u=((u=((u=(u-(g=u%85))/85)-(w=u%85))/85)-(p=u%85))/85)-(b=u%85))/85)%85,l.push(f+33,b+33,p+33,w+33,g+33)):l.push(122);return function(A,v){for(var j=v;j>0;j--)A.pop()}(l,i.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var i,l,c,d,u,f=String,b="length",p=255,w="charCodeAt",g="slice",A="replace";for(o[g](-2),o=o[g](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),c=[],d=0,u=(o+=i="uuuuu"[g](o[b]%5||5))[b];u>d;d+=5)l=52200625*(o[w](d)-33)+614125*(o[w](d+1)-33)+7225*(o[w](d+2)-33)+85*(o[w](d+3)-33)+(o[w](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(v,j){for(var R=j;R>0;R--)v.pop()}(c,i[b]),f.fromCharCode.apply(f,c)},n=function(o){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),i.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},a=function(o){for(var i=new Uint8Array(o.length),l=o.length;l--;)i[l]=o.charCodeAt(l);return o=(i=vb(i)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,i){var l=0,c=o||"",d=[];for(typeof(i=i||[])=="string"&&(i=[i]),l=0;l<i.length;l+=1)switch(i[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}($t.API),function(e){e.loadFile=function(t,r,n){return function(a,o,i){o=o!==!1,i=typeof i=="function"?i:function(){};var l=void 0;try{l=function(c,d,u){var f=new XMLHttpRequest,b=0,p=function(w){var g=w.length,A=[],v=String.fromCharCode;for(b=0;b<g;b+=1)A.push(v(255&w.charCodeAt(b)));return A.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return p(f.responseText)}(a,o,i)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}($t.API),function(e){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):Si(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):Si(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var l=Ar(i);return l==="undefined"?"undefined":l==="string"||i instanceof String?"string":l==="number"||i instanceof Number?"number":l==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(i,l){var c=document.createElement(i);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},o=function i(l){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),d=i.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,i,1,[i])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(i,l){return i.__proto__=l||o.prototype,i},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(i,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},o.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)u!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||f.appendChild(c(b,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var p=d[b],w=p.src.find(function(g){return g.format==="truetype"});w&&c.addFont(w.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(i,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,l):this.outputPdf(i,l)},o.prototype.outputPdf=function(i,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,l)})},o.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},o.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(i){if(n(i)!=="object")return this;var l=Object.keys(i||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(i,l){return this.then(function(){var c=i in o.template.prop?this.prop[i]:this.opt[i];return l?l(c):c})},o.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},o.prototype.setPageSize=function(i){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(i=i||$t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:l(i.inner.width,i.k),height:l(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},o.prototype.setProgress=function(i,l,c,d){return i!=null&&(this.progress.val=i),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(i,l,c,d){return this.setProgress(i?this.progress.val+i:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(i,l){var c=this;return this.thenCore(i,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,d),f}).then(d,u).then(function(f){return c.updateProgress(1),f})})},o.prototype.thenCore=function(i,l,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=c.call(d,i,l);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(i,l){return Promise.prototype.then.call(this,i,l)},o.prototype.thenList=function(i){var l=this;return i.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(i){i&&(i=i.bind(this));var l=Promise.prototype.catch.call(this,i);return o.convert(l,this)},o.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},o.prototype.error=function(i){return this.then(function(){throw new Error(i)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,$t.getPageSize=function(i,l,c){if(Ar(i)==="object"){var d=i;i=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var u,f=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var p,w=0,g=0;if(b.hasOwnProperty(f))w=b[f][1]/u,g=b[f][0]/u;else try{w=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",g>w&&(p=g,g=w,w=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",w>g&&(p=g,g=w,w=p)}return{width:g,height:w,unit:l,k:u,orientation:i}},e.html=function(i,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Cb):null;var c=new o(l);return l.worker?c:c.from(i).doCallback()}}($t.API),$t.API.addJS=function(e){return Nk=e,this.internal.events.subscribe("postPutResources",function(){gp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Nk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gp!==void 0&&jk!==void 0&&this.internal.out("/Names <</JavaScript "+gp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),o=0;o<a.length;o++){var i=a[o],l=n.exec(i);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(o=0;o<d;o++){var f=r.internal.newObject();u.push(f);var b=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<u.length;o++)r.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,o){var i={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var i=n.children[o];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var l=this.count=this.count_r({count:0},i);if(l>0&&this.line("/Count "+l),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])}($t.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,o,i,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var b,p=256*f.charCodeAt(4)+f.charCodeAt(5),w=f.length,g={width:0,height:0,numcomponents:1},A=4;A<w;A+=2){if(A+=p,t.indexOf(f.charCodeAt(A+1))!==-1){b=256*f.charCodeAt(A+5)+f.charCodeAt(A+6),g={width:256*f.charCodeAt(A+7)+f.charCodeAt(A+8),height:b,numcomponents:f.charCodeAt(A+9)};break}p=256*f.charCodeAt(A+2)+f.charCodeAt(A+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}($t.API);var Xc,yp,Sk,Ck,_k,SH=function(){var e,t,r;function n(o){var i,l,c,d,u,f,b,p,w,g,A,v,j,R;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(i=this.readUInt32(),w=(function(){var H,U;for(U=[],H=0;H<4;++H)U.push(String.fromCharCode(this.data[this.pos++]));return U}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,f.delay=1e3*u/d,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,i-=4),o=(f!=null?f.data:void 0)||this.imgData,v=0;0<=i?v<i:v>i;0<=i?++v:--v)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(j=0;0<=g?j<g:j>g;0<=g?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":b=(A=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,A.slice(0,b)),this.text[p]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(R=this.colorType)===4||R===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(o){var i,l;for(l=[],i=0;0<=o?i<o:i>o;0<=o?++i:--i)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(o){var i=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*i),c=0,d=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(f,b,p,w){var g,A,v,j,R,H,U,F,x,I,S,C,y,k,P,E,q,B,G,V,ee,le=Math.ceil((d.width-f)/p),Q=Math.ceil((d.height-b)/w),M=d.width==le&&d.height==Q;for(k=i*le,C=M?l:new Uint8Array(k*Q),H=o.length,y=0,A=0;y<Q&&c<H;){switch(o[c++]){case 0:for(j=q=0;q<k;j=q+=1)C[A++]=o[c++];break;case 1:for(j=B=0;B<k;j=B+=1)g=o[c++],R=j<i?0:C[A-i],C[A++]=(g+R)%256;break;case 2:for(j=G=0;G<k;j=G+=1)g=o[c++],v=(j-j%i)/i,P=y&&C[(y-1)*k+v*i+j%i],C[A++]=(P+g)%256;break;case 3:for(j=V=0;V<k;j=V+=1)g=o[c++],v=(j-j%i)/i,R=j<i?0:C[A-i],P=y&&C[(y-1)*k+v*i+j%i],C[A++]=(g+Math.floor((R+P)/2))%256;break;case 4:for(j=ee=0;ee<k;j=ee+=1)g=o[c++],v=(j-j%i)/i,R=j<i?0:C[A-i],y===0?P=E=0:(P=C[(y-1)*k+v*i+j%i],E=v&&C[(y-1)*k+(v-1)*i+j%i]),U=R+P-E,F=Math.abs(U-R),I=Math.abs(U-P),S=Math.abs(U-E),x=F<=I&&F<=S?R:I<=S?P:E,C[A++]=(g+x)%256;break;default:throw new Error("Invalid filter algorithm: "+o[c-1])}if(!M){var J=((b+y*w)*d.width+f)*i,te=y*k;for(j=0;j<le;j+=1){for(var ue=0;ue<i;ue+=1)l[J++]=C[te++];J+=(p-1)*i}}y++}}return o=nH(o),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var o,i,l,c,d,u,f,b,p;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,o=0,i=f=0,b=l.length;f<b;i=f+=3)d[c++]=l[i],d[c++]=l[i+1],d[c++]=l[i+2],d[c++]=(p=u[o++])!=null?p:255;return d},n.prototype.copyToImageData=function(o,i){var l,c,d,u,f,b,p,w,g,A,v;if(c=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,l=!0),w=(d=o.data||o).length,f=g||i,u=b=0,c===1)for(;u<w;)p=g?4*i[u/4]:b,A=f[p++],d[u++]=A,d[u++]=A,d[u++]=A,d[u++]=l?f[p++]:255,b=p;else for(;u<w;)p=g?4*i[u/4]:b,d[u++]=f[p++],d[u++]=f[p++],d[u++]=f[p++],d[u++]=l?f[p++]:255,b=p},n.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var a=function(){if(Object.prototype.toString.call(Ut)==="[object Window]"){try{t=Ut.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(o){var i;if(a()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(o){var i,l,c,d,u,f,b,p;if(this.animation){for(p=[],l=u=0,f=(b=this.animation.frames).length;u<f;l=++u)i=b[l],c=o.createImageData(i.width,i.height),d=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,d),i.imageData=c,p.push(i.image=e(c));return p}},n.prototype.renderFrame=function(o,i){var l,c,d;return l=(c=this.animation.frames)[i],d=c[i-1],i===0&&o.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?o.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&o.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&o.clearRect(l.xOffset,l.yOffset,l.width,l.height),o.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(o){var i,l,c,d,u,f,b=this;return l=0,f=this.animation,d=f.numFrames,c=f.frames,u=f.numPlays,(i=function(){var p,w;if(p=l++%d,w=c[p],b.renderFrame(o,p),d>1&&l/d<u)return b.animation._timeout=setTimeout(i,w.delay)})()},n.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},n.prototype.render=function(o){var i,l;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,i=o.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(l=i.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),i.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function CH(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],o=a>>7,i=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;o&&(l=t,c=i,t+=3*i);var d=!0,u=[],f=0,b=null,p=0,w=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,b=e[t++],!(1&g)&&(b=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,H=e[t++],U=H>>6&1,F=1<<(7&H)+1,x=l,I=c,S=!1;H>>7&&(S=!0,x=t,I=F,t+=3*F);var C=t;for(t++;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}u.push({x:A,y:v,width:j,height:R,has_local_palette:S,palette_offset:x,palette_size:I,data_offset:C,data_length:t-C,transparent_index:b,interlaced:!!U,delay:f,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,P){var E=this.frameInfo(k),q=E.width*E.height,B=new Uint8Array(q);Ek(e,E.data_offset,B,q);var G=E.palette_offset,V=E.transparent_index;V===null&&(V=256);var ee=E.width,le=r-ee,Q=ee,M=4*(E.y*r+E.x),J=4*((E.y+E.height)*r+E.x),te=M,ue=4*le;E.interlaced===!0&&(ue+=4*r*7);for(var ie=8,de=0,ye=B.length;de<ye;++de){var pe=B[de];if(Q===0&&(Q=ee,(te+=ue)>=J&&(ue=4*le+4*r*(ie-1),te=M+(ee+le)*(ie<<1),ie>>=1)),pe===V)te+=4;else{var Ee=e[G+3*pe],$e=e[G+3*pe+1],qe=e[G+3*pe+2];P[te++]=qe,P[te++]=$e,P[te++]=Ee,P[te++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(k,P){var E=this.frameInfo(k),q=E.width*E.height,B=new Uint8Array(q);Ek(e,E.data_offset,B,q);var G=E.palette_offset,V=E.transparent_index;V===null&&(V=256);var ee=E.width,le=r-ee,Q=ee,M=4*(E.y*r+E.x),J=4*((E.y+E.height)*r+E.x),te=M,ue=4*le;E.interlaced===!0&&(ue+=4*r*7);for(var ie=8,de=0,ye=B.length;de<ye;++de){var pe=B[de];if(Q===0&&(Q=ee,(te+=ue)>=J&&(ue=4*le+4*r*(ie-1),te=M+(ee+le)*(ie<<1),ie>>=1)),pe===V)te+=4;else{var Ee=e[G+3*pe],$e=e[G+3*pe+1],qe=e[G+3*pe+2];P[te++]=Ee,P[te++]=$e,P[te++]=qe,P[te++]=255}--Q}}}function Ek(e,t,r,n){for(var a=e[t++],o=1<<a,i=o+1,l=i+1,c=a+1,d=(1<<c)-1,u=0,f=0,b=0,p=e[t++],w=new Int32Array(4096),g=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<c)break;var A=f&d;if(f>>=c,u-=c,A!==o){if(A===i)break;for(var v=A<l?A:g,j=0,R=v;R>o;)R=w[R]>>8,++j;var H=R;if(b+j+(v!==A?1:0)>n)return void $r.log("Warning, gif stream longer than expected.");r[b++]=H;var U=b+=j;for(v!==A&&(r[b++]=H),R=v;j--;)R=w[R],r[--U]=255&R,R>>=8;g!==null&&l<4096&&(w[l++]=g<<8|H,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=A}else l=i+1,d=(1<<(c=a+1))-1,g=null}return b!==n&&$r.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ty(e){var t,r,n,a,o,i=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),b=new Array(65535),p=new Array(64),w=new Array(64),g=[],A=0,v=7,j=new Array(64),R=new Array(64),H=new Array(64),U=new Array(256),F=new Array(2048),x=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],y=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function B(M,J){for(var te=0,ue=0,ie=new Array,de=1;de<=16;de++){for(var ye=1;ye<=M[de];ye++)ie[J[ue]]=[],ie[J[ue]][0]=te,ie[J[ue]][1]=de,ue++,te++;te*=2}return ie}function G(M){for(var J=M[0],te=M[1]-1;te>=0;)J&1<<te&&(A|=1<<v),te--,--v<0&&(A==255?(V(255),V(0)):V(A),v=7,A=0)}function V(M){g.push(M)}function ee(M){V(M>>8&255),V(255&M)}function le(M,J,te,ue,ie){for(var de,ye=ie[0],pe=ie[240],Ee=function(Ge,et){var se,we,Ae,tt,Fe,st,Nt,Tt,St,Kt,ut=0;for(St=0;St<8;++St){se=Ge[ut],we=Ge[ut+1],Ae=Ge[ut+2],tt=Ge[ut+3],Fe=Ge[ut+4],st=Ge[ut+5],Nt=Ge[ut+6];var Gr=se+(Tt=Ge[ut+7]),Gt=se-Tt,mn=we+Nt,rr=we-Nt,Sr=Ae+st,ta=Ae-st,sr=tt+Fe,Ns=tt-Fe,qr=Gr+sr,Sn=Gr-sr,mr=mn+Sr,tr=mn-Sr;Ge[ut]=qr+mr,Ge[ut+4]=qr-mr;var wt=.707106781*(tr+Sn);Ge[ut+2]=Sn+wt,Ge[ut+6]=Sn-wt;var Pt=.382683433*((qr=Ns+ta)-(tr=rr+Gt)),lr=.5411961*qr+Pt,cr=1.306562965*tr+Pt,rn=.707106781*(mr=ta+rr),Cn=Gt+rn,mt=Gt-rn;Ge[ut+5]=mt+lr,Ge[ut+3]=mt-lr,Ge[ut+1]=Cn+cr,Ge[ut+7]=Cn-cr,ut+=8}for(ut=0,St=0;St<8;++St){se=Ge[ut],we=Ge[ut+8],Ae=Ge[ut+16],tt=Ge[ut+24],Fe=Ge[ut+32],st=Ge[ut+40],Nt=Ge[ut+48];var Fr=se+(Tt=Ge[ut+56]),Lr=se-Tt,Ir=we+Nt,Nr=we-Nt,Rr=Ae+st,Xr=Ae-st,Ra=tt+Fe,la=tt-Fe,es=Fr+Ra,ts=Fr-Ra,Ta=Ir+Rr,Ss=Ir-Rr;Ge[ut]=es+Ta,Ge[ut+32]=es-Ta;var Tn=.707106781*(Ss+ts);Ge[ut+16]=ts+Tn,Ge[ut+48]=ts-Tn;var rs=.382683433*((es=la+Xr)-(Ss=Nr+Lr)),Us=.5411961*es+rs,xo=1.306562965*Ss+rs,zs=.707106781*(Ta=Xr+Nr),Xo=Lr+zs,Di=Lr-zs;Ge[ut+40]=Di+Us,Ge[ut+24]=Di-Us,Ge[ut+8]=Xo+xo,Ge[ut+56]=Xo-xo,ut++}for(St=0;St<64;++St)Kt=Ge[St]*et[St],p[St]=Kt>0?Kt+.5|0:Kt-.5|0;return p}(M,J),$e=0;$e<64;++$e)w[x[$e]]=Ee[$e];var qe=w[0]-te;te=w[0],qe==0?G(ue[0]):(G(ue[b[de=32767+qe]]),G(f[de]));for(var Ye=63;Ye>0&&w[Ye]==0;)Ye--;if(Ye==0)return G(ye),te;for(var dt,Me=1;Me<=Ye;){for(var ge=Me;w[Me]==0&&Me<=Ye;)++Me;var yt=Me-ge;if(yt>=16){dt=yt>>4;for(var rt=1;rt<=dt;++rt)G(pe);yt&=15}de=32767+w[Me],G(ie[(yt<<4)+b[de]]),G(f[de]),Me++}return Ye!=63&&G(ye),te}function Q(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(J){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var ie=i((te[ue]*J+50)/100);ie=Math.min(Math.max(ie,1),255),l[x[ue]]=ie}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var pe=i((de[ye]*J+50)/100);pe=Math.min(Math.max(pe,1),255),c[x[ye]]=pe}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,qe=0;qe<8;qe++)for(var Ye=0;Ye<8;Ye++)d[$e]=1/(l[x[$e]]*Ee[qe]*Ee[Ye]*8),u[$e]=1/(c[x[$e]]*Ee[qe]*Ee[Ye]*8),$e++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,J){J&&Q(J),g=new Array,A=0,v=7,ee(65496),ee(65504),ee(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ee(1),ee(1),V(0),V(0),function(){ee(65499),ee(132),V(0);for(var we=0;we<64;we++)V(l[we]);V(1);for(var Ae=0;Ae<64;Ae++)V(c[Ae])}(),function(we,Ae){ee(65472),ee(17),V(8),ee(Ae),ee(we),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(M.width,M.height),function(){ee(65476),ee(418),V(0);for(var we=0;we<16;we++)V(I[we+1]);for(var Ae=0;Ae<=11;Ae++)V(S[Ae]);V(16);for(var tt=0;tt<16;tt++)V(C[tt+1]);for(var Fe=0;Fe<=161;Fe++)V(y[Fe]);V(1);for(var st=0;st<16;st++)V(k[st+1]);for(var Nt=0;Nt<=11;Nt++)V(P[Nt]);V(17);for(var Tt=0;Tt<16;Tt++)V(E[Tt+1]);for(var St=0;St<=161;St++)V(q[St])}(),ee(65498),ee(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var te=0,ue=0,ie=0;A=0,v=7,this.encode.displayName="_encode_";for(var de,ye,pe,Ee,$e,qe,Ye,dt,Me,ge=M.data,yt=M.width,rt=M.height,Ge=4*yt,et=0;et<rt;){for(de=0;de<Ge;){for($e=Ge*et+de,Ye=-1,dt=0,Me=0;Me<64;Me++)qe=$e+(dt=Me>>3)*Ge+(Ye=4*(7&Me)),et+dt>=rt&&(qe-=Ge*(et+1+dt-rt)),de+Ye>=Ge&&(qe-=de+Ye-Ge+4),ye=ge[qe++],pe=ge[qe++],Ee=ge[qe++],j[Me]=(F[ye]+F[pe+256>>0]+F[Ee+512>>0]>>16)-128,R[Me]=(F[ye+768>>0]+F[pe+1024>>0]+F[Ee+1280>>0]>>16)-128,H[Me]=(F[ye+1280>>0]+F[pe+1536>>0]+F[Ee+1792>>0]>>16)-128;te=le(j,d,te,t,n),ue=le(R,u,ue,r,a),ie=le(H,u,ie,r,a),de+=32}et+=8}if(v>=0){var se=[];se[1]=v+1,se[0]=(1<<v+1)-1,G(se)}return ee(65497),new Uint8Array(g)},e=e||50,function(){for(var M=String.fromCharCode,J=0;J<256;J++)U[J]=M(J)}(),t=B(I,S),r=B(k,P),n=B(C,y),a=B(E,q),function(){for(var M=1,J=2,te=1;te<=15;te++){for(var ue=M;ue<J;ue++)b[32767+ue]=te,f[32767+ue]=[],f[32767+ue][1]=te,f[32767+ue][0]=ue;for(var ie=-(J-1);ie<=-M;ie++)b[32767+ie]=te,f[32767+ie]=[],f[32767+ie][1]=te,f[32767+ie][0]=J-1+ie;M<<=1,J<<=1}}(),function(){for(var M=0;M<256;M++)F[M]=19595*M,F[M+256>>0]=38470*M,F[M+512>>0]=7471*M+32768,F[M+768>>0]=-11059*M,F[M+1024>>0]=-21709*M,F[M+1280>>0]=32768*M+8421375,F[M+1536>>0]=-27439*M,F[M+1792>>0]=-5329*M}(),Q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ro(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ak(e){function t(I){if(!I)throw Error("assert :P")}function r(I,S,C){for(var y=0;4>y;y++)if(I[S+y]!=C.charCodeAt(y))return!0;return!1}function n(I,S,C,y,k){for(var P=0;P<k;P++)I[S+P]=C[y+P]}function a(I,S,C,y){for(var k=0;k<y;k++)I[S+k]=C}function o(I){return new Int32Array(I)}function i(I,S){for(var C=[],y=0;y<I;y++)C.push(new S);return C}function l(I,S){var C=[];return function y(k,P,E){for(var q=E[P],B=0;B<q&&(k.push(E.length>P+1?[]:new S),!(E.length<P+1));B++)y(k[B],P+1,E)}(C,0,I),C}var c=function(){var I=this;function S(h,N){for(var T=1<<N-1>>>0;h&T;)T>>>=1;return T?(h&T-1)+T:h}function C(h,N,T,W,Z){t(!(W%T));do h[N+(W-=T)]=Z;while(0<W)}function y(h,N,T,W,Z){if(t(2328>=Z),512>=Z)var re=o(512);else if((re=o(Z))==null)return 0;return function(ae,oe,ce,he,je,Re){var Te,_e,Ze=oe,Ve=1<<ce,Ne=o(16),Ce=o(16);for(t(je!=0),t(he!=null),t(ae!=null),t(0<ce),_e=0;_e<je;++_e){if(15<he[_e])return 0;++Ne[he[_e]]}if(Ne[0]==je)return 0;for(Ce[1]=0,Te=1;15>Te;++Te){if(Ne[Te]>1<<Te)return 0;Ce[Te+1]=Ce[Te]+Ne[Te]}for(_e=0;_e<je;++_e)Te=he[_e],0<he[_e]&&(Re[Ce[Te]++]=_e);if(Ce[15]==1)return(he=new k).g=0,he.value=Re[0],C(ae,Ze,1,Ve,he),Ve;var Xe,nt=-1,Qe=Ve-1,gt=0,ft=1,Dt=1,pt=1<<ce;for(_e=0,Te=1,je=2;Te<=ce;++Te,je<<=1){if(ft+=Dt<<=1,0>(Dt-=Ne[Te]))return 0;for(;0<Ne[Te];--Ne[Te])(he=new k).g=Te,he.value=Re[_e++],C(ae,Ze+gt,je,pt,he),gt=S(gt,Te)}for(Te=ce+1,je=2;15>=Te;++Te,je<<=1){if(ft+=Dt<<=1,0>(Dt-=Ne[Te]))return 0;for(;0<Ne[Te];--Ne[Te]){if(he=new k,(gt&Qe)!=nt){for(Ze+=pt,Xe=1<<(nt=Te)-ce;15>nt&&!(0>=(Xe-=Ne[nt]));)++nt,Xe<<=1;Ve+=pt=1<<(Xe=nt-ce),ae[oe+(nt=gt&Qe)].g=Xe+ce,ae[oe+nt].value=Ze-oe-nt}he.g=Te-ce,he.value=Re[_e++],C(ae,Ze+(gt>>ce),je,pt,he),gt=S(gt,Te)}}return ft!=2*Ce[15]-1?0:Ve}(h,N,T,W,Z,re)}function k(){this.value=this.g=0}function P(){this.value=this.g=0}function E(){this.G=i(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(En,P)}function q(h,N,T,W){t(h!=null),t(N!=null),t(2147483648>W),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=N,h.pa=T,h.Jd=N,h.Yc=T+W,h.Zc=4<=W?T+W-4+1:T,de(h)}function B(h,N){for(var T=0;0<N--;)T|=pe(h,128)<<N;return T}function G(h,N){var T=B(h,N);return ye(h)?-T:T}function V(h,N,T,W){var Z,re=0;for(t(h!=null),t(N!=null),t(4294967288>W),h.Sb=W,h.Ra=0,h.u=0,h.h=0,4<W&&(W=4),Z=0;Z<W;++Z)re+=N[T+Z]<<8*Z;h.Ra=re,h.bb=W,h.oa=N,h.pa=T}function ee(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Na-8>>>0,++h.bb,h.u-=8;te(h)&&(h.h=1,h.u=0)}function le(h,N){if(t(0<=N),!h.h&&N<=Co){var T=J(h)&Ma[N];return h.u+=N,ee(h),T}return h.h=1,h.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(h){return h.Ra>>>(h.u&Na-1)>>>0}function te(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Na}function ue(h,N){h.u=N,h.h=te(h)}function ie(h){h.u>=Fi&&(t(h.u>=Fi),ee(h))}function de(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ye(h){return B(h,1)}function pe(h,N){var T=h.Ca;0>h.b&&de(h);var W=h.b,Z=T*N>>>8,re=(h.I>>>W>Z)+0;for(re?(T-=Z,h.I-=Z+1<<W>>>0):T=Z+1,W=T,Z=0;256<=W;)Z+=8,W>>=8;return W=7^Z+An[W],h.b-=W,h.Ca=(T<<W)-1,re}function Ee(h,N,T){h[N+0]=T>>24&255,h[N+1]=T>>16&255,h[N+2]=T>>8&255,h[N+3]=T>>0&255}function $e(h,N){return h[N+0]<<0|h[N+1]<<8}function qe(h,N){return $e(h,N)|h[N+2]<<16}function Ye(h,N){return $e(h,N)|$e(h,N+2)<<16}function dt(h,N){var T=1<<N;return t(h!=null),t(0<N),h.X=o(T),h.X==null?0:(h.Mb=32-N,h.Xa=N,1)}function Me(h,N){t(h!=null),t(N!=null),t(h.Xa==N.Xa),n(N.X,0,h.X,0,1<<N.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function yt(h,N,T,W){t(T!=null),t(W!=null);var Z=T[0],re=W[0];return Z==0&&(Z=(h*re+N/2)/N),re==0&&(re=(N*Z+h/2)/h),0>=Z||0>=re?0:(T[0]=Z,W[0]=re,1)}function rt(h,N){return h+(1<<N)-1>>>N}function Ge(h,N){return((4278255360&h)+(4278255360&N)>>>0&4278255360)+((16711935&h)+(16711935&N)>>>0&16711935)>>>0}function et(h,N){I[N]=function(T,W,Z,re,ae,oe,ce){var he;for(he=0;he<ae;++he){var je=I[h](oe[ce+he-1],Z,re+he);oe[ce+he]=Ge(T[W+he],je)}}}function se(){this.ud=this.hd=this.jd=0}function we(h,N){return((4278124286&(h^N))>>>1)+(h&N)>>>0}function Ae(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function tt(h,N){return Ae(h+(h-N+.5>>1))}function Fe(h,N,T){return Math.abs(N-T)-Math.abs(h-T)}function st(h,N,T,W,Z,re,ae){for(W=re[ae-1],T=0;T<Z;++T)re[ae+T]=W=Ge(h[N+T],W)}function Nt(h,N,T,W,Z){var re;for(re=0;re<T;++re){var ae=h[N+re],oe=ae>>8&255,ce=16711935&(ce=(ce=16711935&ae)+((oe<<16)+oe));W[Z+re]=(4278255360&ae)+ce>>>0}}function Tt(h,N){N.jd=h>>0&255,N.hd=h>>8&255,N.ud=h>>16&255}function St(h,N,T,W,Z,re){var ae;for(ae=0;ae<W;++ae){var oe=N[T+ae],ce=oe>>>8,he=oe,je=255&(je=(je=oe>>>16)+((h.jd<<24>>24)*(ce<<24>>24)>>>5));he=255&(he=(he=he+((h.hd<<24>>24)*(ce<<24>>24)>>>5))+((h.ud<<24>>24)*(je<<24>>24)>>>5)),Z[re+ae]=(4278255360&oe)+(je<<16)+he}}function Kt(h,N,T,W,Z){I[N]=function(re,ae,oe,ce,he,je,Re,Te,_e){for(ce=Re;ce<Te;++ce)for(Re=0;Re<_e;++Re)he[je++]=Z(oe[W(re[ae++])])},I[h]=function(re,ae,oe,ce,he,je,Re){var Te=8>>re.b,_e=re.Ea,Ze=re.K[0],Ve=re.w;if(8>Te)for(re=(1<<re.b)-1,Ve=(1<<Te)-1;ae<oe;++ae){var Ne,Ce=0;for(Ne=0;Ne<_e;++Ne)Ne&re||(Ce=W(ce[he++])),je[Re++]=Z(Ze[Ce&Ve]),Ce>>=Te}else I["VP8LMapColor"+T](ce,he,Ze,Ve,je,Re,ae,oe,_e)}}function ut(h,N,T,W,Z){for(T=N+T;N<T;){var re=h[N++];W[Z++]=re>>16&255,W[Z++]=re>>8&255,W[Z++]=re>>0&255}}function Gr(h,N,T,W,Z){for(T=N+T;N<T;){var re=h[N++];W[Z++]=re>>16&255,W[Z++]=re>>8&255,W[Z++]=re>>0&255,W[Z++]=re>>24&255}}function Gt(h,N,T,W,Z){for(T=N+T;N<T;){var re=(ae=h[N++])>>16&240|ae>>12&15,ae=ae>>0&240|ae>>28&15;W[Z++]=re,W[Z++]=ae}}function mn(h,N,T,W,Z){for(T=N+T;N<T;){var re=(ae=h[N++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;W[Z++]=re,W[Z++]=ae}}function rr(h,N,T,W,Z){for(T=N+T;N<T;){var re=h[N++];W[Z++]=re>>0&255,W[Z++]=re>>8&255,W[Z++]=re>>16&255}}function Sr(h,N,T,W,Z,re){if(re==0)for(T=N+T;N<T;)Ee(W,((re=h[N++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Z+=32;else n(W,Z,h,N,T)}function ta(h,N){I[N][0]=I[h+"0"],I[N][1]=I[h+"1"],I[N][2]=I[h+"2"],I[N][3]=I[h+"3"],I[N][4]=I[h+"4"],I[N][5]=I[h+"5"],I[N][6]=I[h+"6"],I[N][7]=I[h+"7"],I[N][8]=I[h+"8"],I[N][9]=I[h+"9"],I[N][10]=I[h+"10"],I[N][11]=I[h+"11"],I[N][12]=I[h+"12"],I[N][13]=I[h+"13"],I[N][14]=I[h+"0"],I[N][15]=I[h+"0"]}function sr(h){return h==cg||h==dg||h==kh||h==ug}function Ns(){this.eb=[],this.size=this.A=this.fb=0}function qr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ns,this.f.kb=new qr,this.sd=null}function mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Pt(h,N){var T=h.T,W=N.ba.f.RGBA,Z=W.eb,re=W.fb+h.ka*W.A,ae=Ls[N.ba.S],oe=h.y,ce=h.O,he=h.f,je=h.N,Re=h.ea,Te=h.W,_e=N.cc,Ze=N.dc,Ve=N.Mc,Ne=N.Nc,Ce=h.ka,Xe=h.ka+h.T,nt=h.U,Qe=nt+1>>1;for(Ce==0?ae(oe,ce,null,null,he,je,Re,Te,he,je,Re,Te,Z,re,null,null,nt):(ae(N.ec,N.fc,oe,ce,_e,Ze,Ve,Ne,he,je,Re,Te,Z,re-W.A,Z,re,nt),++T);Ce+2<Xe;Ce+=2)_e=he,Ze=je,Ve=Re,Ne=Te,je+=h.Rc,Te+=h.Rc,re+=2*W.A,ae(oe,(ce+=2*h.fa)-h.fa,oe,ce,_e,Ze,Ve,Ne,he,je,Re,Te,Z,re-W.A,Z,re,nt);return ce+=h.fa,h.j+Xe<h.o?(n(N.ec,N.fc,oe,ce,nt),n(N.cc,N.dc,he,je,Qe),n(N.Mc,N.Nc,Re,Te,Qe),T--):1&Xe||ae(oe,ce,null,null,he,je,Re,Te,he,je,Re,Te,Z,re+W.A,null,null,nt),T}function lr(h,N,T){var W=h.F,Z=[h.J];if(W!=null){var re=h.U,ae=N.ba.S,oe=ae==wh||ae==kh;N=N.ba.f.RGBA;var ce=[0],he=h.ka;ce[0]=h.T,h.Kb&&(he==0?--ce[0]:(--he,Z[0]-=h.width),h.j+h.ka+h.T==h.o&&(ce[0]=h.o-h.j-he));var je=N.eb;he=N.fb+he*N.A,h=zr(W,Z[0],h.width,re,ce,je,he+(oe?0:3),N.A),t(T==ce),h&&sr(ae)&&Ps(je,he,oe,re,ce,N.A)}return 0}function cr(h){var N=h.ma,T=N.ba.S,W=11>T,Z=T==bh||T==vh||T==wh||T==lg||T==12||sr(T);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Es(N.Oa,h,Z?11:12))return 0;if(Z&&sr(T)&&Ke(),h.da)alert("todo:use_scaling");else{if(W){if(N.Ib=wt,h.Kb){if(T=h.U+1>>1,N.memory=o(h.U+2*T),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+h.U,N.Mc=N.cc,N.Nc=N.dc+T,N.Ib=Pt,Ke()}}else alert("todo:EmitYUV");Z&&(N.Jb=lr,W&&Pe())}if(W&&!Ww){for(h=0;256>h;++h)Q6[h]=89858*(h-128)+Nh>>jh,t_[h]=-22014*(h-128)+Nh,e_[h]=-45773*(h-128),Z6[h]=113618*(h-128)+Nh>>jh;for(h=Su;h<pg;++h)N=76283*(h-16)+Nh>>jh,r_[h-Su]=ja(N,255),n_[h-Su]=ja(N+8>>4,15);Ww=1}return 1}function rn(h){var N=h.ma,T=h.U,W=h.T;return t(!(1&h.ka)),0>=T||0>=W?0:(T=N.Ib(h,N),N.Jb!=null&&N.Jb(h,N,T),N.Dc+=T,1)}function Cn(h){h.ma.memory=null}function mt(h,N,T,W){return le(h,8)!=47?0:(N[0]=le(h,14)+1,T[0]=le(h,14)+1,W[0]=le(h,1),le(h,3)!=0?0:!h.h)}function Fr(h,N){if(4>h)return h+1;var T=h-2>>1;return(2+(1&h)<<T)+le(N,T)+1}function Lr(h,N){return 120<N?N-120:1<=(T=((T=F6[N-1])>>4)*h+(8-(15&T)))?T:1;var T}function Ir(h,N,T){var W=J(T),Z=h[N+=255&W].g-8;return 0<Z&&(ue(T,T.u+8),W=J(T),N+=h[N].value,N+=W&(1<<Z)-1),ue(T,T.u+h[N].g),h[N].value}function Nr(h,N,T){return T.g+=h.g,T.value+=h.value<<N>>>0,t(8>=T.g),h.g}function Rr(h,N,T){var W=h.xc;return t((N=W==0?0:h.vc[h.md*(T>>W)+(N>>W)])<h.Wb),h.Ya[N]}function Xr(h,N,T,W){var Z=h.ab,re=h.c*N,ae=h.C;N=ae+N;var oe=T,ce=W;for(W=h.Ta,T=h.Ua;0<Z--;){var he=h.gc[Z],je=ae,Re=N,Te=oe,_e=ce,Ze=(ce=W,oe=T,he.Ea);switch(t(je<Re),t(Re<=he.nc),he.hc){case 2:$i(Te,_e,(Re-je)*Ze,ce,oe);break;case 0:var Ve=je,Ne=Re,Ce=ce,Xe=oe,nt=(pt=he).Ea;Ve==0&&(Bi(Te,_e,null,null,1,Ce,Xe),st(Te,_e+1,0,0,nt-1,Ce,Xe+1),_e+=nt,Xe+=nt,++Ve);for(var Qe=1<<pt.b,gt=Qe-1,ft=rt(nt,pt.b),Dt=pt.K,pt=pt.w+(Ve>>pt.b)*ft;Ve<Ne;){var br=Dt,Cr=pt,hr=1;for(_o(Te,_e,Ce,Xe-nt,1,Ce,Xe);hr<nt;){var or=(hr&~gt)+Qe;or>nt&&(or=nt),(0,Eo[br[Cr++]>>8&15])(Te,_e+ +hr,Ce,Xe+hr-nt,or-hr,Ce,Xe+hr),hr=or}_e+=nt,Xe+=nt,++Ve&gt||(pt+=ft)}Re!=he.nc&&n(ce,oe-Ze,ce,oe+(Re-je-1)*Ze,Ze);break;case 1:for(Ze=Te,Ne=_e,nt=(Te=he.Ea)-(Xe=Te&~(Ce=(_e=1<<he.b)-1)),Ve=rt(Te,he.b),Qe=he.K,he=he.w+(je>>he.b)*Ve;je<Re;){for(gt=Qe,ft=he,Dt=new se,pt=Ne+Xe,br=Ne+Te;Ne<pt;)Tt(gt[ft++],Dt),Xs(Dt,Ze,Ne,_e,ce,oe),Ne+=_e,oe+=_e;Ne<br&&(Tt(gt[ft++],Dt),Xs(Dt,Ze,Ne,nt,ce,oe),Ne+=nt,oe+=nt),++je&Ce||(he+=Ve)}break;case 3:if(Te==ce&&_e==oe&&0<he.b){for(Ne=ce,Te=Ze=oe+(Re-je)*Ze-(Xe=(Re-je)*rt(he.Ea,he.b)),_e=ce,Ce=oe,Ve=[],Xe=(nt=Xe)-1;0<=Xe;--Xe)Ve[Xe]=_e[Ce+Xe];for(Xe=nt-1;0<=Xe;--Xe)Ne[Te+Xe]=Ve[Xe];Fa(he,je,Re,ce,Ze,ce,oe)}else Fa(he,je,Re,Te,_e,ce,oe)}oe=W,ce=T}ce!=T&&n(W,T,oe,ce,re)}function Ra(h,N){var T=h.V,W=h.Ba+h.c*h.C,Z=N-h.C;if(t(N<=h.l.o),t(16>=Z),0<Z){var re=h.l,ae=h.Ta,oe=h.Ua,ce=re.width;if(Xr(h,Z,T,W),Z=oe=[oe],t((T=h.C)<(W=N)),t(re.v<re.va),W>re.o&&(W=re.o),T<re.j){var he=re.j-T;T=re.j,Z[0]+=he*ce}if(T>=W?T=0:(Z[0]+=4*re.v,re.ka=T-re.j,re.U=re.va-re.v,re.T=W-T,T=1),T){if(oe=oe[0],11>(T=h.ca).S){var je=T.f.RGBA,Re=(W=T.S,Z=re.U,re=re.T,he=je.eb,je.A),Te=re;for(je=je.fb+h.Ma*je.A;0<Te--;){var _e=ae,Ze=oe,Ve=Z,Ne=he,Ce=je;switch(W){case xh:ra(_e,Ze,Ve,Ne,Ce);break;case bh:fe(_e,Ze,Ve,Ne,Ce);break;case cg:fe(_e,Ze,Ve,Ne,Ce),Ps(Ne,Ce,0,Ve,1,0);break;case Mw:Be(_e,Ze,Ve,Ne,Ce);break;case vh:Sr(_e,Ze,Ve,Ne,Ce,1);break;case dg:Sr(_e,Ze,Ve,Ne,Ce,1),Ps(Ne,Ce,0,Ve,1,0);break;case wh:Sr(_e,Ze,Ve,Ne,Ce,0);break;case kh:Sr(_e,Ze,Ve,Ne,Ce,0),Ps(Ne,Ce,1,Ve,1,0);break;case lg:ke(_e,Ze,Ve,Ne,Ce);break;case ug:ke(_e,Ze,Ve,Ne,Ce),Ur(Ne,Ce,Ve,1,0);break;case Fw:Le(_e,Ze,Ve,Ne,Ce);break;default:t(0)}oe+=ce,je+=Re}h.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=T.height)}}h.C=N,t(h.C<=h.i)}function la(h){var N;if(0<h.ua)return 0;for(N=0;N<h.Wb;++N){var T=h.Ya[N].G,W=h.Ya[N].H;if(0<T[1][W[1]+0].g||0<T[2][W[2]+0].g||0<T[3][W[3]+0].g)return 0}return 1}function es(h,N,T,W,Z,re){if(h.Z!=0){var ae=h.qd,oe=h.rd;for(t(Vi[h.Z]!=null);N<T;++N)Vi[h.Z](ae,oe,W,Z,W,Z,re),ae=W,oe=Z,Z+=re;h.qd=ae,h.rd=oe}}function ts(h,N){var T=h.l.ma,W=T.Z==0||T.Z==1?h.l.j:h.C;if(W=h.C<W?W:h.C,t(N<=h.l.o),N>W){var Z=h.l.width,re=T.ca,ae=T.tb+Z*W,oe=h.V,ce=h.Ba+h.c*W,he=h.gc;t(h.ab==1),t(he[0].hc==3),qi(he[0],W,N,oe,ce,re,ae),es(T,W,N,re,ae,Z)}h.C=h.Ma=N}function Ta(h,N,T,W,Z,re,ae){var oe=h.$/W,ce=h.$%W,he=h.m,je=h.s,Re=T+h.$,Te=Re;Z=T+W*Z;var _e=T+W*re,Ze=280+je.ua,Ve=h.Pb?oe:16777216,Ne=0<je.ua?je.Wa:null,Ce=je.wc,Xe=Re<_e?Rr(je,ce,oe):null;t(h.C<re),t(_e<=Z);var nt=!1;e:for(;;){for(;nt||Re<_e;){var Qe=0;if(oe>=Ve){var gt=Re-T;t((Ve=h).Pb),Ve.wd=Ve.m,Ve.xd=gt,0<Ve.s.ua&&Me(Ve.s.Wa,Ve.s.vb),Ve=oe+$6}if(ce&Ce||(Xe=Rr(je,ce,oe)),t(Xe!=null),Xe.Qb&&(N[Re]=Xe.qb,nt=!0),!nt)if(ie(he),Xe.jc){Qe=he,gt=N;var ft=Re,Dt=Xe.pd[J(Qe)&En-1];t(Xe.jc),256>Dt.g?(ue(Qe,Qe.u+Dt.g),gt[ft]=Dt.value,Qe=0):(ue(Qe,Qe.u+Dt.g-256),t(256<=Dt.value),Qe=Dt.value),Qe==0&&(nt=!0)}else Qe=Ir(Xe.G[0],Xe.H[0],he);if(he.h)break;if(nt||256>Qe){if(!nt)if(Xe.nd)N[Re]=(Xe.qb|Qe<<8)>>>0;else{if(ie(he),nt=Ir(Xe.G[1],Xe.H[1],he),ie(he),gt=Ir(Xe.G[2],Xe.H[2],he),ft=Ir(Xe.G[3],Xe.H[3],he),he.h)break;N[Re]=(ft<<24|nt<<16|Qe<<8|gt)>>>0}if(nt=!1,++Re,++ce>=W&&(ce=0,++oe,ae!=null&&oe<=re&&!(oe%16)&&ae(h,oe),Ne!=null))for(;Te<Re;)Qe=N[Te++],Ne.X[(506832829*Qe&4294967295)>>>Ne.Mb]=Qe}else if(280>Qe){if(Qe=Fr(Qe-256,he),gt=Ir(Xe.G[4],Xe.H[4],he),ie(he),gt=Lr(W,gt=Fr(gt,he)),he.h)break;if(Re-T<gt||Z-Re<Qe)break e;for(ft=0;ft<Qe;++ft)N[Re+ft]=N[Re+ft-gt];for(Re+=Qe,ce+=Qe;ce>=W;)ce-=W,++oe,ae!=null&&oe<=re&&!(oe%16)&&ae(h,oe);if(t(Re<=Z),ce&Ce&&(Xe=Rr(je,ce,oe)),Ne!=null)for(;Te<Re;)Qe=N[Te++],Ne.X[(506832829*Qe&4294967295)>>>Ne.Mb]=Qe}else{if(!(Qe<Ze))break e;for(nt=Qe-280,t(Ne!=null);Te<Re;)Qe=N[Te++],Ne.X[(506832829*Qe&4294967295)>>>Ne.Mb]=Qe;Qe=Re,t(!(nt>>>(gt=Ne).Xa)),N[Qe]=gt.X[nt],nt=!0}nt||t(he.h==te(he))}if(h.Pb&&he.h&&Re<Z)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Me(h.s.vb,h.s.Wa);else{if(he.h)break e;ae!=null&&ae(h,oe>re?re:oe),h.a=0,h.$=Re-T}return 1}return h.a=3,0}function Ss(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var N=h.Wa;N!=null&&(N.X=null),h.vb=null,t(h!=null)}function Tn(){var h=new Oe;return h==null?null:(h.a=0,h.xb=qw,ta("Predictor","VP8LPredictors"),ta("Predictor","VP8LPredictors_C"),ta("PredictorAdd","VP8LPredictorsAdd"),ta("PredictorAdd","VP8LPredictorsAdd_C"),$i=Nt,Xs=St,ra=ut,fe=Gr,ke=Gt,Le=mn,Be=rr,I.VP8LMapColor32b=Ys,I.VP8LMapColor8b=Ui,h)}function rs(h,N,T,W,Z){var re=1,ae=[h],oe=[N],ce=W.m,he=W.s,je=null,Re=0;e:for(;;){if(T)for(;re&&le(ce,1);){var Te=ae,_e=oe,Ze=W,Ve=1,Ne=Ze.m,Ce=Ze.gc[Ze.ab],Xe=le(Ne,2);if(Ze.Oc&1<<Xe)re=0;else{switch(Ze.Oc|=1<<Xe,Ce.hc=Xe,Ce.Ea=Te[0],Ce.nc=_e[0],Ce.K=[null],++Ze.ab,t(4>=Ze.ab),Xe){case 0:case 1:Ce.b=le(Ne,3)+2,Ve=rs(rt(Ce.Ea,Ce.b),rt(Ce.nc,Ce.b),0,Ze,Ce.K),Ce.K=Ce.K[0];break;case 3:var nt,Qe=le(Ne,8)+1,gt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(Te[0]=rt(Ce.Ea,gt),Ce.b=gt,nt=Ve=rs(Qe,1,0,Ze,Ce.K)){var ft,Dt=Qe,pt=Ce,br=1<<(8>>pt.b),Cr=o(br);if(Cr==null)nt=0;else{var hr=pt.K[0],or=pt.w;for(Cr[0]=pt.K[0][0],ft=1;ft<1*Dt;++ft)Cr[ft]=Ge(hr[or+ft],Cr[ft-1]);for(;ft<4*br;++ft)Cr[ft]=0;pt.K[0]=null,pt.K[0]=Cr,nt=1}}Ve=nt;break;case 2:break;default:t(0)}re=Ve}}if(ae=ae[0],oe=oe[0],re&&le(ce,1)&&!(re=1<=(Re=le(ce,4))&&11>=Re)){W.a=3;break e}var Br;if(Br=re)t:{var Or,Xt,Pn,Ba=W,Dn=ae,$a=oe,_r=Re,is=T,ls=Ba.m,Wn=Ba.s,na=[null],Ca=1,Is=0,Ao=B6[_r];r:for(;;){if(is&&le(ls,1)){var Gn=le(ls,3)+2,oi=rt(Dn,Gn),Hl=rt($a,Gn),qc=oi*Hl;if(!rs(oi,Hl,0,Ba,na))break r;for(na=na[0],Wn.xc=Gn,Or=0;Or<qc;++Or){var Hi=na[Or]>>8&65535;na[Or]=Hi,Hi>=Ca&&(Ca=Hi+1)}}if(ls.h)break r;for(Xt=0;5>Xt;++Xt){var dn=Bw[Xt];!Xt&&0<_r&&(dn+=1<<_r),Is<dn&&(Is=dn)}var mg=i(Ca*Ao,k),Kw=Ca,Yw=i(Kw,E);if(Yw==null)var Ch=null;else t(65536>=Kw),Ch=Yw;var Cu=o(Is);if(Ch==null||Cu==null||mg==null){Ba.a=1;break r}var _h=mg;for(Or=Pn=0;Or<Ca;++Or){var Zs=Ch[Or],Uc=Zs.G,zc=Zs.H,Xw=0,Eh=1,Qw=0;for(Xt=0;5>Xt;++Xt){dn=Bw[Xt],Uc[Xt]=_h,zc[Xt]=Pn,!Xt&&0<_r&&(dn+=1<<_r);a:{var Ah,gg=dn,Ph=Ba,_u=Cu,o_=_h,i_=Pn,yg=0,Wi=Ph.m,l_=le(Wi,1);if(a(_u,0,0,gg),l_){var c_=le(Wi,1)+1,d_=le(Wi,1),Zw=le(Wi,d_==0?1:8);_u[Zw]=1,c_==2&&(_u[Zw=le(Wi,8)]=1);var Dh=1}else{var e2=o(19),t2=le(Wi,4)+4;if(19<t2){Ph.a=3;var Lh=0;break a}for(Ah=0;Ah<t2;++Ah)e2[M6[Ah]]=le(Wi,3);var xg=void 0,Eu=void 0,r2=Ph,u_=e2,Ih=gg,n2=_u,bg=0,Gi=r2.m,a2=8,s2=i(128,k);n:for(;y(s2,0,7,u_,19);){if(le(Gi,1)){var f_=2+2*le(Gi,3);if((xg=2+le(Gi,f_))>Ih)break n}else xg=Ih;for(Eu=0;Eu<Ih&&xg--;){ie(Gi);var o2=s2[0+(127&J(Gi))];ue(Gi,Gi.u+o2.g);var Vc=o2.value;if(16>Vc)n2[Eu++]=Vc,Vc!=0&&(a2=Vc);else{var h_=Vc==16,i2=Vc-16,p_=T6[i2],l2=le(Gi,R6[i2])+p_;if(Eu+l2>Ih)break n;for(var m_=h_?a2:0;0<l2--;)n2[Eu++]=m_}}bg=1;break n}bg||(r2.a=3),Dh=bg}(Dh=Dh&&!Wi.h)&&(yg=y(o_,i_,8,_u,gg)),Dh&&yg!=0?Lh=yg:(Ph.a=3,Lh=0)}if(Lh==0)break r;if(Eh&&O6[Xt]==1&&(Eh=_h[Pn].g==0),Xw+=_h[Pn].g,Pn+=Lh,3>=Xt){var Au,vg=Cu[0];for(Au=1;Au<dn;++Au)Cu[Au]>vg&&(vg=Cu[Au]);Qw+=vg}}if(Zs.nd=Eh,Zs.Qb=0,Eh&&(Zs.qb=(Uc[3][zc[3]+0].value<<24|Uc[1][zc[1]+0].value<<16|Uc[2][zc[2]+0].value)>>>0,Xw==0&&256>Uc[0][zc[0]+0].value&&(Zs.Qb=1,Zs.qb+=Uc[0][zc[0]+0].value<<8)),Zs.jc=!Zs.Qb&&6>Qw,Zs.jc){var Rh,ii=Zs;for(Rh=0;Rh<En;++Rh){var Ji=Rh,Ki=ii.pd[Ji],Th=ii.G[0][ii.H[0]+Ji];256<=Th.value?(Ki.g=Th.g+256,Ki.value=Th.value):(Ki.g=0,Ki.value=0,Ji>>=Nr(Th,8,Ki),Ji>>=Nr(ii.G[1][ii.H[1]+Ji],16,Ki),Ji>>=Nr(ii.G[2][ii.H[2]+Ji],0,Ki),Nr(ii.G[3][ii.H[3]+Ji],24,Ki))}}}Wn.vc=na,Wn.Wb=Ca,Wn.Ya=Ch,Wn.yc=mg,Br=1;break t}Br=0}if(!(re=Br)){W.a=3;break e}if(0<Re){if(he.ua=1<<Re,!dt(he.Wa,Re)){W.a=1,re=0;break e}}else he.ua=0;var wg=W,c2=ae,g_=oe,kg=wg.s,jg=kg.xc;if(wg.c=c2,wg.i=g_,kg.md=rt(c2,jg),kg.wc=jg==0?-1:(1<<jg)-1,T){W.xb=G6;break e}if((je=o(ae*oe))==null){W.a=1,re=0;break e}re=(re=Ta(W,je,0,ae,oe,oe,null))&&!ce.h;break e}return re?(Z!=null?Z[0]=je:(t(je==null),t(T)),W.$=0,T||Ss(he)):Ss(he),re}function Us(h,N){var T=h.c*h.i,W=T+N+16*N;return t(h.c<=N),h.V=o(W),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+T+N,1)}function xo(h,N){var T=h.C,W=N-T,Z=h.V,re=h.Ba+h.c*T;for(t(N<=h.l.o);0<W;){var ae=16<W?16:W,oe=h.l.ma,ce=h.l.width,he=ce*ae,je=oe.ca,Re=oe.tb+ce*T,Te=h.Ta,_e=h.Ua;Xr(h,ae,Z,re),xn(Te,_e,je,Re,he),es(oe,T,T+ae,je,Re,ce),W-=ae,Z+=ae*h.c,T+=ae}t(T==N),h.C=h.Ma=N}function zs(){this.ub=this.yd=this.td=this.Rb=0}function Xo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Di(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function bo(){this.Yb=function(){var h=[];return function N(T,W,Z){for(var re=Z[W],ae=0;ae<re&&(T.push(Z.length>W+1?[]:0),!(Z.length<W+1));ae++)N(T[ae],W+1,Z)}(h,0,[3,11]),h}()}function Cc(){this.jb=o(3),this.Wc=l([4,8],bo),this.Xc=l([4,17],bo)}function _c(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Qo(){this.ld=this.La=this.dd=this.tc=0}function Ml(){this.Na=this.la=0}function fu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qo),this.Y=0,this.ya=Array(new Zo),this.aa=0,this.l=new ei}function Ec(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ac(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new zs,this.Kc=new Xo,this.ed=new _c,this.Qa=new Di,this.Ic=this.$c=this.Aa=0,this.D=new hu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,Q),this.ia=0,this.pb=i(4,fu),this.Pa=new Cc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ec),this.Hd=0,this.rb=Array(new Ml),this.sb=0,this.wa=Array(new Qo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zo),this.L=this.aa=0,this.gd=l([4,2],Qo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fl(){var h=new Ac;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Nu||(Nu=ti)),h}function Qr(h,N,T){return h.a==0&&(h.a=N,h.sc=T,h.cb=0),0}function On(h,N,T){return 3<=T&&h[N+0]==157&&h[N+1]==1&&h[N+2]==42}function Vs(h,N){if(h==null)return 0;if(h.a=0,h.sc="OK",N==null)return Qr(h,2,"null VP8Io passed to VP8GetHeaders()");var T=N.data,W=N.w,Z=N.ha;if(4>Z)return Qr(h,7,"Truncated header.");var re=T[W+0]|T[W+1]<<8|T[W+2]<<16,ae=h.Od;if(ae.Rb=!(1&re),ae.td=re>>1&7,ae.yd=re>>4&1,ae.ub=re>>5,3<ae.td)return Qr(h,3,"Incorrect keyframe parameters.");if(!ae.yd)return Qr(h,4,"Frame not displayable.");W+=3,Z-=3;var oe=h.Kc;if(ae.Rb){if(7>Z)return Qr(h,7,"cannot parse picture header");if(!On(T,W,Z))return Qr(h,3,"Bad code word");oe.c=16383&(T[W+4]<<8|T[W+3]),oe.Td=T[W+4]>>6,oe.i=16383&(T[W+6]<<8|T[W+5]),oe.Ud=T[W+6]>>6,W+=7,Z-=7,h.za=oe.c+15>>4,h.Ub=oe.i+15>>4,N.width=oe.c,N.height=oe.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((re=h.Pa).jb,0,255,re.jb.length),t((re=h.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ae.ub>Z)return Qr(h,7,"bad partition length");q(re=h.m,T,W,ae.ub),W+=ae.ub,Z-=ae.ub,ae.Rb&&(oe.Ld=ye(re),oe.Kd=ye(re)),oe=h.Qa;var ce,he=h.Pa;if(t(re!=null),t(oe!=null),oe.Cb=ye(re),oe.Cb){if(oe.Bb=ye(re),ye(re)){for(oe.Fb=ye(re),ce=0;4>ce;++ce)oe.Zb[ce]=ye(re)?G(re,7):0;for(ce=0;4>ce;++ce)oe.Lb[ce]=ye(re)?G(re,6):0}if(oe.Bb)for(ce=0;3>ce;++ce)he.jb[ce]=ye(re)?B(re,8):255}else oe.Bb=0;if(re.Ka)return Qr(h,3,"cannot parse segment header");if((oe=h.ed).zd=ye(re),oe.Tb=B(re,6),oe.wb=B(re,3),oe.Pc=ye(re),oe.Pc&&ye(re)){for(he=0;4>he;++he)ye(re)&&(oe.vd[he]=G(re,6));for(he=0;4>he;++he)ye(re)&&(oe.od[he]=G(re,6))}if(h.L=oe.Tb==0?0:oe.zd?1:2,re.Ka)return Qr(h,3,"cannot parse filter header");var je=Z;if(Z=ce=W,W=ce+je,oe=je,h.Xb=(1<<B(h.m,2))-1,je<3*(he=h.Xb))T=7;else{for(ce+=3*he,oe-=3*he,je=0;je<he;++je){var Re=T[Z+0]|T[Z+1]<<8|T[Z+2]<<16;Re>oe&&(Re=oe),q(h.Jc[+je],T,ce,Re),ce+=Re,oe-=Re,Z+=3}q(h.Jc[+he],T,ce,oe),T=ce<W?0:5}if(T!=0)return Qr(h,T,"cannot parse partitions");for(T=B(ce=h.m,7),Z=ye(ce)?G(ce,4):0,W=ye(ce)?G(ce,4):0,oe=ye(ce)?G(ce,4):0,he=ye(ce)?G(ce,4):0,ce=ye(ce)?G(ce,4):0,je=h.Qa,Re=0;4>Re;++Re){if(je.Cb){var Te=je.Zb[Re];je.Fb||(Te+=T)}else{if(0<Re){h.pb[Re]=h.pb[0];continue}Te=T}var _e=h.pb[Re];_e.Sc[0]=fg[ja(Te+Z,127)],_e.Sc[1]=hg[ja(Te+0,127)],_e.Eb[0]=2*fg[ja(Te+W,127)],_e.Eb[1]=101581*hg[ja(Te+oe,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=fg[ja(Te+he,117)],_e.Qc[1]=hg[ja(Te+ce,127)],_e.lc=Te+ce}if(!ae.Rb)return Qr(h,4,"Not a key frame.");for(ye(re),ae=h.Pa,T=0;4>T;++T){for(Z=0;8>Z;++Z)for(W=0;3>W;++W)for(oe=0;11>oe;++oe)he=pe(re,H6[T][Z][W][oe])?B(re,8):z6[T][Z][W][oe],ae.Wc[T][Z].Yb[W][oe]=he;for(Z=0;17>Z;++Z)ae.Xc[T][Z]=ae.Wc[T][W6[Z]]}return h.kc=ye(re),h.kc&&(h.Bd=B(re,8)),h.cb=1}function ti(h,N,T,W,Z,re,ae){var oe=N[Z].Yb[T];for(T=0;16>Z;++Z){if(!pe(h,oe[T+0]))return Z;for(;!pe(h,oe[T+1]);)if(oe=N[++Z].Yb[0],T=0,Z==16)return 16;var ce=N[Z+1].Yb;if(pe(h,oe[T+2])){var he=h,je=0;if(pe(he,(Te=oe)[(Re=T)+3]))if(pe(he,Te[Re+6])){for(oe=0,Re=2*(je=pe(he,Te[Re+8]))+(Te=pe(he,Te[Re+9+je])),je=0,Te=q6[Re];Te[oe];++oe)je+=je+pe(he,Te[oe]);je+=3+(8<<Re)}else pe(he,Te[Re+7])?(je=7+2*pe(he,165),je+=pe(he,145)):je=5+pe(he,159);else je=pe(he,Te[Re+4])?3+pe(he,Te[Re+5]):2;oe=ce[2]}else je=1,oe=ce[1];ce=ae+U6[Z],0>(he=h).b&&de(he);var Re,Te=he.b,_e=(Re=he.Ca>>1)-(he.I>>Te)>>31;--he.b,he.Ca+=_e,he.Ca|=1,he.I-=(Re+1&_e)<<Te,re[ce]=((je^_e)-_e)*W[(0<Z)+0]}return 16}function Bl(h){var N=h.rb[h.sb-1];N.la=0,N.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function pu(h,N){if(h==null)return 0;if(N==null)return Qr(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Vs(h,N))return 0;if(t(h.cb),N.ac==null||N.ac(N)){N.ob&&(h.L=0);var T=Sh[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=N.v-T>>4,h.zb=N.j-T>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=N.o+15+T>>4,h.Hb=N.va+15+T>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var W=h.ed;for(T=0;4>T;++T){var Z;if(h.Qa.Cb){var re=h.Qa.Lb[T];h.Qa.Fb||(re+=W.Tb)}else re=W.Tb;for(Z=0;1>=Z;++Z){var ae=h.gd[T][Z],oe=re;if(W.Pc&&(oe+=W.vd[0],Z&&(oe+=W.od[0])),0<(oe=0>oe?0:63<oe?63:oe)){var ce=oe;0<W.wb&&(ce=4<W.wb?ce>>2:ce>>1)>9-W.wb&&(ce=9-W.wb),1>ce&&(ce=1),ae.dd=ce,ae.tc=2*oe+ce,ae.ld=40<=oe?2:15<=oe?1:0}else ae.tc=0;ae.La=Z}}}T=0}else Qr(h,6,"Frame setup failed"),T=h.a;if(T=T==0){if(T){h.$c=0,0<h.Aa||(h.Ic=s_);e:{T=h.Ic,W=4*(ce=h.za);var he=32*ce,je=ce+1,Re=0<h.L?ce*(0<h.Aa?2:1):0,Te=(h.Aa==2?2:1)*ce;if((ae=W+832+(Z=3*(16*T+Sh[h.L])/2*he)+(re=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=ae)T=0;else{if(ae>h.Vb){if(h.Vb=0,h.Ec=o(ae),h.Fc=0,h.Ec==null){T=Qr(h,1,"no memory during frame initialization.");break e}h.Vb=ae}ae=h.Ec,oe=h.Fc,h.Ac=ae,h.Bc=oe,oe+=W,h.Gd=i(he,Ec),h.Hd=0,h.rb=i(je+1,Ml),h.sb=1,h.wa=Re?i(Re,Qo):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=ce),t(!0),h.oc=ae,h.pc=oe,oe+=832,h.ya=i(Te,Zo),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=ce),h.R=16*ce,h.B=8*ce,ce=(he=Sh[h.L])*h.R,he=he/2*h.B,h.sa=ae,h.ta=oe+ce,h.qa=h.sa,h.ra=h.ta+16*T*h.R+he,h.Ha=h.qa,h.Ia=h.ra+8*T*h.B+he,h.$c=0,oe+=Z,h.mb=re?ae:null,h.nb=re?oe:null,t(oe+re<=h.Fc+h.Vb),Bl(h),a(h.Ac,h.Bc,0,W),T=1}}if(T){if(N.ka=0,N.y=h.sa,N.O=h.ta,N.f=h.qa,N.N=h.ra,N.ea=h.Ha,N.Vd=h.Ia,N.fa=h.R,N.Rc=h.B,N.F=null,N.J=0,!gh){for(T=-255;255>=T;++T)$n[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)ai[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)ju[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)$c[255+T]=0>T?0:255<T?255:T;gh=1}We=gu,ot=mu,xt=ca,ct=Dc,Mt=vo,it=Pc,Ct=m,Ft=_,Yt=K,kt=Y,ur=O,an=z,Zr=ne,Bn=ve,Hn=jo,Sa=ns,yn=as,As=ku,Qs[0]=Oa,Qs[1]=Hs,Qs[2]=yu,Qs[3]=xu,Qs[4]=Rc,Qs[5]=Ri,Qs[6]=Tc,Qs[7]=Ul,Qs[8]=vu,Qs[9]=bu,zi[0]=Ii,zi[1]=ql,zi[2]=Gs,zi[3]=Cs,zi[4]=Fn,zi[5]=Lc,zi[6]=Ic,si[0]=Ks,si[1]=Ws,si[2]=wu,si[3]=Ti,si[4]=wo,si[5]=zl,si[6]=Oi,T=1}else T=0}T&&(T=function(_e,Ze){for(_e.M=0;_e.M<_e.Va;++_e.M){var Ve,Ne=_e.Jc[_e.M&_e.Xb],Ce=_e.m,Xe=_e;for(Ve=0;Ve<Xe.za;++Ve){var nt=Ce,Qe=Xe,gt=Qe.Ac,ft=Qe.Bc+4*Ve,Dt=Qe.zc,pt=Qe.ya[Qe.aa+Ve];if(Qe.Qa.Bb?pt.$b=pe(nt,Qe.Pa.jb[0])?2+pe(nt,Qe.Pa.jb[2]):pe(nt,Qe.Pa.jb[1]):pt.$b=0,Qe.kc&&(pt.Ad=pe(nt,Qe.Bd)),pt.Za=!pe(nt,145)+0,pt.Za){var br=pt.Ob,Cr=0;for(Qe=0;4>Qe;++Qe){var hr,or=Dt[0+Qe];for(hr=0;4>hr;++hr){or=V6[gt[ft+hr]][or];for(var Br=$w[pe(nt,or[0])];0<Br;)Br=$w[2*Br+pe(nt,or[Br])];or=-Br,gt[ft+hr]=or}n(br,Cr,gt,ft,4),Cr+=4,Dt[0+Qe]=or}}else or=pe(nt,156)?pe(nt,128)?1:3:pe(nt,163)?2:0,pt.Ob[0]=or,a(gt,ft,or,4),a(Dt,0,or,4);pt.Dd=pe(nt,142)?pe(nt,114)?pe(nt,183)?1:3:2:0}if(Xe.m.Ka)return Qr(_e,7,"Premature end-of-partition0 encountered.");for(;_e.ja<_e.za;++_e.ja){if(Xe=Ne,nt=(Ce=_e).rb[Ce.sb-1],gt=Ce.rb[Ce.sb+Ce.ja],Ve=Ce.ya[Ce.aa+Ce.ja],ft=Ce.kc?Ve.Ad:0)nt.la=gt.la=0,Ve.Za||(nt.Na=gt.Na=0),Ve.Hc=0,Ve.Gc=0,Ve.ia=0;else{var Or,Xt;if(nt=gt,gt=Xe,ft=Ce.Pa.Xc,Dt=Ce.ya[Ce.aa+Ce.ja],pt=Ce.pb[Dt.$b],Qe=Dt.ad,br=0,Cr=Ce.rb[Ce.sb-1],or=hr=0,a(Qe,br,0,384),Dt.Za)var Pn=0,Ba=ft[3];else{Br=o(16);var Dn=nt.Na+Cr.Na;if(Dn=Nu(gt,ft[1],Dn,pt.Eb,0,Br,0),nt.Na=Cr.Na=(0<Dn)+0,1<Dn)We(Br,0,Qe,br);else{var $a=Br[0]+3>>3;for(Br=0;256>Br;Br+=16)Qe[br+Br]=$a}Pn=1,Ba=ft[0]}var _r=15&nt.la,is=15&Cr.la;for(Br=0;4>Br;++Br){var ls=1&is;for($a=Xt=0;4>$a;++$a)_r=_r>>1|(ls=(Dn=Nu(gt,Ba,Dn=ls+(1&_r),pt.Sc,Pn,Qe,br))>Pn)<<7,Xt=Xt<<2|(3<Dn?3:1<Dn?2:Qe[br+0]!=0),br+=16;_r>>=4,is=is>>1|ls<<7,hr=(hr<<8|Xt)>>>0}for(Ba=_r,Pn=is>>4,Or=0;4>Or;Or+=2){for(Xt=0,_r=nt.la>>4+Or,is=Cr.la>>4+Or,Br=0;2>Br;++Br){for(ls=1&is,$a=0;2>$a;++$a)Dn=ls+(1&_r),_r=_r>>1|(ls=0<(Dn=Nu(gt,ft[2],Dn,pt.Qc,0,Qe,br)))<<3,Xt=Xt<<2|(3<Dn?3:1<Dn?2:Qe[br+0]!=0),br+=16;_r>>=2,is=is>>1|ls<<5}or|=Xt<<4*Or,Ba|=_r<<4<<Or,Pn|=(240&is)<<Or}nt.la=Ba,Cr.la=Pn,Dt.Hc=hr,Dt.Gc=or,Dt.ia=43690&or?0:pt.ia,ft=!(hr|or)}if(0<Ce.L&&(Ce.wa[Ce.Y+Ce.ja]=Ce.gd[Ve.$b][Ve.Za],Ce.wa[Ce.Y+Ce.ja].La|=!ft),Xe.Ka)return Qr(_e,7,"Premature end-of-file encountered.")}if(Bl(_e),Ce=Ze,Xe=1,Ve=(Ne=_e).D,nt=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(Ve.M=Ne.M,Ve.uc=nt,So(Ne,Ve),Xe=1,Ve=(Xt=Ne.D).Nb,nt=(or=Sh[Ne.L])*Ne.R,gt=or/2*Ne.B,Br=16*Ve*Ne.R,$a=8*Ve*Ne.B,ft=Ne.sa,Dt=Ne.ta-nt+Br,pt=Ne.qa,Qe=Ne.ra-gt+$a,br=Ne.Ha,Cr=Ne.Ia-gt+$a,is=(_r=Xt.M)==0,hr=_r>=Ne.Va-1,Ne.Aa==2&&So(Ne,Xt),Xt.uc)for(ls=(Dn=Ne).D.M,t(Dn.D.uc),Xt=Dn.yb;Xt<Dn.Hb;++Xt){Pn=Xt,Ba=ls;var Wn=(na=(dn=Dn).D).Nb;Or=dn.R;var na=na.wa[na.Y+Pn],Ca=dn.sa,Is=dn.ta+16*Wn*Or+16*Pn,Ao=na.dd,Gn=na.tc;if(Gn!=0)if(t(3<=Gn),dn.L==1)0<Pn&&Sa(Ca,Is,Or,Gn+4),na.La&&As(Ca,Is,Or,Gn),0<Ba&&Hn(Ca,Is,Or,Gn+4),na.La&&yn(Ca,Is,Or,Gn);else{var oi=dn.B,Hl=dn.qa,qc=dn.ra+8*Wn*oi+8*Pn,Hi=dn.Ha,dn=dn.Ia+8*Wn*oi+8*Pn;Wn=na.ld,0<Pn&&(Ft(Ca,Is,Or,Gn+4,Ao,Wn),kt(Hl,qc,Hi,dn,oi,Gn+4,Ao,Wn)),na.La&&(an(Ca,Is,Or,Gn,Ao,Wn),Bn(Hl,qc,Hi,dn,oi,Gn,Ao,Wn)),0<Ba&&(Ct(Ca,Is,Or,Gn+4,Ao,Wn),Yt(Hl,qc,Hi,dn,oi,Gn+4,Ao,Wn)),na.La&&(ur(Ca,Is,Or,Gn,Ao,Wn),Zr(Hl,qc,Hi,dn,oi,Gn,Ao,Wn))}}if(Ne.ia&&alert("todo:DitherRow"),Ce.put!=null){if(Xt=16*_r,_r=16*(_r+1),is?(Ce.y=Ne.sa,Ce.O=Ne.ta+Br,Ce.f=Ne.qa,Ce.N=Ne.ra+$a,Ce.ea=Ne.Ha,Ce.W=Ne.Ia+$a):(Xt-=or,Ce.y=ft,Ce.O=Dt,Ce.f=pt,Ce.N=Qe,Ce.ea=br,Ce.W=Cr),hr||(_r-=or),_r>Ce.o&&(_r=Ce.o),Ce.F=null,Ce.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Xt<_r&&(Ce.J=nn(Ne,Ce,Xt,_r-Xt),Ce.F=Ne.mb,Ce.F==null&&Ce.F.length==0)){Xe=Qr(Ne,3,"Could not decode alpha data.");break e}Xt<Ce.j&&(or=Ce.j-Xt,Xt=Ce.j,t(!(1&or)),Ce.O+=Ne.R*or,Ce.N+=Ne.B*(or>>1),Ce.W+=Ne.B*(or>>1),Ce.F!=null&&(Ce.J+=Ce.width*or)),Xt<_r&&(Ce.O+=Ce.v,Ce.N+=Ce.v>>1,Ce.W+=Ce.v>>1,Ce.F!=null&&(Ce.J+=Ce.v),Ce.ka=Xt-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=_r-Xt,Xe=Ce.put(Ce))}Ve+1!=Ne.Ic||hr||(n(Ne.sa,Ne.ta-nt,ft,Dt+16*Ne.R,nt),n(Ne.qa,Ne.ra-gt,pt,Qe+8*Ne.B,gt),n(Ne.Ha,Ne.Ia-gt,br,Cr+8*Ne.B,gt))}if(!Xe)return Qr(_e,6,"Output aborted.")}return 1}(h,N)),N.bc!=null&&N.bc(N),T&=1}return T?(h.cb=0,T):0}function ka(h,N,T,W,Z){Z=h[N+T+32*W]+(Z>>3),h[N+T+32*W]=-256&Z?0>Z?0:255:Z}function ri(h,N,T,W,Z,re){ka(h,N,0,T,W+Z),ka(h,N,1,T,W+re),ka(h,N,2,T,W-re),ka(h,N,3,T,W-Z)}function Mn(h){return(20091*h>>16)+h}function Li(h,N,T,W){var Z,re=0,ae=o(16);for(Z=0;4>Z;++Z){var oe=h[N+0]+h[N+8],ce=h[N+0]-h[N+8],he=(35468*h[N+4]>>16)-Mn(h[N+12]),je=Mn(h[N+4])+(35468*h[N+12]>>16);ae[re+0]=oe+je,ae[re+1]=ce+he,ae[re+2]=ce-he,ae[re+3]=oe-je,re+=4,N++}for(Z=re=0;4>Z;++Z)oe=(h=ae[re+0]+4)+ae[re+8],ce=h-ae[re+8],he=(35468*ae[re+4]>>16)-Mn(ae[re+12]),ka(T,W,0,0,oe+(je=Mn(ae[re+4])+(35468*ae[re+12]>>16))),ka(T,W,1,0,ce+he),ka(T,W,2,0,ce-he),ka(T,W,3,0,oe-je),re++,W+=32}function Pc(h,N,T,W){var Z=h[N+0]+4,re=35468*h[N+4]>>16,ae=Mn(h[N+4]),oe=35468*h[N+1]>>16;ri(T,W,0,Z+ae,h=Mn(h[N+1]),oe),ri(T,W,1,Z+re,h,oe),ri(T,W,2,Z-re,h,oe),ri(T,W,3,Z-ae,h,oe)}function mu(h,N,T,W,Z){Li(h,N,T,W),Z&&Li(h,N+16,T,W+4)}function ca(h,N,T,W){ot(h,N+0,T,W,1),ot(h,N+32,T,W+128,1)}function Dc(h,N,T,W){var Z;for(h=h[N+0]+4,Z=0;4>Z;++Z)for(N=0;4>N;++N)ka(T,W,N,Z,h)}function vo(h,N,T,W){h[N+0]&&ct(h,N+0,T,W),h[N+16]&&ct(h,N+16,T,W+4),h[N+32]&&ct(h,N+32,T,W+128),h[N+48]&&ct(h,N+48,T,W+128+4)}function gu(h,N,T,W){var Z,re=o(16);for(Z=0;4>Z;++Z){var ae=h[N+0+Z]+h[N+12+Z],oe=h[N+4+Z]+h[N+8+Z],ce=h[N+4+Z]-h[N+8+Z],he=h[N+0+Z]-h[N+12+Z];re[0+Z]=ae+oe,re[8+Z]=ae-oe,re[4+Z]=he+ce,re[12+Z]=he-ce}for(Z=0;4>Z;++Z)ae=(h=re[0+4*Z]+3)+re[3+4*Z],oe=re[1+4*Z]+re[2+4*Z],ce=re[1+4*Z]-re[2+4*Z],he=h-re[3+4*Z],T[W+0]=ae+oe>>3,T[W+16]=he+ce>>3,T[W+32]=ae-oe>>3,T[W+48]=he-ce>>3,W+=64}function $l(h,N,T){var W,Z=N-32,re=os,ae=255-h[Z-1];for(W=0;W<T;++W){var oe,ce=re,he=ae+h[N-1];for(oe=0;oe<T;++oe)h[N+oe]=ce[he+h[Z+oe]];N+=32}}function Hs(h,N){$l(h,N,4)}function Ws(h,N){$l(h,N,8)}function ql(h,N){$l(h,N,16)}function Gs(h,N){var T;for(T=0;16>T;++T)n(h,N+32*T,h,N-32,16)}function Cs(h,N){var T;for(T=16;0<T;--T)a(h,N,h[N-1],16),N+=32}function ni(h,N,T){var W;for(W=0;16>W;++W)a(N,T+32*W,h,16)}function Ii(h,N){var T,W=16;for(T=0;16>T;++T)W+=h[N-1+32*T]+h[N+T-32];ni(W>>5,h,N)}function Fn(h,N){var T,W=8;for(T=0;16>T;++T)W+=h[N-1+32*T];ni(W>>4,h,N)}function Lc(h,N){var T,W=8;for(T=0;16>T;++T)W+=h[N+T-32];ni(W>>4,h,N)}function Ic(h,N){ni(128,h,N)}function zt(h,N,T){return h+2*N+T+2>>2}function yu(h,N){var T,W=N-32;for(W=new Uint8Array([zt(h[W-1],h[W+0],h[W+1]),zt(h[W+0],h[W+1],h[W+2]),zt(h[W+1],h[W+2],h[W+3]),zt(h[W+2],h[W+3],h[W+4])]),T=0;4>T;++T)n(h,N+32*T,W,0,W.length)}function xu(h,N){var T=h[N-1],W=h[N-1+32],Z=h[N-1+64],re=h[N-1+96];Ee(h,N+0,16843009*zt(h[N-1-32],T,W)),Ee(h,N+32,16843009*zt(T,W,Z)),Ee(h,N+64,16843009*zt(W,Z,re)),Ee(h,N+96,16843009*zt(Z,re,re))}function Oa(h,N){var T,W=4;for(T=0;4>T;++T)W+=h[N+T-32]+h[N-1+32*T];for(W>>=3,T=0;4>T;++T)a(h,N+32*T,W,4)}function Rc(h,N){var T=h[N-1+0],W=h[N-1+32],Z=h[N-1+64],re=h[N-1-32],ae=h[N+0-32],oe=h[N+1-32],ce=h[N+2-32],he=h[N+3-32];h[N+0+96]=zt(W,Z,h[N-1+96]),h[N+1+96]=h[N+0+64]=zt(T,W,Z),h[N+2+96]=h[N+1+64]=h[N+0+32]=zt(re,T,W),h[N+3+96]=h[N+2+64]=h[N+1+32]=h[N+0+0]=zt(ae,re,T),h[N+3+64]=h[N+2+32]=h[N+1+0]=zt(oe,ae,re),h[N+3+32]=h[N+2+0]=zt(ce,oe,ae),h[N+3+0]=zt(he,ce,oe)}function Tc(h,N){var T=h[N+1-32],W=h[N+2-32],Z=h[N+3-32],re=h[N+4-32],ae=h[N+5-32],oe=h[N+6-32],ce=h[N+7-32];h[N+0+0]=zt(h[N+0-32],T,W),h[N+1+0]=h[N+0+32]=zt(T,W,Z),h[N+2+0]=h[N+1+32]=h[N+0+64]=zt(W,Z,re),h[N+3+0]=h[N+2+32]=h[N+1+64]=h[N+0+96]=zt(Z,re,ae),h[N+3+32]=h[N+2+64]=h[N+1+96]=zt(re,ae,oe),h[N+3+64]=h[N+2+96]=zt(ae,oe,ce),h[N+3+96]=zt(oe,ce,ce)}function Ri(h,N){var T=h[N-1+0],W=h[N-1+32],Z=h[N-1+64],re=h[N-1-32],ae=h[N+0-32],oe=h[N+1-32],ce=h[N+2-32],he=h[N+3-32];h[N+0+0]=h[N+1+64]=re+ae+1>>1,h[N+1+0]=h[N+2+64]=ae+oe+1>>1,h[N+2+0]=h[N+3+64]=oe+ce+1>>1,h[N+3+0]=ce+he+1>>1,h[N+0+96]=zt(Z,W,T),h[N+0+64]=zt(W,T,re),h[N+0+32]=h[N+1+96]=zt(T,re,ae),h[N+1+32]=h[N+2+96]=zt(re,ae,oe),h[N+2+32]=h[N+3+96]=zt(ae,oe,ce),h[N+3+32]=zt(oe,ce,he)}function Ul(h,N){var T=h[N+0-32],W=h[N+1-32],Z=h[N+2-32],re=h[N+3-32],ae=h[N+4-32],oe=h[N+5-32],ce=h[N+6-32],he=h[N+7-32];h[N+0+0]=T+W+1>>1,h[N+1+0]=h[N+0+64]=W+Z+1>>1,h[N+2+0]=h[N+1+64]=Z+re+1>>1,h[N+3+0]=h[N+2+64]=re+ae+1>>1,h[N+0+32]=zt(T,W,Z),h[N+1+32]=h[N+0+96]=zt(W,Z,re),h[N+2+32]=h[N+1+96]=zt(Z,re,ae),h[N+3+32]=h[N+2+96]=zt(re,ae,oe),h[N+3+64]=zt(ae,oe,ce),h[N+3+96]=zt(oe,ce,he)}function bu(h,N){var T=h[N-1+0],W=h[N-1+32],Z=h[N-1+64],re=h[N-1+96];h[N+0+0]=T+W+1>>1,h[N+2+0]=h[N+0+32]=W+Z+1>>1,h[N+2+32]=h[N+0+64]=Z+re+1>>1,h[N+1+0]=zt(T,W,Z),h[N+3+0]=h[N+1+32]=zt(W,Z,re),h[N+3+32]=h[N+1+64]=zt(Z,re,re),h[N+3+64]=h[N+2+64]=h[N+0+96]=h[N+1+96]=h[N+2+96]=h[N+3+96]=re}function vu(h,N){var T=h[N-1+0],W=h[N-1+32],Z=h[N-1+64],re=h[N-1+96],ae=h[N-1-32],oe=h[N+0-32],ce=h[N+1-32],he=h[N+2-32];h[N+0+0]=h[N+2+32]=T+ae+1>>1,h[N+0+32]=h[N+2+64]=W+T+1>>1,h[N+0+64]=h[N+2+96]=Z+W+1>>1,h[N+0+96]=re+Z+1>>1,h[N+3+0]=zt(oe,ce,he),h[N+2+0]=zt(ae,oe,ce),h[N+1+0]=h[N+3+32]=zt(T,ae,oe),h[N+1+32]=h[N+3+64]=zt(W,T,ae),h[N+1+64]=h[N+3+96]=zt(Z,W,T),h[N+1+96]=zt(re,Z,W)}function wu(h,N){var T;for(T=0;8>T;++T)n(h,N+32*T,h,N-32,8)}function Ti(h,N){var T;for(T=0;8>T;++T)a(h,N,h[N-1],8),N+=32}function Js(h,N,T){var W;for(W=0;8>W;++W)a(N,T+32*W,h,8)}function Ks(h,N){var T,W=8;for(T=0;8>T;++T)W+=h[N+T-32]+h[N-1+32*T];Js(W>>4,h,N)}function zl(h,N){var T,W=4;for(T=0;8>T;++T)W+=h[N+T-32];Js(W>>3,h,N)}function wo(h,N){var T,W=4;for(T=0;8>T;++T)W+=h[N-1+32*T];Js(W>>3,h,N)}function Oi(h,N){Js(128,h,N)}function ko(h,N,T){var W=h[N-T],Z=h[N+0],re=3*(Z-W)+ig[1020+h[N-2*T]-h[N+T]],ae=yh[112+(re+4>>3)];h[N-T]=os[255+W+yh[112+(re+3>>3)]],h[N+0]=os[255+Z-ae]}function Oc(h,N,T,W){var Z=h[N+0],re=h[N+T];return Ds[255+h[N-2*T]-h[N-T]]>W||Ds[255+re-Z]>W}function Mc(h,N,T,W){return 4*Ds[255+h[N-T]-h[N+0]]+Ds[255+h[N-2*T]-h[N+T]]<=W}function Fc(h,N,T,W,Z){var re=h[N-3*T],ae=h[N-2*T],oe=h[N-T],ce=h[N+0],he=h[N+T],je=h[N+2*T],Re=h[N+3*T];return 4*Ds[255+oe-ce]+Ds[255+ae-he]>W?0:Ds[255+h[N-4*T]-re]<=Z&&Ds[255+re-ae]<=Z&&Ds[255+ae-oe]<=Z&&Ds[255+Re-je]<=Z&&Ds[255+je-he]<=Z&&Ds[255+he-ce]<=Z}function jo(h,N,T,W){var Z=2*W+1;for(W=0;16>W;++W)Mc(h,N+W,T,Z)&&ko(h,N+W,T)}function ns(h,N,T,W){var Z=2*W+1;for(W=0;16>W;++W)Mc(h,N+W*T,1,Z)&&ko(h,N+W*T,1)}function as(h,N,T,W){var Z;for(Z=3;0<Z;--Z)jo(h,N+=4*T,T,W)}function ku(h,N,T,W){var Z;for(Z=3;0<Z;--Z)ns(h,N+=4,T,W)}function No(h,N,T,W,Z,re,ae,oe){for(re=2*re+1;0<Z--;){if(Fc(h,N,T,re,ae))if(Oc(h,N,T,oe))ko(h,N,T);else{var ce=h,he=N,je=T,Re=ce[he-2*je],Te=ce[he-je],_e=ce[he+0],Ze=ce[he+je],Ve=ce[he+2*je],Ne=27*(Xe=ig[1020+3*(_e-Te)+ig[1020+Re-Ze]])+63>>7,Ce=18*Xe+63>>7,Xe=9*Xe+63>>7;ce[he-3*je]=os[255+ce[he-3*je]+Xe],ce[he-2*je]=os[255+Re+Ce],ce[he-je]=os[255+Te+Ne],ce[he+0]=os[255+_e-Ne],ce[he+je]=os[255+Ze-Ce],ce[he+2*je]=os[255+Ve-Xe]}N+=W}}function ss(h,N,T,W,Z,re,ae,oe){for(re=2*re+1;0<Z--;){if(Fc(h,N,T,re,ae))if(Oc(h,N,T,oe))ko(h,N,T);else{var ce=h,he=N,je=T,Re=ce[he-je],Te=ce[he+0],_e=ce[he+je],Ze=yh[112+((Ve=3*(Te-Re))+4>>3)],Ve=yh[112+(Ve+3>>3)],Ne=Ze+1>>1;ce[he-2*je]=os[255+ce[he-2*je]+Ne],ce[he-je]=os[255+Re+Ve],ce[he+0]=os[255+Te-Ze],ce[he+je]=os[255+_e-Ne]}N+=W}}function m(h,N,T,W,Z,re){No(h,N,T,1,16,W,Z,re)}function _(h,N,T,W,Z,re){No(h,N,1,T,16,W,Z,re)}function O(h,N,T,W,Z,re){var ae;for(ae=3;0<ae;--ae)ss(h,N+=4*T,T,1,16,W,Z,re)}function z(h,N,T,W,Z,re){var ae;for(ae=3;0<ae;--ae)ss(h,N+=4,1,T,16,W,Z,re)}function K(h,N,T,W,Z,re,ae,oe){No(h,N,Z,1,8,re,ae,oe),No(T,W,Z,1,8,re,ae,oe)}function Y(h,N,T,W,Z,re,ae,oe){No(h,N,1,Z,8,re,ae,oe),No(T,W,1,Z,8,re,ae,oe)}function ne(h,N,T,W,Z,re,ae,oe){ss(h,N+4*Z,Z,1,8,re,ae,oe),ss(T,W+4*Z,Z,1,8,re,ae,oe)}function ve(h,N,T,W,Z,re,ae,oe){ss(h,N+4,1,Z,8,re,ae,oe),ss(T,W+4,1,Z,8,re,ae,oe)}function xe(){this.ba=new Sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Je(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new E,this.yc=new k}function Oe(){this.xb=this.a=0,this.l=new ei,this.ca=new Sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Je,this.ab=0,this.gc=i(4,Ue),this.Oc=0}function at(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Et(h,N,T,W,Z,re,ae){for(h=h==null?0:h[N+0],N=0;N<ae;++N)Z[re+N]=h+T[W+N]&255,h=Z[re+N]}function er(h,N,T,W,Z,re,ae){var oe;if(h==null)Et(null,null,T,W,Z,re,ae);else for(oe=0;oe<ae;++oe)Z[re+oe]=h[N+oe]+T[W+oe]&255}function qt(h,N,T,W,Z,re,ae){if(h==null)Et(null,null,T,W,Z,re,ae);else{var oe,ce=h[N+0],he=ce,je=ce;for(oe=0;oe<ae;++oe)he=je+(ce=h[N+oe])-he,je=T[W+oe]+(-256&he?0>he?0:255:he)&255,he=ce,Z[re+oe]=je}}function nn(h,N,T,W){var Z=N.width,re=N.o;if(t(h!=null&&N!=null),0>T||0>=W||T+W>re)return null;if(!h.Cc){if(h.ga==null){var ae;if(h.ga=new at,(ae=h.ga==null)||(ae=N.width*N.o,t(h.Gb.length==0),h.Gb=o(ae),h.Uc=0,h.Gb==null?ae=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,ae=1),ae=!ae),!ae){ae=h.ga;var oe=h.Fa,ce=h.P,he=h.qc,je=h.mb,Re=h.nb,Te=ce+1,_e=he-1,Ze=ae.l;if(t(oe!=null&&je!=null&&N!=null),Vi[0]=null,Vi[1]=Et,Vi[2]=er,Vi[3]=qt,ae.ca=je,ae.tb=Re,ae.c=N.width,ae.i=N.height,t(0<ae.c&&0<ae.i),1>=he)N=0;else if(ae.$a=oe[ce+0]>>0&3,ae.Z=oe[ce+0]>>2&3,ae.Lc=oe[ce+0]>>4&3,ce=oe[ce+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ce)N=0;else if(Ze.put=rn,Ze.ac=cr,Ze.bc=Cn,Ze.ma=ae,Ze.width=N.width,Ze.height=N.height,Ze.Da=N.Da,Ze.v=N.v,Ze.va=N.va,Ze.j=N.j,Ze.o=N.o,ae.$a)e:{t(ae.$a==1),N=Tn();t:for(;;){if(N==null){N=0;break e}if(t(ae!=null),ae.mc=N,N.c=ae.c,N.i=ae.i,N.l=ae.l,N.l.ma=ae,N.l.width=ae.c,N.l.height=ae.i,N.a=0,V(N.m,oe,Te,_e),!rs(ae.c,ae.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&la(N.s)?(ae.ic=1,oe=N.c*N.i,N.Ta=null,N.Ua=0,N.V=o(oe),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ae.ic=0,N=Us(N,ae.c)),!N))break t;N=1;break e}ae.mc=null,N=0}else N=_e>=ae.c*ae.i;ae=!N}if(ae)return null;h.ga.Lc!=1?h.Ga=0:W=re-T}t(h.ga!=null),t(T+W<=re);e:{if(N=(oe=h.ga).c,re=oe.l.o,oe.$a==0){if(Te=h.rc,_e=h.Vc,Ze=h.Fa,ce=h.P+1+T*N,he=h.mb,je=h.nb+T*N,t(ce<=h.P+h.qc),oe.Z!=0)for(t(Vi[oe.Z]!=null),ae=0;ae<W;++ae)Vi[oe.Z](Te,_e,Ze,ce,he,je,N),Te=he,_e=je,je+=N,ce+=N;else for(ae=0;ae<W;++ae)n(he,je,Ze,ce,N),Te=he,_e=je,je+=N,ce+=N;h.rc=Te,h.Vc=_e}else{if(t(oe.mc!=null),N=T+W,t((ae=oe.mc)!=null),t(N<=ae.i),ae.C>=N)N=1;else if(oe.ic||Pe(),oe.ic){oe=ae.V,Te=ae.Ba,_e=ae.c;var Ve=ae.i,Ne=(Ze=1,ce=ae.$/_e,he=ae.$%_e,je=ae.m,Re=ae.s,ae.$),Ce=_e*Ve,Xe=_e*N,nt=Re.wc,Qe=Ne<Xe?Rr(Re,he,ce):null;t(Ne<=Ce),t(N<=Ve),t(la(Re));t:for(;;){for(;!je.h&&Ne<Xe;){if(he&nt||(Qe=Rr(Re,he,ce)),t(Qe!=null),ie(je),256>(Ve=Ir(Qe.G[0],Qe.H[0],je)))oe[Te+Ne]=Ve,++Ne,++he>=_e&&(he=0,++ce<=N&&!(ce%16)&&ts(ae,ce));else{if(!(280>Ve)){Ze=0;break t}Ve=Fr(Ve-256,je);var gt,ft=Ir(Qe.G[4],Qe.H[4],je);if(ie(je),!(Ne>=(ft=Lr(_e,ft=Fr(ft,je)))&&Ce-Ne>=Ve)){Ze=0;break t}for(gt=0;gt<Ve;++gt)oe[Te+Ne+gt]=oe[Te+Ne+gt-ft];for(Ne+=Ve,he+=Ve;he>=_e;)he-=_e,++ce<=N&&!(ce%16)&&ts(ae,ce);Ne<Xe&&he&nt&&(Qe=Rr(Re,he,ce))}t(je.h==te(je))}ts(ae,ce>N?N:ce);break t}!Ze||je.h&&Ne<Ce?(Ze=0,ae.a=je.h?5:3):ae.$=Ne,N=Ze}else N=Ta(ae,ae.V,ae.Ba,ae.c,ae.i,N,xo);if(!N){W=0;break e}}T+W>=re&&(h.Cc=1),W=1}if(!W)return null;if(h.Cc&&((W=h.ga)!=null&&(W.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+T*Z}function D(h,N,T,W,Z,re){for(;0<Z--;){var ae,oe=h,ce=N+(T?1:0),he=h,je=N+(T?0:3);for(ae=0;ae<W;++ae){var Re=he[je+4*ae];Re!=255&&(Re*=32897,oe[ce+4*ae+0]=oe[ce+4*ae+0]*Re>>23,oe[ce+4*ae+1]=oe[ce+4*ae+1]*Re>>23,oe[ce+4*ae+2]=oe[ce+4*ae+2]*Re>>23)}N+=re}}function X(h,N,T,W,Z){for(;0<W--;){var re;for(re=0;re<T;++re){var ae=h[N+2*re+0],oe=15&(he=h[N+2*re+1]),ce=4369*oe,he=(240&he|he>>4)*ce>>16;h[N+2*re+0]=(240&ae|ae>>4)*ce>>16&240|(15&ae|ae<<4)*ce>>16>>4&15,h[N+2*re+1]=240&he|oe}N+=Z}}function me(h,N,T,W,Z,re,ae,oe){var ce,he,je=255;for(he=0;he<Z;++he){for(ce=0;ce<W;++ce){var Re=h[N+ce];re[ae+4*ce]=Re,je&=Re}N+=T,ae+=oe}return je!=255}function be(h,N,T,W,Z){var re;for(re=0;re<Z;++re)T[W+re]=h[N+re]>>8}function Pe(){Ps=D,Ur=X,zr=me,xn=be}function Ie(h,N,T){I[h]=function(W,Z,re,ae,oe,ce,he,je,Re,Te,_e,Ze,Ve,Ne,Ce,Xe,nt){var Qe,gt=nt-1>>1,ft=oe[ce+0]|he[je+0]<<16,Dt=Re[Te+0]|_e[Ze+0]<<16;t(W!=null);var pt=3*ft+Dt+131074>>2;for(N(W[Z+0],255&pt,pt>>16,Ve,Ne),re!=null&&(pt=3*Dt+ft+131074>>2,N(re[ae+0],255&pt,pt>>16,Ce,Xe)),Qe=1;Qe<=gt;++Qe){var br=oe[ce+Qe]|he[je+Qe]<<16,Cr=Re[Te+Qe]|_e[Ze+Qe]<<16,hr=ft+br+Dt+Cr+524296,or=hr+2*(br+Dt)>>3;pt=or+ft>>1,ft=(hr=hr+2*(ft+Cr)>>3)+br>>1,N(W[Z+2*Qe-1],255&pt,pt>>16,Ve,Ne+(2*Qe-1)*T),N(W[Z+2*Qe-0],255&ft,ft>>16,Ve,Ne+(2*Qe-0)*T),re!=null&&(pt=hr+Dt>>1,ft=or+Cr>>1,N(re[ae+2*Qe-1],255&pt,pt>>16,Ce,Xe+(2*Qe-1)*T),N(re[ae+2*Qe+0],255&ft,ft>>16,Ce,Xe+(2*Qe+0)*T)),ft=br,Dt=Cr}1&nt||(pt=3*ft+Dt+131074>>2,N(W[Z+nt-1],255&pt,pt>>16,Ve,Ne+(nt-1)*T),re!=null&&(pt=3*Dt+ft+131074>>2,N(re[ae+nt-1],255&pt,pt>>16,Ce,Xe+(nt-1)*T)))}}function Ke(){Ls[xh]=J6,Ls[bh]=Uw,Ls[Mw]=K6,Ls[vh]=zw,Ls[wh]=Vw,Ls[lg]=Hw,Ls[Fw]=Y6,Ls[cg]=Uw,Ls[dg]=zw,Ls[kh]=Vw,Ls[ug]=Hw}function ht(h){return h&-16384?0>h?0:255:h>>X6}function jt(h,N){return ht((19077*h>>8)+(26149*N>>8)-14234)}function At(h,N,T){return ht((19077*h>>8)-(6419*N>>8)-(13320*T>>8)+8708)}function Ot(h,N){return ht((19077*h>>8)+(33050*N>>8)-17685)}function Wt(h,N,T,W,Z){W[Z+0]=jt(h,T),W[Z+1]=At(h,N,T),W[Z+2]=Ot(h,N)}function gr(h,N,T,W,Z){W[Z+0]=Ot(h,N),W[Z+1]=At(h,N,T),W[Z+2]=jt(h,T)}function xr(h,N,T,W,Z){var re=At(h,N,T);N=re<<3&224|Ot(h,N)>>3,W[Z+0]=248&jt(h,T)|re>>5,W[Z+1]=N}function fr(h,N,T,W,Z){var re=240&Ot(h,N)|15;W[Z+0]=240&jt(h,T)|At(h,N,T)>>4,W[Z+1]=re}function _n(h,N,T,W,Z){W[Z+0]=255,Wt(h,N,T,W,Z+1)}function Tr(h,N,T,W,Z){gr(h,N,T,W,Z),W[Z+3]=255}function gn(h,N,T,W,Z){Wt(h,N,T,W,Z),W[Z+3]=255}function ja(h,N){return 0>h?0:h>N?N:h}function _s(h,N,T){I[h]=function(W,Z,re,ae,oe,ce,he,je,Re){for(var Te=je+(-2&Re)*T;je!=Te;)N(W[Z+0],re[ae+0],oe[ce+0],he,je),N(W[Z+1],re[ae+0],oe[ce+0],he,je+T),Z+=2,++ae,++ce,je+=2*T;1&Re&&N(W[Z+0],re[ae+0],oe[ce+0],he,je)}}function Bc(h,N,T){return T==0?h==0?N==0?6:5:N==0?4:0:T}function dr(h,N,T,W,Z){switch(h>>>30){case 3:ot(N,T,W,Z,0);break;case 2:it(N,T,W,Z);break;case 1:ct(N,T,W,Z)}}function So(h,N){var T,W,Z=N.M,re=N.Nb,ae=h.oc,oe=h.pc+40,ce=h.oc,he=h.pc+584,je=h.oc,Re=h.pc+600;for(T=0;16>T;++T)ae[oe+32*T-1]=129;for(T=0;8>T;++T)ce[he+32*T-1]=129,je[Re+32*T-1]=129;for(0<Z?ae[oe-1-32]=ce[he-1-32]=je[Re-1-32]=129:(a(ae,oe-32-1,127,21),a(ce,he-32-1,127,9),a(je,Re-32-1,127,9)),W=0;W<h.za;++W){var Te=N.ya[N.aa+W];if(0<W){for(T=-1;16>T;++T)n(ae,oe+32*T-4,ae,oe+32*T+12,4);for(T=-1;8>T;++T)n(ce,he+32*T-4,ce,he+32*T+4,4),n(je,Re+32*T-4,je,Re+32*T+4,4)}var _e=h.Gd,Ze=h.Hd+W,Ve=Te.ad,Ne=Te.Hc;if(0<Z&&(n(ae,oe-32,_e[Ze].y,0,16),n(ce,he-32,_e[Ze].f,0,8),n(je,Re-32,_e[Ze].ea,0,8)),Te.Za){var Ce=ae,Xe=oe-32+16;for(0<Z&&(W>=h.za-1?a(Ce,Xe,_e[Ze].y[15],4):n(Ce,Xe,_e[Ze+1].y,0,4)),T=0;4>T;T++)Ce[Xe+128+T]=Ce[Xe+256+T]=Ce[Xe+384+T]=Ce[Xe+0+T];for(T=0;16>T;++T,Ne<<=2)Ce=ae,Xe=oe+Gw[T],Qs[Te.Ob[T]](Ce,Xe),dr(Ne,Ve,16*+T,Ce,Xe)}else if(Ce=Bc(W,Z,Te.Ob[0]),zi[Ce](ae,oe),Ne!=0)for(T=0;16>T;++T,Ne<<=2)dr(Ne,Ve,16*+T,ae,oe+Gw[T]);for(T=Te.Gc,Ce=Bc(W,Z,Te.Dd),si[Ce](ce,he),si[Ce](je,Re),Ne=Ve,Ce=ce,Xe=he,255&(Te=T>>0)&&(170&Te?xt(Ne,256,Ce,Xe):Mt(Ne,256,Ce,Xe)),Te=je,Ne=Re,255&(T>>=8)&&(170&T?xt(Ve,320,Te,Ne):Mt(Ve,320,Te,Ne)),Z<h.Ub-1&&(n(_e[Ze].y,0,ae,oe+480,16),n(_e[Ze].f,0,ce,he+224,8),n(_e[Ze].ea,0,je,Re+224,8)),T=8*re*h.B,_e=h.sa,Ze=h.ta+16*W+16*re*h.R,Ve=h.qa,Te=h.ra+8*W+T,Ne=h.Ha,Ce=h.Ia+8*W+T,T=0;16>T;++T)n(_e,Ze+T*h.R,ae,oe+32*T,16);for(T=0;8>T;++T)n(Ve,Te+T*h.B,ce,he+32*T,8),n(Ne,Ce+T*h.B,je,Re+32*T,8)}}function Vn(h,N,T,W,Z,re,ae,oe,ce){var he=[0],je=[0],Re=0,Te=ce!=null?ce.kd:0,_e=ce??new Se;if(h==null||12>T)return 7;_e.data=h,_e.w=N,_e.ha=T,N=[N],T=[T],_e.gb=[_e.gb];e:{var Ze=N,Ve=T,Ne=_e.gb;if(t(h!=null),t(Ve!=null),t(Ne!=null),Ne[0]=0,12<=Ve[0]&&!r(h,Ze[0],"RIFF")){if(r(h,Ze[0]+8,"WEBP")){Ne=3;break e}var Ce=Ye(h,Ze[0]+4);if(12>Ce||4294967286<Ce){Ne=3;break e}if(Te&&Ce>Ve[0]-8){Ne=7;break e}Ne[0]=Ce,Ze[0]+=12,Ve[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ce=0<_e.gb[0],T=T[0];;){e:{var Xe=h;Ve=N,Ne=T;var nt=he,Qe=je,gt=Ze=[0];if((pt=Re=[Re])[0]=0,8>Ne[0])Ne=7;else{if(!r(Xe,Ve[0],"VP8X")){if(Ye(Xe,Ve[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ft=Ye(Xe,Ve[0]+8),Dt=1+qe(Xe,Ve[0]+12);if(2147483648<=Dt*(Xe=1+qe(Xe,Ve[0]+15))){Ne=3;break e}gt!=null&&(gt[0]=ft),nt!=null&&(nt[0]=Dt),Qe!=null&&(Qe[0]=Xe),Ve[0]+=18,Ne[0]-=18,pt[0]=1}Ne=0}}if(Re=Re[0],Ze=Ze[0],Ne!=0)return Ne;if(Ve=!!(2&Ze),!Ce&&Re)return 3;if(re!=null&&(re[0]=!!(16&Ze)),ae!=null&&(ae[0]=Ve),oe!=null&&(oe[0]=0),ae=he[0],Ze=je[0],Re&&Ve&&ce==null){Ne=0;break}if(4>T){Ne=7;break}if(Ce&&Re||!Ce&&!Re&&!r(h,N[0],"ALPH")){T=[T],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{ft=h,Ne=N,Ce=T;var pt=_e.gb;nt=_e.na,Qe=_e.P,gt=_e.Sa,Dt=22,t(ft!=null),t(Ce!=null),Xe=Ne[0];var br=Ce[0];for(t(nt!=null),t(gt!=null),nt[0]=null,Qe[0]=null,gt[0]=0;;){if(Ne[0]=Xe,Ce[0]=br,8>br){Ne=7;break e}var Cr=Ye(ft,Xe+4);if(4294967286<Cr){Ne=3;break e}var hr=8+Cr+1&-2;if(Dt+=hr,0<pt&&Dt>pt){Ne=3;break e}if(!r(ft,Xe,"VP8 ")||!r(ft,Xe,"VP8L")){Ne=0;break e}if(br[0]<hr){Ne=7;break e}r(ft,Xe,"ALPH")||(nt[0]=ft,Qe[0]=Xe+8,gt[0]=Cr),Xe+=hr,br-=hr}}if(T=T[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Ne!=0)break}T=[T],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(pt=h,Ne=N,Ce=T,nt=_e.gb[0],Qe=_e.Ja,gt=_e.xa,ft=Ne[0],Xe=!r(pt,ft,"VP8 "),Dt=!r(pt,ft,"VP8L"),t(pt!=null),t(Ce!=null),t(Qe!=null),t(gt!=null),8>Ce[0])Ne=7;else{if(Xe||Dt){if(pt=Ye(pt,ft+4),12<=nt&&pt>nt-12){Ne=3;break e}if(Te&&pt>Ce[0]-8){Ne=7;break e}Qe[0]=pt,Ne[0]+=8,Ce[0]-=8,gt[0]=Dt}else gt[0]=5<=Ce[0]&&pt[ft+0]==47&&!(pt[ft+4]>>5),Qe[0]=Ce[0];Ne=0}if(T=T[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],N=N[0],Ne!=0)break;if(4294967286<_e.Ja)return 3;if(oe==null||Ve||(oe[0]=_e.xa?2:1),ae=[ae],Ze=[Ze],_e.xa){if(5>T){Ne=7;break}oe=ae,Te=Ze,Ve=re,h==null||5>T?h=0:5<=T&&h[N+0]==47&&!(h[N+4]>>5)?(Ce=[0],pt=[0],nt=[0],V(Qe=new M,h,N,T),mt(Qe,Ce,pt,nt)?(oe!=null&&(oe[0]=Ce[0]),Te!=null&&(Te[0]=pt[0]),Ve!=null&&(Ve[0]=nt[0]),h=1):h=0):h=0}else{if(10>T){Ne=7;break}oe=Ze,h==null||10>T||!On(h,N+3,T-3)?h=0:(Te=h[N+0]|h[N+1]<<8|h[N+2]<<16,Ve=16383&(h[N+7]<<8|h[N+6]),h=16383&(h[N+9]<<8|h[N+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=_e.Ja||!Ve||!h?h=0:(ae&&(ae[0]=Ve),oe&&(oe[0]=h),h=1))}if(!h||(ae=ae[0],Ze=Ze[0],Re&&(he[0]!=ae||je[0]!=Ze)))return 3;ce!=null&&(ce[0]=_e,ce.offset=N-ce.w,t(4294967286>N-ce.w),t(ce.offset==ce.ha-T));break}return Ne==0||Ne==7&&Re&&ce==null?(re!=null&&(re[0]|=_e.na!=null&&0<_e.na.length),W!=null&&(W[0]=ae),Z!=null&&(Z[0]=Ze),0):Ne}function Es(h,N,T){var W=N.width,Z=N.height,re=0,ae=0,oe=W,ce=Z;if(N.Da=h!=null&&0<h.Da,N.Da&&(oe=h.cd,ce=h.bd,re=h.v,ae=h.j,11>T||(re&=-2,ae&=-2),0>re||0>ae||0>=oe||0>=ce||re+oe>W||ae+ce>Z))return 0;if(N.v=re,N.j=ae,N.va=re+oe,N.o=ae+ce,N.U=oe,N.T=ce,N.da=h!=null&&0<h.da,N.da){if(!yt(oe,ce,T=[h.ib],re=[h.hb]))return 0;N.ib=T[0],N.hb=re[0]}return N.ob=h!=null&&h.ob,N.Kb=h==null||!h.Sd,N.da&&(N.ob=N.ib<3*W/4&&N.hb<3*Z/4,N.Kb=0),1}function Vl(h){if(h==null)return 2;if(11>h.S){var N=h.f.RGBA;N.fb+=(h.height-1)*N.A,N.A=-N.A}else N=h.f.kb,h=h.height,N.O+=(h-1)*N.fa,N.fa=-N.fa,N.N+=(h-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(h-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(h-1)*N.lb,N.lb=-N.lb);return 0}function Mi(h,N,T,W){if(W==null||0>=h||0>=N)return 2;if(T!=null){if(T.Da){var Z=T.cd,re=T.bd,ae=-2&T.v,oe=-2&T.j;if(0>ae||0>oe||0>=Z||0>=re||ae+Z>h||oe+re>N)return 2;h=Z,N=re}if(T.da){if(!yt(h,N,Z=[T.ib],re=[T.hb]))return 2;h=Z[0],N=re[0]}}W.width=h,W.height=N;e:{var ce=W.width,he=W.height;if(h=W.S,0>=ce||0>=he||!(h>=xh&&13>h))h=2;else{if(0>=W.Rd&&W.sd==null){ae=re=Z=N=0;var je=(oe=ce*Jw[h])*he;if(11>h||(re=(he+1)/2*(N=(ce+1)/2),h==12&&(ae=(Z=ce)*he)),(he=o(je+2*re+ae))==null){h=1;break e}W.sd=he,11>h?((ce=W.f.RGBA).eb=he,ce.fb=0,ce.A=oe,ce.size=je):((ce=W.f.kb).y=he,ce.O=0,ce.fa=oe,ce.Fd=je,ce.f=he,ce.N=0+je,ce.Ab=N,ce.Cd=re,ce.ea=he,ce.W=0+je+re,ce.Db=N,ce.Ed=re,h==12&&(ce.F=he,ce.J=0+je+2*re),ce.Tc=ae,ce.lb=Z)}if(N=1,Z=W.S,re=W.width,ae=W.height,Z>=xh&&13>Z)if(11>Z)h=W.f.RGBA,N&=(oe=Math.abs(h.A))*(ae-1)+re<=h.size,N&=oe>=re*Jw[Z],N&=h.eb!=null;else{h=W.f.kb,oe=(re+1)/2,je=(ae+1)/2,ce=Math.abs(h.fa),he=Math.abs(h.Ab);var Re=Math.abs(h.Db),Te=Math.abs(h.lb),_e=Te*(ae-1)+re;N&=ce*(ae-1)+re<=h.Fd,N&=he*(je-1)+oe<=h.Cd,N=(N&=Re*(je-1)+oe<=h.Ed)&ce>=re&he>=oe&Re>=oe,N&=h.y!=null,N&=h.f!=null,N&=h.ea!=null,Z==12&&(N&=Te>=re,N&=_e<=h.Tc,N&=h.F!=null)}else N=0;h=N?0:2}}return h!=0||T!=null&&T.fd&&(h=Vl(W)),h}var En=64,Ma=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Co=24,Na=32,Fi=8,An=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(h){return h},I.Predictor2=function(h,N,T){return N[T+0]},I.Predictor3=function(h,N,T){return N[T+1]},I.Predictor4=function(h,N,T){return N[T-1]},I.Predictor5=function(h,N,T){return we(we(h,N[T+1]),N[T+0])},I.Predictor6=function(h,N,T){return we(h,N[T-1])},I.Predictor7=function(h,N,T){return we(h,N[T+0])},I.Predictor8=function(h,N,T){return we(N[T-1],N[T+0])},I.Predictor9=function(h,N,T){return we(N[T+0],N[T+1])},I.Predictor10=function(h,N,T){return we(we(h,N[T-1]),we(N[T+0],N[T+1]))},I.Predictor11=function(h,N,T){var W=N[T+0];return 0>=Fe(W>>24&255,h>>24&255,(N=N[T-1])>>24&255)+Fe(W>>16&255,h>>16&255,N>>16&255)+Fe(W>>8&255,h>>8&255,N>>8&255)+Fe(255&W,255&h,255&N)?W:h},I.Predictor12=function(h,N,T){var W=N[T+0];return(Ae((h>>24&255)+(W>>24&255)-((N=N[T-1])>>24&255))<<24|Ae((h>>16&255)+(W>>16&255)-(N>>16&255))<<16|Ae((h>>8&255)+(W>>8&255)-(N>>8&255))<<8|Ae((255&h)+(255&W)-(255&N)))>>>0},I.Predictor13=function(h,N,T){var W=N[T-1];return(tt((h=we(h,N[T+0]))>>24&255,W>>24&255)<<24|tt(h>>16&255,W>>16&255)<<16|tt(h>>8&255,W>>8&255)<<8|tt(h>>0&255,W>>0&255))>>>0};var Bi=I.PredictorAdd0;I.PredictorAdd1=st,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var _o=I.PredictorAdd2;Kt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var $i,Fa=I.ColorIndexInverseTransform,Ys=I.MapARGB,qi=I.VP8LColorIndexInverseTransformAlpha,Ui=I.MapAlpha,Eo=I.VP8LPredictorsAdd=[];Eo.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Xs,ra,fe,ke,Le,Be,We,ot,it,xt,ct,Mt,Ct,Ft,Yt,kt,ur,an,Zr,Bn,Hn,Sa,yn,As,Ps,Ur,zr,xn,$n=o(511),ai=o(2041),ju=o(225),$c=o(767),gh=0,ig=ai,yh=ju,os=$c,Ds=$n,xh=0,bh=1,Mw=2,vh=3,wh=4,lg=5,Fw=6,cg=7,dg=8,kh=9,ug=10,R6=[2,3,7],T6=[3,3,11],Bw=[280,256,256,256,40],O6=[0,1,1,1,0],M6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],F6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],B6=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$6=8,fg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nu=null,q6=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],U6=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$w=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],z6=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],V6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],H6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],W6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zi=[],Qs=[],si=[],G6=1,qw=2,Vi=[],Ls=[];Ie("UpsampleRgbLinePair",Wt,3),Ie("UpsampleBgrLinePair",gr,3),Ie("UpsampleRgbaLinePair",gn,4),Ie("UpsampleBgraLinePair",Tr,4),Ie("UpsampleArgbLinePair",_n,4),Ie("UpsampleRgba4444LinePair",fr,2),Ie("UpsampleRgb565LinePair",xr,2);var J6=I.UpsampleRgbLinePair,K6=I.UpsampleBgrLinePair,Uw=I.UpsampleRgbaLinePair,zw=I.UpsampleBgraLinePair,Vw=I.UpsampleArgbLinePair,Hw=I.UpsampleRgba4444LinePair,Y6=I.UpsampleRgb565LinePair,jh=16,Nh=1<<jh-1,Su=-227,pg=482,X6=6,Ww=0,Q6=o(256),Z6=o(256),e_=o(256),t_=o(256),r_=o(pg-Su),n_=o(pg-Su);_s("YuvToRgbRow",Wt,3),_s("YuvToBgrRow",gr,3),_s("YuvToRgbaRow",gn,4),_s("YuvToBgraRow",Tr,4),_s("YuvToArgbRow",_n,4),_s("YuvToRgba4444Row",fr,2),_s("YuvToRgb565Row",xr,2);var Gw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sh=[0,2,8],a_=[8,7,6,4,4,2,2,2,1,1,1,1],s_=1;this.WebPDecodeRGBA=function(h,N,T,W,Z){var re=bh,ae=new xe,oe=new Sn;ae.ba=oe,oe.S=re,oe.width=[oe.width],oe.height=[oe.height];var ce=oe.width,he=oe.height,je=new mr;if(je==null||h==null)var Re=2;else t(je!=null),Re=Vn(h,N,T,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Re!=0?ce=0:(ce!=null&&(ce[0]=je.width[0]),he!=null&&(he[0]=je.height[0]),ce=1),ce){oe.width=oe.width[0],oe.height=oe.height[0],W!=null&&(W[0]=oe.width),Z!=null&&(Z[0]=oe.height);e:{if(W=new ei,(Z=new Se).data=h,Z.w=N,Z.ha=T,Z.kd=1,N=[0],t(Z!=null),((h=Vn(Z.data,Z.w,Z.ha,null,null,null,N,null,Z))==0||h==7)&&N[0]&&(h=4),(N=h)==0){if(t(ae!=null),W.data=Z.data,W.w=Z.w+Z.offset,W.ha=Z.ha-Z.offset,W.put=rn,W.ac=cr,W.bc=Cn,W.ma=ae,Z.xa){if((h=Tn())==null){ae=1;break e}if(function(Te,_e){var Ze=[0],Ve=[0],Ne=[0];t:for(;;){if(Te==null)return 0;if(_e==null)return Te.a=2,0;if(Te.l=_e,Te.a=0,V(Te.m,_e.data,_e.w,_e.ha),!mt(Te.m,Ze,Ve,Ne)){Te.a=3;break t}if(Te.xb=qw,_e.width=Ze[0],_e.height=Ve[0],!rs(Ze[0],Ve[0],1,Te,null))break t;return 1}return t(Te.a!=0),0}(h,W)){if(W=(N=Mi(W.width,W.height,ae.Oa,ae.ba))==0){t:{W=h;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((T=W.l)!=null),t((Z=T.ma)!=null),W.xb!=0){if(W.ca=Z.ba,W.tb=Z.tb,t(W.ca!=null),!Es(Z.Oa,T,vh)){W.a=2;break r}if(!Us(W,T.width)||T.da)break r;if((T.da||sr(W.ca.S))&&Pe(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Pe()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!dt(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Ta(W,W.V,W.Ba,W.c,W.i,T.o,Ra))break r;Z.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(N=h.a)}else N=h.a}else{if((h=new Fl)==null){ae=1;break e}if(h.Fa=Z.na,h.P=Z.P,h.qc=Z.Sa,Vs(h,W)){if((N=Mi(W.width,W.height,ae.Oa,ae.ba))==0){if(h.Aa=0,T=ae.Oa,t((Z=h)!=null),T!=null){if(0<(ce=0>(ce=T.Md)?0:100<ce?255:255*ce/100)){for(he=je=0;4>he;++he)12>(Re=Z.pb[he]).lc&&(Re.ia=ce*a_[0>Re.lc?0:Re.lc]>>3),je|=Re.ia;je&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=T.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}pu(h,W)||(N=h.a)}}else N=h.a}N==0&&ae.Oa!=null&&ae.Oa.fd&&(N=Vl(ae.ba))}ae=N}re=ae!=0?null:11>re?oe.f.RGBA.eb:oe.f.kb.y}else re=null;return re};var Jw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,S){for(var C="",y=0;y<4;y++)C+=String.fromCharCode(I[S++]);return C}function u(I,S){return(I[S+0]<<0|I[S+1]<<8|I[S+2]<<16)>>>0}function f(I,S){return(I[S+0]<<0|I[S+1]<<8|I[S+2]<<16|I[S+3]<<24)>>>0}new c;var b=[0],p=[0],w=[],g=new c,A=e,v=function(I,S){var C={},y=0,k=!1,P=0,E=0;if(C.frames=[],!function(J,te,ue,ie){for(var de=0;de<ie;de++)if(J[te+de]!=ue.charCodeAt(de))return!0;return!1}(I,S,"RIFF",4)){for(f(I,S+=4),S+=8;S<I.length;){var q=d(I,S),B=f(I,S+=4);S+=4;var G=B+(1&B);switch(q){case"VP8 ":case"VP8L":C.frames[y]===void 0&&(C.frames[y]={}),(le=C.frames[y]).src_off=k?E:S-8,le.src_size=P+B+8,y++,k&&(k=!1,P=0,E=0);break;case"VP8X":(le=C.header={}).feature_flags=I[S];var V=S+4;le.canvas_width=1+u(I,V),V+=3,le.canvas_height=1+u(I,V),V+=3;break;case"ALPH":k=!0,P=G+8,E=S-8;break;case"ANIM":(le=C.header).bgcolor=f(I,S),V=S+4,le.loop_count=(Q=I)[(M=V)+0]<<0|Q[M+1]<<8,V+=2;break;case"ANMF":var ee,le;(le=C.frames[y]={}).offset_x=2*u(I,S),S+=3,le.offset_y=2*u(I,S),S+=3,le.width=1+u(I,S),S+=3,le.height=1+u(I,S),S+=3,le.duration=u(I,S),S+=3,ee=I[S++],le.dispose=1&ee,le.blend=ee>>1&1}q!="ANMF"&&(S+=G)}var Q,M;return C}}(A,0);v.response=A,v.rgbaoutput=!0,v.dataurl=!1;var j=v.header?v.header:null,R=v.frames?v.frames:null;if(j){j.loop_counter=j.loop_count,b=[j.canvas_height],p=[j.canvas_width];for(var H=0;H<R.length&&R[H].blend!=0;H++);}var U=R[0],F=g.WebPDecodeRGBA(A,U.src_off,U.src_size,p,b);U.rgba=F,U.imgwidth=p[0],U.imgheight=b[0];for(var x=0;x<p[0]*b[0]*4;x++)w[x]=F[x];return this.width=p,this.height=b,this.data=w,this}(function(e){var t=function(){return typeof vb=="function"},r=function(b,p,w,g){var A=4,v=i;switch(g){case e.image_compression.FAST:A=1,v=o;break;case e.image_compression.MEDIUM:A=6,v=l;break;case e.image_compression.SLOW:A=9,v=c}b=n(b,p,w,v);var j=vb(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(j)},n=function(b,p,w,g){for(var A,v,j,R=b.length/p,H=new Uint8Array(b.length+R),U=u(),F=0;F<R;F+=1){if(j=F*p,A=b.subarray(j,j+p),g)H.set(g(A,w,v),j+F);else{for(var x,I=U.length,S=[];x<I;x+=1)S[x]=U[x](A,w,v);var C=f(S.concat());H.set(S[C],j+F)}v=A}return H},a=function(b){var p=Array.apply([],b);return p.unshift(0),p},o=function(b,p){var w,g=[],A=b.length;g[0]=1;for(var v=0;v<A;v+=1)w=b[v-p]||0,g[v+1]=b[v]-w+256&255;return g},i=function(b,p,w){var g,A=[],v=b.length;A[0]=2;for(var j=0;j<v;j+=1)g=w&&w[j]||0,A[j+1]=b[j]-g+256&255;return A},l=function(b,p,w){var g,A,v=[],j=b.length;v[0]=3;for(var R=0;R<j;R+=1)g=b[R-p]||0,A=w&&w[R]||0,v[R+1]=b[R]+256-(g+A>>>1)&255;return v},c=function(b,p,w){var g,A,v,j,R=[],H=b.length;R[0]=4;for(var U=0;U<H;U+=1)g=b[U-p]||0,A=w&&w[U]||0,v=w&&w[U-p]||0,j=d(g,A,v),R[U+1]=b[U]-j+256&255;return R},d=function(b,p,w){if(b===p&&p===w)return b;var g=Math.abs(p-w),A=Math.abs(b-w),v=Math.abs(b+p-w-w);return g<=A&&g<=v?b:A<=v?p:w},u=function(){return[a,o,i,l,c]},f=function(b){var p=b.map(function(w){return w.reduce(function(g,A){return g+Math.abs(A)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(b,p,w,g){var A,v,j,R,H,U,F,x,I,S,C,y,k,P,E,q=this.decode.FLATE_DECODE,B="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(j=new SH(b)).imgData,v=j.bits,A=j.colorSpace,H=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){I=(x=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,C=new Uint8Array(I*j.colors),S=new Uint8Array(I);var G,V=j.pixelBitlength-j.bits;for(P=0,E=0;P<I;P++){for(k=x[P],G=0;G<V;)C[E++]=k>>>G&255,G+=j.bits;S[P]=k>>>G&255}}if(j.bits===16){I=(x=new Uint32Array(j.decodePixels().buffer)).length,C=new Uint8Array(I*(32/j.pixelBitlength)*j.colors),S=new Uint8Array(I*(32/j.pixelBitlength)),y=j.colors>1,P=0,E=0;for(var ee=0;P<I;)k=x[P++],C[E++]=k>>>0&255,y&&(C[E++]=k>>>16&255,k=x[P++],C[E++]=k>>>0&255),S[ee++]=k>>>16&255;v=8}g!==e.image_compression.NONE&&t()?(b=r(C,j.width*j.colors,j.colors,g),F=r(S,j.width,1,g)):(b=C,F=S,q=void 0)}if(j.colorType===3&&(A=this.color_spaces.INDEXED,U=j.palette,j.transparency.indexed)){var le=j.transparency.indexed,Q=0;for(P=0,I=le.length;P<I;++P)Q+=le[P];if((Q/=255)===I-1&&le.indexOf(0)!==-1)R=[le.indexOf(0)];else if(Q!==I){for(x=j.decodePixels(),S=new Uint8Array(x.length),P=0,I=x.length;P<I;P++)S[P]=le[x[P]];F=r(S,j.width,1)}}var M=function(J){var te;switch(J){case e.image_compression.FAST:te=11;break;case e.image_compression.MEDIUM:te=13;break;case e.image_compression.SLOW:te=14;break;default:te=12}return te}(g);return q===this.decode.FLATE_DECODE&&(B="/Predictor "+M+" "),B+="/Colors "+H+" /BitsPerComponent "+v+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:w,data:b,index:p,filter:q,decodeParameters:B,transparency:R,palette:U,sMask:F,predictor:M,width:j.width,height:j.height,bitsPerComponent:v,colorSpace:A}}}})($t.API),function(e){e.processGIF89A=function(t,r,n,a){var o=new CH(t),i=o.width,l=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:i,height:l},u=new Ty(100).encode(d,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}($t.API),ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ro.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){$r.log("bit decode error:"+r)}},ro.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[o>>7-l&1];this.data[i+4*l]=c.blue,this.data[i+4*l+1]=c.green,this.data[i+4*l+2]=c.red,this.data[i+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ro.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,l=o>>4,c=15&o,d=this.palette[l];if(this.data[i]=d.blue,this.data[i+1]=d.green,this.data[i+2]=d.red,this.data[i+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[i+4]=d.blue,this.data[i+4+1]=d.green,this.data[i+4+2]=d.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},ro.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[o]=i.red,this.data[o+1]=i.green,this.data[o+2]=i.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},ro.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(o&t)/t*255|0,l=(o>>5&t)/t*255|0,c=(o>>10&t)/t*255|0,d=o>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=i,this.data[u+3]=d}this.pos+=e}},ro.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,c=(i>>5&r)/r*255|0,d=(i>>11)/t*255|0,u=a*this.width*4+4*o;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},ro.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=o,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},ro.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=o,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=i}},ro.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var o=new ro(t,!1),i=o.width,l=o.height,c={data:o.getData(),width:i,height:l},d=new Ty(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}($t.API),Ak.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var o=new Ak(t),i=o.width,l=o.height,c={data:o.getData(),width:i,height:l},d=new Ty(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}($t.API),$t.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,o=new Uint8Array(a/4*3),i=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],f=n[d+1],b=n[d+2],p=n[d+3];o[l++]=u,o[l++]=f,o[l++]=b,i[c++]=p}var w=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:w,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},$t.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xc=$t.API,yp=Xc.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,b=0,p=e.length,w=0,g=l[0]||c,A=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?A.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/o)||0)/1e3):(b=f&&Ar(d[n])==="object"&&!isNaN(parseInt(d[n][w],10))?d[n][w]/u:0,A.push((l[n]||g)/c+b)),w=n;return A},Sk=Xc.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Xc.processArabic&&(e=Xc.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:yp.apply(this,arguments).reduce(function(o,i){return o+i},0)},Ck=function(e,t,r,n){for(var a=[],o=0,i=e.length,l=0;o!==i&&l+t[o]<r;)l+=t[o],o++;a.push(e.slice(0,o));var c=o;for(l=0;o!==i;)l+t[o]>n&&(a.push(e.slice(c,o)),l=0,c=o),l+=t[o],o++;return c!==o&&a.push(e.slice(c,o)),a},_k=function(e,t,r){r||(r={});var n,a,o,i,l,c,d,u=[],f=[u],b=r.textIndent||0,p=0,w=0,g=e.split(" "),A=yp.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),j=[];g.map(function(H){(H=H.split(/\s*\n/)).length>1?j=j.concat(H.map(function(U,F){return(F&&U.length?`
`:"")+U})):j.push(H[0])}),g=j,c=Sk.apply(this,[v,r])}for(o=0,i=g.length;o<i;o++){var R=0;if(n=g[o],c&&n[0]==`
`&&(n=n.substr(1),R=1),b+p+(w=(a=yp.apply(this,[n,r])).reduce(function(H,U){return H+U},0))>t||R){if(w>t){for(l=Ck.apply(this,[n,a,t-(b+p),t]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);w=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(H,U){return H+U},0)}else u=[n];f.push(u),b=w+c,p=A}else u.push(n),b+=p+w,p=A}return d=c?function(H,U){return(U?v:"")+H.join(" ")}:function(H){return H.join(" ")},f.map(d)},Xc.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(_k.apply(this,[n[l],i,o]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var o=function(f){return"0x"+parseInt(f,10).toString(16)},i=e.__fontmetrics__.compress=function(f){var b,p,w,g,A=["{"];for(var v in f){if(b=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=o(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof b=="number")b<0?(w=o(b).slice(3),g="-"):(w=o(b).slice(2),g=""),w=g+w.slice(0,-1)+n[w.slice(-1)];else{if(Ar(b)!=="object")throw new Error("Don't know what to do with value type "+Ar(b)+".");w=i(b)}A.push(p+w)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,p,w,g,A={},v=1,j=A,R=[],H="",U="",F=f.length-1,x=1;x<F;x+=1)(g=f[x])=="'"?b?(w=b.join(""),b=void 0):b=[]:b?b.push(g):g=="{"?(R.push([j,w]),j={},w=void 0):g=="}"?((p=R.pop())[0][p[1]]=j,w=void 0,j=p[0]):g=="-"?v=-1:w===void 0?r.hasOwnProperty(g)?(H+=r[g],w=parseInt(H,16)*v,v=1,H=""):H+=g:r.hasOwnProperty(g)?(U+=r[g],j[w]=parseInt(U,16)*v,v=1,w=void 0,U=""):U+=g;return A},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var b=f.font,p=u.Unicode[b.postScriptName];p&&(b.metadata.Unicode={},b.metadata.Unicode.widths=p.widths,b.metadata.Unicode.kerning=p.kerning);var w=d.Unicode[b.postScriptName];w&&(b.metadata.Unicode.encoding=w,b.encoding=w.codePages[0])}])}($t.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=r.charCodeAt(o);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(mf(l)),i.metadata=e.API.TTFFont.open(l),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}($t),function(e){function t(){return(Ut.canvg?Promise.resolve(Ut.canvg):Si(()=>import("./index.es-DnHAwuuj.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}$t.API.addSvgAsImage=function(r,n,a,o,i,l,c,d){if(isNaN(n)||isNaN(a))throw $r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(i))throw $r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=i;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(w){return w.fromString(f,r,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(b)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,o,i,c,d)})}}(),$t.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},$t.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,o,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(i),c=[],d=0,u=0,f=0;function b(w,g){var A,v=!1;for(A=0;A<w.length;A+=1)w[A]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Ar(e)==="object"){for(a in e)if(o=e[a],b(l,a)&&o!==void 0){if(r[a].type==="boolean"&&typeof o=="boolean")r[a].value=o;else if(r[a].type==="name"&&b(r[a].valueSet,o))r[a].value=o;else if(r[a].type==="integer"&&Number.isInteger(o))r[a].value=o;else if(r[a].type==="array"){for(d=0;d<o.length;d+=1)if(n=!0,o[d].length===1&&typeof o[d][0]=="number")c.push(String(o[d]-1));else if(o[d].length>1){for(u=0;u<o[d].length;u+=1)typeof o[d][u]!="number"&&(n=!1);n===!0&&c.push([o[d][0]-1,o[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,g=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?g.push("/"+w+" /"+r[w].value):g.push("/"+w+" "+r[w].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+i.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+i+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}($t.API),function(e){var t=e.API,r=t.pdfEscape16=function(o,i){for(var l,c=i.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,b=o.length;f<b;++f){if(l=i.metadata.characterToGlyph(o.charCodeAt(f)),i.metadata.glyIdsUsed.push(l),i.metadata.toUnicode[l]=o.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(i.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(o){var i,l,c,d,u,f,b;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,b=(l=Object.keys(o).sort(function(p,w){return p-w})).length;f<b;f++)i=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),o[i]!==void 0&&o[i]!==null&&typeof o[i].toString=="function"&&(d=("0000"+o[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(i){var l=i.font,c=i.out,d=i.newObject,u=i.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",w=0;w<b.length;w++)p+=String.fromCharCode(b[w]);var g=d();u({data:p,addLength1:!0,objectId:g}),c("endobj");var A=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var v=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ed(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+ed(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+ed(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(i){var l=i.font,c=i.out,d=i.newObject,u=i.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,b="",p=0;p<f.length;p++)b+=String.fromCharCode(f[p]);var w=d();u({data:b,addLength1:!0,objectId:w}),c("endobj");var g=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var A=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ed(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ed(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(o)}]);var a=function(o){var i,l=o.text||"",c=o.x,d=o.y,u=o.options||{},f=o.mutex||{},b=f.pdfEscape,p=f.activeFontKey,w=f.fonts,g=p,A="",v=0,j="",R=w[g].encoding;if(w[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:f};for(j=l,g=p,Array.isArray(l)&&(j=l[0]),v=0;v<j.length;v+=1)w[g].metadata.hasOwnProperty("cmap")&&(i=w[g].metadata.cmap.unicode.codeMap[j[v].charCodeAt(0)]),i||j[v].charCodeAt(0)<256&&w[g].metadata.hasOwnProperty("Unicode")?A+=j[v]:A+="";var H="";return parseInt(g.slice(1))<14||R==="WinAnsiEncoding"?H=b(A,g).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(H=r(A,w[g])),f.isHex=!0,{text:H,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(o){var i=o.text||"",l=[],c={text:i,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(i)){var d=0;for(d=0;d<i.length;d+=1)Array.isArray(i[d])&&i[d].length===3?l.push([a(Object.assign({},c,{text:i[d][0]})).text,i[d][1],i[d][2]]):l.push(a(Object.assign({},c,{text:i[d]})).text);o.text=l}else o.text=a(Object.assign({},c,{text:i})).text}])}($t),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}($t.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,o,i,l,c,d,u,f=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,R=0;this.__bidiEngine__={};var H=function(y){var k=y.charCodeAt(),P=k>>8,E=g[P];return E!==void 0?f[256*E+(255&k)]:P===252||P===253?"AL":v.test(P)?"L":P===8?"R":"N"},U=function(y){for(var k,P=0;P<y.length;P++){if((k=H(y.charAt(P)))==="L")return!1;if(k==="R")return!0}return!1},F=function(y,k,P,E){var q,B,G,V,ee=k[E];switch(ee){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(ee="AN");break;case"AL":j=!0,ee="R";break;case"WS":ee="N";break;case"CS":E<1||E+1>=k.length||(q=P[E-1])!=="EN"&&q!=="AN"||(B=k[E+1])!=="EN"&&B!=="AN"?ee="N":j&&(B="AN"),ee=B===q?B:"N";break;case"ES":ee=(q=E>0?P[E-1]:"B")==="EN"&&E+1<k.length&&k[E+1]==="EN"?"EN":"N";break;case"ET":if(E>0&&P[E-1]==="EN"){ee="EN";break}if(j){ee="N";break}for(G=E+1,V=k.length;G<V&&k[G]==="ET";)G++;ee=G<V&&k[G]==="EN"?"EN":"N";break;case"NSM":if(i&&!l){for(V=k.length,G=E+1;G<V&&k[G]==="NSM";)G++;if(G<V){var le=y[E],Q=le>=1425&&le<=2303||le===64286;if(q=k[G],Q&&(q==="R"||q==="AL")){ee="R";break}}}ee=E<1||(q=k[E-1])==="B"?"N":P[E-1];break;case"B":j=!1,a=!0,ee=R;break;case"S":o=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":ee="N"}return ee},x=function(y,k,P){var E=y.split("");return P&&I(E,P,{hiLevel:R}),E.reverse(),k&&k.reverse(),E.join("")},I=function(y,k,P){var E,q,B,G,V,ee=-1,le=y.length,Q=0,M=[],J=R?p:b,te=[];for(j=!1,a=!1,o=!1,q=0;q<le;q++)te[q]=H(y[q]);for(B=0;B<le;B++){if(V=Q,M[B]=F(y,te,M,B),E=240&(Q=J[V][w[M[B]]]),Q&=15,k[B]=G=J[Q][5],E>0)if(E===16){for(q=ee;q<B;q++)k[q]=1;ee=-1}else ee=-1;if(J[Q][6])ee===-1&&(ee=B);else if(ee>-1){for(q=ee;q<B;q++)k[q]=G;ee=-1}te[B]==="B"&&(k[B]=0),P.hiLevel|=G}o&&function(ue,ie,de){for(var ye=0;ye<de;ye++)if(ue[ye]==="S"){ie[ye]=R;for(var pe=ye-1;pe>=0&&ue[pe]==="WS";pe--)ie[pe]=R}}(te,k,le)},S=function(y,k,P,E,q){if(!(q.hiLevel<y)){if(y===1&&R===1&&!a)return k.reverse(),void(P&&P.reverse());for(var B,G,V,ee,le=k.length,Q=0;Q<le;){if(E[Q]>=y){for(V=Q+1;V<le&&E[V]>=y;)V++;for(ee=Q,G=V-1;ee<G;ee++,G--)B=k[ee],k[ee]=k[G],k[G]=B,P&&(B=P[ee],P[ee]=P[G],P[G]=B);Q=V}Q++}}},C=function(y,k,P){var E=y.split(""),q={hiLevel:R};return P||(P=[]),I(E,P,q),function(B,G,V){if(V.hiLevel!==0&&u)for(var ee,le=0;le<B.length;le++)G[le]===1&&(ee=A.indexOf(B[le]))>=0&&(B[le]=A[ee+1])}(E,P,q),S(2,E,k,P,q),S(1,E,k,P,q),E.join("")};return this.__bidiEngine__.doBidiReorder=function(y,k,P){if(function(q,B){if(B)for(var G=0;G<q.length;G++)B[G]=G;l===void 0&&(l=U(q)),d===void 0&&(d=U(q))}(y,k),i||!c||d)if(i&&c&&l^d)R=l?1:0,y=x(y,k,P);else if(!i&&c&&d)R=l?1:0,y=C(y,k,P),y=x(y,k);else if(!i||l||c||d){if(i&&!c&&l^d)y=x(y,k),l?(R=0,y=C(y,k,P)):(R=1,y=C(y,k,P),y=x(y,k));else if(i&&l&&!c&&d)R=1,y=C(y,k,P),y=x(y,k);else if(!i&&!c&&l^d){var E=u;l?(R=1,y=C(y,k,P),R=0,u=!1,y=C(y,k,P),u=E):(R=0,y=C(y,k,P),y=x(y,k),R=1,u=!1,y=C(y,k,P),u=E,y=x(y,k))}}else R=0,y=C(y,k,P);else R=l?1:0,y=C(y,k,P);return y},this.__bidiEngine__.setOptions=function(y){y&&(i=y.isInputVisual,c=y.isOutputVisual,l=y.isInputRtl,d=y.isOutputRtl,u=y.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var i=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(i=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?i.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):i.push([r.doBidiReorder(a[l])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}($t),$t.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Pl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new qH(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new _H(this.contents),this.head=new AH(this),this.name=new RH(this),this.cmap=new v6(this),this.toUnicode={},this.hhea=new PH(this),this.maxp=new TH(this),this.hmtx=new OH(this),this.post=new LH(this),this.os2=new DH(this),this.loca=new $H(this),this.glyf=new MH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,l,c,d;for(d=[],i=0,l=(c=this.bbox).length;i<l;i++)t=c[i],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,o,i,l;for(i=0,o=0,l=(t=""+t).length;0<=l?o<l:o>l;o=0<=l?++o:--o)a=t.charCodeAt(o),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var yo,Pl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,o,i,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^i)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*o+65536*i+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,o;for(o=[],n=0,a=t.length;n<a;n++)r=t[n],o.push(this.writeByte(r));return o},e}(),_H=function(){var e;function t(r){var n,a,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,o,i,l,c,d,u,f,b,p,w,g;for(g in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),i=Math.floor(f/c),u=16*p-f,(a=new Pl).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(i),a.writeShort(u),o=16*p,d=a.pos+o,l=null,w=[],r)for(b=r[g],a.writeString(g),a.writeInt(e(b)),a.writeInt(d),a.writeInt(b.length),w=w.concat(b),g==="head"&&(l=d),d+=b.length;d%4;)w.push(0),d++;return a.write(w),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,o,i;for(r=w6.call(r);r.length%4;)r.push(0);for(o=new Pl(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=o.readUInt32();return 4294967295&a},t}(),EH={}.hasOwnProperty,Yo=function(e,t){for(var r in t)EH.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};yo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var AH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Pl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),Pk=function(){function e(t,r){var n,a,o,i,l,c,d,u,f,b,p,w,g,A,v,j,R;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),b=p/2,t.pos+=6,o=function(){var H,U;for(U=[],c=H=0;0<=b?H<b:H>b;c=0<=b?++H:--H)U.push(t.readUInt16());return U}(),t.pos+=2,g=function(){var H,U;for(U=[],c=H=0;0<=b?H<b:H>b;c=0<=b?++H:--H)U.push(t.readUInt16());return U}(),d=function(){var H,U;for(U=[],c=H=0;0<=b?H<b:H>b;c=0<=b?++H:--H)U.push(t.readUInt16());return U}(),u=function(){var H,U;for(U=[],c=H=0;0<=b?H<b:H>b;c=0<=b?++H:--H)U.push(t.readUInt16());return U}(),a=(this.length-t.pos+this.offset)/2,l=function(){var H,U;for(U=[],c=H=0;0<=a?H<a:H>a;c=0<=a?++H:--H)U.push(t.readUInt16());return U}(),c=v=0,R=o.length;v<R;c=++v)for(A=o[c],n=j=w=g[c];w<=A?j<=A:j>=A;n=w<=A?++j:--j)u[c]===0?i=n+d[c]:(i=l[u[c]/2+(n-w)-(b-c)]||0)!==0&&(i+=d[c]),this.codeMap[n]=65535&i}t.pos=f}return e.encode=function(t,r){var n,a,o,i,l,c,d,u,f,b,p,w,g,A,v,j,R,H,U,F,x,I,S,C,y,k,P,E,q,B,G,V,ee,le,Q,M,J,te,ue,ie,de,ye,pe,Ee,$e,qe;switch(E=new Pl,i=Object.keys(t).sort(function(Ye,dt){return Ye-dt}),r){case"macroman":for(g=0,A=function(){var Ye=[];for(w=0;w<256;++w)Ye.push(0);return Ye}(),j={0:0},o={},q=0,ee=i.length;q<ee;q++)j[pe=t[a=i[q]]]==null&&(j[pe]=++g),o[a]={old:t[a],new:j[t[a]]},A[a]=j[t[a]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(A),{charMap:o,subtable:E.data,maxGlyphID:g+1};case"unicode":for(k=[],f=[],R=0,j={},n={},v=d=null,B=0,le=i.length;B<le;B++)j[U=t[a=i[B]]]==null&&(j[U]=++R),n[a]={old:U,new:j[U]},l=j[U]-a,v!=null&&l===d||(v&&f.push(v),k.push(a),d=l),v=a;for(v&&f.push(v),f.push(65535),k.push(65535),C=2*(S=k.length),I=2*Math.pow(Math.log(S)/Math.LN2,2),b=Math.log(I/2)/Math.LN2,x=2*S-I,c=[],F=[],p=[],w=G=0,Q=k.length;G<Q;w=++G){if(y=k[w],u=f[w],y===65535){c.push(0),F.push(0);break}if(y-(P=n[y].new)>=32768)for(c.push(0),F.push(2*(p.length+S-w)),a=V=y;y<=u?V<=u:V>=u;a=y<=u?++V:--V)p.push(n[a].new);else c.push(P-y),F.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*S+2*p.length),E.writeUInt16(0),E.writeUInt16(C),E.writeUInt16(I),E.writeUInt16(b),E.writeUInt16(x),de=0,M=f.length;de<M;de++)a=f[de],E.writeUInt16(a);for(E.writeUInt16(0),ye=0,J=k.length;ye<J;ye++)a=k[ye],E.writeUInt16(a);for(Ee=0,te=c.length;Ee<te;Ee++)l=c[Ee],E.writeUInt16(l);for($e=0,ue=F.length;$e<ue;$e++)H=F[$e],E.writeUInt16(H);for(qe=0,ie=p.length;qe<ie;qe++)g=p[qe],E.writeUInt16(g);return{charMap:n,subtable:E.data,maxGlyphID:R+1}}},e}(),v6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)n=new Pk(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,o;return n==null&&(n="macroman"),a=Pk.encode(r,n),(o=new Pl).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},t}(),PH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),DH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),LH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)n=r.readByte(),o.push(this.names.push(r.readString(n)));return o;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],i=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;i=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},t}(),IH=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},RH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,o,i,l,c,d,u,f,b,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},i=f=0,b=a.length;f<b;i=++f)o=a[i],r.pos=o.offset,u=r.readString(o.length),l=new IH(u,o),d[p=o.nameID]==null&&(d[p]=[]),d[o.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),TH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),OH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,o,i,l,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,b,p;for(p=[],u=0,f=(b=this.metrics).length;u<f;u++)i=b[u],p.push(i.advance);return p}).call(this),a=this.widths[this.widths.length-1],d=[],n=l=0;0<=o?l<o:l>o;n=0<=o?++l:--l)d.push(this.widths.push(a));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),w6=[].slice,MH=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,o,i,l,c,d,u,f,b;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(o=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Pl(n.read(o))).readShort(),u=c.readShort(),b=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new BH(c,u,b,d,f):new FH(c,l,u,b,d,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var o,i,l,c,d;for(l=[],i=[],c=0,d=n.length;c<d;c++)o=r[n[c]],i.push(l.length),o&&(l=l.concat(o.encode(a)));return i.push(l.length),{table:l,offsets:i}},t}(),FH=function(){function e(t,r,n,a,o,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),BH=function(){function e(t,r,n,a,o){var i,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;l=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&l;)i.pos+=1&l?4:2,128&l?i.pos+=8:64&l?i.pos+=4:8&l&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Pl(w6.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),$H=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yo(t,yo),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,i;for(i=[],a=0,o=this.length;a<o;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var o,i;for(i=[],a=0,o=this.length;a<o;a+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),o=0,i=0,l=0;l<a.length;++l)if(a[l]=o,i<n.length&&n[i]==l){++i,a[l]=o;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(o+=d)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),qH=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,o;for(r in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)n=o[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,o,i,l,c;for(a={},i=0,l=t.length;i<l;i++)a[o=t[i]]=this.font.glyf.glyphFor(o);for(o in r=[],a)(n=a[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in c=this.glyphsFor(r))n=c[o],a[o]=n;return a},e.prototype.encode=function(t,r){var n,a,o,i,l,c,d,u,f,b,p,w,g,A,v;for(a in n=v6.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),p={0:0},v=n.charMap)p[(c=v[a]).old]=c.new;for(w in b=n.maxGlyphID,i)w in p||(p[w]=b++);return u=function(j){var R,H;for(R in H={},j)H[j[R]]=R;return H}(p),f=Object.keys(u).sort(function(j,R){return j-R}),g=function(){var j,R,H;for(H=[],j=0,R=f.length;j<R;j++)l=f[j],H.push(u[l]);return H}(),o=this.font.glyf.encode(i,g,p),d=this.font.loca.encode(o.offsets,g),A={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();$t.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,o,i;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in o=["<<"],r)i=r[a],o.push("/"+a+" "+t.convert(i));return o.push(">>"),o.join(`
`)}return""+r},t}();function k6(e,t,r,n,a){n=n||{};var o=1.15,i=a.internal.scaleFactor,l=a.internal.getFontSize()/i,c=a.getLineHeightFactor?a.getLineHeightFactor():o,d=l*c,u=/\r\n|\r|\n/g,f="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,b=f.length||1),r+=l*(2-o),n.valign==="middle"?r-=b/2*d:n.valign==="bottom"&&(r-=b*d),n.halign==="center"||n.halign==="right"){var p=l;if(n.halign==="center"&&(p*=.5),f&&b>=1){for(var w=0;w<f.length;w++)a.text(f[w],t-a.getStringUnitWidth(f[w])*p,r),r+=d;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var Dk={},Pd=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:Dk=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,o;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),l=i.fontStyle,c=i.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(o=this.jsPDFDocument).setDrawColor.apply(o,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,o){return this.jsPDFDocument.rect(t,r,n,a,o)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Dk||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),_b=function(e,t){return _b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},_b(e,t)};function j6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_b(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var N6=function(e){j6(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function UH(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function zH(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function G0(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(o){return r.getTextWidth(o)}).reduce(function(o,i){return Math.max(o,i)},0);return a}function S6(e,t,r,n){var a=t.settings.tableLineWidth,o=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:o});var i=C6(a,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function C6(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function og(e,t){var r,n,a,o;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(o=e.bottom)!==null&&o!==void 0?o:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function _6(e,t){var r=og(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function VH(e,t,r,n,a){var o={},i=1.3333333333333333,l=Oy(t,function(R){return a.getComputedStyle(R).backgroundColor});l!=null&&(o.fillColor=l);var c=Oy(t,function(R){return a.getComputedStyle(R).color});c!=null&&(o.textColor=c);var d=WH(n,r);d&&(o.cellPadding=d);var u="borderTopColor",f=i*r,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var p=(parseFloat(b)||0)/f;p&&(o.lineWidth=p)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?u="borderRightColor":o.lineWidth.bottom?u="borderBottomColor":o.lineWidth.left&&(u="borderLeftColor"));var w=Oy(t,function(R){return a.getComputedStyle(R)[u]});w!=null&&(o.lineColor=w);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var A=parseInt(n.fontSize||"");isNaN(A)||(o.fontSize=A/i);var v=HH(n);v&&(o.fontStyle=v);var j=(n.fontFamily||"").toLowerCase();return e.indexOf(j)!==-1&&(o.font=j),o}function HH(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Oy(e,t){var r=E6(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function E6(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:E6(e.parentElement,t):r}function WH(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,o=r.map(function(l){return parseInt(l||"0")/n}),i=og(o,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function A6(e,t,r,n,a){var o,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],f=[],b=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:b};for(var p=0;p<l.rows.length;p++){var w=l.rows[p],g=(i=(o=w==null?void 0:w.parentElement)===null||o===void 0?void 0:o.tagName)===null||i===void 0?void 0:i.toLowerCase(),A=GH(c,d,r,w,n,a);A&&(g==="thead"?u.push(A):g==="tfoot"?b.push(A):f.push(A))}return{head:u,body:f,foot:b}}function GH(e,t,r,n,a,o){for(var i=new N6(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;o&&(u=VH(e,c,t,d,r)),i.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:JH(c)})}}var f=r.getComputedStyle(n);if(i.length>0&&(a||f.display!=="none"))return i}function JH(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function KH(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var o=a[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function pi(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),i=1;i<arguments.length;i++){var l=arguments[i];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])}return o}function YH(e,t){var r=new Pd(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();KH(a,n,t);var o=pi({},a,n,t),i;typeof window<"u"&&(i=window);var l=XH(a,n,t),c=QH(a,n,t),d=ZH(r,o),u=tW(r,o,i);return{id:t.tableId,content:u,hooks:c,styles:l,settings:d}}function XH(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],f=r[c];n.columnStyles=pi({},d,u,f)}else{var b=[e,t,r],p=b.map(function(w){return w[c]||{}});n[c]=pi({},p[0],p[1],p[2])}},o=0,i=Object.keys(n);o<i.length;o++){var l=i[o];a(l)}return n}function QH(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,i=n;o<i.length;o++){var l=i[o];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function ZH(e,t){var r,n,a,o,i,l,c,d,u,f,b,p,w=og(t.margin,40/e.scaleFactor()),g=(r=eW(e,t.startY))!==null&&r!==void 0?r:w.top,A;t.showFoot===!0?A="everyPage":t.showFoot===!1?A="never":A=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var j=(o=t.useCss)!==null&&o!==void 0?o:!1,R=t.theme||(j?"plain":"striped"),H=!!t.horizontalPageBreak,U=(i=t.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:j,theme:R,startY:g,margin:w,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:A,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(b=t.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:H,horizontalPageBreakRepeat:U,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function eW(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),o=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;o=i===a}return typeof t=="number"?t:(t==null||t===!1)&&o&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function tW(e,t,r){var n=t.head||[],a=t.body||[],o=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var l=A6(e,t.html,r,i,t.useCss)||{};n=l.head||n,a=l.body||n,o=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||rW(n,a,o);return{columns:c,head:n,body:a,foot:o}}function rW(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var i=1,l;Array.isArray(n)?l=n[parseInt(o)]:l=n[o],typeof l=="object"&&!Array.isArray(l)&&(i=(l==null?void 0:l.colSpan)||1);for(var c=0;c<i;c++){var d=void 0;Array.isArray(n)?d=a.length:d=o+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var Eb=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),nW=function(e){j6(t,e);function t(r,n,a,o,i,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=o,c.column=i,c.section=o.section,c}return t}(Eb),aW=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,o,i){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new nW(t,this,n,a,o,i),f=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var o=a[n];o(new Eb(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var o=a[n];o(new Eb(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),P6=function(){function e(t,r,n,a,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof N6&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=o}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var o;return Math.max(n,((o=r.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,o){var i=n.cells[o.index];if(!i)return 0;var l=r.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),d=c+l;return d>a?d:a},0)},e}(),D6=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var i=o!=null?""+o:"",l=/\r\n|\r|\n/g;this.text=i.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,o=n*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=og(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),sW=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var o=a[n],i=o.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},e}();function oW(e,t){iW(e,t);var r=[],n=0;t.columns.forEach(function(o){var i=o.getMaxCustomCellWidth(t);i?o.width=i:(o.width=o.wrappedWidth,r.push(o)),n+=o.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=Ab(r,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=Ab(r,a,function(o){return o.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),cW(t),dW(t,e),lW(t)}function iW(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=_6(e,t);t.allRows().forEach(function(o){for(var i=0,l=t.columns;i<l.length;i++){var c=l[i],d=o.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,o,c,null);var f=d.padding("horizontal");d.contentWidth=G0(d.text,d.styles,e)+f;var b=G0(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=b+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/r;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(o){for(var i=0,l=t.columns;i<l.length;i++){var c=l[i],d=o.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function Ab(e,t,r){for(var n=t,a=e.reduce(function(p,w){return p+w.wrappedWidth},0),o=0;o<e.length;o++){var i=e[o],l=i.wrappedWidth/a,c=n*l,d=i.width+c,u=r(i),f=d<u?u:d;t-=f-i.width,i.width=f}if(t=Math.round(t*1e10)/1e10,t){var b=e.filter(function(p){return t<0?p.width>r(p):!0});b.length&&(t=Ab(b,t,r))}return t}function lW(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var o=n[a],i=0,l=e.columns;i<l.length;i++){var c=l[i],d=t[c.index];if(r>1)r--,delete o.cells[c.index];else if(d)d.cell.height+=o.height,r=d.cell.colSpan,delete o.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=o.cells[c.index];if(!u)continue;if(u.height=o.height,u.rowSpan>1){var f=n.length-a,b=u.rowSpan>f?f:u.rowSpan;t[c.index]={cell:u,left:b,row:o}}}}}function cW(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,o=0,i=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(i-=1,i>1&&e.columns[l+1])o+=c.width,delete n.cells[c.index];else if(a){var d=a;delete n.cells[c.index],a=null,d.width=c.width+o}else{var d=n.cells[c.index];if(!d)continue;if(i=d.colSpan,o=0,d.colSpan>1){a=d,o+=c.width;continue}d.width=c.width+o}}}function dW(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var o=a[n],i=0,l=e.columns;i<l.length;i++){var c=l[i],d=o.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Lk(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=Lk(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,u);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var b=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<b*d.rowSpan?r={height:b,count:d.rowSpan}:r&&r.count>0&&r.height>b&&(b=r.height),b>o.height&&(o.height=b)}}r.count--}}function Lk(e,t,r,n,a){return e.map(function(o){return uW(o,t,r,n,a)})}function uW(e,t,r,n,a){var o=1e4*n.scaleFactor();if(t=Math.ceil(t*o)/o,t>=G0(e,r,n))return e;for(;t<G0(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function fW(e,t){var r=new Pd(e),n=hW(t,r.scaleFactor()),a=new aW(t,n);return oW(r,a),r.applyStyles(r.userStyles),a}function hW(e,t){var r=e.content,n=mW(r.columns);if(r.head.length===0){var a=Ik(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Ik(n,"foot");a&&r.foot.push(a)}var o=e.settings.theme,i=e.styles;return{columns:n,head:My("head",r.head,n,i,o,t),body:My("body",r.body,n,i,o,t),foot:My("foot",r.foot,n,i,o,t)}}function My(e,t,r,n,a,o){var i={},l=t.map(function(c,d){for(var u=0,f={},b=0,p=0,w=0,g=r;w<g.length;w++){var A=g[w];if(i[A.index]==null||i[A.index].left===0)if(p===0){var v=void 0;Array.isArray(c)?v=c[A.index-b-u]:v=c[A.dataKey];var j={};typeof v=="object"&&!Array.isArray(v)&&(j=(v==null?void 0:v.styles)||{});var R=gW(e,A,d,a,n,o,j),H=new D6(v,R,e);f[A.dataKey]=H,f[A.index]=H,p=H.colSpan-1,i[A.index]={left:H.rowSpan-1,times:p}}else p--,b++;else i[A.index].left--,p=i[A.index].times,u++}return new P6(c,d,e,f)});return l}function Ik(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=pW(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function pW(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function mW(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new sW(a,t,r)})}function gW(e,t,r,n,a,o,i){var l=zH(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var d=pi({},l.table,l[e],a.styles,c),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},b=e==="body"&&r%2===0?pi({},l.alternateRow,a.alternateRowStyles):{},p=UH(o),w=pi({},p,d,b,f);return pi(w,i)}function yW(e,t,r){var n;r===void 0&&(r={});var a=_6(e,t),o=new Map,i=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(b){var p=t.columns.find(function(w){return w.dataKey===b||w.index===b});p&&!o.has(p.index)&&(o.set(p.index,!0),i.push(p.index),l.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(o.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(d||a>=f)d=!1,i.push(u),l.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:i,columns:l,lastIndex:u-1}}function xW(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=yW(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function bW(e,t){var r=t.settings,n=r.startY,a=r.margin,o={x:a.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+i;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(b,p){return b+p.height},0);l+=d}var u=new Pd(e);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(I6(u),o.y=a.top),t.callWillDrawPageHooks(u,o);var f=pi({},o);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?vW(u,t,f,o):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(b){return _i(u,t,b,o,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(b,p){var w=p===t.body.length-1;J0(u,t,b,w,f,o,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(b){return _i(u,t,b,o,t.columns)})),S6(u,t,f,o),t.callEndPageHooks(u,o),t.finalY=o.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function vW(e,t,r,n){var a=xW(e,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?gf(e,t,r,n,d.columns,!0):Rk(e,t,n,d.columns),wW(e,t,r,n,d.columns),Fy(e,t,n,d.columns)});else for(var i=-1,l=a[0],c=function(){var d=i;if(l){e.applyStyles(e.userStyles);var u=l.columns;i>=0?gf(e,t,r,n,u,!0):Rk(e,t,n,u),d=Tk(e,t,i+1,n,u),Fy(e,t,n,u)}var f=d-i;a.slice(1).forEach(function(b){e.applyStyles(e.userStyles),gf(e,t,r,n,b.columns,!0),Tk(e,t,i+1,n,b.columns,f),Fy(e,t,n,b.columns)}),i=d};i<t.body.length-1;)c()}function Rk(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(o){return _i(e,t,o,r,n)})}function wW(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(o,i){var l=i===t.body.length-1;J0(e,t,o,l,r,n,a)})}function Tk(e,t,r,n,a,o){e.applyStyles(e.userStyles),o=o??t.body.length;var i=Math.min(r+o,t.body.length),l=-1;return t.body.slice(r,i).forEach(function(c,d){var u=r+d===t.body.length-1,f=L6(e,t,u,n);c.canEntireRowFit(f,a)&&(_i(e,t,c,n,a),l=r+d)}),l}function Fy(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(o){return _i(e,t,o,r,n)})}function kW(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),o=Math.floor((t-a)/n);return Math.max(0,o)}function jW(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var o=0,i=0,l=r.columns;i<l.length;i++){var c=l[i],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new D6(d.raw,d.styles,d.section);u=pi(u,d),u.text=[];var f=kW(d,t,n);d.text.length>f&&(u.text=d.text.splice(f,d.text.length));var b=n.scaleFactor(),p=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(b,p),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(b,p),u.contentHeight>o&&(o=u.contentHeight),a[c.index]=u}}var w=new P6(e.raw,-1,e.section,a,!0);w.height=o;for(var g=0,A=r.columns;g<A.length;g++){var c=A[g],u=w.cells[c.index];u&&(u.height=w.height);var d=e.cells[c.index];d&&(d.height=e.height)}return w}function NW(e,t,r,n){var a=e.pageSize().height,o=n.settings.margin,i=o.top+o.bottom,l=a-i;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>l;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function J0(e,t,r,n,a,o,i){var l=L6(e,t,n,o);if(r.canEntireRowFit(l,i))_i(e,t,r,o,i);else if(NW(e,r,l,t)){var c=jW(r,l,t,e);_i(e,t,r,o,i),gf(e,t,a,o,i),J0(e,t,c,n,a,o,i)}else gf(e,t,a,o,i),J0(e,t,r,n,a,o,i)}function _i(e,t,r,n,a){n.x=t.settings.margin.left;for(var o=0,i=a;o<i.length;o++){var l=i[o],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}SW(e,c,n);var u=c.getTextPos();k6(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function SW(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=C6(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),CW(e,t,r,n.lineWidth))}function CW(e,t,r,n){var a,o,i,l;n.top&&(a=r.x,o=r.y,i=r.x+t.width,l=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,o,i,l)),n.bottom&&(a=r.x,o=r.y+t.height,i=r.x+t.width,l=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,o,i,l)),n.left&&(a=r.x,o=r.y,i=r.x,l=r.y+t.height,n.top&&(o-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,o,i,l)),n.right&&(a=r.x+t.width,o=r.y,i=r.x+t.width,l=r.y+t.height,n.top&&(o-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,o,i,l));function c(d,u,f,b,p){e.getDocument().setLineWidth(d),e.getDocument().line(u,f,b,p,"S")}}function L6(e,t,r,n){var a=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function gf(e,t,r,n,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(l){return _i(e,t,l,n,a)}),t.callEndPageHooks(e,n);var i=t.settings.margin;S6(e,t,r,n),I6(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return _i(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function I6(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function _W(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=YH(this,n),o=fW(this,a);return bW(this,o),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){k6(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Pd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Pd.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Pd(this),o=A6(a,t,window,r,!1),i=o.head,l=o.body,c=((n=i[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var By;try{if(typeof window<"u"&&window){var Ok=window,Mk=Ok.jsPDF||((By=Ok.jspdf)===null||By===void 0?void 0:By.jsPDF);Mk&&_W(Mk)}}catch(e){console.error("Could not apply autoTable plugin",e)}async function EW(e,t,r){const n=new $t({orientation:"portrait",unit:"mm",format:"a4"});n.setFont("helvetica"),await AW(n,r),n.setFontSize(16),n.setFont("helvetica","bold"),n.text("DEMONSTRATIVO DE RESULTADOS DO EXERCCIO (DRE)",105,40,{align:"center"}),n.setFontSize(10),n.setFont("helvetica","normal");const a=new Date(t.startDate).toLocaleDateString("pt-BR"),o=new Date(t.endDate).toLocaleDateString("pt-BR");n.text(`Perodo: ${a} a ${o}`,105,46,{align:"center"});let i=55;for(const c of e)i=PW(n,c,i),i>270&&(n.addPage(),i=20);const l=n.getNumberOfPages();for(let c=1;c<=l;c++)n.setPage(c),n.setFontSize(8),n.text(`Pgina ${c} de ${l}`,105,290,{align:"center"});n.save("DRE_Report.pdf")}async function AW(e,t){let r=!1;if(t.logo)try{const n=new Image;await new Promise(a=>{n.onload=()=>{try{n.width>0&&n.height>0&&(e.addImage(n,"PNG",15,10,30,20),r=!0)}catch(o){console.error("Error adding logo to PDF:",o)}a()},n.onerror=()=>{console.error("Error loading company logo"),a()},n.crossOrigin="anonymous",n.src=t.logo})}catch(n){console.error("Error in logo loading process:",n)}e.setFontSize(16),e.setFont("helvetica","bold"),e.text(t.name,r?50:15,15),e.setFontSize(10),e.setFont("helvetica","normal"),e.text(`CNPJ: ${t.cnpj}`,r?50:15,22),e.setDrawColor(200,200,200),e.line(15,30,195,30)}function PW(e,t,r){const n=["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(t.title),a=t.categories.reduce((l,c)=>l+c.total,0);e.setFillColor(n?230:240,n?230:240,n?230:240),e.rect(15,r,180,8,"F"),e.setFontSize(11),e.setFont("helvetica",n?"bold":"normal"),e.text(t.title,20,r+5);const o=$y(a);e.setTextColor(a<0?255:0,0,0),e.text(o,190,r+5,{align:"right"}),e.setTextColor(0,0,0);let i=r+10;if(!n)for(const l of t.categories){e.setFontSize(10),e.setFont("helvetica","normal"),e.text(l.name,25,i+5);const c=$y(l.total);e.setTextColor(l.total<0?255:0,0,0),e.text(c,190,i+5,{align:"right"}),e.setTextColor(0,0,0),i+=8;for(const d of l.subcategories){i>270&&(e.addPage(),i=20),e.setFontSize(9),e.text(d.name,30,i+4);const u=$y(d.total);e.setTextColor(d.total<0?255:0,0,0),e.text(u,190,i+4,{align:"right"}),e.setTextColor(0,0,0),i+=6}i+=2}return i+=5,e.setDrawColor(200,200,200),e.line(15,i-2,195,i-2),i}function $y(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}async function DW(e,t,r){const n=LW(e,t,r),a=await IW(n);RW(a,"DRE_Report.xlsx")}function LW(e,t,r){const n=new Date(t.startDate).toLocaleDateString("pt-BR"),a=new Date(t.endDate).toLocaleDateString("pt-BR"),o=[["DEMONSTRATIVO DE RESULTADOS DO EXERCCIO (DRE)"],[`${r.name} - ${r.cnpj}`],[`Perodo: ${n} a ${a}`],[""]],i=[["Descrio","Valor (R$)"]],l=[];e.forEach(u=>{const f=["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(u.title),b=u.categories.reduce((p,w)=>p+w.total,0);l.push([u.title,b]),f||u.categories.forEach(p=>{l.push([`    ${p.name}`,p.total]),p.subcategories.forEach(w=>{l.push([`        ${w.name}`,w.total])})})});const c=OW(e);return l.push(["RESULTADO LQUIDO DO EXERCCIO",c]),{sheets:[{name:"DRE",data:[...o,...i,...l]}]}}async function IW(e){const t=e.sheets[0].data;let r="";return t.forEach(a=>{const o=a.map(i=>typeof i=="number"?TW(i):typeof i=="string"?`"${i.replace(/"/g,'""')}"`:i);r+=o.join(",")+`\r
`}),new TextEncoder().encode(r).buffer}function RW(e,t){const r=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(n)},0)}function TW(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function OW(e){return e.reduce((t,r)=>{const n=r.categories.reduce((a,o)=>a+o.total,0);return r.title.includes("Receita")||r.title==="Outras Receitas"||r.title.includes("Lucro")||r.title.includes("Resultado")?t+n:r.title.includes("Despesa")||r.title==="Outras Despesas"||r.title.includes("Custo")||r.title.includes("Deduo")||r.title.includes("IR/CSLL")?t-Math.abs(n):t},0)}const el=e=>["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(e),Fk=e=>({COST_OF_SALES:"Custos",OPERATIONAL_REVENUE:"Receita Operacional",OPERATING_EXPENSES:"Despesas Operacionais",FINANCIAL_REVENUE:"Receitas Financeiras",FINANCIAL_EXPENSES:"Despesas Financeiras",GROSS_REVENUE:"Receita Bruta",NET_REVENUE:"Receita Lquida",TAX_EXPENSES:"IR/CSLL",NET_PROFIT:"Resultado Lquido"})[e]||e;function MW(){const[e,t]=L.useState(!1),[r,n]=L.useState(null),[a,o]=L.useState({cnpjId:"",startDate:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[i,l]=L.useState([]),[c,d]=L.useState([]),[u,f]=L.useState([]),[b,p]=L.useState(null),[w,g]=L.useState(!1),A=[{id:"1",name:"Empresa Principal",cnpj:"12.345.678/0001-90"},{id:"2",name:"Filial SP",cnpj:"98.765.432/0001-10"},{id:"3",name:"Filial RJ",cnpj:"45.678.901/0001-23"}],v=async()=>{t(!0),n(null);try{const{data:C,error:y}=await De.functions.invoke("get-dre",{body:{start_date_param:a.startDate,end_date_param:a.endDate}});if(y)throw y;l(C)}catch(C){console.error("Erro ao buscar DRE:",C),n("Erro ao carregar dados do DRE. Por favor, tente novamente.")}finally{t(!1)}},j=async()=>{t(!0);try{const C=i.map(E=>E.title),y=i.flatMap(E=>E.categories.map(q=>q.id));d(C),f(y);const k=a.cnpjId?A.find(E=>E.id===a.cnpjId):{name:"Todas as Empresas",cnpj:"Consolidado"},P={name:(k==null?void 0:k.name)||"Empresa",cnpj:(k==null?void 0:k.cnpj)||"",logo:"https://via.placeholder.com/150x50?text=Logo"};await EW(i,a,P)}catch(C){console.error("Error exporting DRE as PDF:",C),n("Erro ao exportar DRE como PDF. Por favor, tente novamente.")}finally{t(!1)}},R=async()=>{t(!0);try{const C=i.map(E=>E.title),y=i.flatMap(E=>E.categories.map(q=>q.id));d(C),f(y);const k=a.cnpjId?A.find(E=>E.id===a.cnpjId):{name:"Todas as Empresas",cnpj:"Consolidado"},P={name:(k==null?void 0:k.name)||"Empresa",cnpj:(k==null?void 0:k.cnpj)||"",logo:"https://via.placeholder.com/150x50?text=Logo"};await DW(i,a,P)}catch(C){console.error("Error exporting DRE as Excel:",C),n("Erro ao exportar DRE como Excel. Por favor, tente novamente.")}finally{t(!1)}},H=C=>{d(y=>y.includes(C)?y.filter(k=>k!==C):[...y,C])},U=C=>{f(y=>y.includes(C)?y.filter(k=>k!==C):[...y,C])},F=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),x=C=>C.categories.reduce((y,k)=>y+k.total,0),I=C=>C>0?"text-green-600 dark:text-green-400":C<0?"text-red-600 dark:text-red-400 font-bold":"text-secondary-600 dark:text-secondary-400",S=C=>{const y={...C,date:"2024-01-15",competenceDate:"2024-01-01",beneficiary:"Fornecedor XYZ Ltda",bankAccount:"Banco do Brasil - Ag. 1234 / CC 56789-0",cnpj:"Empresa Principal - 12.345.678/0001-90",category:"Despesas Operacionais > Despesas Administrativas > Pessoal",attachments:["https://example.com/attachment1.pdf","https://example.com/attachment2.pdf"]};p(y),g(!0)};return s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"DRE  Demonstrativo de Resultados"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Visualize o desempenho financeiro da empresa"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:j,disabled:e,className:"flex items-center space-x-2 px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(El,{className:"h-5 w-5"}),s.jsx("span",{children:"PDF"})]}),s.jsxs("button",{onClick:R,disabled:e,className:"flex items-center space-x-2 px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(x4,{className:"h-5 w-5"}),s.jsx("span",{children:"Excel"})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:a.cnpjId,onChange:C=>o({...a,cnpjId:C.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",children:[s.jsx("option",{value:"",children:"Todos os CNPJs"}),A.map(C=>s.jsxs("option",{value:C.id,children:[C.name," - ",C.cnpj]},C.id))]}),s.jsx(cn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsxs("div",{className:"flex-1 sm:flex-none sm:w-48",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Incio"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:a.startDate,onChange:C=>o({...a,startDate:C.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10"}),s.jsx(_l,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsxs("div",{className:"flex-1 sm:flex-none sm:w-48",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Fim"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:a.endDate,onChange:C=>o({...a,endDate:C.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10"}),s.jsx(_l,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsx("div",{className:"flex-none self-end",children:s.jsxs("button",{onClick:v,disabled:e,className:"flex items-center space-x-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors h-10",children:[s.jsx(wc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtrar"})]})})]})}),r&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg",children:r}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Demonstrativo de Resultados"}),s.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["Perodo: ",new Date(a.startDate).toLocaleDateString("pt-BR")," a ",new Date(a.endDate).toLocaleDateString("pt-BR")]})]}),e?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary-500"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider w-3/4",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider w-1/4",children:"Valor (R$)"})]})}),s.jsxs("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:[i.map(C=>s.jsxs(Mr.Fragment,{children:[s.jsxs("tr",{className:`
          ${el(C.title)?"bg-secondary-100 dark:bg-secondary-700 font-semibold":"bg-secondary-50 dark:bg-secondary-800 cursor-pointer hover:bg-secondary-100 dark:hover:bg-secondary-700"} transition-colors
        `,onClick:()=>!el(C.title)&&H(C.title),children:[s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center",children:[el(C.title)?null:c.includes(C.title)?s.jsx(g0,{className:"h-5 w-5 text-secondary-500 mr-2"}):s.jsx(Of,{className:"h-5 w-5 text-secondary-500 mr-2"}),Fk(C.title)]})}),s.jsx("td",{className:`px-6 py-3 text-sm ${el(C.title)?"font-bold text-lg":"font-semibold"} text-right`,children:s.jsx("span",{className:I(x(C)),children:F(x(C))})})]}),(c.includes(C.title)||el(C.title))&&C.categories.map(y=>s.jsxs(Mr.Fragment,{children:[!el(C.title)&&s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors cursor-pointer",onClick:()=>U(y.id),children:[s.jsx("td",{className:"px-6 py-3 text-sm text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center pl-6",children:[y.subcategories.length>0&&(u.includes(y.id)?s.jsx(g0,{className:"h-4 w-4 text-secondary-500 mr-2"}):s.jsx(Of,{className:"h-4 w-4 text-secondary-500 mr-2"})),y.name]})}),s.jsx("td",{className:"px-6 py-3 text-sm text-right",children:s.jsx("span",{className:I(y.total??0),children:F(y.total??0)})})]}),!el(C.title)&&u.includes(y.id)&&y.subcategories.map(k=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors cursor-pointer",onClick:()=>S(k),children:[s.jsx("td",{className:"px-6 py-2 text-sm text-secondary-700 dark:text-secondary-300",children:s.jsx("div",{className:"pl-12",children:k.name})}),s.jsx("td",{className:"px-6 py-2 text-sm text-right",children:s.jsx("span",{className:I(k.total??0),children:F(k.total??0)})})]},k.id))]},y.id)),!el(C.title)&&c.includes(C.title)&&s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("td",{className:"px-6 py-2 text-sm font-medium text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"pl-6",children:["Total ",Fk(C.title)]})}),s.jsx("td",{className:"px-6 py-2 text-sm font-medium text-right",children:s.jsx("span",{className:I(x(C)),children:F(x(C))})})]})]},C.title)),s.jsxs("tr",{className:"bg-secondary-100 dark:bg-secondary-700 font-bold",children:[s.jsx("td",{className:"px-6 py-4 text-secondary-900 dark:text-white",children:"RESULTADO LQUIDO DO EXERCCIO"}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:`text-xl ${Bk(i)<0?"text-red-600 dark:text-red-400 font-bold":"text-green-600 dark:text-green-400"}`,children:F(Bk(i))})})]})]})]})})]}),b&&s.jsx(VV,{isOpen:w,onClose:()=>g(!1),entry:b})]})}function Bk(e){return e.reduce((t,r)=>{const n=r.categories.reduce((i,l)=>i+(l.total||0),0),a=["OPERATIONAL_REVENUE","GROSS_REVENUE","FINANCIAL_REVENUE","NET_REVENUE"],o=["COST_OF_SALES","OPERATING_EXPENSES","FINANCIAL_EXPENSES","TAX_EXPENSES"];return a.includes(r.title)?t+n:o.includes(r.title)?t-Math.abs(n):t},0)}window.$=e6;window.jQuery=e6;const FW=[{path:"dashboard",permission:"dashboard"},{path:"payment-center",permission:"payment-center"},{path:"payment-requests",permission:"payment-requests"},{path:"receivables-center",permission:"receivables-center"},{path:"payment-approvals",permission:"payment-approvals"},{path:"bank-statement",permission:"bank-statement"},{path:"bank-reconciliation",permission:"bank-reconciliation"},{path:"credit-card-reconciliation",permission:"credit-card-reconciliation"},{path:"refund-requests",permission:"refund-requests"},{path:"refund-reasons",permission:"refund-reasons"},{path:"refund-responsibles",permission:"refund-responsibles"},{path:"asset-depreciation",permission:"asset-depreciation"},{path:"passives",permission:"passives"},{path:"equity",permission:"equity"},{path:"income-statement",permission:"income-statement"},{path:"cash-flow",permission:"cash-flow"},{path:"accounting-export",permission:"accounting-export"},{path:"cnpjs",permission:"cnpjs"},{path:"users",permission:"users"},{path:"permissions",permission:"permissions"},{path:"financial-categories",permission:"financial-categories"},{path:"payment-methods",permission:"payment-methods"},{path:"bank-accounts",permission:"bank-accounts"},{path:"email-config",permission:"email-config"},{path:"dda-config",permission:"dda-config"},{path:"alerts",permission:"alerts"},{path:"receivables-forecast",permission:"receivables-forecast"}];function BW(){return s.jsx(mD,{children:s.jsx($W,{})})}function $W(){const e=Ev(),[t,r]=L.useState(()=>!!localStorage.getItem("userId")),[n,a]=L.useState(()=>{const w=localStorage.getItem("theme");return w||"light"}),[o,i]=L.useState("");L.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const[l,c]=L.useState("dashboard"),d=w=>{w==="logout"?p():(e(`/${w}`),c(w))},u=()=>{const w=n==="light"?"dark":"light";a(w),localStorage.setItem("theme",w)},f=()=>{const w=JSON.parse(localStorage.getItem("userPermissions")||"[]");console.log(w);const g=FW.find(A=>w.includes(A.permission));return g?g.path:"unauthorized"},b=()=>{r(!0);const w=f();console.log(w),i(w),e(`/${w}`)},p=()=>{r(!1),localStorage.clear(),e("/login")};return s.jsx("div",{className:n==="dark"?"dark":"",children:s.jsxs("div",{className:"min-h-screen bg-secondary-50 dark:bg-secondary-900",children:[t&&s.jsx(YD,{onPageChange:d,currentPage:l}),s.jsxs("div",{className:`relative ${t?"md:ml-16":""}`,children:[t&&s.jsx(XD,{theme:n,onThemeToggle:u}),s.jsx("main",{className:`${t?"pt-16":""}`,children:s.jsxs(HP,{children:[s.jsx(Er,{path:"/",element:t?s.jsx(Ku,{to:`/${f()}`,replace:!0}):s.jsx(Ku,{to:"/login",replace:!0})}),s.jsx(Er,{path:"/login",element:s.jsx(qV,{onLogin:b})}),t?s.jsxs(s.Fragment,{children:[s.jsx(Er,{path:"/unauthorized",element:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"You don't have permission to access any pages. Please contact your administrator."})]})}),s.jsx(Er,{path:"/dashboard",element:s.jsx(un,{requiredPermission:"dashboard",children:s.jsx($V,{})})}),s.jsx(Er,{path:"/users",element:s.jsx(un,{requiredPermission:"users",children:s.jsx(KI,{})})}),s.jsx(Er,{path:"/permissions",element:s.jsx(un,{requiredPermission:"permissions",children:s.jsx(n8,{})})}),s.jsx(Er,{path:"/cnpjs",element:s.jsx(un,{requiredPermission:"cnpjs",children:s.jsx(AI,{})})}),s.jsx(Er,{path:"/payment-methods",element:s.jsx(un,{requiredPermission:"payment-methods",children:s.jsx(f8,{})})}),s.jsx(Er,{path:"/bank-accounts",element:s.jsx(un,{requiredPermission:"bank-accounts",children:s.jsx(g8,{})})}),s.jsx(Er,{path:"/financial-categories",element:s.jsx(un,{requiredPermission:"financial-categories",children:s.jsx(nM,{})})}),s.jsx(Er,{path:"/payment-requests",element:s.jsx(un,{requiredPermission:"payment-requests",children:s.jsx(WF,{})})}),s.jsx(Er,{path:"/payment-center",element:s.jsx(un,{requiredPermission:"payment-center",children:s.jsx(qB,{})})}),s.jsx(Er,{path:"/receivables-center",element:s.jsx(un,{requiredPermission:"receivables-center",children:s.jsx(n$,{})})}),s.jsx(Er,{path:"/payment-approvals",element:s.jsx(un,{requiredPermission:"payment-approvals",children:s.jsx(i$,{})})}),s.jsx(Er,{path:"/receivables-forecast",element:s.jsx(BI,{})}),s.jsx(Er,{path:"/email-config",element:s.jsx(un,{requiredPermission:"email-config",children:s.jsx(h$,{})})}),s.jsx(Er,{path:"/dda-config",element:s.jsx(un,{requiredPermission:"dda-config",children:s.jsx(m$,{})})}),s.jsx(Er,{path:"/refund-requests",element:s.jsx(un,{requiredPermission:"refund-requests",children:s.jsx(N$,{})})}),s.jsx(Er,{path:"/refund-reasons",element:s.jsx(un,{requiredPermission:"refund-reasons",children:s.jsx(x$,{})})}),s.jsx(Er,{path:"/refund-responsibles",element:s.jsx(un,{requiredPermission:"refund-responsibles",children:s.jsx(w$,{})})}),s.jsx(Er,{path:"/asset-depreciation",element:s.jsx(un,{requiredPermission:"asset-depreciation",children:s.jsx(E$,{})})}),s.jsx(Er,{path:"/passives",element:s.jsx(un,{requiredPermission:"passives",children:s.jsx(I$,{})})}),s.jsx(Er,{path:"/bank-statement",element:s.jsx(un,{requiredPermission:"bank-statement",children:s.jsx(OV,{})})}),s.jsx(Er,{path:"/bank-reconciliation",element:s.jsx(un,{requiredPermission:"bank-reconciliation",children:s.jsx(MV,{})})}),s.jsx(Er,{path:"/credit-card-reconciliation",element:s.jsx(un,{requiredPermission:"credit-card-reconciliation",children:s.jsx(BV,{})})}),s.jsx(Er,{path:"/income-statement",element:s.jsx(un,{requiredPermission:"income-statement",children:s.jsx(MW,{})})}),s.jsx(Er,{path:"*",element:s.jsx(Ku,{to:`/${o}`,replace:!0})})]}):s.jsx(Er,{path:"*",element:s.jsx(Ku,{to:"/login",replace:!0})})]})})]})]})})}ZN(document.getElementById("root")).render(s.jsx(L.StrictMode,{children:s.jsx(BW,{})}));export{Xu as _,ms as c,$k as g};

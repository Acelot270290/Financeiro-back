var h_=Object.defineProperty;var p_=(t,e,r)=>e in t?h_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var c2=(t,e,r)=>p_(t,typeof e!="symbol"?e+"":e,r);function m_(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function g_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var $k={exports:{}},G0={},qk={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=Symbol.for("react.element"),y_=Symbol.for("react.portal"),x_=Symbol.for("react.fragment"),b_=Symbol.for("react.strict_mode"),v_=Symbol.for("react.profiler"),w_=Symbol.for("react.provider"),k_=Symbol.for("react.context"),j_=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),S_=Symbol.for("react.memo"),C_=Symbol.for("react.lazy"),d2=Symbol.iterator;function __(t){return t===null||typeof t!="object"?null:(t=d2&&t[d2]||t["@@iterator"],typeof t=="function"?t:null)}var Uk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zk=Object.assign,Vk={};function Wd(t,e,r){this.props=t,this.context=e,this.refs=Vk,this.updater=r||Uk}Wd.prototype.isReactComponent={};Wd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hk(){}Hk.prototype=Wd.prototype;function Ab(t,e,r){this.props=t,this.context=e,this.refs=Vk,this.updater=r||Uk}var Pb=Ab.prototype=new Hk;Pb.constructor=Ab;zk(Pb,Wd.prototype);Pb.isPureReactComponent=!0;var u2=Array.isArray,Wk=Object.prototype.hasOwnProperty,Lb={current:null},Gk={key:!0,ref:!0,__self:!0,__source:!0};function Jk(t,e,r){var n,a={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Wk.call(e,n)&&!Gk.hasOwnProperty(n)&&(a[n]=e[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:Wf,type:t,key:o,ref:i,props:a,_owner:Lb.current}}function E_(t,e){return{$$typeof:Wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Db(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wf}function A_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var f2=/\/+/g;function kg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A_(""+t.key):e.toString(36)}function yp(t,e,r,n,a){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Wf:case y_:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+kg(i,0):n,u2(a)?(r="",t!=null&&(r=t.replace(f2,"$&/")+"/"),yp(a,e,r,"",function(d){return d})):a!=null&&(Db(a)&&(a=E_(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(f2,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",u2(t))for(var c=0;c<t.length;c++){o=t[c];var l=n+kg(o,c);i+=yp(o,e,r,l,a)}else if(l=__(t),typeof l=="function")for(t=l.call(t),c=0;!(o=t.next()).done;)o=o.value,l=n+kg(o,c++),i+=yp(o,e,r,l,a);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Th(t,e,r){if(t==null)return t;var n=[],a=0;return yp(t,n,"","",function(o){return e.call(r,o,a++)}),n}function P_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pa={current:null},xp={transition:null},L_={ReactCurrentDispatcher:Pa,ReactCurrentBatchConfig:xp,ReactCurrentOwner:Lb};function Kk(){throw Error("act(...) is not supported in production builds of React.")}ar.Children={map:Th,forEach:function(t,e,r){Th(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Th(t,function(){e++}),e},toArray:function(t){return Th(t,function(e){return e})||[]},only:function(t){if(!Db(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ar.Component=Wd;ar.Fragment=x_;ar.Profiler=v_;ar.PureComponent=Ab;ar.StrictMode=b_;ar.Suspense=N_;ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_;ar.act=Kk;ar.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zk({},t.props),a=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Lb.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)Wk.call(e,l)&&!Gk.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:Wf,type:t.type,key:a,ref:o,props:n,_owner:i}};ar.createContext=function(t){return t={$$typeof:k_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w_,_context:t},t.Consumer=t};ar.createElement=Jk;ar.createFactory=function(t){var e=Jk.bind(null,t);return e.type=t,e};ar.createRef=function(){return{current:null}};ar.forwardRef=function(t){return{$$typeof:j_,render:t}};ar.isValidElement=Db;ar.lazy=function(t){return{$$typeof:C_,_payload:{_status:-1,_result:t},_init:P_}};ar.memo=function(t,e){return{$$typeof:S_,type:t,compare:e===void 0?null:e}};ar.startTransition=function(t){var e=xp.transition;xp.transition={};try{t()}finally{xp.transition=e}};ar.unstable_act=Kk;ar.useCallback=function(t,e){return Pa.current.useCallback(t,e)};ar.useContext=function(t){return Pa.current.useContext(t)};ar.useDebugValue=function(){};ar.useDeferredValue=function(t){return Pa.current.useDeferredValue(t)};ar.useEffect=function(t,e){return Pa.current.useEffect(t,e)};ar.useId=function(){return Pa.current.useId()};ar.useImperativeHandle=function(t,e,r){return Pa.current.useImperativeHandle(t,e,r)};ar.useInsertionEffect=function(t,e){return Pa.current.useInsertionEffect(t,e)};ar.useLayoutEffect=function(t,e){return Pa.current.useLayoutEffect(t,e)};ar.useMemo=function(t,e){return Pa.current.useMemo(t,e)};ar.useReducer=function(t,e,r){return Pa.current.useReducer(t,e,r)};ar.useRef=function(t){return Pa.current.useRef(t)};ar.useState=function(t){return Pa.current.useState(t)};ar.useSyncExternalStore=function(t,e,r){return Pa.current.useSyncExternalStore(t,e,r)};ar.useTransition=function(){return Pa.current.useTransition()};ar.version="18.3.1";qk.exports=ar;var D=qk.exports;const $r=Bk(D),h2=m_({__proto__:null,default:$r},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=D,I_=Symbol.for("react.element"),R_=Symbol.for("react.fragment"),T_=Object.prototype.hasOwnProperty,O_=D_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M_={key:!0,ref:!0,__self:!0,__source:!0};function Yk(t,e,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)T_.call(e,n)&&!M_.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:I_,type:t,key:o,ref:i,props:a,_owner:O_.current}}G0.Fragment=R_;G0.jsx=Yk;G0.jsxs=Yk;$k.exports=G0;var s=$k.exports,Xk={exports:{}},ys={},Qk={exports:{}},Zk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,ee){var le=V.length;V.push(ee);e:for(;0<le;){var Z=le-1>>>1,M=V[Z];if(0<a(M,ee))V[Z]=ee,V[le]=M,le=Z;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var ee=V[0],le=V.pop();if(le!==ee){V[0]=le;e:for(var Z=0,M=V.length,J=M>>>1;Z<J;){var te=2*(Z+1)-1,de=V[te],ie=te+1,xe=V[ie];if(0>a(de,le))ie<M&&0>a(xe,de)?(V[Z]=xe,V[ie]=le,Z=ie):(V[Z]=de,V[te]=le,Z=te);else if(ie<M&&0>a(xe,le))V[Z]=xe,V[ie]=le,Z=ie;else break e}}return ee}function a(V,ee){var le=V.sortIndex-ee.sortIndex;return le!==0?le:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}var l=[],d=[],u=1,h=null,y=3,m=!1,w=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(V){for(var ee=r(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=V)n(d),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=r(d)}}function W(V){if(v=!1,R(V),!w)if(r(l)!==null)w=!0,q(z);else{var ee=r(d);ee!==null&&G(W,ee.startTime-V)}}function z(V,ee){w=!1,v&&(v=!1,b(I),I=-1),m=!0;var le=y;try{for(R(ee),h=r(l);h!==null&&(!(h.expirationTime>ee)||V&&!x());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,y=h.priorityLevel;var M=Z(h.expirationTime<=ee);ee=t.unstable_now(),typeof M=="function"?h.callback=M:h===r(l)&&n(l),R(ee)}else n(l);h=r(l)}if(h!==null)var J=!0;else{var te=r(d);te!==null&&G(W,te.startTime-ee),J=!1}return J}finally{h=null,y=le,m=!1}}var B=!1,g=null,I=-1,k=5,_=-1;function x(){return!(t.unstable_now()-_<k)}function j(){if(g!==null){var V=t.unstable_now();_=V;var ee=!0;try{ee=g(!0,V)}finally{ee?P():(B=!1,g=null)}}else B=!1}var P;if(typeof S=="function")P=function(){S(j)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,U=E.port2;E.port1.onmessage=j,P=function(){U.postMessage(null)}}else P=function(){A(j,0)};function q(V){g=V,B||(B=!0,P())}function G(V,ee){I=A(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,q(z))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var le=y;y=ee;try{return V()}finally{y=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var le=y;y=V;try{return ee()}finally{y=le}},t.unstable_scheduleCallback=function(V,ee,le){var Z=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Z+le:Z):le=Z,V){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,V={id:u++,callback:ee,priorityLevel:V,startTime:le,expirationTime:M,sortIndex:-1},le>Z?(V.sortIndex=le,e(d,V),r(l)===null&&V===r(d)&&(v?(b(I),I=-1):v=!0,G(W,le-Z))):(V.sortIndex=M,e(l,V),w||m||(w=!0,q(z))),V},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(V){var ee=y;return function(){var le=y;y=ee;try{return V.apply(this,arguments)}finally{y=le}}}})(Zk);Qk.exports=Zk;var F_=Qk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_=D,ms=F_;function it(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ej=new Set,yf={};function yc(t,e){Pd(t,e),Pd(t+"Capture",e)}function Pd(t,e){for(yf[t]=e,t=0;t<e.length;t++)ej.add(e[t])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),By=Object.prototype.hasOwnProperty,$_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p2={},m2={};function q_(t){return By.call(m2,t)?!0:By.call(p2,t)?!1:$_.test(t)?m2[t]=!0:(p2[t]=!0,!1)}function U_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z_(t,e,r,n){if(e===null||typeof e>"u"||U_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function La(t,e,r,n,a,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var ia={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ia[t]=new La(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ia[e]=new La(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ia[t]=new La(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ia[t]=new La(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ia[t]=new La(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ia[t]=new La(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ia[t]=new La(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ia[t]=new La(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ia[t]=new La(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ib=/[\-:]([a-z])/g;function Rb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ib,Rb);ia[e]=new La(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ib,Rb);ia[e]=new La(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ib,Rb);ia[e]=new La(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ia[t]=new La(t,1,!1,t.toLowerCase(),null,!1,!1)});ia.xlinkHref=new La("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ia[t]=new La(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tb(t,e,r,n){var a=ia.hasOwnProperty(e)?ia[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z_(e,r,a,n)&&(r=null),n||a===null?q_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Si=B_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oh=Symbol.for("react.element"),ed=Symbol.for("react.portal"),td=Symbol.for("react.fragment"),Ob=Symbol.for("react.strict_mode"),$y=Symbol.for("react.profiler"),tj=Symbol.for("react.provider"),rj=Symbol.for("react.context"),Mb=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Uy=Symbol.for("react.suspense_list"),Fb=Symbol.for("react.memo"),rl=Symbol.for("react.lazy"),nj=Symbol.for("react.offscreen"),g2=Symbol.iterator;function Pu(t){return t===null||typeof t!="object"?null:(t=g2&&t[g2]||t["@@iterator"],typeof t=="function"?t:null)}var ln=Object.assign,jg;function Hu(t){if(jg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);jg=e&&e[1]||""}return`
`+jg+t}var Ng=!1;function Sg(t,e){if(!t||Ng)return"";Ng=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,c=o.length-1;1<=i&&0<=c&&a[i]!==o[c];)c--;for(;1<=i&&0<=c;i--,c--)if(a[i]!==o[c]){if(i!==1||c!==1)do if(i--,c--,0>c||a[i]!==o[c]){var l=`
`+a[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=c);break}}}finally{Ng=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hu(t):""}function V_(t){switch(t.tag){case 5:return Hu(t.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return t=Sg(t.type,!1),t;case 11:return t=Sg(t.type.render,!1),t;case 1:return t=Sg(t.type,!0),t;default:return""}}function zy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case td:return"Fragment";case ed:return"Portal";case $y:return"Profiler";case Ob:return"StrictMode";case qy:return"Suspense";case Uy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rj:return(t.displayName||"Context")+".Consumer";case tj:return(t._context.displayName||"Context")+".Provider";case Mb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fb:return e=t.displayName||null,e!==null?e:zy(t.type)||"Memo";case rl:e=t._payload,t=t._init;try{return zy(t(e))}catch{}}return null}function H_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zy(e);case 8:return e===Ob?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W_(t){var e=aj(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mh(t){t._valueTracker||(t._valueTracker=W_(t))}function sj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=aj(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Vp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vy(t,e){var r=e.checked;return ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function y2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Sl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oj(t,e){e=e.checked,e!=null&&Tb(t,"checked",e,!1)}function Hy(t,e){oj(t,e);var r=Sl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wy(t,e.type,Sl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wy(t,e,r){(e!=="number"||Vp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Wu=Array.isArray;function hd(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Sl(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Gy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(it(91));return ln({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function b2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(it(92));if(Wu(r)){if(1<r.length)throw Error(it(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Sl(r)}}function ij(t,e){var r=Sl(e.value),n=Sl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function v2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fh,cj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fh=Fh||document.createElement("div"),Fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G_=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(t){G_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qu[e]=Qu[t]})});function dj(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Qu.hasOwnProperty(t)&&Qu[t]?(""+e).trim():e+"px"}function uj(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=dj(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var J_=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ky(t,e){if(e){if(J_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(it(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(it(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(it(61))}if(e.style!=null&&typeof e.style!="object")throw Error(it(62))}}function Yy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=null;function Bb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qy=null,pd=null,md=null;function w2(t){if(t=Kf(t)){if(typeof Qy!="function")throw Error(it(280));var e=t.stateNode;e&&(e=Q0(e),Qy(t.stateNode,t.type,e))}}function fj(t){pd?md?md.push(t):md=[t]:pd=t}function hj(){if(pd){var t=pd,e=md;if(md=pd=null,w2(t),e)for(t=0;t<e.length;t++)w2(e[t])}}function pj(t,e){return t(e)}function mj(){}var Cg=!1;function gj(t,e,r){if(Cg)return t(e,r);Cg=!0;try{return pj(t,e,r)}finally{Cg=!1,(pd!==null||md!==null)&&(mj(),hj())}}function bf(t,e){var r=t.stateNode;if(r===null)return null;var n=Q0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(it(231,e,typeof r));return r}var Zy=!1;if(gi)try{var Lu={};Object.defineProperty(Lu,"passive",{get:function(){Zy=!0}}),window.addEventListener("test",Lu,Lu),window.removeEventListener("test",Lu,Lu)}catch{Zy=!1}function K_(t,e,r,n,a,o,i,c,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var Zu=!1,Hp=null,Wp=!1,ex=null,Y_={onError:function(t){Zu=!0,Hp=t}};function X_(t,e,r,n,a,o,i,c,l){Zu=!1,Hp=null,K_.apply(Y_,arguments)}function Q_(t,e,r,n,a,o,i,c,l){if(X_.apply(this,arguments),Zu){if(Zu){var d=Hp;Zu=!1,Hp=null}else throw Error(it(198));Wp||(Wp=!0,ex=d)}}function xc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function yj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k2(t){if(xc(t)!==t)throw Error(it(188))}function Z_(t){var e=t.alternate;if(!e){if(e=xc(t),e===null)throw Error(it(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return k2(a),t;if(o===n)return k2(a),e;o=o.sibling}throw Error(it(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,c=a.child;c;){if(c===r){i=!0,r=a,n=o;break}if(c===n){i=!0,n=a,r=o;break}c=c.sibling}if(!i){for(c=o.child;c;){if(c===r){i=!0,r=o,n=a;break}if(c===n){i=!0,n=o,r=a;break}c=c.sibling}if(!i)throw Error(it(189))}}if(r.alternate!==n)throw Error(it(190))}if(r.tag!==3)throw Error(it(188));return r.stateNode.current===r?t:e}function xj(t){return t=Z_(t),t!==null?bj(t):null}function bj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bj(t);if(e!==null)return e;t=t.sibling}return null}var vj=ms.unstable_scheduleCallback,j2=ms.unstable_cancelCallback,eE=ms.unstable_shouldYield,tE=ms.unstable_requestPaint,bn=ms.unstable_now,rE=ms.unstable_getCurrentPriorityLevel,$b=ms.unstable_ImmediatePriority,wj=ms.unstable_UserBlockingPriority,Gp=ms.unstable_NormalPriority,nE=ms.unstable_LowPriority,kj=ms.unstable_IdlePriority,J0=null,Bo=null;function aE(t){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(J0,t,void 0,(t.current.flags&128)===128)}catch{}}var io=Math.clz32?Math.clz32:iE,sE=Math.log,oE=Math.LN2;function iE(t){return t>>>=0,t===0?32:31-(sE(t)/oE|0)|0}var Bh=64,$h=4194304;function Gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var c=i&~a;c!==0?n=Gu(c):(o&=i,o!==0&&(n=Gu(o)))}else i=r&~a,i!==0?n=Gu(i):o!==0&&(n=Gu(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,o=e&-e,a>=o||a===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-io(e),a=1<<r,n|=t[r],e&=~a;return n}function lE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cE(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-io(o),c=1<<i,l=a[i];l===-1?(!(c&r)||c&n)&&(a[i]=lE(c,e)):l<=e&&(t.expiredLanes|=c),o&=~c}}function tx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jj(){var t=Bh;return Bh<<=1,!(Bh&4194240)&&(Bh=64),t}function _g(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-io(e),t[e]=r}function dE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-io(r),o=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~o}}function qb(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-io(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Ar=0;function Nj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sj,Ub,Cj,_j,Ej,rx=!1,qh=[],ml=null,gl=null,yl=null,vf=new Map,wf=new Map,ol=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N2(t,e){switch(t){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(e.pointerId)}}function Du(t,e,r,n,a,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},e!==null&&(e=Kf(e),e!==null&&Ub(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function fE(t,e,r,n,a){switch(e){case"focusin":return ml=Du(ml,t,e,r,n,a),!0;case"dragenter":return gl=Du(gl,t,e,r,n,a),!0;case"mouseover":return yl=Du(yl,t,e,r,n,a),!0;case"pointerover":var o=a.pointerId;return vf.set(o,Du(vf.get(o)||null,t,e,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,wf.set(o,Du(wf.get(o)||null,t,e,r,n,a)),!0}return!1}function Aj(t){var e=Zl(t.target);if(e!==null){var r=xc(e);if(r!==null){if(e=r.tag,e===13){if(e=yj(r),e!==null){t.blockedOn=e,Ej(t.priority,function(){Cj(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xy=n,r.target.dispatchEvent(n),Xy=null}else return e=Kf(r),e!==null&&Ub(e),t.blockedOn=r,!1;e.shift()}return!0}function S2(t,e,r){bp(t)&&r.delete(e)}function hE(){rx=!1,ml!==null&&bp(ml)&&(ml=null),gl!==null&&bp(gl)&&(gl=null),yl!==null&&bp(yl)&&(yl=null),vf.forEach(S2),wf.forEach(S2)}function Iu(t,e){t.blockedOn===e&&(t.blockedOn=null,rx||(rx=!0,ms.unstable_scheduleCallback(ms.unstable_NormalPriority,hE)))}function kf(t){function e(a){return Iu(a,t)}if(0<qh.length){Iu(qh[0],t);for(var r=1;r<qh.length;r++){var n=qh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ml!==null&&Iu(ml,t),gl!==null&&Iu(gl,t),yl!==null&&Iu(yl,t),vf.forEach(e),wf.forEach(e),r=0;r<ol.length;r++)n=ol[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ol.length&&(r=ol[0],r.blockedOn===null);)Aj(r),r.blockedOn===null&&ol.shift()}var gd=Si.ReactCurrentBatchConfig,Kp=!0;function pE(t,e,r,n){var a=Ar,o=gd.transition;gd.transition=null;try{Ar=1,zb(t,e,r,n)}finally{Ar=a,gd.transition=o}}function mE(t,e,r,n){var a=Ar,o=gd.transition;gd.transition=null;try{Ar=4,zb(t,e,r,n)}finally{Ar=a,gd.transition=o}}function zb(t,e,r,n){if(Kp){var a=nx(t,e,r,n);if(a===null)Mg(t,e,n,Yp,r),N2(t,n);else if(fE(a,t,e,r,n))n.stopPropagation();else if(N2(t,n),e&4&&-1<uE.indexOf(t)){for(;a!==null;){var o=Kf(a);if(o!==null&&Sj(o),o=nx(t,e,r,n),o===null&&Mg(t,e,n,Yp,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Mg(t,e,n,null,r)}}var Yp=null;function nx(t,e,r,n){if(Yp=null,t=Bb(n),t=Zl(t),t!==null)if(e=xc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=yj(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yp=t,null}function Pj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rE()){case $b:return 1;case wj:return 4;case Gp:case nE:return 16;case kj:return 536870912;default:return 16}default:return 16}}var cl=null,Vb=null,vp=null;function Lj(){if(vp)return vp;var t,e=Vb,r=e.length,n,a="value"in cl?cl.value:cl.textContent,o=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[o-n];n++);return vp=a.slice(t,1<n?1-n:void 0)}function wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uh(){return!0}function C2(){return!1}function xs(t){function e(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uh:C2,this.isPropagationStopped=C2,this}return ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uh)},persist:function(){},isPersistent:Uh}),e}var Gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hb=xs(Gd),Jf=ln({},Gd,{view:0,detail:0}),gE=xs(Jf),Eg,Ag,Ru,K0=ln({},Jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ru&&(Ru&&t.type==="mousemove"?(Eg=t.screenX-Ru.screenX,Ag=t.screenY-Ru.screenY):Ag=Eg=0,Ru=t),Eg)},movementY:function(t){return"movementY"in t?t.movementY:Ag}}),_2=xs(K0),yE=ln({},K0,{dataTransfer:0}),xE=xs(yE),bE=ln({},Jf,{relatedTarget:0}),Pg=xs(bE),vE=ln({},Gd,{animationName:0,elapsedTime:0,pseudoElement:0}),wE=xs(vE),kE=ln({},Gd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jE=xs(kE),NE=ln({},Gd,{data:0}),E2=xs(NE),SE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_E={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_E[t])?!!e[t]:!1}function Wb(){return EE}var AE=ln({},Jf,{key:function(t){if(t.key){var e=SE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wb,charCode:function(t){return t.type==="keypress"?wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PE=xs(AE),LE=ln({},K0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A2=xs(LE),DE=ln({},Jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wb}),IE=xs(DE),RE=ln({},Gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),TE=xs(RE),OE=ln({},K0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ME=xs(OE),FE=[9,13,27,32],Gb=gi&&"CompositionEvent"in window,ef=null;gi&&"documentMode"in document&&(ef=document.documentMode);var BE=gi&&"TextEvent"in window&&!ef,Dj=gi&&(!Gb||ef&&8<ef&&11>=ef),P2=" ",L2=!1;function Ij(t,e){switch(t){case"keyup":return FE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rd=!1;function $E(t,e){switch(t){case"compositionend":return Rj(e);case"keypress":return e.which!==32?null:(L2=!0,P2);case"textInput":return t=e.data,t===P2&&L2?null:t;default:return null}}function qE(t,e){if(rd)return t==="compositionend"||!Gb&&Ij(t,e)?(t=Lj(),vp=Vb=cl=null,rd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dj&&e.locale!=="ko"?null:e.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UE[t.type]:e==="textarea"}function Tj(t,e,r,n){fj(n),e=Xp(e,"onChange"),0<e.length&&(r=new Hb("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var tf=null,jf=null;function zE(t){Wj(t,0)}function Y0(t){var e=sd(t);if(sj(e))return t}function VE(t,e){if(t==="change")return e}var Oj=!1;if(gi){var Lg;if(gi){var Dg="oninput"in document;if(!Dg){var I2=document.createElement("div");I2.setAttribute("oninput","return;"),Dg=typeof I2.oninput=="function"}Lg=Dg}else Lg=!1;Oj=Lg&&(!document.documentMode||9<document.documentMode)}function R2(){tf&&(tf.detachEvent("onpropertychange",Mj),jf=tf=null)}function Mj(t){if(t.propertyName==="value"&&Y0(jf)){var e=[];Tj(e,jf,t,Bb(t)),gj(zE,e)}}function HE(t,e,r){t==="focusin"?(R2(),tf=e,jf=r,tf.attachEvent("onpropertychange",Mj)):t==="focusout"&&R2()}function WE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Y0(jf)}function GE(t,e){if(t==="click")return Y0(e)}function JE(t,e){if(t==="input"||t==="change")return Y0(e)}function KE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var co=typeof Object.is=="function"?Object.is:KE;function Nf(t,e){if(co(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!By.call(e,a)||!co(t[a],e[a]))return!1}return!0}function T2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O2(t,e){var r=T2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=T2(r)}}function Fj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bj(){for(var t=window,e=Vp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Vp(t.document)}return e}function Jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YE(t){var e=Bj(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Fj(r.ownerDocument.documentElement,r)){if(n!==null&&Jb(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!t.extend&&o>n&&(a=n,n=o,o=a),a=O2(r,o);var i=O2(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XE=gi&&"documentMode"in document&&11>=document.documentMode,nd=null,ax=null,rf=null,sx=!1;function M2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sx||nd==null||nd!==Vp(n)||(n=nd,"selectionStart"in n&&Jb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rf&&Nf(rf,n)||(rf=n,n=Xp(ax,"onSelect"),0<n.length&&(e=new Hb("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nd)))}function zh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ad={animationend:zh("Animation","AnimationEnd"),animationiteration:zh("Animation","AnimationIteration"),animationstart:zh("Animation","AnimationStart"),transitionend:zh("Transition","TransitionEnd")},Ig={},$j={};gi&&($j=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function X0(t){if(Ig[t])return Ig[t];if(!ad[t])return t;var e=ad[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in $j)return Ig[t]=e[r];return t}var qj=X0("animationend"),Uj=X0("animationiteration"),zj=X0("animationstart"),Vj=X0("transitionend"),Hj=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pl(t,e){Hj.set(t,e),yc(e,[t])}for(var Rg=0;Rg<F2.length;Rg++){var Tg=F2[Rg],QE=Tg.toLowerCase(),ZE=Tg[0].toUpperCase()+Tg.slice(1);Pl(QE,"on"+ZE)}Pl(qj,"onAnimationEnd");Pl(Uj,"onAnimationIteration");Pl(zj,"onAnimationStart");Pl("dblclick","onDoubleClick");Pl("focusin","onFocus");Pl("focusout","onBlur");Pl(Vj,"onTransitionEnd");Pd("onMouseEnter",["mouseout","mouseover"]);Pd("onMouseLeave",["mouseout","mouseover"]);Pd("onPointerEnter",["pointerout","pointerover"]);Pd("onPointerLeave",["pointerout","pointerover"]);yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ju));function B2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Q_(n,e,void 0,t),t.currentTarget=null}function Wj(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var c=n[i],l=c.instance,d=c.currentTarget;if(c=c.listener,l!==o&&a.isPropagationStopped())break e;B2(a,c,d),o=l}else for(i=0;i<n.length;i++){if(c=n[i],l=c.instance,d=c.currentTarget,c=c.listener,l!==o&&a.isPropagationStopped())break e;B2(a,c,d),o=l}}}if(Wp)throw t=ex,Wp=!1,ex=null,t}function Jr(t,e){var r=e[dx];r===void 0&&(r=e[dx]=new Set);var n=t+"__bubble";r.has(n)||(Gj(e,t,2,!1),r.add(n))}function Og(t,e,r){var n=0;e&&(n|=4),Gj(r,t,n,e)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[Vh]){t[Vh]=!0,ej.forEach(function(r){r!=="selectionchange"&&(eA.has(r)||Og(r,!1,t),Og(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vh]||(e[Vh]=!0,Og("selectionchange",!1,e))}}function Gj(t,e,r,n){switch(Pj(e)){case 1:var a=pE;break;case 4:a=mE;break;default:a=zb}r=a.bind(null,e,r,t),a=void 0,!Zy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Mg(t,e,r,n,a){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;c!==null;){if(i=Zl(c),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}c=c.parentNode}}n=n.return}gj(function(){var d=o,u=Bb(r),h=[];e:{var y=Hj.get(t);if(y!==void 0){var m=Hb,w=t;switch(t){case"keypress":if(wp(r)===0)break e;case"keydown":case"keyup":m=PE;break;case"focusin":w="focus",m=Pg;break;case"focusout":w="blur",m=Pg;break;case"beforeblur":case"afterblur":m=Pg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IE;break;case qj:case Uj:case zj:m=wE;break;case Vj:m=TE;break;case"scroll":m=gE;break;case"wheel":m=ME;break;case"copy":case"cut":case"paste":m=jE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=A2}var v=(e&4)!==0,A=!v&&t==="scroll",b=v?y!==null?y+"Capture":null:y;v=[];for(var S=d,R;S!==null;){R=S;var W=R.stateNode;if(R.tag===5&&W!==null&&(R=W,b!==null&&(W=bf(S,b),W!=null&&v.push(Cf(S,W,R)))),A)break;S=S.return}0<v.length&&(y=new m(y,w,null,r,u),h.push({event:y,listeners:v}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",y&&r!==Xy&&(w=r.relatedTarget||r.fromElement)&&(Zl(w)||w[yi]))break e;if((m||y)&&(y=u.window===u?u:(y=u.ownerDocument)?y.defaultView||y.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=d,w=w?Zl(w):null,w!==null&&(A=xc(w),w!==A||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=d),m!==w)){if(v=_2,W="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(v=A2,W="onPointerLeave",b="onPointerEnter",S="pointer"),A=m==null?y:sd(m),R=w==null?y:sd(w),y=new v(W,S+"leave",m,r,u),y.target=A,y.relatedTarget=R,W=null,Zl(u)===d&&(v=new v(b,S+"enter",w,r,u),v.target=R,v.relatedTarget=A,W=v),A=W,m&&w)t:{for(v=m,b=w,S=0,R=v;R;R=Vc(R))S++;for(R=0,W=b;W;W=Vc(W))R++;for(;0<S-R;)v=Vc(v),S--;for(;0<R-S;)b=Vc(b),R--;for(;S--;){if(v===b||b!==null&&v===b.alternate)break t;v=Vc(v),b=Vc(b)}v=null}else v=null;m!==null&&$2(h,y,m,v,!1),w!==null&&A!==null&&$2(h,A,w,v,!0)}}e:{if(y=d?sd(d):window,m=y.nodeName&&y.nodeName.toLowerCase(),m==="select"||m==="input"&&y.type==="file")var z=VE;else if(D2(y))if(Oj)z=JE;else{z=WE;var B=HE}else(m=y.nodeName)&&m.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(z=GE);if(z&&(z=z(t,d))){Tj(h,z,r,u);break e}B&&B(t,y,d),t==="focusout"&&(B=y._wrapperState)&&B.controlled&&y.type==="number"&&Wy(y,"number",y.value)}switch(B=d?sd(d):window,t){case"focusin":(D2(B)||B.contentEditable==="true")&&(nd=B,ax=d,rf=null);break;case"focusout":rf=ax=nd=null;break;case"mousedown":sx=!0;break;case"contextmenu":case"mouseup":case"dragend":sx=!1,M2(h,r,u);break;case"selectionchange":if(XE)break;case"keydown":case"keyup":M2(h,r,u)}var g;if(Gb)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else rd?Ij(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(Dj&&r.locale!=="ko"&&(rd||I!=="onCompositionStart"?I==="onCompositionEnd"&&rd&&(g=Lj()):(cl=u,Vb="value"in cl?cl.value:cl.textContent,rd=!0)),B=Xp(d,I),0<B.length&&(I=new E2(I,t,null,r,u),h.push({event:I,listeners:B}),g?I.data=g:(g=Rj(r),g!==null&&(I.data=g)))),(g=BE?$E(t,r):qE(t,r))&&(d=Xp(d,"onBeforeInput"),0<d.length&&(u=new E2("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=g))}Wj(h,e)})}function Cf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Xp(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=bf(t,r),o!=null&&n.unshift(Cf(t,o,a)),o=bf(t,e),o!=null&&n.push(Cf(t,o,a))),t=t.return}return n}function Vc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $2(t,e,r,n,a){for(var o=e._reactName,i=[];r!==null&&r!==n;){var c=r,l=c.alternate,d=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&d!==null&&(c=d,a?(l=bf(r,o),l!=null&&i.unshift(Cf(r,l,c))):a||(l=bf(r,o),l!=null&&i.push(Cf(r,l,c)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var tA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function q2(t){return(typeof t=="string"?t:""+t).replace(tA,`
`).replace(rA,"")}function Hh(t,e,r){if(e=q2(e),q2(t)!==e&&r)throw Error(it(425))}function Qp(){}var ox=null,ix=null;function lx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cx=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,U2=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof U2<"u"?function(t){return U2.resolve(null).then(t).catch(sA)}:cx;function sA(t){setTimeout(function(){throw t})}function Fg(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),kf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);kf(e)}function xl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jd=Math.random().toString(36).slice(2),Mo="__reactFiber$"+Jd,_f="__reactProps$"+Jd,yi="__reactContainer$"+Jd,dx="__reactEvents$"+Jd,oA="__reactListeners$"+Jd,iA="__reactHandles$"+Jd;function Zl(t){var e=t[Mo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yi]||r[Mo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=z2(t);t!==null;){if(r=t[Mo])return r;t=z2(t)}return e}t=r,r=t.parentNode}return null}function Kf(t){return t=t[Mo]||t[yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(it(33))}function Q0(t){return t[_f]||null}var ux=[],od=-1;function Ll(t){return{current:t}}function Yr(t){0>od||(t.current=ux[od],ux[od]=null,od--)}function Hr(t,e){od++,ux[od]=t.current,t.current=e}var Cl={},va=Ll(Cl),Va=Ll(!1),cc=Cl;function Ld(t,e){var r=t.type.contextTypes;if(!r)return Cl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Ha(t){return t=t.childContextTypes,t!=null}function Zp(){Yr(Va),Yr(va)}function V2(t,e,r){if(va.current!==Cl)throw Error(it(168));Hr(va,e),Hr(Va,r)}function Jj(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(it(108,H_(t)||"Unknown",a));return ln({},r,n)}function e0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cl,cc=va.current,Hr(va,t),Hr(Va,Va.current),!0}function H2(t,e,r){var n=t.stateNode;if(!n)throw Error(it(169));r?(t=Jj(t,e,cc),n.__reactInternalMemoizedMergedChildContext=t,Yr(Va),Yr(va),Hr(va,t)):Yr(Va),Hr(Va,r)}var li=null,Z0=!1,Bg=!1;function Kj(t){li===null?li=[t]:li.push(t)}function lA(t){Z0=!0,Kj(t)}function Dl(){if(!Bg&&li!==null){Bg=!0;var t=0,e=Ar;try{var r=li;for(Ar=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}li=null,Z0=!1}catch(a){throw li!==null&&(li=li.slice(t+1)),vj($b,Dl),a}finally{Ar=e,Bg=!1}}return null}var id=[],ld=0,t0=null,r0=0,Rs=[],Ts=0,dc=null,ci=1,di="";function Gl(t,e){id[ld++]=r0,id[ld++]=t0,t0=t,r0=e}function Yj(t,e,r){Rs[Ts++]=ci,Rs[Ts++]=di,Rs[Ts++]=dc,dc=t;var n=ci;t=di;var a=32-io(n)-1;n&=~(1<<a),r+=1;var o=32-io(e)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ci=1<<32-io(e)+a|r<<a|n,di=o+t}else ci=1<<o|r<<a|n,di=t}function Kb(t){t.return!==null&&(Gl(t,1),Yj(t,1,0))}function Yb(t){for(;t===t0;)t0=id[--ld],id[ld]=null,r0=id[--ld],id[ld]=null;for(;t===dc;)dc=Rs[--Ts],Rs[Ts]=null,di=Rs[--Ts],Rs[Ts]=null,ci=Rs[--Ts],Rs[Ts]=null}var fs=null,ds=null,en=!1,oo=null;function Xj(t,e){var r=Os(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function W2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fs=t,ds=xl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fs=t,ds=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=dc!==null?{id:ci,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Os(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fs=t,ds=null,!0):!1;default:return!1}}function fx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hx(t){if(en){var e=ds;if(e){var r=e;if(!W2(t,e)){if(fx(t))throw Error(it(418));e=xl(r.nextSibling);var n=fs;e&&W2(t,e)?Xj(n,r):(t.flags=t.flags&-4097|2,en=!1,fs=t)}}else{if(fx(t))throw Error(it(418));t.flags=t.flags&-4097|2,en=!1,fs=t}}}function G2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fs=t}function Wh(t){if(t!==fs)return!1;if(!en)return G2(t),en=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lx(t.type,t.memoizedProps)),e&&(e=ds)){if(fx(t))throw Qj(),Error(it(418));for(;e;)Xj(t,e),e=xl(e.nextSibling)}if(G2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(it(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ds=xl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ds=null}}else ds=fs?xl(t.stateNode.nextSibling):null;return!0}function Qj(){for(var t=ds;t;)t=xl(t.nextSibling)}function Dd(){ds=fs=null,en=!1}function Xb(t){oo===null?oo=[t]:oo.push(t)}var cA=Si.ReactCurrentBatchConfig;function Tu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(it(309));var n=r.stateNode}if(!n)throw Error(it(147,t));var a=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var c=a.refs;i===null?delete c[o]:c[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(it(284));if(!r._owner)throw Error(it(290,t))}return t}function Gh(t,e){throw t=Object.prototype.toString.call(e),Error(it(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J2(t){var e=t._init;return e(t._payload)}function Zj(t){function e(b,S){if(t){var R=b.deletions;R===null?(b.deletions=[S],b.flags|=16):R.push(S)}}function r(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function n(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function a(b,S){return b=kl(b,S),b.index=0,b.sibling=null,b}function o(b,S,R){return b.index=R,t?(R=b.alternate,R!==null?(R=R.index,R<S?(b.flags|=2,S):R):(b.flags|=2,S)):(b.flags|=1048576,S)}function i(b){return t&&b.alternate===null&&(b.flags|=2),b}function c(b,S,R,W){return S===null||S.tag!==6?(S=Wg(R,b.mode,W),S.return=b,S):(S=a(S,R),S.return=b,S)}function l(b,S,R,W){var z=R.type;return z===td?u(b,S,R.props.children,W,R.key):S!==null&&(S.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===rl&&J2(z)===S.type)?(W=a(S,R.props),W.ref=Tu(b,S,R),W.return=b,W):(W=Ep(R.type,R.key,R.props,null,b.mode,W),W.ref=Tu(b,S,R),W.return=b,W)}function d(b,S,R,W){return S===null||S.tag!==4||S.stateNode.containerInfo!==R.containerInfo||S.stateNode.implementation!==R.implementation?(S=Gg(R,b.mode,W),S.return=b,S):(S=a(S,R.children||[]),S.return=b,S)}function u(b,S,R,W,z){return S===null||S.tag!==7?(S=sc(R,b.mode,W,z),S.return=b,S):(S=a(S,R),S.return=b,S)}function h(b,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Wg(""+S,b.mode,R),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Oh:return R=Ep(S.type,S.key,S.props,null,b.mode,R),R.ref=Tu(b,null,S),R.return=b,R;case ed:return S=Gg(S,b.mode,R),S.return=b,S;case rl:var W=S._init;return h(b,W(S._payload),R)}if(Wu(S)||Pu(S))return S=sc(S,b.mode,R,null),S.return=b,S;Gh(b,S)}return null}function y(b,S,R,W){var z=S!==null?S.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return z!==null?null:c(b,S,""+R,W);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Oh:return R.key===z?l(b,S,R,W):null;case ed:return R.key===z?d(b,S,R,W):null;case rl:return z=R._init,y(b,S,z(R._payload),W)}if(Wu(R)||Pu(R))return z!==null?null:u(b,S,R,W,null);Gh(b,R)}return null}function m(b,S,R,W,z){if(typeof W=="string"&&W!==""||typeof W=="number")return b=b.get(R)||null,c(S,b,""+W,z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Oh:return b=b.get(W.key===null?R:W.key)||null,l(S,b,W,z);case ed:return b=b.get(W.key===null?R:W.key)||null,d(S,b,W,z);case rl:var B=W._init;return m(b,S,R,B(W._payload),z)}if(Wu(W)||Pu(W))return b=b.get(R)||null,u(S,b,W,z,null);Gh(S,W)}return null}function w(b,S,R,W){for(var z=null,B=null,g=S,I=S=0,k=null;g!==null&&I<R.length;I++){g.index>I?(k=g,g=null):k=g.sibling;var _=y(b,g,R[I],W);if(_===null){g===null&&(g=k);break}t&&g&&_.alternate===null&&e(b,g),S=o(_,S,I),B===null?z=_:B.sibling=_,B=_,g=k}if(I===R.length)return r(b,g),en&&Gl(b,I),z;if(g===null){for(;I<R.length;I++)g=h(b,R[I],W),g!==null&&(S=o(g,S,I),B===null?z=g:B.sibling=g,B=g);return en&&Gl(b,I),z}for(g=n(b,g);I<R.length;I++)k=m(g,b,I,R[I],W),k!==null&&(t&&k.alternate!==null&&g.delete(k.key===null?I:k.key),S=o(k,S,I),B===null?z=k:B.sibling=k,B=k);return t&&g.forEach(function(x){return e(b,x)}),en&&Gl(b,I),z}function v(b,S,R,W){var z=Pu(R);if(typeof z!="function")throw Error(it(150));if(R=z.call(R),R==null)throw Error(it(151));for(var B=z=null,g=S,I=S=0,k=null,_=R.next();g!==null&&!_.done;I++,_=R.next()){g.index>I?(k=g,g=null):k=g.sibling;var x=y(b,g,_.value,W);if(x===null){g===null&&(g=k);break}t&&g&&x.alternate===null&&e(b,g),S=o(x,S,I),B===null?z=x:B.sibling=x,B=x,g=k}if(_.done)return r(b,g),en&&Gl(b,I),z;if(g===null){for(;!_.done;I++,_=R.next())_=h(b,_.value,W),_!==null&&(S=o(_,S,I),B===null?z=_:B.sibling=_,B=_);return en&&Gl(b,I),z}for(g=n(b,g);!_.done;I++,_=R.next())_=m(g,b,I,_.value,W),_!==null&&(t&&_.alternate!==null&&g.delete(_.key===null?I:_.key),S=o(_,S,I),B===null?z=_:B.sibling=_,B=_);return t&&g.forEach(function(j){return e(b,j)}),en&&Gl(b,I),z}function A(b,S,R,W){if(typeof R=="object"&&R!==null&&R.type===td&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Oh:e:{for(var z=R.key,B=S;B!==null;){if(B.key===z){if(z=R.type,z===td){if(B.tag===7){r(b,B.sibling),S=a(B,R.props.children),S.return=b,b=S;break e}}else if(B.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===rl&&J2(z)===B.type){r(b,B.sibling),S=a(B,R.props),S.ref=Tu(b,B,R),S.return=b,b=S;break e}r(b,B);break}else e(b,B);B=B.sibling}R.type===td?(S=sc(R.props.children,b.mode,W,R.key),S.return=b,b=S):(W=Ep(R.type,R.key,R.props,null,b.mode,W),W.ref=Tu(b,S,R),W.return=b,b=W)}return i(b);case ed:e:{for(B=R.key;S!==null;){if(S.key===B)if(S.tag===4&&S.stateNode.containerInfo===R.containerInfo&&S.stateNode.implementation===R.implementation){r(b,S.sibling),S=a(S,R.children||[]),S.return=b,b=S;break e}else{r(b,S);break}else e(b,S);S=S.sibling}S=Gg(R,b.mode,W),S.return=b,b=S}return i(b);case rl:return B=R._init,A(b,S,B(R._payload),W)}if(Wu(R))return w(b,S,R,W);if(Pu(R))return v(b,S,R,W);Gh(b,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,S!==null&&S.tag===6?(r(b,S.sibling),S=a(S,R),S.return=b,b=S):(r(b,S),S=Wg(R,b.mode,W),S.return=b,b=S),i(b)):r(b,S)}return A}var Id=Zj(!0),eN=Zj(!1),n0=Ll(null),a0=null,cd=null,Qb=null;function Zb(){Qb=cd=a0=null}function ev(t){var e=n0.current;Yr(n0),t._currentValue=e}function px(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yd(t,e){a0=t,Qb=cd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(za=!0),t.firstContext=null)}function Fs(t){var e=t._currentValue;if(Qb!==t)if(t={context:t,memoizedValue:e,next:null},cd===null){if(a0===null)throw Error(it(308));cd=t,a0.dependencies={lanes:0,firstContext:t}}else cd=cd.next=t;return e}var ec=null;function tv(t){ec===null?ec=[t]:ec.push(t)}function tN(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,tv(e)):(r.next=a.next,a.next=r),e.interleaved=r,xi(t,n)}function xi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var nl=!1;function rv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pr&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,xi(t,r)}return a=n.interleaved,a===null?(e.next=e,tv(n)):(e.next=a.next,a.next=e),n.interleaved=e,xi(t,r)}function kp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qb(t,r)}}function K2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=e:o=o.next=e}else a=o=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function s0(t,e,r,n){var a=t.updateQueue;nl=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var l=c,d=l.next;l.next=null,i===null?o=d:i.next=d,i=l;var u=t.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==i&&(c===null?u.firstBaseUpdate=d:c.next=d,u.lastBaseUpdate=l))}if(o!==null){var h=a.baseState;i=0,u=d=l=null,c=o;do{var y=c.lane,m=c.eventTime;if((n&y)===y){u!==null&&(u=u.next={eventTime:m,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=t,v=c;switch(y=e,m=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(m,h,y);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,y=typeof w=="function"?w.call(m,h,y):w,y==null)break e;h=ln({},h,y);break e;case 2:nl=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=a.effects,y===null?a.effects=[c]:y.push(c))}else m={eventTime:m,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(d=u=m,l=h):u=u.next=m,i|=y;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;y=c,c=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);if(u===null&&(l=h),a.baseState=l,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else o===null&&(a.shared.lanes=0);fc|=i,t.lanes=i,t.memoizedState=h}}function Y2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(it(191,a));a.call(n)}}}var Yf={},$o=Ll(Yf),Ef=Ll(Yf),Af=Ll(Yf);function tc(t){if(t===Yf)throw Error(it(174));return t}function nv(t,e){switch(Hr(Af,e),Hr(Ef,t),Hr($o,Yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jy(e,t)}Yr($o),Hr($o,e)}function Rd(){Yr($o),Yr(Ef),Yr(Af)}function nN(t){tc(Af.current);var e=tc($o.current),r=Jy(e,t.type);e!==r&&(Hr(Ef,t),Hr($o,r))}function av(t){Ef.current===t&&(Yr($o),Yr(Ef))}var sn=Ll(0);function o0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $g=[];function sv(){for(var t=0;t<$g.length;t++)$g[t]._workInProgressVersionPrimary=null;$g.length=0}var jp=Si.ReactCurrentDispatcher,qg=Si.ReactCurrentBatchConfig,uc=0,on=null,$n=null,Kn=null,i0=!1,nf=!1,Pf=0,dA=0;function da(){throw Error(it(321))}function ov(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!co(t[r],e[r]))return!1;return!0}function iv(t,e,r,n,a,o){if(uc=o,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jp.current=t===null||t.memoizedState===null?pA:mA,t=r(n,a),nf){o=0;do{if(nf=!1,Pf=0,25<=o)throw Error(it(301));o+=1,Kn=$n=null,e.updateQueue=null,jp.current=gA,t=r(n,a)}while(nf)}if(jp.current=l0,e=$n!==null&&$n.next!==null,uc=0,Kn=$n=on=null,i0=!1,e)throw Error(it(300));return t}function lv(){var t=Pf!==0;return Pf=0,t}function Io(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?on.memoizedState=Kn=t:Kn=Kn.next=t,Kn}function Bs(){if($n===null){var t=on.alternate;t=t!==null?t.memoizedState:null}else t=$n.next;var e=Kn===null?on.memoizedState:Kn.next;if(e!==null)Kn=e,$n=t;else{if(t===null)throw Error(it(310));$n=t,t={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Kn===null?on.memoizedState=Kn=t:Kn=Kn.next=t}return Kn}function Lf(t,e){return typeof e=="function"?e(t):e}function Ug(t){var e=Bs(),r=e.queue;if(r===null)throw Error(it(311));r.lastRenderedReducer=t;var n=$n,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var c=i=null,l=null,d=o;do{var u=d.lane;if((uc&u)===u)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(c=l=h,i=n):l=l.next=h,on.lanes|=u,fc|=u}d=d.next}while(d!==null&&d!==o);l===null?i=n:l.next=c,co(n,e.memoizedState)||(za=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do o=a.lane,on.lanes|=o,fc|=o,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zg(t){var e=Bs(),r=e.queue;if(r===null)throw Error(it(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,o=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=t(o,i.action),i=i.next;while(i!==a);co(o,e.memoizedState)||(za=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function aN(){}function sN(t,e){var r=on,n=Bs(),a=e(),o=!co(n.memoizedState,a);if(o&&(n.memoizedState=a,za=!0),n=n.queue,cv(lN.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Kn!==null&&Kn.memoizedState.tag&1){if(r.flags|=2048,Df(9,iN.bind(null,r,n,a,e),void 0,null),Qn===null)throw Error(it(349));uc&30||oN(r,e,a)}return a}function oN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function iN(t,e,r,n){e.value=r,e.getSnapshot=n,cN(e)&&dN(t)}function lN(t,e,r){return r(function(){cN(e)&&dN(t)})}function cN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!co(t,r)}catch{return!0}}function dN(t){var e=xi(t,1);e!==null&&lo(e,t,1,-1)}function X2(t){var e=Io();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:t},e.queue=t,t=t.dispatch=hA.bind(null,on,t),[e.memoizedState,t]}function Df(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function uN(){return Bs().memoizedState}function Np(t,e,r,n){var a=Io();on.flags|=t,a.memoizedState=Df(1|e,r,void 0,n===void 0?null:n)}function em(t,e,r,n){var a=Bs();n=n===void 0?null:n;var o=void 0;if($n!==null){var i=$n.memoizedState;if(o=i.destroy,n!==null&&ov(n,i.deps)){a.memoizedState=Df(e,r,o,n);return}}on.flags|=t,a.memoizedState=Df(1|e,r,o,n)}function Q2(t,e){return Np(8390656,8,t,e)}function cv(t,e){return em(2048,8,t,e)}function fN(t,e){return em(4,2,t,e)}function hN(t,e){return em(4,4,t,e)}function pN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mN(t,e,r){return r=r!=null?r.concat([t]):null,em(4,4,pN.bind(null,e,t),r)}function dv(){}function gN(t,e){var r=Bs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ov(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function yN(t,e){var r=Bs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ov(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function xN(t,e,r){return uc&21?(co(r,e)||(r=jj(),on.lanes|=r,fc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,za=!0),t.memoizedState=r)}function uA(t,e){var r=Ar;Ar=r!==0&&4>r?r:4,t(!0);var n=qg.transition;qg.transition={};try{t(!1),e()}finally{Ar=r,qg.transition=n}}function bN(){return Bs().memoizedState}function fA(t,e,r){var n=wl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},vN(t))wN(e,r);else if(r=tN(t,e,r,n),r!==null){var a=Ea();lo(r,t,n,a),kN(r,e,n)}}function hA(t,e,r){var n=wl(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(vN(t))wN(e,a);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,c=o(i,r);if(a.hasEagerState=!0,a.eagerState=c,co(c,i)){var l=e.interleaved;l===null?(a.next=a,tv(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=tN(t,e,a,n),r!==null&&(a=Ea(),lo(r,t,n,a),kN(r,e,n))}}function vN(t){var e=t.alternate;return t===on||e!==null&&e===on}function wN(t,e){nf=i0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function kN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qb(t,r)}}var l0={readContext:Fs,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},pA={readContext:Fs,useCallback:function(t,e){return Io().memoizedState=[t,e===void 0?null:e],t},useContext:Fs,useEffect:Q2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Np(4194308,4,pN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Np(4194308,4,t,e)},useInsertionEffect:function(t,e){return Np(4,2,t,e)},useMemo:function(t,e){var r=Io();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Io();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fA.bind(null,on,t),[n.memoizedState,t]},useRef:function(t){var e=Io();return t={current:t},e.memoizedState=t},useState:X2,useDebugValue:dv,useDeferredValue:function(t){return Io().memoizedState=t},useTransition:function(){var t=X2(!1),e=t[0];return t=uA.bind(null,t[1]),Io().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=on,a=Io();if(en){if(r===void 0)throw Error(it(407));r=r()}else{if(r=e(),Qn===null)throw Error(it(349));uc&30||oN(n,e,r)}a.memoizedState=r;var o={value:r,getSnapshot:e};return a.queue=o,Q2(lN.bind(null,n,o,t),[t]),n.flags|=2048,Df(9,iN.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Io(),e=Qn.identifierPrefix;if(en){var r=di,n=ci;r=(n&~(1<<32-io(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Pf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=dA++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mA={readContext:Fs,useCallback:gN,useContext:Fs,useEffect:cv,useImperativeHandle:mN,useInsertionEffect:fN,useLayoutEffect:hN,useMemo:yN,useReducer:Ug,useRef:uN,useState:function(){return Ug(Lf)},useDebugValue:dv,useDeferredValue:function(t){var e=Bs();return xN(e,$n.memoizedState,t)},useTransition:function(){var t=Ug(Lf)[0],e=Bs().memoizedState;return[t,e]},useMutableSource:aN,useSyncExternalStore:sN,useId:bN,unstable_isNewReconciler:!1},gA={readContext:Fs,useCallback:gN,useContext:Fs,useEffect:cv,useImperativeHandle:mN,useInsertionEffect:fN,useLayoutEffect:hN,useMemo:yN,useReducer:zg,useRef:uN,useState:function(){return zg(Lf)},useDebugValue:dv,useDeferredValue:function(t){var e=Bs();return $n===null?e.memoizedState=t:xN(e,$n.memoizedState,t)},useTransition:function(){var t=zg(Lf)[0],e=Bs().memoizedState;return[t,e]},useMutableSource:aN,useSyncExternalStore:sN,useId:bN,unstable_isNewReconciler:!1};function ro(t,e){if(t&&t.defaultProps){e=ln({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function mx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ln({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var tm={isMounted:function(t){return(t=t._reactInternals)?xc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ea(),a=wl(t),o=fi(n,a);o.payload=e,r!=null&&(o.callback=r),e=bl(t,o,a),e!==null&&(lo(e,t,a,n),kp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ea(),a=wl(t),o=fi(n,a);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=bl(t,o,a),e!==null&&(lo(e,t,a,n),kp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ea(),n=wl(t),a=fi(r,n);a.tag=2,e!=null&&(a.callback=e),e=bl(t,a,n),e!==null&&(lo(e,t,n,r),kp(e,t,n))}};function Z2(t,e,r,n,a,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!Nf(r,n)||!Nf(a,o):!0}function jN(t,e,r){var n=!1,a=Cl,o=e.contextType;return typeof o=="object"&&o!==null?o=Fs(o):(a=Ha(e)?cc:va.current,n=e.contextTypes,o=(n=n!=null)?Ld(t,a):Cl),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=o),e}function e1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&tm.enqueueReplaceState(e,e.state,null)}function gx(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},rv(t);var o=e.contextType;typeof o=="object"&&o!==null?a.context=Fs(o):(o=Ha(e)?cc:va.current,a.context=Ld(t,o)),a.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(mx(t,e,o,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&tm.enqueueReplaceState(a,a.state,null),s0(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Td(t,e){try{var r="",n=e;do r+=V_(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:a,digest:null}}function Vg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function yx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var yA=typeof WeakMap=="function"?WeakMap:Map;function NN(t,e,r){r=fi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){d0||(d0=!0,_x=n),yx(t,e)},r}function SN(t,e,r){r=fi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){yx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){yx(t,e),typeof n!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function t1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new yA;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=LA.bind(null,t,e,r),e.then(t,t))}function r1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n1(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fi(-1,1),e.tag=2,bl(r,e,1))),r.lanes|=1),t)}var xA=Si.ReactCurrentOwner,za=!1;function _a(t,e,r,n){e.child=t===null?eN(e,null,r,n):Id(e,t.child,r,n)}function a1(t,e,r,n,a){r=r.render;var o=e.ref;return yd(e,a),n=iv(t,e,r,n,o,a),r=lv(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,bi(t,e,a)):(en&&r&&Kb(e),e.flags|=1,_a(t,e,n,a),e.child)}function s1(t,e,r,n,a){if(t===null){var o=r.type;return typeof o=="function"&&!xv(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,CN(t,e,o,n,a)):(t=Ep(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Nf,r(i,n)&&t.ref===e.ref)return bi(t,e,a)}return e.flags|=1,t=kl(o,n),t.ref=e.ref,t.return=e,e.child=t}function CN(t,e,r,n,a){if(t!==null){var o=t.memoizedProps;if(Nf(o,n)&&t.ref===e.ref)if(za=!1,e.pendingProps=n=o,(t.lanes&a)!==0)t.flags&131072&&(za=!0);else return e.lanes=t.lanes,bi(t,e,a)}return xx(t,e,r,n,a)}function _N(t,e,r){var n=e.pendingProps,a=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(ud,cs),cs|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Hr(ud,cs),cs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Hr(ud,cs),cs|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Hr(ud,cs),cs|=n;return _a(t,e,a,r),e.child}function EN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xx(t,e,r,n,a){var o=Ha(r)?cc:va.current;return o=Ld(e,o),yd(e,a),r=iv(t,e,r,n,o,a),n=lv(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,bi(t,e,a)):(en&&n&&Kb(e),e.flags|=1,_a(t,e,r,a),e.child)}function o1(t,e,r,n,a){if(Ha(r)){var o=!0;e0(e)}else o=!1;if(yd(e,a),e.stateNode===null)Sp(t,e),jN(e,r,n),gx(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,c=e.memoizedProps;i.props=c;var l=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Fs(d):(d=Ha(r)?cc:va.current,d=Ld(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==n||l!==d)&&e1(e,i,n,d),nl=!1;var y=e.memoizedState;i.state=y,s0(e,n,i,a),l=e.memoizedState,c!==n||y!==l||Va.current||nl?(typeof u=="function"&&(mx(e,r,u,n),l=e.memoizedState),(c=nl||Z2(e,r,c,n,y,l,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),i.props=n,i.state=l,i.context=d,n=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,rN(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:ro(e.type,c),i.props=d,h=e.pendingProps,y=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fs(l):(l=Ha(r)?cc:va.current,l=Ld(e,l));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==h||y!==l)&&e1(e,i,n,l),nl=!1,y=e.memoizedState,i.state=y,s0(e,n,i,a);var w=e.memoizedState;c!==h||y!==w||Va.current||nl?(typeof m=="function"&&(mx(e,r,m,n),w=e.memoizedState),(d=nl||Z2(e,r,d,n,y,w,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),i.props=n,i.state=w,i.context=l,n=d):(typeof i.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return bx(t,e,r,n,o,a)}function bx(t,e,r,n,a,o){EN(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&H2(e,r,!1),bi(t,e,o);n=e.stateNode,xA.current=e;var c=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Id(e,t.child,null,o),e.child=Id(e,null,c,o)):_a(t,e,c,o),e.memoizedState=n.state,a&&H2(e,r,!0),e.child}function AN(t){var e=t.stateNode;e.pendingContext?V2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V2(t,e.context,!1),nv(t,e.containerInfo)}function i1(t,e,r,n,a){return Dd(),Xb(a),e.flags|=256,_a(t,e,r,n),e.child}var vx={dehydrated:null,treeContext:null,retryLane:0};function wx(t){return{baseLanes:t,cachePool:null,transitions:null}}function PN(t,e,r){var n=e.pendingProps,a=sn.current,o=!1,i=(e.flags&128)!==0,c;if((c=i)||(c=t!==null&&t.memoizedState===null?!1:(a&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Hr(sn,a&1),t===null)return hx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=am(i,n,0,null),t=sc(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=wx(r),e.memoizedState=vx,t):uv(e,i));if(a=t.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return bA(t,e,i,n,c,a,r);if(o){o=n.fallback,i=e.mode,a=t.child,c=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=kl(a,l),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?o=kl(c,o):(o=sc(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?wx(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=vx,n}return o=t.child,t=o.sibling,n=kl(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function uv(t,e){return e=am({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jh(t,e,r,n){return n!==null&&Xb(n),Id(e,t.child,null,r),t=uv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bA(t,e,r,n,a,o,i){if(r)return e.flags&256?(e.flags&=-257,n=Vg(Error(it(422))),Jh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,a=e.mode,n=am({mode:"visible",children:n.children},a,0,null),o=sc(o,a,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Id(e,t.child,null,i),e.child.memoizedState=wx(i),e.memoizedState=vx,o);if(!(e.mode&1))return Jh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,o=Error(it(419)),n=Vg(o,n,void 0),Jh(t,e,i,n)}if(c=(i&t.childLanes)!==0,za||c){if(n=Qn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,xi(t,a),lo(n,t,a,-1))}return yv(),n=Vg(Error(it(421))),Jh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=DA.bind(null,t),a._reactRetry=e,null):(t=o.treeContext,ds=xl(a.nextSibling),fs=e,en=!0,oo=null,t!==null&&(Rs[Ts++]=ci,Rs[Ts++]=di,Rs[Ts++]=dc,ci=t.id,di=t.overflow,dc=e),e=uv(e,n.children),e.flags|=4096,e)}function l1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),px(t.return,e,r)}function Hg(t,e,r,n,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function LN(t,e,r){var n=e.pendingProps,a=n.revealOrder,o=n.tail;if(_a(t,e,n.children,r),n=sn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&l1(t,r,e);else if(t.tag===19)l1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Hr(sn,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&o0(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Hg(e,!1,a,r,o);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&o0(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Hg(e,!0,r,null,o);break;case"together":Hg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(it(153));if(e.child!==null){for(t=e.child,r=kl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=kl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vA(t,e,r){switch(e.tag){case 3:AN(e),Dd();break;case 5:nN(e);break;case 1:Ha(e.type)&&e0(e);break;case 4:nv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Hr(n0,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Hr(sn,sn.current&1),e.flags|=128,null):r&e.child.childLanes?PN(t,e,r):(Hr(sn,sn.current&1),t=bi(t,e,r),t!==null?t.sibling:null);Hr(sn,sn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return LN(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Hr(sn,sn.current),n)break;return null;case 22:case 23:return e.lanes=0,_N(t,e,r)}return bi(t,e,r)}var DN,kx,IN,RN;DN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kx=function(){};IN=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,tc($o.current);var o=null;switch(r){case"input":a=Vy(t,a),n=Vy(t,n),o=[];break;case"select":a=ln({},a,{value:void 0}),n=ln({},n,{value:void 0}),o=[];break;case"textarea":a=Gy(t,a),n=Gy(t,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qp)}Ky(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var c=a[d];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(yf.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var l=n[d];if(c=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&l!==c&&(l!=null||c!=null))if(d==="style")if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(d,r)),r=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(o=o||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(yf.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Jr("scroll",t),o||c===l||(o=[])):(o=o||[]).push(d,l))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};RN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ou(t,e){if(!en)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ua(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wA(t,e,r){var n=e.pendingProps;switch(Yb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(e),null;case 1:return Ha(e.type)&&Zp(),ua(e),null;case 3:return n=e.stateNode,Rd(),Yr(Va),Yr(va),sv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oo!==null&&(Px(oo),oo=null))),kx(t,e),ua(e),null;case 5:av(e);var a=tc(Af.current);if(r=e.type,t!==null&&e.stateNode!=null)IN(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(it(166));return ua(e),null}if(t=tc($o.current),Wh(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Mo]=e,n[_f]=o,t=(e.mode&1)!==0,r){case"dialog":Jr("cancel",n),Jr("close",n);break;case"iframe":case"object":case"embed":Jr("load",n);break;case"video":case"audio":for(a=0;a<Ju.length;a++)Jr(Ju[a],n);break;case"source":Jr("error",n);break;case"img":case"image":case"link":Jr("error",n),Jr("load",n);break;case"details":Jr("toggle",n);break;case"input":y2(n,o),Jr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Jr("invalid",n);break;case"textarea":b2(n,o),Jr("invalid",n)}Ky(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="children"?typeof c=="string"?n.textContent!==c&&(o.suppressHydrationWarning!==!0&&Hh(n.textContent,c,t),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Hh(n.textContent,c,t),a=["children",""+c]):yf.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&Jr("scroll",n)}switch(r){case"input":Mh(n),x2(n,o,!0);break;case"textarea":Mh(n),v2(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Qp)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lj(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Mo]=e,t[_f]=n,DN(t,e,!1,!1),e.stateNode=t;e:{switch(i=Yy(r,n),r){case"dialog":Jr("cancel",t),Jr("close",t),a=n;break;case"iframe":case"object":case"embed":Jr("load",t),a=n;break;case"video":case"audio":for(a=0;a<Ju.length;a++)Jr(Ju[a],t);a=n;break;case"source":Jr("error",t),a=n;break;case"img":case"image":case"link":Jr("error",t),Jr("load",t),a=n;break;case"details":Jr("toggle",t),a=n;break;case"input":y2(t,n),a=Vy(t,n),Jr("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=ln({},n,{value:void 0}),Jr("invalid",t);break;case"textarea":b2(t,n),a=Gy(t,n),Jr("invalid",t);break;default:a=n}Ky(r,a),c=a;for(o in c)if(c.hasOwnProperty(o)){var l=c[o];o==="style"?uj(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cj(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xf(t,l):typeof l=="number"&&xf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Jr("scroll",t):l!=null&&Tb(t,o,l,i))}switch(r){case"input":Mh(t),x2(t,n,!1);break;case"textarea":Mh(t),v2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Sl(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?hd(t,!!n.multiple,o,!1):n.defaultValue!=null&&hd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Qp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ua(e),null;case 6:if(t&&e.stateNode!=null)RN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(it(166));if(r=tc(Af.current),tc($o.current),Wh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Mo]=e,(o=n.nodeValue!==r)&&(t=fs,t!==null))switch(t.tag){case 3:Hh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hh(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mo]=e,e.stateNode=n}return ua(e),null;case 13:if(Yr(sn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(en&&ds!==null&&e.mode&1&&!(e.flags&128))Qj(),Dd(),e.flags|=98560,o=!1;else if(o=Wh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(it(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(it(317));o[Mo]=e}else Dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ua(e),o=!1}else oo!==null&&(Px(oo),oo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||sn.current&1?Un===0&&(Un=3):yv())),e.updateQueue!==null&&(e.flags|=4),ua(e),null);case 4:return Rd(),kx(t,e),t===null&&Sf(e.stateNode.containerInfo),ua(e),null;case 10:return ev(e.type._context),ua(e),null;case 17:return Ha(e.type)&&Zp(),ua(e),null;case 19:if(Yr(sn),o=e.memoizedState,o===null)return ua(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)Ou(o,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=o0(t),i!==null){for(e.flags|=128,Ou(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Hr(sn,sn.current&1|2),e.child}t=t.sibling}o.tail!==null&&bn()>Od&&(e.flags|=128,n=!0,Ou(o,!1),e.lanes=4194304)}else{if(!n)if(t=o0(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ou(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!en)return ua(e),null}else 2*bn()-o.renderingStartTime>Od&&r!==1073741824&&(e.flags|=128,n=!0,Ou(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=bn(),e.sibling=null,r=sn.current,Hr(sn,n?r&1|2:r&1),e):(ua(e),null);case 22:case 23:return gv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?cs&1073741824&&(ua(e),e.subtreeFlags&6&&(e.flags|=8192)):ua(e),null;case 24:return null;case 25:return null}throw Error(it(156,e.tag))}function kA(t,e){switch(Yb(e),e.tag){case 1:return Ha(e.type)&&Zp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rd(),Yr(Va),Yr(va),sv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return av(e),null;case 13:if(Yr(sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(it(340));Dd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yr(sn),null;case 4:return Rd(),null;case 10:return ev(e.type._context),null;case 22:case 23:return gv(),null;case 24:return null;default:return null}}var Kh=!1,ya=!1,jA=typeof WeakSet=="function"?WeakSet:Set,xt=null;function dd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fn(t,e,n)}else r.current=null}function jx(t,e,r){try{r()}catch(n){fn(t,e,n)}}var c1=!1;function NA(t,e){if(ox=Kp,t=Bj(),Jb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,c=-1,l=-1,d=0,u=0,h=t,y=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(c=i+a),h!==o||n!==0&&h.nodeType!==3||(l=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)y=h,h=m;for(;;){if(h===t)break t;if(y===r&&++d===a&&(c=i),y===o&&++u===n&&(l=i),(m=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=m}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ix={focusedElem:t,selectionRange:r},Kp=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,A=w.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:ro(e.type,v),A);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(W){fn(e,e.return,W)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return w=c1,c1=!1,w}function af(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var o=a.destroy;a.destroy=void 0,o!==void 0&&jx(e,r,o)}a=a.next}while(a!==n)}}function rm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Nx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function TN(t){var e=t.alternate;e!==null&&(t.alternate=null,TN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mo],delete e[_f],delete e[dx],delete e[oA],delete e[iA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ON(t){return t.tag===5||t.tag===3||t.tag===4}function d1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ON(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Qp));else if(n!==4&&(t=t.child,t!==null))for(Sx(t,e,r),t=t.sibling;t!==null;)Sx(t,e,r),t=t.sibling}function Cx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Cx(t,e,r),t=t.sibling;t!==null;)Cx(t,e,r),t=t.sibling}var aa=null,ao=!1;function Ki(t,e,r){for(r=r.child;r!==null;)MN(t,e,r),r=r.sibling}function MN(t,e,r){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(J0,r)}catch{}switch(r.tag){case 5:ya||dd(r,e);case 6:var n=aa,a=ao;aa=null,Ki(t,e,r),aa=n,ao=a,aa!==null&&(ao?(t=aa,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):aa.removeChild(r.stateNode));break;case 18:aa!==null&&(ao?(t=aa,r=r.stateNode,t.nodeType===8?Fg(t.parentNode,r):t.nodeType===1&&Fg(t,r),kf(t)):Fg(aa,r.stateNode));break;case 4:n=aa,a=ao,aa=r.stateNode.containerInfo,ao=!0,Ki(t,e,r),aa=n,ao=a;break;case 0:case 11:case 14:case 15:if(!ya&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&jx(r,e,i),a=a.next}while(a!==n)}Ki(t,e,r);break;case 1:if(!ya&&(dd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){fn(r,e,c)}Ki(t,e,r);break;case 21:Ki(t,e,r);break;case 22:r.mode&1?(ya=(n=ya)||r.memoizedState!==null,Ki(t,e,r),ya=n):Ki(t,e,r);break;default:Ki(t,e,r)}}function u1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new jA),e.forEach(function(n){var a=IA.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Zs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=t,i=e,c=i;e:for(;c!==null;){switch(c.tag){case 5:aa=c.stateNode,ao=!1;break e;case 3:aa=c.stateNode.containerInfo,ao=!0;break e;case 4:aa=c.stateNode.containerInfo,ao=!0;break e}c=c.return}if(aa===null)throw Error(it(160));MN(o,i,a),aa=null,ao=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(d){fn(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FN(e,t),e=e.sibling}function FN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zs(e,t),Ao(t),n&4){try{af(3,t,t.return),rm(3,t)}catch(v){fn(t,t.return,v)}try{af(5,t,t.return)}catch(v){fn(t,t.return,v)}}break;case 1:Zs(e,t),Ao(t),n&512&&r!==null&&dd(r,r.return);break;case 5:if(Zs(e,t),Ao(t),n&512&&r!==null&&dd(r,r.return),t.flags&32){var a=t.stateNode;try{xf(a,"")}catch(v){fn(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,c=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&oj(a,o),Yy(c,i);var d=Yy(c,o);for(i=0;i<l.length;i+=2){var u=l[i],h=l[i+1];u==="style"?uj(a,h):u==="dangerouslySetInnerHTML"?cj(a,h):u==="children"?xf(a,h):Tb(a,u,h,d)}switch(c){case"input":Hy(a,o);break;case"textarea":ij(a,o);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?hd(a,!!o.multiple,m,!1):y!==!!o.multiple&&(o.defaultValue!=null?hd(a,!!o.multiple,o.defaultValue,!0):hd(a,!!o.multiple,o.multiple?[]:"",!1))}a[_f]=o}catch(v){fn(t,t.return,v)}}break;case 6:if(Zs(e,t),Ao(t),n&4){if(t.stateNode===null)throw Error(it(162));a=t.stateNode,o=t.memoizedProps;try{a.nodeValue=o}catch(v){fn(t,t.return,v)}}break;case 3:if(Zs(e,t),Ao(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kf(e.containerInfo)}catch(v){fn(t,t.return,v)}break;case 4:Zs(e,t),Ao(t);break;case 13:Zs(e,t),Ao(t),a=t.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(pv=bn())),n&4&&u1(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ya=(d=ya)||u,Zs(e,t),ya=d):Zs(e,t),Ao(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(xt=t,u=t.child;u!==null;){for(h=xt=u;xt!==null;){switch(y=xt,m=y.child,y.tag){case 0:case 11:case 14:case 15:af(4,y,y.return);break;case 1:dd(y,y.return);var w=y.stateNode;if(typeof w.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){fn(n,r,v)}}break;case 5:dd(y,y.return);break;case 22:if(y.memoizedState!==null){h1(h);continue}}m!==null?(m.return=y,xt=m):h1(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=dj("display",i))}catch(v){fn(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){fn(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zs(e,t),Ao(t),n&4&&u1(t);break;case 21:break;default:Zs(e,t),Ao(t)}}function Ao(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ON(r)){var n=r;break e}r=r.return}throw Error(it(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(xf(a,""),n.flags&=-33);var o=d1(t);Cx(t,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,c=d1(t);Sx(t,c,i);break;default:throw Error(it(161))}}catch(l){fn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SA(t,e,r){xt=t,BN(t)}function BN(t,e,r){for(var n=(t.mode&1)!==0;xt!==null;){var a=xt,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Kh;if(!i){var c=a.alternate,l=c!==null&&c.memoizedState!==null||ya;c=Kh;var d=ya;if(Kh=i,(ya=l)&&!d)for(xt=a;xt!==null;)i=xt,l=i.child,i.tag===22&&i.memoizedState!==null?p1(a):l!==null?(l.return=i,xt=l):p1(a);for(;o!==null;)xt=o,BN(o),o=o.sibling;xt=a,Kh=c,ya=d}f1(t)}else a.subtreeFlags&8772&&o!==null?(o.return=a,xt=o):f1(t)}}function f1(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ya||rm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ya)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ro(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Y2(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Y2(e,i,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&kf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(it(163))}ya||e.flags&512&&Nx(e)}catch(y){fn(e,e.return,y)}}if(e===t){xt=null;break}if(r=e.sibling,r!==null){r.return=e.return,xt=r;break}xt=e.return}}function h1(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xt=r;break}xt=e.return}}function p1(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{rm(4,e)}catch(l){fn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){fn(e,a,l)}}var o=e.return;try{Nx(e)}catch(l){fn(e,o,l)}break;case 5:var i=e.return;try{Nx(e)}catch(l){fn(e,i,l)}}}catch(l){fn(e,e.return,l)}if(e===t){xt=null;break}var c=e.sibling;if(c!==null){c.return=e.return,xt=c;break}xt=e.return}}var CA=Math.ceil,c0=Si.ReactCurrentDispatcher,fv=Si.ReactCurrentOwner,Ms=Si.ReactCurrentBatchConfig,pr=0,Qn=null,In=null,oa=0,cs=0,ud=Ll(0),Un=0,If=null,fc=0,nm=0,hv=0,sf=null,qa=null,pv=0,Od=1/0,oi=null,d0=!1,_x=null,vl=null,Yh=!1,dl=null,u0=0,of=0,Ex=null,Cp=-1,_p=0;function Ea(){return pr&6?bn():Cp!==-1?Cp:Cp=bn()}function wl(t){return t.mode&1?pr&2&&oa!==0?oa&-oa:cA.transition!==null?(_p===0&&(_p=jj()),_p):(t=Ar,t!==0||(t=window.event,t=t===void 0?16:Pj(t.type)),t):1}function lo(t,e,r,n){if(50<of)throw of=0,Ex=null,Error(it(185));Gf(t,r,n),(!(pr&2)||t!==Qn)&&(t===Qn&&(!(pr&2)&&(nm|=r),Un===4&&il(t,oa)),Wa(t,n),r===1&&pr===0&&!(e.mode&1)&&(Od=bn()+500,Z0&&Dl()))}function Wa(t,e){var r=t.callbackNode;cE(t,e);var n=Jp(t,t===Qn?oa:0);if(n===0)r!==null&&j2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&j2(r),e===1)t.tag===0?lA(m1.bind(null,t)):Kj(m1.bind(null,t)),aA(function(){!(pr&6)&&Dl()}),r=null;else{switch(Nj(n)){case 1:r=$b;break;case 4:r=wj;break;case 16:r=Gp;break;case 536870912:r=kj;break;default:r=Gp}r=GN(r,$N.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function $N(t,e){if(Cp=-1,_p=0,pr&6)throw Error(it(327));var r=t.callbackNode;if(xd()&&t.callbackNode!==r)return null;var n=Jp(t,t===Qn?oa:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=f0(t,n);else{e=n;var a=pr;pr|=2;var o=UN();(Qn!==t||oa!==e)&&(oi=null,Od=bn()+500,ac(t,e));do try{AA();break}catch(c){qN(t,c)}while(!0);Zb(),c0.current=o,pr=a,In!==null?e=0:(Qn=null,oa=0,e=Un)}if(e!==0){if(e===2&&(a=tx(t),a!==0&&(n=a,e=Ax(t,a))),e===1)throw r=If,ac(t,0),il(t,n),Wa(t,bn()),r;if(e===6)il(t,n);else{if(a=t.current.alternate,!(n&30)&&!_A(a)&&(e=f0(t,n),e===2&&(o=tx(t),o!==0&&(n=o,e=Ax(t,o))),e===1))throw r=If,ac(t,0),il(t,n),Wa(t,bn()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(it(345));case 2:Jl(t,qa,oi);break;case 3:if(il(t,n),(n&130023424)===n&&(e=pv+500-bn(),10<e)){if(Jp(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Ea(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=cx(Jl.bind(null,t,qa,oi),e);break}Jl(t,qa,oi);break;case 4:if(il(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-io(n);o=1<<i,i=e[i],i>a&&(a=i),n&=~o}if(n=a,n=bn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CA(n/1960))-n,10<n){t.timeoutHandle=cx(Jl.bind(null,t,qa,oi),n);break}Jl(t,qa,oi);break;case 5:Jl(t,qa,oi);break;default:throw Error(it(329))}}}return Wa(t,bn()),t.callbackNode===r?$N.bind(null,t):null}function Ax(t,e){var r=sf;return t.current.memoizedState.isDehydrated&&(ac(t,e).flags|=256),t=f0(t,e),t!==2&&(e=qa,qa=r,e!==null&&Px(e)),t}function Px(t){qa===null?qa=t:qa.push.apply(qa,t)}function _A(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!co(o(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function il(t,e){for(e&=~hv,e&=~nm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-io(e),n=1<<r;t[r]=-1,e&=~n}}function m1(t){if(pr&6)throw Error(it(327));xd();var e=Jp(t,0);if(!(e&1))return Wa(t,bn()),null;var r=f0(t,e);if(t.tag!==0&&r===2){var n=tx(t);n!==0&&(e=n,r=Ax(t,n))}if(r===1)throw r=If,ac(t,0),il(t,e),Wa(t,bn()),r;if(r===6)throw Error(it(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jl(t,qa,oi),Wa(t,bn()),null}function mv(t,e){var r=pr;pr|=1;try{return t(e)}finally{pr=r,pr===0&&(Od=bn()+500,Z0&&Dl())}}function hc(t){dl!==null&&dl.tag===0&&!(pr&6)&&xd();var e=pr;pr|=1;var r=Ms.transition,n=Ar;try{if(Ms.transition=null,Ar=1,t)return t()}finally{Ar=n,Ms.transition=r,pr=e,!(pr&6)&&Dl()}}function gv(){cs=ud.current,Yr(ud)}function ac(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nA(r)),In!==null)for(r=In.return;r!==null;){var n=r;switch(Yb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zp();break;case 3:Rd(),Yr(Va),Yr(va),sv();break;case 5:av(n);break;case 4:Rd();break;case 13:Yr(sn);break;case 19:Yr(sn);break;case 10:ev(n.type._context);break;case 22:case 23:gv()}r=r.return}if(Qn=t,In=t=kl(t.current,null),oa=cs=e,Un=0,If=null,hv=nm=fc=0,qa=sf=null,ec!==null){for(e=0;e<ec.length;e++)if(r=ec[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}ec=null}return t}function qN(t,e){do{var r=In;try{if(Zb(),jp.current=l0,i0){for(var n=on.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}i0=!1}if(uc=0,Kn=$n=on=null,nf=!1,Pf=0,fv.current=null,r===null||r.return===null){Un=1,If=e,In=null;break}e:{var o=t,i=r.return,c=r,l=e;if(e=oa,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,u=c,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var y=u.alternate;y?(u.updateQueue=y.updateQueue,u.memoizedState=y.memoizedState,u.lanes=y.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=r1(i);if(m!==null){m.flags&=-257,n1(m,i,c,o,e),m.mode&1&&t1(o,d,e),e=m,l=d;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){t1(o,d,e),yv();break e}l=Error(it(426))}}else if(en&&c.mode&1){var A=r1(i);if(A!==null){!(A.flags&65536)&&(A.flags|=256),n1(A,i,c,o,e),Xb(Td(l,c));break e}}o=l=Td(l,c),Un!==4&&(Un=2),sf===null?sf=[o]:sf.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=NN(o,l,e);K2(o,b);break e;case 1:c=l;var S=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(vl===null||!vl.has(R)))){o.flags|=65536,e&=-e,o.lanes|=e;var W=SN(o,c,e);K2(o,W);break e}}o=o.return}while(o!==null)}VN(r)}catch(z){e=z,In===r&&r!==null&&(In=r=r.return);continue}break}while(!0)}function UN(){var t=c0.current;return c0.current=l0,t===null?l0:t}function yv(){(Un===0||Un===3||Un===2)&&(Un=4),Qn===null||!(fc&268435455)&&!(nm&268435455)||il(Qn,oa)}function f0(t,e){var r=pr;pr|=2;var n=UN();(Qn!==t||oa!==e)&&(oi=null,ac(t,e));do try{EA();break}catch(a){qN(t,a)}while(!0);if(Zb(),pr=r,c0.current=n,In!==null)throw Error(it(261));return Qn=null,oa=0,Un}function EA(){for(;In!==null;)zN(In)}function AA(){for(;In!==null&&!eE();)zN(In)}function zN(t){var e=WN(t.alternate,t,cs);t.memoizedProps=t.pendingProps,e===null?VN(t):In=e,fv.current=null}function VN(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=kA(r,e),r!==null){r.flags&=32767,In=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,In=null;return}}else if(r=wA(r,e,cs),r!==null){In=r;return}if(e=e.sibling,e!==null){In=e;return}In=e=t}while(e!==null);Un===0&&(Un=5)}function Jl(t,e,r){var n=Ar,a=Ms.transition;try{Ms.transition=null,Ar=1,PA(t,e,r,n)}finally{Ms.transition=a,Ar=n}return null}function PA(t,e,r,n){do xd();while(dl!==null);if(pr&6)throw Error(it(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(it(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(dE(t,o),t===Qn&&(In=Qn=null,oa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yh||(Yh=!0,GN(Gp,function(){return xd(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ms.transition,Ms.transition=null;var i=Ar;Ar=1;var c=pr;pr|=4,fv.current=null,NA(t,r),FN(r,t),YE(ix),Kp=!!ox,ix=ox=null,t.current=r,SA(r),tE(),pr=c,Ar=i,Ms.transition=o}else t.current=r;if(Yh&&(Yh=!1,dl=t,u0=a),o=t.pendingLanes,o===0&&(vl=null),aE(r.stateNode),Wa(t,bn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(d0)throw d0=!1,t=_x,_x=null,t;return u0&1&&t.tag!==0&&xd(),o=t.pendingLanes,o&1?t===Ex?of++:(of=0,Ex=t):of=0,Dl(),null}function xd(){if(dl!==null){var t=Nj(u0),e=Ms.transition,r=Ar;try{if(Ms.transition=null,Ar=16>t?16:t,dl===null)var n=!1;else{if(t=dl,dl=null,u0=0,pr&6)throw Error(it(331));var a=pr;for(pr|=4,xt=t.current;xt!==null;){var o=xt,i=o.child;if(xt.flags&16){var c=o.deletions;if(c!==null){for(var l=0;l<c.length;l++){var d=c[l];for(xt=d;xt!==null;){var u=xt;switch(u.tag){case 0:case 11:case 15:af(8,u,o)}var h=u.child;if(h!==null)h.return=u,xt=h;else for(;xt!==null;){u=xt;var y=u.sibling,m=u.return;if(TN(u),u===d){xt=null;break}if(y!==null){y.return=m,xt=y;break}xt=m}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var A=v.sibling;v.sibling=null,v=A}while(v!==null)}}xt=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,xt=i;else e:for(;xt!==null;){if(o=xt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:af(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,xt=b;break e}xt=o.return}}var S=t.current;for(xt=S;xt!==null;){i=xt;var R=i.child;if(i.subtreeFlags&2064&&R!==null)R.return=i,xt=R;else e:for(i=S;xt!==null;){if(c=xt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:rm(9,c)}}catch(z){fn(c,c.return,z)}if(c===i){xt=null;break e}var W=c.sibling;if(W!==null){W.return=c.return,xt=W;break e}xt=c.return}}if(pr=a,Dl(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(J0,t)}catch{}n=!0}return n}finally{Ar=r,Ms.transition=e}}return!1}function g1(t,e,r){e=Td(r,e),e=NN(t,e,1),t=bl(t,e,1),e=Ea(),t!==null&&(Gf(t,1,e),Wa(t,e))}function fn(t,e,r){if(t.tag===3)g1(t,t,r);else for(;e!==null;){if(e.tag===3){g1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vl===null||!vl.has(n))){t=Td(r,t),t=SN(e,t,1),e=bl(e,t,1),t=Ea(),e!==null&&(Gf(e,1,t),Wa(e,t));break}}e=e.return}}function LA(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ea(),t.pingedLanes|=t.suspendedLanes&r,Qn===t&&(oa&r)===r&&(Un===4||Un===3&&(oa&130023424)===oa&&500>bn()-pv?ac(t,0):hv|=r),Wa(t,e)}function HN(t,e){e===0&&(t.mode&1?(e=$h,$h<<=1,!($h&130023424)&&($h=4194304)):e=1);var r=Ea();t=xi(t,e),t!==null&&(Gf(t,e,r),Wa(t,r))}function DA(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),HN(t,r)}function IA(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(it(314))}n!==null&&n.delete(e),HN(t,r)}var WN;WN=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Va.current)za=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return za=!1,vA(t,e,r);za=!!(t.flags&131072)}else za=!1,en&&e.flags&1048576&&Yj(e,r0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Sp(t,e),t=e.pendingProps;var a=Ld(e,va.current);yd(e,r),a=iv(null,e,n,t,a,r);var o=lv();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ha(n)?(o=!0,e0(e)):o=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rv(e),a.updater=tm,e.stateNode=a,a._reactInternals=e,gx(e,n,t,r),e=bx(null,e,n,!0,o,r)):(e.tag=0,en&&o&&Kb(e),_a(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Sp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=TA(n),t=ro(n,t),a){case 0:e=xx(null,e,n,t,r);break e;case 1:e=o1(null,e,n,t,r);break e;case 11:e=a1(null,e,n,t,r);break e;case 14:e=s1(null,e,n,ro(n.type,t),r);break e}throw Error(it(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ro(n,a),xx(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ro(n,a),o1(t,e,n,a,r);case 3:e:{if(AN(e),t===null)throw Error(it(387));n=e.pendingProps,o=e.memoizedState,a=o.element,rN(t,e),s0(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){a=Td(Error(it(423)),e),e=i1(t,e,n,r,a);break e}else if(n!==a){a=Td(Error(it(424)),e),e=i1(t,e,n,r,a);break e}else for(ds=xl(e.stateNode.containerInfo.firstChild),fs=e,en=!0,oo=null,r=eN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dd(),n===a){e=bi(t,e,r);break e}_a(t,e,n,r)}e=e.child}return e;case 5:return nN(e),t===null&&hx(e),n=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,i=a.children,lx(n,a)?i=null:o!==null&&lx(n,o)&&(e.flags|=32),EN(t,e),_a(t,e,i,r),e.child;case 6:return t===null&&hx(e),null;case 13:return PN(t,e,r);case 4:return nv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Id(e,null,n,r):_a(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ro(n,a),a1(t,e,n,a,r);case 7:return _a(t,e,e.pendingProps,r),e.child;case 8:return _a(t,e,e.pendingProps.children,r),e.child;case 12:return _a(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,o=e.memoizedProps,i=a.value,Hr(n0,n._currentValue),n._currentValue=i,o!==null)if(co(o.value,i)){if(o.children===a.children&&!Va.current){e=bi(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){i=o.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=fi(-1,r&-r),l.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?l.next=l:(l.next=u.next,u.next=l),d.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),px(o.return,r,e),c.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(it(341));i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),px(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}_a(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,yd(e,r),a=Fs(a),n=n(a),e.flags|=1,_a(t,e,n,r),e.child;case 14:return n=e.type,a=ro(n,e.pendingProps),a=ro(n.type,a),s1(t,e,n,a,r);case 15:return CN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ro(n,a),Sp(t,e),e.tag=1,Ha(n)?(t=!0,e0(e)):t=!1,yd(e,r),jN(e,n,a),gx(e,n,a,r),bx(null,e,n,!0,t,r);case 19:return LN(t,e,r);case 22:return _N(t,e,r)}throw Error(it(156,e.tag))};function GN(t,e){return vj(t,e)}function RA(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(t,e,r,n){return new RA(t,e,r,n)}function xv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TA(t){if(typeof t=="function")return xv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mb)return 11;if(t===Fb)return 14}return 2}function kl(t,e){var r=t.alternate;return r===null?(r=Os(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ep(t,e,r,n,a,o){var i=2;if(n=t,typeof t=="function")xv(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case td:return sc(r.children,a,o,e);case Ob:i=8,a|=8;break;case $y:return t=Os(12,r,e,a|2),t.elementType=$y,t.lanes=o,t;case qy:return t=Os(13,r,e,a),t.elementType=qy,t.lanes=o,t;case Uy:return t=Os(19,r,e,a),t.elementType=Uy,t.lanes=o,t;case nj:return am(r,a,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tj:i=10;break e;case rj:i=9;break e;case Mb:i=11;break e;case Fb:i=14;break e;case rl:i=16,n=null;break e}throw Error(it(130,t==null?t:typeof t,""))}return e=Os(i,r,e,a),e.elementType=t,e.type=n,e.lanes=o,e}function sc(t,e,r,n){return t=Os(7,t,n,e),t.lanes=r,t}function am(t,e,r,n){return t=Os(22,t,n,e),t.elementType=nj,t.lanes=r,t.stateNode={isHidden:!1},t}function Wg(t,e,r){return t=Os(6,t,null,e),t.lanes=r,t}function Gg(t,e,r){return e=Os(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OA(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bv(t,e,r,n,a,o,i,c,l){return t=new OA(t,e,r,c,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Os(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rv(o),t}function MA(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function JN(t){if(!t)return Cl;t=t._reactInternals;e:{if(xc(t)!==t||t.tag!==1)throw Error(it(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ha(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(it(171))}if(t.tag===1){var r=t.type;if(Ha(r))return Jj(t,r,e)}return e}function KN(t,e,r,n,a,o,i,c,l){return t=bv(r,n,!0,t,a,o,i,c,l),t.context=JN(null),r=t.current,n=Ea(),a=wl(r),o=fi(n,a),o.callback=e??null,bl(r,o,a),t.current.lanes=a,Gf(t,a,n),Wa(t,n),t}function sm(t,e,r,n){var a=e.current,o=Ea(),i=wl(a);return r=JN(r),e.context===null?e.context=r:e.pendingContext=r,e=fi(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=bl(a,e,i),t!==null&&(lo(t,a,i,o),kp(t,a,i)),i}function h0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function y1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function vv(t,e){y1(t,e),(t=t.alternate)&&y1(t,e)}function FA(){return null}var YN=typeof reportError=="function"?reportError:function(t){console.error(t)};function wv(t){this._internalRoot=t}om.prototype.render=wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(it(409));sm(t,e,null,null)};om.prototype.unmount=wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hc(function(){sm(null,t,null,null)}),e[yi]=null}};function om(t){this._internalRoot=t}om.prototype.unstable_scheduleHydration=function(t){if(t){var e=_j();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ol.length&&e!==0&&e<ol[r].priority;r++);ol.splice(r,0,t),r===0&&Aj(t)}};function kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x1(){}function BA(t,e,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var d=h0(i);o.call(d)}}var i=KN(e,n,t,0,null,!1,!1,"",x1);return t._reactRootContainer=i,t[yi]=i.current,Sf(t.nodeType===8?t.parentNode:t),hc(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var d=h0(l);c.call(d)}}var l=bv(t,0,!1,null,null,!1,!1,"",x1);return t._reactRootContainer=l,t[yi]=l.current,Sf(t.nodeType===8?t.parentNode:t),hc(function(){sm(e,l,r,n)}),l}function lm(t,e,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var c=a;a=function(){var l=h0(i);c.call(l)}}sm(e,i,t,a)}else i=BA(r,e,t,a,n);return h0(i)}Sj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gu(e.pendingLanes);r!==0&&(qb(e,r|1),Wa(e,bn()),!(pr&6)&&(Od=bn()+500,Dl()))}break;case 13:hc(function(){var n=xi(t,1);if(n!==null){var a=Ea();lo(n,t,1,a)}}),vv(t,1)}};Ub=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var r=Ea();lo(e,t,134217728,r)}vv(t,134217728)}};Cj=function(t){if(t.tag===13){var e=wl(t),r=xi(t,e);if(r!==null){var n=Ea();lo(r,t,e,n)}vv(t,e)}};_j=function(){return Ar};Ej=function(t,e){var r=Ar;try{return Ar=t,e()}finally{Ar=r}};Qy=function(t,e,r){switch(e){case"input":if(Hy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Q0(n);if(!a)throw Error(it(90));sj(n),Hy(n,a)}}}break;case"textarea":ij(t,r);break;case"select":e=r.value,e!=null&&hd(t,!!r.multiple,e,!1)}};pj=mv;mj=hc;var $A={usingClientEntryPoint:!1,Events:[Kf,sd,Q0,fj,hj,mv]},Mu={findFiberByHostInstance:Zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qA={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xj(t),t===null?null:t.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||FA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{J0=Xh.inject(qA),Bo=Xh}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$A;ys.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(e))throw Error(it(200));return MA(t,e,null,r)};ys.createRoot=function(t,e){if(!kv(t))throw Error(it(299));var r=!1,n="",a=YN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=bv(t,1,!1,null,null,r,!1,n,a),t[yi]=e.current,Sf(t.nodeType===8?t.parentNode:t),new wv(e)};ys.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(it(188)):(t=Object.keys(t).join(","),Error(it(268,t)));return t=xj(e),t=t===null?null:t.stateNode,t};ys.flushSync=function(t){return hc(t)};ys.hydrate=function(t,e,r){if(!im(e))throw Error(it(200));return lm(null,t,e,!0,r)};ys.hydrateRoot=function(t,e,r){if(!kv(t))throw Error(it(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=YN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=KN(e,null,t,1,r??null,a,!1,o,i),t[yi]=e.current,Sf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new om(e)};ys.render=function(t,e,r){if(!im(e))throw Error(it(200));return lm(null,t,e,!1,r)};ys.unmountComponentAtNode=function(t){if(!im(t))throw Error(it(40));return t._reactRootContainer?(hc(function(){lm(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0):!1};ys.unstable_batchedUpdates=mv;ys.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!im(r))throw Error(it(200));if(t==null||t._reactInternals===void 0)throw Error(it(38));return lm(t,e,r,!1,n)};ys.version="18.3.1-next-f1338f8080-20240426";function XN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XN)}catch(t){console.error(t)}}XN(),Xk.exports=ys;var rc=Xk.exports,QN,b1=rc;QN=b1.createRoot,b1.hydrateRoot;var jv={};Object.defineProperty(jv,"__esModule",{value:!0});jv.parse=JA;jv.serialize=KA;const UA=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,zA=/^[\u0021-\u003A\u003C-\u007E]*$/,VA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,HA=/^[\u0020-\u003A\u003D-\u007E]*$/,WA=Object.prototype.toString,GA=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function JA(t,e){const r=new GA,n=t.length;if(n<2)return r;const a=(e==null?void 0:e.decode)||YA;let o=0;do{const i=t.indexOf("=",o);if(i===-1)break;const c=t.indexOf(";",o),l=c===-1?n:c;if(i>l){o=t.lastIndexOf(";",i-1)+1;continue}const d=v1(t,o,i),u=w1(t,i,d),h=t.slice(d,u);if(r[h]===void 0){let y=v1(t,i+1,l),m=w1(t,l,y);const w=a(t.slice(y,m));r[h]=w}o=l+1}while(o<n);return r}function v1(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function w1(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function KA(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!UA.test(t))throw new TypeError(`argument name is invalid: ${t}`);const a=n(e);if(!zA.test(a))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+a;if(!r)return o;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);o+="; Max-Age="+r.maxAge}if(r.domain){if(!VA.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);o+="; Domain="+r.domain}if(r.path){if(!HA.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);o+="; Path="+r.path}if(r.expires){if(!XA(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return o}function YA(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function XA(t){return WA.call(t)==="[object Date]"}var k1="popstate";function QA(t={}){function e(n,a){let{pathname:o,search:i,hash:c}=n.location;return Lx("",{pathname:o,search:i,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Rf(a)}return eP(e,r,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZA(){return Math.random().toString(36).substring(2,10)}function j1(t,e){return{usr:t.state,key:t.key,idx:e}}function Lx(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Kd(e):e,state:r,key:e&&e.key||n||ZA()}}function Rf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Kd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function eP(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,c="POP",l=null,d=u();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function u(){return(i.state||{idx:null}).idx}function h(){c="POP";let A=u(),b=A==null?null:A-d;d=A,l&&l({action:c,location:v.location,delta:b})}function y(A,b){c="PUSH";let S=Lx(v.location,A,b);d=u()+1;let R=j1(S,d),W=v.createHref(S);try{i.pushState(R,"",W)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(W)}o&&l&&l({action:c,location:v.location,delta:1})}function m(A,b){c="REPLACE";let S=Lx(v.location,A,b);d=u();let R=j1(S,d),W=v.createHref(S);i.replaceState(R,"",W),o&&l&&l({action:c,location:v.location,delta:0})}function w(A){return tP(A)}let v={get action(){return c},get location(){return t(a,i)},listen(A){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(k1,h),l=A,()=>{a.removeEventListener(k1,h),l=null}},createHref(A){return e(a,A)},createURL:w,encodeLocation(A){let b=w(A);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:m,go(A){return i.go(A)}};return v}function tP(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Rf(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function ZN(t,e,r="/"){return rP(t,e,r,!1)}function rP(t,e,r,n){let a=typeof e=="string"?Kd(e):e,o=vi(a.pathname||"/",r);if(o==null)return null;let i=e4(t);nP(i);let c=null;for(let l=0;c==null&&l<i.length;++l){let d=pP(o);c=fP(i[l],d,n)}return c}function e4(t,e=[],r=[],n=""){let a=(o,i,c)=>{let l={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(tn(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let d=hi([n,l.relativePath]),u=r.concat(l);o.children&&o.children.length>0&&(tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),e4(o.children,e,u,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:dP(d,o.index),routesMeta:u})};return t.forEach((o,i)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,i);else for(let l of t4(o.path))a(o,i,l)}),e}function t4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=t4(n.join("/")),c=[];return c.push(...i.map(l=>l===""?o:[o,l].join("/"))),a&&c.push(...i),c.map(l=>t.startsWith("/")&&l===""?"/":l)}function nP(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:uP(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var aP=/^:[\w-]+$/,sP=3,oP=2,iP=1,lP=10,cP=-2,N1=t=>t==="*";function dP(t,e){let r=t.split("/"),n=r.length;return r.some(N1)&&(n+=cP),e&&(n+=oP),r.filter(a=>!N1(a)).reduce((a,o)=>a+(aP.test(o)?sP:o===""?iP:lP),n)}function uP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function fP(t,e,r=!1){let{routesMeta:n}=t,a={},o="/",i=[];for(let c=0;c<n.length;++c){let l=n[c],d=c===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=p0({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},u),y=l.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=p0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:hi([o,h.pathname]),pathnameBase:xP(hi([o,h.pathnameBase])),route:y}),h.pathnameBase!=="/"&&(o=hi([o,h.pathnameBase]))}return i}function p0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=hP(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:h},y)=>{if(u==="*"){let w=c[y]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const m=c[y];return h&&!m?d[u]=void 0:d[u]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:t}}function hP(t,e=!1,r=!0){uo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function pP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function mP(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Kd(t):t;return{pathname:r?r.startsWith("/")?r:gP(r,e):e,search:bP(n),hash:vP(a)}}function gP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Jg(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Nv(t){let e=yP(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Sv(t,e,r,n=!1){let a;typeof t=="string"?a=Kd(t):(a={...t},tn(!a.pathname||!a.pathname.includes("?"),Jg("?","pathname","search",a)),tn(!a.pathname||!a.pathname.includes("#"),Jg("#","pathname","hash",a)),tn(!a.search||!a.search.includes("#"),Jg("#","search","hash",a)));let o=t===""||a.pathname==="",i=o?"/":a.pathname,c;if(i==null)c=r;else{let h=e.length-1;if(!n&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),h-=1;a.pathname=y.join("/")}c=h>=0?e[h]:"/"}let l=mP(a,c),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}var hi=t=>t.join("/").replace(/\/\/+/g,"/"),xP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var r4=["POST","PUT","PATCH","DELETE"];new Set(r4);var kP=["GET",...r4];new Set(kP);var Yd=D.createContext(null);Yd.displayName="DataRouter";var cm=D.createContext(null);cm.displayName="DataRouterState";var n4=D.createContext({isTransitioning:!1});n4.displayName="ViewTransition";var jP=D.createContext(new Map);jP.displayName="Fetchers";var NP=D.createContext(null);NP.displayName="Await";var ho=D.createContext(null);ho.displayName="Navigation";var Xf=D.createContext(null);Xf.displayName="Location";var Ho=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ho.displayName="Route";var Cv=D.createContext(null);Cv.displayName="RouteError";function SP(t,{relative:e}={}){tn(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=D.useContext(ho),{hash:a,pathname:o,search:i}=Qf(t,{relative:e}),c=o;return r!=="/"&&(c=o==="/"?r:hi([r,o])),n.createHref({pathname:c,search:i,hash:a})}function Xd(){return D.useContext(Xf)!=null}function Il(){return tn(Xd(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Xf).location}var a4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s4(t){D.useContext(ho).static||D.useLayoutEffect(t)}function _v(){let{isDataRoute:t}=D.useContext(Ho);return t?FP():CP()}function CP(){tn(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Yd),{basename:e,navigator:r}=D.useContext(ho),{matches:n}=D.useContext(Ho),{pathname:a}=Il(),o=JSON.stringify(Nv(n)),i=D.useRef(!1);return s4(()=>{i.current=!0}),D.useCallback((l,d={})=>{if(uo(i.current,a4),!i.current)return;if(typeof l=="number"){r.go(l);return}let u=Sv(l,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:hi([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,o,a,t])}D.createContext(null);function Qf(t,{relative:e}={}){let{matches:r}=D.useContext(Ho),{pathname:n}=Il(),a=JSON.stringify(Nv(r));return D.useMemo(()=>Sv(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function _P(t,e){return o4(t,e)}function o4(t,e,r,n){var b;tn(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=D.useContext(ho),{matches:o}=D.useContext(Ho),i=o[o.length-1],c=i?i.params:{},l=i?i.pathname:"/",d=i?i.pathnameBase:"/",u=i&&i.route;{let S=u&&u.path||"";i4(l,!u||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let h=Il(),y;if(e){let S=typeof e=="string"?Kd(e):e;tn(d==="/"||((b=S.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=h;let m=y.pathname||"/",w=m;if(d!=="/"){let S=d.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=ZN(t,{pathname:w});uo(u||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),uo(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=DP(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:hi([d,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:hi([d,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,r,n);return e&&A?D.createElement(Xf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function EP(){let t=MP(),e=wP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:a},r):null,i)}var AP=D.createElement(EP,null),PP=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(Ho.Provider,{value:this.props.routeContext},D.createElement(Cv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LP({routeContext:t,match:e,children:r}){let n=D.useContext(Yd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ho.Provider,{value:t},r)}function DP(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r==null?void 0:r.errors;if(o!=null){let l=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);tn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let i=!1,c=-1;if(r)for(let l=0;l<a.length;l++){let d=a[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=l),d.route.id){let{loaderData:u,errors:h}=r,y=d.route.loader&&!u.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||y){i=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((l,d,u)=>{let h,y=!1,m=null,w=null;r&&(h=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||AP,i&&(c<0&&u===0?(i4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):c===u&&(y=!0,w=d.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,u+1)),A=()=>{let b;return h?b=m:y?b=w:d.route.Component?b=D.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=l,D.createElement(LP,{match:d,routeContext:{outlet:l,matches:v,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||u===0)?D.createElement(PP,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:A(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):A()},null)}function Ev(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IP(t){let e=D.useContext(Yd);return tn(e,Ev(t)),e}function RP(t){let e=D.useContext(cm);return tn(e,Ev(t)),e}function TP(t){let e=D.useContext(Ho);return tn(e,Ev(t)),e}function Av(t){let e=TP(t),r=e.matches[e.matches.length-1];return tn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function OP(){return Av("useRouteId")}function MP(){var n;let t=D.useContext(Cv),e=RP("useRouteError"),r=Av("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function FP(){let{router:t}=IP("useNavigate"),e=Av("useNavigate"),r=D.useRef(!1);return s4(()=>{r.current=!0}),D.useCallback(async(a,o={})=>{uo(r.current,a4),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var S1={};function i4(t,e,r){!e&&!S1[t]&&(S1[t]=!0,uo(!1,r))}D.memo(BP);function BP({routes:t,future:e,state:r}){return o4(t,void 0,r,e)}function Ku({to:t,replace:e,state:r,relative:n}){tn(Xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(ho);uo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(Ho),{pathname:i}=Il(),c=_v(),l=Sv(t,Nv(o),i,n==="path"),d=JSON.stringify(l);return D.useEffect(()=>{c(JSON.parse(d),{replace:e,state:r,relative:n})},[c,d,n,e,r]),null}function Or(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $P({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){tn(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:i,navigator:a,static:o,future:{}}),[i,a,o]);typeof r=="string"&&(r=Kd(r));let{pathname:l="/",search:d="",hash:u="",state:h=null,key:y="default"}=r,m=D.useMemo(()=>{let w=vi(l,i);return w==null?null:{location:{pathname:w,search:d,hash:u,state:h,key:y},navigationType:n}},[i,l,d,u,h,y,n]);return uo(m!=null,`<Router basename="${i}"> is not able to match the URL "${l}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:D.createElement(ho.Provider,{value:c},D.createElement(Xf.Provider,{children:e,value:m}))}function qP({children:t,location:e}){return _P(Dx(t),e)}function Dx(t,e=[]){let r=[];return D.Children.forEach(t,(n,a)=>{if(!D.isValidElement(n))return;let o=[...e,a];if(n.type===D.Fragment){r.push.apply(r,Dx(n.props.children,o));return}tn(n.type===Or,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Dx(n.props.children,o)),r.push(i)}),r}var Ap="get",Pp="application/x-www-form-urlencoded";function dm(t){return t!=null&&typeof t.tagName=="string"}function UP(t){return dm(t)&&t.tagName.toLowerCase()==="button"}function zP(t){return dm(t)&&t.tagName.toLowerCase()==="form"}function VP(t){return dm(t)&&t.tagName.toLowerCase()==="input"}function HP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WP(t,e){return t.button===0&&(!e||e==="_self")&&!HP(t)}var Qh=null;function GP(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var JP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kg(t){return t!=null&&!JP.has(t)?(uo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pp}"`),null):t}function KP(t,e){let r,n,a,o,i;if(zP(t)){let c=t.getAttribute("action");n=c?vi(c,e):null,r=t.getAttribute("method")||Ap,a=Kg(t.getAttribute("enctype"))||Pp,o=new FormData(t)}else if(UP(t)||VP(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||c.getAttribute("action");if(n=l?vi(l,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||Ap,a=Kg(t.getAttribute("formenctype"))||Kg(c.getAttribute("enctype"))||Pp,o=new FormData(c,t),!GP()){let{name:d,type:u,value:h}=t;if(u==="image"){let y=d?`${d}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else d&&o.append(d,h)}}else{if(dm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ap,n=null,a=Pp,i=t}return o&&a==="text/plain"&&(i=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:i}}function Pv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function YP(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QP(t,e,r){let n=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let i=await YP(o,r);return i.links?i.links():[]}return[]}));return rL(n.flat(1).filter(XP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C1(t,e,r,n,a,o){let i=(l,d)=>r[d]?l.route.id!==r[d].route.id:!0,c=(l,d)=>{var u;return r[d].pathname!==l.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,d)=>i(l,d)||c(l,d)):o==="data"?e.filter((l,d)=>{var h;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(i(l,d)||c(l,d))return!0;if(l.route.shouldRevalidate){let y=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function ZP(t,e,{includeHydrateFallback:r}={}){return eL(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function eL(t){return[...new Set(t)]}function tL(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function rL(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let o=JSON.stringify(tL(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nL=new Set([100,101,204,205]);function aL(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&vi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function l4(){let t=D.useContext(Yd);return Pv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sL(){let t=D.useContext(cm);return Pv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lv=D.createContext(void 0);Lv.displayName="FrameworkContext";function c4(){let t=D.useContext(Lv);return Pv(t,"You must render this element inside a <HydratedRouter> element"),t}function oL(t,e){let r=D.useContext(Lv),[n,a]=D.useState(!1),[o,i]=D.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,y=D.useRef(null);D.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let v=b=>{b.forEach(S=>{i(S.isIntersecting)})},A=new IntersectionObserver(v,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[t]),D.useEffect(()=>{if(n){let v=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{a(!0)},w=()=>{a(!1),i(!1)};return r?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Fu(c,m),onBlur:Fu(l,w),onMouseEnter:Fu(d,m),onMouseLeave:Fu(u,w),onTouchStart:Fu(h,m)}]:[!1,y,{}]}function Fu(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function iL({page:t,...e}){let{router:r}=l4(),n=D.useMemo(()=>ZN(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?D.createElement(cL,{page:t,matches:n,...e}):null}function lL(t){let{manifest:e,routeModules:r}=c4(),[n,a]=D.useState([]);return D.useEffect(()=>{let o=!1;return QP(t,e,r).then(i=>{o||a(i)}),()=>{o=!0}},[t,e,r]),n}function cL({page:t,matches:e,...r}){let n=Il(),{manifest:a,routeModules:o}=c4(),{basename:i}=l4(),{loaderData:c,matches:l}=sL(),d=D.useMemo(()=>C1(t,e,l,a,n,"data"),[t,e,l,a,n]),u=D.useMemo(()=>C1(t,e,l,a,n,"assets"),[t,e,l,a,n]),h=D.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,v=!1;if(e.forEach(b=>{var R;let S=a.routes[b.route.id];!S||!S.hasLoader||(!d.some(W=>W.route.id===b.route.id)&&b.route.id in c&&((R=o[b.route.id])!=null&&R.shouldRevalidate)||S.hasClientLoader?v=!0:w.add(b.route.id))}),w.size===0)return[];let A=aL(t,i);return v&&w.size>0&&A.searchParams.set("_routes",e.filter(b=>w.has(b.route.id)).map(b=>b.route.id).join(",")),[A.pathname+A.search]},[i,c,n,a,d,e,t,o]),y=D.useMemo(()=>ZP(u,a),[u,a]),m=lL(u);return D.createElement(D.Fragment,null,h.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),y.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),m.map(({key:w,link:v})=>D.createElement("link",{key:w,...v})))}function dL(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var d4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d4&&(window.__reactRouterVersion="7.6.1")}catch{}function uL({basename:t,children:e,window:r}){let n=D.useRef();n.current==null&&(n.current=QA({window:r,v5Compat:!0}));let a=n.current,[o,i]=D.useState({action:a.action,location:a.location}),c=D.useCallback(l=>{D.startTransition(()=>i(l))},[i]);return D.useLayoutEffect(()=>a.listen(c),[a,c]),D.createElement($P,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f4=D.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:i,state:c,target:l,to:d,preventScrollReset:u,viewTransition:h,...y},m){let{basename:w}=D.useContext(ho),v=typeof d=="string"&&u4.test(d),A,b=!1;if(typeof d=="string"&&v&&(A=d,d4))try{let k=new URL(window.location.href),_=d.startsWith("//")?new URL(k.protocol+d):new URL(d),x=vi(_.pathname,w);_.origin===k.origin&&x!=null?d=x+_.search+_.hash:b=!0}catch{uo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=SP(d,{relative:a}),[R,W,z]=oL(n,y),B=mL(d,{replace:i,state:c,target:l,preventScrollReset:u,relative:a,viewTransition:h});function g(k){e&&e(k),k.defaultPrevented||B(k)}let I=D.createElement("a",{...y,...z,href:A||S,onClick:b||o?e:g,ref:dL(m,W),target:l,"data-discover":!v&&r==="render"?"true":void 0});return R&&!v?D.createElement(D.Fragment,null,I,D.createElement(iL,{page:S})):I});f4.displayName="Link";var fL=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:i,viewTransition:c,children:l,...d},u){let h=Qf(i,{relative:d.relative}),y=Il(),m=D.useContext(cm),{navigator:w,basename:v}=D.useContext(ho),A=m!=null&&vL(h)&&c===!0,b=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,S=y.pathname,R=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(S=S.toLowerCase(),R=R?R.toLowerCase():null,b=b.toLowerCase()),R&&v&&(R=vi(R,v)||R);const W=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let z=S===b||!a&&S.startsWith(b)&&S.charAt(W)==="/",B=R!=null&&(R===b||!a&&R.startsWith(b)&&R.charAt(b.length)==="/"),g={isActive:z,isPending:B,isTransitioning:A},I=z?e:void 0,k;typeof n=="function"?k=n(g):k=[n,z?"active":null,B?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let _=typeof o=="function"?o(g):o;return D.createElement(f4,{...d,"aria-current":I,className:k,ref:u,style:_,to:i,viewTransition:c},typeof l=="function"?l(g):l)});fL.displayName="NavLink";var hL=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:o,method:i=Ap,action:c,onSubmit:l,relative:d,preventScrollReset:u,viewTransition:h,...y},m)=>{let w=xL(),v=bL(c,{relative:d}),A=i.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&u4.test(c),S=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let W=R.nativeEvent.submitter,z=(W==null?void 0:W.getAttribute("formmethod"))||i;w(W||R.currentTarget,{fetcherKey:e,method:z,navigate:r,replace:a,state:o,relative:d,preventScrollReset:u,viewTransition:h})};return D.createElement("form",{ref:m,method:A,action:v,onSubmit:n?l:S,...y,"data-discover":!b&&t==="render"?"true":void 0})});hL.displayName="Form";function pL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h4(t){let e=D.useContext(Yd);return tn(e,pL(t)),e}function mL(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:i}={}){let c=_v(),l=Il(),d=Qf(t,{relative:o});return D.useCallback(u=>{if(WP(u,e)){u.preventDefault();let h=r!==void 0?r:Rf(l)===Rf(d);c(t,{replace:h,state:n,preventScrollReset:a,relative:o,viewTransition:i})}},[l,c,d,r,n,e,t,a,o,i])}var gL=0,yL=()=>`__${String(++gL)}__`;function xL(){let{router:t}=h4("useSubmit"),{basename:e}=D.useContext(ho),r=OP();return D.useCallback(async(n,a={})=>{let{action:o,method:i,encType:c,formData:l,body:d}=KP(n,e);if(a.navigate===!1){let u=a.fetcherKey||yL();await t.fetch(u,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:l,body:d,formMethod:a.method||i,formEncType:a.encType||c,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:l,body:d,formMethod:a.method||i,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function bL(t,{relative:e}={}){let{basename:r}=D.useContext(ho),n=D.useContext(Ho);tn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Qf(t||".",{relative:e})},i=Il();if(t==null){o.search=i.search;let c=new URLSearchParams(o.search),l=c.getAll("index");if(l.some(u=>u==="")){c.delete("index"),l.filter(h=>h).forEach(h=>c.append("index",h));let u=c.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:hi([r,o.pathname])),Rf(o)}function vL(t,e={}){let r=D.useContext(n4);tn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=h4("useViewTransitionState"),a=Qf(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=vi(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=vi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return p0(a.pathname,i)!=null||p0(a.pathname,o)!=null}[...nL];/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ut=(t,e)=>{const r=D.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:l,...d},u)=>D.createElement("svg",{ref:u,...wL,width:a,height:a,stroke:n,strokeWidth:i?Number(o)*24/Number(a):o,className:["lucide",`lucide-${kL(t)}`,c].join(" "),...d},[...e.map(([h,y])=>D.createElement(h,y)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=Ut("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Ut("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Ut("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=Ut("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Ut("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Ut("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Ut("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Ut("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Ut("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=Ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Ut("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=Ut("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Ut("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Ut("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Ut("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=Ut("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=Ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Ut("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=Ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=Ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=Ut("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Ut("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Ut("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Ut("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Ut("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Ut("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=Ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=Ut("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=Ut("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=Ut("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=Ut("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=Ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zL({onPageChange:t,currentPage:e}){const[r,n]=D.useState(null),[a,o]=D.useState(!1),i=JSON.parse(localStorage.getItem("userPermissions")||"[]"),c=[{icon:IL,label:"Dashboard",href:"dashboard"},{icon:NL,label:"Pagamentos",href:"payments",submenu:[{label:"Central de Pagamentos",href:"payment-center"},{label:"Solicitaes de Pagamento",href:"payment-requests"}]},{icon:CL,label:"Recebimentos",href:"receivables",submenu:[{label:"Central de Recebimentos",href:"receivables-center"},{label:"Aprovaes de Pagamento",href:"payment-approvals"}]},{icon:m0,label:"Caixas e Bancos",href:"reconciliation",submenu:[{label:"Extrato Bancrio",href:"bank-statement"},{label:"Conciliao de Contas",href:"bank-reconciliation"},{label:"Conciliao de Cartes",href:"credit-card-reconciliation"}]},{icon:fm,label:"Estornos",href:"refunds",submenu:[{label:"Solicitaes de Estorno",href:"refund-requests"},{label:"Motivos de Estorno",href:"refund-reasons"},{label:"Responsveis por Estorno",href:"refund-responsibles"}]},{icon:bc,label:"Balano",href:"balance",submenu:[{label:"Depreciao de Ativos",href:"asset-depreciation"},{label:"Gesto de Passivos",href:"passives"},{label:"Patrimnio Lquido",href:"equity"}]},{icon:_l,label:"Relatrios",href:"reports",submenu:[{label:"DRE",href:"income-statement"},{label:"Fluxo de Caixa",href:"cash-flow"},{label:"Exportao Contbil",href:"accounting-export"}]},{icon:ML,label:"Configuraes",href:"settings",submenu:[{label:"Cadastro de CNPJs",href:"cnpjs"},{label:"Usurios",href:"users"},{label:"Permisses",href:"permissions"},{label:"Categorias Financeiras",href:"financial-categories"},{label:"Formas de Pagamento",href:"payment-methods"},{label:"Contas Bancrias",href:"bank-accounts"},{label:"Configurao de E-mail",href:"email-config"},{label:"Configurao DDA",href:"dda-config"},{label:"Alertas Financeiros",href:"alerts"}]},{icon:RL,label:"Sair",href:"logout"}],l=h=>{n(r===h?null:h)},d=(h,y)=>{y.stopPropagation(),t(h),n(null)},u=h=>i.includes(h);return s.jsxs("aside",{className:`fixed left-0 top-0 h-screen bg-white dark:bg-secondary-900 border-r border-secondary-200 dark:border-secondary-800 z-20 transition-all duration-300 ease-in-out ${a?"w-64":"w-16"}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[s.jsx("div",{className:"h-16 flex items-center justify-center px-4 border-b border-secondary-200 dark:border-secondary-800",children:a?s.jsx("h1",{className:"text-xl font-semibold text-secondary-900 dark:text-white truncate transition-all duration-300",children:"Sistema Financeiro"}):s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"SF"})})}),s.jsx("nav",{className:"mt-4 overflow-y-auto h-[calc(100vh-4rem)]",children:c.filter(h=>h.href==="logout"?!0:h.submenu?h.submenu.some(y=>u(y.href)):u(h.href)).map(h=>s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h.submenu?l(h.href):t(h.href),className:`w-full flex items-center px-4 py-3 text-secondary-600 dark:text-secondary-300 hover:bg-primary-50 dark:hover:bg-secondary-800 hover:text-primary-600 dark:hover:text-primary-400 transition-colors ${e===h.href||h.submenu&&h.submenu.some(y=>y.href===e)?"bg-primary-50 dark:bg-secondary-800 text-primary-600 dark:text-primary-400":""}`,children:[s.jsx(h.icon,{className:`h-5 w-5 min-w-[20px] ${a?"mr-3":"mx-auto"}`}),a&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium whitespace-nowrap",children:h.label}),h.submenu&&s.jsx(PL,{className:`h-4 w-4 ml-auto transition-transform duration-300 ${r===h.href?"rotate-90":""}`})]})]}),a&&h.submenu&&r===h.href&&s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"ml-12 py-2",children:h.submenu.filter(y=>u(y.href)).map(y=>s.jsx("button",{onClick:m=>d(y.href,m),className:`w-full text-left px-4 py-2 text-sm text-secondary-600 dark:text-secondary-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors whitespace-nowrap ${e===y.href?"text-primary-600 dark:text-primary-400":""}`,children:y.label},y.href))})})]},h.href))})]})}function VL({theme:t,onThemeToggle:e}){return s.jsx("header",{className:"h-16 bg-white dark:bg-secondary-900 border-b border-secondary-200 dark:border-secondary-800 fixed top-0 right-0 left-16 z-10",children:s.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{className:"flex items-center space-x-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-2 text-secondary-700 dark:text-secondary-200 hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx("span",{children:"Todos os CNPJs"}),s.jsx(Ix,{className:"h-4 w-4"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"p-2 hover:bg-primary-50 dark:hover:bg-secondary-800 rounded-lg text-secondary-600 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.jsx(AL,{className:"h-5 w-5"})}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-primary-50 dark:hover:bg-secondary-800 rounded-lg text-secondary-600 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t==="light"?s.jsx(OL,{className:"h-5 w-5"}):s.jsx($L,{className:"h-5 w-5"})}),s.jsx("div",{className:"flex items-center space-x-3 pl-4 border-l border-secondary-200 dark:border-secondary-700",children:s.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"JD"})})})]})]})})}function dn({children:t,requiredPermission:e}){return JSON.parse(localStorage.getItem("userPermissions")||"[]").includes(e)?t:s.jsx(Ku,{to:"/login",replace:!0})}const HL="modulepreload",WL=function(t){return"/"+t},P1={},ki=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=WL(l),l in P1)return;P1[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":HL,d||(h.as="script"),h.crossOrigin="",h.href=l,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((y,m)=>{h.addEventListener("load",y),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return a.then(i=>{for(const c of i||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},GL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ki(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Rv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class JL extends Rv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class KL extends Rv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class YL extends Rv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Rx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rx||(Rx={}));var XL=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(h){i(h)}}function l(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};class QL{constructor(e,{headers:r={},customFetch:n,region:a=Rx.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=GL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return XL(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=r;let c={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let d;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(c["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(c["Content-Type"]="application/json",d=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:d}).catch(w=>{throw new JL(w)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new KL(u);if(!u.ok)throw new YL(u);let y=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return y==="application/json"?m=yield u.json():y==="application/octet-stream"?m=yield u.blob():y==="text/event-stream"?m=u:y==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Ua={},Tv={},hm={},Zf={},pm={},mm={},ZL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fd=ZL();const e7=Fd.fetch,w4=Fd.fetch.bind(Fd),k4=Fd.Headers,t7=Fd.Request,r7=Fd.Response,Zd=Object.freeze(Object.defineProperty({__proto__:null,Headers:k4,Request:t7,Response:r7,default:w4,fetch:e7},Symbol.toStringTag,{value:"Module"})),n7=g_(Zd);var gm={};Object.defineProperty(gm,"__esModule",{value:!0});let a7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};gm.default=a7;var j4=ps&&ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mm,"__esModule",{value:!0});const s7=j4(n7),o7=j4(gm);let i7=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=s7.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,c,l;let d=null,u=null,h=null,y=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),A=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&A&&A.length>1&&(h=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,y=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await o.text();try{d=JSON.parse(v),Array.isArray(d)&&o.status===404&&(u=[],d=null,y=200,m="OK")}catch{o.status===404&&v===""?(y=204,m="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,y=200,m="OK"),d&&this.shouldThrowOnError)throw new o7.default(d)}return{error:d,data:u,count:h,status:y,statusText:m}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,c,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(c=o==null?void 0:o.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};mm.default=i7;var l7=ps&&ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pm,"__esModule",{value:!0});const c7=l7(mm);let d7=class extends c7.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",c=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${c?`${c},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var c;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${l};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pm.default=d7;var u7=ps&&ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zf,"__esModule",{value:!0});const f7=u7(pm);let h7=class extends f7.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Zf.default=h7;var p7=ps&&ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hm,"__esModule",{value:!0});const Bu=p7(Zf);let m7=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Bu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(i.length>0){const c=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new Bu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){const i="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const l=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Bu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Bu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Bu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hm.default=m7;var ym={},xm={};Object.defineProperty(xm,"__esModule",{value:!0});xm.version=void 0;xm.version="0.0.0-automated";Object.defineProperty(ym,"__esModule",{value:!0});ym.DEFAULT_HEADERS=void 0;const g7=xm;ym.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${g7.version}`};var N4=ps&&ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tv,"__esModule",{value:!0});const y7=N4(hm),x7=N4(Zf),b7=ym;let v7=class S4{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},b7.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new y7.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new S4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:o}={}){let i;const c=new URL(`${this.url}/rpc/${e}`);let l;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{c.searchParams.append(u,h)})):(i="POST",l=r);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new x7.default({method:i,url:c,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Tv.default=v7;var eu=ps&&ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.PostgrestError=Ua.PostgrestBuilder=Ua.PostgrestTransformBuilder=Ua.PostgrestFilterBuilder=Ua.PostgrestQueryBuilder=Ua.PostgrestClient=void 0;const C4=eu(Tv);Ua.PostgrestClient=C4.default;const _4=eu(hm);Ua.PostgrestQueryBuilder=_4.default;const E4=eu(Zf);Ua.PostgrestFilterBuilder=E4.default;const A4=eu(pm);Ua.PostgrestTransformBuilder=A4.default;const P4=eu(mm);Ua.PostgrestBuilder=P4.default;const L4=eu(gm);Ua.PostgrestError=L4.default;var w7=Ua.default={PostgrestClient:C4.default,PostgrestQueryBuilder:_4.default,PostgrestFilterBuilder:E4.default,PostgrestTransformBuilder:A4.default,PostgrestBuilder:P4.default,PostgrestError:L4.default};const{PostgrestClient:k7,PostgrestQueryBuilder:EW,PostgrestFilterBuilder:AW,PostgrestTransformBuilder:PW,PostgrestBuilder:LW,PostgrestError:DW}=w7,j7="2.11.2",N7={"X-Client-Info":`realtime-js/${j7}`},S7="1.0.0",D4=1e4,C7=1e3;var bd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bd||(bd={}));var ls;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ls||(ls={}));var so;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(so||(so={}));var Tx;(function(t){t.websocket="websocket"})(Tx||(Tx={}));var Xl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xl||(Xl={}));class _7{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const c=n.decode(e.slice(i,i+a));i=i+a;const l=n.decode(e.slice(i,i+o));i=i+o;const d=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:c,event:l,payload:d}}}let I4=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Vr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Vr||(Vr={}));const L1=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=E7(i,t,e,a),o),{})},E7=(t,e,r,n)=>{const a=e.find(c=>c.name===t),o=a==null?void 0:a.type,i=r[t];return o&&!n.includes(o)?R4(o,i):Ox(i)},R4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return D7(e,r)}switch(t){case Vr.bool:return A7(e);case Vr.float4:case Vr.float8:case Vr.int2:case Vr.int4:case Vr.int8:case Vr.numeric:case Vr.oid:return P7(e);case Vr.json:case Vr.jsonb:return L7(e);case Vr.timestamp:return I7(e);case Vr.abstime:case Vr.date:case Vr.daterange:case Vr.int4range:case Vr.int8range:case Vr.money:case Vr.reltime:case Vr.text:case Vr.time:case Vr.timestamptz:case Vr.timetz:case Vr.tsrange:case Vr.tstzrange:return Ox(e);default:return Ox(e)}},Ox=t=>t,A7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},P7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},L7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},D7=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(c=>R4(e,c))}return t},I7=t=>typeof t=="string"?t.replace(" ","T"):t,T4=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Yg{constructor(e,r,n={},a=D4){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(D1||(D1={}));class lf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:i,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lf.syncState(this.state,a,o,i),this.pendingDiffs.forEach(l=>{this.state=lf.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=lf.syncDiff(this.state,a,o,i),c())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const o=this.cloneDeep(e),i=this.transformState(r),c={},l={};return this.map(o,(d,u)=>{i[d]||(l[d]=u)}),this.map(i,(d,u)=>{const h=o[d];if(h){const y=u.map(A=>A.presence_ref),m=h.map(A=>A.presence_ref),w=u.filter(A=>m.indexOf(A.presence_ref)<0),v=h.filter(A=>y.indexOf(A.presence_ref)<0);w.length>0&&(c[d]=w),v.length>0&&(l[d]=v)}else c[d]=u}),this.syncDiff(o,{joins:c,leaves:l},n,a)}static syncDiff(e,r,n,a){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(c,l)=>{var d;const u=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(l),u.length>0){const h=e[c].map(m=>m.presence_ref),y=u.filter(m=>h.indexOf(m.presence_ref)<0);e[c].unshift(...y)}n(c,u,l)}),this.map(i,(c,l)=>{let d=e[c];if(!d)return;const u=l.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[c]=d,a(c,d,l),d.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var I1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(I1||(I1={}));var R1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(R1||(R1={}));var ii;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ii||(ii={}));class Ov{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ls.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yg(this,so.join,this.params,this.timeout),this.rejoinTimer=new I4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ls.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ls.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ls.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ls.errored,this.rejoinTimer.scheduleTimeout())}),this._on(so.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new lf(this),this.broadcastEndpointURL=T4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:c}}=this.params;this._onError(u=>e==null?void 0:e(ii.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ii.CLOSED));const l={},d={broadcast:o,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(ii.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,m=(h=y==null?void 0:y.length)!==null&&h!==void 0?h:0,w=[];for(let v=0;v<m;v++){const A=y[v],{filter:{event:b,schema:S,table:R,filter:W}}=A,z=u&&u[v];if(z&&z.event===b&&z.schema===S&&z.table===R&&z.filter===W)w.push(Object.assign(Object.assign({},A),{id:z.id}));else{this.unsubscribe(),e==null||e(ii.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ii.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(ii.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ii.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,c,l;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(i=this.params)===null||i===void 0?void 0:i.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ls.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(so.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Yg(this,so.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Yg(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,o;const i=e.toLocaleLowerCase(),{close:c,error:l,leave:d,join:u}=so;if(n&&[c,l,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let y=this._onMessage(i,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var w,v,A;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((A=(v=m.filter)===null||v===void 0?void 0:v.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===i}).map(m=>m.callback(y,n)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var w,v,A,b,S,R;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const W=m.id,z=(w=m.filter)===null||w===void 0?void 0:w.event;return W&&((v=r.ids)===null||v===void 0?void 0:v.includes(W))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const W=(S=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return W==="*"||W===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:v,table:A,commit_timestamp:b,type:S,errors:R}=w;y=Object.assign(Object.assign({},{schema:v,table:A,commit_timestamp:b,eventType:S,new:{},old:{},errors:R}),this._getPayloadRecords(w))}m.callback(y,n)})}_isClosed(){return this.state===ls.closed}_isJoined(){return this.state===ls.joined}_isJoining(){return this.state===ls.joining}_isLeaving(){return this.state===ls.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Ov.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(so.close,{},e)}_onError(e){this._on(so.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ls.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=L1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=L1(e.columns,e.old_record)),r}}const R7=()=>{},T7=typeof WebSocket<"u",O7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class M7{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=N7,this.params={},this.timeout=D4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=R7,this.conn=null,this.sendBuffer=[],this.serializer=new _7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...c)=>ki(async()=>{const{default:l}=await Promise.resolve().then(()=>Zd);return{default:l}},void 0).then(({default:l})=>l(...c)):i=fetch,(...c)=>i(...c)},this.endPoint=`${e}/${Tx.websocket}`,this.httpEndpoint=T4(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new I4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(T7){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new F7(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ki(async()=>{const{default:e}=await import("./browser-6wehh7_S.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:S7}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bd.connecting:return Xl.Connecting;case bd.open:return Xl.Open;case bd.closing:return Xl.Closing;default:return Xl.Closed}}isConnected(){return this.connectionState()===Xl.Open}channel(e,r={config:{}}){const n=new Ov(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:a,ref:o}=e,i=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(so.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(C7,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(so.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([O7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class F7{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bd.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Mv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class B7 extends Mv{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mx extends Mv{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var $7=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(h){i(h)}}function l(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};const O4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ki(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},q7=()=>$7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ki(()=>Promise.resolve().then(()=>Zd),void 0)).Response:Response}),Fx=t=>{if(Array.isArray(t))return t.map(r=>Fx(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Fx(n)}),e};var wc=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(h){i(h)}}function l(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};const Xg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),U7=(t,e,r)=>wc(void 0,void 0,void 0,function*(){const n=yield q7();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new B7(Xg(a),t.status||500))}).catch(a=>{e(new Mx(Xg(a),a))}):e(new Mx(Xg(t),t))}),z7=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function eh(t,e,r,n,a,o){return wc(this,void 0,void 0,function*(){return new Promise((i,c)=>{t(r,z7(e,n,a,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>U7(l,c,n))})})}function g0(t,e,r,n){return wc(this,void 0,void 0,function*(){return eh(t,"GET",e,r,n)})}function al(t,e,r,n,a){return wc(this,void 0,void 0,function*(){return eh(t,"POST",e,n,a,r)})}function V7(t,e,r,n,a){return wc(this,void 0,void 0,function*(){return eh(t,"PUT",e,n,a,r)})}function H7(t,e,r,n){return wc(this,void 0,void 0,function*(){return eh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function M4(t,e,r,n,a){return wc(this,void 0,void 0,function*(){return eh(t,"DELETE",e,n,a,r)})}var $a=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(h){i(h)}}function l(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};const W7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class G7{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=O4(a)}uploadOrUpdate(e,r,n,a){return $a(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},T1),a);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,c["cache-control"]=`max-age=${i.cacheControl}`,c["content-type"]=i.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(c=Object.assign(Object.assign({},c),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:c},i!=null&&i.duplex?{duplex:i.duplex}:{})),y=yield h.json();return h.ok?{data:{path:d,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(o){if(Jn(o))return{data:null,error:o};throw o}})}upload(e,r,n){return $a(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return $a(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${i}`);c.searchParams.set("token",r);try{let l;const d=Object.assign({upsert:T1.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:u}),y=yield h.json();return h.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Jn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return $a(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield al(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+o.url),c=i.searchParams.get("token");if(!c)throw new Mv("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:c},error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}update(e,r,n){return $a(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return $a(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return $a(this,void 0,void 0,function*(){try{return{data:{path:(yield al(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return $a(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield al(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return $a(this,void 0,void 0,function*(){try{const a=yield al(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}download(e,r){return $a(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield g0(this.fetch,`${this.url}/${a}/${c}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Jn(c))return{data:null,error:c};throw c}})}info(e){return $a(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield g0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fx(n),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}exists(e){return $a(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield H7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Jn(n)&&n instanceof Mx){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${d}`)}}}remove(e){return $a(this,void 0,void 0,function*(){try{return{data:yield M4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}list(e,r,n){return $a(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},W7),r),{prefix:e||""});return{data:yield al(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Jn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const J7="2.7.1",K7={"X-Client-Info":`storage-js/${J7}`};var Hc=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(h){i(h)}}function l(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};class Y7{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},K7),r),this.fetch=O4(n)}listBuckets(){return Hc(this,void 0,void 0,function*(){try{return{data:yield g0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Jn(e))return{data:null,error:e};throw e}})}getBucket(e){return Hc(this,void 0,void 0,function*(){try{return{data:yield g0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Hc(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Hc(this,void 0,void 0,function*(){try{return{data:yield V7(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Jn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Hc(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Hc(this,void 0,void 0,function*(){try{return{data:yield M4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Jn(r))return{data:null,error:r};throw r}})}}class X7 extends Y7{constructor(e,r={},n){super(e,r,n)}from(e){return new G7(this.url,this.headers,e,this.fetch)}}const Q7="2.49.8";let Yu="";typeof Deno<"u"?Yu="deno":typeof document<"u"?Yu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yu="react-native":Yu="node";const Z7={"X-Client-Info":`supabase-js-${Yu}/${Q7}`},eD={headers:Z7},tD={schema:"public"},rD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nD={};var aD=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(h){i(h)}}function l(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};const sD=t=>{let e;return t?e=t:typeof fetch>"u"?e=w4:e=fetch,(...r)=>e(...r)},oD=()=>typeof Headers>"u"?k4:Headers,iD=(t,e,r)=>{const n=sD(r),a=oD();return(o,i)=>aD(void 0,void 0,void 0,function*(){var c;const l=(c=yield e())!==null&&c!==void 0?c:t;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:d}))})};var lD=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(h){i(h)}}function l(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};function cD(t){return t.endsWith("/")?t:t+"/"}function dD(t,e){var r,n;const{db:a,auth:o,realtime:i,global:c}=t,{db:l,auth:d,realtime:u,global:h}=e,y={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>lD(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const F4="2.69.1",Xc=30*1e3,Bx=3,Qg=Bx*Xc,uD="http://localhost:9999",fD="supabase.auth.token",hD={"X-Client-Info":`gotrue-js/${F4}`},$x="X-Supabase-Api-Version",B4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mD=6e5;class Fv extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Zt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gD extends Fv{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yD(t){return Zt(t)&&t.name==="AuthApiError"}class $4 extends Fv{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Rl extends Fv{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class el extends Rl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xD(t){return Zt(t)&&t.name==="AuthSessionMissingError"}class Zg extends Rl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zh extends Rl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ep extends Rl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bD(t){return Zt(t)&&t.name==="AuthImplicitGrantRedirectError"}class O1 extends Rl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qx extends Rl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ey(t){return Zt(t)&&t.name==="AuthRetryableFetchError"}class M1 extends Rl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cf extends Rl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const F1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),B1=` 	
\r=`.split(""),vD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<B1.length;e+=1)t[B1[e].charCodeAt(0)]=-2;for(let e=0;e<F1.length;e+=1)t[F1[e].charCodeAt(0)]=e;return t})();function q4(t,e,r){const n=vD[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $1(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{jD(i,n,r)};for(let i=0;i<t.length;i+=1)q4(t.charCodeAt(i),a,o);return e.join("")}function wD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function kD(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}wD(n,e)}}function jD(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ND(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)q4(t.charCodeAt(a),r,n);return new Uint8Array(e)}function SD(t){const e=[];return kD(t,r=>e.push(r)),new Uint8Array(e)}function CD(t){return Math.round(Date.now()/1e3)+t}function _D(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Lo=()=>typeof window<"u"&&typeof document<"u",Hl={tested:!1,writable:!1},df=()=>{if(!Lo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hl.tested)return Hl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Hl.tested=!0,Hl.writable=!0}catch{Hl.tested=!0,Hl.writable=!1}return Hl.writable};function ED(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const U4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ki(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},AD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",z4=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},tp=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rp=async(t,e)=>{await t.removeItem(e)};class bm{constructor(){this.promise=new bm.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}bm.promiseConstructor=Promise;function ty(t){const e=t.split(".");if(e.length!==3)throw new cf("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!pD.test(e[n]))throw new cf("JWT not in base64url format");return{header:JSON.parse($1(e[0])),payload:JSON.parse($1(e[1])),signature:ND(e[2]),raw:{header:e[0],payload:e[1]}}}async function PD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LD(t,e){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){a(i);return}}})()})}function DD(t){return("0"+t.toString(16)).substr(-2)}function ID(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,DD).join("")}async function RD(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function TD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await RD(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wc(t,e,r=!1){const n=ID();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await z4(t,`${e}-code-verifier`,a);const o=await TD(n);return[o,n===o?"plain":"s256"]}const OD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MD(t){const e=t.headers.get($x);if(!e||!e.match(OD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function FD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function BD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var $D=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Kl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qD=[502,503,504];async function q1(t){var e;if(!AD(t))throw new qx(Kl(t),0);if(qD.includes(t.status))throw new qx(Kl(t),t.status);let r;try{r=await t.json()}catch(o){throw new $4(Kl(o),o)}let n;const a=MD(t);if(a&&a.getTime()>=B4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new M1(Kl(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new el}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new M1(Kl(r),t.status,r.weak_password.reasons);throw new gD(Kl(r),t.status||500,n)}const UD=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ir(t,e,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[$x]||(o[$x]=B4["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const c=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await zD(t,e,r+c,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function zD(t,e,r,n,a,o){const i=UD(e,n,a,o);let c;try{c=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new qx(Kl(l),0)}if(c.ok||await q1(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await q1(l)}}function tl(t){var e;let r=null;GD(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=CD(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function U1(t){const e=tl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ll(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function VD(t){return{data:t,error:null}}function HD(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=t,i=$D(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},l=Object.assign({},i);return{data:{properties:c,user:l},error:null}}function WD(t){return t}function GD(t){return t.access_token&&t.refresh_token&&t.expires_in}var JD=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class KD{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=U4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await ir(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ir(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ll})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=JD(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ir(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:HD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Zt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ir(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ll})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,o,i,c,l;try{const d={nextPage:null,lastPage:0,total:0},u=await ir(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:WD});if(u.error)throw u.error;const h=await u.json(),y=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(w.split(";")[1].split("=")[1]);d[`${A}Page`]=v}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Zt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await ir(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ll})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await ir(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ll})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await ir(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ll})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await ir(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await ir(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}}const YD={getItem:t=>df()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{df()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{df()&&globalThis.localStorage.removeItem(t)}};function z1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function XD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gc={debug:!!(globalThis&&df()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class QD extends V4{}async function ZD(t,e,r){Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new QD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}XD();const e8={url:uD,storageKey:fD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function V1(t,e,r){return await r()}class Of{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Of.nextInstanceID,Of.nextInstanceID+=1,this.instanceID>0&&Lo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},e8),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new KD({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=U4(a.fetch),this.lock=a.lock||V1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Lo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ZD:this.lock=V1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:df()?this.storage=YD:(this.memoryStorage={},this.storage=z1(this.memoryStorage)):(this.memoryStorage={},this.storage=z1(this.memoryStorage)),Lo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${F4}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ED(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lo()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),bD(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",c),await this._saveSession(i),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Zt(r)?{error:r}:{error:new $4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:tl}),{data:i,error:c}=o;if(c||!i)return{data:{user:null,session:null},error:c};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(Zt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,a;try{let o;if("email"in e){const{email:u,password:h,options:y}=e;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Wc(this.storage,this.storageKey)),o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:u,password:h,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:m,code_challenge_method:w},xform:tl})}else if("phone"in e){const{phone:u,password:h,options:y}=e;o=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:tl})}else throw new Zh("You must provide either an email or phone number and a password");const{data:i,error:c}=o;if(c||!i)return{data:{user:null,session:null},error:c};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(Zt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:c}=e;r=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:U1})}else if("phone"in e){const{phone:o,password:i,options:c}=e;r=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:U1})}else throw new Zh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Zg}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await tp(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:i}=await ir(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:tl});if(await rp(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Zg}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(Zt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:o,nonce:i}=e,c=await ir(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tl}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,o,i;try{if("email"in e){const{email:c,options:l}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Wc(this.storage,this.storageKey));const{error:h}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:c,options:l}=e,{data:d,error:u}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Zh("You must provide either an email or phone number.")}catch(c){if(Zt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var r,n;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:c}=await ir(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:tl});if(c)throw c;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,d=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(Zt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Wc(this.storage,this.storageKey)),await ir(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:VD})}catch(o){if(Zt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new el;const{error:a}=await ir(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Zt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:o}=e,{error:i}=await ir(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:a,options:o}=e,{data:i,error:c}=await ir(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:c}}throw new Zh("You must provide either an email or phone number and a type")}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await tp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Qg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:e},error:null}}const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ll}):await this._useSession(async r=>{var n,a,o;const{data:i,error:c}=r;if(c)throw c;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new el}:await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:ll})})}catch(r){if(Zt(r))return xD(r)&&(await this._removeSession(),await rp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new el;const i=a.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await Wc(this.storage,this.storageKey));const{data:d,error:u}=await ir(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:i.access_token,xform:ll});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new el;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:i}=ty(e.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Zt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:c}=r;if(c)throw c;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new el;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Zt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Lo())throw new ep("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ep(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new O1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ep("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new O1("No code detected.");const{data:S,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:c,expires_at:l,token_type:d}=e;if(!o||!c||!i||!d)throw new ep("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(c);let y=u+h;l&&(y=parseInt(l));const m=y-u;m*1e3<=Xc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const w=y-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,u);const{data:v,error:A}=await this._getUser(o);if(A)throw A;const b={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:h,expires_at:y,refresh_token:i,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Zt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await tp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{error:o};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:c}=await this.admin.signOut(i,e);if(c&&!(yD(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await rp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=_D(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Wc(this.storage,this.storageKey,!0));try{return await ir(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Zt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var i,c,l,d,u;const{data:h,error:y}=o;if(y)throw y;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ir(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Lo()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Zt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)throw i;return await ir(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await LD(async a=>(a>0&&await PD(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ir(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tl})),(a,o)=>{const i=200*Math.pow(2,a);return o&&ey(o)&&Date.now()+i-n<Xc})}catch(n){if(this._debug(r,"error",n),Zt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Lo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await tp(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Qg;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Qg}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ey(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new el;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new bm;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new el;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(a,"error",o),Zt(o)){const i={session:null,error:o};return ey(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await z4(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await rp(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Xc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xc}ms, refresh threshold is ${Bx} ticks`),a<=Bx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof V4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Wc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(c.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await ir(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)return{data:null,error:i};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await ir(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:c}=await ir(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:c})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await ir(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ty(a.access_token);let c=null;i.aal&&(c=i.aal);let l=c;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(i=>i.kid===e);if(n||(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+mD>Date.now()))return n;const{data:a,error:o}=await ir(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new cf("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===e),!n)throw new cf("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:a,payload:o,signature:i,raw:{header:c,payload:l}}=ty(n);if(FD(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:o,header:a,signature:i},error:null}}const d=BD(a.alg),u=await this.fetchJwk(a.kid,r),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,SD(`${c}.${l}`)))throw new cf("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}}Of.nextInstanceID=0;const t8=Of;class r8 extends t8{constructor(e){super(e)}}var n8=function(t,e,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(h){i(h)}}function l(u){try{d(n.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(c,l)}d((n=n.apply(t,e||[])).next())})};class a8{constructor(e,r,n){var a,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=cD(e),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:tD,realtime:nD,auth:Object.assign(Object.assign({},rD),{storageKey:d}),global:eD},h=dD(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=iD(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new k7(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new QL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new X7(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return n8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:o,flowType:i,lock:c,debug:l},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r8({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:c,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new M7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const s8=(t,e,r)=>new a8(t,e,r),o8="https://lvlhrluhrmvfyutbywwn.supabase.co",i8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2bGhybHVocm12Znl1dGJ5d3duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzcyMjY1MDAsImV4cCI6MjA1MjgwMjUwMH0.E_vxC0uXwcxZoyVURoR3un4UC2cFifORCNNWcH-UxwY",De=s8(o8,i8,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1},global:{headers:{"X-Client-Info":"supabase-js-web"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});De.handleFailedRequest=async t=>{if(console.error("Supabase request failed:",t),t.message==="Failed to fetch"||t.code==="NETWORK_ERROR")throw new Error("No foi possvel conectar ao banco de dados. Por favor, verifique sua conexo e tente novamente.");if(t.status===401){const{data:{session:e},error:r}=await De.auth.getSession();throw r||!e?new Error("Sesso expirada. Por favor, faa login novamente."):new Error("Sesso atualizada. Por favor, tente novamente.")}throw new Error("Erro ao acessar o banco de dados. Por favor, tente novamente.")};const l8=async(t,e=3,r=1e3)=>{let n;for(let a=0;a<e;a++)try{return await t()}catch(o){n=o,a<e-1&&await new Promise(i=>setTimeout(i,r*(a+1)))}throw n};async function c8(t){const e=t.replace(/[^\d]/g,"");try{const r=await fetch(`https://brasilapi.com.br/api/cnpj/v1/${e}`);if(!r.ok)throw new Error("CNPJ no encontrado ou servio indisponvel");const n=await r.json();return{razao_social:n.razao_social,nome_fantasia:n.nome_fantasia||"",inscricao_estadual:"",situacao:n.descricao_situacao_cadastral,data_abertura:n.data_inicio_atividade,endereco:{logradouro:n.logradouro,numero:n.numero,bairro:n.bairro,cidade:n.municipio,uf:n.uf,cep:n.cep},email:n.email||"",telefone:n.ddd_telefone_1||""}}catch(r){throw console.error("Erro ao buscar dados do CNPJ:",r),new Error("No foi possvel buscar os dados do CNPJ")}}async function H4(){try{const{data:t,error:e}=await De.from("cnpjs").select("*").order("name");if(e)throw e;return t||[]}catch(t){throw console.error("Erro ao listar CNPJs:",t),t}}async function d8(t){try{const{data:e,error:r}=await De.from("cnpjs").insert([{...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return e}catch(e){throw console.error("Erro ao criar CNPJ:",e),new Error("No foi possvel criar o CNPJ")}}async function u8(t,e){try{const{data:r,error:n}=await De.from("cnpjs").update({...e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Erro ao atualizar CNPJ:",r),new Error("No foi possvel atualizar o CNPJ")}}async function f8(t){try{const{data:e,error:r}=await De.from("payment_requests").select("id").eq("cnpj_id",t);if(r)throw r;if(e&&e.length>0)throw new Error("No  possvel excluir este CNPJ pois existem solicitaes de pagamento vinculadas a ele.");const{data:n,error:a}=await De.from("bank_accounts").select("id").eq("cnpjId",t);if(a)throw a;if(n&&n.length>0)throw new Error("No  possvel excluir este CNPJ pois existem contas bancrias vinculadas a ele.");const{data:o,error:i}=await De.from("email_configs").select("id").eq("cnpj_id",t);if(i)throw i;if(o&&o.length>0)throw new Error("No  possvel excluir este CNPJ pois existem configuraes de e-mail vinculadas a ele.");const{data:c,error:l}=await De.from("dda_configs").select("id").eq("cnpj_id",t);if(l)throw l;if(c&&c.length>0)throw new Error("No  possvel excluir este CNPJ pois existem configuraes DDA vinculadas a ele.");const{error:d}=await De.from("cnpjs").delete().eq("id",t);if(d)throw d}catch(e){throw console.error("Erro ao excluir CNPJ:",e),e}}async function h8(t,e){try{const{data:r,error:n}=await De.from("cnpjs").update({active:e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Erro ao alterar status do CNPJ:",r),new Error("No foi possvel alterar o status do CNPJ")}}function p8(t){return t.replace(/\D/g,"").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")}function m8(t){const e=t.replace(/[^\d]/g,"");if(e.length!==14||/^(\d)\1+$/.test(e))return!1;let r=0,n=5;for(let o=0;o<12;o++)r+=parseInt(e[o])*n,n=n===2?9:n-1;let a=r%11<2?0:11-r%11;if(a!==parseInt(e[12]))return!1;r=0,n=6;for(let o=0;o<13;o++)r+=parseInt(e[o])*n,n=n===2?9:n-1;return a=r%11<2?0:11-r%11,a===parseInt(e[13])}function vd(t){return t.replace(/[^\d]/g,"").length>11}async function W4(){try{const{data:t,error:e}=await De.from("bank_accounts").select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).order("name");if(e)throw e;return t||[]}catch(t){return console.error("Erro ao listar contas bancrias:",t),[]}}async function g8(t){try{const{data:e,error:r}=await De.from("bank_accounts").insert([{...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(r)throw r;return e}catch(e){return console.error("Erro ao criar conta bancria:",e),null}}async function y8(t,e){try{const{data:r,error:n}=await De.from("bank_accounts").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar conta bancria:",r),null}}async function x8(t){try{const{error:e}=await De.from("bank_accounts").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Erro ao excluir conta bancria:",e),!1}}async function b8(t,e){try{const{data:r,error:n}=await De.from("bank_accounts").update({active:e,updated_at:new Date().toISOString()}).eq("id",t).select(`
        *,
        cnpj:cnpjs (
          id,
          cnpj,
          name
        )
      `).single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da conta bancria:",r),null}}function v8({isOpen:t,onClose:e,cnpj:r,onSuccess:n}){const[a,o]=D.useState({cnpj:"",name:"",tradingName:"",stateRegistration:"",registrationStatus:"",openingDate:"",address:"",number:"",neighborhood:"",city:"",state:"",zipCode:"",email:"",phone:"",active:!0,bank_account_id:""}),[i,c]=D.useState(!1),[l,d]=D.useState(""),[u,h]=D.useState([]);D.useEffect(()=>{o(r?{cnpj:r.cnpj,name:r.name,tradingName:r.tradingName||"",stateRegistration:r.stateRegistration||"",registrationStatus:r.registrationStatus||"",openingDate:r.openingDate||"",address:r.address||"",number:r.number||"",neighborhood:r.neighborhood||"",city:r.city||"",state:r.state||"",zipCode:r.zipCode||"",email:r.email||"",phone:r.phone||"",active:r.active,bank_account_id:r.bank_account_id||""}:{cnpj:"",name:"",tradingName:"",stateRegistration:"",registrationStatus:"",openingDate:"",address:"",number:"",neighborhood:"",city:"",state:"",zipCode:"",email:"",phone:"",active:!0,bank_account_id:""})},[r]),D.useEffect(()=>{(async()=>{try{const v=await W4();console.log(v),h(v)}catch(v){console.error("Error loading bank accounts:",v)}})()},[]);const y=async w=>{const v=p8(w);if(o(A=>({...A,cnpj:v})),v.length===18&&m8(v)){c(!0),d("");try{const A=await c8(v);o(b=>({...b,name:A.razao_social,tradingName:A.nome_fantasia,stateRegistration:A.inscricao_estadual,registrationStatus:A.situacao,openingDate:A.data_abertura,address:A.endereco.logradouro,number:A.endereco.numero,neighborhood:A.endereco.bairro,city:A.endereco.cidade,state:A.endereco.uf,zipCode:A.endereco.cep,email:A.email,phone:A.telefone}))}catch{d("No foi possvel buscar os dados do CNPJ. Por favor, preencha manualmente.")}finally{c(!1)}}},m=async w=>{w.preventDefault(),c(!0),d("");try{r?await u8(r.id,a):await d8(a),n()}catch{d("Erro ao salvar CNPJ. Por favor, tente novamente.")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10 rounded-t-xl",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar CNPJ":"Adicionar Novo CNPJ"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:m,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[l&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:l}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("input",{type:"text",value:a.cnpj,onChange:w=>y(w.target.value),disabled:i||!!r,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",placeholder:"00.000.000/0001-00"})]}),s.jsxs("div",{className:"",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Razo Social"}),s.jsx("input",{type:"text",value:a.name,onChange:w=>o(v=>({...v,name:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome Fantasia"}),s.jsx("input",{type:"text",value:a.tradingName,onChange:w=>o(v=>({...v,tradingName:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Inscrio Estadual"}),s.jsx("input",{type:"text",value:a.stateRegistration,onChange:w=>o(v=>({...v,stateRegistration:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Endereo"}),s.jsx("input",{type:"text",value:a.address,onChange:w=>o(v=>({...v,address:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero"}),s.jsx("input",{type:"text",value:a.number,onChange:w=>o(v=>({...v,number:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bairro"}),s.jsx("input",{type:"text",value:a.neighborhood,onChange:w=>o(v=>({...v,neighborhood:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cidade"}),s.jsx("input",{type:"text",value:a.city,onChange:w=>o(v=>({...v,city:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Estado"}),s.jsxs("select",{value:a.state,onChange:w=>o(v=>({...v,state:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione um estado"}),s.jsx("option",{value:"AC",children:"Acre"}),s.jsx("option",{value:"AL",children:"Alagoas"}),s.jsx("option",{value:"AP",children:"Amap"}),s.jsx("option",{value:"AM",children:"Amazonas"}),s.jsx("option",{value:"BA",children:"Bahia"}),s.jsx("option",{value:"CE",children:"Cear"}),s.jsx("option",{value:"DF",children:"Distrito Federal"}),s.jsx("option",{value:"ES",children:"Esprito Santo"}),s.jsx("option",{value:"GO",children:"Gois"}),s.jsx("option",{value:"MA",children:"Maranho"}),s.jsx("option",{value:"MT",children:"Mato Grosso"}),s.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),s.jsx("option",{value:"MG",children:"Minas Gerais"}),s.jsx("option",{value:"PA",children:"Par"}),s.jsx("option",{value:"PB",children:"Paraba"}),s.jsx("option",{value:"PR",children:"Paran"}),s.jsx("option",{value:"PE",children:"Pernambuco"}),s.jsx("option",{value:"PI",children:"Piau"}),s.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),s.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),s.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),s.jsx("option",{value:"RO",children:"Rondnia"}),s.jsx("option",{value:"RR",children:"Roraima"}),s.jsx("option",{value:"SC",children:"Santa Catarina"}),s.jsx("option",{value:"SP",children:"So Paulo"}),s.jsx("option",{value:"SE",children:"Sergipe"}),s.jsx("option",{value:"TO",children:"Tocantins"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CEP"}),s.jsx("input",{type:"text",value:a.zipCode,onChange:w=>o(v=>({...v,zipCode:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Padro"}),s.jsxs("select",{value:a.bank_account_id,onChange:w=>o(v=>({...v,bank_account_id:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.bank," - ",w.branch,"/",w.account]},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:w=>o(v=>({...v,email:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Telefone"}),s.jsx("input",{type:"tel",value:a.phone,onChange:w=>o(v=>({...v,phone:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 pt-6 border-t border-secondary-200 dark:border-secondary-700 sticky bottom-0 bg-white dark:bg-secondary-800 rounded-b-xl",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar CNPJ"})]})]})]})}):null}function w8({cnpjs:t,onEdit:e,onDelete:r,onToggleStatus:n}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(bc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum CNPJ cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Novo CNPJ" para comear a cadastrar empresas no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Razo Social"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome Fantasia"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.cnpj}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.tradingName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(_i,{className:"h-5 w-5"})})]})]},a.cnpj))})]})})}function Ei({isOpen:t,onClose:e,title:r,description:n,confirmLabel:a,cancelLabel:o,confirmVariant:i="primary",icon:c,onConfirm:l}){return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl shadow-xl w-full max-w-md",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c&&s.jsx(c,{className:`h-6 w-6 ${i==="danger"?"text-red-500 dark:text-red-400":"text-primary-500 dark:text-primary-400"}`}),s.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:r})]}),s.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:n})]}),s.jsxs("div",{className:"flex justify-end space-x-4 p-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:o}),s.jsx("button",{type:"button",onClick:l,className:`px-4 py-2 text-white rounded-lg transition-colors ${i==="danger"?"bg-red-500 hover:bg-red-600":"bg-primary-500 hover:bg-primary-600"}`,children:a})]})]})}):null}function k8(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState(null),[l,d]=D.useState([]),[u,h]=D.useState(!0),[y,m]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{h(!0),m(null);const z=await H4();d(z||[])}catch(z){m("Erro ao carregar CNPJs"),console.error(z)}finally{h(!1)}},v=()=>{c(null),e(!0)},A=z=>{c(z),e(!0)},b=z=>{c(z),n(!0)},S=async()=>{if(i)try{m(null),await f8(i.id),d(l.filter(z=>z.id!==i.id)),n(!1)}catch(z){m(z instanceof Error?z.message:"Erro ao excluir CNPJ"),n(!1)}},R=async z=>{try{m(null);const B=await h8(z.id,!z.active);B&&d(l.map(g=>g.id===z.id?B:g))}catch(B){m("Erro ao alterar o status do CNPJ"),console.error(B)}},W=l.filter(z=>{var B;return z.name.toLowerCase().includes(a.toLowerCase())||((B=z.tradingName)==null?void 0:B.toLowerCase().includes(a.toLowerCase()))||z.cnpj.includes(a)});return s.jsxs("div",{className:"p-4 sm:p-6",children:[y&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:y}),s.jsx("button",{onClick:()=>m(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Cadastro de CNPJs"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os CNPJs cadastrados no sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Novo CNPJ"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por CNPJ, Razo Social ou Nome Fantasia...",value:a,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(w8,{cnpjs:W,onEdit:A,onDelete:b,onToggleStatus:R})]}),s.jsx(v8,{isOpen:t,onClose:()=>e(!1),cnpj:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Ei,{isOpen:r,onClose:()=>n(!1),title:"Excluir CNPJ",description:`Tem certeza que deseja excluir o CNPJ ${i==null?void 0:i.cnpj}? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:S})]})}function j8({users:t,onEdit:e,onDelete:r,onToggleStatus:n}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(UL,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum usurio cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Novo Usurio" para comear a cadastrar usurios no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"E-mail"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.email}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(_i,{className:"h-5 w-5"})})]})]},a.id))})]})})}const N8="http://localhost:3001";async function S8(){try{const{data:t,error:e}=await De.from("system_users").select(`
        id,
        name,
        email,
        created_at,
        permissions
      `).order("name");if(e)throw e;return(t==null?void 0:t.map(n=>({...n,createdAt:n.created_at})))||[]}catch(t){return console.error("Erro ao listar usurios:",t),[]}}async function C8(t){try{const e=await fetch(`${N8}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,password:t.password,permissions:t.permissions})});if(!e.ok){const r=await e.json();return console.error("Erro ao criar usurio:",r),!1}return!0}catch(e){return console.error("Erro ao criar usurio:",e),null}}async function _8(t,e){try{const r={};e.name&&(r.name=e.name),e.email&&(r.email=e.email),e.permissions&&(r.permissions=e.permissions);const{data:n,error:a}=await De.from("system_users").update(r).eq("id",t).select().single();if(a)throw a;return n?(e.permissionId,{id:n.id,name:n.name,email:n.email,createdAt:n.created_at,updatedAt:n.updated_at||n.created_at}):null}catch(r){return console.error("Erro ao atualizar usurio:",r),null}}async function E8(t){try{const{error:e}=await De.from("system_users").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Erro ao excluir usurio:",e),!1}}async function A8(t,e){try{const{data:r,error:n}=await De.from("system_users").select(`
        id,
        name,
        email,
        created_at,
      `).eq("id",t).single();if(n)throw n;return r?{id:r.id,name:r.name,email:r.email,createdAt:r.created_at,updatedAt:r.updated_at||r.created_at}:null}catch(r){return console.error("Erro ao alterar status do usurio:",r),null}}const P8=[{label:"Dashboard",value:"dashboard"},{label:"Central de Pagamentos",value:"payment-center"},{label:"Solicitaes de Pagamento",value:"payment-requests"},{label:"Central de Recebimentos",value:"receivables-center"},{label:"Aprovaes de Pagamento",value:"payment-approvals"},{label:"Extrato Bancrio",value:"bank-statement"},{label:"Conciliao Bancria",value:"bank-reconciliation"},{label:"Conciliao de Carto",value:"credit-card-reconciliation"},{label:"Solicitaes de Estorno",value:"refund-requests"},{label:"Motivos de Estorno",value:"refund-reasons"},{label:"Responsveis por Estorno",value:"refund-responsibles"},{label:"Depreciao de Ativos",value:"asset-depreciation"},{label:"Passivos",value:"passives"},{label:"Patrimnio",value:"equity"},{label:"DRE",value:"income-statement"},{label:"Fluxo de Caixa",value:"cash-flow"},{label:"Exportao Contbil",value:"accounting-export"},{label:"CNPJs",value:"cnpjs"},{label:"Usurios",value:"users"},{label:"Permisses",value:"permissions"},{label:"Categorias Financeiras",value:"financial-categories"},{label:"Formas de Pagamento",value:"payment-methods"},{label:"Contas Bancrias",value:"bank-accounts"},{label:"Configurao de Email",value:"email-config"},{label:"Configurao DDA",value:"dda-config"},{label:"Alertas",value:"alerts"}];function L8({isOpen:t,onClose:e,user:r,onSuccess:n}){const[a,o]=D.useState({name:"",email:"",password:"",confirmPassword:"",permissions:[]}),[i,c]=D.useState(!1),[l,d]=D.useState("");D.useEffect(()=>{o(r?{name:r.name,email:r.email,password:"",confirmPassword:"",permissions:r.permissions||[]}:{name:"",email:"",password:"",confirmPassword:"",permissions:[]})},[r]);const u=y=>{o(m=>({...m,permissions:m.permissions.includes(y)?m.permissions.filter(w=>w!==y):[...m.permissions,y]}))},h=async y=>{if(y.preventDefault(),c(!0),d(""),!r&&a.password!==a.confirmPassword){d("As senhas no coincidem"),c(!1);return}try{r?await _8(r.id,{name:a.name,email:a.email,permissions:a.permissions}):await C8({name:a.name,email:a.email,password:a.password,permissions:a.permissions}),n(),e()}catch(m){console.error("Erro ao salvar usurio:",m),d("Erro ao salvar usurio. Por favor, tente novamente.")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Usurio":"Adicionar Novo Usurio"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:h,className:"p-4 sm:p-6 space-y-6",children:[l&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:l}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome Completo"}),s.jsx("input",{type:"text",value:a.name,onChange:y=>o(m=>({...m,name:y.target.value})),disabled:i,required:!0,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:y=>o(m=>({...m,email:y.target.value})),disabled:i||!!r,required:!0,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Senha"}),s.jsx("input",{type:"password",value:a.password,onChange:y=>o(m=>({...m,password:y.target.value})),disabled:i,required:!0,minLength:6,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Confirmar Senha"}),s.jsx("input",{type:"password",value:a.confirmPassword,onChange:y=>o(m=>({...m,confirmPassword:y.target.value})),disabled:i,required:!0,minLength:6,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Permisses de Acesso"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:P8.map(y=>s.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("input",{type:"checkbox",value:y.value,checked:a.permissions.includes(y.value),onChange:()=>u(y.value),className:"rounded border-secondary-300 text-primary-500 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-700 dark:text-secondary-300",children:y.label})]},y.value))})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg disabled:opacity-50",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar Usurio"})]})]})]})}):null}function D8(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState(null),[l,d]=D.useState([]),[u,h]=D.useState(!0),[y,m]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const[z]=await Promise.all([S8()]);d(z)}catch(z){m("Erro ao carregar dados"),console.error(z)}finally{h(!1)}},v=()=>{c(null),e(!0)},A=z=>{c(z),e(!0)},b=z=>{c(z),n(!0)},S=async()=>{if(i)try{await E8(i.id),d(l.filter(z=>z.id!==i.id)),n(!1)}catch(z){m("Erro ao excluir usurio"),console.error(z)}},R=async z=>{try{const B=await A8(z.id,!z.active);B&&d(l.map(g=>g.id===z.id?B:g))}catch(B){m("Erro ao alterar status do usurio"),console.error(B)}},W=l.filter(z=>z.name.toLowerCase().includes(a.toLowerCase())||z.email.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"p-4 sm:p-6",children:[y&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:y}),s.jsx("button",{onClick:()=>m(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Usurios"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os usurios do sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Novo Usurio"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou e-mail",value:a,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(j8,{users:W,onEdit:A,onDelete:b,onToggleStatus:R})]}),s.jsx(L8,{isOpen:t,onClose:()=>e(!1),user:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Ei,{isOpen:r,onClose:()=>n(!1),title:"Excluir Usurio",description:`Tem certeza que deseja excluir o usurio ${i==null?void 0:i.name}? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:S})]})}function I8({permissions:t,onEdit:e,onDelete:r}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(FL,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma permisso cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Permisso" para comear a definir os nveis de acesso.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(n=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:n.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:n.description||"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(n),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(n),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(_i,{className:"h-5 w-5"})})]})]},n.id))})]})})}const H1={dashboard:{name:"Dashboard",description:"Visualizao geral do sistema"},payments:{name:"Pagamentos",description:"Gesto de contas a pagar"},receivables:{name:"Recebimentos",description:"Gesto de contas a receber"},reconciliation:{name:"Conciliao",description:"Conciliao bancria"},refunds:{name:"Estornos",description:"Gesto de estornos"},balance:{name:"Balano",description:"Balano patrimonial"},reports:{name:"Relatrios",description:"Relatrios financeiros"},settings:{name:"Configuraes",description:"Configuraes do sistema"}},R8={REVENUE:[{value:"NO_DRE",label:"No Entrar no DRE"},{value:"OPERATIONAL_REVENUE",label:"Receita Operacional Bruta"},{value:"FINANCIAL_REVENUE",label:"Receita Financeira"},{value:"OTHER_REVENUES",label:"Outras Receitas"}],EXPENSE:[{value:"NO_DRE",label:"No Entrar no DRE"},{value:"DEDUCTIONS_FROM_REVENUE",label:"Dedues da Receita Bruta"},{value:"OPERATING_EXPENSES",label:"Despesas Operacionais"},{value:"FINANCIAL_EXPENSES",label:"Despesa Financeira"},{value:"OTHER_EXPENSES",label:"Outras Despesas"},{value:"INCOME_TAX",label:"IR e CSLL"}],BOTH:[]};async function T8(){try{const{data:t,error:e}=await De.from("permissions").select("*").order("name");if(e)throw e;return t||[]}catch(t){return console.error("Erro ao listar permisses:",t),[]}}async function O8(t){try{const{data:e,error:r}=await De.from("permissions").insert([{...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return e}catch(e){return console.error("Erro ao criar permisso:",e),null}}async function M8(t,e){try{const{data:r,error:n}=await De.from("permissions").update({...e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar permisso:",r),null}}async function F8(t){try{const{data:e,error:r}=await De.from("users").select("id").eq("permissionId",t);if(r)throw r;if(e&&e.length>0)throw new Error("No  possvel excluir esta permisso pois existem usurios vinculados a ela. Remova a permisso dos usurios primeiro.");const{error:n}=await De.from("permissions").delete().eq("id",t);if(n)throw n;return!0}catch(e){throw console.error("Erro ao excluir permisso:",e),e}}function B8({isOpen:t,onClose:e,permission:r,onSuccess:n}){const[a,o]=D.useState({name:"",description:"",modules:{}}),[i,c]=D.useState(!1),[l,d]=D.useState("");D.useEffect(()=>{if(r)o({name:r.name,description:r.description||"",modules:r.modules});else{const y=Object.keys(H1).reduce((m,w)=>({...m,[w]:{view:!1,edit:!1}}),{});o({name:"",description:"",modules:y})}},[r]);const u=(y,m,w)=>{o(v=>({...v,modules:{...v.modules,[y]:{...v.modules[y],[m]:w,...m==="edit"&&w?{view:!0}:{},...m==="view"&&!w?{edit:!1}:{}}}}))},h=async y=>{y.preventDefault(),c(!0),d("");try{if(r){if(!await M8(r.id,a))throw new Error("Erro ao atualizar permisso")}else if(!await O8(a))throw new Error("Erro ao criar permisso");n(),e()}catch(m){console.error("Erro ao salvar permisso:",m),d("Erro ao salvar permisso. Por favor, tente novamente.")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10 rounded-t-lg",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Permisso":"Criar Nova Permisso"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:h,className:"p-4 sm:p-6",children:[l&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:l}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Permisso"}),s.jsx("input",{type:"text",value:a.name,onChange:y=>o(m=>({...m,name:y.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:a.description,onChange:y=>o(m=>({...m,description:y.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-3",children:"Permisses de Acesso aos Mdulos"}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto pr-2 space-y-3 custom-scrollbar",children:Object.entries(H1).map(([y,m])=>{var w,v,A;return s.jsxs("div",{className:"p-4 border border-secondary-200 dark:border-secondary-700 rounded-lg",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:m.name}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:m.description})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:(w=a.modules[y])==null?void 0:w.view,onChange:b=>u(y,"view",b.target.checked),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Visualizar"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:(v=a.modules[y])==null?void 0:v.edit,onChange:b=>u(y,"edit",b.target.checked),disabled:i||!((A=a.modules[y])!=null&&A.view),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Editar"})]})]})]},y)})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Criar Permisso"})]})]})]})}):null}function $8(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState(null),[l,d]=D.useState([]),[u,h]=D.useState(!0),[y,m]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const W=await T8();d(W)}catch(W){m("Erro ao carregar permisses"),console.error(W)}finally{h(!1)}},v=()=>{c(null),e(!0)},A=W=>{c(W),e(!0)},b=W=>{c(W),n(!0)},S=async()=>{if(i)try{await F8(i.id),d(l.filter(W=>W.id!==i.id)),n(!1)}catch(W){m("Erro ao excluir permisso"),console.error(W)}},R=l.filter(W=>{var z;return W.name.toLowerCase().includes(a.toLowerCase())||((z=W.description)==null?void 0:z.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[y&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:y}),s.jsx("button",{onClick:()=>m(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Permisses"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as permisses de acesso ao sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Permisso"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:a,onChange:W=>o(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(I8,{permissions:R,onEdit:A,onDelete:b})]}),s.jsx(B8,{isOpen:t,onClose:()=>e(!1),permission:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Ei,{isOpen:r,onClose:()=>n(!1),title:"Excluir Permisso",description:`Tem certeza que deseja excluir a permisso "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:S})]})}function q8({paymentMethods:t,onEdit:e,onDelete:r,onToggleStatus:n}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(um,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma forma de pagamento cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Incluir Forma de Pagamento" para comear a cadastrar as formas de pagamento no sistema.'})]});const a=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o);return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[1200px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Condio de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Prazo (dias)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Alquota (%)"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Alquota Fixa"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.paymentCondition}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.settlementDays}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[o.aliquot.toFixed(2),"%"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(o.fixedAliquot)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.active,onChange:()=>n(o)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(o),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(_i,{className:"h-5 w-5"})})]})]},o.id))})]})})}async function U8(){try{const{data:t,error:e}=await De.from("payment_methods").select("*").order("type");if(e)throw e;return t||[]}catch(t){return console.error("Erro ao listar formas de pagamento:",t),[]}}async function z8(t){try{const{data:e,error:r}=await De.from("payment_methods").insert([{...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]).select().single();if(r)throw r;return e}catch(e){return console.error("Erro ao criar forma de pagamento:",e),null}}async function V8(t,e){try{const{data:r,error:n}=await De.from("payment_methods").update({...e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar forma de pagamento:",r),null}}async function H8(t){try{const{error:e}=await De.from("payment_methods").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Erro ao excluir forma de pagamento:",e),!1}}async function W8(t,e){try{const{data:r,error:n}=await De.from("payment_methods").update({active:e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da forma de pagamento:",r),null}}const G8=["Carto de Crdito","Carto de Dbito","Boleto Bancrio","PIX","Transferncia Bancria","Dinheiro","Cheque","Duplicata","Programa de Fidelidade","Crdito em Loja","Sem Pagamento"];function J8({isOpen:t,onClose:e,paymentMethod:r,onSuccess:n}){const[a,o]=D.useState({type:"",description:"",paymentCondition:"",settlementDays:0,aliquot:0,fixedAliquot:0,active:!0,defaultBankAccountId:null}),[i,c]=D.useState(!1),[l,d]=D.useState(""),[u,h]=D.useState([]);D.useEffect(()=>{t&&(y(),o(r?{type:r.type,description:r.description,paymentCondition:r.paymentCondition,settlementDays:r.settlementDays,aliquot:r.aliquot,fixedAliquot:r.fixedAliquot,active:r.active,defaultBankAccountId:r.defaultBankAccountId||null}:{type:"",description:"",paymentCondition:"",settlementDays:0,aliquot:0,fixedAliquot:0,active:!0,defaultBankAccountId:null}))},[t,r]);const y=async()=>{try{const{data:w,error:v}=await De.from("bank_accounts").select("*").eq("active",!0);if(v)throw v;h(w||[])}catch(w){console.error("Error loading bank accounts:",w),d("Erro ao carregar contas bancrias")}},m=async w=>{w.preventDefault(),c(!0),d("");try{if(r){if(!await V8(r.id,a))throw new Error("Erro ao atualizar forma de pagamento")}else if(!await z8(a))throw new Error("Erro ao criar forma de pagamento");n(),e()}catch(v){console.error("Erro ao salvar forma de pagamento:",v),d("Erro ao salvar forma de pagamento. Por favor, tente novamente.")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Forma de Pagamento":"Nova Forma de Pagamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:m,className:"p-4 sm:p-6",children:[l&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:l}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Pagamento"}),s.jsxs("select",{value:a.type,onChange:w=>o(v=>({...v,type:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um tipo"}),G8.map(w=>s.jsx("option",{value:w,children:w},w))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("input",{type:"text",value:a.description,onChange:w=>o(v=>({...v,description:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Condio de Pagamento"}),s.jsxs("select",{value:a.paymentCondition,onChange:w=>o(v=>({...v,paymentCondition:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"immediate",children:" vista"}),s.jsx("option",{value:"1x",children:"1x"}),s.jsx("option",{value:"2x",children:"2x"}),s.jsx("option",{value:"3x",children:"3x"}),s.jsx("option",{value:"4x",children:"4x"}),s.jsx("option",{value:"5x",children:"5x"}),s.jsx("option",{value:"6x",children:"6x"}),s.jsx("option",{value:"7x",children:"7x"}),s.jsx("option",{value:"8x",children:"8x"}),s.jsx("option",{value:"9x",children:"9x"}),s.jsx("option",{value:"10x",children:"10x"}),s.jsx("option",{value:"11x",children:"11x"}),s.jsx("option",{value:"12x",children:"12x"}),s.jsx("option",{value:"30/60/90",children:"30/60/90"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Prazo de Recebimento (dias)"}),s.jsx("input",{type:"number",min:"0",value:a.settlementDays,onChange:w=>o(v=>({...v,settlementDays:parseInt(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alquota (%)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:a.aliquot,onChange:w=>o(v=>({...v,aliquot:parseFloat(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alquota Fixa (R$)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:a.fixedAliquot,onChange:w=>o(v=>({...v,fixedAliquot:parseFloat(w.target.value)})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Padro (opcional)"}),s.jsxs("select",{value:a.defaultBankAccountId,onChange:w=>o(v=>({...v,defaultBankAccountId:w.target.value})),disabled:i,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.bank," - ",w.branch,"/",w.account]},w.id))]})]}),s.jsx("div",{className:"sm:col-span-2",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:w=>o(v=>({...v,active:w.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Forma de pagamento ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:i?"Salvando...":r?"Salvar Alteraes":"Cadastrar"})]})]})]})}):null}function K8(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState(null),[l,d]=D.useState([]),[u,h]=D.useState(!0),[y,m]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const z=await U8();d(z)}catch(z){m("Erro ao carregar formas de pagamento"),console.error(z)}finally{h(!1)}},v=()=>{c(null),e(!0)},A=z=>{c(z),e(!0)},b=z=>{c(z),n(!0)},S=async()=>{if(i)try{await H8(i.id),d(l.filter(z=>z.id!==i.id)),n(!1)}catch(z){m("Erro ao excluir forma de pagamento"),console.error(z)}},R=async z=>{try{const B=await W8(z.id,!z.active);B&&d(l.map(g=>g.id===z.id?B:g))}catch(B){m("Erro ao alterar status da forma de pagamento"),console.error(B)}},W=l.filter(z=>z.type.toLowerCase().includes(a.toLowerCase())||z.description.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"p-4 sm:p-6",children:[y&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:y}),s.jsx("button",{onClick:()=>m(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Formas de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as formas de pagamento do sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Forma de Pagamento"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por tipo ou descrio...",value:a,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(q8,{paymentMethods:W,onEdit:A,onDelete:b,onToggleStatus:R})]}),s.jsx(J8,{isOpen:t,onClose:()=>e(!1),paymentMethod:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Ei,{isOpen:r,onClose:()=>n(!1),title:"Excluir Forma de Pagamento",description:`Tem certeza que deseja excluir a forma de pagamento "${i==null?void 0:i.description}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:S})]})}function Y8({bankAccounts:t,onEdit:e,onDelete:r,onToggleStatus:n}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(bc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma conta bancria cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Conta Bancria" para comear a cadastrar contas no sistema.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[1200px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome da Conta"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Banco"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Agncia"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ Vinculado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>{var o;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.bank}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.branch}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.account}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:((o=a.cnpj)==null?void 0:o.name)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(_i,{className:"h-5 w-5"})})]})]},a.id)})})]})})}const X8=["Conta Corrente","Conta de Pagamento","Conta Digital"];function Q8({isOpen:t,onClose:e,bankAccount:r,onSuccess:n}){const[a,o]=D.useState({name:"",bank:"",branch:"",account:"",digit:"",type:"",cnpjId:"",bankCode:"",agreementCode:"",sftpKey:"",cnabSendFolder:"",cnabReturnFolder:"",active:!0,developer_application_key:"",client_id:"",client_secret:"",basic:"",oauth_url:"",bank_api_url:"",mci_teste:""}),[i,c]=D.useState([]),[l,d]=D.useState(!1),[u,h]=D.useState(""),[y,m]=D.useState("general");D.useEffect(()=>{w()},[]),D.useEffect(()=>{o(r?{name:r.name,bank:r.bank,branch:r.branch,account:r.account,digit:r.digit||"",type:r.type,cnpjId:r.cnpjId,bankCode:r.bankCode||"",agreementCode:r.agreementCode||"",sftpKey:r.sftpKey||"",cnabSendFolder:r.cnabSendFolder||"",cnabReturnFolder:r.cnabReturnFolder||"",active:r.active,developer_application_key:r.developer_application_key||"",client_id:r.client_id||"",client_secret:r.client_secret||"",basic:r.basic||"",oauth_url:r.oauth_url||"",bank_api_url:r.bank_api_url||"",mci_teste:r.mci_teste||""}:{name:"",bank:"",branch:"",account:"",digit:"",type:"",cnpjId:"",bankCode:"",agreementCode:"",sftpKey:"",cnabSendFolder:"",cnabReturnFolder:"",active:!0,developer_application_key:"",client_id:"",client_secret:"",basic:"",oauth_url:"",bank_api_url:"",mci_teste:""})},[r]);const w=async()=>{try{const b=await H4();c(b)}catch(b){console.error("Erro ao carregar CNPJs:",b),h("Erro ao carregar lista de CNPJs")}},v=async b=>{b.preventDefault(),d(!0),h("");try{if(r){if(!await y8(r.id,a))throw new Error("Erro ao atualizar conta bancria")}else if(!await g8(a))throw new Error("Erro ao criar conta bancria");n(),e()}catch(S){console.error("Erro ao salvar conta bancria:",S),h("Erro ao salvar conta bancria. Por favor, tente novamente.")}finally{d(!1)}},A=({tab:b,label:S})=>s.jsx("button",{type:"button",onClick:()=>m(b),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${y===b?"bg-primary-500 text-white":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-100 dark:text-secondary-400 dark:hover:text-white dark:hover:bg-secondary-700"}`,children:S});return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Conta Bancria":"Nova Conta Bancria"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:v,className:"p-4 sm:p-6",children:[u&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:u}),s.jsxs("div",{className:"flex space-x-2 mb-6 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx(A,{tab:"general",label:"Dados Gerais"}),s.jsx(A,{tab:"cnab",label:"Integrao CNAB"}),s.jsx(A,{tab:"api",label:"API Bancria"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[y==="general"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Conta"}),s.jsx("input",{type:"text",value:a.name,onChange:b=>o(S=>({...S,name:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Banco"}),s.jsx("input",{type:"text",value:a.bank,onChange:b=>o(S=>({...S,bank:b.target.value})),disabled:l,placeholder:"Nome do banco",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Conta"}),s.jsxs("select",{value:a.type,onChange:b=>o(S=>({...S,type:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um tipo"}),X8.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:a.branch,onChange:b=>o(S=>({...S,branch:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:a.account,onChange:b=>o(S=>({...S,account:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:a.digit,onChange:b=>o(S=>({...S,digit:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ Vinculado"}),s.jsxs("select",{value:a.cnpjId,onChange:b=>o(S=>({...S,cnpjId:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(b=>s.jsxs("option",{value:b.id,children:[b.name," - ",b.cnpj]},b.id))]})]})]}),y==="cnab"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-900 dark:text-white mb-4",children:"Configuraes para Integrao CNAB"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Banco"}),s.jsx("input",{type:"text",value:a.bankCode,onChange:b=>o(S=>({...S,bankCode:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Convnio"}),s.jsx("input",{type:"text",value:a.agreementCode,onChange:b=>o(S=>({...S,agreementCode:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Chave de Autenticao SFTP"}),s.jsx("input",{type:"password",value:a.sftpKey,onChange:b=>o(S=>({...S,sftpKey:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Pasta de Envio CNAB"}),s.jsx("input",{type:"text",value:a.cnabSendFolder,onChange:b=>o(S=>({...S,cnabSendFolder:b.target.value})),disabled:l,placeholder:"/remessa",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Pasta de Retorno CNAB"}),s.jsx("input",{type:"text",value:a.cnabReturnFolder,onChange:b=>o(S=>({...S,cnabReturnFolder:b.target.value})),disabled:l,placeholder:"/retorno",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]})]})}),y==="api"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-900 dark:text-white mb-4",children:"Configuraes para Integrao com API Bancria"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Developer Application Key"}),s.jsx("input",{type:"password",value:a.developer_application_key,onChange:b=>o(S=>({...S,developer_application_key:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Client ID"}),s.jsx("input",{type:"password",value:a.client_id,onChange:b=>o(S=>({...S,client_id:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Client Secret"}),s.jsx("input",{type:"password",value:a.client_secret,onChange:b=>o(S=>({...S,client_secret:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Basic"}),s.jsx("input",{type:"password",value:a.basic,onChange:b=>o(S=>({...S,basic:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"OAuth URL"}),s.jsx("input",{type:"text",value:a.oauth_url,onChange:b=>o(S=>({...S,oauth_url:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bank API URL"}),s.jsx("input",{type:"text",value:a.bank_api_url,onChange:b=>o(S=>({...S,bank_api_url:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"MCI Teste"}),s.jsx("input",{type:"text",value:a.mci_teste,onChange:b=>o(S=>({...S,mci_teste:b.target.value})),disabled:l,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm"})]})]})]})}),s.jsx("div",{className:"sm:col-span-2 border-t border-secondary-200 dark:border-secondary-700 pt-4 mt-2",children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:b=>o(S=>({...S,active:b.target.checked})),disabled:l,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Conta bancria ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:l?"Salvando...":r?"Salvar Alteraes":"Criar Conta Bancria"})]})]})]})}):null}function Z8(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState(null),[l,d]=D.useState([]),[u,h]=D.useState(!0),[y,m]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const z=await W4();d(z)}catch(z){m("Erro ao carregar contas bancrias"),console.error(z)}finally{h(!1)}},v=()=>{c(null),e(!0)},A=z=>{console.log(z),c(z),e(!0)},b=z=>{c(z),n(!0)},S=async()=>{if(i)try{await x8(i.id),d(l.filter(z=>z.id!==i.id)),n(!1)}catch(z){m("Erro ao excluir conta bancria"),console.error(z)}},R=async z=>{try{const B=await b8(z.id,!z.active);B&&d(l.map(g=>g.id===z.id?B:g))}catch(B){m("Erro ao alterar status da conta bancria"),console.error(B)}},W=l.filter(z=>{var B,g;return z.name.toLowerCase().includes(a.toLowerCase())||z.bank.toLowerCase().includes(a.toLowerCase())||z.branch.includes(a)||z.account.includes(a)||((B=z.cnpj)==null?void 0:B.name.toLowerCase().includes(a.toLowerCase()))||((g=z.cnpj)==null?void 0:g.cnpj.includes(a))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[y&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:y}),s.jsx("button",{onClick:()=>m(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Contas Bancrias"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as contas bancrias do sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Conta Bancria"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, banco, agncia, conta ou CNPJ...",value:a,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(Y8,{bankAccounts:W,onEdit:A,onDelete:b,onToggleStatus:R})]}),s.jsx(Q8,{isOpen:t,onClose:()=>e(!1),bankAccount:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Ei,{isOpen:r,onClose:()=>n(!1),title:"Excluir Conta Bancria",description:`Tem certeza que deseja excluir a conta bancria "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:S})]})}function eI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return D.useMemo(()=>n=>{e.forEach(a=>a(n))},e)}const vm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Bv(t){return"nodeType"in t}function Xa(t){var e,r;return t?tu(t)?t:Bv(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function $v(t){const{Document:e}=Xa(t);return t instanceof e}function th(t){return tu(t)?!1:t instanceof Xa(t).HTMLElement}function G4(t){return t instanceof Xa(t).SVGElement}function ru(t){return t?tu(t)?t.document:Bv(t)?$v(t)?t:th(t)||G4(t)?t.ownerDocument:document:document:document}const zo=vm?D.useLayoutEffect:D.useEffect;function qv(t){const e=D.useRef(t);return zo(()=>{e.current=t}),D.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function tI(){const t=D.useRef(null),e=D.useCallback((n,a)=>{t.current=setInterval(n,a)},[]),r=D.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Mf(t,e){e===void 0&&(e=[t]);const r=D.useRef(t);return zo(()=>{r.current!==t&&(r.current=t)},e),r}function rh(t,e){const r=D.useRef();return D.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function y0(t){const e=qv(t),r=D.useRef(null),n=D.useCallback(a=>{a!==r.current&&(e==null||e(a,r.current)),r.current=a},[]);return[r,n]}function Ux(t){const e=D.useRef();return D.useEffect(()=>{e.current=t},[t]),e.current}let ry={};function nh(t,e){return D.useMemo(()=>{if(e)return e;const r=ry[t]==null?0:ry[t]+1;return ry[t]=r,t+"-"+r},[t,e])}function J4(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((o,i)=>{const c=Object.entries(i);for(const[l,d]of c){const u=o[l];u!=null&&(o[l]=u+t*d)}return o},{...e})}}const wd=J4(1),x0=J4(-1);function rI(t){return"clientX"in t&&"clientY"in t}function Uv(t){if(!t)return!1;const{KeyboardEvent:e}=Xa(t.target);return e&&t instanceof e}function nI(t){if(!t)return!1;const{TouchEvent:e}=Xa(t.target);return e&&t instanceof e}function zx(t){if(nI(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return rI(t)?{x:t.clientX,y:t.clientY}:null}const Ff=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Ff.Translate.toString(t),Ff.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),W1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aI(t){return t.matches(W1)?t:t.querySelector(W1)}const sI={display:"none"};function oI(t){let{id:e,value:r}=t;return $r.createElement("div",{id:e,style:sI},r)}function iI(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $r.createElement("div",{id:e,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function lI(){const[t,e]=D.useState("");return{announce:D.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const K4=D.createContext(null);function cI(t){const e=D.useContext(K4);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function dI(){const[t]=D.useState(()=>new Set),e=D.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[D.useCallback(n=>{let{type:a,event:o}=n;t.forEach(i=>{var c;return(c=i[a])==null?void 0:c.call(i,o)})},[t]),e]}const uI={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fI={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function hI(t){let{announcements:e=fI,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=uI}=t;const{announce:o,announcement:i}=lI(),c=nh("DndLiveRegion"),[l,d]=D.useState(!1);if(D.useEffect(()=>{d(!0)},[]),cI(D.useMemo(()=>({onDragStart(h){let{active:y}=h;o(e.onDragStart({active:y}))},onDragMove(h){let{active:y,over:m}=h;e.onDragMove&&o(e.onDragMove({active:y,over:m}))},onDragOver(h){let{active:y,over:m}=h;o(e.onDragOver({active:y,over:m}))},onDragEnd(h){let{active:y,over:m}=h;o(e.onDragEnd({active:y,over:m}))},onDragCancel(h){let{active:y,over:m}=h;o(e.onDragCancel({active:y,over:m}))}}),[o,e])),!l)return null;const u=$r.createElement($r.Fragment,null,$r.createElement(oI,{id:n,value:a.draggable}),$r.createElement(iI,{id:c,announcement:i}));return r?rc.createPortal(u,r):u}var qn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(qn||(qn={}));function b0(){}function pI(t,e){return D.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function mI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return D.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const fo=Object.freeze({x:0,y:0});function gI(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function yI(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function xI(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function bI(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function G1(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const vI=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const a=G1(e,e.left,e.top),o=[];for(const i of n){const{id:c}=i,l=r.get(c);if(l){const d=gI(G1(l),a);o.push({id:c,data:{droppableContainer:i,value:d}})}}return o.sort(yI)};function wI(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),i=a-n,c=o-r;if(n<a&&r<o){const l=e.width*e.height,d=t.width*t.height,u=i*c,h=u/(l+d-u);return Number(h.toFixed(4))}return 0}const kI=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const a=[];for(const o of n){const{id:i}=o,c=r.get(i);if(c){const l=wI(c,e);l>0&&a.push({id:i,data:{droppableContainer:o,value:l}})}}return a.sort(xI)};function jI(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Y4(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:fo}function NI(t){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.reduce((i,c)=>({...i,top:i.top+t*c.y,bottom:i.bottom+t*c.y,left:i.left+t*c.x,right:i.right+t*c.x}),{...r})}}const SI=NI(1);function CI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function _I(t,e,r){const n=CI(e);if(!n)return t;const{scaleX:a,scaleY:o,x:i,y:c}=n,l=t.left-i-(1-a)*parseFloat(r),d=t.top-c-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),u=a?t.width/a:t.width,h=o?t.height/o:t.height;return{width:u,height:h,top:d,right:l+u,bottom:d+h,left:l}}const EI={ignoreTransform:!1};function nu(t,e){e===void 0&&(e=EI);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:u}=Xa(t).getComputedStyle(t);d&&(r=_I(r,d,u))}const{top:n,left:a,width:o,height:i,bottom:c,right:l}=r;return{top:n,left:a,width:o,height:i,bottom:c,right:l}}function J1(t){return nu(t,{ignoreTransform:!0})}function AI(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function PI(t,e){return e===void 0&&(e=Xa(t).getComputedStyle(t)),e.position==="fixed"}function LI(t,e){e===void 0&&(e=Xa(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?r.test(o):!1})}function zv(t,e){const r=[];function n(a){if(e!=null&&r.length>=e||!a)return r;if($v(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!th(a)||G4(a)||r.includes(a))return r;const o=Xa(t).getComputedStyle(a);return a!==t&&LI(a,o)&&r.push(a),PI(a,o)?r:n(a.parentNode)}return t?n(t):r}function X4(t){const[e]=zv(t,1);return e??null}function ny(t){return!vm||!t?null:tu(t)?t:Bv(t)?$v(t)||t===ru(t).scrollingElement?window:th(t)?t:null:null}function Q4(t){return tu(t)?t.scrollX:t.scrollLeft}function Z4(t){return tu(t)?t.scrollY:t.scrollTop}function Vx(t){return{x:Q4(t),y:Z4(t)}}var Yn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Yn||(Yn={}));function eS(t){return!vm||!t?!1:t===document.scrollingElement}function tS(t){const e={x:0,y:0},r=eS(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},a=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,i=t.scrollTop>=n.y,c=t.scrollLeft>=n.x;return{isTop:a,isLeft:o,isBottom:i,isRight:c,maxScroll:n,minScroll:e}}const DI={x:.2,y:.2};function II(t,e,r,n,a){let{top:o,left:i,right:c,bottom:l}=r;n===void 0&&(n=10),a===void 0&&(a=DI);const{isTop:d,isBottom:u,isLeft:h,isRight:y}=tS(t),m={x:0,y:0},w={x:0,y:0},v={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+v.height?(m.y=Yn.Backward,w.y=n*Math.abs((e.top+v.height-o)/v.height)):!u&&l>=e.bottom-v.height&&(m.y=Yn.Forward,w.y=n*Math.abs((e.bottom-v.height-l)/v.height)),!y&&c>=e.right-v.width?(m.x=Yn.Forward,w.x=n*Math.abs((e.right-v.width-c)/v.width)):!h&&i<=e.left+v.width&&(m.x=Yn.Backward,w.x=n*Math.abs((e.left+v.width-i)/v.width)),{direction:m,speed:w}}function RI(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:e,left:r,right:n,bottom:a}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:a,width:t.clientWidth,height:t.clientHeight}}function rS(t){return t.reduce((e,r)=>wd(e,Vx(r)),fo)}function TI(t){return t.reduce((e,r)=>e+Q4(r),0)}function OI(t){return t.reduce((e,r)=>e+Z4(r),0)}function MI(t,e){if(e===void 0&&(e=nu),!t)return;const{top:r,left:n,bottom:a,right:o}=e(t);X4(t)&&(a<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const FI=[["x",["left","right"],TI],["y",["top","bottom"],OI]];class Vv{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=zv(r),a=rS(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,c]of FI)for(const l of i)Object.defineProperty(this,l,{get:()=>{const d=c(n),u=a[o]-d;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class uf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var a;(a=this.target)==null||a.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function BI(t){const{EventTarget:e}=Xa(t);return t instanceof e?t:ru(t)}function ay(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Is;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Is||(Is={}));function K1(t){t.preventDefault()}function $I(t){t.stopPropagation()}var kr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(kr||(kr={}));const nS={start:[kr.Space,kr.Enter],cancel:[kr.Esc],end:[kr.Space,kr.Enter,kr.Tab]},qI=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case kr.Right:return{...r,x:r.x+25};case kr.Left:return{...r,x:r.x-25};case kr.Down:return{...r,y:r.y+25};case kr.Up:return{...r,y:r.y-25}}};class aS{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new uf(ru(r)),this.windowListeners=new uf(Xa(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Is.Resize,this.handleCancel),this.windowListeners.add(Is.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Is.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&MI(n),r(fo)}handleKeyDown(e){if(Uv(e)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:o=nS,coordinateGetter:i=qI,scrollBehavior:c="smooth"}=a,{code:l}=e;if(o.end.includes(l)){this.handleEnd(e);return}if(o.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:fo;this.referenceCoordinates||(this.referenceCoordinates=u);const h=i(e,{active:r,context:n.current,currentCoordinates:u});if(h){const y=x0(h,u),m={x:0,y:0},{scrollableAncestors:w}=n.current;for(const v of w){const A=e.code,{isTop:b,isRight:S,isLeft:R,isBottom:W,maxScroll:z,minScroll:B}=tS(v),g=RI(v),I={x:Math.min(A===kr.Right?g.right-g.width/2:g.right,Math.max(A===kr.Right?g.left:g.left+g.width/2,h.x)),y:Math.min(A===kr.Down?g.bottom-g.height/2:g.bottom,Math.max(A===kr.Down?g.top:g.top+g.height/2,h.y))},k=A===kr.Right&&!S||A===kr.Left&&!R,_=A===kr.Down&&!W||A===kr.Up&&!b;if(k&&I.x!==h.x){const x=v.scrollLeft+y.x,j=A===kr.Right&&x<=z.x||A===kr.Left&&x>=B.x;if(j&&!y.y){v.scrollTo({left:x,behavior:c});return}j?m.x=v.scrollLeft-x:m.x=A===kr.Right?v.scrollLeft-z.x:v.scrollLeft-B.x,m.x&&v.scrollBy({left:-m.x,behavior:c});break}else if(_&&I.y!==h.y){const x=v.scrollTop+y.y,j=A===kr.Down&&x<=z.y||A===kr.Up&&x>=B.y;if(j&&!y.x){v.scrollTo({top:x,behavior:c});return}j?m.y=v.scrollTop-x:m.y=A===kr.Down?v.scrollTop-z.y:v.scrollTop-B.y,m.y&&v.scrollBy({top:-m.y,behavior:c});break}}this.handleMove(e,wd(x0(h,this.referenceCoordinates),m))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}aS.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=nS,onActivation:a}=e,{active:o}=r;const{code:i}=t.nativeEvent;if(n.start.includes(i)){const c=o.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),a==null||a({event:t.nativeEvent}),!0)}return!1}}];function Y1(t){return!!(t&&"distance"in t)}function X1(t){return!!(t&&"delay"in t)}class Hv{constructor(e,r,n){var a;n===void 0&&(n=BI(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:o}=e,{target:i}=o;this.props=e,this.events=r,this.document=ru(i),this.documentListeners=new uf(this.document),this.listeners=new uf(n),this.windowListeners=new uf(Xa(i)),this.initialCoordinates=(a=zx(o))!=null?a:fo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Is.Resize,this.handleCancel),this.windowListeners.add(Is.DragStart,K1),this.windowListeners.add(Is.VisibilityChange,this.handleCancel),this.windowListeners.add(Is.ContextMenu,K1),this.documentListeners.add(Is.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(X1(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Y1(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:a}=this.props;a(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Is.Click,$I,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Is.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:a,props:o}=this,{onMove:i,options:{activationConstraint:c}}=o;if(!a)return;const l=(r=zx(e))!=null?r:fo,d=x0(a,l);if(!n&&c){if(Y1(c)){if(c.tolerance!=null&&ay(d,c.tolerance))return this.handleCancel();if(ay(d,c.distance))return this.handleStart()}if(X1(c)&&ay(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),i(l)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===kr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const UI={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wv extends Hv{constructor(e){const{event:r}=e,n=ru(r.target);super(e,UI,n)}}Wv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const zI={move:{name:"mousemove"},end:{name:"mouseup"}};var Hx;(function(t){t[t.RightClick=2]="RightClick"})(Hx||(Hx={}));class VI extends Hv{constructor(e){super(e,zI,ru(e.event.target))}}VI.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===Hx.RightClick?!1:(n==null||n({event:r}),!0)}}];const sy={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class HI extends Hv{constructor(e){super(e,sy)}static setup(){return window.addEventListener(sy.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(sy.move.name,e)};function e(){}}}HI.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var ff;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(ff||(ff={}));var v0;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(v0||(v0={}));function WI(t){let{acceleration:e,activator:r=ff.Pointer,canScroll:n,draggingRect:a,enabled:o,interval:i=5,order:c=v0.TreeOrder,pointerCoordinates:l,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:y}=t;const m=JI({delta:h,disabled:!o}),[w,v]=tI(),A=D.useRef({x:0,y:0}),b=D.useRef({x:0,y:0}),S=D.useMemo(()=>{switch(r){case ff.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ff.DraggableRect:return a}},[r,a,l]),R=D.useRef(null),W=D.useCallback(()=>{const B=R.current;if(!B)return;const g=A.current.x*b.current.x,I=A.current.y*b.current.y;B.scrollBy(g,I)},[]),z=D.useMemo(()=>c===v0.TreeOrder?[...d].reverse():d,[c,d]);D.useEffect(()=>{if(!o||!d.length||!S){v();return}for(const B of z){if((n==null?void 0:n(B))===!1)continue;const g=d.indexOf(B),I=u[g];if(!I)continue;const{direction:k,speed:_}=II(B,I,S,e,y);for(const x of["x","y"])m[x][k[x]]||(_[x]=0,k[x]=0);if(_.x>0||_.y>0){v(),R.current=B,w(W,i),A.current=_,b.current=k;return}}A.current={x:0,y:0},b.current={x:0,y:0},v()},[e,W,n,v,o,i,JSON.stringify(S),JSON.stringify(m),w,d,z,u,JSON.stringify(y)])}const GI={x:{[Yn.Backward]:!1,[Yn.Forward]:!1},y:{[Yn.Backward]:!1,[Yn.Forward]:!1}};function JI(t){let{delta:e,disabled:r}=t;const n=Ux(e);return rh(a=>{if(r||!n||!a)return GI;const o={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Yn.Backward]:a.x[Yn.Backward]||o.x===-1,[Yn.Forward]:a.x[Yn.Forward]||o.x===1},y:{[Yn.Backward]:a.y[Yn.Backward]||o.y===-1,[Yn.Forward]:a.y[Yn.Forward]||o.y===1}}},[r,e,n])}function KI(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return rh(a=>{var o;return e==null?null:(o=n??a)!=null?o:null},[n,e])}function YI(t,e){return D.useMemo(()=>t.reduce((r,n)=>{const{sensor:a}=n,o=a.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,n)}));return[...r,...o]},[]),[t,e])}var Bf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Bf||(Bf={}));var Wx;(function(t){t.Optimized="optimized"})(Wx||(Wx={}));const Q1=new Map;function XI(t,e){let{dragging:r,dependencies:n,config:a}=e;const[o,i]=D.useState(null),{frequency:c,measure:l,strategy:d}=a,u=D.useRef(t),h=A(),y=Mf(h),m=D.useCallback(function(b){b===void 0&&(b=[]),!y.current&&i(S=>S===null?b:S.concat(b.filter(R=>!S.includes(R))))},[y]),w=D.useRef(null),v=rh(b=>{if(h&&!r)return Q1;if(!b||b===Q1||u.current!==t||o!=null){const S=new Map;for(let R of t){if(!R)continue;if(o&&o.length>0&&!o.includes(R.id)&&R.rect.current){S.set(R.id,R.rect.current);continue}const W=R.node.current,z=W?new Vv(l(W),W):null;R.rect.current=z,z&&S.set(R.id,z)}return S}return b},[t,o,r,h,l]);return D.useEffect(()=>{u.current=t},[t]),D.useEffect(()=>{h||m()},[r,h]),D.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),D.useEffect(()=>{h||typeof c!="number"||w.current!==null||(w.current=setTimeout(()=>{m(),w.current=null},c))},[c,h,m,...n]),{droppableRects:v,measureDroppableContainers:m,measuringScheduled:o!=null};function A(){switch(d){case Bf.Always:return!1;case Bf.BeforeDragging:return r;default:return!r}}}function sS(t,e){return rh(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function QI(t,e){return sS(t,e)}function ZI(t){let{callback:e,disabled:r}=t;const n=qv(e),a=D.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return D.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function wm(t){let{callback:e,disabled:r}=t;const n=qv(e),a=D.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return D.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function eR(t){return new Vv(nu(t),t)}function Z1(t,e,r){e===void 0&&(e=eR);const[n,a]=D.useState(null);function o(){a(l=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=l??r)!=null?d:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const i=ZI({callback(l){if(t)for(const d of l){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),c=wm({callback:o});return zo(()=>{o(),t?(c==null||c.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),i==null||i.disconnect())},[t]),n}function tR(t){const e=sS(t);return Y4(t,e)}const e5=[];function rR(t){const e=D.useRef(t),r=rh(n=>t?n&&n!==e5&&t&&e.current&&t.parentNode===e.current.parentNode?n:zv(t):e5,[t]);return D.useEffect(()=>{e.current=t},[t]),r}function nR(t){const[e,r]=D.useState(null),n=D.useRef(t),a=D.useCallback(o=>{const i=ny(o.target);i&&r(c=>c?(c.set(i,Vx(i)),new Map(c)):null)},[]);return D.useEffect(()=>{const o=n.current;if(t!==o){i(o);const c=t.map(l=>{const d=ny(l);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Vx(d)]):null}).filter(l=>l!=null);r(c.length?new Map(c):null),n.current=t}return()=>{i(t),i(o)};function i(c){c.forEach(l=>{const d=ny(l);d==null||d.removeEventListener("scroll",a)})}},[a,t]),D.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,i)=>wd(o,i),fo):rS(t):fo,[t,e])}function t5(t,e){e===void 0&&(e=[]);const r=D.useRef(null);return D.useEffect(()=>{r.current=null},e),D.useEffect(()=>{const n=t!==fo;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?x0(t,r.current):fo}function aR(t){D.useEffect(()=>{if(!vm)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function sR(t,e){return D.useMemo(()=>t.reduce((r,n)=>{let{eventName:a,handler:o}=n;return r[a]=i=>{o(i,e)},r},{}),[t,e])}function oS(t){return D.useMemo(()=>t?AI(t):null,[t])}const r5=[];function oR(t,e){e===void 0&&(e=nu);const[r]=t,n=oS(r?Xa(r):null),[a,o]=D.useState(r5);function i(){o(()=>t.length?t.map(l=>eS(l)?n:new Vv(e(l),l)):r5)}const c=wm({callback:i});return zo(()=>{c==null||c.disconnect(),i(),t.forEach(l=>c==null?void 0:c.observe(l))},[t]),a}function iR(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return th(e)?e:t}function lR(t){let{measure:e}=t;const[r,n]=D.useState(null),a=D.useCallback(d=>{for(const{target:u}of d)if(th(u)){n(h=>{const y=e(u);return h?{...h,width:y.width,height:y.height}:y});break}},[e]),o=wm({callback:a}),i=D.useCallback(d=>{const u=iR(d);o==null||o.disconnect(),u&&(o==null||o.observe(u)),n(u?e(u):null)},[e,o]),[c,l]=y0(i);return D.useMemo(()=>({nodeRef:c,rect:r,setRef:l}),[r,c,l])}const cR=[{sensor:Wv,options:{}},{sensor:aS,options:{}}],dR={current:{}},Lp={draggable:{measure:J1},droppable:{measure:J1,strategy:Bf.WhileDragging,frequency:Wx.Optimized},dragOverlay:{measure:nu}};class hf extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const uR={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new hf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:b0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Lp,measureDroppableContainers:b0,windowRect:null,measuringScheduled:!1},fR={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:b0,draggableNodes:new Map,over:null,measureDroppableContainers:b0},km=D.createContext(fR),iS=D.createContext(uR);function hR(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new hf}}}function pR(t,e){switch(e.type){case qn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case qn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case qn.DragEnd:case qn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case qn.RegisterDroppable:{const{element:r}=e,{id:n}=r,a=new hf(t.droppable.containers);return a.set(n,r),{...t,droppable:{...t.droppable,containers:a}}}case qn.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=e,o=t.droppable.containers.get(r);if(!o||n!==o.key)return t;const i=new hf(t.droppable.containers);return i.set(r,{...o,disabled:a}),{...t,droppable:{...t.droppable,containers:i}}}case qn.UnregisterDroppable:{const{id:r,key:n}=e,a=t.droppable.containers.get(r);if(!a||n!==a.key)return t;const o=new hf(t.droppable.containers);return o.delete(r),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function mR(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:a}=D.useContext(km),o=Ux(n),i=Ux(r==null?void 0:r.id);return D.useEffect(()=>{if(!e&&!n&&o&&i!=null){if(!Uv(o)||document.activeElement===o.target)return;const c=a.get(i);if(!c)return;const{activatorNode:l,node:d}=c;if(!l.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[l.current,d.current]){if(!u)continue;const h=aI(u);if(h){h.focus();break}}})}},[n,e,a,i,o]),null}function gR(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((a,o)=>o({transform:a,...n}),r):r}function yR(t){return D.useMemo(()=>({draggable:{...Lp.draggable,...t==null?void 0:t.draggable},droppable:{...Lp.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Lp.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function xR(t){let{activeNode:e,measure:r,initialRect:n,config:a=!0}=t;const o=D.useRef(!1),{x:i,y:c}=typeof a=="boolean"?{x:a,y:a}:a;zo(()=>{if(!i&&!c||!e){o.current=!1;return}if(o.current||!n)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const u=r(d),h=Y4(u,n);if(i||(h.x=0),c||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const y=X4(d);y&&y.scrollBy({top:h.y,left:h.x})}},[e,i,c,n,r])}const lS=D.createContext({...fo,scaleX:1,scaleY:1});var sl;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(sl||(sl={}));const bR=D.memo(function(e){var r,n,a,o;let{id:i,accessibility:c,autoScroll:l=!0,children:d,sensors:u=cR,collisionDetection:h=kI,measuring:y,modifiers:m,...w}=e;const v=D.useReducer(pR,void 0,hR),[A,b]=v,[S,R]=dI(),[W,z]=D.useState(sl.Uninitialized),B=W===sl.Initialized,{draggable:{active:g,nodes:I,translate:k},droppable:{containers:_}}=A,x=g!=null?I.get(g):null,j=D.useRef({initial:null,translated:null}),P=D.useMemo(()=>{var mr;return g!=null?{id:g,data:(mr=x==null?void 0:x.data)!=null?mr:dR,rect:j}:null},[g,x]),E=D.useRef(null),[U,q]=D.useState(null),[G,V]=D.useState(null),ee=Mf(w,Object.values(w)),le=nh("DndDescribedBy",i),Z=D.useMemo(()=>_.getEnabled(),[_]),M=yR(y),{droppableRects:J,measureDroppableContainers:te,measuringScheduled:de}=XI(Z,{dragging:B,dependencies:[k.x,k.y],config:M.droppable}),ie=KI(I,g),xe=D.useMemo(()=>G?zx(G):null,[G]),we=Sn(),me=QI(ie,M.draggable.measure);xR({activeNode:g!=null?I.get(g):null,config:we.layoutShiftCompensation,initialRect:me,measure:M.draggable.measure});const Pe=Z1(ie,M.draggable.measure,me),qe=Z1(ie?ie.parentElement:null),Je=D.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),rt=_.getNodeFor((r=Je.current.over)==null?void 0:r.id),pt=lR({measure:M.dragOverlay.measure}),Be=(n=pt.nodeRef.current)!=null?n:ie,pe=B?(a=pt.rect)!=null?a:Pe:null,vt=!!(pt.nodeRef.current&&pt.rect),ct=tR(vt?null:Pe),Ze=oS(Be?Xa(Be):null),et=rR(B?rt??ie:null),se=oR(et),ve=gR(m,{transform:{x:k.x-ct.x,y:k.y-ct.y,scaleX:1,scaleY:1},activatorEvent:G,active:P,activeNodeRect:Pe,containerNodeRect:qe,draggingNodeRect:pe,over:Je.current.over,overlayNodeRect:pt.rect,scrollableAncestors:et,scrollableAncestorRects:se,windowRect:Ze}),Ee=xe?wd(xe,k):null,Qe=nR(et),Me=t5(Qe),at=t5(Qe,[Pe]),Nt=wd(ve,Me),Rt=pe?SI(pe,ve):null,St=P&&Rt?h({active:P,collisionRect:Rt,droppableRects:J,droppableContainers:Z,pointerCoordinates:Ee}):null,Kt=bI(St,"id"),[dt,Gr]=D.useState(null),Gt=vt?ve:wd(ve,at),pn=jI(Gt,(o=dt==null?void 0:dt.rect)!=null?o:null,Pe),rr=D.useRef(null),Sr=D.useCallback((mr,tr)=>{let{sensor:wt,options:Pt}=tr;if(E.current==null)return;const lr=I.get(E.current);if(!lr)return;const cr=mr.nativeEvent,rn=new wt({active:E.current,activeNode:lr,event:cr,options:Pt,context:Je,onAbort(mt){if(!I.get(mt))return;const{onDragAbort:Lr}=ee.current,Dr={id:mt};Lr==null||Lr(Dr),S({type:"onDragAbort",event:Dr})},onPending(mt,Mr,Lr,Dr){if(!I.get(mt))return;const{onDragPending:Ir}=ee.current,Xr={id:mt,constraint:Mr,initialCoordinates:Lr,offset:Dr};Ir==null||Ir(Xr),S({type:"onDragPending",event:Xr})},onStart(mt){const Mr=E.current;if(Mr==null)return;const Lr=I.get(Mr);if(!Lr)return;const{onDragStart:Dr}=ee.current,Nr={activatorEvent:cr,active:{id:Mr,data:Lr.data,rect:j}};rc.unstable_batchedUpdates(()=>{Dr==null||Dr(Nr),z(sl.Initializing),b({type:qn.DragStart,initialCoordinates:mt,active:Mr}),S({type:"onDragStart",event:Nr}),q(rr.current),V(cr)})},onMove(mt){b({type:qn.DragMove,coordinates:mt})},onEnd:Cn(qn.DragEnd),onCancel:Cn(qn.DragCancel)});rr.current=rn;function Cn(mt){return async function(){const{active:Lr,collisions:Dr,over:Nr,scrollAdjustedTranslate:Ir}=Je.current;let Xr=null;if(Lr&&Ir){const{cancelDrop:Ia}=ee.current;Xr={activatorEvent:cr,active:Lr,collisions:Dr,delta:Ir,over:Nr},mt===qn.DragEnd&&typeof Ia=="function"&&await Promise.resolve(Ia(Xr))&&(mt=qn.DragCancel)}E.current=null,rc.unstable_batchedUpdates(()=>{b({type:mt}),z(sl.Uninitialized),Gr(null),q(null),V(null),rr.current=null;const Ia=mt===qn.DragEnd?"onDragEnd":"onDragCancel";if(Xr){const la=ee.current[Ia];la==null||la(Xr),S({type:Ia,event:Xr})}})}}},[I]),ta=D.useCallback((mr,tr)=>(wt,Pt)=>{const lr=wt.nativeEvent,cr=I.get(Pt);if(E.current!==null||!cr||lr.dndKit||lr.defaultPrevented)return;const rn={active:cr};mr(wt,tr.options,rn)===!0&&(lr.dndKit={capturedBy:tr.sensor},E.current=Pt,Sr(wt,tr))},[I,Sr]),sr=YI(u,ta);aR(u),zo(()=>{Pe&&W===sl.Initializing&&z(sl.Initialized)},[Pe,W]),D.useEffect(()=>{const{onDragMove:mr}=ee.current,{active:tr,activatorEvent:wt,collisions:Pt,over:lr}=Je.current;if(!tr||!wt)return;const cr={active:tr,activatorEvent:wt,collisions:Pt,delta:{x:Nt.x,y:Nt.y},over:lr};rc.unstable_batchedUpdates(()=>{mr==null||mr(cr),S({type:"onDragMove",event:cr})})},[Nt.x,Nt.y]),D.useEffect(()=>{const{active:mr,activatorEvent:tr,collisions:wt,droppableContainers:Pt,scrollAdjustedTranslate:lr}=Je.current;if(!mr||E.current==null||!tr||!lr)return;const{onDragOver:cr}=ee.current,rn=Pt.get(Kt),Cn=rn&&rn.rect.current?{id:rn.id,rect:rn.rect.current,data:rn.data,disabled:rn.disabled}:null,mt={active:mr,activatorEvent:tr,collisions:wt,delta:{x:lr.x,y:lr.y},over:Cn};rc.unstable_batchedUpdates(()=>{Gr(Cn),cr==null||cr(mt),S({type:"onDragOver",event:mt})})},[Kt]),zo(()=>{Je.current={activatorEvent:G,active:P,activeNode:ie,collisionRect:Rt,collisions:St,droppableRects:J,draggableNodes:I,draggingNode:Be,draggingNodeRect:pe,droppableContainers:_,over:dt,scrollableAncestors:et,scrollAdjustedTranslate:Nt},j.current={initial:pe,translated:Rt}},[P,ie,St,Rt,I,Be,pe,J,_,dt,et,Nt]),WI({...we,delta:k,draggingRect:Rt,pointerCoordinates:Ee,scrollableAncestors:et,scrollableAncestorRects:se});const js=D.useMemo(()=>({active:P,activeNode:ie,activeNodeRect:Pe,activatorEvent:G,collisions:St,containerNodeRect:qe,dragOverlay:pt,draggableNodes:I,droppableContainers:_,droppableRects:J,over:dt,measureDroppableContainers:te,scrollableAncestors:et,scrollableAncestorRects:se,measuringConfiguration:M,measuringScheduled:de,windowRect:Ze}),[P,ie,Pe,G,St,qe,pt,I,_,J,dt,te,et,se,M,de,Ze]),qr=D.useMemo(()=>({activatorEvent:G,activators:sr,active:P,activeNodeRect:Pe,ariaDescribedById:{draggable:le},dispatch:b,draggableNodes:I,over:dt,measureDroppableContainers:te}),[G,sr,P,Pe,b,le,I,dt,te]);return $r.createElement(K4.Provider,{value:R},$r.createElement(km.Provider,{value:qr},$r.createElement(iS.Provider,{value:js},$r.createElement(lS.Provider,{value:pn},d)),$r.createElement(mR,{disabled:(c==null?void 0:c.restoreFocus)===!1})),$r.createElement(hI,{...c,hiddenTextDescribedById:le}));function Sn(){const mr=(U==null?void 0:U.autoScrollEnabled)===!1,tr=typeof l=="object"?l.enabled===!1:l===!1,wt=B&&!mr&&!tr;return typeof l=="object"?{...l,enabled:wt}:{enabled:wt}}}),vR=D.createContext(null),n5="button",wR="Draggable";function kR(t){let{id:e,data:r,disabled:n=!1,attributes:a}=t;const o=nh(wR),{activators:i,activatorEvent:c,active:l,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:y}=D.useContext(km),{role:m=n5,roleDescription:w="draggable",tabIndex:v=0}=a??{},A=(l==null?void 0:l.id)===e,b=D.useContext(A?lS:vR),[S,R]=y0(),[W,z]=y0(),B=sR(i,e),g=Mf(r);zo(()=>(h.set(e,{id:e,key:o,node:S,activatorNode:W,data:g}),()=>{const k=h.get(e);k&&k.key===o&&h.delete(e)}),[h,e]);const I=D.useMemo(()=>({role:m,tabIndex:v,"aria-disabled":n,"aria-pressed":A&&m===n5?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[n,m,v,A,w,u.draggable]);return{active:l,activatorEvent:c,activeNodeRect:d,attributes:I,isDragging:A,listeners:n?void 0:B,node:S,over:y,setNodeRef:R,setActivatorNodeRef:z,transform:b}}function jR(){return D.useContext(iS)}const NR="Droppable",SR={timeout:25};function CR(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:a}=t;const o=nh(NR),{active:i,dispatch:c,over:l,measureDroppableContainers:d}=D.useContext(km),u=D.useRef({disabled:r}),h=D.useRef(!1),y=D.useRef(null),m=D.useRef(null),{disabled:w,updateMeasurementsFor:v,timeout:A}={...SR,...a},b=Mf(v??n),S=D.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),m.current=null},A)},[A]),R=wm({callback:S,disabled:w||!i}),W=D.useCallback((I,k)=>{R&&(k&&(R.unobserve(k),h.current=!1),I&&R.observe(I))},[R]),[z,B]=y0(W),g=Mf(e);return D.useEffect(()=>{!R||!z.current||(R.disconnect(),h.current=!1,R.observe(z.current))},[z,R]),D.useEffect(()=>(c({type:qn.RegisterDroppable,element:{id:n,key:o,disabled:r,node:z,rect:y,data:g}}),()=>c({type:qn.UnregisterDroppable,key:o,id:n})),[n]),D.useEffect(()=>{r!==u.current.disabled&&(c({type:qn.SetDroppableDisabled,id:n,key:o,disabled:r}),u.current.disabled=r)},[n,o,r,c]),{active:i,rect:y,isOver:(l==null?void 0:l.id)===n,node:z,over:l,setNodeRef:B}}function cS(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function _R(t,e){return t.reduce((r,n,a)=>{const o=e.get(n);return o&&(r[a]=o),r},Array(t.length))}function np(t){return t!==null&&t>=0}function ER(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function AR(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const dS=t=>{let{rects:e,activeIndex:r,overIndex:n,index:a}=t;const o=cS(e,n,r),i=e[a],c=o[a];return!c||!i?null:{x:c.left-i.left,y:c.top-i.top,scaleX:c.width/i.width,scaleY:c.height/i.height}},ap={scaleX:1,scaleY:1},PR=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:a,rects:o,overIndex:i}=t;const c=(e=o[r])!=null?e:n;if(!c)return null;if(a===r){const d=o[i];return d?{x:0,y:r<i?d.top+d.height-(c.top+c.height):d.top-c.top,...ap}:null}const l=LR(o,a,r);return a>r&&a<=i?{x:0,y:-c.height-l,...ap}:a<r&&a>=i?{x:0,y:c.height+l,...ap}:{x:0,y:0,...ap}};function LR(t,e,r){const n=t[e],a=t[e-1],o=t[e+1];return n?r<e?a?n.top-(a.top+a.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const uS="Sortable",fS=$r.createContext({activeIndex:-1,containerId:uS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dS,disabled:{draggable:!1,droppable:!1}});function DR(t){let{children:e,id:r,items:n,strategy:a=dS,disabled:o=!1}=t;const{active:i,dragOverlay:c,droppableRects:l,over:d,measureDroppableContainers:u}=jR(),h=nh(uS,r),y=c.rect!==null,m=D.useMemo(()=>n.map(B=>typeof B=="object"&&"id"in B?B.id:B),[n]),w=i!=null,v=i?m.indexOf(i.id):-1,A=d?m.indexOf(d.id):-1,b=D.useRef(m),S=!ER(m,b.current),R=A!==-1&&v===-1||S,W=AR(o);zo(()=>{S&&w&&u(m)},[S,m,w,u]),D.useEffect(()=>{b.current=m},[m]);const z=D.useMemo(()=>({activeIndex:v,containerId:h,disabled:W,disableTransforms:R,items:m,overIndex:A,useDragOverlay:y,sortedRects:_R(m,l),strategy:a}),[v,h,W.draggable,W.droppable,R,m,A,l,y,a]);return $r.createElement(fS.Provider,{value:z},e)}const IR=t=>{let{id:e,items:r,activeIndex:n,overIndex:a}=t;return cS(r,n,a).indexOf(e)},RR=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:a,items:o,newIndex:i,previousItems:c,previousContainerId:l,transition:d}=t;return!d||!n||c!==o&&a===i?!1:r?!0:i!==a&&e===l},TR={duration:200,easing:"ease"},hS="transform",OR=Ff.Transition.toString({property:hS,duration:0,easing:"linear"}),MR={roleDescription:"sortable"};function FR(t){let{disabled:e,index:r,node:n,rect:a}=t;const[o,i]=D.useState(null),c=D.useRef(r);return zo(()=>{if(!e&&r!==c.current&&n.current){const l=a.current;if(l){const d=nu(n.current,{ignoreTransform:!0}),u={x:l.left-d.left,y:l.top-d.top,scaleX:l.width/d.width,scaleY:l.height/d.height};(u.x||u.y)&&i(u)}}r!==c.current&&(c.current=r)},[e,r,n,a]),D.useEffect(()=>{o&&i(null)},[o]),o}function BR(t){let{animateLayoutChanges:e=RR,attributes:r,disabled:n,data:a,getNewIndex:o=IR,id:i,strategy:c,resizeObserverConfig:l,transition:d=TR}=t;const{items:u,containerId:h,activeIndex:y,disabled:m,disableTransforms:w,sortedRects:v,overIndex:A,useDragOverlay:b,strategy:S}=D.useContext(fS),R=$R(n,m),W=u.indexOf(i),z=D.useMemo(()=>({sortable:{containerId:h,index:W,items:u},...a}),[h,a,W,u]),B=D.useMemo(()=>u.slice(u.indexOf(i)),[u,i]),{rect:g,node:I,isOver:k,setNodeRef:_}=CR({id:i,data:z,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:B,...l}}),{active:x,activatorEvent:j,activeNodeRect:P,attributes:E,setNodeRef:U,listeners:q,isDragging:G,over:V,setActivatorNodeRef:ee,transform:le}=kR({id:i,data:z,attributes:{...MR,...r},disabled:R.draggable}),Z=eI(_,U),M=!!x,J=M&&!w&&np(y)&&np(A),te=!b&&G,de=te&&J?le:null,xe=J?de??(c??S)({rects:v,activeNodeRect:P,activeIndex:y,overIndex:A,index:W}):null,we=np(y)&&np(A)?o({id:i,items:u,activeIndex:y,overIndex:A}):W,me=x==null?void 0:x.id,Pe=D.useRef({activeId:me,items:u,newIndex:we,containerId:h}),qe=u!==Pe.current.items,Je=e({active:x,containerId:h,isDragging:G,isSorting:M,id:i,index:W,items:u,newIndex:Pe.current.newIndex,previousItems:Pe.current.items,previousContainerId:Pe.current.containerId,transition:d,wasDragging:Pe.current.activeId!=null}),rt=FR({disabled:!Je,index:W,node:I,rect:g});return D.useEffect(()=>{M&&Pe.current.newIndex!==we&&(Pe.current.newIndex=we),h!==Pe.current.containerId&&(Pe.current.containerId=h),u!==Pe.current.items&&(Pe.current.items=u)},[M,we,h,u]),D.useEffect(()=>{if(me===Pe.current.activeId)return;if(me&&!Pe.current.activeId){Pe.current.activeId=me;return}const Be=setTimeout(()=>{Pe.current.activeId=me},50);return()=>clearTimeout(Be)},[me]),{active:x,activeIndex:y,attributes:E,data:z,rect:g,index:W,newIndex:we,items:u,isOver:k,isSorting:M,isDragging:G,listeners:q,node:I,overIndex:A,over:V,setNodeRef:Z,setActivatorNodeRef:ee,setDroppableNodeRef:_,setDraggableNodeRef:U,transform:rt??xe,transition:pt()};function pt(){if(rt||qe&&Pe.current.newIndex===W)return OR;if(!(te&&!Uv(j)||!d)&&(M||Je))return Ff.Transition.toString({...d,property:hS})}}function $R(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}kr.Down,kr.Right,kr.Up,kr.Left;function qR({category:t,depth:e=0,onEdit:r,onDelete:n,onToggleStatus:a,onCreateSubcategory:o}){const i=e>0,{attributes:c,listeners:l,setNodeRef:d,transform:u,transition:h,isDragging:y}=BR({id:t.id}),m={transform:Ff.Transform.toString(u),transition:h,opacity:y?.5:1};return s.jsxs("tr",{ref:d,style:m,className:`
        transition-colors
        ${i?"bg-secondary-100 dark:bg-secondary-800/70 hover:bg-secondary-200 dark:hover:bg-secondary-800":"hover:bg-secondary-50 dark:hover:bg-secondary-800/50"}
      `,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center",children:[!i&&s.jsx("div",{...c,...l,className:"cursor-grab active:cursor-grabbing",children:s.jsx(DL,{className:"h-5 w-5 text-secondary-400 dark:text-secondary-500 mr-2"})}),s.jsx("div",{className:"flex items-center",style:{marginLeft:`${e*32}px`},children:t.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:t.type==="REVENUE"?"Receita":t.type==="EXPENSE"?"Despesa":"Ambos"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.active,onChange:()=>a(t)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e<6&&s.jsx("button",{onClick:()=>o(t),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Criar Subcategoria",children:s.jsx(x4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(t),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Editar",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(t),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:s.jsx(_i,{className:"h-5 w-5"})})]})]})}function pS(t,e,r){const n=[s.jsx(qR,{category:t,depth:e,...r},t.id)];if(e<5&&Array.isArray(t.subcategories)&&t.subcategories.length>0)for(const a of t.subcategories)n.push(...pS(a,e+1,r));return n}function UR(t){const e=[],r=n=>{for(const a of n)e.push(a.id),Array.isArray(a.subcategories)&&r(a.subcategories)};return r(t),e}function zR({categories:t,onEdit:e,onDelete:r,onToggleStatus:n,onCreateSubcategory:a,onReorder:o}){const i=mI(pI(Wv,{activationConstraint:{distance:8}}));if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(x4,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma categoria cadastrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Criar Nova Categoria" para comear a cadastrar categorias no sistema.'})]});const c=t.filter(h=>h.type==="REVENUE"&&!h.parentId),l=t.filter(h=>h.type==="EXPENSE"&&!h.parentId),d=(h,y)=>{const{active:m,over:w}=h;if(w&&m.id!==w.id){const v=y==="REVENUE"?c:l,A=v.findIndex(S=>S.id===m.id),b=v.findIndex(S=>S.id===w.id);o(A,b,y)}},u=({categories:h,title:y,type:m})=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4 px-6",children:y}),s.jsx(bR,{sensors:i,collisionDetection:vI,onDragEnd:w=>d(w,m),children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:s.jsx(DR,{items:UR(h),strategy:PR,children:h.flatMap(w=>pS(w,0,{onEdit:e,onDelete:r,onToggleStatus:n,onCreateSubcategory:a}))})})]})})]});return s.jsxs("div",{className:"overflow-x-auto",children:[s.jsx(u,{categories:c,title:"Receitas",type:"REVENUE"}),s.jsx(u,{categories:l,title:"Despesas",type:"EXPENSE"})]})}/*!
* sweetalert2 v11.22.0
* Released under the MIT License.
*/function mS(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function VR(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a5(t,e){return t.get(mS(t,e))}function HR(t,e,r){VR(t,e),e.set(t,r)}function WR(t,e,r){return t.set(mS(t,e),r),r}const GR=100,Dt={},JR=()=>{Dt.previousActiveElement instanceof HTMLElement?(Dt.previousActiveElement.focus(),Dt.previousActiveElement=null):document.body&&document.body.focus()},KR=t=>new Promise(e=>{if(!t)return e();const r=window.scrollX,n=window.scrollY;Dt.restoreFocusTimeout=setTimeout(()=>{JR(),e()},GR),window.scrollTo(r,n)}),gS="swal2-",YR=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Ve=YR.reduce((t,e)=>(t[e]=gS+e,t),{}),XR=["success","warning","info","question","error"],w0=XR.reduce((t,e)=>(t[e]=gS+e,t),{}),yS="SweetAlert2:",Gv=t=>t.charAt(0).toUpperCase()+t.slice(1),Aa=t=>{console.warn(`${yS} ${typeof t=="object"?t.join(" "):t}`)},kc=t=>{console.error(`${yS} ${t}`)},s5=[],QR=t=>{s5.includes(t)||(s5.push(t),Aa(t))},xS=(t,e=null)=>{QR(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},jm=t=>typeof t=="function"?t():t,Jv=t=>t&&typeof t.toPromise=="function",ah=t=>Jv(t)?t.toPromise():Promise.resolve(t),Kv=t=>t&&Promise.resolve(t)===t,Da=()=>document.body.querySelector(`.${Ve.container}`),sh=t=>{const e=Da();return e?e.querySelector(t):null},bs=t=>sh(`.${t}`),yr=()=>bs(Ve.popup),au=()=>bs(Ve.icon),ZR=()=>bs(Ve["icon-content"]),bS=()=>bs(Ve.title),Yv=()=>bs(Ve["html-container"]),vS=()=>bs(Ve.image),Xv=()=>bs(Ve["progress-steps"]),Nm=()=>bs(Ve["validation-message"]),Vo=()=>sh(`.${Ve.actions} .${Ve.confirm}`),su=()=>sh(`.${Ve.actions} .${Ve.cancel}`),jc=()=>sh(`.${Ve.actions} .${Ve.deny}`),eT=()=>bs(Ve["input-label"]),ou=()=>sh(`.${Ve.loader}`),oh=()=>bs(Ve.actions),wS=()=>bs(Ve.footer),Sm=()=>bs(Ve["timer-progress-bar"]),Qv=()=>bs(Ve.close),tT=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Zv=()=>{const t=yr();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(e).sort((o,i)=>{const c=parseInt(o.getAttribute("tabindex")||"0"),l=parseInt(i.getAttribute("tabindex")||"0");return c>l?1:c<l?-1:0}),n=t.querySelectorAll(tT),a=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(a))].filter(o=>Ga(o))},ew=()=>pi(document.body,Ve.shown)&&!pi(document.body,Ve["toast-shown"])&&!pi(document.body,Ve["no-backdrop"]),Cm=()=>{const t=yr();return t?pi(t,Ve.toast):!1},rT=()=>{const t=yr();return t?t.hasAttribute("data-loading"):!1},vs=(t,e)=>{if(t.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach(i=>{t.appendChild(i)});const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?t.appendChild(i.cloneNode(!0)):t.appendChild(i)})}},pi=(t,e)=>{if(!e)return!1;const r=e.split(/\s+/);for(let n=0;n<r.length;n++)if(!t.classList.contains(r[n]))return!1;return!0},nT=(t,e)=>{Array.from(t.classList).forEach(r=>{!Object.values(Ve).includes(r)&&!Object.values(w0).includes(r)&&!Object.values(e.showClass||{}).includes(r)&&t.classList.remove(r)})},gs=(t,e,r)=>{if(nT(t,e),!e.customClass)return;const n=e.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){Aa(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}jr(t,n)}},_m=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Ve.popup} > .${Ve[e]}`);case"checkbox":return t.querySelector(`.${Ve.popup} > .${Ve.checkbox} input`);case"radio":return t.querySelector(`.${Ve.popup} > .${Ve.radio} input:checked`)||t.querySelector(`.${Ve.popup} > .${Ve.radio} input:first-child`);case"range":return t.querySelector(`.${Ve.popup} > .${Ve.range} input`);default:return t.querySelector(`.${Ve.popup} > .${Ve.input}`)}},kS=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},jS=(t,e,r)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(t)?t.forEach(a=>{r?a.classList.add(n):a.classList.remove(n)}):r?t.classList.add(n):t.classList.remove(n)}))},jr=(t,e)=>{jS(t,e,!0)},$s=(t,e)=>{jS(t,e,!1)},ul=(t,e)=>{const r=Array.from(t.children);for(let n=0;n<r.length;n++){const a=r[n];if(a instanceof HTMLElement&&pi(a,e))return a}},oc=(t,e,r)=>{r===`${parseInt(r)}`&&(r=parseInt(r)),r||parseInt(r)===0?t.style.setProperty(e,typeof r=="number"?`${r}px`:r):t.style.removeProperty(e)},Zn=(t,e="flex")=>{t&&(t.style.display=e)},wa=t=>{t&&(t.style.display="none")},tw=(t,e="block")=>{t&&new MutationObserver(()=>{ih(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},o5=(t,e,r,n)=>{const a=t.querySelector(e);a&&a.style.setProperty(r,n)},ih=(t,e,r="flex")=>{e?Zn(t,r):wa(t)},Ga=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),aT=()=>!Ga(Vo())&&!Ga(jc())&&!Ga(su()),Gx=t=>t.scrollHeight>t.clientHeight,sT=(t,e)=>{let r=t;for(;r&&r!==e;){if(Gx(r))return!0;r=r.parentElement}return!1},NS=t=>{const e=window.getComputedStyle(t),r=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return r>0||n>0},rw=(t,e=!1)=>{const r=Sm();r&&Ga(r)&&(e&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},oT=()=>{const t=Sm();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),n=e/r*100;t.style.width=`${n}%`},iT=()=>typeof window>"u"||typeof document>"u",lT=`
 <div aria-labelledby="${Ve.title}" aria-describedby="${Ve["html-container"]}" class="${Ve.popup}" tabindex="-1">
   <button type="button" class="${Ve.close}"></button>
   <ul class="${Ve["progress-steps"]}"></ul>
   <div class="${Ve.icon}"></div>
   <img class="${Ve.image}" />
   <h2 class="${Ve.title}" id="${Ve.title}"></h2>
   <div class="${Ve["html-container"]}" id="${Ve["html-container"]}"></div>
   <input class="${Ve.input}" id="${Ve.input}" />
   <input type="file" class="${Ve.file}" />
   <div class="${Ve.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Ve.select}" id="${Ve.select}"></select>
   <div class="${Ve.radio}"></div>
   <label class="${Ve.checkbox}">
     <input type="checkbox" id="${Ve.checkbox}" />
     <span class="${Ve.label}"></span>
   </label>
   <textarea class="${Ve.textarea}" id="${Ve.textarea}"></textarea>
   <div class="${Ve["validation-message"]}" id="${Ve["validation-message"]}"></div>
   <div class="${Ve.actions}">
     <div class="${Ve.loader}"></div>
     <button type="button" class="${Ve.confirm}"></button>
     <button type="button" class="${Ve.deny}"></button>
     <button type="button" class="${Ve.cancel}"></button>
   </div>
   <div class="${Ve.footer}"></div>
   <div class="${Ve["timer-progress-bar-container"]}">
     <div class="${Ve["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),cT=()=>{const t=Da();return t?(t.remove(),$s([document.documentElement,document.body],[Ve["no-backdrop"],Ve["toast-shown"],Ve["has-column"]]),!0):!1},Wl=()=>{Dt.currentInstance.resetValidationMessage()},dT=()=>{const t=yr(),e=ul(t,Ve.input),r=ul(t,Ve.file),n=t.querySelector(`.${Ve.range} input`),a=t.querySelector(`.${Ve.range} output`),o=ul(t,Ve.select),i=t.querySelector(`.${Ve.checkbox} input`),c=ul(t,Ve.textarea);e.oninput=Wl,r.onchange=Wl,o.onchange=Wl,i.onchange=Wl,c.oninput=Wl,n.oninput=()=>{Wl(),a.value=n.value},n.onchange=()=>{Wl(),a.value=n.value}},uT=t=>typeof t=="string"?document.querySelector(t):t,fT=t=>{const e=yr();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},hT=t=>{window.getComputedStyle(t).direction==="rtl"&&jr(Da(),Ve.rtl)},pT=t=>{const e=cT();if(iT()){kc("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=Ve.container,e&&jr(r,Ve["no-transition"]),vs(r,lT),r.dataset.swal2Theme=t.theme;const n=uT(t.target);n.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),fT(t),hT(n),dT()},nw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?mT(t,e):t&&vs(e,t)},mT=(t,e)=>{t.jquery?gT(e,t):vs(e,t.toString())},gT=(t,e)=>{if(t.textContent="",0 in e)for(let r=0;r in e;r++)t.appendChild(e[r].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},yT=(t,e)=>{const r=oh(),n=ou();!r||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?wa(r):Zn(r),gs(r,e,"actions"),xT(r,n,e),vs(n,e.loaderHtml||""),gs(n,e,"loader"))};function xT(t,e,r){const n=Vo(),a=jc(),o=su();!n||!a||!o||(iy(n,"confirm",r),iy(a,"deny",r),iy(o,"cancel",r),bT(n,a,o,r),r.reverseButtons&&(r.toast?(t.insertBefore(o,n),t.insertBefore(a,n)):(t.insertBefore(o,e),t.insertBefore(a,e),t.insertBefore(n,e))))}function bT(t,e,r,n){if(!n.buttonsStyling){$s([t,e,r],Ve.styled);return}jr([t,e,r],Ve.styled),n.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),oy(t),oy(e),oy(r)}function oy(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function iy(t,e,r){const n=Gv(e);ih(t,r[`show${n}Button`],"inline-block"),vs(t,r[`${e}ButtonText`]||""),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]||""),t.className=Ve[e],gs(t,r,`${e}Button`)}const vT=(t,e)=>{const r=Qv();r&&(vs(r,e.closeButtonHtml||""),gs(r,e,"closeButton"),ih(r,e.showCloseButton),r.setAttribute("aria-label",e.closeButtonAriaLabel||""))},wT=(t,e)=>{const r=Da();r&&(kT(r,e.backdrop),jT(r,e.position),NT(r,e.grow),gs(r,e,"container"))};function kT(t,e){typeof e=="string"?t.style.background=e:e||jr([document.documentElement,document.body],Ve["no-backdrop"])}function jT(t,e){e&&(e in Ve?jr(t,Ve[e]):(Aa('The "position" parameter is not valid, defaulting to "center"'),jr(t,Ve.center)))}function NT(t,e){e&&jr(t,Ve[`grow-${e}`])}var Wr={innerParams:new WeakMap,domCache:new WeakMap};const ST=["input","file","range","select","radio","checkbox","textarea"],CT=(t,e)=>{const r=yr();if(!r)return;const n=Wr.innerParams.get(t),a=!n||e.input!==n.input;ST.forEach(o=>{const i=ul(r,Ve[o]);i&&(AT(o,e.inputAttributes),i.className=Ve[o],a&&wa(i))}),e.input&&(a&&_T(e),PT(e))},_T=t=>{if(!t.input)return;if(!xn[t.input]){kc(`Unexpected type of input! Expected ${Object.keys(xn).join(" | ")}, got "${t.input}"`);return}const e=SS(t.input);if(!e)return;const r=xn[t.input](e,t);Zn(e),t.inputAutoFocus&&setTimeout(()=>{kS(r)})},ET=t=>{for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},AT=(t,e)=>{const r=yr();if(!r)return;const n=_m(r,t);if(n){ET(n);for(const a in e)n.setAttribute(a,e[a])}},PT=t=>{if(!t.input)return;const e=SS(t.input);e&&gs(e,t,"input")},aw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},lh=(t,e,r)=>{if(r.inputLabel){const n=document.createElement("label"),a=Ve["input-label"];n.setAttribute("for",t.id),n.className=a,typeof r.customClass=="object"&&jr(n,r.customClass.inputLabel),n.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",n)}},SS=t=>{const e=yr();if(e)return ul(e,Ve[t]||Ve.input)},k0=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Kv(e)||Aa(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},xn={};xn.text=xn.email=xn.password=xn.number=xn.tel=xn.url=xn.search=xn.date=xn["datetime-local"]=xn.time=xn.week=xn.month=(t,e)=>(k0(t,e.inputValue),lh(t,t,e),aw(t,e),t.type=e.input,t);xn.file=(t,e)=>(lh(t,t,e),aw(t,e),t);xn.range=(t,e)=>{const r=t.querySelector("input"),n=t.querySelector("output");return k0(r,e.inputValue),r.type=e.input,k0(n,e.inputValue),lh(r,t,e),t};xn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const r=document.createElement("option");vs(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return lh(t,t,e),t};xn.radio=t=>(t.textContent="",t);xn.checkbox=(t,e)=>{const r=_m(yr(),"checkbox");r.value="1",r.checked=!!e.inputValue;const n=t.querySelector("span");return vs(n,e.inputPlaceholder||e.inputLabel),r};xn.textarea=(t,e)=>{k0(t,e.inputValue),aw(t,e),lh(t,t,e);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(yr()).width),a=()=>{if(!document.body.contains(t))return;const o=t.offsetWidth+r(t);o>n?yr().style.width=`${o}px`:oc(yr(),"width",e.width)};new MutationObserver(a).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const LT=(t,e)=>{const r=Yv();r&&(tw(r),gs(r,e,"htmlContainer"),e.html?(nw(e.html,r),Zn(r,"block")):e.text?(r.textContent=e.text,Zn(r,"block")):wa(r),CT(t,e))},DT=(t,e)=>{const r=wS();r&&(tw(r),ih(r,e.footer,"block"),e.footer&&nw(e.footer,r),gs(r,e,"footer"))},IT=(t,e)=>{const r=Wr.innerParams.get(t),n=au();if(!n)return;if(r&&e.icon===r.icon){l5(n,e),i5(n,e);return}if(!e.icon&&!e.iconHtml){wa(n);return}if(e.icon&&Object.keys(w0).indexOf(e.icon)===-1){kc(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),wa(n);return}Zn(n),l5(n,e),i5(n,e),jr(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",CS)},i5=(t,e)=>{for(const[r,n]of Object.entries(w0))e.icon!==r&&$s(t,n);jr(t,e.icon&&w0[e.icon]),OT(t,e),CS(),gs(t,e,"icon")},CS=()=>{const t=yr();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=e},RT=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,TT=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,l5=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let r=t.innerHTML,n="";e.iconHtml?n=c5(e.iconHtml):e.icon==="success"?(n=RT,r=r.replace(/ style=".*?"/g,"")):e.icon==="error"?n=TT:e.icon&&(n=c5({question:"?",warning:"!",info:"i"}[e.icon])),r.trim()!==n.trim()&&vs(t,n)},OT=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])o5(t,r,"background-color",e.iconColor);o5(t,".swal2-success-ring","border-color",e.iconColor)}},c5=t=>`<div class="${Ve["icon-content"]}">${t}</div>`,MT=(t,e)=>{const r=vS();if(r){if(!e.imageUrl){wa(r);return}Zn(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt||""),oc(r,"width",e.imageWidth),oc(r,"height",e.imageHeight),r.className=Ve.image,gs(r,e,"image")}};let sw=!1,_S=0,ES=0,AS=0,PS=0;const FT=t=>{t.addEventListener("mousedown",j0),document.body.addEventListener("mousemove",N0),t.addEventListener("mouseup",S0),t.addEventListener("touchstart",j0),document.body.addEventListener("touchmove",N0),t.addEventListener("touchend",S0)},BT=t=>{t.removeEventListener("mousedown",j0),document.body.removeEventListener("mousemove",N0),t.removeEventListener("mouseup",S0),t.removeEventListener("touchstart",j0),document.body.removeEventListener("touchmove",N0),t.removeEventListener("touchend",S0)},j0=t=>{const e=yr();if(t.target===e||au().contains(t.target)){sw=!0;const r=LS(t);_S=r.clientX,ES=r.clientY,AS=parseInt(e.style.insetInlineStart)||0,PS=parseInt(e.style.insetBlockStart)||0,jr(e,"swal2-dragging")}},N0=t=>{const e=yr();if(sw){let{clientX:r,clientY:n}=LS(t);e.style.insetInlineStart=`${AS+(r-_S)}px`,e.style.insetBlockStart=`${PS+(n-ES)}px`}},S0=()=>{const t=yr();sw=!1,$s(t,"swal2-dragging")},LS=t=>{let e=0,r=0;return t.type.startsWith("mouse")?(e=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:e,clientY:r}},$T=(t,e)=>{const r=Da(),n=yr();if(!(!r||!n)){if(e.toast){oc(r,"width",e.width),n.style.width="100%";const a=ou();a&&n.insertBefore(a,au())}else oc(n,"width",e.width);oc(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),wa(Nm()),qT(n,e),e.draggable&&!e.toast?(jr(n,Ve.draggable),FT(n)):($s(n,Ve.draggable),BT(n))}},qT=(t,e)=>{const r=e.showClass||{};t.className=`${Ve.popup} ${Ga(t)?r.popup:""}`,e.toast?(jr([document.documentElement,document.body],Ve["toast-shown"]),jr(t,Ve.toast)):jr(t,Ve.modal),gs(t,e,"popup"),typeof e.customClass=="string"&&jr(t,e.customClass),e.icon&&jr(t,Ve[`icon-${e.icon}`])},UT=(t,e)=>{const r=Xv();if(!r)return;const{progressSteps:n,currentProgressStep:a}=e;if(!n||n.length===0||a===void 0){wa(r);return}Zn(r),r.textContent="",a>=n.length&&Aa("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,i)=>{const c=zT(o);if(r.appendChild(c),i===a&&jr(c,Ve["active-progress-step"]),i!==n.length-1){const l=VT(e);r.appendChild(l)}})},zT=t=>{const e=document.createElement("li");return jr(e,Ve["progress-step"]),vs(e,t),e},VT=t=>{const e=document.createElement("li");return jr(e,Ve["progress-step-line"]),t.progressStepsDistance&&oc(e,"width",t.progressStepsDistance),e},HT=(t,e)=>{const r=bS();r&&(tw(r),ih(r,e.title||e.titleText,"block"),e.title&&nw(e.title,r),e.titleText&&(r.innerText=e.titleText),gs(r,e,"title"))},DS=(t,e)=>{$T(t,e),wT(t,e),UT(t,e),IT(t,e),MT(t,e),HT(t,e),vT(t,e),LT(t,e),yT(t,e),DT(t,e);const r=yr();typeof e.didRender=="function"&&r&&e.didRender(r),Dt.eventEmitter.emit("didRender",r)},WT=()=>Ga(yr()),IS=()=>{var t;return(t=Vo())===null||t===void 0?void 0:t.click()},GT=()=>{var t;return(t=jc())===null||t===void 0?void 0:t.click()},JT=()=>{var t;return(t=su())===null||t===void 0?void 0:t.click()},iu=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),RS=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},KT=(t,e,r)=>{RS(t),e.toast||(t.keydownHandler=n=>XT(e,n,r),t.keydownTarget=e.keydownListenerCapture?window:yr(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Jx=(t,e)=>{var r;const n=Zv();if(n.length){t=t+e,t===-2&&(t=n.length-1),t===n.length?t=0:t===-1&&(t=n.length-1),n[t].focus();return}(r=yr())===null||r===void 0||r.focus()},TS=["ArrowRight","ArrowDown"],YT=["ArrowLeft","ArrowUp"],XT=(t,e,r)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?QT(e,t):e.key==="Tab"?ZT(e):[...TS,...YT].includes(e.key)?e9(e.key):e.key==="Escape"&&t9(e,t,r)))},QT=(t,e)=>{if(!jm(e.allowEnterKey))return;const r=_m(yr(),e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;IS(),t.preventDefault()}},ZT=t=>{const e=t.target,r=Zv();let n=-1;for(let a=0;a<r.length;a++)if(e===r[a]){n=a;break}t.shiftKey?Jx(n,-1):Jx(n,1),t.stopPropagation(),t.preventDefault()},e9=t=>{const e=oh(),r=Vo(),n=jc(),a=su();if(!e||!r||!n||!a)return;const o=[r,n,a];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const i=TS.includes(t)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let l=0;l<e.children.length;l++){if(c=c[i],!c)return;if(c instanceof HTMLButtonElement&&Ga(c))break}c instanceof HTMLButtonElement&&c.focus()}},t9=(t,e,r)=>{jm(e.allowEscapeKey)&&(t.preventDefault(),r(iu.esc))};var Bd={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const r9=()=>{const t=Da();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},OS=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},MS=typeof window<"u"&&!!window.GestureEvent,n9=()=>{if(MS&&!pi(document.body,Ve.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,jr(document.body,Ve.iosfix),a9()}},a9=()=>{const t=Da();if(!t)return;let e;t.ontouchstart=r=>{e=s9(r)},t.ontouchmove=r=>{e&&(r.preventDefault(),r.stopPropagation())}},s9=t=>{const e=t.target,r=Da(),n=Yv();return!r||!n||o9(t)||i9(t)?!1:e===r||!Gx(r)&&e instanceof HTMLElement&&!sT(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Gx(n)&&n.contains(e))},o9=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",i9=t=>t.touches&&t.touches.length>1,l9=()=>{if(pi(document.body,Ve.iosfix)){const t=parseInt(document.body.style.top,10);$s(document.body,Ve.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},c9=()=>{const t=document.createElement("div");t.className=Ve["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let kd=null;const d9=t=>{kd===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(kd=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${kd+c9()}px`)},u9=()=>{kd!==null&&(document.body.style.paddingRight=`${kd}px`,kd=null)};function FS(t,e,r,n){Cm()?d5(t,n):(KR(r).then(()=>d5(t,n)),RS(Dt)),MS?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),ew()&&(u9(),l9(),OS()),f9()}function f9(){$s([document.documentElement,document.body],[Ve.shown,Ve["height-auto"],Ve["no-backdrop"],Ve["toast-shown"]])}function fl(t){t=p9(t);const e=Bd.swalPromiseResolve.get(this),r=h9(this);this.isAwaitingPromise?t.isDismissed||(ch(this),e(t)):r&&e(t)}const h9=t=>{const e=yr();if(!e)return!1;const r=Wr.innerParams.get(t);if(!r||pi(e,r.hideClass.popup))return!1;$s(e,r.showClass.popup),jr(e,r.hideClass.popup);const n=Da();return $s(n,r.showClass.backdrop),jr(n,r.hideClass.backdrop),m9(t,e,r),!0};function BS(t){const e=Bd.swalPromiseReject.get(this);ch(this),e&&e(t)}const ch=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Wr.innerParams.get(t)||t._destroy())},p9=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),m9=(t,e,r)=>{var n;const a=Da(),o=NS(e);typeof r.willClose=="function"&&r.willClose(e),(n=Dt.eventEmitter)===null||n===void 0||n.emit("willClose",e),o?g9(t,e,a,r.returnFocus,r.didClose):FS(t,a,r.returnFocus,r.didClose)},g9=(t,e,r,n,a)=>{Dt.swalCloseEventFinishedCallback=FS.bind(null,t,r,n,a);const o=function(i){if(i.target===e){var c;(c=Dt.swalCloseEventFinishedCallback)===null||c===void 0||c.call(Dt),delete Dt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o)}};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},d5=(t,e)=>{setTimeout(()=>{var r;typeof e=="function"&&e.bind(t.params)(),(r=Dt.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},$d=t=>{let e=yr();if(e||new jl,e=yr(),!e)return;const r=ou();Cm()?wa(au()):y9(e,t),Zn(r),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},y9=(t,e)=>{const r=oh(),n=ou();!r||!n||(!e&&Ga(Vo())&&(e=Vo()),Zn(r),e&&(wa(e),n.setAttribute("data-button-to-replace",e.className),r.insertBefore(n,e)),jr([t,r],Ve.loading))},x9=(t,e)=>{e.input==="select"||e.input==="radio"?j9(t,e):["text","email","number","tel","textarea"].some(r=>r===e.input)&&(Jv(e.inputValue)||Kv(e.inputValue))&&($d(Vo()),N9(t,e))},b9=(t,e)=>{const r=t.getInput();if(!r)return null;switch(e.input){case"checkbox":return v9(r);case"radio":return w9(r);case"file":return k9(r);default:return e.inputAutoTrim?r.value.trim():r.value}},v9=t=>t.checked?1:0,w9=t=>t.checked?t.value:null,k9=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,j9=(t,e)=>{const r=yr();if(!r)return;const n=a=>{e.input==="select"?S9(r,C0(a),e):e.input==="radio"&&C9(r,C0(a),e)};Jv(e.inputOptions)||Kv(e.inputOptions)?($d(Vo()),ah(e.inputOptions).then(a=>{t.hideLoading(),n(a)})):typeof e.inputOptions=="object"?n(e.inputOptions):kc(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},N9=(t,e)=>{const r=t.getInput();r&&(wa(r),ah(e.inputValue).then(n=>{r.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,Zn(r),r.focus(),t.hideLoading()}).catch(n=>{kc(`Error in inputValue promise: ${n}`),r.value="",Zn(r),r.focus(),t.hideLoading()}))};function S9(t,e,r){const n=ul(t,Ve.select);if(!n)return;const a=(o,i,c)=>{const l=document.createElement("option");l.value=c,vs(l,i),l.selected=$S(c,r.inputValue),o.appendChild(l)};e.forEach(o=>{const i=o[0],c=o[1];if(Array.isArray(c)){const l=document.createElement("optgroup");l.label=i,l.disabled=!1,n.appendChild(l),c.forEach(d=>a(l,d[1],d[0]))}else a(n,c,i)}),n.focus()}function C9(t,e,r){const n=ul(t,Ve.radio);if(!n)return;e.forEach(o=>{const i=o[0],c=o[1],l=document.createElement("input"),d=document.createElement("label");l.type="radio",l.name=Ve.radio,l.value=i,$S(i,r.inputValue)&&(l.checked=!0);const u=document.createElement("span");vs(u,c),u.className=Ve.label,d.appendChild(l),d.appendChild(u),n.appendChild(d)});const a=n.querySelectorAll("input");a.length&&a[0].focus()}const C0=t=>{const e=[];return t instanceof Map?t.forEach((r,n)=>{let a=r;typeof a=="object"&&(a=C0(a)),e.push([n,a])}):Object.keys(t).forEach(r=>{let n=t[r];typeof n=="object"&&(n=C0(n)),e.push([r,n])}),e},$S=(t,e)=>!!e&&e.toString()===t.toString(),_9=t=>{const e=Wr.innerParams.get(t);t.disableButtons(),e.input?qS(t,"confirm"):iw(t,!0)},E9=t=>{const e=Wr.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?qS(t,"deny"):ow(t,!1)},A9=(t,e)=>{t.disableButtons(),e(iu.cancel)},qS=(t,e)=>{const r=Wr.innerParams.get(t);if(!r.input){kc(`The "input" parameter is needed to be set when using returnInputValueOn${Gv(e)}`);return}const n=t.getInput(),a=b9(t,r);r.inputValidator?P9(t,a,e):n&&!n.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||n.validationMessage)):e==="deny"?ow(t,a):iw(t,a)},P9=(t,e,r)=>{const n=Wr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>ah(n.inputValidator(e,n.validationMessage))).then(o=>{t.enableButtons(),t.enableInput(),o?t.showValidationMessage(o):r==="deny"?ow(t,e):iw(t,e)})},ow=(t,e)=>{const r=Wr.innerParams.get(t||void 0);r.showLoaderOnDeny&&$d(jc()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>ah(r.preDeny(e,r.validationMessage))).then(a=>{a===!1?(t.hideLoading(),ch(t)):t.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>US(t||void 0,a))):t.close({isDenied:!0,value:e})},u5=(t,e)=>{t.close({isConfirmed:!0,value:e})},US=(t,e)=>{t.rejectPromise(e)},iw=(t,e)=>{const r=Wr.innerParams.get(t||void 0);r.showLoaderOnConfirm&&$d(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>ah(r.preConfirm(e,r.validationMessage))).then(a=>{Ga(Nm())||a===!1?(t.hideLoading(),ch(t)):u5(t,typeof a>"u"?e:a)}).catch(a=>US(t||void 0,a))):u5(t,e)};function _0(){const t=Wr.innerParams.get(this);if(!t)return;const e=Wr.domCache.get(this);wa(e.loader),Cm()?t.icon&&Zn(au()):L9(e),$s([e.popup,e.actions],Ve.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const L9=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Zn(e[0],"inline-block"):aT()&&wa(t.actions)};function zS(){const t=Wr.innerParams.get(this),e=Wr.domCache.get(this);return e?_m(e.popup,t.input):null}function VS(t,e,r){const n=Wr.domCache.get(t);e.forEach(a=>{n[a].disabled=r})}function HS(t,e){const r=yr();if(!(!r||!t))if(t.type==="radio"){const n=r.querySelectorAll(`[name="${Ve.radio}"]`);for(let a=0;a<n.length;a++)n[a].disabled=e}else t.disabled=e}function WS(){VS(this,["confirmButton","denyButton","cancelButton"],!1)}function GS(){VS(this,["confirmButton","denyButton","cancelButton"],!0)}function JS(){HS(this.getInput(),!1)}function KS(){HS(this.getInput(),!0)}function YS(t){const e=Wr.domCache.get(this),r=Wr.innerParams.get(this);vs(e.validationMessage,t),e.validationMessage.className=Ve["validation-message"],r.customClass&&r.customClass.validationMessage&&jr(e.validationMessage,r.customClass.validationMessage),Zn(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",Ve["validation-message"]),kS(n),jr(n,Ve.inputerror))}function XS(){const t=Wr.domCache.get(this);t.validationMessage&&wa(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),$s(e,Ve.inputerror))}const jd={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},D9=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],I9={allowEnterKey:void 0},R9=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],QS=t=>Object.prototype.hasOwnProperty.call(jd,t),ZS=t=>D9.indexOf(t)!==-1,e3=t=>I9[t],T9=t=>{QS(t)||Aa(`Unknown parameter "${t}"`)},O9=t=>{R9.includes(t)&&Aa(`The parameter "${t}" is incompatible with toasts`)},M9=t=>{const e=e3(t);e&&xS(t,e)},t3=t=>{t.backdrop===!1&&t.allowOutsideClick&&Aa('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Aa(`Invalid theme "${t.theme}"`);for(const e in t)T9(e),t.toast&&O9(e),M9(e)};function r3(t){const e=Da(),r=yr(),n=Wr.innerParams.get(this);if(!r||pi(r,n.hideClass.popup)){Aa("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=F9(t),o=Object.assign({},n,a);t3(o),e.dataset.swal2Theme=o.theme,DS(this,o),Wr.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const F9=t=>{const e={};return Object.keys(t).forEach(r=>{ZS(r)?e[r]=t[r]:Aa(`Invalid parameter to update: ${r}`)}),e};function n3(){const t=Wr.domCache.get(this),e=Wr.innerParams.get(this);if(!e){a3(this);return}t.popup&&Dt.swalCloseEventFinishedCallback&&(Dt.swalCloseEventFinishedCallback(),delete Dt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Dt.eventEmitter.emit("didDestroy"),B9(this)}const B9=t=>{a3(t),delete t.params,delete Dt.keydownHandler,delete Dt.keydownTarget,delete Dt.currentInstance},a3=t=>{t.isAwaitingPromise?(ly(Wr,t),t.isAwaitingPromise=!0):(ly(Bd,t),ly(Wr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ly=(t,e)=>{for(const r in t)t[r].delete(e)};var $9=Object.freeze({__proto__:null,_destroy:n3,close:fl,closeModal:fl,closePopup:fl,closeToast:fl,disableButtons:GS,disableInput:KS,disableLoading:_0,enableButtons:WS,enableInput:JS,getInput:zS,handleAwaitingPromise:ch,hideLoading:_0,rejectPromise:BS,resetValidationMessage:XS,showValidationMessage:YS,update:r3});const q9=(t,e,r)=>{t.toast?U9(t,e,r):(V9(e),H9(e),W9(t,e,r))},U9=(t,e,r)=>{e.popup.onclick=()=>{t&&(z9(t)||t.timer||t.input)||r(iu.close)}},z9=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let E0=!1;const V9=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(E0=!0)}}},H9=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(E0=!0)}}},W9=(t,e,r)=>{e.container.onclick=n=>{if(E0){E0=!1;return}n.target===e.container&&jm(t.allowOutsideClick)&&r(iu.backdrop)}},G9=t=>typeof t=="object"&&t.jquery,f5=t=>t instanceof Element||G9(t),J9=t=>{const e={};return typeof t[0]=="object"&&!f5(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((r,n)=>{const a=t[n];typeof a=="string"||f5(a)?e[r]=a:a!==void 0&&kc(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof a}`)}),e};function K9(...t){return new this(...t)}function Y9(t){class e extends this{_main(n,a){return super._main(n,Object.assign({},t,a))}}return e}const X9=()=>Dt.timeout&&Dt.timeout.getTimerLeft(),s3=()=>{if(Dt.timeout)return oT(),Dt.timeout.stop()},o3=()=>{if(Dt.timeout){const t=Dt.timeout.start();return rw(t),t}},Q9=()=>{const t=Dt.timeout;return t&&(t.running?s3():o3())},Z9=t=>{if(Dt.timeout){const e=Dt.timeout.increase(t);return rw(e,!0),e}},eO=()=>!!(Dt.timeout&&Dt.timeout.isRunning());let h5=!1;const Kx={};function tO(t="data-swal-template"){Kx[t]=this,h5||(document.body.addEventListener("click",rO),h5=!0)}const rO=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in Kx){const n=e.getAttribute(r);if(n){Kx[r].fire({template:n});return}}};class nO{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,r){const n=this._getHandlersByEventName(e);n.includes(r)||n.push(r)}once(e,r){const n=(...a)=>{this.removeListener(e,n),r.apply(this,a)};this.on(e,n)}emit(e,...r){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,r)}catch(a){console.error(a)}})}removeListener(e,r){const n=this._getHandlersByEventName(e),a=n.indexOf(r);a>-1&&n.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Dt.eventEmitter=new nO;const aO=(t,e)=>{Dt.eventEmitter.on(t,e)},sO=(t,e)=>{Dt.eventEmitter.once(t,e)},oO=(t,e)=>{if(!t){Dt.eventEmitter.reset();return}e?Dt.eventEmitter.removeListener(t,e):Dt.eventEmitter.removeAllListeners(t)};var iO=Object.freeze({__proto__:null,argsToParams:J9,bindClickHandler:tO,clickCancel:JT,clickConfirm:IS,clickDeny:GT,enableLoading:$d,fire:K9,getActions:oh,getCancelButton:su,getCloseButton:Qv,getConfirmButton:Vo,getContainer:Da,getDenyButton:jc,getFocusableElements:Zv,getFooter:wS,getHtmlContainer:Yv,getIcon:au,getIconContent:ZR,getImage:vS,getInputLabel:eT,getLoader:ou,getPopup:yr,getProgressSteps:Xv,getTimerLeft:X9,getTimerProgressBar:Sm,getTitle:bS,getValidationMessage:Nm,increaseTimer:Z9,isDeprecatedParameter:e3,isLoading:rT,isTimerRunning:eO,isUpdatableParameter:ZS,isValidParameter:QS,isVisible:WT,mixin:Y9,off:oO,on:aO,once:sO,resumeTimer:o3,showLoading:$d,stopTimer:s3,toggleTimer:Q9});class lO{constructor(e,r){this.callback=e,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const r=this.running;return r&&this.stop(),this.remaining+=e,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const i3=["swal-title","swal-html","swal-footer"],cO=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const r=e.content;return yO(r),Object.assign(dO(r),uO(r),fO(r),hO(r),pO(r),mO(r),gO(r,i3))},dO=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(n=>{pc(n,["name","value"]);const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(typeof jd[a]=="boolean"?e[a]=o!=="false":typeof jd[a]=="object"?e[a]=JSON.parse(o):e[a]=o)}),e},uO=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(n=>{const a=n.getAttribute("name"),o=n.getAttribute("value");!a||!o||(e[a]=new Function(`return ${o}`)())}),e},fO=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(n=>{pc(n,["type","color","aria-label"]);const a=n.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=n.innerHTML,e[`show${Gv(a)}Button`]=!0,n.hasAttribute("color")&&(e[`${a}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},hO=t=>{const e={},r=t.querySelector("swal-image");return r&&(pc(r,["src","width","height","alt"]),r.hasAttribute("src")&&(e.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(e.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(e.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(e.imageAlt=r.getAttribute("alt")||void 0)),e},pO=t=>{const e={},r=t.querySelector("swal-icon");return r&&(pc(r,["type","color"]),r.hasAttribute("type")&&(e.icon=r.getAttribute("type")),r.hasAttribute("color")&&(e.iconColor=r.getAttribute("color")),e.iconHtml=r.innerHTML),e},mO=t=>{const e={},r=t.querySelector("swal-input");r&&(pc(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const n=Array.from(t.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(a=>{pc(a,["value"]);const o=a.getAttribute("value");if(!o)return;const i=a.innerHTML;e.inputOptions[o]=i})),e},gO=(t,e)=>{const r={};for(const n in e){const a=e[n],o=t.querySelector(a);o&&(pc(o,[]),r[a.replace(/^swal-/,"")]=o.innerHTML.trim())}return r},yO=t=>{const e=i3.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const n=r.tagName.toLowerCase();e.includes(n)||Aa(`Unrecognized element <${n}>`)})},pc=(t,e)=>{Array.from(t.attributes).forEach(r=>{e.indexOf(r.name)===-1&&Aa([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},l3=10,xO=t=>{const e=Da(),r=yr();typeof t.willOpen=="function"&&t.willOpen(r),Dt.eventEmitter.emit("willOpen",r);const a=window.getComputedStyle(document.body).overflowY;wO(e,r,t),setTimeout(()=>{bO(e,r)},l3),ew()&&(vO(e,t.scrollbarPadding,a),r9()),!Cm()&&!Dt.previousActiveElement&&(Dt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Dt.eventEmitter.emit("didOpen",r),$s(e,Ve["no-transition"])},A0=t=>{const e=yr();if(t.target!==e)return;const r=Da();e.removeEventListener("animationend",A0),e.removeEventListener("transitionend",A0),r.style.overflowY="auto"},bO=(t,e)=>{NS(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",A0),e.addEventListener("transitionend",A0)):t.style.overflowY="auto"},vO=(t,e,r)=>{n9(),e&&r!=="hidden"&&d9(r),setTimeout(()=>{t.scrollTop=0})},wO=(t,e,r)=>{jr(t,r.showClass.backdrop),r.animation?(e.style.setProperty("opacity","0","important"),Zn(e,"grid"),setTimeout(()=>{jr(e,r.showClass.popup),e.style.removeProperty("opacity")},l3)):Zn(e,"grid"),jr([document.documentElement,document.body],Ve.shown),r.heightAuto&&r.backdrop&&!r.toast&&jr([document.documentElement,document.body],Ve["height-auto"])};var p5={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function kO(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=p5.email),t.input==="url"&&(t.inputValidator=p5.url))}function jO(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Aa('Target parameter is not valid, defaulting to "body"'),t.target="body")}function NO(t){kO(t),t.showLoaderOnConfirm&&!t.preConfirm&&Aa(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),jO(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),pT(t)}let Ro;var sp=new WeakMap;class Nn{constructor(...e){if(HR(this,sp,void 0),typeof window>"u")return;Ro=this;const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,WR(sp,this,this._main(Ro.params))}_main(e,r={}){if(t3(Object.assign({},r,e)),Dt.currentInstance){const o=Bd.swalPromiseResolve.get(Dt.currentInstance),{isAwaitingPromise:i}=Dt.currentInstance;Dt.currentInstance._destroy(),i||o({isDismissed:!0}),ew()&&OS()}Dt.currentInstance=Ro;const n=CO(e,r);NO(n),Object.freeze(n),Dt.timeout&&(Dt.timeout.stop(),delete Dt.timeout),clearTimeout(Dt.restoreFocusTimeout);const a=_O(Ro);return DS(Ro,n),Wr.innerParams.set(Ro,n),SO(Ro,a,n)}then(e){return a5(sp,this).then(e)}finally(e){return a5(sp,this).finally(e)}}const SO=(t,e,r)=>new Promise((n,a)=>{const o=i=>{t.close({isDismissed:!0,dismiss:i})};Bd.swalPromiseResolve.set(t,n),Bd.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{_9(t)},e.denyButton.onclick=()=>{E9(t)},e.cancelButton.onclick=()=>{A9(t,o)},e.closeButton.onclick=()=>{o(iu.close)},q9(r,e,o),KT(Dt,r,o),x9(t,r),xO(r),EO(Dt,r,o),AO(e,r),setTimeout(()=>{e.container.scrollTop=0})}),CO=(t,e)=>{const r=cO(t),n=Object.assign({},jd,e,r,t);return n.showClass=Object.assign({},jd.showClass,n.showClass),n.hideClass=Object.assign({},jd.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},_O=t=>{const e={popup:yr(),container:Da(),actions:oh(),confirmButton:Vo(),denyButton:jc(),cancelButton:su(),loader:ou(),closeButton:Qv(),validationMessage:Nm(),progressSteps:Xv()};return Wr.domCache.set(t,e),e},EO=(t,e,r)=>{const n=Sm();wa(n),e.timer&&(t.timeout=new lO(()=>{r("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Zn(n),gs(n,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&rw(e.timer)})))},AO=(t,e)=>{if(!e.toast){if(!jm(e.allowEnterKey)){xS("allowEnterKey"),DO();return}PO(t)||LO(t,e)||Jx(-1,1)}},PO=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of e)if(r instanceof HTMLElement&&Ga(r))return r.focus(),!0;return!1},LO=(t,e)=>e.focusDeny&&Ga(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ga(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Ga(t.confirmButton)?(t.confirmButton.focus(),!0):!1,DO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const r=document.createElement("audio");r.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",r.loop=!0,document.body.appendChild(r),setTimeout(()=>{r.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}Nn.prototype.disableButtons=GS;Nn.prototype.enableButtons=WS;Nn.prototype.getInput=zS;Nn.prototype.disableInput=KS;Nn.prototype.enableInput=JS;Nn.prototype.hideLoading=_0;Nn.prototype.disableLoading=_0;Nn.prototype.showValidationMessage=YS;Nn.prototype.resetValidationMessage=XS;Nn.prototype.close=fl;Nn.prototype.closePopup=fl;Nn.prototype.closeModal=fl;Nn.prototype.closeToast=fl;Nn.prototype.rejectPromise=BS;Nn.prototype.update=r3;Nn.prototype._destroy=n3;Object.assign(Nn,iO);Object.keys($9).forEach(t=>{Nn[t]=function(...e){return Ro&&Ro[t]?Ro[t](...e):null}});Nn.DismissReason=iu;Nn.version="11.22.0";const jl=Nn;jl.default=jl;typeof document<"u"&&function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');async function IO(){try{const{data:t,error:e}=await De.from("financial_categories").select("*").order("order",{ascending:!0});if(e)throw e;return c3(t)}catch(t){return console.error("Erro ao listar categorias financeiras (recursivo):",t),[]}}function c3(t,e=null){return t.filter(r=>r.parent_id===e).sort((r,n)=>r.order-n.order).map(r=>({...r,subcategories:c3(t,r.id)}))}async function RO(t){try{const{data:e}=await De.from("financial_categories").select("order").eq("type",t.type).is("parent_id",null).order("order",{ascending:!1}).limit(1).single(),r=e?e.order+1:0,{data:n,error:a}=await De.from("financial_categories").insert([{name:t.name,type:t.type,dre_group:t.dreGroup,parent_id:t.parentId,order:r,active:t.active,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw a;return n}catch(e){return console.error("Erro ao criar categoria financeira:",e),null}}async function TO(t,e){try{const{data:r,error:n}=await De.from("financial_categories").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao atualizar categoria financeira:",r),null}}async function OO(t){try{const{error:e}=await De.from("financial_categories").delete().eq("id",t);if(e)throw e;return!0}catch(e){return console.error("Erro ao excluir categoria financeira:",e),!1}}async function MO(t,e){try{const{data:r,error:n}=await De.from("financial_categories").update({active:e,updatedAt:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Erro ao alterar status da categoria financeira:",r),null}}async function FO(t){try{const{data:e,error:r}=await De.from("financial_categories").select("*").in("id",t);if(r)throw r;const n=t.map((o,i)=>{const c=e==null?void 0:e.find(l=>l.id===o);if(!c)throw new Error(`Category ${o} not found`);return{id:o,name:c.name,type:c.type,dre_group:c.dre_group,parent_id:c.parent_id,active:c.active,order:i,updatedAt:new Date().toISOString()}}),{error:a}=await De.from("financial_categories").upsert(n);if(a)throw a;return!0}catch(e){return console.error("Erro ao reordenar categorias:",e),!1}}function BO({isOpen:t,onClose:e,category:r,parentCategory:n,onSuccess:a}){const[o,i]=D.useState({name:"",type:"REVENUE",dre_group:"",parent_id:null,active:!0}),[c,l]=D.useState(!1),[d,u]=D.useState("");D.useEffect(()=>{i(r?{name:r.name,type:r.type,dre_group:r.dre_group||"",parent_id:r.parent_id||null,active:r.active}:n?{name:"",type:n.type,dre_group:n.dre_group||"",parent_id:n.id,active:!0}:{name:"",type:"REVENUE",dre_group:"",parent_id:null,active:!0})},[r,n]);const h=async m=>{m.preventDefault(),l(!0),u("");try{if(r){if(!await TO(r.id,o))throw new Error("Erro ao atualizar categoria");jl.fire({icon:"success",title:"Categoria atualizada com sucesso!",timer:2e3,showConfirmButton:!1})}else{if(!await RO(o))throw new Error("Erro ao criar categoria");jl.fire({icon:"success",title:"Categoria criada com sucesso!",timer:2e3,showConfirmButton:!1})}a(),e()}catch(w){console.error("Erro ao salvar categoria:",w),u("Erro ao salvar categoria. Por favor, tente novamente."),jl.fire({icon:"error",title:"Erro",text:"No foi possvel salvar a categoria. Tente novamente."})}finally{l(!1)}},y=()=>R8[o.type]||[];return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Categoria":n?"Nova Subcategoria":"Nova Categoria"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:h,className:"p-4 sm:p-6",children:[d&&s.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 sm:p-4 rounded-lg text-sm",children:d}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome da Categoria"}),s.jsx("input",{type:"text",value:o.name,onChange:m=>i(w=>({...w,name:m.target.value})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0})]}),!n&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo da Categoria"}),s.jsxs("select",{value:o.type,onChange:m=>i(w=>({...w,type:m.target.value,dre_group:""})),disabled:c,className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"REVENUE",children:"Receita"}),s.jsx("option",{value:"EXPENSE",children:"Despesa"}),s.jsx("option",{value:"BOTH",children:"Ambos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Grupo no DRE"}),s.jsxs("select",{value:o.dre_group,onChange:m=>i(w=>({...w,dre_group:m.target.value})),disabled:c||o.type==="BOTH",className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-secondary-100 dark:disabled:bg-secondary-800 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um grupo"}),y().map(m=>s.jsx("option",{value:m.value,children:m.label},m.value))]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:o.active,onChange:m=>i(w=>({...w,active:m.target.checked})),disabled:c,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Categoria ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors text-sm",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:c,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:c?"Salvando...":r?"Salvar Alteraes":"Criar Categoria"})]})]})]})}):null}function $O(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState(null),[l,d]=D.useState(null),[u,h]=D.useState([]),[y,m]=D.useState(!0),[w,v]=D.useState(null);D.useEffect(()=>{A()},[]);const A=async()=>{try{const k=await IO();h(k)}catch(k){v("Erro ao carregar categorias"),console.error(k)}finally{m(!1)}},b=()=>{c(null),d(null),e(!0)},S=k=>{c(k),d(null),e(!0)},R=k=>{c(null),d(k),e(!0)},W=k=>{c(k),n(!0)},z=async()=>{if(i)try{await OO(i.id),h(u.filter(k=>k.id!==i.id)),n(!1)}catch(k){v("Erro ao excluir categoria"),console.error(k)}},B=async k=>{try{await MO(k.id,!k.active)&&h(x=>x.map(j=>{var P;return j.id===k.id?{...j,active:!j.active}:(P=j.subcategories)!=null&&P.some(E=>E.id===k.id)?{...j,subcategories:j.subcategories.map(E=>E.id===k.id?{...E,active:!E.active}:E)}:j}))}catch(_){v("Erro ao alterar status da categoria"),console.error(_)}},g=async(k,_,x)=>{const j=u.filter(U=>U.type===x&&!U.parentId),P=Array.from(j),[E]=P.splice(k,1);P.splice(_,0,E),h(U=>[...U.filter(G=>G.type!==x||G.parentId),...P]);try{await FO(P.map(U=>U.id))}catch(U){v("Erro ao reordenar categorias"),console.error(U),A()}},I=u.filter(k=>{var x;const _=a.toLowerCase();return k.name.toLowerCase().includes(_)||k.type.toLowerCase().includes(_)||((x=k.subcategories)==null?void 0:x.some(j=>j.name.toLowerCase().includes(_)||j.type.toLowerCase().includes(_)))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>v(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Categorias Financeiras"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as categorias de receitas e despesas do sistema"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Criar Nova Categoria"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou tipo...",value:a,onChange:k=>o(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),y?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(zR,{categories:I,onEdit:S,onDelete:W,onToggleStatus:B,onCreateSubcategory:R,onReorder:g})]}),s.jsx(BO,{isOpen:t,onClose:()=>e(!1),category:i,parentCategory:l,onSuccess:()=>{e(!1),A()}}),s.jsx(Ei,{isOpen:r,onClose:()=>n(!1),title:"Excluir Categoria",description:`Tem certeza que deseja excluir a categoria "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:z})]})}function d3(t,e){return function(){return t.apply(e,arguments)}}const{toString:qO}=Object.prototype,{getPrototypeOf:lw}=Object,{iterator:Em,toStringTag:u3}=Symbol,Am=(t=>e=>{const r=qO.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),po=t=>(t=t.toLowerCase(),e=>Am(e)===t),Pm=t=>e=>typeof e===t,{isArray:lu}=Array,$f=Pm("undefined");function UO(t){return t!==null&&!$f(t)&&t.constructor!==null&&!$f(t.constructor)&&Ja(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const f3=po("ArrayBuffer");function zO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&f3(t.buffer),e}const VO=Pm("string"),Ja=Pm("function"),h3=Pm("number"),Lm=t=>t!==null&&typeof t=="object",HO=t=>t===!0||t===!1,Dp=t=>{if(Am(t)!=="object")return!1;const e=lw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(u3 in t)&&!(Em in t)},WO=po("Date"),GO=po("File"),JO=po("Blob"),KO=po("FileList"),YO=t=>Lm(t)&&Ja(t.pipe),XO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ja(t.append)&&((e=Am(t))==="formdata"||e==="object"&&Ja(t.toString)&&t.toString()==="[object FormData]"))},QO=po("URLSearchParams"),[ZO,eM,tM,rM]=["ReadableStream","Request","Response","Headers"].map(po),nM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),lu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let c;for(n=0;n<i;n++)c=o[n],e.call(null,t[c],c,t)}}function p3(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const nc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m3=t=>!$f(t)&&t!==nc;function Yx(){const{caseless:t}=m3(this)&&this||{},e={},r=(n,a)=>{const o=t&&p3(e,a)||a;Dp(e[o])&&Dp(n)?e[o]=Yx(e[o],n):Dp(n)?e[o]=Yx({},n):lu(n)?e[o]=n.slice():e[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&dh(arguments[n],r);return e}const aM=(t,e,r,{allOwnKeys:n}={})=>(dh(e,(a,o)=>{r&&Ja(a)?t[o]=d3(a,r):t[o]=a},{allOwnKeys:n}),t),sM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),oM=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},iM=(t,e,r,n)=>{let a,o,i;const c={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)i=a[o],(!n||n(i,t,e))&&!c[i]&&(e[i]=t[i],c[i]=!0);t=r!==!1&&lw(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},lM=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},cM=t=>{if(!t)return null;if(lu(t))return t;let e=t.length;if(!h3(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},dM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lw(Uint8Array)),uM=(t,e)=>{const n=(t&&t[Em]).call(t);let a;for(;(a=n.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},fM=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},hM=po("HTMLFormElement"),pM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),m5=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),mM=po("RegExp"),g3=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};dh(r,(a,o)=>{let i;(i=e(a,o,t))!==!1&&(n[o]=i||a)}),Object.defineProperties(t,n)},gM=t=>{g3(t,(e,r)=>{if(Ja(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ja(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yM=(t,e)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return lu(t)?n(t):n(String(t).split(e)),r},xM=()=>{},bM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function vM(t){return!!(t&&Ja(t.append)&&t[u3]==="FormData"&&t[Em])}const wM=t=>{const e=new Array(10),r=(n,a)=>{if(Lm(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const o=lu(n)?[]:{};return dh(n,(i,c)=>{const l=r(i,a+1);!$f(l)&&(o[c]=l)}),e[a]=void 0,o}}return n};return r(t,0)},kM=po("AsyncFunction"),jM=t=>t&&(Lm(t)||Ja(t))&&Ja(t.then)&&Ja(t.catch),y3=((t,e)=>t?setImmediate:e?((r,n)=>(nc.addEventListener("message",({source:a,data:o})=>{a===nc&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),nc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ja(nc.postMessage)),NM=typeof queueMicrotask<"u"?queueMicrotask.bind(nc):typeof process<"u"&&process.nextTick||y3,SM=t=>t!=null&&Ja(t[Em]),Ue={isArray:lu,isArrayBuffer:f3,isBuffer:UO,isFormData:XO,isArrayBufferView:zO,isString:VO,isNumber:h3,isBoolean:HO,isObject:Lm,isPlainObject:Dp,isReadableStream:ZO,isRequest:eM,isResponse:tM,isHeaders:rM,isUndefined:$f,isDate:WO,isFile:GO,isBlob:JO,isRegExp:mM,isFunction:Ja,isStream:YO,isURLSearchParams:QO,isTypedArray:dM,isFileList:KO,forEach:dh,merge:Yx,extend:aM,trim:nM,stripBOM:sM,inherits:oM,toFlatObject:iM,kindOf:Am,kindOfTest:po,endsWith:lM,toArray:cM,forEachEntry:uM,matchAll:fM,isHTMLForm:hM,hasOwnProperty:m5,hasOwnProp:m5,reduceDescriptors:g3,freezeMethods:gM,toObjectSet:yM,toCamelCase:pM,noop:xM,toFiniteNumber:bM,findKey:p3,global:nc,isContextDefined:m3,isSpecCompliantForm:vM,toJSONObject:wM,isAsyncFn:kM,isThenable:jM,setImmediate:y3,asap:NM,isIterable:SM};function Qt(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Ue.inherits(Qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const x3=Qt.prototype,b3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{b3[t]={value:t}});Object.defineProperties(Qt,b3);Object.defineProperty(x3,"isAxiosError",{value:!0});Qt.from=(t,e,r,n,a,o)=>{const i=Object.create(x3);return Ue.toFlatObject(t,i,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),Qt.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const CM=null;function Xx(t){return Ue.isPlainObject(t)||Ue.isArray(t)}function v3(t){return Ue.endsWith(t,"[]")?t.slice(0,-2):t}function g5(t,e,r){return t?t.concat(e).map(function(a,o){return a=v3(a),!r&&o?"["+a+"]":a}).join(r?".":""):e}function _M(t){return Ue.isArray(t)&&!t.some(Xx)}const EM=Ue.toFlatObject(Ue,{},null,function(e){return/^is[A-Z]/.test(e)});function Dm(t,e,r){if(!Ue.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ue.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,A){return!Ue.isUndefined(A[v])});const n=r.metaTokens,a=r.visitor||u,o=r.dots,i=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(e);if(!Ue.isFunction(a))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(Ue.isDate(w))return w.toISOString();if(!l&&Ue.isBlob(w))throw new Qt("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(w)||Ue.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,v,A){let b=w;if(w&&!A&&typeof w=="object"){if(Ue.endsWith(v,"{}"))v=n?v:v.slice(0,-2),w=JSON.stringify(w);else if(Ue.isArray(w)&&_M(w)||(Ue.isFileList(w)||Ue.endsWith(v,"[]"))&&(b=Ue.toArray(w)))return v=v3(v),b.forEach(function(R,W){!(Ue.isUndefined(R)||R===null)&&e.append(i===!0?g5([v],W,o):i===null?v:v+"[]",d(R))}),!1}return Xx(w)?!0:(e.append(g5(A,v,o),d(w)),!1)}const h=[],y=Object.assign(EM,{defaultVisitor:u,convertValue:d,isVisitable:Xx});function m(w,v){if(!Ue.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(w),Ue.forEach(w,function(b,S){(!(Ue.isUndefined(b)||b===null)&&a.call(e,b,Ue.isString(S)?S.trim():S,v,y))===!0&&m(b,v?v.concat(S):[S])}),h.pop()}}if(!Ue.isObject(t))throw new TypeError("data must be an object");return m(t),e}function y5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function cw(t,e){this._pairs=[],t&&Dm(t,this,e)}const w3=cw.prototype;w3.append=function(e,r){this._pairs.push([e,r])};w3.toString=function(e){const r=e?function(n){return e.call(this,n,y5)}:y5;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function AM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function k3(t,e,r){if(!e)return t;const n=r&&r.encode||AM;Ue.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(e,r):o=Ue.isURLSearchParams(e)?e.toString():new cw(e,r).toString(n),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class x5{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ue.forEach(this.handlers,function(n){n!==null&&e(n)})}}const j3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PM=typeof URLSearchParams<"u"?URLSearchParams:cw,LM=typeof FormData<"u"?FormData:null,DM=typeof Blob<"u"?Blob:null,IM={isBrowser:!0,classes:{URLSearchParams:PM,FormData:LM,Blob:DM},protocols:["http","https","file","blob","url","data"]},dw=typeof window<"u"&&typeof document<"u",Qx=typeof navigator=="object"&&navigator||void 0,RM=dw&&(!Qx||["ReactNative","NativeScript","NS"].indexOf(Qx.product)<0),TM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",OM=dw&&window.location.href||"http://localhost",MM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dw,hasStandardBrowserEnv:RM,hasStandardBrowserWebWorkerEnv:TM,navigator:Qx,origin:OM},Symbol.toStringTag,{value:"Module"})),xa={...MM,...IM};function FM(t,e){return Dm(t,new xa.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,o){return xa.isNode&&Ue.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function BM(t){return Ue.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $M(t){const e={},r=Object.keys(t);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],e[o]=t[o];return e}function N3(t){function e(r,n,a,o){let i=r[o++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),l=o>=r.length;return i=!i&&Ue.isArray(a)?a.length:i,l?(Ue.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!c):((!a[i]||!Ue.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],o)&&Ue.isArray(a[i])&&(a[i]=$M(a[i])),!c)}if(Ue.isFormData(t)&&Ue.isFunction(t.entries)){const r={};return Ue.forEachEntry(t,(n,a)=>{e(BM(n),a,r,0)}),r}return null}function qM(t,e,r){if(Ue.isString(t))try{return(e||JSON.parse)(t),Ue.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const uh={transitional:j3,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=Ue.isObject(e);if(o&&Ue.isHTMLForm(e)&&(e=new FormData(e)),Ue.isFormData(e))return a?JSON.stringify(N3(e)):e;if(Ue.isArrayBuffer(e)||Ue.isBuffer(e)||Ue.isStream(e)||Ue.isFile(e)||Ue.isBlob(e)||Ue.isReadableStream(e))return e;if(Ue.isArrayBufferView(e))return e.buffer;if(Ue.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return FM(e,this.formSerializer).toString();if((c=Ue.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Dm(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),qM(e)):e}],transformResponse:[function(e){const r=this.transitional||uh.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Ue.isResponse(e)||Ue.isReadableStream(e))return e;if(e&&Ue.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(c){if(i)throw c.name==="SyntaxError"?Qt.from(c,Qt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xa.classes.FormData,Blob:xa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],t=>{uh.headers[t]={}});const UM=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zM=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&UM[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},b5=Symbol("internals");function $u(t){return t&&String(t).trim().toLowerCase()}function Ip(t){return t===!1||t==null?t:Ue.isArray(t)?t.map(Ip):String(t)}function VM(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const HM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cy(t,e,r,n,a){if(Ue.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Ue.isString(e)){if(Ue.isString(n))return e.indexOf(n)!==-1;if(Ue.isRegExp(n))return n.test(e)}}function WM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function GM(t,e){const r=Ue.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,o,i){return this[n].call(this,e,a,o,i)},configurable:!0})})}let Ka=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function o(c,l,d){const u=$u(l);if(!u)throw new Error("header name must be a non-empty string");const h=Ue.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||l]=Ip(c))}const i=(c,l)=>Ue.forEach(c,(d,u)=>o(d,u,l));if(Ue.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(Ue.isString(e)&&(e=e.trim())&&!HM(e))i(zM(e),r);else if(Ue.isObject(e)&&Ue.isIterable(e)){let c={},l,d;for(const u of e){if(!Ue.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[d=u[0]]=(l=c[d])?Ue.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(c,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=$u(e),e){const n=Ue.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return VM(a);if(Ue.isFunction(r))return r.call(this,a,n);if(Ue.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=$u(e),e){const n=Ue.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||cy(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function o(i){if(i=$u(i),i){const c=Ue.findKey(n,i);c&&(!r||cy(n,n[c],c,r))&&(delete n[c],a=!0)}}return Ue.isArray(e)?e.forEach(o):o(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!e||cy(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const r=this,n={};return Ue.forEach(this,(a,o)=>{const i=Ue.findKey(n,o);if(i){r[i]=Ip(a),delete r[o];return}const c=e?WM(o):String(o).trim();c!==o&&delete r[o],r[c]=Ip(a),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ue.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Ue.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[b5]=this[b5]={accessors:{}}).accessors,a=this.prototype;function o(i){const c=$u(i);n[c]||(GM(a,i),n[c]=!0)}return Ue.isArray(e)?e.forEach(o):o(e),this}};Ka.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(Ka.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ue.freezeMethods(Ka);function dy(t,e){const r=this||uh,n=e||r,a=Ka.from(n.headers);let o=n.data;return Ue.forEach(t,function(c){o=c.call(r,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function S3(t){return!!(t&&t.__CANCEL__)}function cu(t,e,r){Qt.call(this,t??"canceled",Qt.ERR_CANCELED,e,r),this.name="CanceledError"}Ue.inherits(cu,Qt,{__CANCEL__:!0});function C3(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Qt("Request failed with status code "+r.status,[Qt.ERR_BAD_REQUEST,Qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function JM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function KM(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),u=n[o];i||(i=d),r[a]=l,n[a]=d;let h=o,y=0;for(;h!==a;)y+=r[h++],h=h%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),d-i<e)return;const m=u&&d-u;return m?Math.round(y*1e3/m):void 0}}function YM(t,e){let r=0,n=1e3/e,a,o;const i=(d,u=Date.now())=>{r=u,a=null,o&&(clearTimeout(o),o=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=n?i(d,u):(a=d,o||(o=setTimeout(()=>{o=null,i(a)},n-h)))},()=>a&&i(a)]}const P0=(t,e,r=3)=>{let n=0;const a=KM(50,250);return YM(o=>{const i=o.loaded,c=o.lengthComputable?o.total:void 0,l=i-n,d=a(l),u=i<=c;n=i;const h={loaded:i,total:c,progress:c?i/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&u?(c-i)/d:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(h)},r)},v5=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},w5=t=>(...e)=>Ue.asap(()=>t(...e)),XM=xa.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,xa.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(xa.origin),xa.navigator&&/(msie|trident)/i.test(xa.navigator.userAgent)):()=>!0,QM=xa.hasStandardBrowserEnv?{write(t,e,r,n,a,o){const i=[t+"="+encodeURIComponent(e)];Ue.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Ue.isString(n)&&i.push("path="+n),Ue.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ZM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _3(t,e,r){let n=!ZM(e);return t&&(n||r==!1)?eF(t,e):e}const k5=t=>t instanceof Ka?{...t}:t;function mc(t,e){e=e||{};const r={};function n(d,u,h,y){return Ue.isPlainObject(d)&&Ue.isPlainObject(u)?Ue.merge.call({caseless:y},d,u):Ue.isPlainObject(u)?Ue.merge({},u):Ue.isArray(u)?u.slice():u}function a(d,u,h,y){if(Ue.isUndefined(u)){if(!Ue.isUndefined(d))return n(void 0,d,h,y)}else return n(d,u,h,y)}function o(d,u){if(!Ue.isUndefined(u))return n(void 0,u)}function i(d,u){if(Ue.isUndefined(u)){if(!Ue.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function c(d,u,h){if(h in e)return n(d,u);if(h in t)return n(void 0,d)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(d,u,h)=>a(k5(d),k5(u),h,!0)};return Ue.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||a,y=h(t[u],e[u],u);Ue.isUndefined(y)&&h!==c||(r[u]=y)}),r}const E3=t=>{const e=mc({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:c}=e;e.headers=i=Ka.from(i),e.url=k3(_3(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(Ue.isFormData(r)){if(xa.hasStandardBrowserEnv||xa.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[d,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(xa.hasStandardBrowserEnv&&(n&&Ue.isFunction(n)&&(n=n(e)),n||n!==!1&&XM(e.url))){const d=a&&o&&QM.read(o);d&&i.set(a,d)}return e},tF=typeof XMLHttpRequest<"u",rF=tF&&function(t){return new Promise(function(r,n){const a=E3(t);let o=a.data;const i=Ka.from(a.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:d}=a,u,h,y,m,w;function v(){m&&m(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let A=new XMLHttpRequest;A.open(a.method.toUpperCase(),a.url,!0),A.timeout=a.timeout;function b(){if(!A)return;const R=Ka.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),z={data:!c||c==="text"||c==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:R,config:t,request:A};C3(function(g){r(g),v()},function(g){n(g),v()},z),A=null}"onloadend"in A?A.onloadend=b:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(b)},A.onabort=function(){A&&(n(new Qt("Request aborted",Qt.ECONNABORTED,t,A)),A=null)},A.onerror=function(){n(new Qt("Network Error",Qt.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let W=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const z=a.transitional||j3;a.timeoutErrorMessage&&(W=a.timeoutErrorMessage),n(new Qt(W,z.clarifyTimeoutError?Qt.ETIMEDOUT:Qt.ECONNABORTED,t,A)),A=null},o===void 0&&i.setContentType(null),"setRequestHeader"in A&&Ue.forEach(i.toJSON(),function(W,z){A.setRequestHeader(z,W)}),Ue.isUndefined(a.withCredentials)||(A.withCredentials=!!a.withCredentials),c&&c!=="json"&&(A.responseType=a.responseType),d&&([y,w]=P0(d,!0),A.addEventListener("progress",y)),l&&A.upload&&([h,m]=P0(l),A.upload.addEventListener("progress",h),A.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=R=>{A&&(n(!R||R.type?new cu(null,t,A):R),A.abort(),A=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const S=JM(a.url);if(S&&xa.protocols.indexOf(S)===-1){n(new Qt("Unsupported protocol "+S+":",Qt.ERR_BAD_REQUEST,t));return}A.send(o||null)})},nF=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const o=function(d){if(!a){a=!0,c();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Qt?u:new cu(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new Qt(`timeout ${e} of ms exceeded`,Qt.ETIMEDOUT))},e);const c=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:l}=n;return l.unsubscribe=()=>Ue.asap(c),l}},aF=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},sF=async function*(t,e){for await(const r of oF(t))yield*aF(r,e)},oF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},j5=(t,e,r,n)=>{const a=sF(t,e);let o=0,i,c=l=>{i||(i=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:d,value:u}=await a.next();if(d){c(),l.close();return}let h=u.byteLength;if(r){let y=o+=h;r(y)}l.enqueue(new Uint8Array(u))}catch(d){throw c(d),d}},cancel(l){return c(l),a.return()}},{highWaterMark:2})},Im=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",A3=Im&&typeof ReadableStream=="function",iF=Im&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),P3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},lF=A3&&P3(()=>{let t=!1;const e=new Request(xa.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),N5=64*1024,Zx=A3&&P3(()=>Ue.isReadableStream(new Response("").body)),L0={stream:Zx&&(t=>t.body)};Im&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!L0[e]&&(L0[e]=Ue.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Qt(`Response type '${e}' is not supported`,Qt.ERR_NOT_SUPPORT,n)})})})(new Response);const cF=async t=>{if(t==null)return 0;if(Ue.isBlob(t))return t.size;if(Ue.isSpecCompliantForm(t))return(await new Request(xa.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(t)||Ue.isArrayBuffer(t))return t.byteLength;if(Ue.isURLSearchParams(t)&&(t=t+""),Ue.isString(t))return(await iF(t)).byteLength},dF=async(t,e)=>{const r=Ue.toFiniteNumber(t.getContentLength());return r??cF(e)},uF=Im&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:o,timeout:i,onDownloadProgress:c,onUploadProgress:l,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:y}=E3(t);d=d?(d+"").toLowerCase():"text";let m=nF([a,o&&o.toAbortSignal()],i),w;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(l&&lF&&r!=="get"&&r!=="head"&&(A=await dF(u,n))!==0){let z=new Request(e,{method:"POST",body:n,duplex:"half"}),B;if(Ue.isFormData(n)&&(B=z.headers.get("content-type"))&&u.setContentType(B),z.body){const[g,I]=v5(A,P0(w5(l)));n=j5(z.body,N5,g,I)}}Ue.isString(h)||(h=h?"include":"omit");const b="credentials"in Request.prototype;w=new Request(e,{...y,signal:m,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:b?h:void 0});let S=await fetch(w);const R=Zx&&(d==="stream"||d==="response");if(Zx&&(c||R&&v)){const z={};["status","statusText","headers"].forEach(k=>{z[k]=S[k]});const B=Ue.toFiniteNumber(S.headers.get("content-length")),[g,I]=c&&v5(B,P0(w5(c),!0))||[];S=new Response(j5(S.body,N5,g,()=>{I&&I(),v&&v()}),z)}d=d||"text";let W=await L0[Ue.findKey(L0,d)||"text"](S,t);return!R&&v&&v(),await new Promise((z,B)=>{C3(z,B,{data:W,headers:Ka.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:w})})}catch(b){throw v&&v(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Qt("Network Error",Qt.ERR_NETWORK,t,w),{cause:b.cause||b}):Qt.from(b,b&&b.code,t,w)}}),eb={http:CM,xhr:rF,fetch:uF};Ue.forEach(eb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const S5=t=>`- ${t}`,fF=t=>Ue.isFunction(t)||t===null||t===!1,L3={getAdapter:t=>{t=Ue.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let o=0;o<e;o++){r=t[o];let i;if(n=r,!fF(r)&&(n=eb[(i=String(r)).toLowerCase()],n===void 0))throw new Qt(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+o]=n}if(!n){const o=Object.entries(a).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(S5).join(`
`):" "+S5(o[0]):"as no adapter specified";throw new Qt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:eb};function uy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cu(null,t)}function C5(t){return uy(t),t.headers=Ka.from(t.headers),t.data=dy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),L3.getAdapter(t.adapter||uh.adapter)(t).then(function(n){return uy(t),n.data=dy.call(t,t.transformResponse,n),n.headers=Ka.from(n.headers),n},function(n){return S3(n)||(uy(t),n&&n.response&&(n.response.data=dy.call(t,t.transformResponse,n.response),n.response.headers=Ka.from(n.response.headers))),Promise.reject(n)})}const D3="1.9.0",Rm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Rm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const _5={};Rm.transitional=function(e,r,n){function a(o,i){return"[Axios v"+D3+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,c)=>{if(e===!1)throw new Qt(a(i," has been removed"+(r?" in "+r:"")),Qt.ERR_DEPRECATED);return r&&!_5[i]&&(_5[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,i,c):!0}};Rm.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function hF(t,e,r){if(typeof t!="object")throw new Qt("options must be an object",Qt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const o=n[a],i=e[o];if(i){const c=t[o],l=c===void 0||i(c,o,t);if(l!==!0)throw new Qt("option "+o+" must be "+l,Qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qt("Unknown option "+o,Qt.ERR_BAD_OPTION)}}const Rp={assertOptions:hF,validators:Rm},Po=Rp.validators;let ic=class{constructor(e){this.defaults=e||{},this.interceptors={request:new x5,response:new x5}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=mc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&Rp.assertOptions(n,{silentJSONParsing:Po.transitional(Po.boolean),forcedJSONParsing:Po.transitional(Po.boolean),clarifyTimeoutError:Po.transitional(Po.boolean)},!1),a!=null&&(Ue.isFunction(a)?r.paramsSerializer={serialize:a}:Rp.assertOptions(a,{encode:Po.function,serialize:Po.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Rp.assertOptions(r,{baseUrl:Po.spelling("baseURL"),withXsrfToken:Po.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&Ue.merge(o.common,o[r.method]);o&&Ue.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),r.headers=Ka.concat(i,o);const c=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(l=l&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,h=0,y;if(!l){const w=[C5.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,d),y=w.length,u=Promise.resolve(r);h<y;)u=u.then(w[h++],w[h++]);return u}y=c.length;let m=r;for(h=0;h<y;){const w=c[h++],v=c[h++];try{m=w(m)}catch(A){v.call(this,A);break}}try{u=C5.call(this,m)}catch(w){return Promise.reject(w)}for(h=0,y=d.length;h<y;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=mc(this.defaults,e);const r=_3(e.baseURL,e.url,e.allowAbsoluteUrls);return k3(r,e.params,e.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(e){ic.prototype[e]=function(r,n){return this.request(mc(n||{},{method:e,url:r,data:(n||{}).data}))}});Ue.forEach(["post","put","patch"],function(e){function r(n){return function(o,i,c){return this.request(mc(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}ic.prototype[e]=r(),ic.prototype[e+"Form"]=r(!0)});let pF=class I3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(c=>{n.subscribe(c),o=c}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},e(function(o,i,c){n.reason||(n.reason=new cu(o,i,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new I3(function(a){e=a}),cancel:e}}};function mF(t){return function(r){return t.apply(null,r)}}function gF(t){return Ue.isObject(t)&&t.isAxiosError===!0}const tb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tb).forEach(([t,e])=>{tb[e]=t});function R3(t){const e=new ic(t),r=d3(ic.prototype.request,e);return Ue.extend(r,ic.prototype,e,{allOwnKeys:!0}),Ue.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return R3(mc(t,a))},r}const Vt=R3(uh);Vt.Axios=ic;Vt.CanceledError=cu;Vt.CancelToken=pF;Vt.isCancel=S3;Vt.VERSION=D3;Vt.toFormData=Dm;Vt.AxiosError=Qt;Vt.Cancel=Vt.CanceledError;Vt.all=function(e){return Promise.all(e)};Vt.spread=mF;Vt.isAxiosError=gF;Vt.mergeConfig=mc;Vt.AxiosHeaders=Ka;Vt.formToJSON=t=>N3(Ue.isHTMLForm(t)?new FormData(t):t);Vt.getAdapter=L3.getAdapter;Vt.HttpStatusCode=tb;Vt.default=Vt;const{Axios:OW,AxiosError:MW,CanceledError:FW,isCancel:BW,CancelToken:$W,VERSION:qW,all:UW,Cancel:zW,isAxiosError:VW,spread:HW,toFormData:WW,AxiosHeaders:GW,HttpStatusCode:JW,formToJSON:KW,getAdapter:YW,mergeConfig:XW}=Vt,Tm="http://localhost:3001";async function T3(){try{const{data:t,error:e}=await De.from("payments").select("*").order("due_date",{ascending:!0});if(e)throw e;const{data:r,error:n}=await De.from("payment_request_attachments").select("payment_request_id, file_url");return(await Promise.all(t.map(async o=>{const i=await Promise.all(r.filter(c=>c.payment_request_id===o.payment_request_id).map(c=>c.file_url));return{...o,attachment_urls:i}}))||[]).map(o=>({id:o.id,supplier:{name:o.supplier_name},description:o.description,value:o.value,dueDate:o.due_date,status:o.status,cnpjId:o.cnpj_id,cpfCnpj:o.cpfCnpj,categoryId:o.category_id,bankAccountId:o.bank_account_id,createdAt:o.created_at,updatedAt:o.updated_at,createdBy:{id:o.created_by_id,name:o.created_by_name||"Usurio"},competence:o.competence,paymentMethod:o.payment_method,pixKey:o.pix_key,pixPaymentMethod:o.pix_payment_method,barcode:o.barcode,bankCode:o.bankCode,branch:o.branch,account:o.account,digit:o.digit,type:o.type,frequency:o.frequency,installments:o.installments,installmentNumber:o.installment_number,endDate:o.end_date,paymentRequestId:o.payment_request_id,attachmentUrls:o.attachment_urls,num_req:o.num_req}))}catch(t){throw console.error("Error listing payments:",t),new Error("Erro ao carregar pagamentos")}}async function yF(t){try{const{data:e,error:r}=await l8(()=>De.from("payments").update({status:"PAID",updated_at:new Date().toISOString()}).eq("id",t).select().single());if(r)throw r;return e?{id:e.id,supplier:{name:e.supplier_name},description:e.description,value:e.value,dueDate:e.due_date,status:e.status,cnpjId:e.cnpj_id,categoryId:e.category_id,bankAccountId:e.bank_account_id,createdAt:e.created_at,updatedAt:e.updated_at,createdBy:{id:e.created_by_id,name:"Usurio"}}:null}catch(e){throw console.error("Error executing payment:",e),new Error("Erro ao executar pagamento")}}async function xF(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Vt.post(`${Tm}/payment/create`,{...t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating payment:",r),r}}async function bF(t){try{return(await Vt.post(`${Tm}/payment/update`,t,{headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Error updating payment:",e),e}}async function vF(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Vt.post(`${Tm}/payment/request/approve`,{paymentRequestId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error approving payment request:",r),r}}async function wF(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Vt.post(`${Tm}/payment/request/reject`,{paymentRequestId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error rejecting payment request:",r),r}}const kF=async()=>{const{data:t,error:e}=await De.from("bank_accounts").select("id, name").eq("active",!0).order("name");if(e)throw new Error("Erro ao carregar contas bancrias");return t};function jF({isOpen:t,onClose:e,request:r,loadRequests:n}){var le;const[a,o]=D.useState(!1),[i,c]=D.useState(null),[l,d]=D.useState([]),[u,h]=D.useState(null),[y,m]=D.useState("general"),w=D.useRef(null),v=D.useRef(null),[A,b]=D.useState({supplierName:"",description:"",value:0,dueDate:"",attachments:[],cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentMethod:"",pixKey:"",barcode:"",branch:"",account:"",digit:"",type:"single",frequency:"",installments:1,endDate:"",cpfCnpj:"",bankCode:""}),[S,R]=D.useState([]),[W,z]=D.useState([]),[B,g]=D.useState([]);D.useEffect(()=>{if(t&&(k(),r)){b(M=>({...M,supplierName:r.supplier_name||"",description:r.description||"",value:r.value||0,dueDate:r.due_date||"",attachments:[],cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentMethod:r.payment_method||"",pixKey:r.pix_key||"",barcode:r.barcode||"",branch:r.branch||"",account:r.account||"",digit:r.digit||"",type:r.type||"single",frequency:r.frequency||"",installments:r.installments||1,endDate:r.end_date||"",cpfCnpj:r.cpfCnpj||"",bankCode:r.bankCode||""}));const Z=G(r.pix_key||"");h(Z)}},[t,r]);const I=Z=>{let M=Z.target.value.replace(/\D/g,"");M===""&&(M="0");const J=parseInt(M)/100;b(te=>({...te,value:J.toString()}))},k=async()=>{try{const[Z,M,J]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0)]);if(Z.error)throw Z.error;if(M.error)throw M.error;if(J.error)throw J.error;R(Z.data||[]),z(M.data||[]),g(J.data||[])}catch(Z){console.error("Error loading data:",Z),c("Erro ao carregar dados")}},_=async()=>{var Z;if(r)try{o(!0),c(null);const M=await Promise.all(A.attachments.map(async de=>{const ie=de.name.split(".").pop(),we=`payment-requests/${`${Math.random().toString(36).substring(2)}.${ie}`}`,{data:me,error:Pe}=await De.from("payment_request_attachments").delete().eq("payment_request_id",r.id);if(Pe)throw Pe;const{error:qe}=await De.storage.from("attachments").upload(we,de);if(qe)throw qe;const{data:{publicUrl:Je}}=De.storage.from("attachments").getPublicUrl(we);return{file_name:de.name,file_type:de.type,file_size:de.size,file_url:Je}}));if(M.length>0){const{error:de}=await De.from("payment_request_attachments").insert(M.map(ie=>({...ie,payment_request_id:r.id})));if(de)throw de}if(!A.supplierName)throw new Error("Informe o fornecedor");if(!A.description)throw new Error("Informe a descrio");if(A.value<=0)throw new Error("Informe o valor");if(!A.dueDate)throw new Error("Informe a data de vencimento");if(A.attachments.length===0&&((Z=r.attachment_urls)==null?void 0:Z.length)===0)throw new Error("Anexe um documento");if(!A.cnpjId)throw new Error("Selecione o CNPJ");if(!A.categoryId)throw new Error("Selecione a categoria");if(!A.competence)throw new Error("Informe a competncia");if(!A.bankAccountId)throw new Error("Selecione a conta bancria");if(!A.paymentMethod)throw new Error("Selecione a forma de pagamento");if(A.paymentMethod==="pix"&&!A.pixKey)throw new Error("Informe a chave PIX");if(A.paymentMethod==="boleto"&&!A.barcode)throw new Error("Informe o cdigo de barras");if((A.paymentMethod==="boleto"||A.paymentMethod==="transferencia")&&!A.cpfCnpj)throw new Error("Informe o CPF/CNPJ do beneficirio");if(A.paymentMethod==="transferencia"&&!A.branch)throw new Error("Informe a agncia");if(A.paymentMethod==="transferencia"&&!A.account)throw new Error("Informe a conta");if(A.paymentMethod==="transferencia"&&!A.digit)throw new Error("Informe o dgito verificador");if(A.paymentMethod==="transferencia"&&!A.bankCode)throw new Error("Informe o cdigo do banco");if(A.type==="recurring"&&!A.frequency)throw new Error("Selecione a frequncia");if(A.type==="installments"&&!A.installments)throw new Error("Informe o nmero de parcelas");if(A.type!=="single"&&A.type!=="installments"&&!A.endDate)throw new Error("Informe a data final");const{data:J,error:te}=await De.from("payment_requests").update({cnpj_id:A.cnpjId,category_id:A.categoryId,bank_account_id:A.bankAccountId,supplier_name:A.supplierName,description:A.description,value:A.value,due_date:A.dueDate,competence:A.competence,payment_method:A.paymentMethod,pix_key:A.pixKey,barcode:A.barcode,branch:A.branch,account:A.account,digit:A.digit,type:A.type,frequency:A.frequency,installments:A.installments,end_date:A.endDate?new Date(A.endDate).toISOString().split("T")[0]:null,cpfCnpj:A.cpfCnpj,bankCode:A.bankCode}).eq("id",r.id);if(te)throw te;await vF(r.id),await n(),e()}catch(M){console.error("Error approving request:",M),c(M instanceof Error?M.message:"Erro ao aprovar solicitao")}finally{o(!1)}},x=async()=>{if(r)try{o(!0),c(null),await wF(r.id),await n(),e()}catch(Z){console.error("Error rejecting request:",Z),c("Erro ao rejeitar solicitao")}finally{o(!1)}};if(!t||!r)return null;const j=Z=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Z),P=Z=>{const M=Array.from(Z.target.files||[]);if(M.length===0)return;const J=M.filter(te=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(te.type)?te.size>5242880?(c("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(c("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(J.length>0){c(null);const te=J.map(de=>de.type.startsWith("image/")?URL.createObjectURL(de):"");b(de=>({...de,attachments:[...de.attachments,...J]})),d(de=>[...de,...te])}},E=Z=>{b(M=>({...M,attachments:M.attachments.filter((J,te)=>te!==Z)})),l[Z]&&URL.revokeObjectURL(l[Z]),d(M=>M.filter((J,te)=>te!==Z))};function U(Z){if(typeof Z!="string"||(Z=Z.replace(/[\s.-]*/gim,""),!Z||Z.length!==11||Z==="00000000000"||Z==="11111111111"||Z==="22222222222"||Z==="33333333333"||Z==="44444444444"||Z==="55555555555"||Z==="66666666666"||Z==="77777777777"||Z==="88888888888"||Z==="99999999999"))return!1;let M=0,J;for(let te=1;te<=9;te++)M+=parseInt(Z.substring(te-1,te))*(11-te);if(J=M*10%11,(J===10||J===11)&&(J=0),J!==parseInt(Z.substring(9,10)))return!1;M=0;for(let te=1;te<=10;te++)M+=parseInt(Z.substring(te-1,te))*(12-te);return J=M*10%11,(J===10||J===11)&&(J=0),J===parseInt(Z.substring(10,11))}function q(Z){if(typeof Z!="string"||(Z=Z.replace(/[\s.-]*/gim,""),!Z||Z.length!==14||Z==="00000000000000"||Z==="11111111111111"||Z==="22222222222222"||Z==="33333333333333"||Z==="44444444444444"||Z==="55555555555555"||Z==="66666666666666"||Z==="77777777777777"||Z==="88888888888888"||Z==="99999999999999"))return!1;let M=Z.length-2,J=Z.substring(0,M),te=Z.substring(M),de=0,ie=M-7;for(let we=M;we>=1;we--)de+=parseInt(J.charAt(M-we))*ie--,ie<2&&(ie=9);let xe=de%11<2?0:11-de%11;if(xe!==parseInt(te.charAt(0)))return!1;M=M+1,J=Z.substring(0,M),de=0,ie=M-7;for(let we=M;we>=1;we--)de+=parseInt(J.charAt(M-we))*ie--,ie<2&&(ie=9);return xe=de%11<2?0:11-de%11,xe===parseInt(te.charAt(1))}function G(Z){const M=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,J=Z.replace(/[^0-9]/g,"");return U(J)?"CPF":q(J)?"CNPJ":M.test(Z)?"Email":J.length===10||J.length===11?"Telefone":"Chave Aleatria"}const V=Z=>{const M=Z.target.value;b(te=>({...te,pixKey:M}));const J=G(M);h(J)},ee=Z=>{const M=Z.target.value,J=S.find(te=>te.id===M);b(te=>({...te,cnpjId:M,bankAccountId:(J==null?void 0:J.bank_account_id)||te.bankAccountId}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao #",r.request_number]}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>m("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${y==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes da Solicitao"}),s.jsx("button",{onClick:()=>m("mandatory"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${y==="mandatory"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados para o Pagamento"}),s.jsx("button",{onClick:()=>m("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${y==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[y==="general"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:A.supplierName,onChange:Z=>b(M=>({...M,supplierName:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:A.description,onChange:Z=>b(M=>({...M,description:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[A.description.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Pagamento"}),s.jsx("input",{type:"text",value:j(A.value),onChange:I,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Mxima de Vencimento"}),s.jsx("input",{type:"date",value:A.dueDate,onChange:Z=>b(M=>({...M,dueDate:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(le=r.attachment_urls)!=null&&le.length?s.jsx("a",{href:r.attachment_urls[0].file_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:A.attachments.map((Z,M)=>s.jsxs("div",{className:"relative",children:[l[M]?s.jsx("img",{src:l[M],alt:`Preview ${M+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:Z.name})}),s.jsx("button",{type:"button",onClick:()=>E(M),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Wt,{className:"h-4 w-4"})})]},M))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var Z;return(Z=w.current)==null?void 0:Z.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(wi,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:w,type:"file",onChange:P,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:v,type:"file",onChange:P,className:"hidden",accept:"image/*",capture:"environment"})]})]}),y==="mandatory"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:A.cnpjId,onChange:ee,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),S.map(Z=>s.jsxs("option",{value:Z.id,children:[Z.name," - ",Z.cnpj]},Z.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Despesa *"}),s.jsxs("select",{value:A.categoryId,onChange:Z=>b(M=>({...M,categoryId:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),W.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:A.competence,onChange:Z=>b(M=>({...M,competence:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:A.bankAccountId,onChange:Z=>b(M=>({...M,bankAccountId:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),B.map(Z=>s.jsxs("option",{value:Z.id,children:[Z.name," - ",Z.bank," ",Z.branch,"/",Z.account]},Z.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:A.paymentMethod,onChange:Z=>b(M=>({...M,paymentMethod:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"})]})]}),A.paymentMethod==="pix"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",u||"Tipo de Chave",")"]}),s.jsx("input",{type:"text",value:A.pixKey,onChange:V,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),A.paymentMethod==="boleto"&&s.jsx("div",{children:s.jsxs("div",{className:"grid grid-cols-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:A.barcode,onChange:Z=>b(M=>({...M,barcode:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})}),A.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:A.bankCode,onChange:Z=>b(M=>({...M,bankCode:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:A.branch,onChange:Z=>b(M=>({...M,branch:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:A.account,onChange:Z=>b(M=>({...M,account:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:A.digit,onChange:Z=>b(M=>({...M,digit:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),(A.paymentMethod==="boleto"||A.paymentMethod==="transferencia")&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:A.cpfCnpj,onChange:Z=>b(M=>({...M,cpfCnpj:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),y==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:A.type==="single",onChange:Z=>b(M=>({...M,type:Z.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:A.type==="recurring",onChange:Z=>b(M=>({...M,type:Z.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:A.type==="installments",onChange:Z=>b(M=>({...M,type:Z.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),A.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:A.frequency,onChange:Z=>b(M=>({...M,frequency:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:A.type==="recurring",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),A.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:A.installments,onChange:Z=>b(M=>({...M,installments:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:A.type==="installments"})]}),A.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:A.endDate,onChange:Z=>b(M=>({...M,endDate:Z.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:A.type!=="single"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:x,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Rejeitar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:_,disabled:a,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})]})]})]})})}function NF({requests:t,loadRequests:e}){const[r,n]=$r.useState(null);if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(_l,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Incluir" para criar uma solicitao de pagamento.'})]});const a=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),o=l=>{const d=new Date(l);return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate())},i=l=>o(l).toLocaleDateString("pt-BR"),c=l=>{switch(l){case"PENDING":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Rejeitado"});default:return s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:"Desconhecido"})}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nmero"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(l=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:["#",l.request_number]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"200px"},children:l.supplier_name}),l.cnpj_name&&s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:l.cnpj_name})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex flex-col",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"200px"},children:l.description})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:a(l.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(l.due_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c(l.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{type:"button",onClick:()=>n(l),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})})]},l.id))})]})}),s.jsx(jF,{isOpen:!!r,onClose:()=>n(null),request:r,loadRequests:e})]})}const SF="http://localhost:3001";function CF({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),[o,i]=D.useState([]),[c,l]=D.useState(!1),[d,u]=D.useState(!1),[h,y]=D.useState(null),[m,w]=D.useState(null),v=$r.useRef(null),A=$r.useRef(null),b=$r.useRef(null),S=x=>{const j=Array.from(x.target.files||[]);if(j.length===0)return;const P=j.filter(E=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(E.type)?E.size>5242880?(y("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(y("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(P.length>0){y(null);const E=P.map(U=>U.type.startsWith("image/")?URL.createObjectURL(U):"");a(U=>({...U,attachments:Array.isArray(U.attachments)?[...U.attachments,...P]:[...P]})),i(U=>Array.isArray(U)?[...U,...E]:[...E])}},R=()=>{A.current&&A.current.click()},W=async x=>{const j=Array.from(x.target.files||[]);if(j.length===0)return;const P=j[0],E=["image/jpeg","image/png","application/pdf"],U=5*1024*1024;if(!E.includes(P.type)){y("Tipo de arquivo no suportado. Use apenas imagens ou PDF.");return}if(P.size>U){y("Arquivo muito grande. O tamanho mximo permitido  5MB.");return}y(null),w(null),u(!0);try{const q=new FormData;q.append("file",P);const G=await fetch(`${SF}/ai/process/bill`,{method:"POST",body:q});if(!G.ok){const ee=await G.json();throw new Error(`Falha ao processar boleto: ${ee.message}`)}const V=await G.json();console.log("Processed boleto data:",V),a(ee=>({supplier_name:V.beneficiario||"",description:"Boleto - "+(V.descricao||""),value:z(V.valor)||0,due_date:B(V.vencimento)||"",attachments:Array.isArray(ee.attachments)?[...ee.attachments,P]:[P]})),P.type.startsWith("image/")?i(ee=>Array.isArray(ee)?[...ee,URL.createObjectURL(P)]:[URL.createObjectURL(P)]):i(ee=>Array.isArray(ee)?[...ee,""]:[""]),w("Boleto processado com sucesso!"),setTimeout(()=>{a({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),i([]),u(!1),y(null),w(null),r(),e()},1e3)}catch(q){console.error("Error processing boleto:",q),y(q instanceof Error?q.message:"Erro ao processar boleto")}finally{u(!1),b.current&&(b.current.value="")}},z=x=>{if(!x)return 0;if(!isNaN(Number(x)))return Number(x);if(typeof x=="string"){const j=x.replace("R$","").trim();if(j.includes(","))return Number(j.replace(".","").replace(",","."))}return Number(x)},B=x=>x?x.includes("/")?x.split("/").reverse().join("-"):x:"",g=x=>{a(j=>({...j,attachments:Array.isArray(j.attachments)?j.attachments.filter((P,E)=>E!==x):[]})),Array.isArray(o)&&o[x]&&URL.revokeObjectURL(o[x]),i(j=>Array.isArray(j)?j.filter((P,E)=>E!==x):[])},I=x=>x.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),k=x=>{var E;const j=((E=x.target.value)==null?void 0:E.replace(/\D/g,""))||"0",P=parseInt(j,10)/100;a(U=>({...U,value:P}))},_=async x=>{var j;if(x&&x.preventDefault&&x.preventDefault(),l(!0),y(null),w(null),!n.supplier_name.trim()){y("O nome do beneficirio/fornecedor  obrigatrio."),l(!1);return}if(!n.description.trim()){y("A descrio  obrigatria."),l(!1);return}if(n.value<=0){y("O valor do pagamento deve ser maior que zero."),l(!1);return}if(!n.due_date){y("A data de vencimento  obrigatria."),l(!1);return}try{const{data:P,error:E}=await De.from("payment_requests").insert([{supplier_name:n.supplier_name,description:n.description,value:n.value,due_date:n.due_date,status:"PENDING",origin:"MANUAL",created_by_id:(j=(await De.auth.getUser()).data.user)==null?void 0:j.id}]).select().single();if(E)throw E;const U=n.attachments.map(async q=>{const G=q.name.split(".").pop(),ee=`payment-requests/${`${Math.random().toString(36).substring(2)}.${G}`}`,{error:le}=await De.storage.from("attachments").upload(ee,q);if(le)throw le;const{data:{publicUrl:Z}}=De.storage.from("attachments").getPublicUrl(ee);return{payment_request_id:P.id,file_name:q.name,file_type:q.type,file_size:q.size,file_url:Z}});if(U.length>0){const q=await Promise.all(U),{error:G}=await De.from("payment_request_attachments").insert(q);if(G)throw G}a({supplier_name:"",description:"",value:0,due_date:"",attachments:[]}),r(),e()}catch(P){console.error("Error creating payment request:",P),y(P instanceof Error?P.message:"Erro ao criar solicitao de pagamento")}finally{l(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center sticky top-0 bg-white dark:bg-secondary-800 z-10",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Pagamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:_,className:"p-4 sm:p-6",children:[h&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:h})]}),m&&s.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:m})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:n.supplier_name,onChange:x=>a(j=>({...j,supplier_name:x.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:n.description,onChange:x=>a(j=>({...j,description:x.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[n.description.length,"/250 caracteres"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Pagamento"}),s.jsx("input",{type:"text",value:I(n.value),onChange:k,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Mxima de Vencimento"}),s.jsx("input",{type:"date",value:n.due_date,onChange:x=>a(j=>({...j,due_date:x.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Anexos"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:Array.isArray(n.attachments)&&n.attachments.map((x,j)=>s.jsxs("div",{className:"relative",children:[Array.isArray(o)&&o[j]?s.jsx("img",{src:o[j],alt:`Preview ${j+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:x.name})}),s.jsx("button",{type:"button",onClick:()=>g(j),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Wt,{className:"h-4 w-4"})})]},j))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{var x;return(x=v.current)==null?void 0:x.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(_l,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]}),s.jsxs("button",{type:"button",onClick:R,className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(g4,{className:"h-5 w-5 mr-2"}),"Capturar Imagem"]}),s.jsxs("button",{type:"button",onClick:()=>{var x;return(x=b.current)==null?void 0:x.click()},className:"flex items-center justify-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",disabled:d,children:[s.jsx(wi,{className:"h-5 w-5 mr-2"}),d?"Processando...":"Processar Boleto"]})]}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:v,type:"file",onChange:S,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:A,type:"file",onChange:S,className:"hidden",accept:"image/*",capture:"environment"}),s.jsx("input",{ref:b,type:"file",onChange:W,className:"hidden",accept:".pdf,.jpg,.jpeg,.png"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:c,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:c,children:c?"Salvando...":"Salvar Solicitao"})]})]})]})}):null}function _F({isOpen:t,onClose:e,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=$r.useState(r),c=()=>{console.log(o),n(o),e()},l=()=>{const d={dateRange:{start:"",end:""},supplier:"",minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""};a(),i(d),n(d),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:o.minValue,onChange:d=>i(u=>({...u,minValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:o.maxValue,onChange:d=>i(u=>({...u,maxValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendente"}),s.jsx("option",{value:"APPROVED",children:"Aprovado"}),s.jsx("option",{value:"REJECTED",children:"Rejeitado"})]})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}class uw extends D.Component{constructor(){super(...arguments);c2(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("Error caught by boundary:",r,n)}render(){return this.state.hasError?s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Algo deu errado"}),s.jsx("p",{children:"Ocorreu um erro inesperado. Por favor, tente novamente."})]}):this.props.children}}const E5="http://localhost:3001",O3={async getEmailsWithAttachments(t){return(await Vt.get(`${E5}/mail/emails/${t}`)).data},async getAllEmails(){return(await Vt.get(`${E5}/mail/emails`)).data}};async function EF(){try{const{data:t,error:e}=await De.from("payment_requests_with_users").select(`
      *,
      attachment_urls:payment_request_attachments(file_url)
    `).order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){throw console.error("Erro ao listar solicitaes:",t),t}}function AF(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState([]),[l,d]=D.useState(!0),[u,h]=D.useState(null),[y,m]=D.useState({dateRange:{start:"",end:""},supplier:"",minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:"PENDING"}),w=async()=>{try{d(!0);const R=await O3.getAllEmails();console.log(R),window.location.reload()}catch(R){console.error("Erro ao buscar emails:",R)}finally{d(!1)}};D.useEffect(()=>{A()},[]);const v=()=>{o("")},A=async()=>{try{d(!0);const R=await EF();c(R),h(null)}catch(R){console.error("Erro ao carregar solicitaes:",R),h("Erro ao carregar solicitaes")}finally{d(!1)}},b=R=>{const W=new Date(R);return new Date(W.getUTCFullYear(),W.getUTCMonth(),W.getUTCDate())},S=i.filter(R=>{const W=a.toLowerCase(),z=R!=null&&R.status&&R.status==="PENDING"?"Pendente":R.status==="APPROVED"?"Aprovado":"Rejeitado",B=R.supplier_name.toLowerCase().includes(W)||R.description.toLowerCase().includes(W)||R.request_number.toString().includes(W)||R.cnpj_name&&R.cnpj_name.toLowerCase().includes(W)||R.cnpj_number&&R.cnpj_number.includes(W)||z&&z.toLowerCase().includes(W),g=(!y.dateRange.start||b(R.due_date)>=b(y.dateRange.start))&&(!y.dateRange.end||b(R.due_date)<=b(y.dateRange.end)),I=!y.supplier||R.supplier_name.toLowerCase().includes(y.supplier.toLowerCase()),k=(!y.minValue||R.value>=parseFloat(y.minValue))&&(!y.maxValue||R.value<=parseFloat(y.maxValue)),_=!y.cnpjId||R.cnpj_id===y.cnpjId,x=!y.categoryId||R.category_id===y.categoryId,j=!y.status||R.status===y.status;return B&&g&&I&&k&&_&&x&&j});return s.jsxs("div",{className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>h(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Solicitaes de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de pagamento do sistema"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:w,className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(Iv,{className:"h-5 w-5"}),s.jsx("span",{children:"Buscar Boletos"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nmero, beneficirio ou descrio...",value:a,onChange:R=>o(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(vc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})]})}),l?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(NF,{requests:S,loadRequests:A})]}),s.jsx(uw,{children:s.jsx(CF,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),A()}})}),s.jsx(_F,{isOpen:r,onClose:()=>n(!1),filters:y,onApplyFilters:m,clearSearchTerm:v})]})}const Yi="http://localhost:3001",Nl={async syncAccounts(t){const e=localStorage.getItem("userId");return(await Vt.post(`${Yi}/bank/statement`,{bankAccountId:t.bankAccountId,userId:e},{headers:{"Content-Type":"application/json"}})).data},async checkGoogleAuth(t){return(await Vt.post(`${Yi}/auth/check-google-auth`,t)).data},async executePayment(t,e){const r=localStorage.getItem("userId");return console.log("will execute payment",t,e),(await Vt.post(`${Yi}/bank/payment/execute`,{paymentId:t,userId:r,sourceAccountId:e},{headers:{"Content-Type":"application/json"}})).data},async getReconciliationStatements(t){return console.log(`${Yi}/bank/reconciliation/statements/${t}`),(await Vt.get(`${Yi}/bank/reconciliation/statements/${t}`,{headers:{"Content-Type":"application/json"}})).data},async createBankTransfer(t){return(await Vt.post(`${Yi}/bank/transfer`,t,{headers:{"Content-Type":"application/json"}})).data},async getMatchingStatements(t){return(await Vt.get(`${Yi}/bank/reconciliation/compare/${t}`)).data},async reconcileStatement(t,e){return(await Vt.post(`${Yi}/bank/reconciliation/reconcile`,{reconciliationStatementId:t,bankStatementId:e})).data}},fw="http://localhost:3001";async function M3(t){var e,r;try{if(!t.lancamentos||t.lancamentos.length===0)throw new Error("Nenhum pagamento selecionado.");return(await Vt.post(`${fw}/batch-payment/create-lote-boleto`,{payload:t})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}async function F3(t){var e,r;try{return(await Vt.post(`${fw}/batch-payment/create-lote-pix`,{payload:t})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}async function B3(t){var e,r;try{return(await Vt.post(`${fw}/batch-payment/create-lote-transferencia`,{payload:t})).data}catch(n){throw console.error("Erro ao executar pagamento em lote:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Erro ao processar pagamento em lote.")}}var fh={},PF=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$3={},ws={};let hw;const LF=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ws.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ws.getSymbolTotalCodewords=function(e){return LF[e]};ws.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ws.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');hw=e};ws.isKanjiModeEnabled=function(){return typeof hw<"u"};ws.toSJIS=function(e){return hw(e)};var Om={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,a){if(t.isValid(n))return n;try{return e(n)}catch{return a}}})(Om);function q3(){this.buffer=[],this.length=0}q3.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var DF=q3;function hh(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}hh.prototype.set=function(t,e,r,n){const a=t*this.size+e;this.data[a]=r,n&&(this.reservedBit[a]=!0)};hh.prototype.get=function(t,e){return this.data[t*this.size+e]};hh.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};hh.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var IF=hh,U3={};(function(t){const e=ws.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,o=e(n),i=o===145?26:Math.ceil((o-13)/(2*a-2))*2,c=[o-7];for(let l=1;l<a-1;l++)c[l]=c[l-1]-i;return c.push(6),c.reverse()},t.getPositions=function(n){const a=[],o=t.getRowColCoords(n),i=o.length;for(let c=0;c<i;c++)for(let l=0;l<i;l++)c===0&&l===0||c===0&&l===i-1||c===i-1&&l===0||a.push([o[c],o[l]]);return a}})(U3);var z3={};const RF=ws.getSymbolSize,A5=7;z3.getPositions=function(e){const r=RF(e);return[[0,0],[r-A5,0],[0,r-A5]]};var V3={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const o=a.size;let i=0,c=0,l=0,d=null,u=null;for(let h=0;h<o;h++){c=l=0,d=u=null;for(let y=0;y<o;y++){let m=a.get(h,y);m===d?c++:(c>=5&&(i+=e.N1+(c-5)),d=m,c=1),m=a.get(y,h),m===u?l++:(l>=5&&(i+=e.N1+(l-5)),u=m,l=1)}c>=5&&(i+=e.N1+(c-5)),l>=5&&(i+=e.N1+(l-5))}return i},t.getPenaltyN2=function(a){const o=a.size;let i=0;for(let c=0;c<o-1;c++)for(let l=0;l<o-1;l++){const d=a.get(c,l)+a.get(c,l+1)+a.get(c+1,l)+a.get(c+1,l+1);(d===4||d===0)&&i++}return i*e.N2},t.getPenaltyN3=function(a){const o=a.size;let i=0,c=0,l=0;for(let d=0;d<o;d++){c=l=0;for(let u=0;u<o;u++)c=c<<1&2047|a.get(d,u),u>=10&&(c===1488||c===93)&&i++,l=l<<1&2047|a.get(u,d),u>=10&&(l===1488||l===93)&&i++}return i*e.N3},t.getPenaltyN4=function(a){let o=0;const i=a.data.length;for(let l=0;l<i;l++)o+=a.data[l];return Math.abs(Math.ceil(o*100/i/5)-10)*e.N4};function r(n,a,o){switch(n){case t.Patterns.PATTERN000:return(a+o)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(a+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return a*o%2+a*o%3===0;case t.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case t.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(a,o){const i=o.size;for(let c=0;c<i;c++)for(let l=0;l<i;l++)o.isReserved(l,c)||o.xor(l,c,r(a,l,c))},t.getBestMask=function(a,o){const i=Object.keys(t.Patterns).length;let c=0,l=1/0;for(let d=0;d<i;d++){o(d),t.applyMask(d,a);const u=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(d,a),u<l&&(l=u,c=d)}return c}})(V3);var Mm={};const hl=Om,op=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ip=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Mm.getBlocksCount=function(e,r){switch(r){case hl.L:return op[(e-1)*4+0];case hl.M:return op[(e-1)*4+1];case hl.Q:return op[(e-1)*4+2];case hl.H:return op[(e-1)*4+3];default:return}};Mm.getTotalCodewordsCount=function(e,r){switch(r){case hl.L:return ip[(e-1)*4+0];case hl.M:return ip[(e-1)*4+1];case hl.Q:return ip[(e-1)*4+2];case hl.H:return ip[(e-1)*4+3];default:return}};var H3={},Fm={};const pf=new Uint8Array(512),D0=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)pf[r]=e,D0[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)pf[r]=pf[r-255]})();Fm.log=function(e){if(e<1)throw new Error("log("+e+")");return D0[e]};Fm.exp=function(e){return pf[e]};Fm.mul=function(e,r){return e===0||r===0?0:pf[D0[e]+D0[r]]};(function(t){const e=Fm;t.mul=function(n,a){const o=new Uint8Array(n.length+a.length-1);for(let i=0;i<n.length;i++)for(let c=0;c<a.length;c++)o[i+c]^=e.mul(n[i],a[c]);return o},t.mod=function(n,a){let o=new Uint8Array(n);for(;o.length-a.length>=0;){const i=o[0];for(let l=0;l<a.length;l++)o[l]^=e.mul(a[l],i);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},t.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let o=0;o<n;o++)a=t.mul(a,new Uint8Array([1,e.exp(o)]));return a}})(H3);const W3=H3;function pw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}pw.prototype.initialize=function(e){this.degree=e,this.genPoly=W3.generateECPolynomial(this.degree)};pw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=W3.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(n,a),o}return n};var TF=pw,G3={},Tl={},mw={};mw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Wo={};const J3="[0-9]+",OF="[A-Z $%*+\\-./:]+";let qf="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";qf=qf.replace(/u/g,"\\u");const MF="(?:(?![A-Z0-9 $%*+\\-./:]|"+qf+`)(?:.|[\r
]))+`;Wo.KANJI=new RegExp(qf,"g");Wo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Wo.BYTE=new RegExp(MF,"g");Wo.NUMERIC=new RegExp(J3,"g");Wo.ALPHANUMERIC=new RegExp(OF,"g");const FF=new RegExp("^"+qf+"$"),BF=new RegExp("^"+J3+"$"),$F=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Wo.testKanji=function(e){return FF.test(e)};Wo.testNumeric=function(e){return BF.test(e)};Wo.testAlphanumeric=function(e){return $F.test(e)};(function(t){const e=mw,r=Wo;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,i){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?o.ccBits[0]:i<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return r.testNumeric(o)?t.NUMERIC:r.testAlphanumeric(o)?t.ALPHANUMERIC:r.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(o,i){if(t.isValid(o))return o;try{return n(o)}catch{return i}}})(Tl);(function(t){const e=ws,r=Mm,n=Om,a=Tl,o=mw,i=7973,c=e.getBCHDigit(i);function l(y,m,w){for(let v=1;v<=40;v++)if(m<=t.getCapacity(v,w,y))return v}function d(y,m){return a.getCharCountIndicator(y,m)+4}function u(y,m){let w=0;return y.forEach(function(v){const A=d(v.mode,m);w+=A+v.getBitsLength()}),w}function h(y,m){for(let w=1;w<=40;w++)if(u(y,w)<=t.getCapacity(w,m,a.MIXED))return w}t.from=function(m,w){return o.isValid(m)?parseInt(m,10):w},t.getCapacity=function(m,w,v){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=a.BYTE);const A=e.getSymbolTotalCodewords(m),b=r.getTotalCodewordsCount(m,w),S=(A-b)*8;if(v===a.MIXED)return S;const R=S-d(v,m);switch(v){case a.NUMERIC:return Math.floor(R/10*3);case a.ALPHANUMERIC:return Math.floor(R/11*2);case a.KANJI:return Math.floor(R/13);case a.BYTE:default:return Math.floor(R/8)}},t.getBestVersionForData=function(m,w){let v;const A=n.from(w,n.M);if(Array.isArray(m)){if(m.length>1)return h(m,A);if(m.length===0)return 1;v=m[0]}else v=m;return l(v.mode,v.getLength(),A)},t.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let w=m<<12;for(;e.getBCHDigit(w)-c>=0;)w^=i<<e.getBCHDigit(w)-c;return m<<12|w}})(G3);var K3={};const rb=ws,Y3=1335,qF=21522,P5=rb.getBCHDigit(Y3);K3.getEncodedBits=function(e,r){const n=e.bit<<3|r;let a=n<<10;for(;rb.getBCHDigit(a)-P5>=0;)a^=Y3<<rb.getBCHDigit(a)-P5;return(n<<10|a)^qF};var X3={};const UF=Tl;function qd(t){this.mode=UF.NUMERIC,this.data=t.toString()}qd.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};qd.prototype.getLength=function(){return this.data.length};qd.prototype.getBitsLength=function(){return qd.getBitsLength(this.data.length)};qd.prototype.write=function(e){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),e.put(a,10);const o=this.data.length-r;o>0&&(n=this.data.substr(r),a=parseInt(n,10),e.put(a,o*3+1))};var zF=qd;const VF=Tl,fy=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ud(t){this.mode=VF.ALPHANUMERIC,this.data=t}Ud.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ud.prototype.getLength=function(){return this.data.length};Ud.prototype.getBitsLength=function(){return Ud.getBitsLength(this.data.length)};Ud.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=fy.indexOf(this.data[r])*45;n+=fy.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(fy.indexOf(this.data[r]),6)};var HF=Ud;const WF=Tl;function zd(t){this.mode=WF.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}zd.getBitsLength=function(e){return e*8};zd.prototype.getLength=function(){return this.data.length};zd.prototype.getBitsLength=function(){return zd.getBitsLength(this.data.length)};zd.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var GF=zd;const JF=Tl,KF=ws;function Vd(t){this.mode=JF.KANJI,this.data=t}Vd.getBitsLength=function(e){return e*13};Vd.prototype.getLength=function(){return this.data.length};Vd.prototype.getBitsLength=function(){return Vd.getBitsLength(this.data.length)};Vd.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=KF.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var YF=Vd,Q3={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,a){var o={},i={};i[n]=0;var c=e.PriorityQueue.make();c.push(n,0);for(var l,d,u,h,y,m,w,v,A;!c.empty();){l=c.pop(),d=l.value,h=l.cost,y=r[d]||{};for(u in y)y.hasOwnProperty(u)&&(m=y[u],w=h+m,v=i[u],A=typeof i[u]>"u",(A||v>w)&&(i[u]=w,c.push(u,w),o[u]=d))}if(typeof a<"u"&&typeof i[a]>"u"){var b=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(b)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],o=n;o;)a.push(o),r[o],o=r[o];return a.reverse(),a},find_path:function(r,n,a){var o=e.single_source_shortest_paths(r,n,a);return e.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,a={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Q3);var XF=Q3.exports;(function(t){const e=Tl,r=zF,n=HF,a=GF,o=YF,i=Wo,c=ws,l=XF;function d(b){return unescape(encodeURIComponent(b)).length}function u(b,S,R){const W=[];let z;for(;(z=b.exec(R))!==null;)W.push({data:z[0],index:z.index,mode:S,length:z[0].length});return W}function h(b){const S=u(i.NUMERIC,e.NUMERIC,b),R=u(i.ALPHANUMERIC,e.ALPHANUMERIC,b);let W,z;return c.isKanjiModeEnabled()?(W=u(i.BYTE,e.BYTE,b),z=u(i.KANJI,e.KANJI,b)):(W=u(i.BYTE_KANJI,e.BYTE,b),z=[]),S.concat(R,W,z).sort(function(g,I){return g.index-I.index}).map(function(g){return{data:g.data,mode:g.mode,length:g.length}})}function y(b,S){switch(S){case e.NUMERIC:return r.getBitsLength(b);case e.ALPHANUMERIC:return n.getBitsLength(b);case e.KANJI:return o.getBitsLength(b);case e.BYTE:return a.getBitsLength(b)}}function m(b){return b.reduce(function(S,R){const W=S.length-1>=0?S[S.length-1]:null;return W&&W.mode===R.mode?(S[S.length-1].data+=R.data,S):(S.push(R),S)},[])}function w(b){const S=[];for(let R=0;R<b.length;R++){const W=b[R];switch(W.mode){case e.NUMERIC:S.push([W,{data:W.data,mode:e.ALPHANUMERIC,length:W.length},{data:W.data,mode:e.BYTE,length:W.length}]);break;case e.ALPHANUMERIC:S.push([W,{data:W.data,mode:e.BYTE,length:W.length}]);break;case e.KANJI:S.push([W,{data:W.data,mode:e.BYTE,length:d(W.data)}]);break;case e.BYTE:S.push([{data:W.data,mode:e.BYTE,length:d(W.data)}])}}return S}function v(b,S){const R={},W={start:{}};let z=["start"];for(let B=0;B<b.length;B++){const g=b[B],I=[];for(let k=0;k<g.length;k++){const _=g[k],x=""+B+k;I.push(x),R[x]={node:_,lastCount:0},W[x]={};for(let j=0;j<z.length;j++){const P=z[j];R[P]&&R[P].node.mode===_.mode?(W[P][x]=y(R[P].lastCount+_.length,_.mode)-y(R[P].lastCount,_.mode),R[P].lastCount+=_.length):(R[P]&&(R[P].lastCount=_.length),W[P][x]=y(_.length,_.mode)+4+e.getCharCountIndicator(_.mode,S))}}z=I}for(let B=0;B<z.length;B++)W[z[B]].end=0;return{map:W,table:R}}function A(b,S){let R;const W=e.getBestModeForData(b);if(R=e.from(S,W),R!==e.BYTE&&R.bit<W.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(R)+`.
 Suggested mode is: `+e.toString(W));switch(R===e.KANJI&&!c.isKanjiModeEnabled()&&(R=e.BYTE),R){case e.NUMERIC:return new r(b);case e.ALPHANUMERIC:return new n(b);case e.KANJI:return new o(b);case e.BYTE:return new a(b)}}t.fromArray=function(S){return S.reduce(function(R,W){return typeof W=="string"?R.push(A(W,null)):W.data&&R.push(A(W.data,W.mode)),R},[])},t.fromString=function(S,R){const W=h(S,c.isKanjiModeEnabled()),z=w(W),B=v(z,R),g=l.find_path(B.map,"start","end"),I=[];for(let k=1;k<g.length-1;k++)I.push(B.table[g[k]].node);return t.fromArray(m(I))},t.rawSplit=function(S){return t.fromArray(h(S,c.isKanjiModeEnabled()))}})(X3);const Bm=ws,hy=Om,QF=DF,ZF=IF,eB=U3,tB=z3,nb=V3,ab=Mm,rB=TF,I0=G3,nB=K3,aB=Tl,py=X3;function sB(t,e){const r=t.size,n=tB.getPositions(e);for(let a=0;a<n.length;a++){const o=n[a][0],i=n[a][1];for(let c=-1;c<=7;c++)if(!(o+c<=-1||r<=o+c))for(let l=-1;l<=7;l++)i+l<=-1||r<=i+l||(c>=0&&c<=6&&(l===0||l===6)||l>=0&&l<=6&&(c===0||c===6)||c>=2&&c<=4&&l>=2&&l<=4?t.set(o+c,i+l,!0,!0):t.set(o+c,i+l,!1,!0))}}function oB(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function iB(t,e){const r=eB.getPositions(e);for(let n=0;n<r.length;n++){const a=r[n][0],o=r[n][1];for(let i=-2;i<=2;i++)for(let c=-2;c<=2;c++)i===-2||i===2||c===-2||c===2||i===0&&c===0?t.set(a+i,o+c,!0,!0):t.set(a+i,o+c,!1,!0)}}function lB(t,e){const r=t.size,n=I0.getEncodedBits(e);let a,o,i;for(let c=0;c<18;c++)a=Math.floor(c/3),o=c%3+r-8-3,i=(n>>c&1)===1,t.set(a,o,i,!0),t.set(o,a,i,!0)}function my(t,e,r){const n=t.size,a=nB.getEncodedBits(e,r);let o,i;for(o=0;o<15;o++)i=(a>>o&1)===1,o<6?t.set(o,8,i,!0):o<8?t.set(o+1,8,i,!0):t.set(n-15+o,8,i,!0),o<8?t.set(8,n-o-1,i,!0):o<9?t.set(8,15-o-1+1,i,!0):t.set(8,15-o-1,i,!0);t.set(n-8,8,1,!0)}function cB(t,e){const r=t.size;let n=-1,a=r-1,o=7,i=0;for(let c=r-1;c>0;c-=2)for(c===6&&c--;;){for(let l=0;l<2;l++)if(!t.isReserved(a,c-l)){let d=!1;i<e.length&&(d=(e[i]>>>o&1)===1),t.set(a,c-l,d),o--,o===-1&&(i++,o=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function dB(t,e,r){const n=new QF;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),aB.getCharCountIndicator(l.mode,t)),l.write(n)});const a=Bm.getSymbolTotalCodewords(t),o=ab.getTotalCodewordsCount(t,e),i=(a-o)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const c=(i-n.getLengthInBits())/8;for(let l=0;l<c;l++)n.put(l%2?17:236,8);return uB(n,t,e)}function uB(t,e,r){const n=Bm.getSymbolTotalCodewords(e),a=ab.getTotalCodewordsCount(e,r),o=n-a,i=ab.getBlocksCount(e,r),c=n%i,l=i-c,d=Math.floor(n/i),u=Math.floor(o/i),h=u+1,y=d-u,m=new rB(y);let w=0;const v=new Array(i),A=new Array(i);let b=0;const S=new Uint8Array(t.buffer);for(let g=0;g<i;g++){const I=g<l?u:h;v[g]=S.slice(w,w+I),A[g]=m.encode(v[g]),w+=I,b=Math.max(b,I)}const R=new Uint8Array(n);let W=0,z,B;for(z=0;z<b;z++)for(B=0;B<i;B++)z<v[B].length&&(R[W++]=v[B][z]);for(z=0;z<y;z++)for(B=0;B<i;B++)R[W++]=A[B][z];return R}function fB(t,e,r,n){let a;if(Array.isArray(t))a=py.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){const u=py.rawSplit(t);d=I0.getBestVersionForData(u,r)}a=py.fromString(t,d||40)}else throw new Error("Invalid data");const o=I0.getBestVersionForData(a,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const i=dB(e,r,a),c=Bm.getSymbolSize(e),l=new ZF(c);return sB(l,e),oB(l),iB(l,e),my(l,r,0),e>=7&&lB(l,e),cB(l,i),isNaN(n)&&(n=nb.getBestMask(l,my.bind(null,l,r))),nb.applyMask(n,l),my(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:a}}$3.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=hy.M,a,o;return typeof r<"u"&&(n=hy.from(r.errorCorrectionLevel,hy.M),a=I0.from(r.version),o=nb.from(r.maskPattern),r.toSJISFunc&&Bm.setToSJISFunction(r.toSJISFunc)),fB(e,a,n,o)};var Z3={},gw={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:o,scale:o?4:i,margin:a,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},t.getImageWidth=function(n,a){const o=t.getScale(n,a);return Math.floor((n+a.margin*2)*o)},t.qrToImageData=function(n,a,o){const i=a.modules.size,c=a.modules.data,l=t.getScale(i,o),d=Math.floor((i+o.margin*2)*l),u=o.margin*l,h=[o.color.light,o.color.dark];for(let y=0;y<d;y++)for(let m=0;m<d;m++){let w=(y*d+m)*4,v=o.color.light;if(y>=u&&m>=u&&y<d-u&&m<d-u){const A=Math.floor((y-u)/l),b=Math.floor((m-u)/l);v=h[c[A*i+b]?1:0]}n[w++]=v.r,n[w++]=v.g,n[w++]=v.b,n[w]=v.a}}})(gw);(function(t){const e=gw;function r(a,o,i){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=i,o.width=i,o.style.height=i+"px",o.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,i,c){let l=c,d=i;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),i||(d=n()),l=e.getOptions(l);const u=e.getImageWidth(o.modules.size,l),h=d.getContext("2d"),y=h.createImageData(u,u);return e.qrToImageData(y.data,o,l),r(h,d,u),h.putImageData(y,0,0),d},t.renderToDataURL=function(o,i,c){let l=c;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),l||(l={});const d=t.render(o,i,l),u=l.type||"image/png",h=l.rendererOpts||{};return d.toDataURL(u,h.quality)}})(Z3);var eC={};const hB=gw;function L5(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function gy(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function pB(t,e,r){let n="",a=0,o=!1,i=0;for(let c=0;c<t.length;c++){const l=Math.floor(c%e),d=Math.floor(c/e);!l&&!o&&(o=!0),t[c]?(i++,c>0&&l>0&&t[c-1]||(n+=o?gy("M",l+r,.5+d+r):gy("m",a,0),a=0,o=!1),l+1<e&&t[c+1]||(n+=gy("h",i),i=0)):a++}return n}eC.render=function(e,r,n){const a=hB.getOptions(r),o=e.modules.size,i=e.modules.data,c=o+a.margin*2,l=a.color.light.a?"<path "+L5(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+L5(a.color.dark,"stroke")+' d="'+pB(i,o,a.margin)+'"/>',u='viewBox="0 0 '+c+" "+c+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+d+`</svg>
`;return typeof n=="function"&&n(null,y),y};const mB=PF,sb=$3,tC=Z3,gB=eC;function yw(t,e,r,n,a){const o=[].slice.call(arguments,1),i=o.length,c=typeof o[i-1]=="function";if(!c&&!mB())throw new Error("Callback required as last argument");if(c){if(i<2)throw new Error("Too few arguments provided");i===2?(a=r,r=e,e=n=void 0):i===3&&(e.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=e,e=n=void 0):i===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(l,d){try{const u=sb.create(r,n);l(t(u,e,n))}catch(u){d(u)}})}try{const l=sb.create(r,n);a(null,t(l,e,n))}catch(l){a(l)}}fh.create=sb.create;fh.toCanvas=yw.bind(null,tC.render);fh.toDataURL=yw.bind(null,tC.renderToDataURL);fh.toString=yw.bind(null,function(t,e,r){return gB.render(t,r)});const Tp="http://localhost:3001";console.log(Tp);const R0={async signUp(t){return(await Vt.post(`${Tp}/auth/signup`,{name:t.name,email:t.email,password:t.password},{headers:{"Content-Type":"application/json"}})).data},async preLogin(t){const e=await Vt.post(`${Tp}/auth/login`,{email:t.email,password:t.password},{headers:{"Content-Type":"application/json"}}),{error:r,otpauth:n,firstLogin:a}=e.data;if(!r&&a&&n){const o=await fh.toDataURL(n);return{error:r,qrcode:o}}return e.data},async login(t){const e=await Vt.post(`${Tp}/auth/login/otp`,{email:t.email,password:t.password,google_auth_code:t.google_auth_code},{headers:{"Content-Type":"application/json"}});return e.data&&e.data.user&&e.data.user.id&&(console.log("userId",e.data.user.id),localStorage.setItem("userId",e.data.user.id)),e.data},getUserId(){return localStorage.getItem("userId")},logout(){localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("userEmail"),localStorage.removeItem("userToken"),localStorage.removeItem("userPermissions")}};function yB({isOpen:t,onClose:e,payment:r,loadPayments:n}){var Ze,et;const[a,o]=D.useState([]),i=D.useRef(null),c=D.useRef(null),[l,d]=D.useState(null),[u,h]=D.useState({supplierName:"",description:"",value:"",attachments:[],dueDate:"",cnpjId:null,categoryId:null,competence:"",bankAccountId:null,paymentMethod:"",cpfCnpj:"",pixKey:"",pixPaymentMethod:"",barcode:"",branch:"",account:"",digit:"",bankCode:"",type:"single",frequency:null,installments:null,endDate:null,num_req:""}),[y,m]=D.useState([]),[w,v]=D.useState([]),[A,b]=D.useState([]),[S,R]=D.useState("general"),[W,z]=D.useState(!1),[B,g]=D.useState(!1),[I,k]=D.useState(null),[_,x]=D.useState(!1),[j,P]=D.useState(!1),[E,U]=D.useState(null),[q,G]=D.useState(""),V=se=>{U(se),setTimeout(()=>{U(null)},5e3)},ee=R0.getUserId();D.useEffect(()=>{t&&le()},[t]);const le=async()=>{try{const{data:se,error:ve}=await De.from("bank_accounts").select("*").eq("active",!0).order("name");if(ve)throw ve;b(se||[])}catch(se){console.error("Error loading bank accounts:",se),V("Erro ao carregar contas bancrias")}};function Z(se){if(typeof se!="string"||(se=se.replace(/[\s.-]*/gim,""),!se||se.length!==11||se==="00000000000"||se==="11111111111"||se==="22222222222"||se==="33333333333"||se==="44444444444"||se==="55555555555"||se==="66666666666"||se==="77777777777"||se==="88888888888"||se==="99999999999"))return!1;let ve=0,Ee;for(let Qe=1;Qe<=9;Qe++)ve+=parseInt(se.substring(Qe-1,Qe))*(11-Qe);if(Ee=ve*10%11,(Ee===10||Ee===11)&&(Ee=0),Ee!==parseInt(se.substring(9,10)))return!1;ve=0;for(let Qe=1;Qe<=10;Qe++)ve+=parseInt(se.substring(Qe-1,Qe))*(12-Qe);return Ee=ve*10%11,(Ee===10||Ee===11)&&(Ee=0),Ee===parseInt(se.substring(10,11))}function M(se){if(typeof se!="string"||(se=se.replace(/[\s.-]*/gim,""),!se||se.length!==14||se==="00000000000000"||se==="11111111111111"||se==="22222222222222"||se==="33333333333333"||se==="44444444444444"||se==="55555555555555"||se==="66666666666666"||se==="77777777777777"||se==="88888888888888"||se==="99999999999999"))return!1;let ve=se.length-2,Ee=se.substring(0,ve);const Qe=se.substring(ve);let Me=0,at=ve-7;for(let Rt=ve;Rt>=1;Rt--)Me+=parseInt(Ee.charAt(ve-Rt))*at--,at<2&&(at=9);let Nt=Me%11<2?0:11-Me%11;if(Nt!==parseInt(Qe.charAt(0)))return!1;ve=ve+1,Ee=se.substring(0,ve),Me=0,at=ve-7;for(let Rt=ve;Rt>=1;Rt--)Me+=parseInt(Ee.charAt(ve-Rt))*at--,at<2&&(at=9);return Nt=Me%11<2?0:11-Me%11,Nt===parseInt(Qe.charAt(1))}function J(se){const ve=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Ee=se.replace(/[^0-9]/g,"");return Z(Ee)?"CPF":M(Ee)?"CNPJ":ve.test(se)?"Email":Ee.length===10||Ee.length===11?"Telefone":"Chave Aleatria"}function te(se){const ve=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Ee=se.replace(/[^0-9]/g,"");return Z(Ee)||M(Ee)?3:ve.test(se)?2:Ee.length===10||Ee.length===11?1:4}const de=async()=>{const{data:se,error:ve}=await De.from("settings").select("num_req").single();if(ve)throw ve;const Ee=se.num_req,{data:Qe,error:Me}=await De.from("settings").update({num_req:Ee+1}).eq("id",1);if(Me)throw Me;return Ee},ie=async()=>{if(r)try{P(!0),V(null);const se=te(u.pixKey);h(Ee=>({...Ee,pixPaymentMethod:se}));const ve=A.find(Ee=>Ee.id===r.bankAccountId);if(!ve){V("Conta bancria no encontrada");return}if(u.paymentMethod==="pix"){let Ee=u.pixKey;se===3&&(Ee=Ee.replace(/\D/g,""));const Me={numeroRequisicao:await de(),agenciaDebito:ve.branch,contaCorrenteDebito:ve.account,digitoVerificadorContaCorrente:ve.digit||"X",tipoPagamento:"126",listaTransferencias:[{data:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valor:Number(u.value),descricaoPagamento:u.description,descricaoPagamentoInstantaneo:u.description,formaIdentificacao:se,...se===1&&{dddTelefone:Ee.substring(0,2),telefone:Ee.substring(2)},...se===2&&{email:Ee},...se===3&&Ee.length===11&&{cpf:Ee},...se===3&&Ee.length===14&&{cnpj:Ee},...se===4&&{identificacaoAleatoria:Ee}}]},at=await F3({...Me,paymentId:r.id,userId:ee,sourceAccountId:u.bankAccountId});if(at.error){const Nt=at.data.map(Rt=>Rt.codigo+" - "+Rt.mensagem).join(`
`);V(Nt);return}}if(r.paymentMethod==="boleto"){const Qe={numeroRequisicao:await de(),codigoContrato:ve.agreementCode,numeroAgenciaDebito:ve.branch,numeroContaCorrenteDebito:ve.account,digitoVerificadorContaCorrenteDebito:ve.digit||"X",tipoPagamento:"126",lancamentos:[{numeroCodigoBarras:u.barcode.replace(/\D/g,""),dataPagamento:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valorPagamento:Number(u.value),descricaoPagamento:u.description,valorNominal:Number(u.value),codigoTipoBeneficiario:vd(u.cpfCnpj)?2:1,documentoBeneficiario:u.cpfCnpj?u.cpfCnpj.replace(/\D/g,""):""}],sourceAccountId:u.bankAccountId},Me=await M3({...Qe,paymentId:r.id,userId:ee});if(Me.error){const at=Me.data.map(Nt=>Nt.codigo+" - "+Nt.mensagem).join(`
`);V(at);return}}if(r.paymentMethod==="transferencia"){const Qe={numeroRequisicao:await de(),agenciaDebito:ve.branch,contaCorrenteDebito:ve.account,digitoVerificadorContaCorrente:ve.digit||"X",tipoPagamento:128,listaTransferencias:[{agenciaCredito:r.branch,contaCorrenteCredito:r.account,digitoVerificadorContaCorrente:r.digit||"X",dataTransferencia:new Date().toISOString().split("T")[0].split("-").reverse().join(""),numeroCOMPE:r.bankCode,codigoFinalidadeTED:1,valorTransferencia:parseFloat(r.value.toFixed(2)),...vd(r==null?void 0:r.cpfCnpj)&&{cnpjBeneficiario:r.cpfCnpj?r.cpfCnpj.replace(/\D/g,""):""},...!vd(r==null?void 0:r.cpfCnpj)&&{cpfBeneficiario:r.cpfCnpj?r.cpfCnpj.replace(/\D/g,""):""}}],sourceAccountId:u.bankAccountId},Me=await B3({...Qe,paymentId:r.id,userId:ee});if(Me.error){const at=Me.data.map(Nt=>Nt.codigo+" - "+Nt.mensagem).join(`
`);V(at);return}}await De.from("payments").update({bb_payment_status:"COMPLETED",updated_at:new Date().toISOString()}).in("id",[r.id]),n(),e()}catch(se){console.log(se),console.error("Erro ao processar pagamento:",se),V("Erro ao processar pagamento")}finally{P(!1)}};D.useEffect(()=>{t&&(xe(),r&&(console.log(`
# PAYMENT:`,r),d(r),h(se=>({...se,num_req:r.num_req||"",supplierName:r.supplier.name||"",description:r.description||"",value:r.value?r.value.toString():"",dueDate:r.dueDate?r.dueDate.split("T")[0]:"",cnpjId:r.cnpjId||"",categoryId:r.categoryId||"",competence:r.competence||"",bankAccountId:r.bankAccountId||"",paymentMethod:r.paymentMethod||"",pixKey:r.pixKey||"",pixPaymentMethod:r.pixPaymentMethod||"",bankCode:r.bankCode||"",barcode:r.barcode||"",branch:r.branch||"",account:r.account||"",digit:r.digit||"X",type:r.type||"single",frequency:r.frequency||null,installments:r.installments||null,endDate:r.endDate?r.endDate.split("T")[0]:"",cpfCnpj:r.cpfCnpj||""}))))},[t,r]);const xe=async()=>{try{const[se,ve,Ee]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0)]);if(se.error)throw se.error;if(ve.error)throw ve.error;if(Ee.error)throw Ee.error;m(se.data||[]),v(ve.data||[]),b(Ee.data||[])}catch(se){console.error("Error loading data:",se),V("Erro ao carregar dados")}};if(!t||!r)return null;const we=se=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se),me=se=>{let ve=se.target.value.replace(/\D/g,"");ve===""&&(ve="0");const Ee=parseInt(ve)/100;h(Qe=>({...Qe,value:Ee.toString()}))},Pe=se=>se?new Date(se).toLocaleDateString("pt-BR"):"-",qe=r.status==="PAID",Je=async(se,ve)=>{try{if(P(!0),V(null),r.status==="PAID"){const Ee={supplier_name:u.supplierName,competence:u.competence};await De.from("payments").update(Ee).eq("id",r.id),await De.from("bank_statements").update({beneficiary:u.supplierName}).eq("payment_id",r.id)}else{const Ee={...u,pix_payment_method:u.pixPaymentMethod};await bF({...Ee,id:r.id,singleUpdate:ve})}await n(),e()}catch(Ee){console.error("Error updating payment:",Ee),V("Erro ao atualizar pagamento")}finally{P(!1)}},rt=async()=>{if(ct()){V("Os dados do pagamento foram alterados, por favor, atualize os dados antes de realizar o pagamento.");return}V(null),G(""),x(!1),z(!0),k(r)},pt=async()=>{if(ct()){V("Os dados do pagamento foram alterados, por favor, atualize os dados antes de realizar o pagamento.");return}V(null),G(""),x(!0),z(!0),k(r)},Be=async()=>{try{if(!q||q.length!==6){V("Por favor, insira um cdigo de autenticao vlido");return}P(!0),z(!1);const se=await Nl.checkGoogleAuth({userId:localStorage.getItem("userId")||"",google_auth_code:q});if(console.log(`
# RESPONSE:`,se),se.error){V(se.message);return}_?await ie():(await Nl.executePayment(r.id,u.bankAccountId),await n(),e())}catch(se){console.error("Error marking payment as paid:",se),V("Erro ao marcar pagamento como pago")}finally{P(!1)}},pe=se=>{const ve=Array.from(se.target.files||[]);if(ve.length===0)return;const Ee=ve.filter(Qe=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(Qe.type)?Qe.size>5242880?(V("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(V("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(Ee.length>0){V(null);const Qe=Ee.map(Me=>Me.type.startsWith("image/")?URL.createObjectURL(Me):"");h(Me=>({...Me,attachments:[...Me.attachments,...Ee]})),o(Me=>[...Me,...Qe])}},vt=se=>{h(ve=>({...ve,attachments:ve.attachments.filter((Ee,Qe)=>Qe!==se)})),a[se]&&URL.revokeObjectURL(a[se]),o(ve=>ve.filter((Ee,Qe)=>Qe!==se))},ct=()=>{var se,ve,Ee;return l?r.status==="PAID"?u.supplierName!==(((se=l.supplier)==null?void 0:se.name)||"")||u.competence!==(l.competence||""):u.supplierName!==(((ve=l.supplier)==null?void 0:ve.name)||"")||u.description!==(l.description||"")||u.value!==(((Ee=l.value)==null?void 0:Ee.toString())||"")||u.dueDate!==(l.dueDate?l.dueDate.split("T")[0]:"")||u.cnpjId!==(l.cnpjId||"")||u.categoryId!==(l.categoryId||"")||u.competence!==(l.competence||"")||u.bankAccountId!==(l.bankAccountId||"")||u.paymentMethod!==(l.paymentMethod||"")||u.pixKey!==(l.pixKey||"")||u.barcode!==(l.barcode||"")||u.branch!==(l.branch||"")||u.account!==(l.account||"")||u.digit!==(l.digit||"X")||u.type!==(l.type||"single")||u.frequency!==(l.frequency||null)||u.installments!==(l.installments||null)||u.endDate!==(l.endDate?l.endDate.split("T")[0]:"")||u.cpfCnpj!==(l.cpfCnpj||"")||u.bankCode!==(l.bankCode||"")||u.pixPaymentMethod!==(l.pixPaymentMethod||""):!1};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Editar/Executar Pagamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>R("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${S==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>R("payment"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${S==="payment"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados para o Pagamento"}),s.jsx("button",{onClick:()=>R("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${S==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("form",{children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[E&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:E})}),S==="general"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Beneficirio"}),s.jsx("input",{type:"text",value:u.supplierName,onChange:se=>h(ve=>({...ve,supplierName:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Descrio"}),s.jsx("textarea",{value:u.description,onChange:se=>h(ve=>({...ve,description:se.target.value})),disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[(Ze=u.description)==null?void 0:Ze.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor"}),s.jsx("input",{type:"text",value:we(Number(u.value)),onChange:me,disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:u.dueDate,onChange:se=>h(ve=>({...ve,dueDate:se.target.value})),disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(et=r.attachmentUrls)!=null&&et.length?s.jsx("a",{href:r.attachmentUrls[0],target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:u.attachments.map((se,ve)=>s.jsxs("div",{className:"relative",children:[a[ve]?s.jsx("img",{src:a[ve],alt:`Preview ${ve+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:se.name})}),s.jsx("button",{type:"button",onClick:()=>vt(ve),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Wt,{className:"h-4 w-4"})})]},ve))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var se;return(se=i.current)==null?void 0:se.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(wi,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:i,type:"file",onChange:pe,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:c,type:"file",onChange:pe,className:"hidden",accept:"image/*",capture:"environment"})]})]}),S==="payment"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:u.cnpjId,onChange:se=>h(ve=>({...ve,cnpjId:se.target.value})),disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),y.map(se=>s.jsxs("option",{value:se.id,children:[se.name," - ",se.cnpj]},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Despesa *"}),s.jsxs("select",{disabled:qe,value:u.categoryId,onChange:se=>h(ve=>({...ve,categoryId:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),w.map(se=>s.jsx("option",{value:se.id,children:se.name},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:u.competence,onChange:se=>h(ve=>({...ve,competence:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:u.bankAccountId,onChange:se=>h(ve=>({...ve,bankAccountId:se.target.value})),disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),A.map(se=>s.jsxs("option",{value:se.id,children:[se.name," - ",se.bank," ",se.branch,"/",se.account]},se.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:u.paymentMethod,onChange:se=>h(ve=>({...ve,paymentMethod:se.target.value})),disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"}),s.jsx("option",{value:"pix",children:"PIX"}),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"})]})]}),u.paymentMethod==="pix"&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",J(u.pixKey),")"]}),s.jsx("input",{type:"text",value:u.pixKey,onChange:se=>h(ve=>({...ve,pixKey:se.target.value})),disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]})}),u.paymentMethod==="boleto"&&s.jsxs("div",{className:"grid grid-cols-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:u.barcode,onChange:se=>h(ve=>({...ve,barcode:se.target.value})),disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),u.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:u.bankCode,onChange:se=>h(ve=>({...ve,bankCode:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:u.branch,onChange:se=>h(ve=>({...ve,branch:se.target.value})),disabled:qe,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-secondary-100 dark:disabled:bg-secondary-800 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:u.account,onChange:se=>h(ve=>({...ve,account:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:u.digit,onChange:se=>h(ve=>({...ve,digit:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),(u.paymentMethod==="boleto"||u.paymentMethod==="transferencia")&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1 mt-4",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:u.cpfCnpj,onChange:se=>h(ve=>({...ve,cpfCnpj:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),S==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:u.type==="single",onChange:se=>h(ve=>({...ve,type:se.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:u.type==="recurring",onChange:se=>h(ve=>({...ve,type:se.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:u.type==="installments",onChange:se=>h(ve=>({...ve,type:se.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),u.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:u.frequency,onChange:se=>h(ve=>({...ve,frequency:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),u.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:u.installments,onChange:se=>h(ve=>({...ve,installments:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:u.endDate,onChange:se=>h(ve=>({...ve,endDate:se.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700 p-6",children:[s.jsx("button",{type:"button",disabled:j,onClick:e,className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{type:"button",disabled:j,onClick:()=>Je(!1,!1),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Atualizar Dados"}),r.status!=="PAID"&&s.jsxs("button",{type:"button",className:"flex items-center px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",onClick:pt,disabled:j,children:[s.jsx(Iv,{className:"h-5 w-5"})," ",s.jsx("span",{children:"Pagar via API"})]}),r.status!=="PAID"&&s.jsx("button",{type:"button",disabled:j,onClick:rt,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Gerar Baixa"})]})]})]}),W&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:_?"Confirmar Pagamento via API":"Confirmar Baixa"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja realizar o pagamento R$ ${I==null?void 0:I.value} para "${I==null?void 0:I.supplier.name}" com vencimento ${Pe(I==null?void 0:I.dueDate)}? Esta ao no pode ser desfeita.`}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:q,onChange:se=>G(se.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:se=>{se.key==="Enter"&&Be()},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",maxLength:6})]}),E&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:E}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{z(!1),k(null),V(null),G("")},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{onClick:Be,disabled:!q||q.length!==6||j,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[90px]",children:j?"...":"Pagar"})]})]})}),B&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Atualizao"}),r.type!="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Este  um pagamento ${r.type=="recurring"?"recorrente":"parcelado"}, como deseja prosseguir?`}),r.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:"Deseja criar parcelas/recorrncia para este pagamento?"}),u.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Este  um pagamento ${r.type=="recurring"?"recorrente":"parcelado"}, deseja apagar todos os lanamentos futuros?`}),r.type=="single"&&s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja atualizar o pagamento R$ ${r.value} para ${r==null?void 0:r.supplier.name} com vencimento ${Pe(r==null?void 0:r.dueDate)}?`}),E&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:E}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{g(!1),V(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Fechar"}),r.type!="single"||r.type!="single"&&s.jsx("button",{onClick:()=>{g(!1),Je(!0,!1)},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[150px]",children:"Atualizar Todos"}),s.jsx("button",{onClick:()=>{g(!1),Je(!0,r.type!="single")},className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[150px]",children:u.type!="single"&&r.type!="single"||r.type!="single"?"Atualizar Este":"Atualizar"})]})]})})]})}function xB({payments:t,loadPayments:e}){const[r,n]=$r.useState(null);if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Tf,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum pagamento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h pagamentos que correspondam aos filtros selecionados."})]});const a=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),o=l=>{const d=new Date(l);return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate())},i=l=>o(l).toLocaleDateString("pt-BR"),c=l=>{switch(l){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Atrasado"});case"SCHEDULED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:" vencer"});case"PAID":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Pago"});default:return null}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(l=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex flex-col",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:l.supplier.name})})}),s.jsxs("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:[l.description," ",l.installmentNumber&&`(${l.installmentNumber}/${l.installments})`]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:a(l.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(l.dueDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c(l.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.status==="PAID"&&s.jsx("button",{type:"button",onClick:()=>n(l),className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors w-[90px]",children:"Ver"}),l.status!=="PAID"&&s.jsx("button",{type:"button",onClick:()=>n(l),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 w-[90px]",children:"Pagar"})]})]},l.id))})]})}),s.jsx(yB,{isOpen:!!r,onClose:()=>n(null),payment:r,loadPayments:e})]})}function bB({isOpen:t,onClose:e,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=$r.useState(r),c=()=>{n(o),e()},l=()=>{const d={dateRange:{start:"",end:""},status:[],cnpjId:"",bankAccountId:""};a(),i(d),n(d),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Atrasados"}),s.jsx("option",{value:"SCHEDULED",children:" vencer"}),s.jsx("option",{value:"PAID",children:"Pagos"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("select",{value:o.cnpjId,onChange:d=>i(u=>({...u,cnpjId:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todos"})})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function vB({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState("general"),[o,i]=D.useState(!1),[c,l]=D.useState(null),[d,u]=D.useState([]),[h,y]=D.useState([]),[m,w]=D.useState([]),[v,A]=D.useState({general:{supplier_name:"",description:"",category:"",cnpj:"",competence:""},payment:{value:"",dueDate:"",bankAccount:"",paymentMethod:"",pixKey:"",pixPaymentMethod:"",bankCode:"",cpfCnpj:"",barcode:"",branch:"",account:"",digit:""},occurrence:{type:"single",installments:"",frequency:"",endDate:""}});D.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{const[k,_,x]=await Promise.all([De.from("cnpjs").select("id, name, cnpj, bank_account_id").eq("active",!0).order("name"),De.from("financial_categories").select("*").in("type",["EXPENSE","BOTH"]).eq("active",!0).order("name"),De.from("bank_accounts").select(`
            *,
            cnpj:cnpjs (
              id,
              name,
              cnpj
            )
          `).eq("active",!0).order("name")]);if(k.error)throw k.error;if(_.error)throw _.error;if(x.error)throw x.error;u(k.data||[]),y(_.data||[]),w(x.data||[])}catch(k){console.error("Error loading data:",k),l("Erro ao carregar dados do sistema")}},S=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(k)),R=k=>{let _=k.target.value.replace(/\D/g,"");_===""&&(_="0");const x=parseInt(_)/100;A(j=>({...j,payment:{...j.payment,value:x.toString()}}))};function W(k){if(typeof k!="string"||(k=k.replace(/[\s.-]*/gim,""),!k||k.length!==11||k==="00000000000"||k==="11111111111"||k==="22222222222"||k==="33333333333"||k==="44444444444"||k==="55555555555"||k==="66666666666"||k==="77777777777"||k==="88888888888"||k==="99999999999"))return!1;let _=0,x;for(let j=1;j<=9;j++)_+=parseInt(k.substring(j-1,j))*(11-j);if(x=_*10%11,(x===10||x===11)&&(x=0),x!==parseInt(k.substring(9,10)))return!1;_=0;for(let j=1;j<=10;j++)_+=parseInt(k.substring(j-1,j))*(12-j);return x=_*10%11,(x===10||x===11)&&(x=0),x===parseInt(k.substring(10,11))}function z(k){if(typeof k!="string"||(k=k.replace(/[\s.-]*/gim,""),!k||k.length!==14||k==="00000000000000"||k==="11111111111111"||k==="22222222222222"||k==="33333333333333"||k==="44444444444444"||k==="55555555555555"||k==="66666666666666"||k==="77777777777777"||k==="88888888888888"||k==="99999999999999"))return!1;let _=k.length-2,x=k.substring(0,_),j=k.substring(_),P=0,E=_-7;for(let q=_;q>=1;q--)P+=parseInt(x.charAt(_-q))*E--,E<2&&(E=9);let U=P%11<2?0:11-P%11;if(U!==parseInt(j.charAt(0)))return!1;_=_+1,x=k.substring(0,_),P=0,E=_-7;for(let q=_;q>=1;q--)P+=parseInt(x.charAt(_-q))*E--,E<2&&(E=9);return U=P%11<2?0:11-P%11,U===parseInt(j.charAt(1))}function B(k){const _=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,x=k.replace(/[^0-9]/g,"");return W(x)?"CPF":z(x)?"CNPJ":_.test(k)?"Email":x.length===10||x.length===11?"Telefone":"Chave Aleatria"}const g=async k=>{var _,x;if(k.preventDefault(),i(!0),l(null),!v.payment.value){l("Valor  obrigatrio"),i(!1);return}if(!v.payment.dueDate){l("Data de vencimento  obrigatria"),i(!1);return}if(!v.payment.bankAccount){l("Conta bancria  obrigatria"),i(!1);return}if(!v.payment.paymentMethod){l("Forma de pagamento  obrigatria"),i(!1);return}if(v.payment.paymentMethod==="pix"&&!v.payment.pixKey){l("Chave PIX  obrigatria"),i(!1);return}if(v.payment.paymentMethod==="boleto"&&!v.payment.barcode){l("Cdigo de barras  obrigatrio"),i(!1);return}if(v.payment.paymentMethod==="boleto"&&!v.payment.cpfCnpj){l("Cdigo de barras  obrigatrio"),i(!1);return}if(v.payment.paymentMethod==="transferencia"&&(!v.payment.branch||!v.payment.account||!v.payment.digit||!v.payment.bankCode)){l("Agncia, conta, dgito e banco so obrigatrios"),i(!1);return}try{const j=localStorage.getItem("userId");await xF({supplier_name:v.general.supplier_name,description:v.general.description,category_id:v.general.category,cnpj_id:v.general.cnpj,competence:new Date(v.general.competence).toISOString().split("T")[0],value:parseFloat(v.payment.value),due_date:new Date(v.payment.dueDate).toISOString().split("T")[0],bank_account_id:v.payment.bankAccount,payment_method:v.payment.paymentMethod,pix_key:v.payment.pixKey,pix_payment_method:v.payment.pixPaymentMethod,cpfCnpj:(_=v.payment)==null?void 0:_.cpfCnpj,bankCode:(x=v.payment)==null?void 0:x.bankCode,barcode:v.payment.barcode,branch:v.payment.branch,account:v.payment.account,digit:v.payment.digit,type:v.occurrence.type,installments:v.occurrence.installments||1,frequency:v.occurrence.frequency,end_date:v.occurrence.endDate?new Date(v.occurrence.endDate).toISOString().split("T")[0]:null,status:"SCHEDULED",created_by:j}),a("general"),A({general:{supplier_name:"",description:"",category:"",cnpj:"",competence:""},payment:{value:"",dueDate:"",bankAccount:"",paymentMethod:"",pixPaymentMethod:"",cpfCnpj:"",bankCode:"",pixKey:"",barcode:"",branch:"",account:"",digit:""},occurrence:{type:"single",installments:"",frequency:"",endDate:""}}),r()}catch(j){console.error("Error creating payment:",j),l("Erro ao criar pagamento")}finally{i(!1)}},I=k=>{A(_=>({..._,payment:{..._.payment,pixKey:k.target.value}}))};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Cadastrar Novo Pagamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("payment"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="payment"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Pagamento"}),s.jsx("button",{onClick:()=>a("occurrence"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="occurrence"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Ocorrncia"})]})}),s.jsxs("form",{onSubmit:g,children:[s.jsxs("div",{className:"min-h-[400px] p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Fornecedor"}),s.jsx("input",{type:"text",value:v.general.supplier_name,onChange:k=>A(_=>({..._,general:{..._.general,supplier_name:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:v.general.description,onChange:k=>A(_=>({..._,general:{..._.general,description:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia"}),s.jsx("input",{type:"date",value:v.general.competence,onChange:k=>A(_=>({..._,general:{..._.general,competence:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:v.general.category,onChange:k=>A(_=>({..._,general:{..._.general,category:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),h.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:v.general.cnpj,onChange:k=>{const _=d.find(x=>x.id===k.target.value);A(x=>({...x,general:{...x.general,cnpj:k.target.value},payment:{...x.payment,bankAccount:(_==null?void 0:_.bank_account_id)||x.payment.bankAccount}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),d.map(k=>s.jsxs("option",{value:k.id,children:[k.name," - ",k.cnpj]},k.id))]})]})]})]}),n==="payment"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:S(v.payment.value),onChange:R,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:v.payment.dueDate,onChange:k=>A(_=>({..._,payment:{..._.payment,dueDate:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:v.payment.bankAccount,onChange:k=>A(_=>({..._,payment:{..._.payment,bankAccount:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),m.map(k=>s.jsxs("option",{value:k.id,children:[k.name," - ",k.bank," ",k.branch,"/",k.account]},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:v.payment.paymentMethod,onChange:k=>A(_=>({..._,payment:{..._.payment,paymentMethod:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),s.jsx("option",{value:"boleto",children:"Boleto"},1),s.jsx("option",{value:"pix",children:"PIX"},2),s.jsx("option",{value:"transferencia",children:"Transferncia Bancria"},3)]})]}),v.payment.paymentMethod==="pix"&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",B(v.payment.pixKey),")"]}),s.jsx("input",{type:"text",value:v.payment.pixKey,onChange:I,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})})]}),v.payment.paymentMethod==="boleto"&&s.jsx("div",{className:"flex flex-nowrap gap-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo de Barras"}),s.jsx("input",{type:"text",value:v.payment.barcode,onChange:k=>A(_=>({..._,payment:{..._.payment,barcode:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})}),v.payment.paymentMethod==="transferencia"&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cd. do Banco"}),s.jsx("input",{type:"text",value:v.payment.bankCode,onChange:k=>A(_=>({..._,payment:{..._.payment,bankCode:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Agncia"}),s.jsx("input",{type:"text",value:v.payment.branch,onChange:k=>A(_=>({..._,payment:{..._.payment,branch:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta"}),s.jsx("input",{type:"text",value:v.payment.account,onChange:k=>A(_=>({..._,payment:{..._.payment,account:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dgito Verificador"}),s.jsx("input",{type:"text",value:v.payment.digit,onChange:k=>A(_=>({..._,payment:{..._.payment,digit:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),(v.payment.paymentMethod==="transferencia"||v.payment.paymentMethod==="boleto")&&s.jsx("div",{className:"flex flex-nowrap gap-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 w-full",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do beneficirio"}),s.jsx("input",{type:"text",value:v.payment.cpfCnpj,onChange:k=>A(_=>({..._,payment:{..._.payment,cpfCnpj:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})})]}),n==="occurrence"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Tipo de Ocorrncia"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"single",checked:v.occurrence.type==="single",onChange:k=>A(_=>({..._,occurrence:{..._.occurrence,type:k.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"nica"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"recurring",checked:v.occurrence.type==="recurring",onChange:k=>A(_=>({..._,occurrence:{..._.occurrence,type:k.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Recorrente"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"installments",checked:v.occurrence.type==="installments",onChange:k=>A(_=>({..._,occurrence:{..._.occurrence,type:k.target.value}})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Parcelado"})]})]})]}),v.occurrence.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia"}),s.jsxs("select",{value:v.occurrence.frequency,onChange:k=>A(_=>({..._,occurrence:{..._.occurrence,frequency:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:v.occurrence.type==="recurring",children:[s.jsx("option",{value:"",children:"Selecione a frequncia"}),s.jsx("option",{value:"monthly",children:"Mensal"}),s.jsx("option",{value:"biweekly",children:"Quinzenal"}),s.jsx("option",{value:"bimonthly",children:"Bimestral"}),s.jsx("option",{value:"quarterly",children:"Trimestral"}),s.jsx("option",{value:"yearly",children:"Anual"})]})]}),v.occurrence.type==="installments"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"2",value:v.occurrence.installments,onChange:k=>A(_=>({..._,occurrence:{..._.occurrence,installments:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:v.occurrence.type==="installments"})]}),v.occurrence.type==="recurring"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:v.occurrence.endDate,onChange:k=>A(_=>({..._,occurrence:{..._.occurrence,endDate:k.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:v.occurrence.type!=="single"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Pagamento"})]})]})]})}):null}const D5="http://localhost:3001";async function wB(t,e){if(!localStorage.getItem("userId"))throw new Error("User is not authenticated.");try{await Vt.post(`${D5}/cnab/gerar-cnab`,{headerInfo:t,detalhes:e},{headers:{"Content-Type":"application/json"}}).then(n=>{const a=document.createElement("a");a.href=`${D5}${n.data.downloadUrl}`,a.setAttribute("download","cnab400_bb_exemplo.rem"),a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a)})}catch(n){throw console.error("Error fetching receivables:",n),n}}function kB({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState(!1),[o,i]=D.useState(null),[c,l]=D.useState([]),[d,u]=D.useState(""),[h,y]=D.useState([]),[m,w]=D.useState([]),[v,A]=D.useState("240");D.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{const{error:I}=await De.auth.getSession();if(I)throw I;const[k,_]=await Promise.all([De.from("bank_accounts").select("*").eq("active",!0).order("name"),De.from("payments").select("*").eq("status","SCHEDULED").order("due_date")]);if(k.error)throw k.error;if(_.error)throw _.error;l(k.data||[]),y(_.data||[])}catch(I){console.error("Error loading data:",I),i("Erro ao carregar dados")}},S=I=>{u(I),w([])},R=I=>{w(k=>k.includes(I)?k.filter(_=>_!==I):[...k,I])},W=()=>{m.length===h.length?w([]):w(h.map(I=>I.id))},z=async()=>{const I=new Date,k=String(I.getDate()).padStart(2,"0"),_=String(I.getMonth()+1).padStart(2,"0"),x=String(I.getFullYear()).slice(-2),j=c.find(q=>q.id===d),P={convenio:j==null?void 0:j.branch,conta:j==null?void 0:j.account,nomeEmpresa:j==null?void 0:j.name,dataGeracao:`${k}${_}${x}`,sequencialArquivo:"000001"},U=h.filter(q=>m.includes(q.id));wB(P,U)},B=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),g=I=>new Date(I).toLocaleDateString("pt-BR");return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Gerar Remessa CNAB"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:d,onChange:I=>S(I.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),c.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.bank," ",I.branch,"/",I.account]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de CNAB"}),s.jsxs("select",{value:v,onChange:I=>A(I.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"240",children:"CNAB 240"}),s.jsx("option",{value:"400",children:"CNAB 400"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Pagamentos Disponveis"}),s.jsx("button",{type:"button",onClick:W,className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:m.length===h.length?"Desmarcar Todos":"Selecionar Todos"})]}),s.jsx("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"w-16 px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:m.length===h.length,onChange:W,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:h.map(I=>s.jsxs("tr",{className:`${m.includes(I.id)?"bg-primary-50 dark:bg-primary-900/10":"hover:bg-secondary-50 dark:hover:bg-secondary-800"} transition-colors`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:m.includes(I.id),onChange:()=>R(I.id),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:I.supplier_name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:g(I.due_date)}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-right text-secondary-900 dark:text-white",children:B(I.value)})]},I.id))})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:z,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||!d||m.length===0,children:n?"Gerando...":"Gerar CNAB"})]})]})]})}):null}const I5=()=>{const t=new Date,e=t.getDate(),r=t.getMonth()+1,n=t.getFullYear();return`${e}${r.toString().padStart(2,"0")}${n}`};function jB({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState(!1),[o,i]=D.useState(null),[c,l]=D.useState([]),[d,u]=D.useState([]),[h,y]=D.useState([]),[m,w]=D.useState({dateRange:{start:"",end:""},paymentType:"",supplier:"",minValue:"",maxValue:"",bankAccountId:""}),[v,A]=D.useState(""),b=R0.getUserId();D.useEffect(()=>{t&&S()},[t]);const S=async()=>{try{const[x]=await Promise.all([De.from("bank_accounts").select("*").eq("active",!0).order("name")]),j=await T3();if(x.error)throw x.error;l(j),y(x.data||[])}catch(x){console.error("Error loading data:",x),i("Erro ao carregar dados")}};function R(x){if(typeof x!="string"||(x=x.replace(/[\s.-]*/gim,""),!x||x.length!==11||x==="00000000000"||x==="11111111111"||x==="22222222222"||x==="33333333333"||x==="44444444444"||x==="55555555555"||x==="66666666666"||x==="77777777777"||x==="88888888888"||x==="99999999999"))return!1;let j=0,P;for(let E=1;E<=9;E++)j+=parseInt(x.substring(E-1,E))*(11-E);if(P=j*10%11,(P===10||P===11)&&(P=0),P!==parseInt(x.substring(9,10)))return!1;j=0;for(let E=1;E<=10;E++)j+=parseInt(x.substring(E-1,E))*(12-E);return P=j*10%11,(P===10||P===11)&&(P=0),P===parseInt(x.substring(10,11))}function W(x){if(typeof x!="string"||(x=x.replace(/[\s.-]*/gim,""),!x||x.length!==14||x==="00000000000000"||x==="11111111111111"||x==="22222222222222"||x==="33333333333333"||x==="44444444444444"||x==="55555555555555"||x==="66666666666666"||x==="77777777777777"||x==="88888888888888"||x==="99999999999999"))return!1;let j=x.length-2,P=x.substring(0,j),E=x.substring(j),U=0,q=j-7;for(let V=j;V>=1;V--)U+=parseInt(P.charAt(j-V))*q--,q<2&&(q=9);let G=U%11<2?0:11-U%11;if(G!==parseInt(E.charAt(0)))return!1;j=j+1,P=x.substring(0,j),U=0,q=j-7;for(let V=j;V>=1;V--)U+=parseInt(P.charAt(j-V))*q--,q<2&&(q=9);return G=U%11<2?0:11-U%11,G===parseInt(E.charAt(1))}function z(x){const j=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,P=x.replace(/[^0-9]/g,"");return R(P)||W(P)?3:j.test(x)?2:P.length===10||P.length===11?1:4}const B=async()=>{const{data:x,error:j}=await De.from("settings").select("num_req").single();if(j)throw j;const P=x.num_req,{data:E,error:U}=await De.from("settings").update({num_req:P+1}).eq("id",1);if(U)throw U;return P},g=async()=>{const x=[];if(d.length===0){i("Selecione pelo menos um pagamento");return}if(!v||v.length!==6){i("Por favor, insira um cdigo de autenticao vlido");return}try{a(!0),i(null);const j=await Nl.checkGoogleAuth({userId:b||"",google_auth_code:v});if(j.error){i(j.message);return}const P=d.reduce((E,U)=>{const q=c.find(V=>V.id===U);if(!q)return E;const G=q.bankAccountId;return E[G]||(E[G]=[]),E[G].push(q),E},{});for(const[E,U]of Object.entries(P)){const q=h.find(V=>V.id===E);if(!q)continue;const G=U.reduce((V,ee)=>(V[ee.paymentMethod]||(V[ee.paymentMethod]=[]),V[ee.paymentMethod].push(ee),V),{});if(G.pix){const ee={numeroRequisicao:await B(),agenciaDebito:q.branch,contaCorrenteDebito:q.account,digitoVerificadorContaCorrente:q.digit||"X",tipoPagamento:"126",listaTransferencias:G.pix.map(Z=>({data:new Date().toISOString().split("T")[0].split("-").reverse().join(""),valor:Number(Z.value),descricaoPagamento:Z.description,descricaoPagamentoInstantaneo:Z.description,formaIdentificacao:z(Z.pixKey),...z(Z.pixKey)===1&&{dddTelefone:Z.pixKey.substring(0,2),telefone:Z.pixKey.substring(2)},...z(Z.pixKey)===2&&{email:Z.pixKey},...z(Z.pixKey)===3&&{cpf:Z.pixKey},...Number(Z.pixPaymentMethod)===4&&{identificacaoAleatoria:Z.pixKey},paymentId:Z.id,userId:b,sourceAccountId:E}))},le=await F3(ee);if(le.error){const Z=le.data.map(M=>M.codigo+" - "+M.mensagem).join(`
`);x.push(Z)}}if(G.boleto){const ee={numeroRequisicao:await B(),codigoContrato:q.agreementCode,numeroAgenciaDebito:q.branch,numeroContaCorrenteDebito:q.account,digitoVerificadorContaCorrenteDebito:q.digit||"X",lancamentos:G.boleto.map(Z=>({numeroCodigoBarras:Z.barcode.replace(/[^0-9]/g,""),dataPagamento:I5(),valorPagamento:parseFloat(Z.value.toFixed(2)),descricaoPagamento:Z.description,valorNominal:parseFloat(Z.value.toFixed(2)),codigoTipoBeneficiario:vd(Z==null?void 0:Z.cpfCnpj)?2:1,documentoBeneficiario:Z!=null&&Z.cpfCnpj?Z.cpfCnpj.replace(/\D/g,""):"",paymentId:Z.id,userId:b,sourceAccountId:E}))},le=await M3(ee);if(le.error){const Z=le.data.map(M=>M.codigo+" - "+M.mensagem).join(`
`);x.push(Z)}}if(G.transferencia){const ee={numeroRequisicao:await B(),agenciaDebito:q.branch,contaCorrenteDebito:q.account,digitoVerificadorContaCorrente:q.digit||"X",tipoPagamento:128,listaTransferencias:G.transferencia.map(Z=>({agenciaCredito:Z.recipientBranch||Z.branch,contaCorrenteCredito:Z.recipientAccount||Z.account,digitoVerificadorContaCorrente:Z.recipientDigit||Z.digit||"0",dataTransferencia:I5(),numeroCOMPE:Z.recipientBankCode||Z.bankCode,codigoFinalidadeTED:1,valorTransferencia:parseFloat(Z.value.toFixed(2)),...vd(Z==null?void 0:Z.cpfCnpj)&&{cnpjBeneficiario:Z.cpfCnpj?Z.cpfCnpj.replace(/\D/g,""):""},...!vd(Z==null?void 0:Z.cpfCnpj)&&{cpfBeneficiario:Z.cpfCnpj?Z.cpfCnpj.replace(/\D/g,""):""},paymentId:Z.id,userId:b,sourceAccountId:E}))},le=await B3(ee);if(le.error){const Z=le.data.map(M=>M.codigo+" - "+M.mensagem).join(`
`);x.push(Z)}}}if(x.length>0){i(x.join(`
`));return}else await De.from("payments").update({bb_payment_status:"COMPLETED",status:"PAID",updated_at:new Date().toISOString()}).in("id",d),r(),e()}catch(j){console.error("Erro ao processar pagamentos:",j),i(j instanceof Error?j.message:"Erro ao processar pagamentos")}finally{a(!1)}},I=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),k=x=>new Date(x).toLocaleDateString("pt-BR"),_=c.filter(x=>{var V,ee,le;const j=(!m.dateRange.start||new Date(x.dueDate)>=new Date(m.dateRange.start))&&(!m.dateRange.end||new Date(x.dueDate)<=new Date(m.dateRange.end)),P=!m.paymentType||((V=x.paymentMethod)==null?void 0:V.toUpperCase())===((ee=m.paymentType)==null?void 0:ee.toUpperCase()),E=!m.supplier||((le=x==null?void 0:x.supplier)==null?void 0:le.name.toLowerCase().includes(m.supplier.toLowerCase())),U=(!m.minValue||x.value>=parseFloat(m.minValue))&&(!m.maxValue||x.value<=parseFloat(m.maxValue)),q=!m.bankAccountId||x.bankAccountId===m.bankAccountId,G=x.status!=="PAID";return j&&P&&E&&U&&q&&G});return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Gerar Pagamento via API"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsx("div",{className:"space-y-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-1 sm:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Perodo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:m.dateRange.start,onChange:x=>w(j=>({...j,dateRange:{...j.dateRange,start:x.target.value}})),className:"flex-1 px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 self-center",children:"at"}),s.jsx("input",{type:"date",value:m.dateRange.end,onChange:x=>w(j=>({...j,dateRange:{...j.dateRange,end:x.target.value}})),className:"flex-1 px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:m.paymentType,onChange:x=>w(j=>({...j,paymentType:x.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todas"}),s.jsx("option",{value:"PIX",children:"PIX"}),s.jsx("option",{value:"TED",children:"TED"}),s.jsx("option",{value:"DOC",children:"DOC"}),s.jsx("option",{value:"BOLETO",children:"Boleto"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:m.bankAccountId,onChange:x=>w(j=>({...j,bankAccountId:x.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todas"}),h.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Fornecedor"}),s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-secondary-400"}),s.jsx("input",{type:"text",value:m.supplier,onChange:x=>w(j=>({...j,supplier:x.target.value})),placeholder:"Buscar fornecedor...",className:"w-full pl-9 pr-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:m.minValue,onChange:x=>w(j=>({...j,minValue:x.target.value})),placeholder:"R$ 0,00",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:m.maxValue,onChange:x=>w(j=>({...j,maxValue:x.target.value})),placeholder:"R$ 0,00",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})]})}),s.jsx("div",{className:"border border-secondary-200 dark:border-secondary-700 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left",children:s.jsx("input",{type:"checkbox",checked:d.length===_.length,onChange:()=>{d.length===_.length?u([]):u(_.map(x=>x.id))},className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Fornecedor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:_.map(x=>{var j;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:d.includes(x.id),onChange:()=>{u(P=>P.includes(x.id)?P.filter(E=>E!==x.id):[...P,x.id])},className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:k(x.dueDate)}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:x.supplier.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:x.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:((j=x.paymentMethod)==null?void 0:j.toUpperCase())||"TED"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:x.account}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right text-secondary-900 dark:text-white",children:I(x.value)})]},x.id)})})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1 mt-4",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:v,onChange:x=>A(x.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:x=>{x.key==="Enter"&&g()},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500",maxLength:6})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:g,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||d.length===0,children:n?"Processando...":"Confirmar Pagamento"})]})]})]})}):null}function NB(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(!1),[i,c]=D.useState(!1),[l,d]=D.useState(""),[u,h]=D.useState([]),[y,m]=D.useState(!0),[w,v]=D.useState(null),[A,b]=D.useState({dateRange:{start:"",end:""},status:["SCHEDULED","PENDING"],cnpjId:"",bankAccountId:""}),[S,R]=D.useState(null),[W,z]=D.useState([]),[B,g]=D.useState(1),I=10,k=[{key:"today",label:"Hoje"},{key:"week",label:"Essa semana"},{key:"2weeks",label:"15 dias"},{key:"month",label:"Esse ms"}];D.useEffect(()=>{x()},[A]),D.useEffect(()=>{(async()=>{try{const xe=await kF();z(xe)}catch(xe){console.error("Erro ao carregar contas bancrias:",xe)}})()},[]);const _=()=>{d("")},x=async()=>{try{m(!0);const ie=await T3();h(ie),v(null)}catch(ie){console.error("Erro ao carregar pagamentos:",ie),v("Erro ao carregar pagamentos")}finally{m(!1)}},j=async ie=>{try{await yF(ie),await x(),v(null)}catch(xe){console.error("Erro ao executar pagamento:",xe),v("Erro ao executar pagamento")}},P=ie=>{const xe=new Date(ie);return new Date(xe.getUTCFullYear(),xe.getUTCMonth(),xe.getUTCDate())},E=ie=>{g(1),R(ie);const xe=new Date;let we=new Date(xe.setHours(0,0,0,0)).toISOString(),me=new Date(xe.setHours(0,0,0,0)).toISOString();ie==="week"&&(we=new Date,me=new Date,we.setDate(we.getDate()-we.getDay()),me.setDate(we.getDate()+6)),ie==="2weeks"&&(we=new Date,me=new Date,we.getDate()<=15?(we.setDate(1),me.setDate(15)):(we.setDate(16),me.setMonth(we.getMonth()+1),me.setDate(0))),ie==="month"&&(we=new Date,me=new Date,we.setDate(1),me.setMonth(we.getMonth()+1),me.setDate(0)),b(Pe=>({...Pe,dateRange:{start:we,end:me}}))},U=ie=>{d(ie.target.value),g(1)},q=u.filter(ie=>{const xe=l.toLowerCase(),we=ie.supplier.name.toLowerCase().includes(xe)||ie.description.toLowerCase().includes(xe),me=(!A.dateRange.start||P(ie.dueDate)>=P(A.dateRange.start))&&(!A.dateRange.end||P(ie.dueDate)<=P(A.dateRange.end)),Pe=!A.cnpjId||ie.cnpjId===A.cnpjId,qe=!A.status.length||A.status.includes(ie.status),Je=!A.bankAccountId||ie.bankAccountId===A.bankAccountId;return we&&me&&Pe&&qe&&Je}),G=q.slice((B-1)*I,B*I),V=Math.ceil(q.length/I),ee=ie=>{g(ie)},le=()=>{const ie=(B-1)*I+1,xe=Math.min(B*I,q.length),we=q.length;return s.jsxs("div",{className:"flex justify-between items-center gap-2 py-4 px-4",children:[s.jsxs("div",{className:"text-secondary-700 dark:text-secondary-300",children:["Mostrando ",ie," at ",xe," de ",we," registros"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>ee(B-1),disabled:B===1,className:"px-3 py-1 rounded-lg bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 disabled:opacity-50",children:"Anterior"}),s.jsxs("span",{className:"text-secondary-700 dark:text-secondary-300",children:["Pgina ",B," de ",V]}),s.jsx("button",{onClick:()=>ee(B+1),disabled:B===V,className:"px-3 py-1 rounded-lg bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 disabled:opacity-50",children:"Prxima"})]})]})},Z={total:q.reduce((ie,xe)=>ie+xe.value,0),pending:q.filter(ie=>ie.status==="PENDING").length,scheduled:q.filter(ie=>ie.status==="SCHEDULED").length,paid:q.filter(ie=>ie.status==="PAID").length},M=ie=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ie),J=()=>{b(ie=>({...ie,status:["PENDING"]})),g(1)},te=()=>{b(ie=>({...ie,status:["SCHEDULED"]})),g(1)},de=()=>{b(ie=>({...ie,status:["PAID"]})),g(1)};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>v(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Central de Pagamentos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie e execute os pagamentos do sistema"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(Iv,{className:"h-5 w-5"}),s.jsx("span",{children:"Pagar via API"})]}),s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(y4,{className:"h-5 w-5"}),s.jsx("span",{children:"Gerar CNAB"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Pagamento"})]})]})]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:[k.map(ie=>s.jsx("button",{onClick:()=>E(ie.key),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${S===ie.key?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:ie.label},ie.key)),s.jsxs("select",{value:A.bankAccountId,onChange:ie=>b(xe=>({...xe,bankAccountId:ie.target.value})),className:"flex-shrink-0 px-4 py-2 rounded-lg transition-colors bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("option",{value:"",children:"Todas as contas"}),W.map(ie=>s.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total a Pagar"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:M(Z.total)})]}),s.jsxs("div",{onClick:J,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Atrasados"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:Z.pending})]}),s.jsxs("div",{onClick:te,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:" vencer"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-blue-600 dark:text-blue-400",children:Z.scheduled})]}),s.jsxs("div",{onClick:de,className:"cursor-pointer bg-white hover:bg-gray-200 dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Pagos"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:Z.paid})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por beneficirio ou descrio...",value:l,onChange:U,className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(vc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),y?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs(s.Fragment,{children:[s.jsx(xB,{payments:G,onExecute:j,loadPayments:x}),s.jsx(le,{})]})]}),s.jsx(uw,{children:s.jsx(vB,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),x()}})}),s.jsx(kB,{isOpen:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),x()}}),s.jsx(jB,{isOpen:a,onClose:()=>o(!1),onSuccess:()=>{o(!1),x()}}),s.jsx(bB,{isOpen:i,onClose:()=>c(!1),filters:A,onApplyFilters:b,clearSearchTerm:_})]})}const du="http://localhost:3001";async function SB(){if(!localStorage.getItem("userId"))throw new Error("User is not authenticated.");try{return(await Vt.get(`${du}/receivable`,{headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Error fetching receivables:",e),e}}async function CB(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/request/approve`,{receivableRequestId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error approving receivable request:",r),r}}async function _B(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/request/reject`,{receivableRequestId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error rejecting receivable request:",r),r}}async function EB(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/reverse`,{receivableId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error reversing receivable:",r),r}}async function AB(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/cancel`,{receivableId:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error canceling receivable:",r),r}}async function PB(t){const e=localStorage.getItem("userId");if(!e)throw new Error("User is not authenticated.");try{return(await Vt.post(`${du}/receivable/create`,{rec:t,userId:e},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating receivable:",r),r}}function LB({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState("general"),[o,i]=D.useState(!1),[c,l]=D.useState(null),[d,u]=D.useState([]),[h,y]=D.useState([]),[m,w]=D.useState([]),[v,A]=D.useState([]),[b,S]=D.useState({general:{customerName:"",customerDocument:"",description:"",paymentDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}});D.useEffect(()=>{t&&R()},[t]);const R=async()=>{try{const[I,k,_,x]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0),De.from("payment_methods").select("*").eq("active",!0)]);if(I.error)throw I.error;if(k.error)throw k.error;if(_.error)throw _.error;if(x.error)throw x.error;u(I.data||[]),y(k.data||[]),w(_.data||[]),A(x.data||[])}catch(I){console.error("Error loading data:",I),l("Erro ao carregar dados")}},W=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I),z=I=>{let k=I.target.value.replace(/\D/g,"");k===""&&(k="0");const _=parseInt(k)/100;S(x=>({...x,financial:{...x.financial,value:_.toString()}}))},B=I=>{const k=I.replace(/\D/g,"");return k.length<=11?k.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):k.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},g=async I=>{var k;I.preventDefault(),i(!0),l(null);try{if(b.general.customerName===""){l("Nome do cliente  obrigatrio"),i(!1);return}if(b.general.customerDocument===""){l("CPF/CNPJ  obrigatrio"),i(!1);return}if(b.general.paymentDate===""){l("Data de pagamento  obrigatria"),i(!1);return}if(b.general.competenceDate===""){l("Data de competncia  obrigatria"),i(!1);return}if(b.financial.value===""||parseFloat(b.financial.value)<=0){l("Valor do recebimento deve ser maior que 0"),i(!1);return}await PB({customer_name:b.general.customerName,customer_document:b.general.customerDocument.replace(/\D/g,""),notes:b.general.description,payment_date:b.general.paymentDate,competence:b.general.competenceDate,value:parseFloat(b.financial.value),payment_method_id:b.financial.paymentMethodId,bank_account_id:b.financial.bankAccountId,cnpj_id:b.financial.cnpjId,category_id:b.financial.categoryId,installments:parseInt(b.financial.installments),status:"PENDING",created_by_id:(k=(await De.auth.getUser()).data.user)==null?void 0:k.id}),S({general:{customerName:"",customerDocument:"",description:"",paymentDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}}),r(),e()}catch(_){console.error("Error creating receivable:",_),l("Erro ao criar recebimento")}finally{i(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Recebimento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("financial"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="financial"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Detalhes Financeiros"})]})}),s.jsxs("form",{onSubmit:g,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:b.general.customerName,onChange:I=>S(k=>({...k,general:{...k.general,customerName:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ"}),s.jsx("input",{type:"text",value:b.general.customerDocument,onChange:I=>S(k=>({...k,general:{...k.general,customerDocument:B(I.target.value)}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:b.general.description,onChange:I=>S(k=>({...k,general:{...k.general,description:I.target.value}})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{type:"date",value:b.general.paymentDate,onChange:I=>S(k=>({...k,general:{...k.general,paymentDate:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Competncia"}),s.jsx("input",{type:"date",value:b.general.competenceDate,onChange:I=>S(k=>({...k,general:{...k.general,competenceDate:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),n==="financial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Recebimento"}),s.jsx("input",{type:"text",value:W(b.financial.value),onChange:z,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:b.financial.paymentMethodId,onChange:I=>{const k=v.find(_=>_.id===I.target.value);S(_=>({..._,financial:{..._.financial,bankAccountId:(k==null?void 0:k.defaultBankAccountId)||""}})),S(_=>({..._,financial:{..._.financial,paymentMethodId:I.target.value}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),v.map(I=>s.jsx("option",{value:I.id,children:I.description},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"1",value:b.financial.installments,onChange:I=>S(k=>({...k,financial:{...k.financial,installments:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:b.financial.bankAccountId,onChange:I=>S(k=>({...k,financial:{...k.financial,bankAccountId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),m.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.bank," ",I.branch,"/",I.account]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:b.financial.cnpjId,onChange:I=>S(k=>({...k,financial:{...k.financial,cnpjId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),d.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.cnpj]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:b.financial.categoryId,onChange:I=>S(k=>({...k,financial:{...k.financial,categoryId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),h.filter(I=>I.type==="REVENUE"||I.type==="BOTH").map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Recebimento"})]})]})]})}):null}function DB({isOpen:t,onClose:e,receivable:r,loadRequests:n}){var le,Z;const[a,o]=D.useState(!1),[i,c]=D.useState(null),[l,d]=D.useState(""),[u,h]=D.useState(!1),[y,m]=D.useState(!1),[w,v]=D.useState(null),[A,b]=D.useState(null);D.useRef(null),D.useRef(null);const[S,R]=D.useState({orderNumber:"",customerName:"",customerDocument:"",notes:"",value:0,receivableRequestId:"",paymentMethodId:"",attachment:null,cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentDate:new Date().toISOString().split("T")[0]}),[W,z]=D.useState([]),[B,g]=D.useState([]),[I,k]=D.useState([]),[_,x]=D.useState([]);D.useEffect(()=>{t&&(q(),r&&(console.log(r),R(M=>{var J;return{...M,orderNumber:r.order_number||"",customerName:r.customer_name||"",customerDocument:r.customer_document||"",notes:r.notes||"",value:r.value||0,receivableRequestId:r.id,paymentMethodId:r.payment_method_id||"",attachment:((J=r==null?void 0:r.attachment)==null?void 0:J.attachment_url)||null,cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentDate:r.payment_date?new Date(r.payment_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}})))},[t,r]);const j=async()=>{h(!0),b(r)},P=async()=>{m(!0),v(r)},E=M=>M?new Date(M).toLocaleDateString("pt-BR"):"-",U=M=>{let J=M.target.value.replace(/\D/g,"");J===""&&(J="0");const te=parseInt(J)/100;R(de=>({...de,value:te.toString()}))},q=async()=>{var M;try{const[J,te,de,ie]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0).eq("type","REVENUE"),De.from("bank_accounts").select("*").eq("active",!0),De.from("payment_methods").select("*").eq("active",!0)]);if(J.error)throw J.error;if(te.error)throw te.error;if(de.error)throw de.error;if(ie.error)throw ie.error;z(J.data||[]),g(te.data||[]),k(de.data||[]),x(ie.data||[]),d(((M=r==null?void 0:r.attachment)==null?void 0:M.attachment_url)||"")}catch(J){console.error("Error loading data:",J),c("Erro ao carregar dados")}},G=async()=>{if(r)try{o(!0),c(null),await EB(r.id),await n(),e()}catch(M){console.error("Error reversing receivable:",M),c("Erro ao rejeitar solicitao")}finally{o(!1)}},V=async()=>{if(r)try{o(!0),c(null),await AB(r.id),await n(),e()}catch(M){console.error("Error canceling receivable:",M),c("Erro ao cancelar solicitao")}finally{o(!1)}},ee=M=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M);return!t||!r?null:s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao"," ",r.request_number?"#"+r.request_number:""]}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{disabled:!0,type:"text",value:S.orderNumber,onChange:M=>R(J=>({...J,orderNumber:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{disabled:!0,type:"text",value:S.customerName,onChange:M=>R(J=>({...J,customerName:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do Cliente"}),s.jsx("input",{disabled:!0,type:"text",value:S.customerDocument,onChange:M=>R(J=>({...J,customerDocument:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{disabled:!0,value:S.notes,onChange:M=>R(J=>({...J,notes:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Descreva o motivo do pagamento",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[S.notes.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{disabled:!0,type:"text",value:ee(S.value),onChange:U,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{disabled:!0,type:"date",value:S.paymentDate,onChange:M=>R(J=>({...J,paymentDate:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:(le=r==null?void 0:r.attachment)!=null&&le.attachment_url?s.jsx("a",{href:(Z=r==null?void 0:r.attachment)==null?void 0:Z.attachment_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{disabled:!0,value:S.cnpjId,onChange:M=>R(J=>({...J,cnpjId:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),W.map(M=>s.jsxs("option",{value:M.id,children:[M.name," - ",M.cnpj]},M.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Receita *"}),s.jsxs("select",{disabled:!0,value:S.categoryId,onChange:M=>R(J=>({...J,categoryId:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),B.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{disabled:!0,type:"date",value:S.competence,onChange:M=>R(J=>({...J,competence:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{disabled:!0,value:S.paymentMethodId,onChange:M=>{const J=_.find(te=>te.id===M.target.value);R(te=>({...te,bankAccountId:J.defaultBankAccountId||""})),R(te=>({...te,paymentMethodId:M.target.value}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),_.map(M=>s.jsx("option",{value:M.id,children:M.description},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{disabled:!0,value:S.bankAccountId,onChange:M=>R(J=>({...J,bankAccountId:M.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),I.map(M=>s.jsxs("option",{value:M.id,children:[M.name," - ",M.bank," ",M.branch,"/",M.account]},M.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:()=>{e()},disabled:a,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Fechar"}),(r==null?void 0:r.status)==="PENDING"&&s.jsx("button",{type:"button",onClick:P,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Cancelar Lanamento"}),(r==null?void 0:r.status)==="RECEIVED"&&s.jsx("button",{type:"button",onClick:j,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Estornar"})]})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Estorno"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja estornar o valor de R$ ${A.value} para ${A==null?void 0:A.customerName} com vencimento ${E(A==null?void 0:A.paymentDate)}? Esta ao no pode ser desfeita.`}),i&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:i}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{h(!1),b(null),c(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:G,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Estornar"})]})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Cancelamento"}),s.jsx("p",{className:"text-md text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja cancelar o valor de R$ ${w.value} para ${w==null?void 0:w.customerName} com vencimento ${E(w==null?void 0:w.paymentDate)}? Esta ao no pode ser desfeita.`}),i&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:i}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{m(!1),v(null),c(null)},className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:V,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Cancelar"})]})]})})]})}const IB=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),RB=t=>IB.format(t),TB=t=>new Date(t).toISOString().split("T")[0].split("-").reverse().join("/"),OB=t=>{const e=t.replace(/\D/g,"");return e.length===11?e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):e.length===14?e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):t},MB=t=>{switch(t.status){case"RECEIVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Recebido"});case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:" Receber"});case"REVERSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 dark:bg-secondary-900/20 dark:text-secondary-400",children:"Estornado"});case"CANCELED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800 dark:bg-secondary-900/20 dark:text-secondary-400",children:"Cancelado"});default:return null}},rC=D.memo(({receivable:t,onSelect:e})=>{var r;return s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:TB(t.paymentDate)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:t.customerName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:OB(t.customerDocument)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:RB(t.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:(r=t==null?void 0:t.paymentMethod)==null?void 0:r.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:MB(t)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{type:"button",onClick:()=>e(t),className:"px-4 py-2 bg-gray-500 dark:bg-gray-800 hover:bg-gray-400 dark:hover:bg-secondary-700 text-white dark:text-white rounded-lg transition-colors w-[90px]",children:"Ver"})})]})});rC.displayName="ReceivableRow";function FB({receivables:t,loadRequests:e}){const[r,n]=D.useState(null),a=D.useCallback(i=>{n(i)},[]),o=D.useMemo(()=>t.map(i=>s.jsx(rC,{receivable:i,onSelect:a},i.id)),[t,a]);return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Tf,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum recebimento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h recebimentos que correspondam aos filtros selecionados."})]}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:o})]}),s.jsx(DB,{isOpen:!!r,onClose:()=>n(null),receivable:r,loadRequests:e})]})}function BB({isOpen:t,onClose:e,filters:r,onApplyFilters:n,clearSearchTerm:a}){const[o,i]=$r.useState(r),c=()=>{n(o),e()},l=()=>{const d={dateRange:{start:"",end:""},customer:"",minValue:"",maxValue:"",cnpjId:"",bankAccountId:"",paymentMethodId:"",status:""};a(),i(d),n(d),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:o.dateRange.start,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,start:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:o.dateRange.end,onChange:d=>i(u=>({...u,dateRange:{...u.dateRange,end:d.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cliente"}),s.jsx("input",{type:"text",value:o.customer,onChange:d=>i(u=>({...u,customer:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Nome, CPF ou CNPJ"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:o.status,onChange:d=>i(u=>({...u,status:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:" Receber"}),s.jsx("option",{value:"RECEIVED",children:"Recebidos"}),s.jsx("option",{value:"REVERSED",children:"Estornados"}),s.jsx("option",{value:"CANCELED",children:"Cancelados"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:o.minValue,onChange:d=>i(u=>({...u,minValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:o.maxValue,onChange:d=>i(u=>({...u,maxValue:d.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:l,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function $B(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState([]),[l,d]=D.useState(!1),[u,h]=D.useState(null),[y,m]=D.useState({dateRange:{start:"",end:""},customer:"",minValue:"",maxValue:"",cnpjId:"",bankAccountId:"",paymentMethodId:"",status:""}),w=async()=>{d(!0),SB().then(_=>{const x=_.receivables.map(j=>({...j,orderNumber:j.order_number||"Pedido no informado",customerName:j.customer_name||"Cliente no informado",customerDocument:j.customer_document||"",paymentDate:new Date(j.payment_date),attachment:j.attachment||null}));c(x),d(!1)}).catch(_=>{h("Erro ao buscar recebimentos. Tente novamente mais tarde."),d(!1)})};D.useEffect(()=>{w()},[]);const v=()=>{o("")},[A,b]=D.useState(null),S=new Date,R=Array.from({length:5},(_,x)=>{const j=new Date;return j.setDate(S.getDate()+x),j}),W=_=>{const x=_.toISOString().split("T")[0];b(x),console.log(x),m(j=>({...j,dateRange:{start:x,end:x}}))},z=()=>{b(null),m(_=>({..._,dateRange:{start:"",end:""}}))},B=i.filter(_=>{const x=a.toLowerCase(),j=_.customerName.toLowerCase().includes(x)||_.customerDocument.includes(a)||_.notes.toLowerCase().includes(x),P=(!y.dateRange.start||new Date(_.paymentDate)>=new Date(y.dateRange.start))&&(!y.dateRange.end||new Date(_.paymentDate)<=new Date(y.dateRange.end)),E=!y.customer||_.customerName.toLowerCase().includes(y.customer.toLowerCase())||_.customerDocument.includes(y.customer),U=(!y.minValue||_.value>=parseFloat(y.minValue))&&(!y.maxValue||_.value<=parseFloat(y.maxValue)),q=!y.cnpjId||_.cnpjId===y.cnpjId,G=!y.bankAccountId||_.bankAccountId===y.bankAccountId,V=!y.paymentMethodId||_.paymentMethodId===y.paymentMethodId,ee=!y.status||_.status===y.status;return j&&P&&E&&U&&q&&G&&V&&ee}),g={total:B.reduce((_,x)=>_+x.value,0),pending:B.filter(_=>_.status==="PENDING").length,received:B.filter(_=>_.status==="RECEIVED").length,canceled:B.filter(_=>_.status==="CANCELED").length},I=_=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_),k=_=>["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"][_.getDay()];return s.jsxs("div",{className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>h(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Central de Recebimentos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os recebimentos do sistema"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Recebimento"})]})]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6",children:[s.jsx("button",{onClick:()=>z(),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${A===null?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:"Todos"}),R.map((_,x)=>s.jsx("button",{onClick:()=>W(_),className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${A===_.toISOString().split("T")[0]?"bg-primary-500 text-white":"bg-white dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700"}`,children:x===0?"Hoje":k(_)},_.toISOString()))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:I(g.total)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Pendentes"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:g.pending})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Recebidos"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:g.received})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Cancelados"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-600 dark:text-red-400",children:g.canceled})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente, CPF/CNPJ ou descrio...",value:a,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(vc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),l?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(FB,{receivables:B,loadRequests:w})]}),s.jsx(LB,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),w()}}),s.jsx(BB,{isOpen:r,onClose:()=>n(!1),filters:y,onApplyFilters:m,clearSearchTerm:v})]})}function qB({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState({orderNumber:"",customerName:"",customerDocument:"",value:"",paymentMethod:"",notes:"",attachment:null}),[o,i]=D.useState(!1),[c,l]=D.useState(null),d=D.useRef(null),u=D.useRef(null),h=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),y=b=>{let S=b.target.value.replace(/\D/g,"");S===""&&(S="0");const R=parseInt(S)/100;a(W=>({...W,value:R.toString()}))},m=b=>{const S=b.replace(/\D/g,"");return S.length<=11?S.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):S.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},w=b=>{const S=b.target.files;if(!S||S.length===0)return;const R=S[0],W=5*1024*1024;if(!["image/jpeg","image/png","application/pdf"].includes(R.type)){l("Tipo de arquivo no suportado. Use apenas imagens (JPG/PNG) ou PDF.");return}if(R.size>W){l("Arquivo muito grande. O tamanho mximo permitido  5MB.");return}a(B=>({...B,attachment:R})),l(null)},v=()=>{u.current&&u.current.click()},A=async b=>{var S;b.preventDefault(),i(!0),l(null);try{const R=parseFloat(n.value);if(isNaN(R)||R<=0)throw new Error("Valor invlido");if(!n.orderNumber)throw new Error("Nmero do Pedido  obrigatrio");if(!n.customerName)throw new Error("Nome do Cliente  obrigatrio");if(!n.customerDocument)throw new Error("CPF/CNPJ  obrigatrio");const W=n.customerDocument.replace(/\D/g,"");if(W.length!==11&&W.length!==14)throw new Error("CPF/CNPJ invlido");if(!n.attachment)throw new Error("Comprovante de pagamento  obrigatrio");let z=null;if(n.attachment){const g=n.attachment.name.split(".").pop(),k=`receivable-approvals/${`${Math.random().toString(36).substring(2)}.${g}`}`,{error:_}=await De.storage.from("attachments").upload(k,n.attachment);if(_)throw _;const{data:{publicUrl:x}}=De.storage.from("attachments").getPublicUrl(k);z=x}const{error:B}=await De.from("receivable_approval_requests").insert([{order_number:n.orderNumber,customer_name:n.customerName,customer_document:W,value:R,payment_method:n.paymentMethod,notes:n.notes||null,attachment_url:z,status:"PENDING",created_by_id:(S=(await De.auth.getUser()).data.user)==null?void 0:S.id}]);if(B)throw B;a({orderNumber:"",customerName:"",customerDocument:"",value:"",paymentMethod:"",notes:"",attachment:null}),r(),e()}catch(R){console.error("Error creating approval request:",R),l(R instanceof Error?R.message:"Erro ao criar solicitao")}finally{i(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Aprovao"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:A,className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:n.orderNumber,onChange:b=>a(S=>({...S,orderNumber:b.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:n.customerName,onChange:b=>a(S=>({...S,customerName:b.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ"}),s.jsx("input",{type:"text",value:n.customerDocument,onChange:b=>a(S=>({...S,customerDocument:m(b.target.value)})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:h(n.value),onChange:y,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:n.notes,onChange:b=>a(S=>({...S,notes:b.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre a solicitao..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Comprovante de Pagamento"}),n.attachment&&s.jsxs("div",{className:"mb-4 relative inline-block",children:[n.attachment.type.startsWith("image/")?s.jsx("img",{src:URL.createObjectURL(n.attachment),alt:"Preview",className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:n.attachment.name})}),s.jsx("button",{type:"button",onClick:()=>a(b=>({...b,attachment:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Wt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{var b;return(b=d.current)==null?void 0:b.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(wi,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]}),s.jsxs("button",{type:"button",onClick:v,className:"flex items-center justify-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:[s.jsx(g4,{className:"h-5 w-5 mr-2"}),"Capturar Imagem"]})]}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG e PNG. Tamanho mximo: 5MB."}),s.jsx("input",{ref:d,type:"file",onChange:w,className:"hidden",accept:".pdf,.jpg,.jpeg,.png"}),s.jsx("input",{ref:u,type:"file",onChange:w,className:"hidden",accept:"image/*",capture:"environment"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Criar Solicitao"})]})]})]})}):null}function UB({isOpen:t,onClose:e,request:r,loadRequests:n}){const[a,o]=D.useState(!1),[i,c]=D.useState(null),[l,d]=D.useState(""),u=D.useRef(null),h=D.useRef(null),[y,m]=D.useState({orderNumber:"",customerName:"",customerDocument:"",notes:"",value:0,receivableRequestId:"",paymentMethodId:"",attachment:null,cnpjId:"",categoryId:"",competence:"",bankAccountId:"",paymentDate:new Date().toISOString().split("T")[0]}),[w,v]=D.useState([]),[A,b]=D.useState([]),[S,R]=D.useState([]),[W,z]=D.useState([]),[B,g]=D.useState("solicitacao");D.useEffect(()=>{t&&(k(),r&&m(G=>({...G,orderNumber:r.order_number||"",customerName:r.customer_name||"",customerDocument:r.customer_document||"",notes:r.notes||"",value:r.value||0,receivableRequestId:r.id,paymentMethodId:r.payment_method_id||"",attachment:r.attachment_url||null,cnpjId:r.cnpj_id||"",categoryId:r.category_id||"",competence:r.competence||"",bankAccountId:r.bank_account_id||"",paymentDate:r.payment_date?new Date(r.payment_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]})))},[t,r]);const I=G=>{let V=G.target.value.replace(/\D/g,"");V===""&&(V="0");const ee=parseInt(V)/100;m(le=>({...le,value:ee.toString()}))},k=async()=>{try{const[G,V,ee,le]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0).eq("type","REVENUE"),De.from("bank_accounts").select("*").eq("active",!0),De.from("payment_methods").select("*").eq("active",!0)]);if(G.error)throw G.error;if(V.error)throw V.error;if(ee.error)throw ee.error;if(le.error)throw le.error;v(G.data||[]),b(V.data||[]),R(ee.data||[]),z(le.data||[]),d((r==null?void 0:r.attachment_url)||"")}catch(G){console.error("Error loading data:",G),c("Erro ao carregar dados")}},_=async()=>{if(r)try{o(!0),c(null);const G=y.attachment;if((!G||!(G instanceof File))&&!y.attachment){c("Anexo  obrigatrio");return}let V="";if(G&&G instanceof File){const Z=G.name.split(".").pop(),J=`receivable-requests/${`${Math.random().toString(36).substring(2)}.${Z}`}`,{error:te}=await De.storage.from("attachments").upload(J,G);if(te)throw te;const{data:{url:de}}=De.storage.from("attachments").getPublicUrl(J);V=de}if(!y.cnpjId){c("CNPJ  obrigatrio");return}if(!y.categoryId){c("Categoria  obrigatria");return}if(!y.bankAccountId){c("Conta bancria  obrigatria");return}if(!y.competence){c("Competncia  obrigatria");return}if(!y.paymentMethodId){c("Forma de pagamento  obrigatria");return}if(!y.value){c("Valor  obrigatrio");return}if(!y.customerName){c("Nome do cliente  obrigatrio");return}if(!y.customerDocument){c("CPF/CNPJ do cliente  obrigatrio");return}if(y.customerDocument.length===11){if(!U(y.customerDocument)){c("CPF invlido");return}}else if(y.customerDocument.length===14){if(!q(y.customerDocument)){c("CNPJ invlido");return}}else{c("CPF/CNPJ invlido");return}const{data:ee,error:le}=await De.from("receivable_approval_requests").update({cnpj_id:y.cnpjId,category_id:y.categoryId,bank_account_id:y.bankAccountId,notes:y.notes,value:y.value,competence:y.competence,payment_method_id:y.paymentMethodId,attachment_url:V,payment_date:new Date().toISOString().split("T")[0]}).eq("id",r.id);if(le)throw le;await CB(r.id),await n(),e()}catch(G){console.error("Error approving request:",G),c(G instanceof Error?G.message:"Erro ao aprovar solicitao")}finally{o(!1)}},x=async()=>{if(r)try{o(!0),c(null),await _B(r.id),await n(),e()}catch(G){console.error("Error rejecting request:",G),c("Erro ao rejeitar solicitao")}finally{o(!1)}};if(!t||!r)return null;const j=G=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(G),P=G=>{const V=Array.from(G.target.files||[]);if(V.length===0)return;const ee=V.filter(le=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(le.type)?le.size>5242880?(c("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(c("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(ee.length>0){c(null);const le=ee.map(Z=>Z.type.startsWith("image/")?URL.createObjectURL(Z):"");m(Z=>({...Z,attachment:ee[0]})),d(le)}},E=()=>{m(G=>({...G,attachment:null})),l&&URL.revokeObjectURL(l),d("")};function U(G){if(typeof G!="string"||(G=G.replace(/[\s.-]*/gim,""),!G||G.length!==11||G==="00000000000"||G==="11111111111"||G==="22222222222"||G==="33333333333"||G==="44444444444"||G==="55555555555"||G==="66666666666"||G==="77777777777"||G==="88888888888"||G==="99999999999"))return!1;let V=0,ee;for(let le=1;le<=9;le++)V+=parseInt(G.substring(le-1,le))*(11-le);if(ee=V*10%11,(ee===10||ee===11)&&(ee=0),ee!==parseInt(G.substring(9,10)))return!1;V=0;for(let le=1;le<=10;le++)V+=parseInt(G.substring(le-1,le))*(12-le);return ee=V*10%11,(ee===10||ee===11)&&(ee=0),ee===parseInt(G.substring(10,11))}function q(G){if(typeof G!="string"||(G=G.replace(/[\s.-]*/gim,""),!G||G.length!==14||G==="00000000000000"||G==="11111111111111"||G==="22222222222222"||G==="33333333333333"||G==="44444444444444"||G==="55555555555555"||G==="66666666666666"||G==="77777777777777"||G==="88888888888888"||G==="99999999999999"))return!1;let V=G.length-2,ee=G.substring(0,V),le=G.substring(V),Z=0,M=V-7;for(let te=V;te>=1;te--)Z+=parseInt(ee.charAt(V-te))*M--,M<2&&(M=9);let J=Z%11<2?0:11-Z%11;if(J!==parseInt(le.charAt(0)))return!1;V=V+1,ee=G.substring(0,V),Z=0,M=V-7;for(let te=V;te>=1;te--)Z+=parseInt(ee.charAt(V-te))*M--,M<2&&(M=9);return J=Z%11<2?0:11-Z%11,J===parseInt(le.charAt(1))}return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao #",r.request_number]}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>g("solicitacao"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${B==="solicitacao"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes da Solicitao"}),s.jsx("button",{onClick:()=>g("obrigatorios"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${B==="obrigatorios"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Dados do Recebimento"})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:s.jsx("span",{children:i})}),s.jsxs("div",{className:"space-y-6",children:[B==="solicitacao"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:y.orderNumber,onChange:G=>m(V=>({...V,orderNumber:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do Pedido",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:y.customerName,onChange:G=>m(V=>({...V,customerName:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do Cliente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF/CNPJ do Cliente"}),s.jsx("input",{type:"text",value:y.customerDocument,onChange:G=>m(V=>({...V,customerDocument:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"CPF/CNPJ do Cliente",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:y.notes,onChange:G=>m(V=>({...V,notes:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,maxLength:250,placeholder:"Observaes",required:!0}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[y.notes.length,"/250 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:j(y.value),onChange:I,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Pagamento"}),s.jsx("input",{type:"date",value:y.paymentDate,onChange:G=>m(V=>({...V,paymentDate:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:r.attachment_url?s.jsx("a",{href:r.attachment_url,target:"_blank",rel:"noreferrer",children:"Ver anexo"}):"Sem anexo"}),l&&l!==""&&s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:l,alt:"Preview",className:"w-24 h-24 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>E(),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Wt,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var G;return(G=u.current)==null?void 0:G.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(wi,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:u,type:"file",onChange:P,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.xlsx"}),s.jsx("input",{ref:h,type:"file",onChange:P,className:"hidden",accept:"image/*",capture:"environment"})]})]}),B==="obrigatorios"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ *"}),s.jsxs("select",{value:y.cnpjId,onChange:G=>m(V=>({...V,cnpjId:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),w.map(G=>s.jsxs("option",{value:G.id,children:[G.name," - ",G.cnpj]},G.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria de Receita *"}),s.jsxs("select",{value:y.categoryId,onChange:G=>m(V=>({...V,categoryId:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),A.map(G=>s.jsx("option",{value:G.id,children:G.name},G.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Competncia *"}),s.jsx("input",{type:"date",value:y.competence,onChange:G=>m(V=>({...V,competence:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:y.paymentMethodId,onChange:G=>{const V=W.find(ee=>ee.id===G.target.value);m(ee=>({...ee,bankAccountId:V.defaultBankAccountId||""})),m(ee=>({...ee,paymentMethodId:G.target.value}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),W.map(G=>s.jsx("option",{value:G.id,children:G.description},G.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria *"}),s.jsxs("select",{value:y.bankAccountId,onChange:G=>m(V=>({...V,bankAccountId:G.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),S.map(G=>s.jsxs("option",{value:G.id,children:[G.name," - ",G.bank," ",G.branch,"/",G.account]},G.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:()=>{e()},disabled:a,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Fechar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:x,disabled:a,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Rejeitar"}),r.status==="PENDING"&&s.jsx("button",{type:"button",onClick:_,disabled:a,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Aprovar"})]})]})]})})}function zB({approvals:t,onView:e,loadRequests:r}){const[n,a]=D.useState(null);if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(Qd,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h solicitaes de aprovao que correspondam aos critrios de busca."})]});const o=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),i=d=>d?new Date(d).toISOString().split("T")[0].split("-").reverse().join("/"):"-",c=d=>d.length===11?d.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):d.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),l=d=>{switch(d){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Rejeitado"});default:return null}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Usurio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pedido"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(d=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(d.payment_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:d.created_by_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:d.order_number}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:d.customer_name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:c(d.customer_document)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:o(d.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(d.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.status==="PENDING"&&s.jsx("button",{onClick:()=>a(d),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"APROVAR"}),d.status!=="PENDING"&&s.jsx("button",{onClick:()=>a(d),className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"VISUALIZAR"})]})]},d.id))})]})}),s.jsx(UB,{isOpen:!!n,onClose:()=>a(null),request:n,loadRequests:r})]})}function VB(){const[t,e]=D.useState(!1),[r,n]=D.useState(""),[a,o]=D.useState([]),[i,c]=D.useState([]),[l,d]=D.useState(!0),[u,h]=D.useState(null),[y,m]=D.useState({start:"",end:""}),[w,v]=D.useState(""),[A,b]=D.useState({pendingCount:0,pendingTotal:0,approvedCount:0,approvedTotal:0,rejectedCount:0,rejectedTotal:0}),S=async()=>{d(!0),h(null);const{data:W,error:z}=await De.from("receivable_approval_requests_with_details").select("*");if(z){h(z.message),d(!1);return}const B=W.filter(j=>j.status==="PENDING"),g=W.filter(j=>j.status==="APPROVED"),I=W.filter(j=>j.status==="REJECTED"),k=B.reduce((j,P)=>j+P.value,0),_=g.reduce((j,P)=>j+P.value,0),x=I.reduce((j,P)=>j+P.value,0);b({pendingCount:B.length,pendingTotal:k,approvedCount:g.length,approvedTotal:_,rejectedCount:I.length,rejectedTotal:x}),o(W),c(W),d(!1)};D.useEffect(()=>{S()},[]);const R=()=>{let W=[...a];if(r){const z=r.toLowerCase();W=W.filter(B=>B.customer_name.toLowerCase().includes(z)||B.customer_document.includes(z)||B.order_number.toLowerCase().includes(z))}(y.start||y.end)&&(W=W.filter(z=>{const B=new Date(z.created_at),g=y.start?new Date(y.start).setHours(0,0,0,0):null,I=y.end?new Date(y.end).setHours(23,59,59,999):null;return g&&I?B>=g&&B<=I:g?B>=g:I?B<=I:!0})),w&&(W=W.filter(z=>z.status===w)),c(W)};return D.useEffect(()=>{R()},[r,y,w]),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[u&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>h(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Aprovaes de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de aprovao de pagamento"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Solicitao"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Aprovaes Pendentes"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:["R$"," ",A.pendingTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[A.pendingCount," registros"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Aprovados no Ms"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:["R$"," ",A.approvedTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[A.approvedCount," registros"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Rejeitados no Ms"}),s.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[s.jsxs("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:["R$"," ",A.rejectedTotal.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[A.rejectedCount," registros"]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, CPF/CNPJ ou nmero do pedido...",value:r,onChange:W=>n(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:y.start,onChange:W=>m(z=>({...z,start:W.target.value})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:y.end,onChange:W=>m(z=>({...z,end:W.target.value})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("select",{value:w,onChange:W=>v(W.target.value),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos os Status"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"APPROVED",children:"Aprovados"}),s.jsx("option",{value:"REJECTED",children:"Rejeitados"})]})]})]})}),l?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(zB,{approvals:i,loadRequests:S,onView:W=>{console.log("View approval:",W)}})]}),s.jsx(qB,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),S()}})]})}function HB({isOpen:t,onClose:e,config:r,onSuccess:n}){const[a,o]=D.useState({cnpjId:"",email:"",password:"",imapHost:"",imapPort:993,useSSL:!0,scanFrequency:15,active:!0}),[i,c]=D.useState([]),[l,d]=D.useState(!1),[u,h]=D.useState(null);D.useEffect(()=>{t&&(y(),r?(console.log(r),o({cnpjId:r.cnpj_id||"",email:r.email||"",password:"",imapHost:r.imap_host||"",imapPort:r.imap_port||993,useSSL:r.use_ssl??!0,scanFrequency:r.scan_frequency||15,active:r.active??!0})):o({cnpjId:"",email:"",password:"",imapHost:"",imapPort:993,useSSL:!0,scanFrequency:15,active:!0}))},[t,r]);const y=async()=>{try{const{data:w,error:v}=await De.from("cnpjs").select("id, name, cnpj").eq("active",!0).order("name");if(v)throw v;c(w||[])}catch(w){console.error("Error loading CNPJs:",w),h("Erro ao carregar lista de CNPJs")}},m=async w=>{w.preventDefault(),d(!0),h(null);try{if(r){const{error:v}=await De.from("email_configs").update({cnpj_id:a.cnpjId,email:a.email,...a.password&&{password:a.password},imap_host:a.imapHost,imap_port:a.imapPort,use_ssl:a.useSSL,scan_frequency:a.scanFrequency,active:a.active,updatedAt:new Date().toISOString()}).eq("id",r.id);if(v)throw console.log(v),v}else{const{error:v}=await De.from("email_configs").insert([{cnpj_id:a.cnpjId,email:a.email,password:a.password,imap_host:a.imapHost,imap_port:a.imapPort,use_ssl:a.useSSL,scan_frequency:a.scanFrequency,active:a.active,updatedAt:new Date().toISOString()}]);if(v)throw v}n(),e()}catch(v){console.error("Error saving email config:",v),h("Erro ao salvar configurao de e-mail")}finally{d(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Configurao":"Nova Configurao"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:m,className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:u})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:a.cnpjId,onChange:w=>o(v=>({...v,cnpjId:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(w=>s.jsxs("option",{value:w.id,children:[w.name," - ",w.cnpj]},w.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:a.email,onChange:w=>o(v=>({...v,email:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Senha"}),s.jsx("input",{type:"password",value:a.password,onChange:w=>o(v=>({...v,password:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!r})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Servidor IMAP"}),s.jsx("input",{type:"text",value:a.imapHost,onChange:w=>o(v=>({...v,imapHost:w.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Porta"}),s.jsx("input",{type:"number",value:a.imapPort,onChange:w=>o(v=>({...v,imapPort:parseInt(w.target.value)||993})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.useSSL,onChange:w=>o(v=>({...v,useSSL:w.target.checked})),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Usar SSL/TLS"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:w=>o(v=>({...v,active:w.target.checked})),className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Ativo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia de Sincronizao (minutos)"}),s.jsx("input",{type:"number",min:"5",max:"60",value:a.scanFrequency,onChange:w=>o(v=>({...v,scanFrequency:parseInt(w.target.value)||15})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,disabled:l,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:l,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",children:l?"Salvando...":r?"Salvar Alteraes":"Criar Configurao"})]})]})]})}):null}function WB({logs:t}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(TL,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum e-mail processado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"Aguardando a prxima sincronizao para capturar novos e-mails."})]});const e=a=>new Date(a).toLocaleString("pt-BR"),r=a=>{if(a===0)return"0 Bytes";const o=1024,i=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(a)/Math.log(o));return parseFloat((a/Math.pow(o,c)).toFixed(2))+" "+i[c]},n=a=>{switch(a){case"PENDING":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:[s.jsx(E1,{className:"w-3 h-3 mr-1"}),"Pendente"]});case"PROCESSED":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:[s.jsx(Tf,{className:"w-3 h-3 mr-1"}),"Processado"]});case"FAILED":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:[s.jsx(nr,{className:"w-3 h-3 mr-1"}),"Falha"]});case"INVALID":return s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:[s.jsx(nr,{className:"w-3 h-3 mr-1"}),"Invlido"]});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Remetente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Assunto"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Recebido em"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Anexos"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:a.fromEmail}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:a.cnpjName})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:a.subject})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:e(a.receivedAt)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n(a.status),a.errorMessage&&s.jsx("div",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:a.errorMessage})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"space-y-2",children:a.attachments.map(o=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(_l,{className:"h-4 w-4 text-secondary-400"}),s.jsx("a",{href:o.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",children:o.fileName}),s.jsxs("span",{className:"text-secondary-500 dark:text-secondary-400",children:["(",r(o.fileSize),")"]}),o.validationStatus==="VALID"&&s.jsx(Tf,{className:"h-4 w-4 text-green-500"}),o.validationStatus==="INVALID"&&s.jsx(nr,{className:"h-4 w-4 text-red-500"}),o.validationStatus==="PENDING"&&s.jsx(E1,{className:"h-4 w-4 text-yellow-500"})]},o.id))})})]},a.id))})]})})}async function GB(){try{const{data:t,error:e}=await De.from("email_monitoring_status").select("*").order("createdAt",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error("Error listing email configs:",t),[]}}async function JB(t){try{let e=De.from("email_logs").select("*").order("received_at",{ascending:!1});const{data:r,error:n}=await e;if(n)throw n;return(r||[]).map(a=>({id:a.id,fromEmail:a.from_email,subject:a.subject,receivedAt:a.received_at,processedAt:a.processed_at,status:a.status,errorMessage:a.error_message,configEmail:a.config_email,cnpjName:a.cnpj_name,cnpjNumber:a.cnpj_number,attachments:a.attachments||[],attachmentCount:a.attachment_count||0,validAttachments:a.valid_attachments||0,invalidAttachments:a.invalid_attachments||0,pendingAttachments:a.pending_attachments||0}))}catch(e){return console.error("Error listing email logs:",e),[]}}const KB="http://localhost:3001";function YB(){const[t,e]=D.useState([]),[r,n]=D.useState([]),[a,o]=D.useState(!0),[i,c]=D.useState(null),[l,d]=D.useState(!1),[u,h]=D.useState(null),[y,m]=D.useState(""),[w,v]=D.useState(null),[A,b]=D.useState([]);D.useEffect(()=>{S()},[]);const S=async()=>{try{o(!0);const[k,_]=await Promise.all([GB(),JB()]);e(k),n(_),c(null)}catch(k){console.error("Error loading data:",k),c("Erro ao carregar dados")}finally{o(!1)}},R=()=>{h(null),d(!0)},W=k=>{h(k),d(!0)},z=async k=>{try{v(k);const _=await O3.getEmailsWithAttachments(k),x=_.emailsWithAttachments;for(const j of x)if(j.attachments&&j.attachments.length>0)for(const P of j.attachments)try{const E=new FormData,U=new Uint8Array(P.data.data),q=new Blob([U],{type:P.data.type});E.append("file",q,P.filename);const G=await fetch(`${KB}/ai/process/bill`,{method:"POST",body:E});G.ok?(console.log(`Successfully processed attachment ${P.filename}`),o(!1)):console.error(`Failed to process attachment ${P.filename}: ${G.statusText}`)}catch(E){console.error(`Error processing attachment ${P.filename}:`,E)}b(x),console.log(_)}catch(_){console.error("Error forcing scan:",_),c("Erro ao forar sincronizao")}finally{v(null)}},B=async(k,_="documento.pdf")=>{console.log("Downloading buffer, size:",k.length);try{const x=new Uint8Array(k);let j="application/octet-stream";_.toLowerCase().endsWith(".pdf")?j="application/pdf":_.toLowerCase().match(/\.(jpe?g)$/i)?j="image/jpeg":_.toLowerCase().endsWith(".png")&&(j="image/png");const P=new Blob([x],{type:j}),E=window.URL.createObjectURL(P),U=document.createElement("a");U.href=E,U.setAttribute("download",_),document.body.appendChild(U),U.click(),setTimeout(()=>{document.body.removeChild(U),window.URL.revokeObjectURL(E)},100)}catch(x){console.error("Error downloading file:",x),c("Erro ao baixar o arquivo")}},g=t.filter(k=>{var x,j,P;const _=y.toLowerCase();return((x=k.email)==null?void 0:x.toLowerCase().includes(_))||((j=k.cnpjName)==null?void 0:j.toLowerCase().includes(_))||((P=k.cnpjNumber)==null?void 0:P.includes(_))}),I=k=>k?new Date(k).toLocaleString("pt-BR"):"Nunca";return s.jsxs("div",{className:"p-4 sm:p-6",children:[i&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:i}),s.jsx("button",{onClick:()=>c(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Configurao de E-mail"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Configure as contas de e-mail para captura automtica de boletos"})]}),s.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Configurao"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por e-mail ou CNPJ...",value:y,onChange:k=>m(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):g.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(nr,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma configurao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Nova Configurao" para comear a configurar a captura de boletos.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"E-mail"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ltima Sincronizao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:g.map(k=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:k.email}),s.jsxs("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:[k.imapHost,":",k.imapPort]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:k.cnpjName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:k.cnpjNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:I(k.lastScan)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:k.active,onChange:()=>W(k)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>z(k.id),disabled:w===k.id,className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Forar Sincronizao",children:w===k.id?s.jsx(b4,{className:"h-5 w-5 animate-spin"}):s.jsx(v4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>W(k),className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",title:"Editar",children:s.jsx(BL,{className:"h-5 w-5"})})]})]},k.id))})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Lista de Emails"})}),A.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Assunto"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Remetente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Anexos"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:A&&A.map(k=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:k.subject})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:k.from})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:k.attachments.length>0?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800/30 dark:text-green-400",children:"Sim"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-800/30 dark:text-red-400",children:"No"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:k.attachments&&k.attachments.length>0&&s.jsx("div",{className:"flex justify-end space-x-2",children:k.attachments.map(_=>s.jsx("button",{onClick:()=>B(_.data.data,_.filename),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:`Baixar ${_.filename}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})},_.filename))})})]},k.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(nr,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum email encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"Selecione uma configurao e clique no boto de sincronizao para buscar emails."})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Logs de Email"})}),s.jsx(WB,{logs:r})]})]}),s.jsx(uw,{children:s.jsx(HB,{isOpen:l,onClose:()=>d(!1),config:u,onSuccess:()=>{d(!1),S()}})})]})}function XB({isOpen:t,onClose:e,config:r,cnpjs:n,bankAccounts:a,onSuccess:o}){const[i,c]=D.useState({cnpj_id:"",bank_account_id:"",scan_frequency:15,active:!0}),[l,d]=D.useState(!1),[u,h]=D.useState(null);D.useEffect(()=>{c(r?{cnpj_id:r.cnpj_id,bank_account_id:r.bank_account_id,scan_frequency:r.scan_frequency,active:r.active}:{cnpj_id:"",bank_account_id:"",scan_frequency:15,active:!0})},[r]);const y=async m=>{m.preventDefault(),d(!0),h(null);try{if(r){const{error:w}=await De.from("dda_configs").update({cnpj_id:i.cnpj_id,bank_account_id:i.bank_account_id,scan_frequency:i.scan_frequency,active:i.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(w)throw w}else{const{error:w}=await De.from("dda_configs").insert([{cnpj_id:i.cnpj_id,bank_account_id:i.bank_account_id,scan_frequency:i.scan_frequency,active:i.active}]);if(w)throw w.code==="23505"?new Error("J existe uma configurao DDA para este CNPJ e conta bancria"):w}o(),e()}catch(w){console.error("Error saving DDA config:",w),h(w instanceof Error?w.message:"Erro ao salvar configurao DDA")}finally{d(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Configurao DDA":"Nova Configurao DDA"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:y,className:"p-4 sm:p-6",children:[u&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:u})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:i.cnpj_id,onChange:m=>c(w=>({...w,cnpj_id:m.target.value})),disabled:l,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),n.map(m=>s.jsxs("option",{value:m.id,children:[m.name," - ",m.cnpj]},m.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:i.bank_account_id,onChange:m=>c(w=>({...w,bank_account_id:m.target.value})),disabled:l,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),a.map(m=>s.jsxs("option",{value:m.id,children:[m.name," - ",m.bank," ",m.branch,"/",m.account]},m.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Frequncia de Sincronizao (minutos)"}),s.jsx("input",{type:"number",min:"5",max:"60",value:i.scan_frequency,onChange:m=>c(w=>({...w,scan_frequency:parseInt(m.target.value)||15})),disabled:l,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:i.active,onChange:m=>c(w=>({...w,active:m.target.checked})),disabled:l,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Configurao ativa"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:l,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:l,children:l?"Salvando...":r?"Salvar Alteraes":"Criar Configurao"})]})]})]})}):null}function QB(){const[t,e]=D.useState(!1),[r,n]=D.useState(""),[a,o]=D.useState(null),[i,c]=D.useState([]),[l,d]=D.useState([]),[u,h]=D.useState([]),[y,m]=D.useState(!0),[w,v]=D.useState(null),[A,b]=D.useState(null);D.useEffect(()=>{S()},[]);const S=async()=>{try{const[k,_,x]=await Promise.all([De.from("dda_monitoring_status").select("*").order("cnpj_name"),De.from("cnpjs").select("*").eq("active",!0).order("name"),De.from("bank_accounts").select("*").eq("active",!0).order("name")]);if(k.error)throw k.error;if(_.error)throw _.error;if(x.error)throw x.error;c(k.data||[]),d(_.data||[]),h(x.data||[]),v(null)}catch(k){console.error("Error loading data:",k),v("Erro ao carregar dados")}finally{m(!1)}},R=()=>{o(null),e(!0)},W=k=>{o(k),e(!0)},z=async k=>{try{b(k),v(null);const{data:_,error:x}=await De.functions.invoke("dda-sync",{body:JSON.stringify({configId:k})});if(x)throw x;_.success?await S():v(_.message)}catch(_){console.error("Error forcing DDA sync:",_),v("Erro ao forar sincronizao DDA")}finally{b(null)}},B=i.filter(k=>{const _=r.toLowerCase();return k.cnpj_name.toLowerCase().includes(_)||k.cnpj_number.includes(_)||k.bank_account_name.toLowerCase().includes(_)}),g=k=>k?new Date(k).toLocaleString("pt-BR"):"Nunca",I=k=>{if(!k)return null;switch(k){case"RUNNING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Em Execuo"});case"SUCCESS":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Sucesso"});case"FAILED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Falha"});default:return null}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>v(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Configurao DDA"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as configuraes de DDA para captura automtica de boletos"})]}),s.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Configurao"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por CNPJ ou conta bancria...",value:r,onChange:k=>n(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),y?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):B.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(m0,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma configurao DDA encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Nova Configurao" para comear a configurar o DDA.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CNPJ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta Bancria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ltima Sincronizao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Boletos"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:B.map(k=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:k.cnpj_name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:k.cnpj_number})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:k.bank_account_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:g(k.last_scan)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[I(k.last_sync_status),k.last_sync_error&&s.jsx("div",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:k.last_sync_error})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:k.pending_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"pendentes"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:k.processed_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"processados"})]}),(k.failed_boletos>0||k.invalid_boletos>0)&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:k.failed_boletos+k.invalid_boletos}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400 ml-1",children:"falhas"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>z(k.id),disabled:A===k.id||!k.active,className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3 disabled:opacity-50",title:k.active?"Forar Sincronizao":"Configurao Inativa",children:A===k.id?s.jsx(m0,{className:"h-5 w-5 animate-spin"}):s.jsx(v4,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>W(k),className:"text-secondary-600 hover:text-secondary-900 dark:text-secondary-400 dark:hover:text-secondary-300",title:"Editar",children:s.jsx(nr,{className:"h-5 w-5"})})]})]},k.id))})]})})]}),s.jsx(XB,{isOpen:t,onClose:()=>e(!1),config:a,cnpjs:l,bankAccounts:u,onSuccess:()=>{e(!1),S()}})]})}function ZB({reasons:t,onEdit:e,onDelete:r,onToggleStatus:n}){return t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(fm,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum motivo de estorno cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Novo Motivo" para comear a cadastrar motivos de estorno.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a.name}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:a.description||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.active,onChange:()=>n(a)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(a),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(a),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(_i,{className:"h-5 w-5"})})]})]},a.id))})]})})}function e$({isOpen:t,onClose:e,reason:r,onSuccess:n}){const[a,o]=D.useState({name:"",description:"",active:!0}),[i,c]=D.useState(!1),[l,d]=D.useState(null);D.useEffect(()=>{o(r?{name:r.name,description:r.description||"",active:r.active}:{name:"",description:"",active:!0})},[r]);const u=async h=>{h.preventDefault(),c(!0),d(null);try{if(r){const{error:y}=await De.from("refund_reasons").update({name:a.name,description:a.description||null,active:a.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(y)throw y}else{const{error:y}=await De.from("refund_reasons").insert([{name:a.name,description:a.description||null,active:a.active}]);if(y)throw y}n(),e()}catch(y){console.error("Error saving refund reason:",y),d("Erro ao salvar motivo de estorno")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Motivo de Estorno":"Novo Motivo de Estorno"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Motivo"}),s.jsx("input",{type:"text",value:a.name,onChange:h=>o(y=>({...y,name:h.target.value})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:a.description,onChange:h=>o(y=>({...y,description:h.target.value})),disabled:i,rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:h=>o(y=>({...y,active:h.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Motivo ativo"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Motivo"})]})]})]})}):null}function t$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState(null),[l,d]=D.useState([]),[u,h]=D.useState(!0),[y,m]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:z,error:B}=await De.from("refund_reasons").select("*").order("name");if(B)throw B;d(z||[]),m(null)}catch(z){console.error("Error loading refund reasons:",z),m("Erro ao carregar motivos de estorno")}finally{h(!1)}},v=()=>{c(null),e(!0)},A=z=>{c(z),e(!0)},b=z=>{c(z),n(!0)},S=async()=>{if(i)try{const{error:z}=await De.from("refund_reasons").delete().eq("id",i.id);if(z)throw z;d(l.filter(B=>B.id!==i.id)),n(!1),m(null)}catch(z){console.error("Error deleting refund reason:",z),m("Erro ao excluir motivo de estorno")}},R=async z=>{try{const{error:B}=await De.from("refund_reasons").update({active:!z.active,updated_at:new Date().toISOString()}).eq("id",z.id);if(B)throw B;d(l.map(g=>g.id===z.id?{...g,active:!g.active}:g)),m(null)}catch(B){console.error("Error toggling refund reason status:",B),m("Erro ao alterar status do motivo de estorno")}},W=l.filter(z=>{var B;return z.name.toLowerCase().includes(a.toLowerCase())||((B=z.description)==null?void 0:B.toLowerCase().includes(a.toLowerCase()))});return s.jsxs("div",{className:"p-4 sm:p-6",children:[y&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:y}),s.jsx("button",{onClick:()=>m(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Motivos de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os motivos de estorno disponveis no sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Motivo"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:a,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(ZB,{reasons:W,onEdit:A,onDelete:b,onToggleStatus:R})]}),s.jsx(e$,{isOpen:t,onClose:()=>e(!1),reason:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Ei,{isOpen:r,onClose:()=>n(!1),title:"Excluir Motivo de Estorno",description:`Tem certeza que deseja excluir o motivo "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:S})]})}function r$({responsibles:t,onEdit:e,onDelete:r,onToggleStatus:n}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(qL,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum responsvel cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Novo Responsvel" para comear a cadastrar responsveis pelos estornos.'})]});const a=o=>o.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4");return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"CPF"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(o.cpf)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.active,onChange:()=>n(o)}),s.jsx("div",{className:"w-11 h-6 bg-secondary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-secondary-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-secondary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-secondary-600 peer-checked:bg-primary-500"})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(o),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(_i,{className:"h-5 w-5"})})]})]},o.id))})]})})}function n$({isOpen:t,onClose:e,responsible:r,onSuccess:n}){const[a,o]=D.useState({id:"",name:"",cpf:"",active:!0}),[i,c]=D.useState(!1),[l,d]=D.useState(null);D.useEffect(()=>{o(r?{id:r.id,name:r.name,cpf:r.cpf,active:r.active}:{id:"",name:"",cpf:"",active:!0})},[r]);const u=m=>m.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2").slice(0,14),h=m=>{const w=m.replace(/\D/g,"");if(w.length!==11||/^(\d)\1+$/.test(w))return!1;let v=0;for(let S=0;S<9;S++)v+=parseInt(w.charAt(S))*(10-S);let A=11-v%11;A>9&&(A=0),v=0;for(let S=0;S<10;S++)v+=parseInt(w.charAt(S))*(11-S);let b=11-v%11;return b>9&&(b=0),parseInt(w.charAt(9))===A&&parseInt(w.charAt(10))===b},y=async m=>{m.preventDefault(),c(!0),d(null);try{if(!/^\d{2}$/.test(a.id))throw new Error("O ID deve conter exatamente 2 nmeros");const w=a.cpf.replace(/\D/g,"");if(!h(w))throw new Error("CPF invlido");if(r){const{error:v}=await De.from("refund_responsibles").update({id:a.id,name:a.name,cpf:w,active:a.active,updated_at:new Date().toISOString()}).eq("id",r.id);if(v)throw v}else{const{error:v}=await De.from("refund_responsibles").insert([{id:a.id,name:a.name,cpf:w,active:a.active}]);if(v)throw v.code==="23505"?v.message.includes("cpf")?new Error("CPF j cadastrado"):new Error("ID j cadastrado"):v}n(),e()}catch(w){console.error("Error saving refund responsible:",w),d(w instanceof Error?w.message:"Erro ao salvar responsvel")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Responsvel":"Novo Responsvel"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:y,className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"ID do Responsvel"}),s.jsx("input",{type:"text",value:a.id,onChange:m=>{const w=m.target.value.replace(/\D/g,"").slice(0,2);o(v=>({...v,id:w}))},disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: 01",required:!0}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:"Digite um nmero de dois dgitos (ex: 01, 15, 99)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Responsvel"}),s.jsx("input",{type:"text",value:a.name,onChange:m=>o(w=>({...w,name:m.target.value})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF"}),s.jsx("input",{type:"text",value:a.cpf,onChange:m=>o(w=>({...w,cpf:u(m.target.value)})),disabled:i,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"000.000.000-00",required:!0})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:a.active,onChange:m=>o(w=>({...w,active:m.target.checked})),disabled:i,className:"w-4 h-4 text-primary-600 border-secondary-300 rounded focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:"Responsvel ativo"})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Responsvel"})]})]})]})}):null}function a$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState(null),[l,d]=D.useState([]),[u,h]=D.useState(!0),[y,m]=D.useState(null);D.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:z,error:B}=await De.from("refund_responsibles").select("*").order("id");if(B)throw B;d(z||[]),m(null)}catch(z){console.error("Error loading refund responsibles:",z),m("Erro ao carregar responsveis")}finally{h(!1)}},v=()=>{c(null),e(!0)},A=z=>{c(z),e(!0)},b=z=>{c(z),n(!0)},S=async()=>{if(i)try{const{error:z}=await De.from("refund_responsibles").delete().eq("id",i.id);if(z)throw z;d(l.filter(B=>B.id!==i.id)),n(!1),m(null)}catch(z){console.error("Error deleting refund responsible:",z),m("Erro ao excluir responsvel")}},R=async z=>{try{const{error:B}=await De.from("refund_responsibles").update({active:!z.active,updated_at:new Date().toISOString()}).eq("id",z.id);if(B)throw B;d(l.map(g=>g.id===z.id?{...g,active:!g.active}:g)),m(null)}catch(B){console.error("Error toggling refund responsible status:",B),m("Erro ao alterar status do responsvel")}},W=l.filter(z=>z.name.toLowerCase().includes(a.toLowerCase())||z.cpf.includes(a)||z.id.includes(a));return s.jsxs("div",{className:"p-4 sm:p-6",children:[y&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:y}),s.jsx("button",{onClick:()=>m(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Responsveis pelos Estornos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os responsveis pelos estornos no sistema"})]}),s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Responsvel"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por ID, nome ou CPF...",value:a,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),u?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(r$,{responsibles:W,onEdit:A,onDelete:b,onToggleStatus:R})]}),s.jsx(n$,{isOpen:t,onClose:()=>e(!1),responsible:i,onSuccess:()=>{e(!1),w()}}),s.jsx(Ei,{isOpen:r,onClose:()=>n(!1),title:"Excluir Responsvel",description:`Tem certeza que deseja excluir o responsvel "${i==null?void 0:i.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:S})]})}function s$({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState({orderNumber:"",customerName:"",customerCpf:"",refundReasonId:"",refundValue:"",paymentType:"PIX",pixKey:"",responsible1Id:"",responsible2Id:"",notes:""}),[o,i]=D.useState([]),[c,l]=D.useState([]),[d,u]=D.useState(!1),[h,y]=D.useState(null);D.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{const[B,g]=await Promise.all([De.from("refund_reasons").select("*").eq("active",!0).order("name"),De.from("refund_responsibles").select("*").eq("active",!0).order("name")]);if(B.error)throw B.error;if(g.error)throw g.error;i(B.data||[]),l(g.data||[])}catch(B){console.error("Error loading data:",B),y("Erro ao carregar dados")}},w=B=>B.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2").slice(0,14),v=B=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B),A=B=>{let g=B.target.value.replace(/\D/g,"");g===""&&(g="0");const I=parseInt(g)/100;a(k=>({...k,refundValue:I.toString()}))},b=B=>{const g=B.replace(/\D/g,"");if(g.length!==11||/^(\d)\1+$/.test(g))return!1;let I=0;for(let x=0;x<9;x++)I+=parseInt(g.charAt(x))*(10-x);let k=11-I%11;k>9&&(k=0),I=0;for(let x=0;x<10;x++)I+=parseInt(g.charAt(x))*(11-x);let _=11-I%11;return _>9&&(_=0),parseInt(g.charAt(9))===k&&parseInt(g.charAt(10))===_};function S(B){if(typeof B!="string"||(B=B.replace(/[\s.-]*/gim,""),!B||B.length!==11||B==="00000000000"||B==="11111111111"||B==="22222222222"||B==="33333333333"||B==="44444444444"||B==="55555555555"||B==="66666666666"||B==="77777777777"||B==="88888888888"||B==="99999999999"))return!1;let g=0,I;for(let k=1;k<=9;k++)g+=parseInt(B.substring(k-1,k))*(11-k);if(I=g*10%11,(I===10||I===11)&&(I=0),I!==parseInt(B.substring(9,10)))return!1;g=0;for(let k=1;k<=10;k++)g+=parseInt(B.substring(k-1,k))*(12-k);return I=g*10%11,(I===10||I===11)&&(I=0),I===parseInt(B.substring(10,11))}function R(B){if(typeof B!="string"||(B=B.replace(/[\s.-]*/gim,""),!B||B.length!==14||B==="00000000000000"||B==="11111111111111"||B==="22222222222222"||B==="33333333333333"||B==="44444444444444"||B==="55555555555555"||B==="66666666666666"||B==="77777777777777"||B==="88888888888888"||B==="99999999999999"))return!1;let g=B.length-2,I=B.substring(0,g),k=B.substring(g),_=0,x=g-7;for(let P=g;P>=1;P--)_+=parseInt(I.charAt(g-P))*x--,x<2&&(x=9);let j=_%11<2?0:11-_%11;if(j!==parseInt(k.charAt(0)))return!1;g=g+1,I=B.substring(0,g),_=0,x=g-7;for(let P=g;P>=1;P--)_+=parseInt(I.charAt(g-P))*x--,x<2&&(x=9);return j=_%11<2?0:11-_%11,j===parseInt(k.charAt(1))}function W(B){const g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,I=B.replace(/[^0-9]/g,"");return S(I)?"CPF":R(I)?"CNPJ":g.test(B)?"Email":I.length===10||I.length===11?"Telefone":"Chave Aleatria"}const z=async B=>{B.preventDefault(),u(!0),y(null);try{const g=n.customerCpf.replace(/\D/g,"");if(!b(g))throw new Error("CPF invlido");const I=parseFloat(n.refundValue);if(isNaN(I)||I<=0)throw new Error("Valor de estorno invlido");const k=localStorage.getItem("userId"),{error:_}=await De.from("refund_requests").insert([{order_number:n.orderNumber,customer_name:n.customerName,customer_cpf:g,refund_reason_id:n.refundReasonId,refund_value:I,payment_type:n.paymentType,pix_key:n.pixKey,responsible_1_id:n.responsible1Id,responsible_2_id:n.responsible2Id||null,notes:n.notes||null,status:"PENDING",created_by_id:k}]);if(_)throw _;r(),e()}catch(g){console.error("Error creating refund request:",g),y(g instanceof Error?g.message:"Erro ao criar solicitao de estorno")}finally{u(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Nova Solicitao de Estorno"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:z,className:"p-4 sm:p-6",children:[h&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:h})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero do Pedido"}),s.jsx("input",{type:"text",value:n.orderNumber,onChange:B=>a(g=>({...g,orderNumber:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Cliente"}),s.jsx("input",{type:"text",value:n.customerName,onChange:B=>a(g=>({...g,customerName:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CPF do Cliente"}),s.jsx("input",{type:"text",value:n.customerCpf,onChange:B=>a(g=>({...g,customerCpf:w(B.target.value)})),placeholder:"000.000.000-00",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Motivo do Estorno"}),s.jsxs("select",{value:n.refundReasonId,onChange:B=>a(g=>({...g,refundReasonId:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um motivo"}),o.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Estorno"}),s.jsx("input",{type:"text",value:v(n.refundValue),onChange:A,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Estorno"}),s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"PIX",checked:n.paymentType==="PIX",onChange:B=>a(g=>({...g,paymentType:B.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"PIX"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CUPOM",checked:n.paymentType==="CUPOM",onChange:B=>a(g=>({...g,paymentType:B.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Cupom de Desconto"})]})]})]}),n.paymentType==="PIX"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Chave PIX (",W(n.pixKey),")"]}),s.jsx("input",{type:"text",value:n.pixKey,onChange:B=>a(g=>({...g,pixKey:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Responsvel 1"}),s.jsxs("select",{value:n.responsible1Id,onChange:B=>a(g=>({...g,responsible1Id:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione o primeiro responsvel"}),c.map(B=>s.jsxs("option",{value:B.id,children:[B.id," - ",B.name]},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Responsvel 2 (Opcional)"}),s.jsxs("select",{value:n.responsible2Id,onChange:B=>a(g=>({...g,responsible2Id:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecione o segundo responsvel"}),c.filter(B=>B.id!==n.responsible1Id).map(B=>s.jsxs("option",{value:B.id,children:[B.id," - ",B.name]},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:n.notes,onChange:B=>a(g=>({...g,notes:B.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre o estorno..."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:d,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:d,children:d?"Salvando...":"Criar Solicitao"})]})]})]})}):null}function o$({isOpen:t,onClose:e,request:r,onSuccess:n}){const[a,o]=D.useState({bankAccountId:"",cnpjId:"",categoryId:"",rejectionReason:""}),[i,c]=D.useState([]),[l,d]=D.useState([]),[u,h]=D.useState([]),[y,m]=D.useState(!1),[w,v]=D.useState(null);D.useEffect(()=>{t&&A()},[t]);const A=async()=>{try{const[B,g,I]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0).order("name"),De.from("bank_accounts").select("*").eq("active",!0).order("name"),De.from("financial_categories").select("*").in("type",["EXPENSE","BOTH"]).eq("active",!0).order("name")]);if(B.error)throw B.error;if(g.error)throw g.error;if(I.error)throw I.error;c(B.data||[]),d(g.data||[]),h(I.data||[])}catch(B){console.error("Error loading data:",B),v("Erro ao carregar dados")}},b=async()=>{if(r)try{if(m(!0),v(null),!a.bankAccountId)throw new Error("Selecione a conta bancria");if(!a.cnpjId)throw new Error("Selecione o CNPJ");if(!a.categoryId)throw new Error("Selecione a categoria");const B=new Date().toISOString().split("T")[0],{error:g}=await De.from("refund_requests").update({status:"APPROVED",updated_at:new Date().toISOString()}).eq("id",r.id);if(g)throw g;const I=localStorage.getItem("userId"),{error:k}=await De.from("payments").insert([{supplier_name:r.customerName,description:`Estorno do pedido ${r.orderNumber}`,value:r.refundValue,due_date:B,status:"PENDING",cnpj_id:a.cnpjId,category_id:a.categoryId,bank_account_id:a.bankAccountId,payment_method:r.paymentType==="PIX"?"pix":null,pix_key:r.pixKey,payment_method_id:null,created_by_id:I}]);if(k)throw k;n(),e()}catch(B){console.error("Error approving refund request:",B),v(B instanceof Error?B.message:"Erro ao aprovar estorno")}finally{m(!1)}},S=async()=>{if(r)try{if(m(!0),v(null),!a.rejectionReason.trim())throw new Error("Informe o motivo da rejeio");const{error:B}=await De.from("refund_requests").update({status:"REJECTED",notes:a.rejectionReason,updated_at:new Date().toISOString()}).eq("id",r.id);if(B)throw B;n(),e()}catch(B){console.error("Error rejecting refund request:",B),v(B instanceof Error?B.message:"Erro ao rejeitar estorno")}finally{m(!1)}},R=B=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B),W=B=>B.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),z=B=>new Date(B).toLocaleDateString("pt-BR");return!t||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:["Solicitao de Estorno #",r.requestNumber]}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:w})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes da Solicitao"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nmero do Pedido"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.orderNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data da Solicitao"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:z(r.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Cliente"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.customerName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"CPF"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:W(r.customerCpf)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor do Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:R(r.refundValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Forma de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.paymentType==="PIX"?"PIX":"Cupom de Desconto"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Chave PIX"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.pixKey})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Motivo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.reasonName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Responsveis"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.responsible1Name,r.responsible2Name&&` e ${r.responsible2Name}`]})]}),r.notes&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Observaes"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.notes})]})]})]}),r.status==="PENDING"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Informaes para Aprovao"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:a.cnpjId,onChange:B=>o(g=>({...g,cnpjId:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),i.map(B=>s.jsxs("option",{value:B.id,children:[B.name," - ",B.cnpj]},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria da Despesa"}),s.jsxs("select",{value:a.categoryId,onChange:B=>o(g=>({...g,categoryId:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),u.map(B=>s.jsx("option",{value:B.id,children:B.name},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:a.bankAccountId,onChange:B=>o(g=>({...g,bankAccountId:B.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),l.map(B=>s.jsxs("option",{value:B.id,children:[B.name," - ",B.bank," ",B.branch,"/",B.account]},B.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Motivo da Rejeio"}),s.jsx("textarea",{value:a.rejectionReason,onChange:B=>o(g=>({...g,rejectionReason:B.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Informe o motivo da rejeio..."})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:y,children:"Fechar"}),r.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:y,children:"Rejeitar"}),s.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:y||!a.bankAccountId||!a.cnpjId||!a.categoryId,children:"Aprovar"})]})]})]})]})})}function i$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(""),[i,c]=D.useState({start:"",end:""}),[l,d]=D.useState(null),[u,h]=D.useState([]),[y,m]=D.useState(!0),[w,v]=D.useState(null);D.useEffect(()=>{A()},[]);const A=async()=>{try{m(!0);const{data:g,error:I}=await De.from("refund_requests_with_details").select("*").order("created_at",{ascending:!1});if(I)throw I;const k=(g||[]).map(_=>({id:_.id,requestNumber:_.request_number,orderNumber:_.order_number,customerName:_.customer_name,customerCpf:_.customer_cpf,refundReasonId:_.refund_reason_id,refundValue:_.refund_value,paymentType:_.payment_type,pixKey:_.pix_key,responsible1Id:_.responsible_1_id,responsible2Id:_.responsible_2_id,status:_.status,notes:_.notes,createdById:_.created_by_id,createdAt:_.created_at,updatedAt:_.updated_at,createdByName:_.created_by_name,createdByEmail:_.created_by_email,reasonName:_.reason_name,responsible1Name:_.responsible_1_name,responsible2Name:_.responsible_2_name}));h(k),v(null)}catch(g){console.error("Error loading refund requests:",g),v("Erro ao carregar solicitaes de estorno")}finally{m(!1)}},b=g=>{d(g),n(!0)},S=u.filter(g=>{var j;const I=a.toLowerCase(),k=g.orderNumber.toLowerCase().includes(I)||g.customerName.toLowerCase().includes(I)||g.customerCpf.includes(a)||((j=g.reasonName)==null?void 0:j.toLowerCase().includes(I)),_=new Date(g.createdAt),x=(!i.start||_>=new Date(i.start))&&(!i.end||_<=new Date(i.end));return k&&x}),R=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g),W=g=>g.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),z=g=>new Date(g).toLocaleDateString("pt-BR"),B=g=>{switch(g){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Aprovado"});case"REJECTED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Rejeitado"});default:return null}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>v(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Solicitaes de Estorno"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as solicitaes de estorno do sistema"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Solicitao"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por cliente, CPF, nmero do pedido ou motivo...",value:a,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"sm:w-auto flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Md,{className:"h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"date",value:i.start,onChange:g=>c(I=>({...I,start:g.target.value})),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:i.end,onChange:g=>c(I=>({...I,end:g.target.value})),className:"px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]})}),y?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):S.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(fm,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhuma solicitao encontrada"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h solicitaes de estorno que correspondam aos critrios de busca."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Pedido"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Motivo"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:S.map(g=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:z(g.createdAt)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[g.orderNumber," ```"]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:g.customerName}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:W(g.customerCpf)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:g.reasonName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:R(g.refundValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(g.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>b(g),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:"Visualizar Detalhes",children:s.jsx(Qd,{className:"h-5 w-5"})})})]},g.id))})]})})]}),s.jsx(s$,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),A()}}),s.jsx(o$,{isOpen:r,onClose:()=>{n(!1),d(null)},request:l,onSuccess:()=>{n(!1),d(null),A()}})]})}function l$({assets:t,onView:e,onEdit:r,onDelete:n}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(bc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum ativo cadastrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:'Clique no boto "Adicionar Ativo" para comear a cadastrar ativos no sistema.'})]});const a=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),o=c=>new Date(c).toLocaleDateString("pt-BR"),i=c=>{switch(c){case"ACTIVE":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Ativo"});case"FULLY_DEPRECIATED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Depreciado"});case"DISPOSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Baixado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Atual"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(c=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:c.category}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(c.acquisitionValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:a(c.currentValue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o(c.acquisitionDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i(c.status)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>e(c),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Visualizar",children:s.jsx(Qd,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>r(c),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Editar",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>n(c),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:s.jsx(_i,{className:"h-5 w-5"})})]})]},c.id))})]})})}function c$({isOpen:t,onClose:e,asset:r,onSuccess:n}){const[a,o]=D.useState({name:"",category:"",acquisitionValue:"0",acquisitionDate:new Date().toISOString().split("T")[0],usefulLifeYears:"5",annualDepreciationRate:"20",accountingAccount:"",notes:""}),[i,c]=D.useState(!1),[l,d]=D.useState(null);D.useEffect(()=>{o(r?{name:r.name||"",category:r.category||"",acquisitionValue:r.acquisitionValue?(r.acquisitionValue*100).toString():"0",acquisitionDate:r.acquisitionDate||new Date().toISOString().split("T")[0],usefulLifeYears:(r.usefulLifeYears||5).toString(),annualDepreciationRate:(r.annualDepreciationRate||20).toString(),accountingAccount:r.accountingAccount||"",notes:r.notes||""}:{name:"",category:"",acquisitionValue:"0",acquisitionDate:new Date().toISOString().split("T")[0],usefulLifeYears:"5",annualDepreciationRate:"20",accountingAccount:"",notes:""})},[r]);const u=async m=>{var w;m.preventDefault(),c(!0),d(null);try{const v=parseInt(a.acquisitionValue.replace(/\D/g,""))/100,A=parseInt(a.usefulLifeYears)||5,b=parseFloat(a.annualDepreciationRate)||20;if(v<=0)throw new Error("Valor de aquisio deve ser maior que zero");if(A<=0)throw new Error("Vida til deve ser maior que zero");if(b<=0||b>100)throw new Error("Taxa de depreciao deve estar entre 0 e 100");if(r){const{error:S}=await De.from("assets").update({name:a.name,category:a.category,acquisition_value:v,acquisition_date:a.acquisitionDate,useful_life_years:A,annual_depreciation_rate:b,accounting_account:a.accountingAccount||null,notes:a.notes||null,updated_at:new Date().toISOString()}).eq("id",r.id);if(S)throw S}else{const{error:S}=await De.from("assets").insert([{name:a.name,category:a.category,acquisition_value:v,acquisition_date:a.acquisitionDate,useful_life_years:A,annual_depreciation_rate:b,current_value:v,status:"ACTIVE",accounting_account:a.accountingAccount||null,notes:a.notes||null,created_by_id:(w=(await De.auth.getUser()).data.user)==null?void 0:w.id}]);if(S)throw S}n(),e()}catch(v){console.error("Error saving asset:",v),d(v instanceof Error?v.message:"Erro ao salvar ativo")}finally{c(!1)}},h=m=>{const w=m.replace(/\D/g,""),v=parseInt(w||"0")/100;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v)},y=m=>{const w=m.target.value.replace(/\D/g,"");o(v=>({...v,acquisitionValue:w}))};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Ativo":"Novo Ativo"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:u,className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Ativo"}),s.jsx("input",{type:"text",value:a.name,onChange:m=>o(w=>({...w,name:m.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:a.category,onChange:m=>o(w=>({...w,category:m.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),s.jsx("option",{value:"Equipamento",children:"Equipamento"}),s.jsx("option",{value:"Imvel",children:"Imvel"}),s.jsx("option",{value:"Veculo",children:"Veculo"}),s.jsx("option",{value:"Mveis",children:"Mveis"}),s.jsx("option",{value:"Software",children:"Software"}),s.jsx("option",{value:"Outros",children:"Outros"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor de Aquisio"}),s.jsx("input",{type:"text",value:h(a.acquisitionValue),onChange:y,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Aquisio"}),s.jsx("input",{type:"date",value:a.acquisitionDate,onChange:m=>o(w=>({...w,acquisitionDate:m.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Vida til (anos)"}),s.jsx("input",{type:"number",min:"1",value:a.usefulLifeYears,onChange:m=>o(w=>({...w,usefulLifeYears:m.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Taxa de Depreciao Anual (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:a.annualDepreciationRate,onChange:m=>o(w=>({...w,annualDepreciationRate:m.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Contbil"}),s.jsx("input",{type:"text",value:a.accountingAccount,onChange:m=>o(w=>({...w,accountingAccount:m.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: 1.2.3.01.001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Observaes"}),s.jsx("textarea",{value:a.notes,onChange:m=>o(w=>({...w,notes:m.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Observaes adicionais sobre o ativo..."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Ativo"})]})]})]})}):null}function d$({isOpen:t,onClose:e,asset:r,onEdit:n,onSuccess:a}){const[o,i]=D.useState([]),[c,l]=D.useState(!1),[d,u]=D.useState(null);D.useEffect(()=>{t&&r&&h()},[t,r]);const h=async()=>{if(r)try{const{data:v,error:A}=await De.from("asset_depreciation_history").select("*").eq("asset_id",r.id).order("year");if(A)throw A;i(v||[])}catch(v){console.error("Error loading depreciation history:",v),u("Erro ao carregar histrico de depreciao")}},y=async()=>{if(r)try{l(!0),u(null);const{error:v}=await De.from("assets").update({status:"DISPOSED",updated_at:new Date().toISOString()}).eq("id",r.id);if(v)throw v;a(),e()}catch(v){console.error("Error disposing asset:",v),u("Erro ao baixar ativo")}finally{l(!1)}},m=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),w=v=>new Date(v).toLocaleDateString("pt-BR");return!t||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Ativo"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[d&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:d})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes Gerais"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nome"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Categoria"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:m(r.acquisitionValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Atual"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:m(r.currentValue)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:w(r.acquisitionDate)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Vida til"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.usefulLifeYears," anos"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Taxa de Depreciao Anual"}),s.jsxs("p",{className:"mt-1 text-secondary-900 dark:text-white",children:[r.annualDepreciationRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Conta Contbil"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.accountingAccount||"-"})]}),r.notes&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Observaes"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.notes})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Histrico de Depreciao"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Ano"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Anterior"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Depreciao"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Final"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:o.map(v=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:v.year}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:m(v.previous_value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 dark:text-red-400",children:m(v.depreciated_amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:m(v.current_value)})]},v.id))})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:c,children:"Fechar"}),r.status==="ACTIVE"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>n(r),className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:c,children:"Editar"}),s.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50",disabled:c,children:"Baixar Ativo"})]})]})]})]})})}function u$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(!1),[i,c]=D.useState(""),[l,d]=D.useState(null),[u,h]=D.useState([]),[y,m]=D.useState(!0),[w,v]=D.useState(null),[A,b]=D.useState({category:"",status:"",minValue:"",maxValue:"",dateRange:{start:"",end:""}});D.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:x,error:j}=await De.from("assets_with_details").select("*").order("name");if(j)throw j;h(x||[]),v(null)}catch(x){console.error("Error loading assets:",x),v("Erro ao carregar ativos")}finally{m(!1)}},R=()=>{d(null),e(!0)},W=x=>{d(x),n(!0)},z=x=>{d(x),e(!0)},B=x=>{d(x),o(!0)},g=async()=>{if(l)try{const{error:x}=await De.from("assets").delete().eq("id",l.id);if(x)throw x;h(u.filter(j=>j.id!==l.id)),o(!1),v(null)}catch(x){console.error("Error deleting asset:",x),v("Erro ao excluir ativo")}},I=u.filter(x=>{var ee;const j=i.toLowerCase(),P=x.name.toLowerCase().includes(j)||x.category.toLowerCase().includes(j)||((ee=x.accountingAccount)==null?void 0:ee.toLowerCase().includes(j)),E=!A.category||x.category===A.category,U=!A.status||x.status===A.status,q=(!A.minValue||x.currentValue>=parseFloat(A.minValue))&&(!A.maxValue||x.currentValue<=parseFloat(A.maxValue)),G=new Date(x.acquisitionDate),V=(!A.dateRange.start||G>=new Date(A.dateRange.start))&&(!A.dateRange.end||G<=new Date(A.dateRange.end));return P&&E&&U&&q&&V}),k=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),_={acquisitionValue:I.reduce((x,j)=>x+j.acquisitionValue,0),currentValue:I.reduce((x,j)=>x+j.currentValue,0),totalDepreciation:I.reduce((x,j)=>x+(j.acquisitionValue-j.currentValue),0),activeCount:I.filter(x=>x.status==="ACTIVE").length,fullyDepreciatedCount:I.filter(x=>x.status==="FULLY_DEPRECIATED").length,disposedCount:I.filter(x=>x.status==="DISPOSED").length};return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>v(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Gesto de Ativos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os ativos e suas depreciaes"})]}),s.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Ativo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total de Aquisio"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:k(_.acquisitionValue)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Atual (Depreciado)"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:k(_.currentValue)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total Depreciado"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-red-600 dark:text-red-400",children:k(_.totalDepreciation)})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome, categoria ou conta contbil...",value:i,onChange:x=>c(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>{},className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(vc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),y?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(l$,{assets:I,onView:W,onEdit:z,onDelete:B})]}),s.jsx(c$,{isOpen:t,onClose:()=>e(!1),asset:l,onSuccess:()=>{e(!1),S()}}),s.jsx(d$,{isOpen:r,onClose:()=>n(!1),asset:l,onEdit:z,onSuccess:S}),s.jsx(Ei,{isOpen:a,onClose:()=>o(!1),title:"Excluir Ativo",description:`Tem certeza que deseja excluir o ativo "${l==null?void 0:l.name}"? Esta ao no poder ser desfeita.`,confirmLabel:"Excluir",cancelLabel:"Cancelar",confirmVariant:"danger",icon:nr,onConfirm:g})]})}function f$({isOpen:t,onClose:e,passive:r,onSuccess:n}){const[a,o]=D.useState("general"),[i,c]=D.useState(!1),[l,d]=D.useState(null),[u,h]=D.useState([]),[y,m]=D.useState([]),[w,v]=D.useState([]),[A,b]=D.useState([]),[S,R]=D.useState({general:{name:"",description:"",acquisitionDate:"",competenceDate:""},financial:{value:"",paymentMethodId:"",installments:"1",bankAccountId:"",cnpjId:"",categoryId:""}});D.useEffect(()=>{t&&(W(),r&&R({general:{name:r.name,description:r.description,acquisitionDate:r.acquisition_date,competenceDate:r.competence_date},financial:{value:r.value.toString(),paymentMethodId:r.payment_method_id,installments:r.total_installments.toString(),bankAccountId:r.bank_account_id,cnpjId:r.cnpj_id,categoryId:r.category_id}}))},[t,r]);const W=async()=>{try{const[I,k,_,x]=await Promise.all([De.from("cnpjs").select("*").eq("active",!0),De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0),De.from("payment_methods").select("*").eq("active",!0)]);if(I.error)throw I.error;if(k.error)throw k.error;if(_.error)throw _.error;if(x.error)throw x.error;h(I.data||[]),m(k.data||[]),v(_.data||[]),b(x.data||[])}catch(I){console.error("Error loading data:",I),d("Erro ao carregar dados")}},z=I=>{const k=I.replace(/\D/g,"");return(parseInt(k)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},B=I=>{let k=I.target.value.replace(/\D/g,"");k===""&&(k="0");const _=parseInt(k)/100;R(x=>({...x,financial:{...x.financial,value:_.toString()}}))},g=async I=>{var k;I.preventDefault(),c(!0),d(null);try{const _={name:S.general.name,description:S.general.description,acquisition_date:S.general.acquisitionDate,competence_date:S.general.competenceDate,value:parseFloat(S.financial.value),payment_method_id:S.financial.paymentMethodId,bank_account_id:S.financial.bankAccountId,cnpj_id:S.financial.cnpjId,category_id:S.financial.categoryId,total_installments:parseInt(S.financial.installments),status:"PENDING",created_by_id:(k=(await De.auth.getUser()).data.user)==null?void 0:k.id};if(r){const{error:x}=await De.from("passives").update(_).eq("id",r.id);if(x)throw x}else{const{error:x}=await De.from("passives").insert([_]);if(x)throw x}n(),e()}catch(_){console.error("Error saving passive:",_),d("Erro ao salvar passivo")}finally{c(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:r?"Editar Passivo":"Novo Passivo"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>o("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>o("financial"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${a==="financial"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Detalhes Financeiros"})]})}),s.jsxs("form",{onSubmit:g,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[l&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:l})]}),a==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Passivo"}),s.jsx("input",{type:"text",value:S.general.name,onChange:I=>R(k=>({...k,general:{...k.general,name:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:S.general.description,onChange:I=>R(k=>({...k,general:{...k.general,description:I.target.value}})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Aquisio"}),s.jsx("input",{type:"date",value:S.general.acquisitionDate,onChange:I=>R(k=>({...k,general:{...k.general,acquisitionDate:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data de Competncia"}),s.jsx("input",{type:"date",value:S.general.competenceDate,onChange:I=>R(k=>({...k,general:{...k.general,competenceDate:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),a==="financial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor do Passivo"}),s.jsx("input",{type:"text",value:z(S.financial.value),onChange:B,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Forma de Pagamento"}),s.jsxs("select",{value:S.financial.paymentMethodId,onChange:I=>R(k=>({...k,financial:{...k.financial,paymentMethodId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma forma de pagamento"}),A.map(I=>s.jsx("option",{value:I.id,children:I.description},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",min:"1",value:S.financial.installments,onChange:I=>R(k=>({...k,financial:{...k.financial,installments:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:S.financial.bankAccountId,onChange:I=>R(k=>({...k,financial:{...k.financial,bankAccountId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),w.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.bank," ",I.branch,"/",I.account]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("select",{value:S.financial.cnpjId,onChange:I=>R(k=>({...k,financial:{...k.financial,cnpjId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione um CNPJ"}),u.map(I=>s.jsxs("option",{value:I.id,children:[I.name," - ",I.cnpj]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsxs("select",{value:S.financial.categoryId,onChange:I=>R(k=>({...k,financial:{...k.financial,categoryId:I.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),y.filter(I=>I.type==="EXPENSE"||I.type==="BOTH").map(I=>s.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:i,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:i,children:i?"Salvando...":r?"Salvar Alteraes":"Criar Passivo"})]})]})]})}):null}function h$({isOpen:t,onClose:e,passive:r,onEdit:n,onSuccess:a}){if(!t||!r)return null;const o=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),i=c=>new Date(c).toLocaleDateString("pt-BR");return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Passivo"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Informaes Gerais"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Nome"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:o(r.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Aquisio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:i(r.acquisition_date)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Data de Competncia"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:i(r.competence_date)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Forma de Pagamento"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.payment_method_description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Conta Bancria"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.bank_account_name})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Descrio"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white",children:r.description})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Parcelas"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Parcela"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:(r.installment_details||[]).map(c=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:[c.installment_number,"/",r.total_installments]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o(c.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(c.due_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="PAID"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":c.status==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:c.status==="PAID"?"Pago":c.status==="PENDING"?"Pendente":"Cancelado"})})]},c.installment_number))})]})})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Fechar"}),s.jsx("button",{type:"button",onClick:()=>n(r),className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Editar"})]})]})})}function p$({passives:t,onView:e}){if(t.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(bc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum passivo encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h passivos que correspondam aos filtros selecionados."})]});const r=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),n=o=>new Date(o).toLocaleDateString("pt-BR"),a=o=>{switch(o){case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"Pendente"});case"IN_PROGRESS":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Em Andamento"});case"PAID":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Quitado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Nome"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor Pago"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data de Aquisio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Forma de Pagamento"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:t.map(o=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:o.name}),s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:o.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-secondary-900 dark:text-white",children:r(o.value)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:r(o.total_paid||0)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:n(o.acquisition_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:o.payment_method_description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a(o.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>e(o),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",title:"Visualizar",children:s.jsx(Qd,{className:"h-5 w-5"})})})]},o.id))})]})})}function m$({isOpen:t,onClose:e,filters:r,onApplyFilters:n}){const[a,o]=$r.useState(r),i=()=>{n(a),e()},c=()=>{const l={dateRange:{start:"",end:""},minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""};o(l),n(l),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:a.dateRange.start,onChange:l=>o(d=>({...d,dateRange:{...d.dateRange,start:l.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:a.dateRange.end,onChange:l=>o(d=>({...d,dateRange:{...d.dateRange,end:l.target.value}})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mnimo"}),s.jsx("input",{type:"number",value:a.minValue,onChange:l=>o(d=>({...d,minValue:l.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor Mximo"}),s.jsx("input",{type:"number",value:a.maxValue,onChange:l=>o(d=>({...d,maxValue:l.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"R$ 0,00",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:a.status,onChange:l=>o(d=>({...d,status:l.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"IN_PROGRESS",children:"Em Andamento"}),s.jsx("option",{value:"PAID",children:"Quitados"})]})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function g$(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(!1),[i,c]=D.useState(""),[l,d]=D.useState(null),[u,h]=D.useState([]),[y,m]=D.useState(!0),[w,v]=D.useState(null),[A,b]=D.useState({dateRange:{start:"",end:""},minValue:"",maxValue:"",cnpjId:"",categoryId:"",status:""});D.useEffect(()=>{S()},[A]);const S=async()=>{try{m(!0);const{data:B,error:g}=await De.from("passives_with_details").select("*").order("acquisition_date",{ascending:!1});if(g)throw g;h(B||[]),v(null)}catch(B){console.error("Error loading passives:",B),v("Erro ao carregar passivos")}finally{m(!1)}},R=u.filter(B=>{const g=i.toLowerCase(),I=B.name.toLowerCase().includes(g)||B.description.toLowerCase().includes(g),k=(!A.dateRange.start||new Date(B.acquisition_date)>=new Date(A.dateRange.start))&&(!A.dateRange.end||new Date(B.acquisition_date)<=new Date(A.dateRange.end)),_=(!A.minValue||B.value>=parseFloat(A.minValue))&&(!A.maxValue||B.value<=parseFloat(A.maxValue)),x=!A.cnpjId||B.cnpj_id===A.cnpjId,j=!A.categoryId||B.category_id===A.categoryId,P=!A.status||B.status===A.status;return I&&k&&_&&x&&j&&P}),W={totalDebt:R.reduce((B,g)=>B+g.value,0),monthlyPayments:R.filter(B=>B.status==="IN_PROGRESS").reduce((B,g)=>{const I=g.installment_details||[],k=new Date().getMonth(),_=new Date().getFullYear();return B+I.filter(x=>{const j=new Date(x.due_date);return j.getMonth()===k&&j.getFullYear()===_&&x.status==="PENDING"}).reduce((x,j)=>x+j.value,0)},0),totalPaid:R.reduce((B,g)=>B+(g.total_paid||0),0)},z=B=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B);return s.jsxs("div",{className:"p-4 sm:p-6",children:[w&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:w}),s.jsx("button",{onClick:()=>v(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Gesto de Passivos"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie as dvidas da empresa"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Adicionar Passivo"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Valor Total das Dvidas"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-secondary-900 dark:text-white",children:z(W.totalDebt)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Parcelas do Ms"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-yellow-600 dark:text-yellow-400",children:z(W.monthlyPayments)})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total J Pago"}),s.jsx("p",{className:"mt-2 text-2xl font-semibold text-green-600 dark:text-green-400",children:z(W.totalPaid)})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:i,onChange:B=>c(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(vc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})})]})}),y?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsx(p$,{passives:R,onView:B=>{d(B),n(!0)}})]}),s.jsx(f$,{isOpen:t,onClose:()=>e(!1),passive:null,onSuccess:()=>{e(!1),S()}}),s.jsx(h$,{isOpen:r,onClose:()=>{n(!1),d(null)},passive:l,onEdit:B=>{d(B),n(!1),e(!0)},onSuccess:S}),s.jsx(m$,{isOpen:a,onClose:()=>o(!1),filters:A,onApplyFilters:b})]})}function y$({isOpen:t,onClose:e,filters:r,onApplyFilters:n}){const[a,o]=$r.useState(r),i=()=>{n(a),e()},c=()=>{const l={bankAccountId:"",type:"",categoryId:"",status:""};o(l),n(l),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Filtros Avanados"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsx("select",{value:a.bankAccountId,onChange:l=>o(d=>({...d,bankAccountId:l.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todas as contas"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Tipo de Lanamento"}),s.jsxs("select",{value:a.type,onChange:l=>o(d=>({...d,type:l.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"CREDIT",children:"Receitas"}),s.jsx("option",{value:"DEBIT",children:"Despesas"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx("select",{value:a.categoryId,onChange:l=>o(d=>({...d,categoryId:l.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.jsx("option",{value:"",children:"Todas as categorias"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:a.status,onChange:l=>o(d=>({...d,status:l.target.value})),className:"w-full px-3 sm:px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Todos"}),s.jsx("option",{value:"RECONCILED",children:"Conciliado"}),s.jsx("option",{value:"PENDING",children:"No Conciliado"}),s.jsx("option",{value:"REGISTERED",children:"Pendente"}),s.jsx("option",{value:"CANCELED",children:"Cancelado"}),s.jsx("option",{value:"REVERSED",children:"Estornado"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:c,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:"Limpar Filtros"}),s.jsx("button",{type:"button",onClick:i,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Aplicar Filtros"})]})]})}):null}function x$({handleDelete:t,statements:e,onView:r,onEdit:n,onDelete:a}){if(e.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-800/50 rounded-full p-3 mb-4",children:s.jsx(bc,{className:"h-8 w-8 text-secondary-400 dark:text-secondary-500"})}),s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-1",children:"Nenhum lanamento encontrado"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 text-center max-w-sm",children:"No h lanamentos bancrios que correspondam aos filtros selecionados."})]});const o=(l,d)=>{const u=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(l));return d==="DEBIT"?`-${u}`:u},i=l=>l?l.split("-").reverse().join("/"):"-",c=l=>{switch(l){case"RECONCILED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Conciliado"});case"PENDING":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:"No Conciliado"});case"REGISTERED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Pendente"});case"CANCELED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Cancelado"});case"REVERSED":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",children:"Estornado"});default:return null}};return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Categoria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Beneficirio/Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Conta Bancria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Aes"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:e.map(l=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:i(l.transaction_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:l.category_name||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:l.description||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:l.beneficiary||"---"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:l.bank_account_name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c(l.status)}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${l.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:o(l.value,l.type)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>r(l),className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300 mr-3",title:"Visualizar",children:s.jsx(Qd,{className:"h-5 w-5"})})})]},l.id))})]})})}function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function b$(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nC(t){var e=b$(t,"string");return gc(e)=="symbol"?e:e+""}function Xu(t,e,r){return(e=nC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(r),!0).forEach(function(n){Xu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v$(t){if(Array.isArray(t))return t}function w$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){d=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw a}}return c}}function ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function aC(t,e){if(t){if(typeof t=="string")return ob(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ob(t,e):void 0}}function k$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mi(t,e){return v$(t)||w$(t,e)||aC(t,e)||k$()}function j$(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ai(t,e){if(t==null)return{};var r,n,a=j$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var N$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function S$(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,o=t.defaultValue,i=o===void 0?null:o,c=t.inputValue,l=t.menuIsOpen,d=t.onChange,u=t.onInputChange,h=t.onMenuClose,y=t.onMenuOpen,m=t.value,w=Ai(t,N$),v=D.useState(c!==void 0?c:r),A=mi(v,2),b=A[0],S=A[1],R=D.useState(l!==void 0?l:a),W=mi(R,2),z=W[0],B=W[1],g=D.useState(m!==void 0?m:i),I=mi(g,2),k=I[0],_=I[1],x=D.useCallback(function(V,ee){typeof d=="function"&&d(V,ee),_(V)},[d]),j=D.useCallback(function(V,ee){var le;typeof u=="function"&&(le=u(V,ee)),S(le!==void 0?le:V)},[u]),P=D.useCallback(function(){typeof y=="function"&&y(),B(!0)},[y]),E=D.useCallback(function(){typeof h=="function"&&h(),B(!1)},[h]),U=c!==void 0?c:b,q=l!==void 0?l:z,G=m!==void 0?m:k;return It(It({},w),{},{inputValue:U,menuIsOpen:q,onChange:x,onInputChange:j,onMenuClose:E,onMenuOpen:P,value:G})}function Ft(){return Ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ft.apply(null,arguments)}function C$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nC(n.key),n)}}function _$(t,e,r){return e&&T5(t.prototype,e),r&&T5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ib(t,e)}function E$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function T0(t){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T0(t)}function sC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sC=function(){return!!t})()}function A$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(t,e){if(e&&(gc(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A$(t)}function L$(t){var e=sC();return function(){var r,n=T0(t);if(e){var a=T0(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return P$(this,r)}}function D$(t){if(Array.isArray(t))return ob(t)}function I$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xw(t){return D$(t)||I$(t)||aC(t)||R$()}function T$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function O$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var M$=function(){function t(r){var n=this;this._insertTag=function(a){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,o),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(O$(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=T$(a);try{o.insertRule(n,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),ga="-ms-",O0="-moz-",vr="-webkit-",oC="comm",bw="rule",vw="decl",F$="@import",iC="@keyframes",B$="@layer",$$=Math.abs,$m=String.fromCharCode,q$=Object.assign;function U$(t,e){return sa(t,0)^45?(((e<<2^sa(t,0))<<2^sa(t,1))<<2^sa(t,2))<<2^sa(t,3):0}function lC(t){return t.trim()}function z$(t,e){return(t=e.exec(t))?t[0]:t}function wr(t,e,r){return t.replace(e,r)}function lb(t,e){return t.indexOf(e)}function sa(t,e){return t.charCodeAt(e)|0}function Uf(t,e,r){return t.slice(e,r)}function To(t){return t.length}function ww(t){return t.length}function lp(t,e){return e.push(t),t}function V$(t,e){return t.map(e).join("")}var qm=1,Hd=1,cC=0,Ya=0,Dn=0,uu="";function Um(t,e,r,n,a,o,i){return{value:t,root:e,parent:r,type:n,props:a,children:o,line:qm,column:Hd,length:i,return:""}}function qu(t,e){return q$(Um("",null,null,"",null,null,0),t,{length:-t.length},e)}function H$(){return Dn}function W$(){return Dn=Ya>0?sa(uu,--Ya):0,Hd--,Dn===10&&(Hd=1,qm--),Dn}function hs(){return Dn=Ya<cC?sa(uu,Ya++):0,Hd++,Dn===10&&(Hd=1,qm++),Dn}function qo(){return sa(uu,Ya)}function Op(){return Ya}function ph(t,e){return Uf(uu,t,e)}function zf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dC(t){return qm=Hd=1,cC=To(uu=t),Ya=0,[]}function uC(t){return uu="",t}function Mp(t){return lC(ph(Ya-1,cb(t===91?t+2:t===40?t+1:t)))}function G$(t){for(;(Dn=qo())&&Dn<33;)hs();return zf(t)>2||zf(Dn)>3?"":" "}function J$(t,e){for(;--e&&hs()&&!(Dn<48||Dn>102||Dn>57&&Dn<65||Dn>70&&Dn<97););return ph(t,Op()+(e<6&&qo()==32&&hs()==32))}function cb(t){for(;hs();)switch(Dn){case t:return Ya;case 34:case 39:t!==34&&t!==39&&cb(Dn);break;case 40:t===41&&cb(t);break;case 92:hs();break}return Ya}function K$(t,e){for(;hs()&&t+Dn!==57;)if(t+Dn===84&&qo()===47)break;return"/*"+ph(e,Ya-1)+"*"+$m(t===47?t:hs())}function Y$(t){for(;!zf(qo());)hs();return ph(t,Ya)}function X$(t){return uC(Fp("",null,null,null,[""],t=dC(t),0,[0],t))}function Fp(t,e,r,n,a,o,i,c,l){for(var d=0,u=0,h=i,y=0,m=0,w=0,v=1,A=1,b=1,S=0,R="",W=a,z=o,B=n,g=R;A;)switch(w=S,S=hs()){case 40:if(w!=108&&sa(g,h-1)==58){lb(g+=wr(Mp(S),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:g+=Mp(S);break;case 9:case 10:case 13:case 32:g+=G$(w);break;case 92:g+=J$(Op()-1,7);continue;case 47:switch(qo()){case 42:case 47:lp(Q$(K$(hs(),Op()),e,r),l);break;default:g+="/"}break;case 123*v:c[d++]=To(g)*b;case 125*v:case 59:case 0:switch(S){case 0:case 125:A=0;case 59+u:b==-1&&(g=wr(g,/\f/g,"")),m>0&&To(g)-h&&lp(m>32?M5(g+";",n,r,h-1):M5(wr(g," ","")+";",n,r,h-2),l);break;case 59:g+=";";default:if(lp(B=O5(g,e,r,d,u,a,c,R,W=[],z=[],h),o),S===123)if(u===0)Fp(g,e,B,B,W,o,h,c,z);else switch(y===99&&sa(g,3)===110?100:y){case 100:case 108:case 109:case 115:Fp(t,B,B,n&&lp(O5(t,B,B,0,0,a,c,R,a,W=[],h),z),a,z,h,c,n?W:z);break;default:Fp(g,B,B,B,[""],z,0,c,z)}}d=u=m=0,v=b=1,R=g="",h=i;break;case 58:h=1+To(g),m=w;default:if(v<1){if(S==123)--v;else if(S==125&&v++==0&&W$()==125)continue}switch(g+=$m(S),S*v){case 38:b=u>0?1:(g+="\f",-1);break;case 44:c[d++]=(To(g)-1)*b,b=1;break;case 64:qo()===45&&(g+=Mp(hs())),y=qo(),u=h=To(R=g+=Y$(Op())),S++;break;case 45:w===45&&To(g)==2&&(v=0)}}return o}function O5(t,e,r,n,a,o,i,c,l,d,u){for(var h=a-1,y=a===0?o:[""],m=ww(y),w=0,v=0,A=0;w<n;++w)for(var b=0,S=Uf(t,h+1,h=$$(v=i[w])),R=t;b<m;++b)(R=lC(v>0?y[b]+" "+S:wr(S,/&\f/g,y[b])))&&(l[A++]=R);return Um(t,e,r,a===0?bw:c,l,d,u)}function Q$(t,e,r){return Um(t,e,r,oC,$m(H$()),Uf(t,2,-2),0)}function M5(t,e,r,n){return Um(t,e,r,vw,Uf(t,0,n),Uf(t,n+1,-1),n)}function Nd(t,e){for(var r="",n=ww(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function Z$(t,e,r,n){switch(t.type){case B$:if(t.children.length)break;case F$:case vw:return t.return=t.return||t.value;case oC:return"";case iC:return t.return=t.value+"{"+Nd(t.children,n)+"}";case bw:t.value=t.props.join(",")}return To(r=Nd(t.children,n))?t.return=t.value+"{"+r+"}":""}function eq(t){var e=ww(t);return function(r,n,a,o){for(var i="",c=0;c<e;c++)i+=t[c](r,n,a,o)||"";return i}}function tq(t){return function(e){e.root||(e=e.return)&&t(e)}}function rq(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var nq=function(e,r,n){for(var a=0,o=0;a=o,o=qo(),a===38&&o===12&&(r[n]=1),!zf(o);)hs();return ph(e,Ya)},aq=function(e,r){var n=-1,a=44;do switch(zf(a)){case 0:a===38&&qo()===12&&(r[n]=1),e[n]+=nq(Ya-1,r,n);break;case 2:e[n]+=Mp(a);break;case 4:if(a===44){e[++n]=qo()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=$m(a)}while(a=hs());return e},sq=function(e,r){return uC(aq(dC(e),r))},F5=new WeakMap,oq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!F5.get(n))&&!a){F5.set(e,!0);for(var o=[],i=sq(r,o),c=n.props,l=0,d=0;l<i.length;l++)for(var u=0;u<c.length;u++,d++)e.props[d]=o[l]?i[l].replace(/&\f/g,c[u]):c[u]+" "+i[l]}}},iq=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function fC(t,e){switch(U$(t,e)){case 5103:return vr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return vr+t+O0+t+ga+t+t;case 6828:case 4268:return vr+t+ga+t+t;case 6165:return vr+t+ga+"flex-"+t+t;case 5187:return vr+t+wr(t,/(\w+).+(:[^]+)/,vr+"box-$1$2"+ga+"flex-$1$2")+t;case 5443:return vr+t+ga+"flex-item-"+wr(t,/flex-|-self/,"")+t;case 4675:return vr+t+ga+"flex-line-pack"+wr(t,/align-content|flex-|-self/,"")+t;case 5548:return vr+t+ga+wr(t,"shrink","negative")+t;case 5292:return vr+t+ga+wr(t,"basis","preferred-size")+t;case 6060:return vr+"box-"+wr(t,"-grow","")+vr+t+ga+wr(t,"grow","positive")+t;case 4554:return vr+wr(t,/([^-])(transform)/g,"$1"+vr+"$2")+t;case 6187:return wr(wr(wr(t,/(zoom-|grab)/,vr+"$1"),/(image-set)/,vr+"$1"),t,"")+t;case 5495:case 3959:return wr(t,/(image-set\([^]*)/,vr+"$1$`$1");case 4968:return wr(wr(t,/(.+:)(flex-)?(.*)/,vr+"box-pack:$3"+ga+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vr+t+t;case 4095:case 3583:case 4068:case 2532:return wr(t,/(.+)-inline(.+)/,vr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(To(t)-1-e>6)switch(sa(t,e+1)){case 109:if(sa(t,e+4)!==45)break;case 102:return wr(t,/(.+:)(.+)-([^]+)/,"$1"+vr+"$2-$3$1"+O0+(sa(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lb(t,"stretch")?fC(wr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(sa(t,e+1)!==115)break;case 6444:switch(sa(t,To(t)-3-(~lb(t,"!important")&&10))){case 107:return wr(t,":",":"+vr)+t;case 101:return wr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vr+(sa(t,14)===45?"inline-":"")+"box$3$1"+vr+"$2$3$1"+ga+"$2box$3")+t}break;case 5936:switch(sa(t,e+11)){case 114:return vr+t+ga+wr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return vr+t+ga+wr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return vr+t+ga+wr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return vr+t+ga+t+t}return t}var lq=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case vw:e.return=fC(e.value,e.length);break;case iC:return Nd([qu(e,{value:wr(e.value,"@","@"+vr)})],a);case bw:if(e.length)return V$(e.props,function(o){switch(z$(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Nd([qu(e,{props:[wr(o,/:(read-\w+)/,":"+O0+"$1")]})],a);case"::placeholder":return Nd([qu(e,{props:[wr(o,/:(plac\w+)/,":"+vr+"input-$1")]}),qu(e,{props:[wr(o,/:(plac\w+)/,":"+O0+"$1")]}),qu(e,{props:[wr(o,/:(plac\w+)/,ga+"input-$1")]})],a)}return""})}},cq=[lq],dq=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var A=v.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=e.stylisPlugins||cq,o={},i,c=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var A=v.getAttribute("data-emotion").split(" "),b=1;b<A.length;b++)o[A[b]]=!0;c.push(v)});var l,d=[oq,iq];{var u,h=[Z$,tq(function(v){u.insert(v)})],y=eq(d.concat(a,h)),m=function(A){return Nd(X$(A),y)};l=function(A,b,S,R){u=S,m(A?A+"{"+b.styles+"}":b.styles),R&&(w.inserted[b.name]=!0)}}var w={key:r,sheet:new M$({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return w.sheet.hydrate(c),w},hC={exports:{}},Pr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=typeof Symbol=="function"&&Symbol.for,kw=ea?Symbol.for("react.element"):60103,jw=ea?Symbol.for("react.portal"):60106,zm=ea?Symbol.for("react.fragment"):60107,Vm=ea?Symbol.for("react.strict_mode"):60108,Hm=ea?Symbol.for("react.profiler"):60114,Wm=ea?Symbol.for("react.provider"):60109,Gm=ea?Symbol.for("react.context"):60110,Nw=ea?Symbol.for("react.async_mode"):60111,Jm=ea?Symbol.for("react.concurrent_mode"):60111,Km=ea?Symbol.for("react.forward_ref"):60112,Ym=ea?Symbol.for("react.suspense"):60113,uq=ea?Symbol.for("react.suspense_list"):60120,Xm=ea?Symbol.for("react.memo"):60115,Qm=ea?Symbol.for("react.lazy"):60116,fq=ea?Symbol.for("react.block"):60121,hq=ea?Symbol.for("react.fundamental"):60117,pq=ea?Symbol.for("react.responder"):60118,mq=ea?Symbol.for("react.scope"):60119;function ks(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kw:switch(t=t.type,t){case Nw:case Jm:case zm:case Hm:case Vm:case Ym:return t;default:switch(t=t&&t.$$typeof,t){case Gm:case Km:case Qm:case Xm:case Wm:return t;default:return e}}case jw:return e}}}function pC(t){return ks(t)===Jm}Pr.AsyncMode=Nw;Pr.ConcurrentMode=Jm;Pr.ContextConsumer=Gm;Pr.ContextProvider=Wm;Pr.Element=kw;Pr.ForwardRef=Km;Pr.Fragment=zm;Pr.Lazy=Qm;Pr.Memo=Xm;Pr.Portal=jw;Pr.Profiler=Hm;Pr.StrictMode=Vm;Pr.Suspense=Ym;Pr.isAsyncMode=function(t){return pC(t)||ks(t)===Nw};Pr.isConcurrentMode=pC;Pr.isContextConsumer=function(t){return ks(t)===Gm};Pr.isContextProvider=function(t){return ks(t)===Wm};Pr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kw};Pr.isForwardRef=function(t){return ks(t)===Km};Pr.isFragment=function(t){return ks(t)===zm};Pr.isLazy=function(t){return ks(t)===Qm};Pr.isMemo=function(t){return ks(t)===Xm};Pr.isPortal=function(t){return ks(t)===jw};Pr.isProfiler=function(t){return ks(t)===Hm};Pr.isStrictMode=function(t){return ks(t)===Vm};Pr.isSuspense=function(t){return ks(t)===Ym};Pr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zm||t===Jm||t===Hm||t===Vm||t===Ym||t===uq||typeof t=="object"&&t!==null&&(t.$$typeof===Qm||t.$$typeof===Xm||t.$$typeof===Wm||t.$$typeof===Gm||t.$$typeof===Km||t.$$typeof===hq||t.$$typeof===pq||t.$$typeof===mq||t.$$typeof===fq)};Pr.typeOf=ks;hC.exports=Pr;var gq=hC.exports,mC=gq,yq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gC={};gC[mC.ForwardRef]=yq;gC[mC.Memo]=xq;var bq=!0;function vq(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var yC=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||bq===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},wq=function(e,r,n){yC(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function kq(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var jq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Nq=/[A-Z]|^ms/g,Sq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xC=function(e){return e.charCodeAt(1)===45},B5=function(e){return e!=null&&typeof e!="boolean"},yy=rq(function(t){return xC(t)?t:t.replace(Nq,"-$&").toLowerCase()}),$5=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Sq,function(n,a,o){return Oo={name:a,styles:o,next:Oo},a})}return jq[e]!==1&&!xC(e)&&typeof r=="number"&&r!==0?r+"px":r};function Vf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Oo={name:a.name,styles:a.styles,next:Oo},a.name;var o=r;if(o.styles!==void 0){var i=o.next;if(i!==void 0)for(;i!==void 0;)Oo={name:i.name,styles:i.styles,next:Oo},i=i.next;var c=o.styles+";";return c}return Cq(t,e,r)}case"function":{if(t!==void 0){var l=Oo,d=r(t);return Oo=l,Vf(t,e,d)}break}}var u=r;return u}function Cq(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Vf(t,e,r[a])+";";else for(var o in r){var i=r[o];if(typeof i!="object"){var c=i;B5(c)&&(n+=yy(o)+":"+$5(o,c)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var l=0;l<i.length;l++)B5(i[l])&&(n+=yy(o)+":"+$5(o,i[l])+";");else{var d=Vf(t,e,i);switch(o){case"animation":case"animationName":{n+=yy(o)+":"+d+";";break}default:n+=o+"{"+d+"}"}}}return n}var q5=/label:\s*([^\s;{]+)\s*(;|$)/g,Oo;function bC(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Oo=void 0;var o=t[0];if(o==null||o.raw===void 0)n=!1,a+=Vf(r,e,o);else{var i=o;a+=i[0]}for(var c=1;c<t.length;c++)if(a+=Vf(r,e,t[c]),n){var l=o;a+=l[c]}q5.lastIndex=0;for(var d="",u;(u=q5.exec(a))!==null;)d+="-"+u[1];var h=kq(a)+d;return{name:h,styles:a,next:Oo}}var _q=function(e){return e()},Eq=h2.useInsertionEffect?h2.useInsertionEffect:!1,Aq=Eq||_q,vC=D.createContext(typeof HTMLElement<"u"?dq({key:"css"}):null);vC.Provider;var Pq=function(e){return D.forwardRef(function(r,n){var a=D.useContext(vC);return e(r,a,n)})},Lq=D.createContext({}),Sw={}.hasOwnProperty,db="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Dq=function(e,r){var n={};for(var a in r)Sw.call(r,a)&&(n[a]=r[a]);return n[db]=e,n},Iq=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return yC(r,n,a),Aq(function(){return wq(r,n,a)}),null},Rq=Pq(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[db],o=[n],i="";typeof t.className=="string"?i=vq(e.registered,o,t.className):t.className!=null&&(i=t.className+" ");var c=bC(o,void 0,D.useContext(Lq));i+=e.key+"-"+c.name;var l={};for(var d in t)Sw.call(t,d)&&d!=="css"&&d!==db&&(l[d]=t[d]);return l.className=i,r&&(l.ref=r),D.createElement(D.Fragment,null,D.createElement(Iq,{cache:e,serialized:c,isStringTag:typeof a=="string"}),D.createElement(a,l))}),Tq=Rq,_t=function(e,r){var n=arguments;if(r==null||!Sw.call(r,"css"))return D.createElement.apply(void 0,n);var a=n.length,o=new Array(a);o[0]=Tq,o[1]=Dq(e,r);for(var i=2;i<a;i++)o[i]=n[i];return D.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_t||(_t={}));function Cw(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return bC(e)}function Oq(){var t=Cw.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Mq(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Fq=Math.min,Bq=Math.max,M0=Math.round,cp=Math.floor,F0=t=>({x:t,y:t});function $q(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Zm(){return typeof window<"u"}function wC(t){return jC(t)?(t.nodeName||"").toLowerCase():"#document"}function ji(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kC(t){var e;return(e=(jC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jC(t){return Zm()?t instanceof Node||t instanceof ji(t).Node:!1}function qq(t){return Zm()?t instanceof Element||t instanceof ji(t).Element:!1}function _w(t){return Zm()?t instanceof HTMLElement||t instanceof ji(t).HTMLElement:!1}function U5(t){return!Zm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ji(t).ShadowRoot}function NC(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Ew(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function Uq(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zq(t){return["html","body","#document"].includes(wC(t))}function Ew(t){return ji(t).getComputedStyle(t)}function Vq(t){if(wC(t)==="html")return t;const e=t.assignedSlot||t.parentNode||U5(t)&&t.host||kC(t);return U5(e)?e.host:e}function SC(t){const e=Vq(t);return zq(e)?t.ownerDocument?t.ownerDocument.body:t.body:_w(e)&&NC(e)?e:SC(e)}function B0(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=SC(t),o=a===((n=t.ownerDocument)==null?void 0:n.body),i=ji(a);if(o){const c=ub(i);return e.concat(i,i.visualViewport||[],NC(a)?a:[],c&&r?B0(c):[])}return e.concat(a,B0(a,[],r))}function ub(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Hq(t){const e=Ew(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=_w(t),o=a?t.offsetWidth:r,i=a?t.offsetHeight:n,c=M0(r)!==o||M0(n)!==i;return c&&(r=o,n=i),{width:r,height:n,$:c}}function Aw(t){return qq(t)?t:t.contextElement}function z5(t){const e=Aw(t);if(!_w(e))return F0(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:o}=Hq(e);let i=(o?M0(r.width):r.width)/n,c=(o?M0(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Wq=F0(0);function Gq(t){const e=ji(t);return!Uq()||!e.visualViewport?Wq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jq(t,e,r){return!1}function V5(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),o=Aw(t);let i=F0(1);e&&(i=z5(t));const c=Jq()?Gq(o):F0(0);let l=(a.left+c.x)/i.x,d=(a.top+c.y)/i.y,u=a.width/i.x,h=a.height/i.y;if(o){const y=ji(o),m=n;let w=y,v=ub(w);for(;v&&n&&m!==w;){const A=z5(v),b=v.getBoundingClientRect(),S=Ew(v),R=b.left+(v.clientLeft+parseFloat(S.paddingLeft))*A.x,W=b.top+(v.clientTop+parseFloat(S.paddingTop))*A.y;l*=A.x,d*=A.y,u*=A.x,h*=A.y,l+=R,d+=W,w=ji(v),v=ub(w)}}return $q({width:u,height:h,x:l,y:d})}function CC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Kq(t,e){let r=null,n;const a=kC(t);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const d=t.getBoundingClientRect(),{left:u,top:h,width:y,height:m}=d;if(c||e(),!y||!m)return;const w=cp(h),v=cp(a.clientWidth-(u+y)),A=cp(a.clientHeight-(h+m)),b=cp(u),R={rootMargin:-w+"px "+-v+"px "+-A+"px "+-b+"px",threshold:Bq(0,Fq(1,l))||1};let W=!0;function z(B){const g=B[0].intersectionRatio;if(g!==l){if(!W)return i();g?i(!1,g):n=setTimeout(()=>{i(!1,1e-7)},1e3)}g===1&&!CC(d,t.getBoundingClientRect())&&i(),W=!1}try{r=new IntersectionObserver(z,{...R,root:a.ownerDocument})}catch{r=new IntersectionObserver(z,R)}r.observe(t)}return i(!0),o}function Yq(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=Aw(t),u=a||o?[...d?B0(d):[],...B0(e)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),o&&b.addEventListener("resize",r)});const h=d&&c?Kq(d,r):null;let y=-1,m=null;i&&(m=new ResizeObserver(b=>{let[S]=b;S&&S.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var R;(R=m)==null||R.observe(e)})),r()}),d&&!l&&m.observe(d),m.observe(e));let w,v=l?V5(t):null;l&&A();function A(){const b=V5(t);v&&!CC(v,b)&&r(),v=b,w=requestAnimationFrame(A)}return r(),()=>{var b;u.forEach(S=>{a&&S.removeEventListener("scroll",r),o&&S.removeEventListener("resize",r)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(w)}}var fb=D.useLayoutEffect,Xq=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],$0=function(){};function Qq(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Zq(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&o.push("".concat(Qq(t,i)));return o.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var H5=function(e){return lU(e)?e.filter(Boolean):gc(e)==="object"&&e!==null?[e]:[]},_C=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Ai(e,Xq);return It({},r)},hn=function(e,r,n){var a=e.cx,o=e.getStyles,i=e.getClassNames,c=e.className;return{css:o(r,e),className:a(n??{},i(r,e),c)}};function eg(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function eU(t){return eg(t)?window.innerHeight:t.clientHeight}function EC(t){return eg(t)?window.pageYOffset:t.scrollTop}function q0(t,e){if(eg(t)){window.scrollTo(0,e);return}t.scrollTop=e}function tU(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function rU(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function dp(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$0,a=EC(t),o=e-a,i=10,c=0;function l(){c+=i;var d=rU(c,a,o,r);q0(t,d),c<r?window.requestAnimationFrame(l):n(t)}l()}function W5(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?q0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&q0(t,Math.max(e.offsetTop-a,0))}function nU(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function G5(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function aU(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var AC=!1,sU={get passive(){return AC=!0}},up=typeof window<"u"?window:{};up.addEventListener&&up.removeEventListener&&(up.addEventListener("p",$0,sU),up.removeEventListener("p",$0,!1));var oU=AC;function iU(t){return t!=null}function lU(t){return Array.isArray(t)}function fp(t,e,r){return t?e:r}var cU=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=Object.entries(e).filter(function(i){var c=mi(i,1),l=c[0];return!n.includes(l)});return o.reduce(function(i,c){var l=mi(c,2),d=l[0],u=l[1];return i[d]=u,i},{})},dU=["children","innerProps"],uU=["children","innerProps"];function fU(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,o=t.shouldScroll,i=t.isFixedPosition,c=t.controlHeight,l=tU(r),d={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return d;var u=l.getBoundingClientRect(),h=u.height,y=r.getBoundingClientRect(),m=y.bottom,w=y.height,v=y.top,A=r.offsetParent.getBoundingClientRect(),b=A.top,S=i?window.innerHeight:eU(l),R=EC(l),W=parseInt(getComputedStyle(r).marginBottom,10),z=parseInt(getComputedStyle(r).marginTop,10),B=b-z,g=S-v,I=B+R,k=h-R-v,_=m-S+R+W,x=R+v-z,j=160;switch(a){case"auto":case"bottom":if(g>=w)return{placement:"bottom",maxHeight:e};if(k>=w&&!i)return o&&dp(l,_,j),{placement:"bottom",maxHeight:e};if(!i&&k>=n||i&&g>=n){o&&dp(l,_,j);var P=i?g-W:k-W;return{placement:"bottom",maxHeight:P}}if(a==="auto"||i){var E=e,U=i?B:I;return U>=n&&(E=Math.min(U-W-c,e)),{placement:"top",maxHeight:E}}if(a==="bottom")return o&&q0(l,_),{placement:"bottom",maxHeight:e};break;case"top":if(B>=w)return{placement:"top",maxHeight:e};if(I>=w&&!i)return o&&dp(l,x,j),{placement:"top",maxHeight:e};if(!i&&I>=n||i&&B>=n){var q=e;return(!i&&I>=n||i&&B>=n)&&(q=i?B-z:I-z),o&&dp(l,x,j),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return d}function hU(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var PC=function(e){return e==="auto"?"bottom":e},pU=function(e,r){var n,a=e.placement,o=e.theme,i=o.borderRadius,c=o.spacing,l=o.colors;return It((n={label:"menu"},Xu(n,hU(a),"100%"),Xu(n,"position","absolute"),Xu(n,"width","100%"),Xu(n,"zIndex",1),n),r?{}:{backgroundColor:l.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},LC=D.createContext(null),mU=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,o=e.menuPlacement,i=e.menuPosition,c=e.menuShouldScrollIntoView,l=e.theme,d=D.useContext(LC)||{},u=d.setPortalPlacement,h=D.useRef(null),y=D.useState(a),m=mi(y,2),w=m[0],v=m[1],A=D.useState(null),b=mi(A,2),S=b[0],R=b[1],W=l.spacing.controlHeight;return fb(function(){var z=h.current;if(z){var B=i==="fixed",g=c&&!B,I=fU({maxHeight:a,menuEl:z,minHeight:n,placement:o,shouldScroll:g,isFixedPosition:B,controlHeight:W});v(I.maxHeight),R(I.placement),u==null||u(I.placement)}},[a,o,i,c,n,u,W]),r({ref:h,placerProps:It(It({},e),{},{placement:S||PC(o),maxHeight:w})})},gU=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return _t("div",Ft({},hn(e,"menu",{menu:!0}),{ref:n},a),r)},yU=gU,xU=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return It({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},bU=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,o=e.isMulti;return _t("div",Ft({},hn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:a},n),r)},DC=function(e,r){var n=e.theme,a=n.spacing.baseUnit,o=n.colors;return It({textAlign:"center"},r?{}:{color:o.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},vU=DC,wU=DC,kU=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,o=Ai(e,dU);return _t("div",Ft({},hn(It(It({},o),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},jU=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,o=Ai(e,uU);return _t("div",Ft({},hn(It(It({},o),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},NU=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},SU=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,o=e.innerProps,i=e.menuPlacement,c=e.menuPosition,l=D.useRef(null),d=D.useRef(null),u=D.useState(PC(i)),h=mi(u,2),y=h[0],m=h[1],w=D.useMemo(function(){return{setPortalPlacement:m}},[]),v=D.useState(null),A=mi(v,2),b=A[0],S=A[1],R=D.useCallback(function(){if(a){var g=nU(a),I=c==="fixed"?0:window.pageYOffset,k=g[y]+I;(k!==(b==null?void 0:b.offset)||g.left!==(b==null?void 0:b.rect.left)||g.width!==(b==null?void 0:b.rect.width))&&S({offset:k,rect:g})}},[a,c,y,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);fb(function(){R()},[R]);var W=D.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),a&&l.current&&(d.current=Yq(a,l.current,R,{elementResize:"ResizeObserver"in window}))},[a,R]);fb(function(){W()},[W]);var z=D.useCallback(function(g){l.current=g,W()},[W]);if(!r&&c!=="fixed"||!b)return null;var B=_t("div",Ft({ref:z},hn(It(It({},e),{},{offset:b.offset,position:c,rect:b.rect}),"menuPortal",{"menu-portal":!0}),o),n);return _t(LC.Provider,{value:w},r?rc.createPortal(B,r):B)},CU=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},_U=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,o=e.isRtl;return _t("div",Ft({},hn(e,"container",{"--is-disabled":a,"--is-rtl":o}),n),r)},EU=function(e,r){var n=e.theme.spacing,a=e.isMulti,o=e.hasValue,i=e.selectProps.controlShouldRenderValue;return It({alignItems:"center",display:a&&o&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},AU=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,o=e.hasValue;return _t("div",Ft({},hn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":o}),n),r)},PU=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},LU=function(e){var r=e.children,n=e.innerProps;return _t("div",Ft({},hn(e,"indicatorsContainer",{indicators:!0}),n),r)},J5,DU=["size"],IU=["innerProps","isRtl","size"],RU={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},IC=function(e){var r=e.size,n=Ai(e,DU);return _t("svg",Ft({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:RU},n))},Pw=function(e){return _t(IC,Ft({size:20},e),_t("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},RC=function(e){return _t(IC,Ft({size:20},e),_t("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},TC=function(e,r){var n=e.isFocused,a=e.theme,o=a.spacing.baseUnit,i=a.colors;return It({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:o*2,":hover":{color:n?i.neutral80:i.neutral40}})},TU=TC,OU=function(e){var r=e.children,n=e.innerProps;return _t("div",Ft({},hn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||_t(RC,null))},MU=TC,FU=function(e){var r=e.children,n=e.innerProps;return _t("div",Ft({},hn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||_t(Pw,null))},BU=function(e,r){var n=e.isDisabled,a=e.theme,o=a.spacing.baseUnit,i=a.colors;return It({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:o*2,marginTop:o*2})},$U=function(e){var r=e.innerProps;return _t("span",Ft({},r,hn(e,"indicatorSeparator",{"indicator-separator":!0})))},qU=Oq(J5||(J5=Mq([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),UU=function(e,r){var n=e.isFocused,a=e.size,o=e.theme,i=o.colors,c=o.spacing.baseUnit;return It({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:c*2})},xy=function(e){var r=e.delay,n=e.offset;return _t("span",{css:Cw({animation:"".concat(qU," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},zU=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,o=a===void 0?4:a,i=Ai(e,IU);return _t("div",Ft({},hn(It(It({},i),{},{innerProps:r,isRtl:n,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),_t(xy,{delay:0,offset:n}),_t(xy,{delay:160,offset:!0}),_t(xy,{delay:320,offset:!n}))},VU=function(e,r){var n=e.isDisabled,a=e.isFocused,o=e.theme,i=o.colors,c=o.borderRadius,l=o.spacing;return It({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},HU=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,o=e.innerRef,i=e.innerProps,c=e.menuIsOpen;return _t("div",Ft({ref:o},hn(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":c}),i,{"aria-disabled":n||void 0}),r)},WU=HU,GU=["data"],JU=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},KU=function(e){var r=e.children,n=e.cx,a=e.getStyles,o=e.getClassNames,i=e.Heading,c=e.headingProps,l=e.innerProps,d=e.label,u=e.theme,h=e.selectProps;return _t("div",Ft({},hn(e,"group",{group:!0}),l),_t(i,Ft({},c,{selectProps:h,theme:u,getStyles:a,getClassNames:o,cx:n}),d),_t("div",null,r))},YU=function(e,r){var n=e.theme,a=n.colors,o=n.spacing;return It({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},XU=function(e){var r=_C(e);r.data;var n=Ai(r,GU);return _t("div",Ft({},hn(e,"groupHeading",{"group-heading":!0}),n))},QU=KU,ZU=["innerRef","isDisabled","isHidden","inputClassName"],ez=function(e,r){var n=e.isDisabled,a=e.value,o=e.theme,i=o.spacing,c=o.colors;return It(It({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},tz),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:c.neutral80})},OC={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},tz={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":It({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},OC)},rz=function(e){return It({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},OC)},nz=function(e){var r=e.cx,n=e.value,a=_C(e),o=a.innerRef,i=a.isDisabled,c=a.isHidden,l=a.inputClassName,d=Ai(a,ZU);return _t("div",Ft({},hn(e,"input",{"input-container":!0}),{"data-value":n||""}),_t("input",Ft({className:r({input:!0},l),ref:o,style:rz(c),disabled:i},d)))},az=nz,sz=function(e,r){var n=e.theme,a=n.spacing,o=n.borderRadius,i=n.colors;return It({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:o/2,margin:a.baseUnit/2})},oz=function(e,r){var n=e.theme,a=n.borderRadius,o=n.colors,i=e.cropWithEllipsis;return It({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},iz=function(e,r){var n=e.theme,a=n.spacing,o=n.borderRadius,i=n.colors,c=e.isFocused;return It({alignItems:"center",display:"flex"},r?{}:{borderRadius:o/2,backgroundColor:c?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},MC=function(e){var r=e.children,n=e.innerProps;return _t("div",n,r)},lz=MC,cz=MC;function dz(t){var e=t.children,r=t.innerProps;return _t("div",Ft({role:"button"},r),e||_t(Pw,{size:14}))}var uz=function(e){var r=e.children,n=e.components,a=e.data,o=e.innerProps,i=e.isDisabled,c=e.removeProps,l=e.selectProps,d=n.Container,u=n.Label,h=n.Remove;return _t(d,{data:a,innerProps:It(It({},hn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),o),selectProps:l},_t(u,{data:a,innerProps:It({},hn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},r),_t(h,{data:a,innerProps:It(It({},hn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},c),selectProps:l}))},fz=uz,hz=function(e,r){var n=e.isDisabled,a=e.isFocused,o=e.isSelected,i=e.theme,c=i.spacing,l=i.colors;return It({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:o?l.primary:a?l.primary25:"transparent",color:n?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:o?l.primary:l.primary50}})},pz=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,o=e.isSelected,i=e.innerRef,c=e.innerProps;return _t("div",Ft({},hn(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":o}),{ref:i,"aria-disabled":n},c),r)},mz=pz,gz=function(e,r){var n=e.theme,a=n.spacing,o=n.colors;return It({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:o.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},yz=function(e){var r=e.children,n=e.innerProps;return _t("div",Ft({},hn(e,"placeholder",{placeholder:!0}),n),r)},xz=yz,bz=function(e,r){var n=e.isDisabled,a=e.theme,o=a.spacing,i=a.colors;return It({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},vz=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return _t("div",Ft({},hn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},wz=vz,kz={ClearIndicator:FU,Control:WU,DropdownIndicator:OU,DownChevron:RC,CrossIcon:Pw,Group:QU,GroupHeading:XU,IndicatorsContainer:LU,IndicatorSeparator:$U,Input:az,LoadingIndicator:zU,Menu:yU,MenuList:bU,MenuPortal:SU,LoadingMessage:jU,NoOptionsMessage:kU,MultiValue:fz,MultiValueContainer:lz,MultiValueLabel:cz,MultiValueRemove:dz,Option:mz,Placeholder:xz,SelectContainer:_U,SingleValue:wz,ValueContainer:AU},jz=function(e){return It(It({},kz),e.components)},K5=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Nz(t,e){return!!(t===e||K5(t)&&K5(e))}function Sz(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Nz(t[r],e[r]))return!1;return!0}function Cz(t,e){e===void 0&&(e=Sz);var r=null;function n(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var _z={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ez=function(e){return _t("span",Ft({css:_z},e))},Y5=Ez,Az={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,o=e.context,i=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,o=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,o=e.label,i=o===void 0?"":o,c=e.selectValue,l=e.isDisabled,d=e.isSelected,u=e.isAppleDevice,h=function(v,A){return v&&v.length?"".concat(v.indexOf(A)+1," of ").concat(v.length):""};if(r==="value"&&c)return"value ".concat(i," focused, ").concat(h(c,n),".");if(r==="menu"&&u){var y=l?" disabled":"",m="".concat(d?" selected":"").concat(y);return"".concat(i).concat(m,", ").concat(h(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Pz=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,o=e.focusableOptions,i=e.isFocused,c=e.selectValue,l=e.selectProps,d=e.id,u=e.isAppleDevice,h=l.ariaLiveMessages,y=l.getOptionLabel,m=l.inputValue,w=l.isMulti,v=l.isOptionDisabled,A=l.isSearchable,b=l.menuIsOpen,S=l.options,R=l.screenReaderStatus,W=l.tabSelectsValue,z=l.isLoading,B=l["aria-label"],g=l["aria-live"],I=D.useMemo(function(){return It(It({},Az),h||{})},[h]),k=D.useMemo(function(){var U="";if(r&&I.onChange){var q=r.option,G=r.options,V=r.removedValue,ee=r.removedValues,le=r.value,Z=function(we){return Array.isArray(we)?null:we},M=V||q||Z(le),J=M?y(M):"",te=G||ee||void 0,de=te?te.map(y):[],ie=It({isDisabled:M&&v(M,c),label:J,labels:de},r);U=I.onChange(ie)}return U},[r,I,v,c,y]),_=D.useMemo(function(){var U="",q=n||a,G=!!(n&&c&&c.includes(n));if(q&&I.onFocus){var V={focused:q,label:y(q),isDisabled:v(q,c),isSelected:G,options:o,context:q===n?"menu":"value",selectValue:c,isAppleDevice:u};U=I.onFocus(V)}return U},[n,a,y,v,I,o,c,u]),x=D.useMemo(function(){var U="";if(b&&S.length&&!z&&I.onFilter){var q=R({count:o.length});U=I.onFilter({inputValue:m,resultsMessage:q})}return U},[o,m,b,I,S,R,z]),j=(r==null?void 0:r.action)==="initial-input-focus",P=D.useMemo(function(){var U="";if(I.guidance){var q=a?"value":b?"menu":"input";U=I.guidance({"aria-label":B,context:q,isDisabled:n&&v(n,c),isMulti:w,isSearchable:A,tabSelectsValue:W,isInitialFocus:j})}return U},[B,n,a,w,v,A,b,I,c,W,j]),E=_t(D.Fragment,null,_t("span",{id:"aria-selection"},k),_t("span",{id:"aria-focused"},_),_t("span",{id:"aria-results"},x),_t("span",{id:"aria-guidance"},P));return _t(D.Fragment,null,_t(Y5,{id:d},j&&E),_t(Y5,{"aria-live":g,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!j&&E))},Lz=Pz,hb=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Dz=new RegExp("["+hb.map(function(t){return t.letters}).join("")+"]","g"),FC={};for(var by=0;by<hb.length;by++)for(var vy=hb[by],wy=0;wy<vy.letters.length;wy++)FC[vy.letters[wy]]=vy.base;var BC=function(e){return e.replace(Dz,function(r){return FC[r]})},Iz=Cz(BC),X5=function(e){return e.replace(/^\s+|\s+$/g,"")},Rz=function(e){return"".concat(e.label," ").concat(e.value)},Tz=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=It({ignoreCase:!0,ignoreAccents:!0,stringify:Rz,trim:!0,matchFrom:"any"},e),o=a.ignoreCase,i=a.ignoreAccents,c=a.stringify,l=a.trim,d=a.matchFrom,u=l?X5(n):n,h=l?X5(c(r)):c(r);return o&&(u=u.toLowerCase(),h=h.toLowerCase()),i&&(u=Iz(u),h=BC(h)),d==="start"?h.substr(0,u.length)===u:h.indexOf(u)>-1}},Oz=["innerRef"];function Mz(t){var e=t.innerRef,r=Ai(t,Oz),n=cU(r,"onExited","in","enter","exit","appear");return _t("input",Ft({ref:e},n,{css:Cw({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Fz=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Bz(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,o=t.onTopLeave,i=D.useRef(!1),c=D.useRef(!1),l=D.useRef(0),d=D.useRef(null),u=D.useCallback(function(A,b){if(d.current!==null){var S=d.current,R=S.scrollTop,W=S.scrollHeight,z=S.clientHeight,B=d.current,g=b>0,I=W-z-R,k=!1;I>b&&i.current&&(n&&n(A),i.current=!1),g&&c.current&&(o&&o(A),c.current=!1),g&&b>I?(r&&!i.current&&r(A),B.scrollTop=W,k=!0,i.current=!0):!g&&-b>R&&(a&&!c.current&&a(A),B.scrollTop=0,k=!0,c.current=!0),k&&Fz(A)}},[r,n,a,o]),h=D.useCallback(function(A){u(A,A.deltaY)},[u]),y=D.useCallback(function(A){l.current=A.changedTouches[0].clientY},[]),m=D.useCallback(function(A){var b=l.current-A.changedTouches[0].clientY;u(A,b)},[u]),w=D.useCallback(function(A){if(A){var b=oU?{passive:!1}:!1;A.addEventListener("wheel",h,b),A.addEventListener("touchstart",y,b),A.addEventListener("touchmove",m,b)}},[m,y,h]),v=D.useCallback(function(A){A&&(A.removeEventListener("wheel",h,!1),A.removeEventListener("touchstart",y,!1),A.removeEventListener("touchmove",m,!1))},[m,y,h]);return D.useEffect(function(){if(e){var A=d.current;return w(A),function(){v(A)}}},[e,w,v]),function(A){d.current=A}}var Q5=["boxSizing","height","overflow","paddingRight","position"],Z5={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ek(t){t.cancelable&&t.preventDefault()}function tk(t){t.stopPropagation()}function rk(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function nk(){return"ontouchstart"in window||navigator.maxTouchPoints}var ak=!!(typeof window<"u"&&window.document&&window.document.createElement),Uu=0,Jc={capture:!1,passive:!1};function $z(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=D.useRef({}),o=D.useRef(null),i=D.useCallback(function(l){if(ak){var d=document.body,u=d&&d.style;if(n&&Q5.forEach(function(w){var v=u&&u[w];a.current[w]=v}),n&&Uu<1){var h=parseInt(a.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,m=window.innerWidth-y+h||0;Object.keys(Z5).forEach(function(w){var v=Z5[w];u&&(u[w]=v)}),u&&(u.paddingRight="".concat(m,"px"))}d&&nk()&&(d.addEventListener("touchmove",ek,Jc),l&&(l.addEventListener("touchstart",rk,Jc),l.addEventListener("touchmove",tk,Jc))),Uu+=1}},[n]),c=D.useCallback(function(l){if(ak){var d=document.body,u=d&&d.style;Uu=Math.max(Uu-1,0),n&&Uu<1&&Q5.forEach(function(h){var y=a.current[h];u&&(u[h]=y)}),d&&nk()&&(d.removeEventListener("touchmove",ek,Jc),l&&(l.removeEventListener("touchstart",rk,Jc),l.removeEventListener("touchmove",tk,Jc)))}},[n]);return D.useEffect(function(){if(e){var l=o.current;return i(l),function(){c(l)}}},[e,i,c]),function(l){o.current=l}}var qz=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Uz={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function zz(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,o=t.onBottomArrive,i=t.onBottomLeave,c=t.onTopArrive,l=t.onTopLeave,d=Bz({isEnabled:a,onBottomArrive:o,onBottomLeave:i,onTopArrive:c,onTopLeave:l}),u=$z({isEnabled:r}),h=function(m){d(m),u(m)};return _t(D.Fragment,null,r&&_t("div",{onClick:qz,css:Uz}),e(h))}var Vz={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Hz=function(e){var r=e.name,n=e.onFocus;return _t("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Vz,value:"",onChange:function(){}})},Wz=Hz;function Lw(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Gz(){return Lw(/^iPhone/i)}function $C(){return Lw(/^Mac/i)}function Jz(){return Lw(/^iPad/i)||$C()&&navigator.maxTouchPoints>1}function Kz(){return Gz()||Jz()}function Yz(){return $C()||Kz()}var Xz=function(e){return e.label},Qz=function(e){return e.label},Zz=function(e){return e.value},eV=function(e){return!!e.isDisabled},tV={clearIndicator:MU,container:CU,control:VU,dropdownIndicator:TU,group:JU,groupHeading:YU,indicatorsContainer:PU,indicatorSeparator:BU,input:ez,loadingIndicator:UU,loadingMessage:wU,menu:pU,menuList:xU,menuPortal:NU,multiValue:sz,multiValueLabel:oz,multiValueRemove:iz,noOptionsMessage:vU,option:hz,placeholder:gz,singleValue:bz,valueContainer:EU},rV={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},nV=4,qC=4,aV=38,sV=qC*2,oV={baseUnit:qC,controlHeight:aV,menuGutter:sV},ky={borderRadius:nV,colors:rV,spacing:oV},iV={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:G5(),captureMenuScroll:!G5(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Tz(),formatGroupLabel:Xz,getOptionLabel:Qz,getOptionValue:Zz,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:eV,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!aU(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function sk(t,e,r,n){var a=VC(t,e,r),o=HC(t,e,r),i=zC(t,e),c=U0(t,e);return{type:"option",data:e,isDisabled:a,isSelected:o,label:i,value:c,index:n}}function Bp(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,c){return sk(t,i,e,c)}).filter(function(i){return ik(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var o=sk(t,r,e,n);return ik(t,o)?o:void 0}).filter(iU)}function UC(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,xw(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function ok(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,xw(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function lV(t,e){return UC(Bp(t,e))}function ik(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,o=e.isSelected,i=e.label,c=e.value;return(!GC(t)||!o)&&WC(t,{label:i,value:c,data:a},n)}function cV(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var o=e.indexOf(r);if(o>-1)return r;if(a<e.length)return e[a]}return null}function dV(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var jy=function(e,r){var n,a=(n=e.find(function(o){return o.data===r}))===null||n===void 0?void 0:n.id;return a||null},zC=function(e,r){return e.getOptionLabel(r)},U0=function(e,r){return e.getOptionValue(r)};function VC(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function HC(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=U0(t,e);return r.some(function(a){return U0(t,a)===n})}function WC(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var GC=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},uV=1,JC=function(t){E$(r,t);var e=L$(r);function r(n){var a;if(C$(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=Yz(),a.controlRef=null,a.getControlRef=function(l){a.controlRef=l},a.focusedOptionRef=null,a.getFocusedOptionRef=function(l){a.focusedOptionRef=l},a.menuListRef=null,a.getMenuListRef=function(l){a.menuListRef=l},a.inputRef=null,a.getInputRef=function(l){a.inputRef=l},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(l,d){var u=a.props,h=u.onChange,y=u.name;d.name=y,a.ariaOnChange(l,d),h(l,d)},a.setValue=function(l,d,u){var h=a.props,y=h.closeMenuOnSelect,m=h.isMulti,w=h.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:w}),y&&(a.setState({inputIsHiddenAfterUpdate:!m}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(l,{action:d,option:u})},a.selectOption=function(l){var d=a.props,u=d.blurInputOnSelect,h=d.isMulti,y=d.name,m=a.state.selectValue,w=h&&a.isOptionSelected(l,m),v=a.isOptionDisabled(l,m);if(w){var A=a.getOptionValue(l);a.setValue(m.filter(function(b){return a.getOptionValue(b)!==A}),"deselect-option",l)}else if(!v)h?a.setValue([].concat(xw(m),[l]),"select-option",l):a.setValue(l,"select-option");else{a.ariaOnChange(l,{action:"select-option",option:l,name:y});return}u&&a.blurInput()},a.removeValue=function(l){var d=a.props.isMulti,u=a.state.selectValue,h=a.getOptionValue(l),y=u.filter(function(w){return a.getOptionValue(w)!==h}),m=fp(d,y,y[0]||null);a.onChange(m,{action:"remove-value",removedValue:l}),a.focusInput()},a.clearValue=function(){var l=a.state.selectValue;a.onChange(fp(a.props.isMulti,[],null),{action:"clear",removedValues:l})},a.popValue=function(){var l=a.props.isMulti,d=a.state.selectValue,u=d[d.length-1],h=d.slice(0,d.length-1),y=fp(l,h,h[0]||null);u&&a.onChange(y,{action:"pop-value",removedValue:u})},a.getFocusedOptionId=function(l){return jy(a.state.focusableOptionsWithIds,l)},a.getFocusableOptionsWithIds=function(){return ok(Bp(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return Zq.apply(void 0,[a.props.classNamePrefix].concat(d))},a.getOptionLabel=function(l){return zC(a.props,l)},a.getOptionValue=function(l){return U0(a.props,l)},a.getStyles=function(l,d){var u=a.props.unstyled,h=tV[l](d,u);h.boxSizing="border-box";var y=a.props.styles[l];return y?y(h,d):h},a.getClassNames=function(l,d){var u,h;return(u=(h=a.props.classNames)[l])===null||u===void 0?void 0:u.call(h,d)},a.getElementId=function(l){return"".concat(a.state.instancePrefix,"-").concat(l)},a.getComponents=function(){return jz(a.props)},a.buildCategorizedOptions=function(){return Bp(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return UC(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(l,d){a.setState({ariaSelection:It({value:l},d)})},a.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(l){a.blockOptionHover=!1},a.onControlMouseDown=function(l){if(!l.defaultPrevented){var d=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&a.onMenuClose():d&&a.openMenu("first"):(d&&(a.openAfterFocus=!0),a.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},a.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!a.props.isDisabled){var d=a.props,u=d.isMulti,h=d.menuIsOpen;a.focusInput(),h?(a.setState({inputIsHiddenAfterUpdate:!u}),a.onMenuClose()):a.openMenu("first"),l.preventDefault()}},a.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(a.clearValue(),l.preventDefault(),a.openAfterFocus=!1,l.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(l){typeof a.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&eg(l.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(l)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(l){var d=l.touches,u=d&&d.item(0);u&&(a.initialTouchX=u.clientX,a.initialTouchY=u.clientY,a.userIsDragging=!1)},a.onTouchMove=function(l){var d=l.touches,u=d&&d.item(0);if(u){var h=Math.abs(u.clientX-a.initialTouchX),y=Math.abs(u.clientY-a.initialTouchY),m=5;a.userIsDragging=h>m||y>m}},a.onTouchEnd=function(l){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(l.target)&&a.menuListRef&&!a.menuListRef.contains(l.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(l){a.userIsDragging||a.onControlMouseDown(l)},a.onClearIndicatorTouchEnd=function(l){a.userIsDragging||a.onClearIndicatorMouseDown(l)},a.onDropdownIndicatorTouchEnd=function(l){a.userIsDragging||a.onDropdownIndicatorMouseDown(l)},a.handleInputChange=function(l){var d=a.props.inputValue,u=l.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(u,{action:"input-change",prevInputValue:d}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(l){a.props.onFocus&&a.props.onFocus(l),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(l){var d=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(l),a.onInputChange("",{action:"input-blur",prevInputValue:d}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(l){if(!(a.blockOptionHover||a.state.focusedOption===l)){var d=a.getFocusableOptions(),u=d.indexOf(l);a.setState({focusedOption:l,focusedOptionId:u>-1?a.getFocusedOptionId(l):null})}},a.shouldHideSelectedOptions=function(){return GC(a.props)},a.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),a.focus()},a.onKeyDown=function(l){var d=a.props,u=d.isMulti,h=d.backspaceRemovesValue,y=d.escapeClearsValue,m=d.inputValue,w=d.isClearable,v=d.isDisabled,A=d.menuIsOpen,b=d.onKeyDown,S=d.tabSelectsValue,R=d.openMenuOnFocus,W=a.state,z=W.focusedOption,B=W.focusedValue,g=W.selectValue;if(!v&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(a.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||m)return;a.focusValue("previous");break;case"ArrowRight":if(!u||m)return;a.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(B)a.removeValue(B);else{if(!h)return;u?a.popValue():w&&a.clearValue()}break;case"Tab":if(a.isComposing||l.shiftKey||!A||!S||!z||R&&a.isOptionSelected(z,g))return;a.selectOption(z);break;case"Enter":if(l.keyCode===229)break;if(A){if(!z||a.isComposing)return;a.selectOption(z);break}return;case"Escape":A?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:m}),a.onMenuClose()):w&&y&&a.clearValue();break;case" ":if(m)return;if(!A){a.openMenu("first");break}if(!z)return;a.selectOption(z);break;case"ArrowUp":A?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":A?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!A)return;a.focusOption("pageup");break;case"PageDown":if(!A)return;a.focusOption("pagedown");break;case"Home":if(!A)return;a.focusOption("first");break;case"End":if(!A)return;a.focusOption("last");break;default:return}l.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++uV),a.state.selectValue=H5(n.value),n.menuIsOpen&&a.state.selectValue.length){var o=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),c=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=o,a.state.focusedOption=i[c],a.state.focusedOptionId=jy(o,i[c])}return a}return _$(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&W5(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var o=this.props,i=o.isDisabled,c=o.menuIsOpen,l=this.state.isFocused;(l&&!i&&a.isDisabled||l&&c&&!a.menuIsOpen)&&this.focusInput(),l&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(W5(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,o){this.props.onInputChange(a,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var o=this,i=this.state,c=i.selectValue,l=i.isFocused,d=this.buildFocusableOptions(),u=a==="first"?0:d.length-1;if(!this.props.isMulti){var h=d.indexOf(c[0]);h>-1&&(u=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[u],focusedOptionId:this.getFocusedOptionId(d[u])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(a){var o=this.state,i=o.selectValue,c=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=i.indexOf(c);c||(l=-1);var d=i.length-1,u=-1;if(i.length){switch(a){case"previous":l===0?u=0:l===-1?u=d:u=l-1;break;case"next":l>-1&&l<d&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,i=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var l=0,d=c.indexOf(i);i||(d=-1),a==="up"?l=d>0?d-1:c.length-1:a==="down"?l=(d+1)%c.length:a==="pageup"?(l=d-o,l<0&&(l=0)):a==="pagedown"?(l=d+o,l>c.length-1&&(l=c.length-1)):a==="last"&&(l=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ky):It(It({},ky),this.props.theme):ky}},{key:"getCommonProps",value:function(){var a=this.clearValue,o=this.cx,i=this.getStyles,c=this.getClassNames,l=this.getValue,d=this.selectOption,u=this.setValue,h=this.props,y=h.isMulti,m=h.isRtl,w=h.options,v=this.hasValue();return{clearValue:a,cx:o,getStyles:i,getClassNames:c,getValue:l,hasValue:v,isMulti:y,isRtl:m,options:w,selectOption:d,selectProps:h,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,o=a.isClearable,i=a.isMulti;return o===void 0?i:o}},{key:"isOptionDisabled",value:function(a,o){return VC(this.props,a,o)}},{key:"isOptionSelected",value:function(a,o){return HC(this.props,a,o)}},{key:"filterOption",value:function(a,o){return WC(this.props,a,o)}},{key:"formatOptionLabel",value:function(a,o){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(a,{context:o,inputValue:i,selectValue:c})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,o=a.isDisabled,i=a.isSearchable,c=a.inputId,l=a.inputValue,d=a.tabIndex,u=a.form,h=a.menuIsOpen,y=a.required,m=this.getComponents(),w=m.Input,v=this.state,A=v.inputIsHidden,b=v.ariaSelection,S=this.commonProps,R=c||this.getElementId("input"),W=It(It(It({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?D.createElement(w,Ft({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:R,innerRef:this.getInputRef,isDisabled:o,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:u,type:"text",value:l},W)):D.createElement(Mz,Ft({id:R,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:$0,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:u,value:""},W))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,o=this.getComponents(),i=o.MultiValue,c=o.MultiValueContainer,l=o.MultiValueLabel,d=o.MultiValueRemove,u=o.SingleValue,h=o.Placeholder,y=this.commonProps,m=this.props,w=m.controlShouldRenderValue,v=m.isDisabled,A=m.isMulti,b=m.inputValue,S=m.placeholder,R=this.state,W=R.selectValue,z=R.focusedValue,B=R.isFocused;if(!this.hasValue()||!w)return b?null:D.createElement(h,Ft({},y,{key:"placeholder",isDisabled:v,isFocused:B,innerProps:{id:this.getElementId("placeholder")}}),S);if(A)return W.map(function(I,k){var _=I===z,x="".concat(a.getOptionLabel(I),"-").concat(a.getOptionValue(I));return D.createElement(i,Ft({},y,{components:{Container:c,Label:l,Remove:d},isFocused:_,isDisabled:v,key:x,index:k,removeProps:{onClick:function(){return a.removeValue(I)},onTouchEnd:function(){return a.removeValue(I)},onMouseDown:function(P){P.preventDefault()}},data:I}),a.formatOptionLabel(I,"value"))});if(b)return null;var g=W[0];return D.createElement(u,Ft({},y,{data:g,isDisabled:v}),this.formatOptionLabel(g,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),o=a.ClearIndicator,i=this.commonProps,c=this.props,l=c.isDisabled,d=c.isLoading,u=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||d)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return D.createElement(o,Ft({},i,{innerProps:h,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),o=a.LoadingIndicator,i=this.commonProps,c=this.props,l=c.isDisabled,d=c.isLoading,u=this.state.isFocused;if(!o||!d)return null;var h={"aria-hidden":"true"};return D.createElement(o,Ft({},i,{innerProps:h,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator,i=a.IndicatorSeparator;if(!o||!i)return null;var c=this.commonProps,l=this.props.isDisabled,d=this.state.isFocused;return D.createElement(i,Ft({},c,{isDisabled:l,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),o=a.DropdownIndicator;if(!o)return null;var i=this.commonProps,c=this.props.isDisabled,l=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return D.createElement(o,Ft({},i,{innerProps:d,isDisabled:c,isFocused:l}))}},{key:"renderMenu",value:function(){var a=this,o=this.getComponents(),i=o.Group,c=o.GroupHeading,l=o.Menu,d=o.MenuList,u=o.MenuPortal,h=o.LoadingMessage,y=o.NoOptionsMessage,m=o.Option,w=this.commonProps,v=this.state.focusedOption,A=this.props,b=A.captureMenuScroll,S=A.inputValue,R=A.isLoading,W=A.loadingMessage,z=A.minMenuHeight,B=A.maxMenuHeight,g=A.menuIsOpen,I=A.menuPlacement,k=A.menuPosition,_=A.menuPortalTarget,x=A.menuShouldBlockScroll,j=A.menuShouldScrollIntoView,P=A.noOptionsMessage,E=A.onMenuScrollToTop,U=A.onMenuScrollToBottom;if(!g)return null;var q=function(J,te){var de=J.type,ie=J.data,xe=J.isDisabled,we=J.isSelected,me=J.label,Pe=J.value,qe=v===ie,Je=xe?void 0:function(){return a.onOptionHover(ie)},rt=xe?void 0:function(){return a.selectOption(ie)},pt="".concat(a.getElementId("option"),"-").concat(te),Be={id:pt,onClick:rt,onMouseMove:Je,onMouseOver:Je,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:we};return D.createElement(m,Ft({},w,{innerProps:Be,data:ie,isDisabled:xe,isSelected:we,key:pt,label:me,type:de,value:Pe,isFocused:qe,innerRef:qe?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(J.data,"menu"))},G;if(this.hasOptions())G=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var J=M.data,te=M.options,de=M.index,ie="".concat(a.getElementId("group"),"-").concat(de),xe="".concat(ie,"-heading");return D.createElement(i,Ft({},w,{key:ie,data:J,options:te,Heading:c,headingProps:{id:xe,data:M.data},label:a.formatGroupLabel(M.data)}),M.options.map(function(we){return q(we,"".concat(de,"-").concat(we.index))}))}else if(M.type==="option")return q(M,"".concat(M.index))});else if(R){var V=W({inputValue:S});if(V===null)return null;G=D.createElement(h,w,V)}else{var ee=P({inputValue:S});if(ee===null)return null;G=D.createElement(y,w,ee)}var le={minMenuHeight:z,maxMenuHeight:B,menuPlacement:I,menuPosition:k,menuShouldScrollIntoView:j},Z=D.createElement(mU,Ft({},w,le),function(M){var J=M.ref,te=M.placerProps,de=te.placement,ie=te.maxHeight;return D.createElement(l,Ft({},w,le,{innerRef:J,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:R,placement:de}),D.createElement(zz,{captureEnabled:b,onTopArrive:E,onBottomArrive:U,lockEnabled:x},function(xe){return D.createElement(d,Ft({},w,{innerRef:function(me){a.getMenuListRef(me),xe(me)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:a.getElementId("listbox")},isLoading:R,maxHeight:ie,focusedOption:v}),G)}))});return _||k==="fixed"?D.createElement(u,Ft({},w,{appendTo:_,controlElement:this.controlRef,menuPlacement:I,menuPosition:k}),Z):Z}},{key:"renderFormField",value:function(){var a=this,o=this.props,i=o.delimiter,c=o.isDisabled,l=o.isMulti,d=o.name,u=o.required,h=this.state.selectValue;if(u&&!this.hasValue()&&!c)return D.createElement(Wz,{name:d,onFocus:this.onValueInputFocus});if(!(!d||c))if(l)if(i){var y=h.map(function(v){return a.getOptionValue(v)}).join(i);return D.createElement("input",{name:d,type:"hidden",value:y})}else{var m=h.length>0?h.map(function(v,A){return D.createElement("input",{key:"i-".concat(A),name:d,type:"hidden",value:a.getOptionValue(v)})}):D.createElement("input",{name:d,type:"hidden",value:""});return D.createElement("div",null,m)}else{var w=h[0]?this.getOptionValue(h[0]):"";return D.createElement("input",{name:d,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,o=this.state,i=o.ariaSelection,c=o.focusedOption,l=o.focusedValue,d=o.isFocused,u=o.selectValue,h=this.getFocusableOptions();return D.createElement(Lz,Ft({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:c,focusedValue:l,isFocused:d,selectValue:u,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),o=a.Control,i=a.IndicatorsContainer,c=a.SelectContainer,l=a.ValueContainer,d=this.props,u=d.className,h=d.id,y=d.isDisabled,m=d.menuIsOpen,w=this.state.isFocused,v=this.commonProps=this.getCommonProps();return D.createElement(c,Ft({},v,{className:u,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:w}),this.renderLiveRegion(),D.createElement(o,Ft({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:w,menuIsOpen:m}),D.createElement(l,Ft({},v,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),D.createElement(i,Ft({},v,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,o){var i=o.prevProps,c=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,u=o.isFocused,h=o.prevWasFocused,y=o.instancePrefix,m=a.options,w=a.value,v=a.menuIsOpen,A=a.inputValue,b=a.isMulti,S=H5(w),R={};if(i&&(w!==i.value||m!==i.options||v!==i.menuIsOpen||A!==i.inputValue)){var W=v?lV(a,S):[],z=v?ok(Bp(a,S),"".concat(y,"-option")):[],B=c?cV(o,S):null,g=dV(o,W),I=jy(z,g);R={selectValue:S,focusedOption:g,focusedOptionId:I,focusableOptionsWithIds:z,focusedValue:B,clearFocusValueOnUpdate:!1}}var k=l!=null&&a!==i?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},_=d,x=u&&h;return u&&!x&&(_={value:fp(b,S,S[0]||null),options:S,action:"initial-input-focus"},x=!h),(d==null?void 0:d.action)==="initial-input-focus"&&(_=null),It(It(It({},R),k),{},{prevProps:a,ariaSelection:_,prevWasFocused:x})}}]),r}(D.Component);JC.defaultProps=iV;var fV=D.forwardRef(function(t,e){var r=S$(t);return D.createElement(JC,Ft({ref:e},r))}),Dw=fV;function KC({isOpen:t,onClose:e,onSuccess:r,statement:n,defaultStatus:a}){const[o,i]=D.useState(!1),[c,l]=D.useState(null),[d,u]=D.useState([]),[h,y]=D.useState([]),m=D.useRef(null),[w,v]=D.useState(null),[A,b]=D.useState(!1),[S,R]=D.useState({type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null});D.useEffect(()=>{if(t){W();const k=new Date().toISOString().split("T")[0];if(n){let _=n.value.toString();_.includes(".")||(_+=".00"),_.includes(".")&&_.split(".")[1].length===1&&(_+="0");const x=_.replace(/\D/g,"");R(j=>({...j,description:"",value:x,transactionDate:n.transaction_date,valueDate:n.value_date,bankAccountId:n.bank_account_id,categoryId:"",beneficiary:n.description,document:n.document,attachment:null,type:n.type,status:a||"REGISTERED"}))}else R(_=>({..._,transactionDate:k,valueDate:k,value:"0",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null}));v(null)}},[t]);const W=async()=>{try{const[k,_]=await Promise.all([De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0)]);if(k.error)throw k.error;if(_.error)throw _.error;u(k.data||[]),y(_.data||[])}catch(k){console.error("Error loading data:",k),l("Erro ao carregar dados")}},z=k=>{const _=k.replace(/\D/g,"")||"0";return(parseInt(_,10)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},B=k=>{const _=k.target.value.replace(/\D/g,"");R(x=>({...x,value:_}))},g=k=>{var x;const _=((x=k.target.files)==null?void 0:x[0])||null;if(R(j=>({...j,attachment:_})),!_){v(null);return}_.type.startsWith("image/")?v(URL.createObjectURL(_)):v("")},I=async k=>{if(k.preventDefault(),i(!0),l(null),b(!1),!S.attachment){b(!0),i(!1);return}try{const _=localStorage.getItem("userId");let x=null;if(S.attachment){const P=S.attachment.name.split(".").pop(),U=`bank-statements/${`${Math.random().toString(36).substring(2)}.${P}`}`,{error:q}=await De.storage.from("attachments").upload(U,S.attachment);if(q)throw q;const{data:{publicUrl:G}}=De.storage.from("attachments").getPublicUrl(U);x=G}const{error:j}=await De.from("bank_statements").insert([{type:S.type,description:S.description||"-",value:parseFloat(S.value)/100,transaction_date:S.transactionDate,value_date:S.valueDate,bank_account_id:S.bankAccountId,category_id:S.categoryId||null,beneficiary:S.beneficiary||null,document:S.document||null,attachment_url:x,status:a??"PENDING",created_by_id:_}]);if(j)throw j;R({type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachment:null}),v(null),r(),e()}catch(_){console.error("Error creating bank statement:",_),l("Erro ao criar lanamento bancrio")}finally{i(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Lanamento Bancrio"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:I,className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex flex-row gap-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Tipo de Lanamento:"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CREDIT",checked:S.type==="CREDIT",onChange:k=>R(_=>({..._,type:k.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Entrada"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"DEBIT",checked:S.type==="DEBIT",onChange:k=>R(_=>({..._,type:k.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Sada"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:z(S.value),onChange:B,className:`w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 focus:ring-2 focus:ring-primary-500 focus:border-transparent ${S.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Lanamento"}),s.jsx("input",{type:"date",value:S.transactionDate,onChange:k=>R(_=>({..._,transactionDate:k.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Competncia"}),s.jsx("input",{type:"date",value:S.valueDate,onChange:k=>R(_=>({..._,valueDate:k.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx(Dw,{options:d.filter(k=>S.type==="CREDIT"?k.type==="REVENUE"||k.type==="BOTH":k.type==="EXPENSE"||k.type==="BOTH").map(k=>({value:k.id,label:k.name})),value:d.filter(k=>k.id===S.categoryId).map(k=>({value:k.id,label:k.name}))[0]||null,onChange:k=>R(_=>({..._,categoryId:(k==null?void 0:k.value)||""})),placeholder:"Selecione uma categoria",isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:S.bankAccountId,onChange:k=>R(_=>({..._,bankAccountId:k.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),h.map(k=>s.jsxs("option",{value:k.id,children:[k.name," - ",k.bank," ",k.branch,"/",k.account]},k.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("input",{type:"text",value:S.beneficiary,onChange:k=>R(_=>({..._,beneficiary:k.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do beneficirio ou cliente"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:S.description,onChange:k=>R(_=>({..._,description:k.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio do lanamento"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Documento"}),s.jsx("input",{type:"text",value:S.document,onChange:k=>R(_=>({..._,document:k.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do documento (opcional)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:["Anexo ",s.jsx("span",{className:"text-red-500",children:"*"})]}),S.attachment&&s.jsx("div",{className:"mb-4",children:S.attachment.type.startsWith("image/")?s.jsx("img",{src:w,alt:"Preview",className:"w-[150px] h-[150px] object-cover rounded border border-secondary-300"}):s.jsx("div",{className:"w-[150px] h-[150px] flex items-center justify-center border border-secondary-300 rounded bg-secondary-50 dark:bg-secondary-900 text-secondary-700 dark:text-secondary-300 text-center p-2",children:s.jsx("span",{className:"text-xs break-words",children:S.attachment.name})})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var k;return(k=m.current)==null?void 0:k.click()},className:`flex items-center justify-center px-4 py-2 rounded-lg transition-colors ${A?"bg-red-100 text-red-700 border border-red-500":"bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-200 dark:hover:bg-secondary-700"}`,children:[s.jsx(_l,{className:"h-5 w-5 mr-2"}),"Adicionar Arquivo"]})}),A&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:"O anexo  obrigatrio."}),s.jsx("input",{ref:m,type:"file",onChange:k=>{g(k),b(!1)},className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.xlsx"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Salvar Lanamento"})]})]})]})}):null}function hV({isOpen:t,onClose:e,onSuccess:r,statement:n}){var k;const[a,o]=D.useState(!1),[i,c]=D.useState(null),[l,d]=D.useState(null),[u,h]=D.useState([]),y=D.useRef(null),[m,w]=D.useState([]),[v,A]=D.useState([]),[b,S]=D.useState({id:"",type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachments:[],attachmentUrl:""});D.useEffect(()=>{if(t){R();const _=new Date().toISOString().split("T")[0];S(x=>({...x,id:(n==null?void 0:n.id)||"",type:(n==null?void 0:n.type)||"CREDIT",description:(n==null?void 0:n.description)||"",value:n!=null&&n.value?""+n.value:"",transactionDate:(n==null?void 0:n.transaction_date)||_,valueDate:(n==null?void 0:n.value_date)||_,bankAccountId:(n==null?void 0:n.bank_account_id)||"",categoryId:(n==null?void 0:n.category_id)||"",beneficiary:(n==null?void 0:n.beneficiary)||"",document:(n==null?void 0:n.document)||"",attachments:[],attachmentUrl:(n==null?void 0:n.attachment_url)||""})),n!=null&&n.attachment_url&&d(n.attachment_url)}},[t]),D.useEffect(()=>{t||(u.forEach(_=>{_&&URL.revokeObjectURL(_)}),h([]))},[t]);const R=async()=>{try{const[_,x]=await Promise.all([De.from("financial_categories").select("*").eq("active",!0),De.from("bank_accounts").select("*").eq("active",!0)]);if(_.error)throw _.error;if(x.error)throw x.error;w(_.data||[]),A(x.data||[])}catch(_){console.error("Error loading data:",_),c("Erro ao carregar dados")}},W=_=>{const x=typeof _=="string"?parseFloat(_)||0:_;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x)},z=_=>{let x=_.target.value.replace(/\D/g,"");x===""&&(x="0");const j=parseInt(x)/100;S(P=>({...P,value:j.toString()}))},B=_=>{S(x=>({...x,attachments:x.attachments.filter((j,P)=>P!==_)})),h(x=>x.filter((j,P)=>P!==_))},g=async _=>{const x=Array.from(_.target.files||[]);if(x.length===0)return;const j=x.filter(P=>["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(P.type)?P.size>5242880?(c("Arquivo muito grande. O tamanho mximo permitido  5MB."),!1):!0:(c("Tipo de arquivo no suportado. Use apenas imagens, PDF ou planilhas Excel."),!1));if(j.length>0){c(null),S(E=>({...E,attachments:[...E.attachments,...j]}));const P=j.map(E=>E.type.startsWith("image/")?URL.createObjectURL(E):"");h(E=>[...E,...P])}},I=async _=>{_.preventDefault(),o(!0),c(null);try{const x=localStorage.getItem("userId");let j=b.attachments.length?null:n.attachment_url;if(b.attachments.length){const U=b.attachments[0],q=U.name.split(".").pop(),V=`bank-statements/${`${Math.random().toString(36).substring(2)}.${q}`}`,{error:ee}=await De.storage.from("attachments").upload(V,U);if(ee)throw ee;const{data:{publicUrl:le}}=De.storage.from("attachments").getPublicUrl(V);j=le}const P={type:b.type,description:b.description,value:parseFloat(b.value),transaction_date:b.transactionDate,value_date:b.valueDate,bank_account_id:b.bankAccountId,category_id:b.categoryId||null,beneficiary:b.beneficiary||null,document:b.document||null,attachment_url:j||null,status:"PENDING",created_by_id:x},{error:E}=await De.from("bank_statements").update(P).eq("id",b.id);if(E)throw E;S({id:"",type:"CREDIT",description:"",value:"",transactionDate:"",valueDate:"",bankAccountId:"",categoryId:"",beneficiary:"",document:"",attachments:[],attachmentUrl:""}),r(),e()}catch(x){console.error("Error updating bank statement:",x),c("Erro ao atualizar lanamento bancrio")}finally{o(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Visualizar Lanamento Bancrio"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:I,className:"p-4 sm:p-6",children:[i&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:i})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex flex-row gap-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Tipo de Lanamento:"}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"CREDIT",checked:b.type==="CREDIT",onChange:_=>S(x=>({...x,type:_.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Entrada"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"DEBIT",checked:b.type==="DEBIT",onChange:_=>S(x=>({...x,type:_.target.value})),className:"w-4 h-4 text-primary-600 border-secondary-300 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-secondary-700 dark:text-secondary-300",children:"Sada"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor"}),s.jsx("input",{type:"text",value:W(b.value),onChange:z,className:`w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 focus:ring-2 focus:ring-primary-500 focus:border-transparent ${b.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data do Lanamento"}),s.jsx("input",{type:"date",value:b.transactionDate,onChange:_=>S(x=>({...x,transactionDate:_.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Competncia"}),s.jsx("input",{type:"date",value:b.valueDate,onChange:_=>S(x=>({...x,valueDate:_.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Categoria"}),s.jsx(Dw,{options:m.filter(_=>b.type==="CREDIT"?_.type==="REVENUE"||_.type==="BOTH":_.type==="EXPENSE"||_.type==="BOTH").map(_=>({value:_.id,label:_.name})),value:m.filter(_=>_.id===b.categoryId).map(_=>({value:_.id,label:_.name}))[0]||null,onChange:_=>S(x=>({...x,categoryId:(_==null?void 0:_.value)||""})),placeholder:"Selecione uma categoria",isSearchable:!0,className:"react-select-container",classNamePrefix:"react-select"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:b.bankAccountId,onChange:_=>S(x=>({...x,bankAccountId:_.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),v.map(_=>s.jsxs("option",{value:_.id,children:[_.name," - ",_.bank," ",_.branch,"/",_.account]},_.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("input",{type:"text",value:b.beneficiary,onChange:_=>S(x=>({...x,beneficiary:_.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nome do beneficirio ou cliente"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:b.description,onChange:_=>S(x=>({...x,description:_.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio do lanamento",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Documento"}),s.jsx("input",{type:"text",value:b.document,onChange:_=>S(x=>({...x,document:_.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nmero do documento (opcional)"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Anexo"}),s.jsx("p",{className:"mt-1 text-secondary-900 dark:text-white font-medium",children:b.attachmentUrl?s.jsx("a",{href:b.attachmentUrl,target:"_blank",rel:"noreferrer",children:"Ver anexo atual"}):"Sem anexo"}),s.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:(k=b.attachments)==null?void 0:k.map((_,x)=>s.jsxs("div",{className:"relative",children:[u!=null&&u[x]?s.jsx("img",{src:u[x],alt:`Preview ${x+1}`,className:"w-24 h-24 object-cover rounded-lg"}):s.jsx("div",{className:"w-24 h-24 bg-secondary-100 dark:bg-secondary-800 rounded-lg flex items-center justify-center p-2",children:s.jsx("span",{className:"text-xs text-secondary-500 text-center break-words",children:_.name})}),s.jsx("button",{type:"button",onClick:()=>B(x),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(Wt,{className:"h-4 w-4"})})]},x))}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("button",{type:"button",onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},className:"flex items-center justify-center px-4 py-2 bg-secondary-100 dark:bg-secondary-800 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-700 transition-colors",children:[s.jsx(wi,{className:"h-5 w-5 mr-2"}),"Anexar Documento"]})}),s.jsx("p",{className:"mt-2 text-sm text-secondary-500 dark:text-secondary-400",children:"Formatos aceitos: PDF, JPG, PNG e XLSX. Tamanho mximo: 5MB por arquivo."}),s.jsx("input",{ref:y,type:"file",onChange:g,className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.xlsx"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:a,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:a,children:a?"Salvando...":"Salvar Lanamento"})]})]})]})}):null}function pV({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState(!1),[o,i]=D.useState(null),[c,l]=D.useState([]),[d,u]=D.useState(""),[h,y]=D.useState({sourceAccountId:"",destinationAccountId:"",value:"",date:new Date().toISOString().split("T")[0],description:"",transferType:"PIX"});D.useEffect(()=>{t&&m()},[t]);const m=async()=>{try{const{data:b,error:S}=await De.from("bank_accounts").select("*").eq("active",!0).order("name");if(S)throw S;l(b||[])}catch(b){console.error("Error loading bank accounts:",b),i("Erro ao carregar contas bancrias")}},w=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(b)),v=b=>{let S=b.target.value.replace(/\D/g,"");S===""&&(S="0");const R=parseInt(S)/100;y(W=>({...W,value:R.toString()}))},A=async b=>{b.preventDefault(),a(!0),i(null);try{if(!d||d.length!==6)throw new Error("Por favor, insira um cdigo de autenticao vlido");const S=localStorage.getItem("userId"),R=await Nl.checkGoogleAuth({userId:S||"",google_auth_code:d});if(R.error)throw new Error(R.message);if(h.sourceAccountId===h.destinationAccountId)throw new Error("As contas de origem e destino devem ser diferentes");if(parseFloat(h.value)<=0)throw new Error("O valor da transferncia deve ser maior que zero");const W=c.find(g=>g.id===h.sourceAccountId),z=c.find(g=>g.id===h.destinationAccountId);if(!W||!z)throw new Error("Conta bancria no encontrada");const B=await Nl.createBankTransfer({sourceAccountId:h.sourceAccountId,destinationAccountId:h.destinationAccountId,value:parseFloat(h.value),date:h.date,description:h.description,transferType:h.transferType,userId:S||""});if(B.error)throw new Error(B.error);r(),e()}catch(S){console.error("Error creating bank transfer:",S),i(S instanceof Error?S.message:"Erro ao realizar transferncia")}finally{a(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Transferncia Entre Contas"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("form",{onSubmit:A,className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 items-center",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta de Origem"}),s.jsxs("select",{value:h.sourceAccountId,onChange:b=>y(S=>({...S,sourceAccountId:b.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),c.map(b=>s.jsxs("option",{value:b.id,disabled:b.id===h.destinationAccountId,children:[b.name," - ",b.bank," ",b.branch,"/",b.account]},b.id))]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(p4,{className:"h-6 w-6 text-secondary-400"})}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta de Destino"}),s.jsxs("select",{value:h.destinationAccountId,onChange:b=>y(S=>({...S,destinationAccountId:b.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),c.map(b=>s.jsxs("option",{value:b.id,disabled:b.id===h.sourceAccountId,children:[b.name," - ",b.bank," ",b.branch,"/",b.account]},b.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Valor da Transferncia"}),s.jsx("input",{type:"text",value:w(h.value),onChange:v,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data da Transferncia"}),s.jsx("input",{disabled:!0,type:"date",value:h.date,onChange:b=>y(S=>({...S,date:b.target.value})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Descrio"}),s.jsx("textarea",{value:h.description,onChange:b=>y(S=>({...S,description:b.target.value})),rows:3,className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descrio da transferncia (opcional)"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Cdigo do Google Authenticator"}),s.jsx("input",{type:"text",value:d,onChange:b=>u(b.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:b=>{var S;b.key==="Enter"&&((S=document.getElementById("transfer-button"))==null||S.click())},placeholder:"Digite o cdigo de 6 dgitos",className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",maxLength:6,required:!0})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"submit",id:"transfer-button",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n,children:n?"Transferindo...":"Realizar Transferncia"})]})]})]})}):null}async function lk(t){try{const e=[],r=t.match(/<BANKTRANLIST>[\s\S]*?<\/BANKTRANLIST>/);if(!r)throw new Error("Nenhuma transao encontrada no arquivo");const n=r[0].match(/<STMTTRN>[\s\S]*?<\/STMTTRN>/g);if(!n)throw new Error("Nenhuma transao encontrada no arquivo");for(const a of n){const o=a.match(/<DTPOSTED>(.*?)</);if(!o)continue;const i=mV(o[1]),c=a.match(/<TRNAMT>(.*?)</);if(!c)continue;const l=parseFloat(c[1]),d=a.match(/<MEMO>(.*?)</),u=a.match(/<NAME>(.*?)</),h=((d==null?void 0:d[1])||(u==null?void 0:u[1])||"").trim(),y=a.match(/<CHECKNUM>(.*?)</),m=y==null?void 0:y[1];e.push({date:i,type:l>=0?"CREDIT":"DEBIT",value:Math.abs(l),description:h,document:m})}return e}catch(e){throw console.error("Error parsing OFX:",e),new Error("Erro ao processar arquivo OFX. Verifique se o arquivo est no formato correto.")}}function mV(t){const e=t.substring(0,8),r=e.slice(0,4),n=e.slice(4,6),a=e.slice(6,8);return`${r}-${n}-${a}`}function gV({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState(!1),[o,i]=D.useState(null),[c,l]=D.useState([]),[d,u]=D.useState(null),[h,y]=D.useState(""),[m,w]=D.useState([]),v=D.useRef(null);D.useEffect(()=>{t?A():(u(null),y(""),w([]),i(null))},[t]);const A=async()=>{try{const{data:g,error:I}=await De.from("bank_accounts").select("*").eq("active",!0).order("name");if(I)throw I;l(g||[])}catch(g){console.error("Error loading bank accounts:",g),i("Erro ao carregar contas bancrias")}},b=async g=>{const I=g.target.files;if(!I||I.length===0)return;const k=I[0];if(!k.name.toLowerCase().endsWith(".ofx")){i("O arquivo deve estar no formato OFX");return}u(k),i(null);const _=new FileReader;_.onload=async x=>{var P;const j=(P=x.target)==null?void 0:P.result;if(!j){i("Erro ao ler arquivo");return}try{const E=await lk(j);w(E)}catch(E){console.error("Error parsing OFX:",E),i(E instanceof Error?E.message:"Erro ao processar arquivo OFX"),u(null),w([])}},_.onerror=()=>{i("Erro ao ler arquivo"),u(null),w([])},_.readAsText(k)},S=g=>{g.preventDefault(),g.stopPropagation()},R=async g=>{g.preventDefault(),g.stopPropagation();const I=g.dataTransfer.files;if(!I||I.length===0)return;const k=I[0];if(!k.name.toLowerCase().endsWith(".ofx")){i("O arquivo deve estar no formato OFX");return}u(k),i(null);const _=new FileReader;_.onload=async x=>{var P;const j=(P=x.target)==null?void 0:P.result;if(!j){i("Erro ao ler arquivo");return}try{const E=await lk(j);w(E)}catch(E){console.error("Error parsing OFX:",E),i(E instanceof Error?E.message:"Erro ao processar arquivo OFX"),u(null),w([])}},_.onerror=()=>{i("Erro ao ler arquivo"),u(null),w([])},_.readAsText(k)},W=async()=>{if(!(!d||!h||m.length===0)){a(!0),i(null);try{const{data:{user:g},error:I}=await De.auth.getUser();if(I)throw I;if(!g)throw new Error("Usurio no autenticado");const k=m.map(x=>({bank_account_id:h,transaction_date:x.date,value_date:x.date,type:x.type,description:x.description,document:x.document,value:x.value,status:"REGISTERED",created_by_id:g.id})),{error:_}=await De.from("bank_statements").insert(k);if(_)throw _;r(),e()}catch(g){console.error("Error importing transactions:",g),i("Erro ao importar transaes")}finally{a(!1)}}},z=(g,I)=>{const k=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(g));return I==="DEBIT"?`-${k}`:k},B=g=>new Date(g).toLocaleDateString("pt-BR");return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-4xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Importar Arquivo OFX"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[o&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:o})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:h,onChange:g=>y(g.target.value),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma conta bancria"}),c.map(g=>s.jsxs("option",{value:g.id,children:[g.name," - ",g.bank," ",g.branch,"/",g.account]},g.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Arquivo OFX"}),d?s.jsxs("div",{className:"mb-4 flex items-center justify-between p-4 bg-secondary-50 dark:bg-secondary-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wi,{className:"h-5 w-5 text-secondary-400 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-900 dark:text-white",children:d.name})]}),s.jsx("button",{type:"button",onClick:()=>{u(null),w([])},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:s.jsx(Wt,{className:"h-5 w-5"})})]}):s.jsxs("div",{onDragOver:S,onDrop:R,onClick:()=>{var g;return(g=v.current)==null?void 0:g.click()},className:"border-2 border-dashed border-secondary-200 dark:border-secondary-700 rounded-lg p-6 text-center cursor-pointer hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx(wi,{className:"h-8 w-8 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Clique para selecionar ou arraste o arquivo OFX aqui"})]}),s.jsx("input",{ref:v,type:"file",onChange:b,accept:".ofx",className:"hidden"})]}),m.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white mb-4",children:"Transaes Encontradas"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Data"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Documento"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider",children:"Valor"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-secondary-900 divide-y divide-secondary-200 dark:divide-secondary-700",children:m.map((g,I)=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:B(g.date)}),s.jsx("td",{className:"px-6 py-4 text-sm text-secondary-900 dark:text-white",children:g.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900 dark:text-white",children:g.document||"---"}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium text-right ${g.type==="DEBIT"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:z(g.value,g.type)})]},I))})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 mt-8 pt-6 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-800 rounded-lg transition-colors",disabled:n,children:"Cancelar"}),s.jsx("button",{type:"button",onClick:W,className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:n||!d||!h||m.length===0,children:n?"Importando...":"Confirmar Importao"})]})]})]})}):null}function yV(){const[t,e]=D.useState(!1),[r,n]=D.useState(!1),[a,o]=D.useState(!1),[i,c]=D.useState(!1),[l,d]=D.useState(null),[u,h]=D.useState("all"),[y,m]=D.useState(""),[w,v]=D.useState([]),[A,b]=D.useState([]),[S,R]=D.useState(!0),[W,z]=D.useState(null),[B,g]=D.useState(!1),[I,k]=D.useState({dateRange:{start:"",end:""},bankAccountId:"",type:"",categoryId:"",status:""}),[_,x]=D.useState(!1),[j,P]=D.useState(1),E=10;D.useEffect(()=>{P(1),U()},[I,u]);const U=async()=>{try{R(!0);const[me,Pe]=await Promise.all([De.from("bank_accounts").select("*").eq("active",!0).order("name"),De.from("bank_statements_with_details").select("*").order("transaction_date",{ascending:!1})]);if(me.error)throw me.error;if(Pe.error)throw Pe.error;console.log("Statements data:",Pe.data),v(me.data||[]),b(Pe.data||[]),z(null)}catch(me){console.error("Error loading data:",me),z("Erro ao carregar dados")}finally{R(!1)}},q=me=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(me),G=w.map(me=>{const qe=A.filter(Je=>Je.bank_account_id===me.id).reduce((Je,rt)=>Je+(rt.type==="CREDIT"?rt.value:-rt.value),0);return{id:me.id,name:me.name,bank:me.bank,balance:qe,branch:me.branch,account:me.account}}),V=A.filter(me=>{var ct,Ze,et;const Pe=y.toLowerCase(),qe=((ct=me.description)==null?void 0:ct.toLowerCase().includes(Pe))||((Ze=me.beneficiary)==null?void 0:Ze.toLowerCase().includes(Pe))||((et=me.document)==null?void 0:et.toLowerCase().includes(Pe)),Je=(!I.dateRange.start||new Date(me.transaction_date)>=new Date(I.dateRange.start))&&(!I.dateRange.end||new Date(me.transaction_date)<=new Date(I.dateRange.end)),rt=!I.bankAccountId||me.bank_account_id===I.bankAccountId,pt=!I.type||me.type===I.type,Be=!I.categoryId||me.category_id===I.categoryId,pe=!I.status||me.status===I.status,vt=u==="all"||u==="debits"&&me.type==="DEBIT"||u==="credits"&&me.type==="CREDIT";return qe&&Je&&rt&&pt&&Be&&pe&&vt}),ee=Math.ceil(V.length/E),le=V.slice((j-1)*E,j*E),[Z,M]=D.useState(!1),[J,te]=D.useState(null),[de,ie]=D.useState(!1),xe=async me=>{te(me),M(!0)},we=async()=>{if(J){ie(!0),z(null);try{const{error:me}=await De.from("bank_statements").delete().eq("id",J.id);if(me)throw me;b(Pe=>Pe.filter(qe=>qe.id!==J.id)),M(!1),te(null)}catch(me){console.error("Erro ao excluir o lanamento:",me),z(me.message||"Ocorreu um erro ao excluir o lanamento")}finally{ie(!1)}}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[W&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:W}),s.jsx("button",{onClick:()=>z(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Extrato Bancrio"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Visualize e gerencie todas as movimentaes bancrias"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600",children:[s.jsx(SL,{className:"h-5 w-5"}),s.jsx("span",{children:"Transferir"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Lanamento"})]})]})]}),s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 mb-6",children:G.map(me=>s.jsxs("div",{className:"flex-shrink-0 w-52 bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:me.name}),s.jsx(bc,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:`text-2xl font-semibold ${me.balance>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:q(me.balance)}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:me.bank}),s.jsxs("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:[me.branch,"/",me.account]})]},me.id))}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",placeholder:"Buscar por descrio, beneficirio ou documento...",value:y,onChange:me=>{m(me.target.value),P(1)},className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"date",value:I.dateRange.start,onChange:me=>k(Pe=>({...Pe,dateRange:{...Pe.dateRange,start:me.target.value}})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"at"}),s.jsx("input",{type:"date",value:I.dateRange.end,onChange:me=>k(Pe=>({...Pe,dateRange:{...Pe.dateRange,end:me.target.value}})),className:"px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",children:[s.jsx(vc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtros"})]})]})]})}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>h("all"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="all"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Geral"}),s.jsx("button",{onClick:()=>h("debits"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="debits"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Sadas"}),s.jsx("button",{onClick:()=>h("credits"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${u==="credits"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Entradas"})]})}),S?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):s.jsxs("div",{children:[s.jsx(x$,{handleDelete:xe,statements:le,onView:me=>{console.log("View statement:",me),d(me),c(!0)},onEdit:me=>{d(me),c(!0)},onDelete:me=>{console.log("Delete statement:",me)}}),s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("p",{className:"text-sm text-secondary-700 dark:text-secondary-400",children:["Mostrando ",(j-1)*E+1," at ",Math.min(j*E,V.length)," de ",V.length," registros"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(me=>Math.max(1,me-1)),disabled:j===1,className:`px-3 py-1 text-sm font-medium rounded-md border border-secondary-200 dark:border-secondary-600 \r
                           text-secondary-700 dark:text-secondary-300 \r
                           disabled:opacity-50 disabled:cursor-not-allowed\r
                           hover:bg-secondary-50 dark:hover:bg-secondary-700`,children:"Anterior"}),s.jsxs("span",{className:"text-sm text-secondary-700 dark:text-secondary-300",children:["Pgina ",j," de ",ee]}),s.jsx("button",{onClick:()=>P(me=>Math.min(ee,me+1)),disabled:j===ee,className:`px-3 py-1 text-sm font-medium rounded-md border border-secondary-200 dark:border-secondary-600 \r
                           text-secondary-700 dark:text-secondary-300 \r
                           disabled:opacity-50 disabled:cursor-not-allowed\r
                           hover:bg-secondary-50 dark:hover:bg-secondary-700`,children:"Prxima"})]})]})]})]}),s.jsx(KC,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1),U()}}),s.jsx(hV,{isOpen:i,onClose:()=>c(!1),onSuccess:()=>{c(!1),U()},statement:l}),s.jsx(pV,{isOpen:r,onClose:()=>n(!1),onSuccess:()=>{n(!1),U()}}),s.jsx(gV,{isOpen:a,onClose:()=>o(!1),onSuccess:()=>{o(!1),U()}}),s.jsx(y$,{isOpen:B,onClose:()=>g(!1),filters:{bankAccountId:I.bankAccountId,type:I.type,categoryId:I.categoryId,status:I.status},onApplyFilters:me=>{k(Pe=>({...Pe,...me})),g(!1)}}),Z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Confirmar Excluso"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:`Tem certeza que deseja excluir o lanamento ${J.description} de R$ ${J.value}? Esta ao no pode ser desfeita.`}),W&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md text-sm",children:W}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{M(!1),te(null),z(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:we,disabled:de,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:de?"Excluindo...":"Excluir"})]})]})})]})}function xV(){const[t,e]=D.useState(!0),[r,n]=D.useState(!1),[a,o]=D.useState(null),[i,c]=D.useState([]),[l,d]=D.useState(""),[u,h]=D.useState({start:"",end:""}),[y,m]=D.useState(""),[w,v]=D.useState([]),[A,b]=D.useState([]),[S,R]=D.useState("PENDING"),[W]=D.useState({}),[z,B]=D.useState(!1),[g,I]=D.useState(null),[k,_]=D.useState(!1),[x,j]=D.useState(null),P=async()=>{try{console.log("Syncing bank accounts:",l),B(!0),await Nl.syncAccounts({bankAccountId:l}),E()}catch(J){console.error("Error syncing statements:",J),o("Erro ao sincronizar extrato")}finally{B(!1)}},E=async()=>{try{e(!0);const J=await Nl.getMatchingStatements(l);v(J.data),b(J.pendingBankStatements),o(null)}catch(J){console.error("Error loading matching statements:",J),o("Erro ao carregar extrato conciliado")}finally{e(!1)}};D.useEffect(()=>{U()},[]),D.useEffect(()=>{l&&E()},[l]);const U=async()=>{try{const{data:J,error:te}=await De.from("bank_accounts").select("*").eq("active",!0).order("name");if(te)throw te;c(J||[]),o(null)}catch(J){console.error("Error loading bank accounts:",J),o("Erro ao carregar contas bancrias")}finally{e(!1)}},q=async()=>{try{if(!l){o("Selecione uma conta bancria");return}e(!0);const J=document.createElement("input");J.type="file",J.accept=".ofx,.qfx,.xml",J.onchange=async te=>{var we;const ie=(we=te.target.files)==null?void 0:we[0];if(!ie){o("Nenhum arquivo selecionado"),e(!1);return}const xe=new FileReader;xe.onload=async me=>{var Pe;try{const qe=(Pe=me.target)==null?void 0:Pe.result,Je=G(qe);if(!Je||Je.length===0)throw new Error("No foi possvel encontrar transaes no arquivo OFX");const rt=localStorage.getItem("userId");if(!rt)throw new Error("Usurio no autenticado");const pt=Je.map(Ee=>Ee.id).filter(Ee=>Ee),{data:Be}=await De.from("reconciliation_statements").select("document").eq("bank_account_id",l).in("document",pt),pe=new Set((Be==null?void 0:Be.map(Ee=>Ee.document))||[]),vt=Je.filter(Ee=>!pe.has(Ee.id));if(vt.length===0){toast.info("Todas as transaes j foram importadas anteriormente."),e(!1);return}const ct=new Date().toISOString(),Ze=vt.map(Ee=>({bank_account_id:l,transaction_date:Ee.date,value_date:Ee.date,type:Ee.amount>0?"CREDIT":"DEBIT",description:Ee.description||"Transao importada",document:Ee.id||"",value:Math.abs(Ee.amount),status:"PENDING",created_by_id:rt,created_at:ct,updated_at:ct,api_json:JSON.stringify(Ee)})),et=50;for(let Ee=0;Ee<Ze.length;Ee+=et){const Qe=Ze.slice(Ee,Ee+et),{error:Me}=await De.from("reconciliation_statements").insert(Qe);if(Me)throw Me}const se=Je.length-vt.length,ve=`${vt.length} transaes importadas com sucesso!`+(se>0?` (${se} j existentes foram ignoradas)`:"");toast.success(ve),E()}catch(qe){console.error("Error importing OFX:",qe),o("Erro ao importar arquivo OFX: "+(qe.message||"Erro desconhecido")),toast.error("Erro ao importar arquivo OFX")}finally{e(!1)}},xe.onerror=()=>{o("Erro ao ler o arquivo"),e(!1)},xe.readAsText(ie)},J.click()}catch(J){console.error("Error setting up OFX import:",J),o("Erro ao configurar importao de OFX"),e(!1)}},G=J=>{try{const te=[],de=J.match(/<STMTTRN>[\s\S]*?<\/STMTTRN>/g);return de?(de.forEach(ie=>{const xe=ie.match(/<FITID>(.*?)<\/FITID>/),we=ie.match(/<DTPOSTED>(.*?)<\/DTPOSTED>/),me=ie.match(/<TRNAMT>(.*?)<\/TRNAMT>/),Pe=ie.match(/<MEMO>(.*?)<\/MEMO>/)||ie.match(/<NAME>(.*?)<\/NAME>/);if(we&&me){let qe=we[1];if(qe.length>=8){const Je=qe.substring(0,4),rt=qe.substring(4,6),pt=qe.substring(6,8);qe=`${Je}-${rt}-${pt}`}te.push({id:xe?xe[1]:`tx-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,date:qe,amount:parseFloat(me[1]),description:Pe?Pe[1]:""})}}),te):[]}catch(te){return console.error("Error parsing OFX:",te),[]}},V=J=>{const te=A.filter(ie=>ie.type===J.reconciliation_statement.type&&ie.transaction_date===J.reconciliation_statement.transaction_date),de=A.filter(ie=>ie.type===J.reconciliation_statement.type);return te&&te.length>0?te:de},ee=async(J,te)=>{var de,ie;try{n(!0),I(J.id),console.log("Reconciling:",{reconciliationStatement:J,bankStatement:te});const xe=await Nl.reconcileStatement(J.id,te.id);if(xe!=null&&xe.error||(xe==null?void 0:xe.status)==="error")throw new Error((xe==null?void 0:xe.message)||"Erro na conciliao");b(we=>we.filter(me=>me.id!==te.id)),v(we=>we.filter(me=>me.reconciliation_statement.id!==J.id)),jl.fire({toast:!0,position:"top-end",icon:"success",title:"Lanamento conciliado com sucesso!",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}catch(xe){console.error("Error reconciling transactions:",xe);const we=(xe==null?void 0:xe.message)||((ie=(de=xe==null?void 0:xe.response)==null?void 0:de.data)==null?void 0:ie.message)||"Erro ao conciliar lanamentos";o(we),jl.fire({icon:"error",title:"Erro",text:we})}finally{n(!1)}},le=J=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(J),Z=J=>new Date(J).toLocaleDateString("pt-BR"),M=async J=>{try{const{error:te}=await De.from("reconciliation_statements").delete().eq("id",J);if(te)throw te;v(de=>de.filter(ie=>ie.reconciliation_statement.id!==J))}catch(te){console.error("Error deleting statement:",te),toast.error("Erro ao excluir lanamento")}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[a&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg flex items-center justify-between",children:[s.jsx("span",{children:a}),s.jsx("button",{onClick:()=>o(null),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:""})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Conciliao de Contas"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Concilie os lanamentos bancrios com as movimentaes internas"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:q,disabled:t||!l,className:"flex items-center space-x-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 px-4 py-2 rounded-lg transition-colors hover:bg-secondary-200 dark:hover:bg-secondary-600 disabled:opacity-50",children:[s.jsx(wi,{className:"h-5 w-5"}),s.jsx("span",{children:"Importar OFX"})]}),s.jsxs("button",{onClick:P,disabled:z||!l,className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[s.jsx(m0,{className:`h-5 w-5 ${z?"animate-spin":""}`}),s.jsx("span",{children:"Atualizar Extrato"})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 p-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria"}),s.jsxs("select",{value:l,onChange:J=>d(J.target.value),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Selecione uma conta"}),i.map(J=>s.jsx("option",{value:J.id,children:J.name},J.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Perodo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:u.start,onChange:J=>h(te=>({...te,start:J.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"}),s.jsx("input",{type:"date",value:u.end,onChange:J=>h(te=>({...te,end:J.target.value})),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Status"}),s.jsxs("select",{value:S,onChange:J=>R(J.target.value),className:"w-full px-3 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"ALL",children:"Todos"}),s.jsx("option",{value:"PENDING",children:"Pendentes"}),s.jsx("option",{value:"RECONCILED",children:"Conciliados"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-secondary-400"}),s.jsx("input",{type:"text",value:y,onChange:J=>m(J.target.value),placeholder:"Buscar por descrio...",className:"w-full pl-10 pr-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]})}),s.jsx("div",{className:"flex gap-8",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsx("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Lanamentos Bancrios"})}),s.jsx("div",{className:"p-4 space-y-4",children:w&&w.length>0?w.map(J=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"hover:bg-secondary-100 dark:hover:bg-secondary-700 flex-1 p-4 h-24 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:border-primary-500 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>{j(J.reconciliation_statement),_(!0)},children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:Z(J.reconciliation_statement.transaction_date)}),J.reconciliation_statement.status==="RECONCILED"&&s.jsx(Tf,{className:"h-4 w-4 text-green-500"})]}),s.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:J.reconciliation_statement.description}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:J.reconciliation_statement.id})]}),s.jsxs("span",{className:`font-medium ${J.reconciliation_statement.type==="CREDIT"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[J.reconciliation_statement.type==="CREDIT"?"+":"-",le(J.reconciliation_statement.value)]})]})}),s.jsx("div",{className:"w-16 flex justify-center",children:s.jsx("button",{onClick:()=>{J.possible_matches.length>0&&ee(J.reconciliation_statement,J.possible_matches[0])},className:`p-2 rounded-lg transition-colors ${J.possible_matches.length>0?"bg-primary-500 hover:bg-primary-600 text-white":"bg-secondary-100 dark:bg-secondary-800 text-secondary-400"}`,disabled:J.possible_matches.length===0,children:g===J.reconciliation_statement.id&&r?s.jsx(b4,{className:"h-5 w-5 animate-spin"}):s.jsx(p4,{className:"h-5 w-5"})})}),s.jsx("div",{className:"flex-1 p-4 h-24 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:border-primary-500 transition-colors",children:J.possible_matches.length>0?s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:Z(J.possible_matches[0].transaction_date)}),J.possible_matches[0].category_id&&s.jsx("span",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Categoria"})]}),s.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:J.possible_matches[0].description})]}),s.jsxs("span",{className:`flex items-center font-medium ${J.possible_matches[0].type==="CREDIT"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[J.possible_matches[0].type==="CREDIT"?"+":"-",le(J.possible_matches[0].value),s.jsx("button",{className:"ml-2 text-secondary-500 dark:text-secondary-400 hover:text-secondary-700 dark:hover:text-secondary-300",onClick:te=>{te.stopPropagation(),v(de=>de.map(ie=>({...ie,possible_matches:ie.possible_matches.filter(xe=>xe.id!==J.possible_matches[0].id)})))},children:s.jsx(Wt,{className:"h-7 w-7"})})]})]})}):s.jsxs("div",{className:"p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dw,{options:V(J).map(te=>({value:te.id,label:`${te.beneficiary||"Sem beneficirio"} - ${le(te.value)} (${new Date(te.transaction_date).toLocaleDateString("pt-BR")}${te.description?` - ${te.description}`:""})`,statement:te})),onChange:te=>{const de=te==null?void 0:te.statement;de&&v(ie=>ie.map(xe=>xe.reconciliation_statement.id===J.reconciliation_statement.id?{...xe,possible_matches:[...xe.possible_matches,de]}:xe))},placeholder:"Selecione ou pesquise um beneficirio...",isSearchable:!0,className:"w-3/4 react-select-container",classNamePrefix:"react-select"}),s.jsx("button",{className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm",onClick:()=>{j(J.reconciliation_statement),_(!0)},children:"Novo"})]}),W[J.reconciliation_statement.id]&&s.jsxs("div",{className:"mt-2 text-sm text-primary-600 dark:text-primary-400",children:["Sugesto: ",W[J.reconciliation_statement.id].name]})]})})]},J.reconciliation_statement.id)):s.jsx("div",{className:"p-6 text-center text-secondary-500 dark:text-secondary-400",children:t?"Carregando...":"Nenhum lanamento para conciliao encontrado."})})]})})}),s.jsx(KC,{isOpen:k,onClose:()=>{_(!1),j(null)},onSuccess:async()=>{x&&await M(x.id),_(!1),j(null),E()},statement:x,defaultStatus:"RECONCILED"})]})}function bV({isOpen:t,onClose:e,onSuccess:r}){const[n,a]=D.useState("general"),[o,i]=D.useState(!1),[c,l]=D.useState(null),[d,u]=D.useState({general:{name:"",lastDigits:"",brand:"VISA",bank:"",dueDate:"",closingDate:""},account:{bankAccountId:"",cnpjId:""},limit:{totalLimit:"",currentUsed:"",alertPercentage:"80"}}),h=async w=>{w.preventDefault(),i(!0),l(null);try{r(),e()}catch(v){console.error("Error creating credit card:",v),l("Erro ao criar carto")}finally{i(!1)}},y=w=>{const v=w.replace(/\D/g,"");return(parseInt(v)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},m=w=>v=>{let A=v.target.value.replace(/\D/g,"");A===""&&(A="0");const b=parseInt(A)/100;u(S=>({...S,limit:{...S.limit,[w]:b.toString()}}))};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-secondary-900 dark:text-white",children:"Novo Carto de Crdito"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300",children:s.jsx(Wt,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),s.jsx("div",{className:"border-b border-secondary-200 dark:border-secondary-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>a("general"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="general"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Informaes Gerais"}),s.jsx("button",{onClick:()=>a("account"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="account"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Vinculao Financeira"}),s.jsx("button",{onClick:()=>a("limit"),className:`px-6 py-3 text-sm font-medium border-b-2 -mb-px ${n==="limit"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300"}`,children:"Controle de Limite"})]})}),s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[c&&s.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex items-center",children:[s.jsx(nr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:c})]}),n==="general"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Nome do Carto"}),s.jsx("input",{type:"text",value:d.general.name,onChange:w=>u(v=>({...v,general:{...v.general,name:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"ltimos 4 dgitos"}),s.jsx("input",{type:"text",value:d.general.lastDigits,onChange:w=>{const v=w.target.value.replace(/\D/g,"").slice(0,4);u(A=>({...A,general:{...A.general,lastDigits:v}}))},className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,maxLength:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Bandeira"}),s.jsxs("select",{value:d.general.brand,onChange:w=>u(v=>({...v,general:{...v.general,brand:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"VISA",children:"VISA"}),s.jsx("option",{value:"MASTERCARD",children:"MASTERCARD"}),s.jsx("option",{value:"ELO",children:"ELO"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Banco Emissor"}),s.jsx("input",{type:"text",value:d.general.bank,onChange:w=>u(v=>({...v,general:{...v.general,bank:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dia do Vencimento"}),s.jsx("input",{type:"number",min:"1",max:"31",value:d.general.dueDate,onChange:w=>u(v=>({...v,general:{...v.general,dueDate:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Dia do Fechamento"}),s.jsx("input",{type:"number",min:"1",max:"31",value:d.general.closingDate,onChange:w=>u(v=>({...v,general:{...v.general,closingDate:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]})]})]}),n==="account"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Conta Bancria Associada"}),s.jsx("select",{value:d.account.bankAccountId,onChange:w=>u(v=>({...v,account:{...v.account,bankAccountId:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:s.jsx("option",{value:"",children:"Selecione uma conta bancria"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsx("select",{value:d.account.cnpjId,onChange:w=>u(v=>({...v,account:{...v.account,cnpjId:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:s.jsx("option",{value:"",children:"Selecione um CNPJ"})})]})]}),n==="limit"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Limite Total"}),s.jsx("input",{type:"text",value:y(d.limit.totalLimit),onChange:m("totalLimit"),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Saldo Utilizado Atual"}),s.jsx("input",{type:"text",value:y(d.limit.currentUsed),onChange:m("currentUsed"),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Alerta de Limite (%)"}),s.jsx("input",{type:"number",min:"1",max:"100",value:d.limit.alertPercentage,onChange:w=>u(v=>({...v,limit:{...v.limit,alertPercentage:w.target.value}})),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0}),s.jsx("p",{className:"mt-1 text-sm text-secondary-500 dark:text-secondary-400",children:"O sistema emitir um alerta quando o limite utilizado atingir esta porcentagem"})]})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-4 py-2 text-secondary-700 dark:text-secondary-300 hover:bg-secondary-100 dark:hover:bg-secondary-700 rounded-lg transition-colors",disabled:o,children:"Cancelar"}),s.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:o,children:o?"Salvando...":"Criar Carto"})]})]})]})}):null}function vV(){const[t,e]=D.useState(!1),[r]=D.useState([{id:"1",name:"Carto Empresarial Bradesco",bank:"Bradesco",lastDigits:"1234",brand:"VISA",limit:15e3,used:8750,dueDate:15,closingDate:10,bankAccount:{id:"1",name:"Bradesco - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}},{id:"2",name:"Carto Corporativo BB",bank:"Banco do Brasil",lastDigits:"5678",brand:"MASTERCARD",limit:25e3,used:12500,dueDate:20,closingDate:15,bankAccount:{id:"2",name:"BB - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}},{id:"3",name:"Carto Fornecedores",bank:"Ita",lastDigits:"9012",brand:"ELO",limit:5e4,used:35e3,dueDate:25,closingDate:20,bankAccount:{id:"3",name:"Ita - Principal"},cnpj:{id:"1",name:"T-Shirteria LTDA"}}]),n=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i),a=i=>{switch(i){case"VISA":return"bg-gradient-to-br from-blue-500 to-blue-700";case"MASTERCARD":return"bg-gradient-to-br from-red-500 to-red-700";case"ELO":return"bg-gradient-to-br from-purple-500 to-purple-700";default:return"bg-gradient-to-br from-gray-500 to-gray-700"}},o=i=>{switch(i){case"VISA":return" VISA";case"MASTERCARD":return" MASTERCARD";case"ELO":return" ELO";default:return""}};return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Conciliao de Cartes"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Gerencie os cartes de crdito da empresa"})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Incluir Novo Carto"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total de Limites"}),s.jsx(um,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:n(r.reduce((i,c)=>i+c.limit,0))})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Total Utilizado"}),s.jsx(Dv,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400",children:n(r.reduce((i,c)=>i+c.used,0))})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-secondary-500 dark:text-secondary-400",children:"Disponvel"}),s.jsx(nr,{className:"h-5 w-5 text-secondary-400"})]}),s.jsx("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:n(r.reduce((i,c)=>i+(c.limit-c.used),0))})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(i=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>{},children:[s.jsxs("div",{className:`relative ${a(i.brand)} rounded-xl p-6 shadow-lg transform transition-transform group-hover:scale-[1.02]`,children:[s.jsx("div",{className:"absolute top-4 right-4 text-white font-medium",children:o(i.brand)}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:i.name}),s.jsxs("p",{className:"text-white/80 text-sm",children:["**** **** **** ",i.lastDigits]})]}),s.jsxs("div",{className:"flex justify-between items-center text-white/90 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{children:"Vencimento"}),s.jsxs("p",{className:"font-medium",children:["Todo dia ",i.dueDate]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{children:"Fechamento"}),s.jsxs("p",{className:"font-medium",children:["Todo dia ",i.closingDate]})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg p-4 -mt-4 shadow-sm border border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Limite Total"}),s.jsx("p",{className:"font-medium text-secondary-900 dark:text-white",children:n(i.limit)})]}),s.jsx("div",{className:"w-full h-2 bg-secondary-100 dark:bg-secondary-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-red-500",style:{width:`${i.used/i.limit*100}%`}})}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Utilizado"}),s.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:n(i.used)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Disponvel"}),s.jsx("p",{className:"font-medium text-green-600 dark:text-green-400",children:n(i.limit-i.used)})]})]}),s.jsxs("div",{className:"pt-2 border-t border-secondary-100 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Conta para Pagamento"}),s.jsx("p",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:i.bankAccount.name})]})]})})]},i.id))}),s.jsx(bV,{isOpen:t,onClose:()=>e(!1),onSuccess:()=>{e(!1)}})]})}function wV(){const e=(()=>{const i=[];for(let c=0;c<30;c++)i.push({x:c,y:Math.floor(Math.random()*100)});return i})(),r=Math.max(...e.map(i=>i.y)),n=i=>`M ${i.map((u,h)=>{const y=h/(i.length-1)*600,m=300-u.y/r*300;return`${y},${m}`}).join(" L ")}`,a=[{name:"Produto com Defeito",value:12567.89,color:"#f43f5e"},{name:"Desistncia da Compra",value:8234.56,color:"#8b5cf6"},{name:"Tamanho Incorreto",value:6789.12,color:"#0ea5e9"},{name:"Cor Diferente",value:4567.89,color:"#10b981"},{name:"Atraso na Entrega",value:3456.78,color:"#f59e0b"}],o=a.reduce((i,c)=>i+c.value,0);return s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"Dashboard Financeiro"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{className:"flex items-center space-x-2 bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-2 text-secondary-700 dark:text-secondary-200 hover:border-primary-500 dark:hover:border-primary-500 transition-colors",children:[s.jsx(Md,{className:"h-4 w-4"}),s.jsx("span",{children:"Janeiro 2024"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 dark:from-blue-500/20 dark:to-blue-600/20 rounded-xl p-4 border border-blue-100 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Saldo Bancrio"}),s.jsx(Dv,{className:"h-4 w-4 text-blue-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-blue-900 dark:text-blue-100 whitespace-nowrap",children:"R$ 256.489,32"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 dark:from-green-500/20 dark:to-green-600/20 rounded-xl p-4 border border-green-100 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Saldo do Ms"}),s.jsx(A1,{className:"h-4 w-4 text-green-500"})]}),s.jsxs("div",{className:"flex items-baseline",children:[s.jsx("span",{className:"text-base font-bold text-green-900 dark:text-green-100 whitespace-nowrap",children:"R$ 45.678,90"}),s.jsx("span",{className:"ml-1 text-xs text-green-600 dark:text-green-400",children:"+12.5%"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 dark:from-emerald-500/20 dark:to-emerald-600/20 rounded-xl p-4 border border-emerald-100 dark:border-emerald-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-300",children:"Entradas"}),s.jsx(_L,{className:"h-4 w-4 text-emerald-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-emerald-900 dark:text-emerald-100 whitespace-nowrap",children:"R$ 158.945,67"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 dark:from-red-500/20 dark:to-red-600/20 rounded-xl p-4 border border-red-100 dark:border-red-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:"Sadas"}),s.jsx(jL,{className:"h-4 w-4 text-red-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-red-900 dark:text-red-100 whitespace-nowrap",children:"R$ 113.266,77"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 dark:from-yellow-500/20 dark:to-yellow-600/20 rounded-xl p-4 border border-yellow-100 dark:border-yellow-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-yellow-700 dark:text-yellow-300",children:"A Pagar"}),s.jsx(nr,{className:"h-4 w-4 text-yellow-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-yellow-900 dark:text-yellow-100 whitespace-nowrap",children:"R$ 34.567,89"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/10 to-indigo-600/10 dark:from-indigo-500/20 dark:to-indigo-600/20 rounded-xl p-4 border border-indigo-100 dark:border-indigo-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-indigo-700 dark:text-indigo-300",children:"A Receber"}),s.jsx(um,{className:"h-4 w-4 text-indigo-500"})]}),s.jsx("div",{className:"flex items-baseline",children:s.jsx("span",{className:"text-base font-bold text-indigo-900 dark:text-indigo-100 whitespace-nowrap",children:"R$ 67.890,12"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Fluxo de Caixa"}),s.jsxs("select",{className:"px-3 py-1.5 bg-secondary-50 dark:bg-secondary-700 border border-secondary-200 dark:border-secondary-600 rounded-lg text-sm text-secondary-700 dark:text-secondary-300",children:[s.jsx("option",{value:"30",children:"ltimos 30 dias"}),s.jsx("option",{value:"60",children:"ltimos 60 dias"}),s.jsx("option",{value:"90",children:"ltimos 90 dias"})]})]}),s.jsx("div",{className:"h-[300px] relative",children:s.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 300",preserveAspectRatio:"none",children:[[0,1,2,3,4].map(i=>s.jsx("line",{x1:"0",y1:i*75,x2:"600",y2:i*75,stroke:"#e2e8f0",strokeWidth:"1",strokeDasharray:"4 4"},i)),s.jsx("path",{d:n(e),fill:"none",stroke:"#22c55e",strokeWidth:"2"}),s.jsx("path",{d:`${n(e)} L 600,300 L 0,300 Z`,fill:"url(#gradient)",opacity:"0.1"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:"0.5"}),s.jsx("stop",{offset:"100%",stopColor:"#22c55e",stopOpacity:"0"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Entradas"}),s.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"R$ 158.945,67"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Sadas"}),s.jsx("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"R$ 113.266,77"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Saldo"}),s.jsx("p",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:"R$ 45.678,90"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Despesas por Categoria"}),s.jsxs("select",{className:"px-3 py-1.5 bg-secondary-50 dark:bg-secondary-700 border border-secondary-200 dark:border-secondary-600 rounded-lg text-sm text-secondary-700 dark:text-secondary-300",children:[s.jsx("option",{value:"current",children:"Ms Atual"}),s.jsx("option",{value:"last",children:"Ms Anterior"}),s.jsx("option",{value:"year",children:"Ano Atual"})]})]}),s.jsx("div",{className:"h-[300px] relative",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("svg",{width:"250",height:"250",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e2e8f0",strokeWidth:"10"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#22c55e",strokeWidth:"10",strokeDasharray:"70.69 282.74",transform:"rotate(-90 50 50)"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#3b82f6",strokeWidth:"10",strokeDasharray:"141.37 282.74",transform:"rotate(-90 50 50)",strokeDashoffset:"-70.69"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#ef4444",strokeWidth:"10",strokeDasharray:"70.69 282.74",transform:"rotate(-90 50 50)",strokeDashoffset:"-212.06"})]})})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Folha de Pagamento"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 45.678,90"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Marketing"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 23.456,78"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Infraestrutura"})]}),s.jsx("span",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:"R$ 18.234,56"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Ativos e Passivos"}),s.jsx(m4,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Total de Ativos"}),s.jsx("span",{className:"text-secondary-900 dark:text-white font-medium",children:"R$ 1.234.567,89"})]}),s.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"75%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:"Total de Passivos"}),s.jsx("span",{className:"text-secondary-900 dark:text-white font-medium",children:"R$ 567.890,12"})]}),s.jsx("div",{className:"w-full bg-secondary-200 dark:bg-secondary-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"35%"}})})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Rentabilidade"}),s.jsx(EL,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Margem de Lucro"}),s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"32.5%"}),s.jsx("span",{className:"ml-2 text-sm text-green-600 dark:text-green-400",children:"+2.1%"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"ROI"}),s.jsxs("div",{className:"flex items-baseline mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-secondary-900 dark:text-white",children:"18.9%"}),s.jsx("span",{className:"ml-2 text-sm text-green-600 dark:text-green-400",children:"+0.8%"})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Projees"}),s.jsx(A1,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Receita Projetada"}),s.jsx("p",{className:"text-lg font-semibold text-secondary-900 dark:text-white mt-1",children:"R$ 198.765,43"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Despesa Projetada"}),s.jsx("p",{className:"text-lg font-semibold text-secondary-900 dark:text-white mt-1",children:"R$ 145.678,90"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Lucro Projetado"}),s.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mt-1",children:"R$ 53.086,53"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-xl p-6 border border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:"Estornos por Categoria"}),s.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Distribuio dos valores de estorno por motivo"})]}),s.jsx(fm,{className:"h-5 w-5 text-secondary-400"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-[300px] relative",children:s.jsx("div",{className:"absolute inset-0",children:a.map((i,c)=>s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"h-8 rounded transition-all duration-500 ease-in-out",style:{width:`${i.value/o*100}%`,backgroundColor:i.color}}),s.jsx("span",{className:"ml-2 text-sm text-secondary-600 dark:text-secondary-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.value)})]},c))})}),s.jsxs("div",{className:"space-y-4",children:[a.map((i,c)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:i.color}}),s.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:i.name})]}),s.jsxs("div",{className:"text-sm font-medium text-secondary-900 dark:text-white",children:[(i.value/o*100).toFixed(1),"%"]})]},c)),s.jsx("div",{className:"pt-4 mt-4 border-t border-secondary-200 dark:border-secondary-700",children:s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Total de Estornos"}),s.jsx("span",{className:"text-lg font-semibold text-secondary-900 dark:text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o)})]})})]})]})]})})]})}const kV=({onLogin:t})=>{const[e,r]=D.useState(1),[n,a]=D.useState(""),[o,i]=D.useState(""),[c,l]=D.useState(!1),[d,u]=D.useState(null),[h,y]=D.useState(""),[m,w]=D.useState(null),[v,A]=D.useState(!1),[b,S]=D.useState(!1),R=D.useRef(null),W=g=>{g.preventDefault(),e===1?z():B()},z=async()=>{w(null),A(!0);try{const g=await R0.preLogin({email:n,password:o}),{error:I,qrcode:k,message:_}=g;if(console.log(k),k&&u(k),I)throw new Error(_);S(!0),r(2),setTimeout(()=>{var x;(x=R.current)==null||x.focus()},100)}catch(g){console.error("Login error:",g),w(g.message||"Erro ao fazer login")}finally{A(!1)}},B=async()=>{w(null),A(!0);try{const g=await R0.login({email:n,password:o,google_auth_code:h}),{error:I,message:k,user:_,token:x}=g;if(I)throw new Error(k);localStorage.setItem("userId",_.id),localStorage.setItem("userName",_.name),localStorage.setItem("userEmail",_.email),localStorage.setItem("userToken",x),localStorage.setItem("userPermissions",JSON.stringify(_.permissions)),t()}catch(g){console.error("Login error:",g),w(g.message||"Erro ao fazer login")}finally{A(!1)}};return s.jsx("div",{className:"min-h-screen flex",children:s.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-[url('/src/assets/bg2.png')] bg-cover bg-center",children:s.jsxs("div",{className:"w-full max-w-md",children:[m&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:m})}),s.jsxs("form",{onSubmit:W,className:"space-y-10 px-8 py-16 bg-[#34495e] dark:bg-gray-800",children:[!(d||b)&&s.jsx("div",{className:"py-16 bg-[url('/src/assets/logo-white.png')] bg-contain bg-center bg-no-repeat"}),!(d||b)&&s.jsx("h1",{className:"text-center text-xl text-white dark:text-gray-200 font-bold",children:"SISTEMA FINANCEIRO"}),!(d||b)&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white dark:text-gray-300",children:"E-MAIL"}),s.jsx("input",{type:"email",id:"email",value:n,onChange:g=>a(g.target.value),placeholder:"",className:"mt-1 block w-full pb-2 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500 dark:bg-transparent bg-transparent text-white sm:text-sm",required:!0})]}),!(d||b)&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white dark:text-gray-300",children:"SENHA"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{type:c?"text":"password",id:"password",value:o,onChange:g=>i(g.target.value),placeholder:"",className:"mt-1 block w-full pb-2 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500 dark:bg-transparent bg-transparent text-white sm:text-sm",required:!0}),s.jsx("button",{type:"button",onClick:()=>l(!c),className:"absolute inset-y-0 rounded-3xl right-0 px-3 flex items-center text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:c?s.jsx(LL,{className:"h-4 w-4"}):s.jsx(Qd,{className:"h-4 w-4"})})]})]}),!(d||b)&&s.jsx("button",{type:"submit",disabled:v,className:"w-full flex rounded-3xl justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium text-white bg-blue-400 dark:bg-gray-600 hover:bg-blue-500 dark:hover:bg-slate-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?"Entrando...":"ACESSAR"}),(d||b)&&s.jsxs("div",{className:"flex-col justify-center items-center",children:[s.jsx("div",{className:"py-24 bg-[url('/src/assets/google_auth_logo.png')] bg-contain bg-center bg-no-repeat"}),d&&s.jsx("h2",{className:"text-center text-white dark:text-gray-200 mb-4",children:"Faa a leitura do QR Code no seu app de autenticao (Google Authenticator)"}),d&&s.jsx("img",{src:d,alt:"QR Code",className:"w-96 h-96"}),d&&s.jsx("h2",{className:"text-center text-white dark:text-gray-200 mb-4 mt-12",children:"Insira abaixo o cdigo de autenticao gerado pelo app (Google Authenticator)"}),!d&&s.jsx("h2",{className:"text-center text-white dark:text-gray-200 mb-4",children:"Insira abaixo o cdigo de autenticao gerado pelo app (Google Authenticator)"}),s.jsx("input",{ref:R,type:"text",value:h,onChange:g=>y(g.target.value),placeholder:"Cdigo de autenticao",className:"mt-1 block w-full p-2 border-b-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500 dark:bg-transparent bg-transparent text-white sm:text-sm",required:!0}),s.jsx("button",{type:"submit",disabled:v,className:"w-full flex rounded-3xl justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium text-white bg-blue-400 dark:bg-gray-600 hover:bg-blue-500 dark:hover:bg-slate-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-4",children:v?"Validando...":"VALIDAR"}),s.jsx("button",{type:"button",disabled:v,onClick:()=>{y(""),S(!1),u(null),r(1)},className:"w-full flex rounded-3xl justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium text-white dark:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mt-4",children:"VOLTAR PARA O LOGIN"})]})]})]})})})};var Ny={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var ck;function pb(){return ck||(ck=1,function(t){(function(e,r){t.exports=e.document?r(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:ps,function(e,r){var n=[],a=Object.getPrototypeOf,o=n.slice,i=n.flat?function(p){return n.flat.call(p)}:function(p){return n.concat.apply([],p)},c=n.push,l=n.indexOf,d={},u=d.toString,h=d.hasOwnProperty,y=h.toString,m=y.call(Object),w={},v=function(C){return typeof C=="function"&&typeof C.nodeType!="number"&&typeof C.item!="function"},A=function(C){return C!=null&&C===C.window},b=e.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function R(p,C,O){O=O||b;var F,K,Y=O.createElement("script");if(Y.text=p,C)for(F in S)K=C[F]||C.getAttribute&&C.getAttribute(F),K&&Y.setAttribute(F,K);O.head.appendChild(Y).parentNode.removeChild(Y)}function W(p){return p==null?p+"":typeof p=="object"||typeof p=="function"?d[u.call(p)]||"object":typeof p}var z="3.7.1",B=/HTML$/i,g=function(p,C){return new g.fn.init(p,C)};g.fn=g.prototype={jquery:z,constructor:g,length:0,toArray:function(){return o.call(this)},get:function(p){return p==null?o.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var C=g.merge(this.constructor(),p);return C.prevObject=this,C},each:function(p){return g.each(this,p)},map:function(p){return this.pushStack(g.map(this,function(C,O){return p.call(C,O,C)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(p,C){return(C+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(p,C){return C%2}))},eq:function(p){var C=this.length,O=+p+(p<0?C:0);return this.pushStack(O>=0&&O<C?[this[O]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:n.sort,splice:n.splice},g.extend=g.fn.extend=function(){var p,C,O,F,K,Y,ne=arguments[0]||{},be=1,ge=arguments.length,Se=!1;for(typeof ne=="boolean"&&(Se=ne,ne=arguments[be]||{},be++),typeof ne!="object"&&!v(ne)&&(ne={}),be===ge&&(ne=this,be--);be<ge;be++)if((p=arguments[be])!=null)for(C in p)F=p[C],!(C==="__proto__"||ne===F)&&(Se&&F&&(g.isPlainObject(F)||(K=Array.isArray(F)))?(O=ne[C],K&&!Array.isArray(O)?Y=[]:!K&&!g.isPlainObject(O)?Y={}:Y=O,K=!1,ne[C]=g.extend(Se,Y,F)):F!==void 0&&(ne[C]=F));return ne},g.extend({expando:"jQuery"+(z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var C,O;return!p||u.call(p)!=="[object Object]"?!1:(C=a(p),C?(O=h.call(C,"constructor")&&C.constructor,typeof O=="function"&&y.call(O)===m):!0)},isEmptyObject:function(p){var C;for(C in p)return!1;return!0},globalEval:function(p,C,O){R(p,{nonce:C&&C.nonce},O)},each:function(p,C){var O,F=0;if(I(p))for(O=p.length;F<O&&C.call(p[F],F,p[F])!==!1;F++);else for(F in p)if(C.call(p[F],F,p[F])===!1)break;return p},text:function(p){var C,O="",F=0,K=p.nodeType;if(!K)for(;C=p[F++];)O+=g.text(C);return K===1||K===11?p.textContent:K===9?p.documentElement.textContent:K===3||K===4?p.nodeValue:O},makeArray:function(p,C){var O=C||[];return p!=null&&(I(Object(p))?g.merge(O,typeof p=="string"?[p]:p):c.call(O,p)),O},inArray:function(p,C,O){return C==null?-1:l.call(C,p,O)},isXMLDoc:function(p){var C=p&&p.namespaceURI,O=p&&(p.ownerDocument||p).documentElement;return!B.test(C||O&&O.nodeName||"HTML")},merge:function(p,C){for(var O=+C.length,F=0,K=p.length;F<O;F++)p[K++]=C[F];return p.length=K,p},grep:function(p,C,O){for(var F,K=[],Y=0,ne=p.length,be=!O;Y<ne;Y++)F=!C(p[Y],Y),F!==be&&K.push(p[Y]);return K},map:function(p,C,O){var F,K,Y=0,ne=[];if(I(p))for(F=p.length;Y<F;Y++)K=C(p[Y],Y,O),K!=null&&ne.push(K);else for(Y in p)K=C(p[Y],Y,O),K!=null&&ne.push(K);return i(ne)},guid:1,support:w}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=n[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,C){d["[object "+C+"]"]=C.toLowerCase()});function I(p){var C=!!p&&"length"in p&&p.length,O=W(p);return v(p)||A(p)?!1:O==="array"||C===0||typeof C=="number"&&C>0&&C-1 in p}function k(p,C){return p.nodeName&&p.nodeName.toLowerCase()===C.toLowerCase()}var _=n.pop,x=n.sort,j=n.splice,P="[\\x20\\t\\r\\n\\f]",E=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");g.contains=function(p,C){var O=C&&C.parentNode;return p===O||!!(O&&O.nodeType===1&&(p.contains?p.contains(O):p.compareDocumentPosition&&p.compareDocumentPosition(O)&16))};var U=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function q(p,C){return C?p==="\0"?"":p.slice(0,-1)+"\\"+p.charCodeAt(p.length-1).toString(16)+" ":"\\"+p}g.escapeSelector=function(p){return(p+"").replace(U,q)};var G=b,V=c;(function(){var p,C,O,F,K,Y=V,ne,be,ge,Se,$e,We=g.expando,Oe=0,nt=0,Et=No(),er=No(),$t=No(),nn=No(),L=function(ue,ke){return ue===ke&&(K=!0),0},X="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",he="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ye="\\["+P+"*("+he+")(?:"+P+"*([*^$|!~]?=)"+P+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+he+"))|)"+P+"*\\]",Ae=":("+he+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ye+")*)|.*)\\)|)",Ie=new RegExp(P+"+","g"),Ge=new RegExp("^"+P+"*,"+P+"*"),ft=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),jt=new RegExp(P+"|>"),At=new RegExp(Ae),Tt=new RegExp("^"+he+"$"),Ht={ID:new RegExp("^#("+he+")"),CLASS:new RegExp("^\\.("+he+")"),TAG:new RegExp("^("+he+"|[*])"),ATTR:new RegExp("^"+ye),PSEUDO:new RegExp("^"+Ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+X+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},gr=/^(?:input|select|textarea|button)$/i,xr=/^h\d$/i,fr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_n=/[+~]/,Rr=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),mn=function(ue,ke){var Le="0x"+ue.slice(1)-65536;return ke||(Le<0?String.fromCharCode(Le+65536):String.fromCharCode(Le>>10|55296,Le&1023|56320))},ja=function(){Na()},Cs=Co(function(ue){return ue.disabled===!0&&k(ue,"fieldset")},{dir:"parentNode",next:"legend"});function Fc(){try{return ne.activeElement}catch{}}try{Y.apply(n=o.call(G.childNodes),G.childNodes),n[G.childNodes.length].nodeType}catch{Y={apply:function(ke,Le){V.apply(ke,o.call(Le))},call:function(ke){V.apply(ke,o.call(arguments,1))}}}function dr(ue,ke,Le,Fe){var He,st,ot,yt,lt,Ot,Ct,Mt=ke&&ke.ownerDocument,Yt=ke?ke.nodeType:9;if(Le=Le||[],typeof ue!="string"||!ue||Yt!==1&&Yt!==9&&Yt!==11)return Le;if(!Fe&&(Na(ke),ke=ke||ne,ge)){if(Yt!==11&&(lt=fr.exec(ue)))if(He=lt[1]){if(Yt===9)if(ot=ke.getElementById(He)){if(ot.id===He)return Y.call(Le,ot),Le}else return Le;else if(Mt&&(ot=Mt.getElementById(He))&&dr.contains(ke,ot)&&ot.id===He)return Y.call(Le,ot),Le}else{if(lt[2])return Y.apply(Le,ke.getElementsByTagName(ue)),Le;if((He=lt[3])&&ke.getElementsByClassName)return Y.apply(Le,ke.getElementsByClassName(He)),Le}if(!nn[ue+" "]&&(!Se||!Se.test(ue))){if(Ct=ue,Mt=ke,Yt===1&&(jt.test(ue)||ft.test(ue))){for(Mt=_n.test(ue)&&So(ke.parentNode)||ke,(Mt!=ke||!w.scope)&&((yt=ke.getAttribute("id"))?yt=g.escapeSelector(yt):ke.setAttribute("id",yt=We)),Ot=An(ue),st=Ot.length;st--;)Ot[st]=(yt?"#"+yt:":scope")+" "+Fi(Ot[st]);Ct=Ot.join(",")}try{return Y.apply(Le,Mt.querySelectorAll(Ct)),Le}catch{nn(ue,!0)}finally{yt===We&&ke.removeAttribute("id")}}}return ra(ue.replace(E,"$1"),ke,Le,Fe)}function No(){var ue=[];function ke(Le,Fe){return ue.push(Le+" ")>C.cacheLength&&delete ke[ue.shift()],ke[Le+" "]=Fe}return ke}function Vn(ue){return ue[We]=!0,ue}function _s(ue){var ke=ne.createElement("fieldset");try{return!!ue(ke)}catch{return!1}finally{ke.parentNode&&ke.parentNode.removeChild(ke),ke=null}}function zl(ue){return function(ke){return k(ke,"input")&&ke.type===ue}}function Oi(ue){return function(ke){return(k(ke,"input")||k(ke,"button"))&&ke.type===ue}}function En(ue){return function(ke){return"form"in ke?ke.parentNode&&ke.disabled===!1?"label"in ke?"label"in ke.parentNode?ke.parentNode.disabled===ue:ke.disabled===ue:ke.isDisabled===ue||ke.isDisabled!==!ue&&Cs(ke)===ue:ke.disabled===ue:"label"in ke?ke.disabled===ue:!1}}function Oa(ue){return Vn(function(ke){return ke=+ke,Vn(function(Le,Fe){for(var He,st=ue([],Le.length,ke),ot=st.length;ot--;)Le[He=st[ot]]&&(Le[He]=!(Fe[He]=Le[He]))})})}function So(ue){return ue&&typeof ue.getElementsByTagName<"u"&&ue}function Na(ue){var ke,Le=ue?ue.ownerDocument||ue:G;return Le==ne||Le.nodeType!==9||!Le.documentElement||(ne=Le,be=ne.documentElement,ge=!g.isXMLDoc(ne),$e=be.matches||be.webkitMatchesSelector||be.msMatchesSelector,be.msMatchesSelector&&G!=ne&&(ke=ne.defaultView)&&ke.top!==ke&&ke.addEventListener("unload",ja),w.getById=_s(function(Fe){return be.appendChild(Fe).id=g.expando,!ne.getElementsByName||!ne.getElementsByName(g.expando).length}),w.disconnectedMatch=_s(function(Fe){return $e.call(Fe,"*")}),w.scope=_s(function(){return ne.querySelectorAll(":scope")}),w.cssHas=_s(function(){try{return ne.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(C.filter.ID=function(Fe){var He=Fe.replace(Rr,mn);return function(st){return st.getAttribute("id")===He}},C.find.ID=function(Fe,He){if(typeof He.getElementById<"u"&&ge){var st=He.getElementById(Fe);return st?[st]:[]}}):(C.filter.ID=function(Fe){var He=Fe.replace(Rr,mn);return function(st){var ot=typeof st.getAttributeNode<"u"&&st.getAttributeNode("id");return ot&&ot.value===He}},C.find.ID=function(Fe,He){if(typeof He.getElementById<"u"&&ge){var st,ot,yt,lt=He.getElementById(Fe);if(lt){if(st=lt.getAttributeNode("id"),st&&st.value===Fe)return[lt];for(yt=He.getElementsByName(Fe),ot=0;lt=yt[ot++];)if(st=lt.getAttributeNode("id"),st&&st.value===Fe)return[lt]}return[]}}),C.find.TAG=function(Fe,He){return typeof He.getElementsByTagName<"u"?He.getElementsByTagName(Fe):He.querySelectorAll(Fe)},C.find.CLASS=function(Fe,He){if(typeof He.getElementsByClassName<"u"&&ge)return He.getElementsByClassName(Fe)},Se=[],_s(function(Fe){var He;be.appendChild(Fe).innerHTML="<a id='"+We+"' href='' disabled='disabled'></a><select id='"+We+"-\r\\' disabled='disabled'><option selected=''></option></select>",Fe.querySelectorAll("[selected]").length||Se.push("\\["+P+"*(?:value|"+X+")"),Fe.querySelectorAll("[id~="+We+"-]").length||Se.push("~="),Fe.querySelectorAll("a#"+We+"+*").length||Se.push(".#.+[+~]"),Fe.querySelectorAll(":checked").length||Se.push(":checked"),He=ne.createElement("input"),He.setAttribute("type","hidden"),Fe.appendChild(He).setAttribute("name","D"),be.appendChild(Fe).disabled=!0,Fe.querySelectorAll(":disabled").length!==2&&Se.push(":enabled",":disabled"),He=ne.createElement("input"),He.setAttribute("name",""),Fe.appendChild(He),Fe.querySelectorAll("[name='']").length||Se.push("\\["+P+"*name"+P+"*="+P+`*(?:''|"")`)}),w.cssHas||Se.push(":has"),Se=Se.length&&new RegExp(Se.join("|")),L=function(Fe,He){if(Fe===He)return K=!0,0;var st=!Fe.compareDocumentPosition-!He.compareDocumentPosition;return st||(st=(Fe.ownerDocument||Fe)==(He.ownerDocument||He)?Fe.compareDocumentPosition(He):1,st&1||!w.sortDetached&&He.compareDocumentPosition(Fe)===st?Fe===ne||Fe.ownerDocument==G&&dr.contains(G,Fe)?-1:He===ne||He.ownerDocument==G&&dr.contains(G,He)?1:F?l.call(F,Fe)-l.call(F,He):0:st&4?-1:1)}),ne}dr.matches=function(ue,ke){return dr(ue,null,null,ke)},dr.matchesSelector=function(ue,ke){if(Na(ue),ge&&!nn[ke+" "]&&(!Se||!Se.test(ke)))try{var Le=$e.call(ue,ke);if(Le||w.disconnectedMatch||ue.document&&ue.document.nodeType!==11)return Le}catch{nn(ke,!0)}return dr(ke,ne,null,[ue]).length>0},dr.contains=function(ue,ke){return(ue.ownerDocument||ue)!=ne&&Na(ue),g.contains(ue,ke)},dr.attr=function(ue,ke){(ue.ownerDocument||ue)!=ne&&Na(ue);var Le=C.attrHandle[ke.toLowerCase()],Fe=Le&&h.call(C.attrHandle,ke.toLowerCase())?Le(ue,ke,!ge):void 0;return Fe!==void 0?Fe:ue.getAttribute(ke)},dr.error=function(ue){throw new Error("Syntax error, unrecognized expression: "+ue)},g.uniqueSort=function(ue){var ke,Le=[],Fe=0,He=0;if(K=!w.sortStable,F=!w.sortStable&&o.call(ue,0),x.call(ue,L),K){for(;ke=ue[He++];)ke===ue[He]&&(Fe=Le.push(He));for(;Fe--;)j.call(ue,Le[Fe],1)}return F=null,ue},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(o.apply(this)))},C=g.expr={cacheLength:50,createPseudo:Vn,match:Ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ue){return ue[1]=ue[1].replace(Rr,mn),ue[3]=(ue[3]||ue[4]||ue[5]||"").replace(Rr,mn),ue[2]==="~="&&(ue[3]=" "+ue[3]+" "),ue.slice(0,4)},CHILD:function(ue){return ue[1]=ue[1].toLowerCase(),ue[1].slice(0,3)==="nth"?(ue[3]||dr.error(ue[0]),ue[4]=+(ue[4]?ue[5]+(ue[6]||1):2*(ue[3]==="even"||ue[3]==="odd")),ue[5]=+(ue[7]+ue[8]||ue[3]==="odd")):ue[3]&&dr.error(ue[0]),ue},PSEUDO:function(ue){var ke,Le=!ue[6]&&ue[2];return Ht.CHILD.test(ue[0])?null:(ue[3]?ue[2]=ue[4]||ue[5]||"":Le&&At.test(Le)&&(ke=An(Le,!0))&&(ke=Le.indexOf(")",Le.length-ke)-Le.length)&&(ue[0]=ue[0].slice(0,ke),ue[2]=Le.slice(0,ke)),ue.slice(0,3))}},filter:{TAG:function(ue){var ke=ue.replace(Rr,mn).toLowerCase();return ue==="*"?function(){return!0}:function(Le){return k(Le,ke)}},CLASS:function(ue){var ke=Et[ue+" "];return ke||(ke=new RegExp("(^|"+P+")"+ue+"("+P+"|$)"))&&Et(ue,function(Le){return ke.test(typeof Le.className=="string"&&Le.className||typeof Le.getAttribute<"u"&&Le.getAttribute("class")||"")})},ATTR:function(ue,ke,Le){return function(Fe){var He=dr.attr(Fe,ue);return He==null?ke==="!=":ke?(He+="",ke==="="?He===Le:ke==="!="?He!==Le:ke==="^="?Le&&He.indexOf(Le)===0:ke==="*="?Le&&He.indexOf(Le)>-1:ke==="$="?Le&&He.slice(-Le.length)===Le:ke==="~="?(" "+He.replace(Ie," ")+" ").indexOf(Le)>-1:ke==="|="?He===Le||He.slice(0,Le.length+1)===Le+"-":!1):!0}},CHILD:function(ue,ke,Le,Fe,He){var st=ue.slice(0,3)!=="nth",ot=ue.slice(-4)!=="last",yt=ke==="of-type";return Fe===1&&He===0?function(lt){return!!lt.parentNode}:function(lt,Ot,Ct){var Mt,Yt,kt,ur,an,Zr=st!==ot?"nextSibling":"previousSibling",Fn=lt.parentNode,Hn=yt&&lt.nodeName.toLowerCase(),Sa=!Ct&&!yt,gn=!1;if(Fn){if(st){for(;Zr;){for(kt=lt;kt=kt[Zr];)if(yt?k(kt,Hn):kt.nodeType===1)return!1;an=Zr=ue==="only"&&!an&&"nextSibling"}return!0}if(an=[ot?Fn.firstChild:Fn.lastChild],ot&&Sa){for(Yt=Fn[We]||(Fn[We]={}),Mt=Yt[ue]||[],ur=Mt[0]===Oe&&Mt[1],gn=ur&&Mt[2],kt=ur&&Fn.childNodes[ur];kt=++ur&&kt&&kt[Zr]||(gn=ur=0)||an.pop();)if(kt.nodeType===1&&++gn&&kt===lt){Yt[ue]=[Oe,ur,gn];break}}else if(Sa&&(Yt=lt[We]||(lt[We]={}),Mt=Yt[ue]||[],ur=Mt[0]===Oe&&Mt[1],gn=ur),gn===!1)for(;(kt=++ur&&kt&&kt[Zr]||(gn=ur=0)||an.pop())&&!((yt?k(kt,Hn):kt.nodeType===1)&&++gn&&(Sa&&(Yt=kt[We]||(kt[We]={}),Yt[ue]=[Oe,gn]),kt===lt)););return gn-=He,gn===Fe||gn%Fe===0&&gn/Fe>=0}}},PSEUDO:function(ue,ke){var Le,Fe=C.pseudos[ue]||C.setFilters[ue.toLowerCase()]||dr.error("unsupported pseudo: "+ue);return Fe[We]?Fe(ke):Fe.length>1?(Le=[ue,ue,"",ke],C.setFilters.hasOwnProperty(ue.toLowerCase())?Vn(function(He,st){for(var ot,yt=Fe(He,ke),lt=yt.length;lt--;)ot=l.call(He,yt[lt]),He[ot]=!(st[ot]=yt[lt])}):function(He){return Fe(He,0,Le)}):Fe}},pseudos:{not:Vn(function(ue){var ke=[],Le=[],Fe=Ys(ue.replace(E,"$1"));return Fe[We]?Vn(function(He,st,ot,yt){for(var lt,Ot=Fe(He,null,yt,[]),Ct=He.length;Ct--;)(lt=Ot[Ct])&&(He[Ct]=!(st[Ct]=lt))}):function(He,st,ot){return ke[0]=He,Fe(ke,null,ot,Le),ke[0]=null,!Le.pop()}}),has:Vn(function(ue){return function(ke){return dr(ue,ke).length>0}}),contains:Vn(function(ue){return ue=ue.replace(Rr,mn),function(ke){return(ke.textContent||g.text(ke)).indexOf(ue)>-1}}),lang:Vn(function(ue){return Tt.test(ue||"")||dr.error("unsupported lang: "+ue),ue=ue.replace(Rr,mn).toLowerCase(),function(ke){var Le;do if(Le=ge?ke.lang:ke.getAttribute("xml:lang")||ke.getAttribute("lang"))return Le=Le.toLowerCase(),Le===ue||Le.indexOf(ue+"-")===0;while((ke=ke.parentNode)&&ke.nodeType===1);return!1}}),target:function(ue){var ke=e.location&&e.location.hash;return ke&&ke.slice(1)===ue.id},root:function(ue){return ue===be},focus:function(ue){return ue===Fc()&&ne.hasFocus()&&!!(ue.type||ue.href||~ue.tabIndex)},enabled:En(!1),disabled:En(!0),checked:function(ue){return k(ue,"input")&&!!ue.checked||k(ue,"option")&&!!ue.selected},selected:function(ue){return ue.parentNode&&ue.parentNode.selectedIndex,ue.selected===!0},empty:function(ue){for(ue=ue.firstChild;ue;ue=ue.nextSibling)if(ue.nodeType<6)return!1;return!0},parent:function(ue){return!C.pseudos.empty(ue)},header:function(ue){return xr.test(ue.nodeName)},input:function(ue){return gr.test(ue.nodeName)},button:function(ue){return k(ue,"input")&&ue.type==="button"||k(ue,"button")},text:function(ue){var ke;return k(ue,"input")&&ue.type==="text"&&((ke=ue.getAttribute("type"))==null||ke.toLowerCase()==="text")},first:Oa(function(){return[0]}),last:Oa(function(ue,ke){return[ke-1]}),eq:Oa(function(ue,ke,Le){return[Le<0?Le+ke:Le]}),even:Oa(function(ue,ke){for(var Le=0;Le<ke;Le+=2)ue.push(Le);return ue}),odd:Oa(function(ue,ke){for(var Le=1;Le<ke;Le+=2)ue.push(Le);return ue}),lt:Oa(function(ue,ke,Le){var Fe;for(Le<0?Fe=Le+ke:Le>ke?Fe=ke:Fe=Le;--Fe>=0;)ue.push(Fe);return ue}),gt:Oa(function(ue,ke,Le){for(var Fe=Le<0?Le+ke:Le;++Fe<ke;)ue.push(Fe);return ue})}},C.pseudos.nth=C.pseudos.eq;for(p in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[p]=zl(p);for(p in{submit:!0,reset:!0})C.pseudos[p]=Oi(p);function Mi(){}Mi.prototype=C.filters=C.pseudos,C.setFilters=new Mi;function An(ue,ke){var Le,Fe,He,st,ot,yt,lt,Ot=er[ue+" "];if(Ot)return ke?0:Ot.slice(0);for(ot=ue,yt=[],lt=C.preFilter;ot;){(!Le||(Fe=Ge.exec(ot)))&&(Fe&&(ot=ot.slice(Fe[0].length)||ot),yt.push(He=[])),Le=!1,(Fe=ft.exec(ot))&&(Le=Fe.shift(),He.push({value:Le,type:Fe[0].replace(E," ")}),ot=ot.slice(Le.length));for(st in C.filter)(Fe=Ht[st].exec(ot))&&(!lt[st]||(Fe=lt[st](Fe)))&&(Le=Fe.shift(),He.push({value:Le,type:st,matches:Fe}),ot=ot.slice(Le.length));if(!Le)break}return ke?ot.length:ot?dr.error(ue):er(ue,yt).slice(0)}function Fi(ue){for(var ke=0,Le=ue.length,Fe="";ke<Le;ke++)Fe+=ue[ke].value;return Fe}function Co(ue,ke,Le){var Fe=ke.dir,He=ke.next,st=He||Fe,ot=Le&&st==="parentNode",yt=nt++;return ke.first?function(lt,Ot,Ct){for(;lt=lt[Fe];)if(lt.nodeType===1||ot)return ue(lt,Ot,Ct);return!1}:function(lt,Ot,Ct){var Mt,Yt,kt=[Oe,yt];if(Ct){for(;lt=lt[Fe];)if((lt.nodeType===1||ot)&&ue(lt,Ot,Ct))return!0}else for(;lt=lt[Fe];)if(lt.nodeType===1||ot)if(Yt=lt[We]||(lt[We]={}),He&&k(lt,He))lt=lt[Fe]||lt;else{if((Mt=Yt[st])&&Mt[0]===Oe&&Mt[1]===yt)return kt[2]=Mt[2];if(Yt[st]=kt,kt[2]=ue(lt,Ot,Ct))return!0}return!1}}function Bi(ue){return ue.length>1?function(ke,Le,Fe){for(var He=ue.length;He--;)if(!ue[He](ke,Le,Fe))return!1;return!0}:ue[0]}function Ma(ue,ke,Le){for(var Fe=0,He=ke.length;Fe<He;Fe++)dr(ue,ke[Fe],Le);return Le}function Ks(ue,ke,Le,Fe,He){for(var st,ot=[],yt=0,lt=ue.length,Ot=ke!=null;yt<lt;yt++)(st=ue[yt])&&(!Le||Le(st,Fe,He))&&(ot.push(st),Ot&&ke.push(yt));return ot}function $i(ue,ke,Le,Fe,He,st){return Fe&&!Fe[We]&&(Fe=$i(Fe)),He&&!He[We]&&(He=$i(He,st)),Vn(function(ot,yt,lt,Ot){var Ct,Mt,Yt,kt,ur=[],an=[],Zr=yt.length,Fn=ot||Ma(ke||"*",lt.nodeType?[lt]:lt,[]),Hn=ue&&(ot||!ke)?Ks(Fn,ur,ue,lt,Ot):Fn;if(Le?(kt=He||(ot?ue:Zr||Fe)?[]:yt,Le(Hn,kt,lt,Ot)):kt=Hn,Fe)for(Ct=Ks(kt,an),Fe(Ct,[],lt,Ot),Mt=Ct.length;Mt--;)(Yt=Ct[Mt])&&(kt[an[Mt]]=!(Hn[an[Mt]]=Yt));if(ot){if(He||ue){if(He){for(Ct=[],Mt=kt.length;Mt--;)(Yt=kt[Mt])&&Ct.push(Hn[Mt]=Yt);He(null,kt=[],Ct,Ot)}for(Mt=kt.length;Mt--;)(Yt=kt[Mt])&&(Ct=He?l.call(ot,Yt):ur[Mt])>-1&&(ot[Ct]=!(yt[Ct]=Yt))}}else kt=Ks(kt===yt?kt.splice(Zr,kt.length):kt),He?He(null,yt,kt,Ot):Y.apply(yt,kt)})}function qi(ue){for(var ke,Le,Fe,He=ue.length,st=C.relative[ue[0].type],ot=st||C.relative[" "],yt=st?1:0,lt=Co(function(Mt){return Mt===ke},ot,!0),Ot=Co(function(Mt){return l.call(ke,Mt)>-1},ot,!0),Ct=[function(Mt,Yt,kt){var ur=!st&&(kt||Yt!=O)||((ke=Yt).nodeType?lt(Mt,Yt,kt):Ot(Mt,Yt,kt));return ke=null,ur}];yt<He;yt++)if(Le=C.relative[ue[yt].type])Ct=[Co(Bi(Ct),Le)];else{if(Le=C.filter[ue[yt].type].apply(null,ue[yt].matches),Le[We]){for(Fe=++yt;Fe<He&&!C.relative[ue[Fe].type];Fe++);return $i(yt>1&&Bi(Ct),yt>1&&Fi(ue.slice(0,yt-1).concat({value:ue[yt-2].type===" "?"*":""})).replace(E,"$1"),Le,yt<Fe&&qi(ue.slice(yt,Fe)),Fe<He&&qi(ue=ue.slice(Fe)),Fe<He&&Fi(ue))}Ct.push(Le)}return Bi(Ct)}function _o(ue,ke){var Le=ke.length>0,Fe=ue.length>0,He=function(st,ot,yt,lt,Ot){var Ct,Mt,Yt,kt=0,ur="0",an=st&&[],Zr=[],Fn=O,Hn=st||Fe&&C.find.TAG("*",Ot),Sa=Oe+=Fn==null?1:Math.random()||.1,gn=Hn.length;for(Ot&&(O=ot==ne||ot||Ot);ur!==gn&&(Ct=Hn[ur])!=null;ur++){if(Fe&&Ct){for(Mt=0,!ot&&Ct.ownerDocument!=ne&&(Na(Ct),yt=!ge);Yt=ue[Mt++];)if(Yt(Ct,ot||ne,yt)){Y.call(lt,Ct);break}Ot&&(Oe=Sa)}Le&&((Ct=!Yt&&Ct)&&kt--,st&&an.push(Ct))}if(kt+=ur,Le&&ur!==kt){for(Mt=0;Yt=ke[Mt++];)Yt(an,Zr,ot,yt);if(st){if(kt>0)for(;ur--;)an[ur]||Zr[ur]||(Zr[ur]=_.call(lt));Zr=Ks(Zr)}Y.apply(lt,Zr),Ot&&!st&&Zr.length>0&&kt+ke.length>1&&g.uniqueSort(lt)}return Ot&&(Oe=Sa,O=Fn),an};return Le?Vn(He):He}function Ys(ue,ke){var Le,Fe=[],He=[],st=$t[ue+" "];if(!st){for(ke||(ke=An(ue)),Le=ke.length;Le--;)st=qi(ke[Le]),st[We]?Fe.push(st):He.push(st);st=$t(ue,_o(He,Fe)),st.selector=ue}return st}function ra(ue,ke,Le,Fe){var He,st,ot,yt,lt,Ot=typeof ue=="function"&&ue,Ct=!Fe&&An(ue=Ot.selector||ue);if(Le=Le||[],Ct.length===1){if(st=Ct[0]=Ct[0].slice(0),st.length>2&&(ot=st[0]).type==="ID"&&ke.nodeType===9&&ge&&C.relative[st[1].type]){if(ke=(C.find.ID(ot.matches[0].replace(Rr,mn),ke)||[])[0],ke)Ot&&(ke=ke.parentNode);else return Le;ue=ue.slice(st.shift().value.length)}for(He=Ht.needsContext.test(ue)?0:st.length;He--&&(ot=st[He],!C.relative[yt=ot.type]);)if((lt=C.find[yt])&&(Fe=lt(ot.matches[0].replace(Rr,mn),_n.test(st[0].type)&&So(ke.parentNode)||ke))){if(st.splice(He,1),ue=Fe.length&&Fi(st),!ue)return Y.apply(Le,Fe),Le;break}}return(Ot||Ys(ue,Ct))(Fe,ke,!ge,Le,!ke||_n.test(ue)&&So(ke.parentNode)||ke),Le}w.sortStable=We.split("").sort(L).join("")===We,Na(),w.sortDetached=_s(function(ue){return ue.compareDocumentPosition(ne.createElement("fieldset"))&1}),g.find=dr,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,dr.compile=Ys,dr.select=ra,dr.setDocument=Na,dr.tokenize=An,dr.escape=g.escapeSelector,dr.getText=g.text,dr.isXML=g.isXMLDoc,dr.selectors=g.expr,dr.support=g.support,dr.uniqueSort=g.uniqueSort})();var ee=function(p,C,O){for(var F=[],K=O!==void 0;(p=p[C])&&p.nodeType!==9;)if(p.nodeType===1){if(K&&g(p).is(O))break;F.push(p)}return F},le=function(p,C){for(var O=[];p;p=p.nextSibling)p.nodeType===1&&p!==C&&O.push(p);return O},Z=g.expr.match.needsContext,M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(p,C,O){return v(C)?g.grep(p,function(F,K){return!!C.call(F,K,F)!==O}):C.nodeType?g.grep(p,function(F){return F===C!==O}):typeof C!="string"?g.grep(p,function(F){return l.call(C,F)>-1!==O}):g.filter(C,p,O)}g.filter=function(p,C,O){var F=C[0];return O&&(p=":not("+p+")"),C.length===1&&F.nodeType===1?g.find.matchesSelector(F,p)?[F]:[]:g.find.matches(p,g.grep(C,function(K){return K.nodeType===1}))},g.fn.extend({find:function(p){var C,O,F=this.length,K=this;if(typeof p!="string")return this.pushStack(g(p).filter(function(){for(C=0;C<F;C++)if(g.contains(K[C],this))return!0}));for(O=this.pushStack([]),C=0;C<F;C++)g.find(p,K[C],O);return F>1?g.uniqueSort(O):O},filter:function(p){return this.pushStack(J(this,p||[],!1))},not:function(p){return this.pushStack(J(this,p||[],!0))},is:function(p){return!!J(this,typeof p=="string"&&Z.test(p)?g(p):p||[],!1).length}});var te,de=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ie=g.fn.init=function(p,C,O){var F,K;if(!p)return this;if(O=O||te,typeof p=="string")if(p[0]==="<"&&p[p.length-1]===">"&&p.length>=3?F=[null,p,null]:F=de.exec(p),F&&(F[1]||!C))if(F[1]){if(C=C instanceof g?C[0]:C,g.merge(this,g.parseHTML(F[1],C&&C.nodeType?C.ownerDocument||C:b,!0)),M.test(F[1])&&g.isPlainObject(C))for(F in C)v(this[F])?this[F](C[F]):this.attr(F,C[F]);return this}else return K=b.getElementById(F[2]),K&&(this[0]=K,this.length=1),this;else return!C||C.jquery?(C||O).find(p):this.constructor(C).find(p);else{if(p.nodeType)return this[0]=p,this.length=1,this;if(v(p))return O.ready!==void 0?O.ready(p):p(g)}return g.makeArray(p,this)};ie.prototype=g.fn,te=g(b);var xe=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(p){var C=g(p,this),O=C.length;return this.filter(function(){for(var F=0;F<O;F++)if(g.contains(this,C[F]))return!0})},closest:function(p,C){var O,F=0,K=this.length,Y=[],ne=typeof p!="string"&&g(p);if(!Z.test(p)){for(;F<K;F++)for(O=this[F];O&&O!==C;O=O.parentNode)if(O.nodeType<11&&(ne?ne.index(O)>-1:O.nodeType===1&&g.find.matchesSelector(O,p))){Y.push(O);break}}return this.pushStack(Y.length>1?g.uniqueSort(Y):Y)},index:function(p){return p?typeof p=="string"?l.call(g(p),this[0]):l.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,C){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(p,C))))},addBack:function(p){return this.add(p==null?this.prevObject:this.prevObject.filter(p))}});function me(p,C){for(;(p=p[C])&&p.nodeType!==1;);return p}g.each({parent:function(p){var C=p.parentNode;return C&&C.nodeType!==11?C:null},parents:function(p){return ee(p,"parentNode")},parentsUntil:function(p,C,O){return ee(p,"parentNode",O)},next:function(p){return me(p,"nextSibling")},prev:function(p){return me(p,"previousSibling")},nextAll:function(p){return ee(p,"nextSibling")},prevAll:function(p){return ee(p,"previousSibling")},nextUntil:function(p,C,O){return ee(p,"nextSibling",O)},prevUntil:function(p,C,O){return ee(p,"previousSibling",O)},siblings:function(p){return le((p.parentNode||{}).firstChild,p)},children:function(p){return le(p.firstChild)},contents:function(p){return p.contentDocument!=null&&a(p.contentDocument)?p.contentDocument:(k(p,"template")&&(p=p.content||p),g.merge([],p.childNodes))}},function(p,C){g.fn[p]=function(O,F){var K=g.map(this,C,O);return p.slice(-5)!=="Until"&&(F=O),F&&typeof F=="string"&&(K=g.filter(F,K)),this.length>1&&(we[p]||g.uniqueSort(K),xe.test(p)&&K.reverse()),this.pushStack(K)}});var Pe=/[^\x20\t\r\n\f]+/g;function qe(p){var C={};return g.each(p.match(Pe)||[],function(O,F){C[F]=!0}),C}g.Callbacks=function(p){p=typeof p=="string"?qe(p):g.extend({},p);var C,O,F,K,Y=[],ne=[],be=-1,ge=function(){for(K=K||p.once,F=C=!0;ne.length;be=-1)for(O=ne.shift();++be<Y.length;)Y[be].apply(O[0],O[1])===!1&&p.stopOnFalse&&(be=Y.length,O=!1);p.memory||(O=!1),C=!1,K&&(O?Y=[]:Y="")},Se={add:function(){return Y&&(O&&!C&&(be=Y.length-1,ne.push(O)),function $e(We){g.each(We,function(Oe,nt){v(nt)?(!p.unique||!Se.has(nt))&&Y.push(nt):nt&&nt.length&&W(nt)!=="string"&&$e(nt)})}(arguments),O&&!C&&ge()),this},remove:function(){return g.each(arguments,function($e,We){for(var Oe;(Oe=g.inArray(We,Y,Oe))>-1;)Y.splice(Oe,1),Oe<=be&&be--}),this},has:function($e){return $e?g.inArray($e,Y)>-1:Y.length>0},empty:function(){return Y&&(Y=[]),this},disable:function(){return K=ne=[],Y=O="",this},disabled:function(){return!Y},lock:function(){return K=ne=[],!O&&!C&&(Y=O=""),this},locked:function(){return!!K},fireWith:function($e,We){return K||(We=We||[],We=[$e,We.slice?We.slice():We],ne.push(We),C||ge()),this},fire:function(){return Se.fireWith(this,arguments),this},fired:function(){return!!F}};return Se};function Je(p){return p}function rt(p){throw p}function pt(p,C,O,F){var K;try{p&&v(K=p.promise)?K.call(p).done(C).fail(O):p&&v(K=p.then)?K.call(p,C,O):C.apply(void 0,[p].slice(F))}catch(Y){O.apply(void 0,[Y])}}g.extend({Deferred:function(p){var C=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],O="pending",F={state:function(){return O},always:function(){return K.done(arguments).fail(arguments),this},catch:function(Y){return F.then(null,Y)},pipe:function(){var Y=arguments;return g.Deferred(function(ne){g.each(C,function(be,ge){var Se=v(Y[ge[4]])&&Y[ge[4]];K[ge[1]](function(){var $e=Se&&Se.apply(this,arguments);$e&&v($e.promise)?$e.promise().progress(ne.notify).done(ne.resolve).fail(ne.reject):ne[ge[0]+"With"](this,Se?[$e]:arguments)})}),Y=null}).promise()},then:function(Y,ne,be){var ge=0;function Se($e,We,Oe,nt){return function(){var Et=this,er=arguments,$t=function(){var L,X;if(!($e<ge)){if(L=Oe.apply(Et,er),L===We.promise())throw new TypeError("Thenable self-resolution");X=L&&(typeof L=="object"||typeof L=="function")&&L.then,v(X)?nt?X.call(L,Se(ge,We,Je,nt),Se(ge,We,rt,nt)):(ge++,X.call(L,Se(ge,We,Je,nt),Se(ge,We,rt,nt),Se(ge,We,Je,We.notifyWith))):(Oe!==Je&&(Et=void 0,er=[L]),(nt||We.resolveWith)(Et,er))}},nn=nt?$t:function(){try{$t()}catch(L){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(L,nn.error),$e+1>=ge&&(Oe!==rt&&(Et=void 0,er=[L]),We.rejectWith(Et,er))}};$e?nn():(g.Deferred.getErrorHook?nn.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(nn.error=g.Deferred.getStackHook()),e.setTimeout(nn))}}return g.Deferred(function($e){C[0][3].add(Se(0,$e,v(be)?be:Je,$e.notifyWith)),C[1][3].add(Se(0,$e,v(Y)?Y:Je)),C[2][3].add(Se(0,$e,v(ne)?ne:rt))}).promise()},promise:function(Y){return Y!=null?g.extend(Y,F):F}},K={};return g.each(C,function(Y,ne){var be=ne[2],ge=ne[5];F[ne[1]]=be.add,ge&&be.add(function(){O=ge},C[3-Y][2].disable,C[3-Y][3].disable,C[0][2].lock,C[0][3].lock),be.add(ne[3].fire),K[ne[0]]=function(){return K[ne[0]+"With"](this===K?void 0:this,arguments),this},K[ne[0]+"With"]=be.fireWith}),F.promise(K),p&&p.call(K,K),K},when:function(p){var C=arguments.length,O=C,F=Array(O),K=o.call(arguments),Y=g.Deferred(),ne=function(be){return function(ge){F[be]=this,K[be]=arguments.length>1?o.call(arguments):ge,--C||Y.resolveWith(F,K)}};if(C<=1&&(pt(p,Y.done(ne(O)).resolve,Y.reject,!C),Y.state()==="pending"||v(K[O]&&K[O].then)))return Y.then();for(;O--;)pt(K[O],ne(O),Y.reject);return Y.promise()}});var Be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(p,C){e.console&&e.console.warn&&p&&Be.test(p.name)&&e.console.warn("jQuery.Deferred exception: "+p.message,p.stack,C)},g.readyException=function(p){e.setTimeout(function(){throw p})};var pe=g.Deferred();g.fn.ready=function(p){return pe.then(p).catch(function(C){g.readyException(C)}),this},g.extend({isReady:!1,readyWait:1,ready:function(p){(p===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(p!==!0&&--g.readyWait>0)&&pe.resolveWith(b,[g]))}}),g.ready.then=pe.then;function vt(){b.removeEventListener("DOMContentLoaded",vt),e.removeEventListener("load",vt),g.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(g.ready):(b.addEventListener("DOMContentLoaded",vt),e.addEventListener("load",vt));var ct=function(p,C,O,F,K,Y,ne){var be=0,ge=p.length,Se=O==null;if(W(O)==="object"){K=!0;for(be in O)ct(p,C,be,O[be],!0,Y,ne)}else if(F!==void 0&&(K=!0,v(F)||(ne=!0),Se&&(ne?(C.call(p,F),C=null):(Se=C,C=function($e,We,Oe){return Se.call(g($e),Oe)})),C))for(;be<ge;be++)C(p[be],O,ne?F:F.call(p[be],be,C(p[be],O)));return K?p:Se?C.call(p):ge?C(p[0],O):Y},Ze=/^-ms-/,et=/-([a-z])/g;function se(p,C){return C.toUpperCase()}function ve(p){return p.replace(Ze,"ms-").replace(et,se)}var Ee=function(p){return p.nodeType===1||p.nodeType===9||!+p.nodeType};function Qe(){this.expando=g.expando+Qe.uid++}Qe.uid=1,Qe.prototype={cache:function(p){var C=p[this.expando];return C||(C={},Ee(p)&&(p.nodeType?p[this.expando]=C:Object.defineProperty(p,this.expando,{value:C,configurable:!0}))),C},set:function(p,C,O){var F,K=this.cache(p);if(typeof C=="string")K[ve(C)]=O;else for(F in C)K[ve(F)]=C[F];return K},get:function(p,C){return C===void 0?this.cache(p):p[this.expando]&&p[this.expando][ve(C)]},access:function(p,C,O){return C===void 0||C&&typeof C=="string"&&O===void 0?this.get(p,C):(this.set(p,C,O),O!==void 0?O:C)},remove:function(p,C){var O,F=p[this.expando];if(F!==void 0){if(C!==void 0)for(Array.isArray(C)?C=C.map(ve):(C=ve(C),C=C in F?[C]:C.match(Pe)||[]),O=C.length;O--;)delete F[C[O]];(C===void 0||g.isEmptyObject(F))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var C=p[this.expando];return C!==void 0&&!g.isEmptyObject(C)}};var Me=new Qe,at=new Qe,Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/[A-Z]/g;function St(p){return p==="true"?!0:p==="false"?!1:p==="null"?null:p===+p+""?+p:Nt.test(p)?JSON.parse(p):p}function Kt(p,C,O){var F;if(O===void 0&&p.nodeType===1)if(F="data-"+C.replace(Rt,"-$&").toLowerCase(),O=p.getAttribute(F),typeof O=="string"){try{O=St(O)}catch{}at.set(p,C,O)}else O=void 0;return O}g.extend({hasData:function(p){return at.hasData(p)||Me.hasData(p)},data:function(p,C,O){return at.access(p,C,O)},removeData:function(p,C){at.remove(p,C)},_data:function(p,C,O){return Me.access(p,C,O)},_removeData:function(p,C){Me.remove(p,C)}}),g.fn.extend({data:function(p,C){var O,F,K,Y=this[0],ne=Y&&Y.attributes;if(p===void 0){if(this.length&&(K=at.get(Y),Y.nodeType===1&&!Me.get(Y,"hasDataAttrs"))){for(O=ne.length;O--;)ne[O]&&(F=ne[O].name,F.indexOf("data-")===0&&(F=ve(F.slice(5)),Kt(Y,F,K[F])));Me.set(Y,"hasDataAttrs",!0)}return K}return typeof p=="object"?this.each(function(){at.set(this,p)}):ct(this,function(be){var ge;if(Y&&be===void 0)return ge=at.get(Y,p),ge!==void 0||(ge=Kt(Y,p),ge!==void 0)?ge:void 0;this.each(function(){at.set(this,p,be)})},null,C,arguments.length>1,null,!0)},removeData:function(p){return this.each(function(){at.remove(this,p)})}}),g.extend({queue:function(p,C,O){var F;if(p)return C=(C||"fx")+"queue",F=Me.get(p,C),O&&(!F||Array.isArray(O)?F=Me.access(p,C,g.makeArray(O)):F.push(O)),F||[]},dequeue:function(p,C){C=C||"fx";var O=g.queue(p,C),F=O.length,K=O.shift(),Y=g._queueHooks(p,C),ne=function(){g.dequeue(p,C)};K==="inprogress"&&(K=O.shift(),F--),K&&(C==="fx"&&O.unshift("inprogress"),delete Y.stop,K.call(p,ne,Y)),!F&&Y&&Y.empty.fire()},_queueHooks:function(p,C){var O=C+"queueHooks";return Me.get(p,O)||Me.access(p,O,{empty:g.Callbacks("once memory").add(function(){Me.remove(p,[C+"queue",O])})})}}),g.fn.extend({queue:function(p,C){var O=2;return typeof p!="string"&&(C=p,p="fx",O--),arguments.length<O?g.queue(this[0],p):C===void 0?this:this.each(function(){var F=g.queue(this,p,C);g._queueHooks(this,p),p==="fx"&&F[0]!=="inprogress"&&g.dequeue(this,p)})},dequeue:function(p){return this.each(function(){g.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,C){var O,F=1,K=g.Deferred(),Y=this,ne=this.length,be=function(){--F||K.resolveWith(Y,[Y])};for(typeof p!="string"&&(C=p,p=void 0),p=p||"fx";ne--;)O=Me.get(Y[ne],p+"queueHooks"),O&&O.empty&&(F++,O.empty.add(be));return be(),K.promise(C)}});var dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gr=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),Gt=["Top","Right","Bottom","Left"],pn=b.documentElement,rr=function(p){return g.contains(p.ownerDocument,p)},Sr={composed:!0};pn.getRootNode&&(rr=function(p){return g.contains(p.ownerDocument,p)||p.getRootNode(Sr)===p.ownerDocument});var ta=function(p,C){return p=C||p,p.style.display==="none"||p.style.display===""&&rr(p)&&g.css(p,"display")==="none"};function sr(p,C,O,F){var K,Y,ne=20,be=F?function(){return F.cur()}:function(){return g.css(p,C,"")},ge=be(),Se=O&&O[3]||(g.cssNumber[C]?"":"px"),$e=p.nodeType&&(g.cssNumber[C]||Se!=="px"&&+ge)&&Gr.exec(g.css(p,C));if($e&&$e[3]!==Se){for(ge=ge/2,Se=Se||$e[3],$e=+ge||1;ne--;)g.style(p,C,$e+Se),(1-Y)*(1-(Y=be()/ge||.5))<=0&&(ne=0),$e=$e/Y;$e=$e*2,g.style(p,C,$e+Se),O=O||[]}return O&&($e=+$e||+ge||0,K=O[1]?$e+(O[1]+1)*O[2]:+O[2],F&&(F.unit=Se,F.start=$e,F.end=K)),K}var js={};function qr(p){var C,O=p.ownerDocument,F=p.nodeName,K=js[F];return K||(C=O.body.appendChild(O.createElement(F)),K=g.css(C,"display"),C.parentNode.removeChild(C),K==="none"&&(K="block"),js[F]=K,K)}function Sn(p,C){for(var O,F,K=[],Y=0,ne=p.length;Y<ne;Y++)F=p[Y],F.style&&(O=F.style.display,C?(O==="none"&&(K[Y]=Me.get(F,"display")||null,K[Y]||(F.style.display="")),F.style.display===""&&ta(F)&&(K[Y]=qr(F))):O!=="none"&&(K[Y]="none",Me.set(F,"display",O)));for(Y=0;Y<ne;Y++)K[Y]!=null&&(p[Y].style.display=K[Y]);return p}g.fn.extend({show:function(){return Sn(this,!0)},hide:function(){return Sn(this)},toggle:function(p){return typeof p=="boolean"?p?this.show():this.hide():this.each(function(){ta(this)?g(this).show():g(this).hide()})}});var mr=/^(?:checkbox|radio)$/i,tr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var p=b.createDocumentFragment(),C=p.appendChild(b.createElement("div")),O=b.createElement("input");O.setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),C.appendChild(O),w.checkClone=C.cloneNode(!0).cloneNode(!0).lastChild.checked,C.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!C.cloneNode(!0).lastChild.defaultValue,C.innerHTML="<option></option>",w.option=!!C.lastChild})();var Pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.thead,Pt.th=Pt.td,w.option||(Pt.optgroup=Pt.option=[1,"<select multiple='multiple'>","</select>"]);function lr(p,C){var O;return typeof p.getElementsByTagName<"u"?O=p.getElementsByTagName(C||"*"):typeof p.querySelectorAll<"u"?O=p.querySelectorAll(C||"*"):O=[],C===void 0||C&&k(p,C)?g.merge([p],O):O}function cr(p,C){for(var O=0,F=p.length;O<F;O++)Me.set(p[O],"globalEval",!C||Me.get(C[O],"globalEval"))}var rn=/<|&#?\w+;/;function Cn(p,C,O,F,K){for(var Y,ne,be,ge,Se,$e,We=C.createDocumentFragment(),Oe=[],nt=0,Et=p.length;nt<Et;nt++)if(Y=p[nt],Y||Y===0)if(W(Y)==="object")g.merge(Oe,Y.nodeType?[Y]:Y);else if(!rn.test(Y))Oe.push(C.createTextNode(Y));else{for(ne=ne||We.appendChild(C.createElement("div")),be=(tr.exec(Y)||["",""])[1].toLowerCase(),ge=Pt[be]||Pt._default,ne.innerHTML=ge[1]+g.htmlPrefilter(Y)+ge[2],$e=ge[0];$e--;)ne=ne.lastChild;g.merge(Oe,ne.childNodes),ne=We.firstChild,ne.textContent=""}for(We.textContent="",nt=0;Y=Oe[nt++];){if(F&&g.inArray(Y,F)>-1){K&&K.push(Y);continue}if(Se=rr(Y),ne=lr(We.appendChild(Y),"script"),Se&&cr(ne),O)for($e=0;Y=ne[$e++];)wt.test(Y.type||"")&&O.push(Y)}return We}var mt=/^([^.]*)(?:\.(.+)|)/;function Mr(){return!0}function Lr(){return!1}function Dr(p,C,O,F,K,Y){var ne,be;if(typeof C=="object"){typeof O!="string"&&(F=F||O,O=void 0);for(be in C)Dr(p,be,O,F,C[be],Y);return p}if(F==null&&K==null?(K=O,F=O=void 0):K==null&&(typeof O=="string"?(K=F,F=void 0):(K=F,F=O,O=void 0)),K===!1)K=Lr;else if(!K)return p;return Y===1&&(ne=K,K=function(ge){return g().off(ge),ne.apply(this,arguments)},K.guid=ne.guid||(ne.guid=g.guid++)),p.each(function(){g.event.add(this,C,K,F,O)})}g.event={global:{},add:function(p,C,O,F,K){var Y,ne,be,ge,Se,$e,We,Oe,nt,Et,er,$t=Me.get(p);if(Ee(p))for(O.handler&&(Y=O,O=Y.handler,K=Y.selector),K&&g.find.matchesSelector(pn,K),O.guid||(O.guid=g.guid++),(ge=$t.events)||(ge=$t.events=Object.create(null)),(ne=$t.handle)||(ne=$t.handle=function(nn){return typeof g<"u"&&g.event.triggered!==nn.type?g.event.dispatch.apply(p,arguments):void 0}),C=(C||"").match(Pe)||[""],Se=C.length;Se--;)be=mt.exec(C[Se])||[],nt=er=be[1],Et=(be[2]||"").split(".").sort(),nt&&(We=g.event.special[nt]||{},nt=(K?We.delegateType:We.bindType)||nt,We=g.event.special[nt]||{},$e=g.extend({type:nt,origType:er,data:F,handler:O,guid:O.guid,selector:K,needsContext:K&&g.expr.match.needsContext.test(K),namespace:Et.join(".")},Y),(Oe=ge[nt])||(Oe=ge[nt]=[],Oe.delegateCount=0,(!We.setup||We.setup.call(p,F,Et,ne)===!1)&&p.addEventListener&&p.addEventListener(nt,ne)),We.add&&(We.add.call(p,$e),$e.handler.guid||($e.handler.guid=O.guid)),K?Oe.splice(Oe.delegateCount++,0,$e):Oe.push($e),g.event.global[nt]=!0)},remove:function(p,C,O,F,K){var Y,ne,be,ge,Se,$e,We,Oe,nt,Et,er,$t=Me.hasData(p)&&Me.get(p);if(!(!$t||!(ge=$t.events))){for(C=(C||"").match(Pe)||[""],Se=C.length;Se--;){if(be=mt.exec(C[Se])||[],nt=er=be[1],Et=(be[2]||"").split(".").sort(),!nt){for(nt in ge)g.event.remove(p,nt+C[Se],O,F,!0);continue}for(We=g.event.special[nt]||{},nt=(F?We.delegateType:We.bindType)||nt,Oe=ge[nt]||[],be=be[2]&&new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"),ne=Y=Oe.length;Y--;)$e=Oe[Y],(K||er===$e.origType)&&(!O||O.guid===$e.guid)&&(!be||be.test($e.namespace))&&(!F||F===$e.selector||F==="**"&&$e.selector)&&(Oe.splice(Y,1),$e.selector&&Oe.delegateCount--,We.remove&&We.remove.call(p,$e));ne&&!Oe.length&&((!We.teardown||We.teardown.call(p,Et,$t.handle)===!1)&&g.removeEvent(p,nt,$t.handle),delete ge[nt])}g.isEmptyObject(ge)&&Me.remove(p,"handle events")}},dispatch:function(p){var C,O,F,K,Y,ne,be=new Array(arguments.length),ge=g.event.fix(p),Se=(Me.get(this,"events")||Object.create(null))[ge.type]||[],$e=g.event.special[ge.type]||{};for(be[0]=ge,C=1;C<arguments.length;C++)be[C]=arguments[C];if(ge.delegateTarget=this,!($e.preDispatch&&$e.preDispatch.call(this,ge)===!1)){for(ne=g.event.handlers.call(this,ge,Se),C=0;(K=ne[C++])&&!ge.isPropagationStopped();)for(ge.currentTarget=K.elem,O=0;(Y=K.handlers[O++])&&!ge.isImmediatePropagationStopped();)(!ge.rnamespace||Y.namespace===!1||ge.rnamespace.test(Y.namespace))&&(ge.handleObj=Y,ge.data=Y.data,F=((g.event.special[Y.origType]||{}).handle||Y.handler).apply(K.elem,be),F!==void 0&&(ge.result=F)===!1&&(ge.preventDefault(),ge.stopPropagation()));return $e.postDispatch&&$e.postDispatch.call(this,ge),ge.result}},handlers:function(p,C){var O,F,K,Y,ne,be=[],ge=C.delegateCount,Se=p.target;if(ge&&Se.nodeType&&!(p.type==="click"&&p.button>=1)){for(;Se!==this;Se=Se.parentNode||this)if(Se.nodeType===1&&!(p.type==="click"&&Se.disabled===!0)){for(Y=[],ne={},O=0;O<ge;O++)F=C[O],K=F.selector+" ",ne[K]===void 0&&(ne[K]=F.needsContext?g(K,this).index(Se)>-1:g.find(K,this,null,[Se]).length),ne[K]&&Y.push(F);Y.length&&be.push({elem:Se,handlers:Y})}}return Se=this,ge<C.length&&be.push({elem:Se,handlers:C.slice(ge)}),be},addProp:function(p,C){Object.defineProperty(g.Event.prototype,p,{enumerable:!0,configurable:!0,get:v(C)?function(){if(this.originalEvent)return C(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(O){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:O})}})},fix:function(p){return p[g.expando]?p:new g.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var C=this||p;return mr.test(C.type)&&C.click&&k(C,"input")&&Nr(C,"click",!0),!1},trigger:function(p){var C=this||p;return mr.test(C.type)&&C.click&&k(C,"input")&&Nr(C,"click"),!0},_default:function(p){var C=p.target;return mr.test(C.type)&&C.click&&k(C,"input")&&Me.get(C,"click")||k(C,"a")}},beforeunload:{postDispatch:function(p){p.result!==void 0&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}};function Nr(p,C,O){if(!O){Me.get(p,C)===void 0&&g.event.add(p,C,Mr);return}Me.set(p,C,!1),g.event.add(p,C,{namespace:!1,handler:function(F){var K,Y=Me.get(this,C);if(F.isTrigger&1&&this[C]){if(Y)(g.event.special[C]||{}).delegateType&&F.stopPropagation();else if(Y=o.call(arguments),Me.set(this,C,Y),this[C](),K=Me.get(this,C),Me.set(this,C,!1),Y!==K)return F.stopImmediatePropagation(),F.preventDefault(),K}else Y&&(Me.set(this,C,g.event.trigger(Y[0],Y.slice(1),this)),F.stopPropagation(),F.isImmediatePropagationStopped=Mr)}})}g.removeEvent=function(p,C,O){p.removeEventListener&&p.removeEventListener(C,O)},g.Event=function(p,C){if(!(this instanceof g.Event))return new g.Event(p,C);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||p.defaultPrevented===void 0&&p.returnValue===!1?Mr:Lr,this.target=p.target&&p.target.nodeType===3?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,C&&g.extend(this,C),this.timeStamp=p&&p.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Lr,isPropagationStopped:Lr,isImmediatePropagationStopped:Lr,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=Mr,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=Mr,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=Mr,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(p,C){function O(F){if(b.documentMode){var K=Me.get(this,"handle"),Y=g.event.fix(F);Y.type=F.type==="focusin"?"focus":"blur",Y.isSimulated=!0,K(F),Y.target===Y.currentTarget&&K(Y)}else g.event.simulate(C,F.target,g.event.fix(F))}g.event.special[p]={setup:function(){var F;if(Nr(this,p,!0),b.documentMode)F=Me.get(this,C),F||this.addEventListener(C,O),Me.set(this,C,(F||0)+1);else return!1},trigger:function(){return Nr(this,p),!0},teardown:function(){var F;if(b.documentMode)F=Me.get(this,C)-1,F?Me.set(this,C,F):(this.removeEventListener(C,O),Me.remove(this,C));else return!1},_default:function(F){return Me.get(F.target,p)},delegateType:C},g.event.special[C]={setup:function(){var F=this.ownerDocument||this.document||this,K=b.documentMode?this:F,Y=Me.get(K,C);Y||(b.documentMode?this.addEventListener(C,O):F.addEventListener(p,O,!0)),Me.set(K,C,(Y||0)+1)},teardown:function(){var F=this.ownerDocument||this.document||this,K=b.documentMode?this:F,Y=Me.get(K,C)-1;Y?Me.set(K,C,Y):(b.documentMode?this.removeEventListener(C,O):F.removeEventListener(p,O,!0),Me.remove(K,C))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,C){g.event.special[p]={delegateType:C,bindType:C,handle:function(O){var F,K=this,Y=O.relatedTarget,ne=O.handleObj;return(!Y||Y!==K&&!g.contains(K,Y))&&(O.type=ne.origType,F=ne.handler.apply(this,arguments),O.type=C),F}}}),g.fn.extend({on:function(p,C,O,F){return Dr(this,p,C,O,F)},one:function(p,C,O,F){return Dr(this,p,C,O,F,1)},off:function(p,C,O){var F,K;if(p&&p.preventDefault&&p.handleObj)return F=p.handleObj,g(p.delegateTarget).off(F.namespace?F.origType+"."+F.namespace:F.origType,F.selector,F.handler),this;if(typeof p=="object"){for(K in p)this.off(K,C,p[K]);return this}return(C===!1||typeof C=="function")&&(O=C,C=void 0),O===!1&&(O=Lr),this.each(function(){g.event.remove(this,p,O,C)})}});var Ir=/<script|<style|<link/i,Xr=/checked\s*(?:[^=]|=\s*.checked.)/i,Ia=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function la(p,C){return k(p,"table")&&k(C.nodeType!==11?C:C.firstChild,"tr")&&g(p).children("tbody")[0]||p}function Za(p){return p.type=(p.getAttribute("type")!==null)+"/"+p.type,p}function es(p){return(p.type||"").slice(0,5)==="true/"?p.type=p.type.slice(5):p.removeAttribute("type"),p}function Ra(p,C){var O,F,K,Y,ne,be,ge;if(C.nodeType===1){if(Me.hasData(p)&&(Y=Me.get(p),ge=Y.events,ge)){Me.remove(C,"handle events");for(K in ge)for(O=0,F=ge[K].length;O<F;O++)g.event.add(C,K,ge[K][O])}at.hasData(p)&&(ne=at.access(p),be=g.extend({},ne),at.set(C,be))}}function Ns(p,C){var O=C.nodeName.toLowerCase();O==="input"&&mr.test(p.type)?C.checked=p.checked:(O==="input"||O==="textarea")&&(C.defaultValue=p.defaultValue)}function Rn(p,C,O,F){C=i(C);var K,Y,ne,be,ge,Se,$e=0,We=p.length,Oe=We-1,nt=C[0],Et=v(nt);if(Et||We>1&&typeof nt=="string"&&!w.checkClone&&Xr.test(nt))return p.each(function(er){var $t=p.eq(er);Et&&(C[0]=nt.call(this,er,$t.html())),Rn($t,C,O,F)});if(We&&(K=Cn(C,p[0].ownerDocument,!1,p,F),Y=K.firstChild,K.childNodes.length===1&&(K=Y),Y||F)){for(ne=g.map(lr(K,"script"),Za),be=ne.length;$e<We;$e++)ge=K,$e!==Oe&&(ge=g.clone(ge,!0,!0),be&&g.merge(ne,lr(ge,"script"))),O.call(p[$e],ge,$e);if(be)for(Se=ne[ne.length-1].ownerDocument,g.map(ne,es),$e=0;$e<be;$e++)ge=ne[$e],wt.test(ge.type||"")&&!Me.access(ge,"globalEval")&&g.contains(Se,ge)&&(ge.src&&(ge.type||"").toLowerCase()!=="module"?g._evalUrl&&!ge.noModule&&g._evalUrl(ge.src,{nonce:ge.nonce||ge.getAttribute("nonce")},Se):R(ge.textContent.replace(Ia,""),ge,Se))}return p}function ts(p,C,O){for(var F,K=C?g.filter(C,p):p,Y=0;(F=K[Y])!=null;Y++)!O&&F.nodeType===1&&g.cleanData(lr(F)),F.parentNode&&(O&&rr(F)&&cr(lr(F,"script")),F.parentNode.removeChild(F));return p}g.extend({htmlPrefilter:function(p){return p},clone:function(p,C,O){var F,K,Y,ne,be=p.cloneNode(!0),ge=rr(p);if(!w.noCloneChecked&&(p.nodeType===1||p.nodeType===11)&&!g.isXMLDoc(p))for(ne=lr(be),Y=lr(p),F=0,K=Y.length;F<K;F++)Ns(Y[F],ne[F]);if(C)if(O)for(Y=Y||lr(p),ne=ne||lr(be),F=0,K=Y.length;F<K;F++)Ra(Y[F],ne[F]);else Ra(p,be);return ne=lr(be,"script"),ne.length>0&&cr(ne,!ge&&lr(p,"script")),be},cleanData:function(p){for(var C,O,F,K=g.event.special,Y=0;(O=p[Y])!==void 0;Y++)if(Ee(O)){if(C=O[Me.expando]){if(C.events)for(F in C.events)K[F]?g.event.remove(O,F):g.removeEvent(O,F,C.handle);O[Me.expando]=void 0}O[at.expando]&&(O[at.expando]=void 0)}}}),g.fn.extend({detach:function(p){return ts(this,p,!0)},remove:function(p){return ts(this,p)},text:function(p){return ct(this,function(C){return C===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=C)})},null,p,arguments.length)},append:function(){return Rn(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var C=la(this,p);C.appendChild(p)}})},prepend:function(){return Rn(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var C=la(this,p);C.insertBefore(p,C.firstChild)}})},before:function(){return Rn(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return Rn(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,C=0;(p=this[C])!=null;C++)p.nodeType===1&&(g.cleanData(lr(p,!1)),p.textContent="");return this},clone:function(p,C){return p=p??!1,C=C??p,this.map(function(){return g.clone(this,p,C)})},html:function(p){return ct(this,function(C){var O=this[0]||{},F=0,K=this.length;if(C===void 0&&O.nodeType===1)return O.innerHTML;if(typeof C=="string"&&!Ir.test(C)&&!Pt[(tr.exec(C)||["",""])[1].toLowerCase()]){C=g.htmlPrefilter(C);try{for(;F<K;F++)O=this[F]||{},O.nodeType===1&&(g.cleanData(lr(O,!1)),O.innerHTML=C);O=0}catch{}}O&&this.empty().append(C)},null,p,arguments.length)},replaceWith:function(){var p=[];return Rn(this,arguments,function(C){var O=this.parentNode;g.inArray(this,p)<0&&(g.cleanData(lr(this)),O&&O.replaceChild(C,this))},p)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,C){g.fn[p]=function(O){for(var F,K=[],Y=g(O),ne=Y.length-1,be=0;be<=ne;be++)F=be===ne?this:this.clone(!0),g(Y[be])[C](F),c.apply(K,F.get());return this.pushStack(K)}});var qs=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),yo=/^--/,Us=function(p){var C=p.ownerDocument.defaultView;return(!C||!C.opener)&&(C=e),C.getComputedStyle(p)},Jo=function(p,C,O){var F,K,Y={};for(K in C)Y[K]=p.style[K],p.style[K]=C[K];F=O.call(p);for(K in C)p.style[K]=Y[K];return F},Pi=new RegExp(Gt.join("|"),"i");(function(){function p(){if(Se){ge.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Se.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pn.appendChild(ge).appendChild(Se);var $e=e.getComputedStyle(Se);O=$e.top!=="1%",be=C($e.marginLeft)===12,Se.style.right="60%",Y=C($e.right)===36,F=C($e.width)===36,Se.style.position="absolute",K=C(Se.offsetWidth/3)===12,pn.removeChild(ge),Se=null}}function C($e){return Math.round(parseFloat($e))}var O,F,K,Y,ne,be,ge=b.createElement("div"),Se=b.createElement("div");Se.style&&(Se.style.backgroundClip="content-box",Se.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=Se.style.backgroundClip==="content-box",g.extend(w,{boxSizingReliable:function(){return p(),F},pixelBoxStyles:function(){return p(),Y},pixelPosition:function(){return p(),O},reliableMarginLeft:function(){return p(),be},scrollboxSize:function(){return p(),K},reliableTrDimensions:function(){var $e,We,Oe,nt;return ne==null&&($e=b.createElement("table"),We=b.createElement("tr"),Oe=b.createElement("div"),$e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",We.style.cssText="box-sizing:content-box;border:1px solid",We.style.height="1px",Oe.style.height="9px",Oe.style.display="block",pn.appendChild($e).appendChild(We).appendChild(Oe),nt=e.getComputedStyle(We),ne=parseInt(nt.height,10)+parseInt(nt.borderTopWidth,10)+parseInt(nt.borderBottomWidth,10)===We.offsetHeight,pn.removeChild($e)),ne}}))})();function xo(p,C,O){var F,K,Y,ne,be=yo.test(C),ge=p.style;return O=O||Us(p),O&&(ne=O.getPropertyValue(C)||O[C],be&&ne&&(ne=ne.replace(E,"$1")||void 0),ne===""&&!rr(p)&&(ne=g.style(p,C)),!w.pixelBoxStyles()&&qs.test(ne)&&Pi.test(C)&&(F=ge.width,K=ge.minWidth,Y=ge.maxWidth,ge.minWidth=ge.maxWidth=ge.width=ne,ne=O.width,ge.width=F,ge.minWidth=K,ge.maxWidth=Y)),ne!==void 0?ne+"":ne}function Sc(p,C){return{get:function(){if(p()){delete this.get;return}return(this.get=C).apply(this,arguments)}}}var Cc=["Webkit","Moz","ms"],Ko=b.createElement("div").style,Ol={};function fu(p){for(var C=p[0].toUpperCase()+p.slice(1),O=Cc.length;O--;)if(p=Cc[O]+C,p in Ko)return p}function Yo(p){var C=g.cssProps[p]||Ol[p];return C||(p in Ko?p:Ol[p]=fu(p)||p)}var hu=/^(none|table(?!-c[ea]).+)/,_c={position:"absolute",visibility:"hidden",display:"block"},Ec={letterSpacing:"0",fontWeight:"400"};function Xo(p,C,O){var F=Gr.exec(C);return F?Math.max(0,F[2]-(O||0))+(F[3]||"px"):C}function Ml(p,C,O,F,K,Y){var ne=C==="width"?1:0,be=0,ge=0,Se=0;if(O===(F?"border":"content"))return 0;for(;ne<4;ne+=2)O==="margin"&&(Se+=g.css(p,O+Gt[ne],!0,K)),F?(O==="content"&&(ge-=g.css(p,"padding"+Gt[ne],!0,K)),O!=="margin"&&(ge-=g.css(p,"border"+Gt[ne]+"Width",!0,K))):(ge+=g.css(p,"padding"+Gt[ne],!0,K),O!=="padding"?ge+=g.css(p,"border"+Gt[ne]+"Width",!0,K):be+=g.css(p,"border"+Gt[ne]+"Width",!0,K));return!F&&Y>=0&&(ge+=Math.max(0,Math.ceil(p["offset"+C[0].toUpperCase()+C.slice(1)]-Y-ge-be-.5))||0),ge+Se}function Qr(p,C,O){var F=Us(p),K=!w.boxSizingReliable()||O,Y=K&&g.css(p,"boxSizing",!1,F)==="border-box",ne=Y,be=xo(p,C,F),ge="offset"+C[0].toUpperCase()+C.slice(1);if(qs.test(be)){if(!O)return be;be="auto"}return(!w.boxSizingReliable()&&Y||!w.reliableTrDimensions()&&k(p,"tr")||be==="auto"||!parseFloat(be)&&g.css(p,"display",!1,F)==="inline")&&p.getClientRects().length&&(Y=g.css(p,"boxSizing",!1,F)==="border-box",ne=ge in p,ne&&(be=p[ge])),be=parseFloat(be)||0,be+Ml(p,C,O||(Y?"border":"content"),ne,F,be)+"px"}g.extend({cssHooks:{opacity:{get:function(p,C){if(C){var O=xo(p,"opacity");return O===""?"1":O}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(p,C,O,F){if(!(!p||p.nodeType===3||p.nodeType===8||!p.style)){var K,Y,ne,be=ve(C),ge=yo.test(C),Se=p.style;if(ge||(C=Yo(be)),ne=g.cssHooks[C]||g.cssHooks[be],O!==void 0){if(Y=typeof O,Y==="string"&&(K=Gr.exec(O))&&K[1]&&(O=sr(p,C,K),Y="number"),O==null||O!==O)return;Y==="number"&&!ge&&(O+=K&&K[3]||(g.cssNumber[be]?"":"px")),!w.clearCloneStyle&&O===""&&C.indexOf("background")===0&&(Se[C]="inherit"),(!ne||!("set"in ne)||(O=ne.set(p,O,F))!==void 0)&&(ge?Se.setProperty(C,O):Se[C]=O)}else return ne&&"get"in ne&&(K=ne.get(p,!1,F))!==void 0?K:Se[C]}},css:function(p,C,O,F){var K,Y,ne,be=ve(C),ge=yo.test(C);return ge||(C=Yo(be)),ne=g.cssHooks[C]||g.cssHooks[be],ne&&"get"in ne&&(K=ne.get(p,!0,O)),K===void 0&&(K=xo(p,C,F)),K==="normal"&&C in Ec&&(K=Ec[C]),O===""||O?(Y=parseFloat(K),O===!0||isFinite(Y)?Y||0:K):K}}),g.each(["height","width"],function(p,C){g.cssHooks[C]={get:function(O,F,K){if(F)return hu.test(g.css(O,"display"))&&(!O.getClientRects().length||!O.getBoundingClientRect().width)?Jo(O,_c,function(){return Qr(O,C,K)}):Qr(O,C,K)},set:function(O,F,K){var Y,ne=Us(O),be=!w.scrollboxSize()&&ne.position==="absolute",ge=be||K,Se=ge&&g.css(O,"boxSizing",!1,ne)==="border-box",$e=K?Ml(O,C,K,Se,ne):0;return Se&&be&&($e-=Math.ceil(O["offset"+C[0].toUpperCase()+C.slice(1)]-parseFloat(ne[C])-Ml(O,C,"border",!1,ne)-.5)),$e&&(Y=Gr.exec(F))&&(Y[3]||"px")!=="px"&&(O.style[C]=F,F=g.css(O,C)),Xo(O,F,$e)}}}),g.cssHooks.marginLeft=Sc(w.reliableMarginLeft,function(p,C){if(C)return(parseFloat(xo(p,"marginLeft"))||p.getBoundingClientRect().left-Jo(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(p,C){g.cssHooks[p+C]={expand:function(O){for(var F=0,K={},Y=typeof O=="string"?O.split(" "):[O];F<4;F++)K[p+Gt[F]+C]=Y[F]||Y[F-2]||Y[0];return K}},p!=="margin"&&(g.cssHooks[p+C].set=Xo)}),g.fn.extend({css:function(p,C){return ct(this,function(O,F,K){var Y,ne,be={},ge=0;if(Array.isArray(F)){for(Y=Us(O),ne=F.length;ge<ne;ge++)be[F[ge]]=g.css(O,F[ge],!1,Y);return be}return K!==void 0?g.style(O,F,K):g.css(O,F)},p,C,arguments.length>1)}});function Tn(p,C,O,F,K){return new Tn.prototype.init(p,C,O,F,K)}g.Tween=Tn,Tn.prototype={constructor:Tn,init:function(p,C,O,F,K,Y){this.elem=p,this.prop=O,this.easing=K||g.easing._default,this.options=C,this.start=this.now=this.cur(),this.end=F,this.unit=Y||(g.cssNumber[O]?"":"px")},cur:function(){var p=Tn.propHooks[this.prop];return p&&p.get?p.get(this):Tn.propHooks._default.get(this)},run:function(p){var C,O=Tn.propHooks[this.prop];return this.options.duration?this.pos=C=g.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):this.pos=C=p,this.now=(this.end-this.start)*C+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),O&&O.set?O.set(this):Tn.propHooks._default.set(this),this}},Tn.prototype.init.prototype=Tn.prototype,Tn.propHooks={_default:{get:function(p){var C;return p.elem.nodeType!==1||p.elem[p.prop]!=null&&p.elem.style[p.prop]==null?p.elem[p.prop]:(C=g.css(p.elem,p.prop,""),!C||C==="auto"?0:C)},set:function(p){g.fx.step[p.prop]?g.fx.step[p.prop](p):p.elem.nodeType===1&&(g.cssHooks[p.prop]||p.elem.style[Yo(p.prop)]!=null)?g.style(p.elem,p.prop,p.now+p.unit):p.elem[p.prop]=p.now}}},Tn.propHooks.scrollTop=Tn.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},g.easing={linear:function(p){return p},swing:function(p){return .5-Math.cos(p*Math.PI)/2},_default:"swing"},g.fx=Tn.prototype.init,g.fx.step={};var zs,Qo,Fl=/^(?:toggle|show|hide)$/,pu=/queueHooks$/;function ka(){Qo&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(ka):e.setTimeout(ka,g.fx.interval),g.fx.tick())}function Zo(){return e.setTimeout(function(){zs=void 0}),zs=Date.now()}function On(p,C){var O,F=0,K={height:p};for(C=C?1:0;F<4;F+=2-C)O=Gt[F],K["margin"+O]=K["padding"+O]=p;return C&&(K.opacity=K.width=p),K}function Li(p,C,O){for(var F,K=(ca.tweeners[C]||[]).concat(ca.tweeners["*"]),Y=0,ne=K.length;Y<ne;Y++)if(F=K[Y].call(O,C,p))return F}function Ac(p,C,O){var F,K,Y,ne,be,ge,Se,$e,We="width"in C||"height"in C,Oe=this,nt={},Et=p.style,er=p.nodeType&&ta(p),$t=Me.get(p,"fxshow");O.queue||(ne=g._queueHooks(p,"fx"),ne.unqueued==null&&(ne.unqueued=0,be=ne.empty.fire,ne.empty.fire=function(){ne.unqueued||be()}),ne.unqueued++,Oe.always(function(){Oe.always(function(){ne.unqueued--,g.queue(p,"fx").length||ne.empty.fire()})}));for(F in C)if(K=C[F],Fl.test(K)){if(delete C[F],Y=Y||K==="toggle",K===(er?"hide":"show"))if(K==="show"&&$t&&$t[F]!==void 0)er=!0;else continue;nt[F]=$t&&$t[F]||g.style(p,F)}if(ge=!g.isEmptyObject(C),!(!ge&&g.isEmptyObject(nt))){We&&p.nodeType===1&&(O.overflow=[Et.overflow,Et.overflowX,Et.overflowY],Se=$t&&$t.display,Se==null&&(Se=Me.get(p,"display")),$e=g.css(p,"display"),$e==="none"&&(Se?$e=Se:(Sn([p],!0),Se=p.style.display||Se,$e=g.css(p,"display"),Sn([p]))),($e==="inline"||$e==="inline-block"&&Se!=null)&&g.css(p,"float")==="none"&&(ge||(Oe.done(function(){Et.display=Se}),Se==null&&($e=Et.display,Se=$e==="none"?"":$e)),Et.display="inline-block")),O.overflow&&(Et.overflow="hidden",Oe.always(function(){Et.overflow=O.overflow[0],Et.overflowX=O.overflow[1],Et.overflowY=O.overflow[2]})),ge=!1;for(F in nt)ge||($t?"hidden"in $t&&(er=$t.hidden):$t=Me.access(p,"fxshow",{display:Se}),Y&&($t.hidden=!er),er&&Sn([p],!0),Oe.done(function(){er||Sn([p]),Me.remove(p,"fxshow");for(F in nt)g.style(p,F,nt[F])})),ge=Li(er?$t[F]:0,F,Oe),F in $t||($t[F]=ge.start,er&&(ge.end=ge.start,ge.start=0))}}function mu(p,C){var O,F,K,Y,ne;for(O in p)if(F=ve(O),K=C[F],Y=p[O],Array.isArray(Y)&&(K=Y[1],Y=p[O]=Y[0]),O!==F&&(p[F]=Y,delete p[O]),ne=g.cssHooks[F],ne&&"expand"in ne){Y=ne.expand(Y),delete p[F];for(O in Y)O in p||(p[O]=Y[O],C[O]=K)}else C[F]=K}function ca(p,C,O){var F,K,Y=0,ne=ca.prefilters.length,be=g.Deferred().always(function(){delete ge.elem}),ge=function(){if(K)return!1;for(var We=zs||Zo(),Oe=Math.max(0,Se.startTime+Se.duration-We),nt=Oe/Se.duration||0,Et=1-nt,er=0,$t=Se.tweens.length;er<$t;er++)Se.tweens[er].run(Et);return be.notifyWith(p,[Se,Et,Oe]),Et<1&&$t?Oe:($t||be.notifyWith(p,[Se,1,0]),be.resolveWith(p,[Se]),!1)},Se=be.promise({elem:p,props:g.extend({},C),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},O),originalProperties:C,originalOptions:O,startTime:zs||Zo(),duration:O.duration,tweens:[],createTween:function(We,Oe){var nt=g.Tween(p,Se.opts,We,Oe,Se.opts.specialEasing[We]||Se.opts.easing);return Se.tweens.push(nt),nt},stop:function(We){var Oe=0,nt=We?Se.tweens.length:0;if(K)return this;for(K=!0;Oe<nt;Oe++)Se.tweens[Oe].run(1);return We?(be.notifyWith(p,[Se,1,0]),be.resolveWith(p,[Se,We])):be.rejectWith(p,[Se,We]),this}}),$e=Se.props;for(mu($e,Se.opts.specialEasing);Y<ne;Y++)if(F=ca.prefilters[Y].call(Se,p,$e,Se.opts),F)return v(F.stop)&&(g._queueHooks(Se.elem,Se.opts.queue).stop=F.stop.bind(F)),F;return g.map($e,Li,Se),v(Se.opts.start)&&Se.opts.start.call(p,Se),Se.progress(Se.opts.progress).done(Se.opts.done,Se.opts.complete).fail(Se.opts.fail).always(Se.opts.always),g.fx.timer(g.extend(ge,{elem:p,anim:Se,queue:Se.opts.queue})),Se}g.Animation=g.extend(ca,{tweeners:{"*":[function(p,C){var O=this.createTween(p,C);return sr(O.elem,p,Gr.exec(C),O),O}]},tweener:function(p,C){v(p)?(C=p,p=["*"]):p=p.match(Pe);for(var O,F=0,K=p.length;F<K;F++)O=p[F],ca.tweeners[O]=ca.tweeners[O]||[],ca.tweeners[O].unshift(C)},prefilters:[Ac],prefilter:function(p,C){C?ca.prefilters.unshift(p):ca.prefilters.push(p)}}),g.speed=function(p,C,O){var F=p&&typeof p=="object"?g.extend({},p):{complete:O||!O&&C||v(p)&&p,duration:p,easing:O&&C||C&&!v(C)&&C};return g.fx.off?F.duration=0:typeof F.duration!="number"&&(F.duration in g.fx.speeds?F.duration=g.fx.speeds[F.duration]:F.duration=g.fx.speeds._default),(F.queue==null||F.queue===!0)&&(F.queue="fx"),F.old=F.complete,F.complete=function(){v(F.old)&&F.old.call(this),F.queue&&g.dequeue(this,F.queue)},F},g.fn.extend({fadeTo:function(p,C,O,F){return this.filter(ta).css("opacity",0).show().end().animate({opacity:C},p,O,F)},animate:function(p,C,O,F){var K=g.isEmptyObject(p),Y=g.speed(C,O,F),ne=function(){var be=ca(this,g.extend({},p),Y);(K||Me.get(this,"finish"))&&be.stop(!0)};return ne.finish=ne,K||Y.queue===!1?this.each(ne):this.queue(Y.queue,ne)},stop:function(p,C,O){var F=function(K){var Y=K.stop;delete K.stop,Y(O)};return typeof p!="string"&&(O=C,C=p,p=void 0),C&&this.queue(p||"fx",[]),this.each(function(){var K=!0,Y=p!=null&&p+"queueHooks",ne=g.timers,be=Me.get(this);if(Y)be[Y]&&be[Y].stop&&F(be[Y]);else for(Y in be)be[Y]&&be[Y].stop&&pu.test(Y)&&F(be[Y]);for(Y=ne.length;Y--;)ne[Y].elem===this&&(p==null||ne[Y].queue===p)&&(ne[Y].anim.stop(O),K=!1,ne.splice(Y,1));(K||!O)&&g.dequeue(this,p)})},finish:function(p){return p!==!1&&(p=p||"fx"),this.each(function(){var C,O=Me.get(this),F=O[p+"queue"],K=O[p+"queueHooks"],Y=g.timers,ne=F?F.length:0;for(O.finish=!0,g.queue(this,p,[]),K&&K.stop&&K.stop.call(this,!0),C=Y.length;C--;)Y[C].elem===this&&Y[C].queue===p&&(Y[C].anim.stop(!0),Y.splice(C,1));for(C=0;C<ne;C++)F[C]&&F[C].finish&&F[C].finish.call(this);delete O.finish})}}),g.each(["toggle","show","hide"],function(p,C){var O=g.fn[C];g.fn[C]=function(F,K,Y){return F==null||typeof F=="boolean"?O.apply(this,arguments):this.animate(On(C,!0),F,K,Y)}}),g.each({slideDown:On("show"),slideUp:On("hide"),slideToggle:On("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,C){g.fn[p]=function(O,F,K){return this.animate(C,O,F,K)}}),g.timers=[],g.fx.tick=function(){var p,C=0,O=g.timers;for(zs=Date.now();C<O.length;C++)p=O[C],!p()&&O[C]===p&&O.splice(C--,1);O.length||g.fx.stop(),zs=void 0},g.fx.timer=function(p){g.timers.push(p),g.fx.start()},g.fx.interval=13,g.fx.start=function(){Qo||(Qo=!0,ka())},g.fx.stop=function(){Qo=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(p,C){return p=g.fx&&g.fx.speeds[p]||p,C=C||"fx",this.queue(C,function(O,F){var K=e.setTimeout(O,p);F.stop=function(){e.clearTimeout(K)}})},function(){var p=b.createElement("input"),C=b.createElement("select"),O=C.appendChild(b.createElement("option"));p.type="checkbox",w.checkOn=p.value!=="",w.optSelected=O.selected,p=b.createElement("input"),p.value="t",p.type="radio",w.radioValue=p.value==="t"}();var Pc,bo=g.expr.attrHandle;g.fn.extend({attr:function(p,C){return ct(this,g.attr,p,C,arguments.length>1)},removeAttr:function(p){return this.each(function(){g.removeAttr(this,p)})}}),g.extend({attr:function(p,C,O){var F,K,Y=p.nodeType;if(!(Y===3||Y===8||Y===2)){if(typeof p.getAttribute>"u")return g.prop(p,C,O);if((Y!==1||!g.isXMLDoc(p))&&(K=g.attrHooks[C.toLowerCase()]||(g.expr.match.bool.test(C)?Pc:void 0)),O!==void 0){if(O===null){g.removeAttr(p,C);return}return K&&"set"in K&&(F=K.set(p,O,C))!==void 0?F:(p.setAttribute(C,O+""),O)}return K&&"get"in K&&(F=K.get(p,C))!==null?F:(F=g.find.attr(p,C),F??void 0)}},attrHooks:{type:{set:function(p,C){if(!w.radioValue&&C==="radio"&&k(p,"input")){var O=p.value;return p.setAttribute("type",C),O&&(p.value=O),C}}}},removeAttr:function(p,C){var O,F=0,K=C&&C.match(Pe);if(K&&p.nodeType===1)for(;O=K[F++];)p.removeAttribute(O)}}),Pc={set:function(p,C,O){return C===!1?g.removeAttr(p,O):p.setAttribute(O,O),O}},g.each(g.expr.match.bool.source.match(/\w+/g),function(p,C){var O=bo[C]||g.find.attr;bo[C]=function(F,K,Y){var ne,be,ge=K.toLowerCase();return Y||(be=bo[ge],bo[ge]=ne,ne=O(F,K,Y)!=null?ge:null,bo[ge]=be),ne}});var gu=/^(?:input|select|textarea|button)$/i,Bl=/^(?:a|area)$/i;g.fn.extend({prop:function(p,C){return ct(this,g.prop,p,C,arguments.length>1)},removeProp:function(p){return this.each(function(){delete this[g.propFix[p]||p]})}}),g.extend({prop:function(p,C,O){var F,K,Y=p.nodeType;if(!(Y===3||Y===8||Y===2))return(Y!==1||!g.isXMLDoc(p))&&(C=g.propFix[C]||C,K=g.propHooks[C]),O!==void 0?K&&"set"in K&&(F=K.set(p,O,C))!==void 0?F:p[C]=O:K&&"get"in K&&(F=K.get(p,C))!==null?F:p[C]},propHooks:{tabIndex:{get:function(p){var C=g.find.attr(p,"tabindex");return C?parseInt(C,10):gu.test(p.nodeName)||Bl.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(g.propHooks.selected={get:function(p){var C=p.parentNode;return C&&C.parentNode&&C.parentNode.selectedIndex,null},set:function(p){var C=p.parentNode;C&&(C.selectedIndex,C.parentNode&&C.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function Vs(p){var C=p.match(Pe)||[];return C.join(" ")}function Hs(p){return p.getAttribute&&p.getAttribute("class")||""}function $l(p){return Array.isArray(p)?p:typeof p=="string"?p.match(Pe)||[]:[]}g.fn.extend({addClass:function(p){var C,O,F,K,Y,ne;return v(p)?this.each(function(be){g(this).addClass(p.call(this,be,Hs(this)))}):(C=$l(p),C.length?this.each(function(){if(F=Hs(this),O=this.nodeType===1&&" "+Vs(F)+" ",O){for(Y=0;Y<C.length;Y++)K=C[Y],O.indexOf(" "+K+" ")<0&&(O+=K+" ");ne=Vs(O),F!==ne&&this.setAttribute("class",ne)}}):this)},removeClass:function(p){var C,O,F,K,Y,ne;return v(p)?this.each(function(be){g(this).removeClass(p.call(this,be,Hs(this)))}):arguments.length?(C=$l(p),C.length?this.each(function(){if(F=Hs(this),O=this.nodeType===1&&" "+Vs(F)+" ",O){for(Y=0;Y<C.length;Y++)for(K=C[Y];O.indexOf(" "+K+" ")>-1;)O=O.replace(" "+K+" "," ");ne=Vs(O),F!==ne&&this.setAttribute("class",ne)}}):this):this.attr("class","")},toggleClass:function(p,C){var O,F,K,Y,ne=typeof p,be=ne==="string"||Array.isArray(p);return v(p)?this.each(function(ge){g(this).toggleClass(p.call(this,ge,Hs(this),C),C)}):typeof C=="boolean"&&be?C?this.addClass(p):this.removeClass(p):(O=$l(p),this.each(function(){if(be)for(Y=g(this),K=0;K<O.length;K++)F=O[K],Y.hasClass(F)?Y.removeClass(F):Y.addClass(F);else(p===void 0||ne==="boolean")&&(F=Hs(this),F&&Me.set(this,"__className__",F),this.setAttribute&&this.setAttribute("class",F||p===!1?"":Me.get(this,"__className__")||""))}))},hasClass:function(p){var C,O,F=0;for(C=" "+p+" ";O=this[F++];)if(O.nodeType===1&&(" "+Vs(Hs(O))+" ").indexOf(C)>-1)return!0;return!1}});var Ws=/\r/g;g.fn.extend({val:function(p){var C,O,F,K=this[0];return arguments.length?(F=v(p),this.each(function(Y){var ne;this.nodeType===1&&(F?ne=p.call(this,Y,g(this).val()):ne=p,ne==null?ne="":typeof ne=="number"?ne+="":Array.isArray(ne)&&(ne=g.map(ne,function(be){return be==null?"":be+""})),C=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!C||!("set"in C)||C.set(this,ne,"value")===void 0)&&(this.value=ne))})):K?(C=g.valHooks[K.type]||g.valHooks[K.nodeName.toLowerCase()],C&&"get"in C&&(O=C.get(K,"value"))!==void 0?O:(O=K.value,typeof O=="string"?O.replace(Ws,""):O??"")):void 0}}),g.extend({valHooks:{option:{get:function(p){var C=g.find.attr(p,"value");return C??Vs(g.text(p))}},select:{get:function(p){var C,O,F,K=p.options,Y=p.selectedIndex,ne=p.type==="select-one",be=ne?null:[],ge=ne?Y+1:K.length;for(Y<0?F=ge:F=ne?Y:0;F<ge;F++)if(O=K[F],(O.selected||F===Y)&&!O.disabled&&(!O.parentNode.disabled||!k(O.parentNode,"optgroup"))){if(C=g(O).val(),ne)return C;be.push(C)}return be},set:function(p,C){for(var O,F,K=p.options,Y=g.makeArray(C),ne=K.length;ne--;)F=K[ne],(F.selected=g.inArray(g.valHooks.option.get(F),Y)>-1)&&(O=!0);return O||(p.selectedIndex=-1),Y}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(p,C){if(Array.isArray(C))return p.checked=g.inArray(g(p).val(),C)>-1}},w.checkOn||(g.valHooks[this].get=function(p){return p.getAttribute("value")===null?"on":p.value})});var Ss=e.location,ei={guid:Date.now()},Di=/\?/;g.parseXML=function(p){var C,O;if(!p||typeof p!="string")return null;try{C=new e.DOMParser().parseFromString(p,"text/xml")}catch{}return O=C&&C.getElementsByTagName("parsererror")[0],(!C||O)&&g.error("Invalid XML: "+(O?g.map(O.childNodes,function(F){return F.textContent}).join(`
`):p)),C};var Mn=/^(?:focusinfocus|focusoutblur)$/,Lc=function(p){p.stopPropagation()};g.extend(g.event,{trigger:function(p,C,O,F){var K,Y,ne,be,ge,Se,$e,We,Oe=[O||b],nt=h.call(p,"type")?p.type:p,Et=h.call(p,"namespace")?p.namespace.split("."):[];if(Y=We=ne=O=O||b,!(O.nodeType===3||O.nodeType===8)&&!Mn.test(nt+g.event.triggered)&&(nt.indexOf(".")>-1&&(Et=nt.split("."),nt=Et.shift(),Et.sort()),ge=nt.indexOf(":")<0&&"on"+nt,p=p[g.expando]?p:new g.Event(nt,typeof p=="object"&&p),p.isTrigger=F?2:3,p.namespace=Et.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=O),C=C==null?[p]:g.makeArray(C,[p]),$e=g.event.special[nt]||{},!(!F&&$e.trigger&&$e.trigger.apply(O,C)===!1))){if(!F&&!$e.noBubble&&!A(O)){for(be=$e.delegateType||nt,Mn.test(be+nt)||(Y=Y.parentNode);Y;Y=Y.parentNode)Oe.push(Y),ne=Y;ne===(O.ownerDocument||b)&&Oe.push(ne.defaultView||ne.parentWindow||e)}for(K=0;(Y=Oe[K++])&&!p.isPropagationStopped();)We=Y,p.type=K>1?be:$e.bindType||nt,Se=(Me.get(Y,"events")||Object.create(null))[p.type]&&Me.get(Y,"handle"),Se&&Se.apply(Y,C),Se=ge&&Y[ge],Se&&Se.apply&&Ee(Y)&&(p.result=Se.apply(Y,C),p.result===!1&&p.preventDefault());return p.type=nt,!F&&!p.isDefaultPrevented()&&(!$e._default||$e._default.apply(Oe.pop(),C)===!1)&&Ee(O)&&ge&&v(O[nt])&&!A(O)&&(ne=O[ge],ne&&(O[ge]=null),g.event.triggered=nt,p.isPropagationStopped()&&We.addEventListener(nt,Lc),O[nt](),p.isPropagationStopped()&&We.removeEventListener(nt,Lc),g.event.triggered=void 0,ne&&(O[ge]=ne)),p.result}},simulate:function(p,C,O){var F=g.extend(new g.Event,O,{type:p,isSimulated:!0});g.event.trigger(F,null,C)}}),g.fn.extend({trigger:function(p,C){return this.each(function(){g.event.trigger(p,C,this)})},triggerHandler:function(p,C){var O=this[0];if(O)return g.event.trigger(p,C,O,!0)}});var Dc=/\[\]$/,zt=/\r?\n/g,yu=/^(?:submit|button|image|reset|file)$/i,xu=/^(?:input|select|textarea|keygen)/i;function Ta(p,C,O,F){var K;if(Array.isArray(C))g.each(C,function(Y,ne){O||Dc.test(p)?F(p,ne):Ta(p+"["+(typeof ne=="object"&&ne!=null?Y:"")+"]",ne,O,F)});else if(!O&&W(C)==="object")for(K in C)Ta(p+"["+K+"]",C[K],O,F);else F(p,C)}g.param=function(p,C){var O,F=[],K=function(Y,ne){var be=v(ne)?ne():ne;F[F.length]=encodeURIComponent(Y)+"="+encodeURIComponent(be??"")};if(p==null)return"";if(Array.isArray(p)||p.jquery&&!g.isPlainObject(p))g.each(p,function(){K(this.name,this.value)});else for(O in p)Ta(O,p[O],C,K);return F.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=g.prop(this,"elements");return p?g.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!g(this).is(":disabled")&&xu.test(this.nodeName)&&!yu.test(p)&&(this.checked||!mr.test(p))}).map(function(p,C){var O=g(this).val();return O==null?null:Array.isArray(O)?g.map(O,function(F){return{name:C.name,value:F.replace(zt,`\r
`)}}):{name:C.name,value:O.replace(zt,`\r
`)}}).get()}});var Ic=/%20/g,Rc=/#.*$/,Ii=/([?&])_=[^&]*/,ql=/^(.*?):[ \t]*([^\r\n]*)$/mg,bu=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vu=/^(?:GET|HEAD)$/,wu=/^\/\//,Ri={},Gs={},Js="*/".concat("*"),Ul=b.createElement("a");Ul.href=Ss.href;function vo(p){return function(C,O){typeof C!="string"&&(O=C,C="*");var F,K=0,Y=C.toLowerCase().match(Pe)||[];if(v(O))for(;F=Y[K++];)F[0]==="+"?(F=F.slice(1)||"*",(p[F]=p[F]||[]).unshift(O)):(p[F]=p[F]||[]).push(O)}}function Ti(p,C,O,F){var K={},Y=p===Gs;function ne(be){var ge;return K[be]=!0,g.each(p[be]||[],function(Se,$e){var We=$e(C,O,F);if(typeof We=="string"&&!Y&&!K[We])return C.dataTypes.unshift(We),ne(We),!1;if(Y)return!(ge=We)}),ge}return ne(C.dataTypes[0])||!K["*"]&&ne("*")}function wo(p,C){var O,F,K=g.ajaxSettings.flatOptions||{};for(O in C)C[O]!==void 0&&((K[O]?p:F||(F={}))[O]=C[O]);return F&&g.extend(!0,p,F),p}function Tc(p,C,O){for(var F,K,Y,ne,be=p.contents,ge=p.dataTypes;ge[0]==="*";)ge.shift(),F===void 0&&(F=p.mimeType||C.getResponseHeader("Content-Type"));if(F){for(K in be)if(be[K]&&be[K].test(F)){ge.unshift(K);break}}if(ge[0]in O)Y=ge[0];else{for(K in O){if(!ge[0]||p.converters[K+" "+ge[0]]){Y=K;break}ne||(ne=K)}Y=Y||ne}if(Y)return Y!==ge[0]&&ge.unshift(Y),O[Y]}function Oc(p,C,O,F){var K,Y,ne,be,ge,Se={},$e=p.dataTypes.slice();if($e[1])for(ne in p.converters)Se[ne.toLowerCase()]=p.converters[ne];for(Y=$e.shift();Y;)if(p.responseFields[Y]&&(O[p.responseFields[Y]]=C),!ge&&F&&p.dataFilter&&(C=p.dataFilter(C,p.dataType)),ge=Y,Y=$e.shift(),Y){if(Y==="*")Y=ge;else if(ge!=="*"&&ge!==Y){if(ne=Se[ge+" "+Y]||Se["* "+Y],!ne){for(K in Se)if(be=K.split(" "),be[1]===Y&&(ne=Se[ge+" "+be[0]]||Se["* "+be[0]],ne)){ne===!0?ne=Se[K]:Se[K]!==!0&&(Y=be[0],$e.unshift(be[1]));break}}if(ne!==!0)if(ne&&p.throws)C=ne(C);else try{C=ne(C)}catch(We){return{state:"parsererror",error:ne?We:"No conversion from "+ge+" to "+Y}}}}return{state:"success",data:C}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ss.href,type:"GET",isLocal:bu.test(Ss.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Js,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,C){return C?wo(wo(p,g.ajaxSettings),C):wo(g.ajaxSettings,p)},ajaxPrefilter:vo(Ri),ajaxTransport:vo(Gs),ajax:function(p,C){typeof p=="object"&&(C=p,p=void 0),C=C||{};var O,F,K,Y,ne,be,ge,Se,$e,We,Oe=g.ajaxSetup({},C),nt=Oe.context||Oe,Et=Oe.context&&(nt.nodeType||nt.jquery)?g(nt):g.event,er=g.Deferred(),$t=g.Callbacks("once memory"),nn=Oe.statusCode||{},L={},X={},he="canceled",ye={readyState:0,getResponseHeader:function(Ie){var Ge;if(ge){if(!Y)for(Y={};Ge=ql.exec(K);)Y[Ge[1].toLowerCase()+" "]=(Y[Ge[1].toLowerCase()+" "]||[]).concat(Ge[2]);Ge=Y[Ie.toLowerCase()+" "]}return Ge==null?null:Ge.join(", ")},getAllResponseHeaders:function(){return ge?K:null},setRequestHeader:function(Ie,Ge){return ge==null&&(Ie=X[Ie.toLowerCase()]=X[Ie.toLowerCase()]||Ie,L[Ie]=Ge),this},overrideMimeType:function(Ie){return ge==null&&(Oe.mimeType=Ie),this},statusCode:function(Ie){var Ge;if(Ie)if(ge)ye.always(Ie[ye.status]);else for(Ge in Ie)nn[Ge]=[nn[Ge],Ie[Ge]];return this},abort:function(Ie){var Ge=Ie||he;return O&&O.abort(Ge),Ae(0,Ge),this}};if(er.promise(ye),Oe.url=((p||Oe.url||Ss.href)+"").replace(wu,Ss.protocol+"//"),Oe.type=C.method||C.type||Oe.method||Oe.type,Oe.dataTypes=(Oe.dataType||"*").toLowerCase().match(Pe)||[""],Oe.crossDomain==null){be=b.createElement("a");try{be.href=Oe.url,be.href=be.href,Oe.crossDomain=Ul.protocol+"//"+Ul.host!=be.protocol+"//"+be.host}catch{Oe.crossDomain=!0}}if(Oe.data&&Oe.processData&&typeof Oe.data!="string"&&(Oe.data=g.param(Oe.data,Oe.traditional)),Ti(Ri,Oe,C,ye),ge)return ye;Se=g.event&&Oe.global,Se&&g.active++===0&&g.event.trigger("ajaxStart"),Oe.type=Oe.type.toUpperCase(),Oe.hasContent=!vu.test(Oe.type),F=Oe.url.replace(Rc,""),Oe.hasContent?Oe.data&&Oe.processData&&(Oe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Oe.data=Oe.data.replace(Ic,"+")):(We=Oe.url.slice(F.length),Oe.data&&(Oe.processData||typeof Oe.data=="string")&&(F+=(Di.test(F)?"&":"?")+Oe.data,delete Oe.data),Oe.cache===!1&&(F=F.replace(Ii,"$1"),We=(Di.test(F)?"&":"?")+"_="+ei.guid+++We),Oe.url=F+We),Oe.ifModified&&(g.lastModified[F]&&ye.setRequestHeader("If-Modified-Since",g.lastModified[F]),g.etag[F]&&ye.setRequestHeader("If-None-Match",g.etag[F])),(Oe.data&&Oe.hasContent&&Oe.contentType!==!1||C.contentType)&&ye.setRequestHeader("Content-Type",Oe.contentType),ye.setRequestHeader("Accept",Oe.dataTypes[0]&&Oe.accepts[Oe.dataTypes[0]]?Oe.accepts[Oe.dataTypes[0]]+(Oe.dataTypes[0]!=="*"?", "+Js+"; q=0.01":""):Oe.accepts["*"]);for($e in Oe.headers)ye.setRequestHeader($e,Oe.headers[$e]);if(Oe.beforeSend&&(Oe.beforeSend.call(nt,ye,Oe)===!1||ge))return ye.abort();if(he="abort",$t.add(Oe.complete),ye.done(Oe.success),ye.fail(Oe.error),O=Ti(Gs,Oe,C,ye),!O)Ae(-1,"No Transport");else{if(ye.readyState=1,Se&&Et.trigger("ajaxSend",[ye,Oe]),ge)return ye;Oe.async&&Oe.timeout>0&&(ne=e.setTimeout(function(){ye.abort("timeout")},Oe.timeout));try{ge=!1,O.send(L,Ae)}catch(Ie){if(ge)throw Ie;Ae(-1,Ie)}}function Ae(Ie,Ge,ft,jt){var At,Tt,Ht,gr,xr,fr=Ge;ge||(ge=!0,ne&&e.clearTimeout(ne),O=void 0,K=jt||"",ye.readyState=Ie>0?4:0,At=Ie>=200&&Ie<300||Ie===304,ft&&(gr=Tc(Oe,ye,ft)),!At&&g.inArray("script",Oe.dataTypes)>-1&&g.inArray("json",Oe.dataTypes)<0&&(Oe.converters["text script"]=function(){}),gr=Oc(Oe,gr,ye,At),At?(Oe.ifModified&&(xr=ye.getResponseHeader("Last-Modified"),xr&&(g.lastModified[F]=xr),xr=ye.getResponseHeader("etag"),xr&&(g.etag[F]=xr)),Ie===204||Oe.type==="HEAD"?fr="nocontent":Ie===304?fr="notmodified":(fr=gr.state,Tt=gr.data,Ht=gr.error,At=!Ht)):(Ht=fr,(Ie||!fr)&&(fr="error",Ie<0&&(Ie=0))),ye.status=Ie,ye.statusText=(Ge||fr)+"",At?er.resolveWith(nt,[Tt,fr,ye]):er.rejectWith(nt,[ye,fr,Ht]),ye.statusCode(nn),nn=void 0,Se&&Et.trigger(At?"ajaxSuccess":"ajaxError",[ye,Oe,At?Tt:Ht]),$t.fireWith(nt,[ye,fr]),Se&&(Et.trigger("ajaxComplete",[ye,Oe]),--g.active||g.event.trigger("ajaxStop")))}return ye},getJSON:function(p,C,O){return g.get(p,C,O,"json")},getScript:function(p,C){return g.get(p,void 0,C,"script")}}),g.each(["get","post"],function(p,C){g[C]=function(O,F,K,Y){return v(F)&&(Y=Y||K,K=F,F=void 0),g.ajax(g.extend({url:O,type:C,dataType:Y,data:F,success:K},g.isPlainObject(O)&&O))}}),g.ajaxPrefilter(function(p){var C;for(C in p.headers)C.toLowerCase()==="content-type"&&(p.contentType=p.headers[C]||"")}),g._evalUrl=function(p,C,O){return g.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(F){g.globalEval(F,C,O)}})},g.fn.extend({wrapAll:function(p){var C;return this[0]&&(v(p)&&(p=p.call(this[0])),C=g(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&C.insertBefore(this[0]),C.map(function(){for(var O=this;O.firstElementChild;)O=O.firstElementChild;return O}).append(this)),this},wrapInner:function(p){return v(p)?this.each(function(C){g(this).wrapInner(p.call(this,C))}):this.each(function(){var C=g(this),O=C.contents();O.length?O.wrapAll(p):C.append(p)})},wrap:function(p){var C=v(p);return this.each(function(O){g(this).wrapAll(C?p.call(this,O):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(p){return!g.expr.pseudos.visible(p)},g.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Mc={0:200,1223:204},ko=g.ajaxSettings.xhr();w.cors=!!ko&&"withCredentials"in ko,w.ajax=ko=!!ko,g.ajaxTransport(function(p){var C,O;if(w.cors||ko&&!p.crossDomain)return{send:function(F,K){var Y,ne=p.xhr();if(ne.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(Y in p.xhrFields)ne[Y]=p.xhrFields[Y];p.mimeType&&ne.overrideMimeType&&ne.overrideMimeType(p.mimeType),!p.crossDomain&&!F["X-Requested-With"]&&(F["X-Requested-With"]="XMLHttpRequest");for(Y in F)ne.setRequestHeader(Y,F[Y]);C=function(be){return function(){C&&(C=O=ne.onload=ne.onerror=ne.onabort=ne.ontimeout=ne.onreadystatechange=null,be==="abort"?ne.abort():be==="error"?typeof ne.status!="number"?K(0,"error"):K(ne.status,ne.statusText):K(Mc[ne.status]||ne.status,ne.statusText,(ne.responseType||"text")!=="text"||typeof ne.responseText!="string"?{binary:ne.response}:{text:ne.responseText},ne.getAllResponseHeaders()))}},ne.onload=C(),O=ne.onerror=ne.ontimeout=C("error"),ne.onabort!==void 0?ne.onabort=O:ne.onreadystatechange=function(){ne.readyState===4&&e.setTimeout(function(){C&&O()})},C=C("abort");try{ne.send(p.hasContent&&p.data||null)}catch(be){if(C)throw be}},abort:function(){C&&C()}}}),g.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return g.globalEval(p),p}}}),g.ajaxPrefilter("script",function(p){p.cache===void 0&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),g.ajaxTransport("script",function(p){if(p.crossDomain||p.scriptAttrs){var C,O;return{send:function(F,K){C=g("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",O=function(Y){C.remove(),O=null,Y&&K(Y.type==="error"?404:200,Y.type)}),b.head.appendChild(C[0])},abort:function(){O&&O()}}}});var rs=[],ns=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=rs.pop()||g.expando+"_"+ei.guid++;return this[p]=!0,p}}),g.ajaxPrefilter("json jsonp",function(p,C,O){var F,K,Y,ne=p.jsonp!==!1&&(ns.test(p.url)?"url":typeof p.data=="string"&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ns.test(p.data)&&"data");if(ne||p.dataTypes[0]==="jsonp")return F=p.jsonpCallback=v(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,ne?p[ne]=p[ne].replace(ns,"$1"+F):p.jsonp!==!1&&(p.url+=(Di.test(p.url)?"&":"?")+p.jsonp+"="+F),p.converters["script json"]=function(){return Y||g.error(F+" was not called"),Y[0]},p.dataTypes[0]="json",K=e[F],e[F]=function(){Y=arguments},O.always(function(){K===void 0?g(e).removeProp(F):e[F]=K,p[F]&&(p.jsonpCallback=C.jsonpCallback,rs.push(F)),Y&&v(K)&&K(Y[0]),Y=K=void 0}),"script"}),w.createHTMLDocument=function(){var p=b.implementation.createHTMLDocument("").body;return p.innerHTML="<form></form><form></form>",p.childNodes.length===2}(),g.parseHTML=function(p,C,O){if(typeof p!="string")return[];typeof C=="boolean"&&(O=C,C=!1);var F,K,Y;return C||(w.createHTMLDocument?(C=b.implementation.createHTMLDocument(""),F=C.createElement("base"),F.href=b.location.href,C.head.appendChild(F)):C=b),K=M.exec(p),Y=!O&&[],K?[C.createElement(K[1])]:(K=Cn([p],C,Y),Y&&Y.length&&g(Y).remove(),g.merge([],K.childNodes))},g.fn.load=function(p,C,O){var F,K,Y,ne=this,be=p.indexOf(" ");return be>-1&&(F=Vs(p.slice(be)),p=p.slice(0,be)),v(C)?(O=C,C=void 0):C&&typeof C=="object"&&(K="POST"),ne.length>0&&g.ajax({url:p,type:K||"GET",dataType:"html",data:C}).done(function(ge){Y=arguments,ne.html(F?g("<div>").append(g.parseHTML(ge)).find(F):ge)}).always(O&&function(ge,Se){ne.each(function(){O.apply(this,Y||[ge.responseText,Se,ge])})}),this},g.expr.pseudos.animated=function(p){return g.grep(g.timers,function(C){return p===C.elem}).length},g.offset={setOffset:function(p,C,O){var F,K,Y,ne,be,ge,Se,$e=g.css(p,"position"),We=g(p),Oe={};$e==="static"&&(p.style.position="relative"),be=We.offset(),Y=g.css(p,"top"),ge=g.css(p,"left"),Se=($e==="absolute"||$e==="fixed")&&(Y+ge).indexOf("auto")>-1,Se?(F=We.position(),ne=F.top,K=F.left):(ne=parseFloat(Y)||0,K=parseFloat(ge)||0),v(C)&&(C=C.call(p,O,g.extend({},be))),C.top!=null&&(Oe.top=C.top-be.top+ne),C.left!=null&&(Oe.left=C.left-be.left+K),"using"in C?C.using.call(p,Oe):We.css(Oe)}},g.fn.extend({offset:function(p){if(arguments.length)return p===void 0?this:this.each(function(K){g.offset.setOffset(this,p,K)});var C,O,F=this[0];if(F)return F.getClientRects().length?(C=F.getBoundingClientRect(),O=F.ownerDocument.defaultView,{top:C.top+O.pageYOffset,left:C.left+O.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var p,C,O,F=this[0],K={top:0,left:0};if(g.css(F,"position")==="fixed")C=F.getBoundingClientRect();else{for(C=this.offset(),O=F.ownerDocument,p=F.offsetParent||O.documentElement;p&&(p===O.body||p===O.documentElement)&&g.css(p,"position")==="static";)p=p.parentNode;p&&p!==F&&p.nodeType===1&&(K=g(p).offset(),K.top+=g.css(p,"borderTopWidth",!0),K.left+=g.css(p,"borderLeftWidth",!0))}return{top:C.top-K.top-g.css(F,"marginTop",!0),left:C.left-K.left-g.css(F,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&g.css(p,"position")==="static";)p=p.offsetParent;return p||pn})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,C){var O=C==="pageYOffset";g.fn[p]=function(F){return ct(this,function(K,Y,ne){var be;if(A(K)?be=K:K.nodeType===9&&(be=K.defaultView),ne===void 0)return be?be[C]:K[Y];be?be.scrollTo(O?be.pageXOffset:ne,O?ne:be.pageYOffset):K[Y]=ne},p,F,arguments.length)}}),g.each(["top","left"],function(p,C){g.cssHooks[C]=Sc(w.pixelPosition,function(O,F){if(F)return F=xo(O,C),qs.test(F)?g(O).position()[C]+"px":F})}),g.each({Height:"height",Width:"width"},function(p,C){g.each({padding:"inner"+p,content:C,"":"outer"+p},function(O,F){g.fn[F]=function(K,Y){var ne=arguments.length&&(O||typeof K!="boolean"),be=O||(K===!0||Y===!0?"margin":"border");return ct(this,function(ge,Se,$e){var We;return A(ge)?F.indexOf("outer")===0?ge["inner"+p]:ge.document.documentElement["client"+p]:ge.nodeType===9?(We=ge.documentElement,Math.max(ge.body["scroll"+p],We["scroll"+p],ge.body["offset"+p],We["offset"+p],We["client"+p])):$e===void 0?g.css(ge,Se,be):g.style(ge,Se,$e,be)},C,ne?K:void 0,ne)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,C){g.fn[C]=function(O){return this.on(C,O)}}),g.fn.extend({bind:function(p,C,O){return this.on(p,null,C,O)},unbind:function(p,C){return this.off(p,null,C)},delegate:function(p,C,O,F){return this.on(C,p,O,F)},undelegate:function(p,C,O){return arguments.length===1?this.off(p,"**"):this.off(C,p||"**",O)},hover:function(p,C){return this.on("mouseenter",p).on("mouseleave",C||p)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,C){g.fn[C]=function(O,F){return arguments.length>0?this.on(C,null,O,F):this.trigger(C)}});var ku=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(p,C){var O,F,K;if(typeof C=="string"&&(O=p[C],C=p,p=O),!!v(p))return F=o.call(arguments,2),K=function(){return p.apply(C||this,F.concat(o.call(arguments)))},K.guid=p.guid=p.guid||g.guid++,K},g.holdReady=function(p){p?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=k,g.isFunction=v,g.isWindow=A,g.camelCase=ve,g.type=W,g.now=Date.now,g.isNumeric=function(p){var C=g.type(p);return(C==="number"||C==="string")&&!isNaN(p-parseFloat(p))},g.trim=function(p){return p==null?"":(p+"").replace(ku,"$1")};var jo=e.jQuery,as=e.$;return g.noConflict=function(p){return e.$===g&&(e.$=as),p&&e.jQuery===g&&(e.jQuery=jo),g},typeof r>"u"&&(e.jQuery=e.$=g),g})}(Ny)),Ny.exports}var jV=pb();const YC=Bk(jV);var NV={exports:{}};/*! Select2 4.1.0-rc.0 | https://github.com/select2/select2/blob/master/LICENSE.md */(function(t,e){(function(r){t.exports?t.exports=function(n,a){return a===void 0&&(a=typeof window<"u"?pb():pb()(n)),r(a),a}:r(jQuery)})(function(r){var n,a,o,i,c,l,d,u,h,y,m,w,v,A,b,b=((I=r&&r.fn&&r.fn.select2&&r.fn.select2.amd?r.fn.select2.amd:I)&&I.requirejs||(I?a=I:I={},u={},h={},y={},m={},w=Object.prototype.hasOwnProperty,v=[].slice,A=/\.js$/,l=function(k,U){var x,j,P=B(k),E=P[0],U=U[1];return k=P[1],E&&(x=z(E=R(E,U))),E?k=x&&x.normalize?x.normalize(k,(j=U,function(q){return R(q,j)})):R(k,U):(E=(P=B(k=R(k,U)))[0],k=P[1],E&&(x=z(E))),{f:E?E+"!"+k:k,n:k,pr:E,p:x}},d={require:function(k){return W(k)},exports:function(k){var _=u[k];return _!==void 0?_:u[k]={}},module:function(k){return{id:k,uri:"",exports:u[k],config:(_=k,function(){return y&&y.config&&y.config[_]||{}})};var _}},i=function(k,_,x,j){var P,E,U,q,G,V=[],ee=typeof x,le=g(j=j||k);if(ee=="undefined"||ee=="function"){for(_=!_.length&&x.length?["require","exports","module"]:_,q=0;q<_.length;q+=1)if((E=(U=l(_[q],le)).f)==="require")V[q]=d.require(k);else if(E==="exports")V[q]=d.exports(k),G=!0;else if(E==="module")P=V[q]=d.module(k);else if(S(u,E)||S(h,E)||S(m,E))V[q]=z(E);else{if(!U.p)throw new Error(k+" missing "+E);U.p.load(U.n,W(j,!0),function(Z){return function(M){u[Z]=M}}(E),{}),V[q]=u[E]}ee=x?x.apply(u[k],V):void 0,k&&(P&&P.exports!==o&&P.exports!==u[k]?u[k]=P.exports:ee===o&&G||(u[k]=ee))}else k&&(u[k]=x)},n=a=c=function(k,_,x,j,P){if(typeof k=="string")return d[k]?d[k](_):z(l(k,g(_)).f);if(!k.splice){if((y=k).deps&&c(y.deps,y.callback),!_)return;_.splice?(k=_,_=x,x=null):k=o}return _=_||function(){},typeof x=="function"&&(x=j,j=P),j?i(o,k,_,x):setTimeout(function(){i(o,k,_,x)},4),c},c.config=function(k){return c(k)},n._defined=u,(b=function(k,_,x){if(typeof k!="string")throw new Error("See almond README: incorrect module build, no module name");_.splice||(x=_,_=[]),S(u,k)||S(h,k)||(h[k]=[k,_,x])}).amd={jQuery:!0},I.requirejs=n,I.require=a,I.define=b),I.define("almond",function(){}),I.define("jquery",[],function(){var k=r||$;return k==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),k}),I.define("select2/utils",["jquery"],function(k){var _={};function x(E){var U,q=E.prototype,G=[];for(U in q)typeof q[U]=="function"&&U!=="constructor"&&G.push(U);return G}_.Extend=function(E,U){var q,G={}.hasOwnProperty;function V(){this.constructor=E}for(q in U)G.call(U,q)&&(E[q]=U[q]);return V.prototype=U.prototype,E.prototype=new V,E.__super__=U.prototype,E},_.Decorate=function(E,U){var q=x(U),G=x(E);function V(){var J=Array.prototype.unshift,te=U.prototype.constructor.length,de=E.prototype.constructor;0<te&&(J.call(arguments,E.prototype.constructor),de=U.prototype.constructor),de.apply(this,arguments)}U.displayName=E.displayName,V.prototype=new function(){this.constructor=V};for(var ee=0;ee<G.length;ee++){var le=G[ee];V.prototype[le]=E.prototype[le]}for(var Z=0;Z<q.length;Z++){var M=q[Z];V.prototype[M]=function(J){var te=function(){};J in V.prototype&&(te=V.prototype[J]);var de=U.prototype[J];return function(){return Array.prototype.unshift.call(arguments,te),de.apply(this,arguments)}}(M)}return V};function j(){this.listeners={}}j.prototype.on=function(E,U){this.listeners=this.listeners||{},E in this.listeners?this.listeners[E].push(U):this.listeners[E]=[U]},j.prototype.trigger=function(E){var U=Array.prototype.slice,q=U.call(arguments,1);this.listeners=this.listeners||{},(q=q??[]).length===0&&q.push({}),(q[0]._type=E)in this.listeners&&this.invoke(this.listeners[E],U.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},j.prototype.invoke=function(E,U){for(var q=0,G=E.length;q<G;q++)E[q].apply(this,U)},_.Observable=j,_.generateChars=function(E){for(var U="",q=0;q<E;q++)U+=Math.floor(36*Math.random()).toString(36);return U},_.bind=function(E,U){return function(){E.apply(U,arguments)}},_._convertData=function(E){for(var U in E){var q=U.split("-"),G=E;if(q.length!==1){for(var V=0;V<q.length;V++){var ee=q[V];(ee=ee.substring(0,1).toLowerCase()+ee.substring(1))in G||(G[ee]={}),V==q.length-1&&(G[ee]=E[U]),G=G[ee]}delete E[U]}}return E},_.hasScroll=function(E,U){var q=k(U),G=U.style.overflowX,V=U.style.overflowY;return(G!==V||V!=="hidden"&&V!=="visible")&&(G==="scroll"||V==="scroll"||q.innerHeight()<U.scrollHeight||q.innerWidth()<U.scrollWidth)},_.escapeMarkup=function(E){var U={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof E!="string"?E:String(E).replace(/[&<>"'\/\\]/g,function(q){return U[q]})},_.__cache={};var P=0;return _.GetUniqueElementId=function(E){var U=E.getAttribute("data-select2-id");return U!=null||(U=E.id?"select2-data-"+E.id:"select2-data-"+(++P).toString()+"-"+_.generateChars(4),E.setAttribute("data-select2-id",U)),U},_.StoreData=function(E,U,q){E=_.GetUniqueElementId(E),_.__cache[E]||(_.__cache[E]={}),_.__cache[E][U]=q},_.GetData=function(E,U){var q=_.GetUniqueElementId(E);return U?_.__cache[q]&&_.__cache[q][U]!=null?_.__cache[q][U]:k(E).data(U):_.__cache[q]},_.RemoveData=function(E){var U=_.GetUniqueElementId(E);_.__cache[U]!=null&&delete _.__cache[U],E.removeAttribute("data-select2-id")},_.copyNonInternalCssClasses=function(E,G){var q=(q=E.getAttribute("class").trim().split(/\s+/)).filter(function(V){return V.indexOf("select2-")===0}),G=(G=G.getAttribute("class").trim().split(/\s+/)).filter(function(V){return V.indexOf("select2-")!==0}),G=q.concat(G);E.setAttribute("class",G.join(" "))},_}),I.define("select2/results",["jquery","./utils"],function(k,_){function x(j,P,E){this.$element=j,this.data=E,this.options=P,x.__super__.constructor.call(this)}return _.Extend(x,_.Observable),x.prototype.render=function(){var j=k('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&j.attr("aria-multiselectable","true"),this.$results=j},x.prototype.clear=function(){this.$results.empty()},x.prototype.displayMessage=function(j){var P=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var E=k('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),U=this.options.get("translations").get(j.message);E.append(P(U(j.args))),E[0].className+=" select2-results__message",this.$results.append(E)},x.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},x.prototype.append=function(j){this.hideLoading();var P=[];if(j.results!=null&&j.results.length!==0){j.results=this.sort(j.results);for(var E=0;E<j.results.length;E++){var U=j.results[E],U=this.option(U);P.push(U)}this.$results.append(P)}else this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"})},x.prototype.position=function(j,P){P.find(".select2-results").append(j)},x.prototype.sort=function(j){return this.options.get("sorter")(j)},x.prototype.highlightFirstItem=function(){var j=this.$results.find(".select2-results__option--selectable"),P=j.filter(".select2-results__option--selected");(0<P.length?P:j).first().trigger("mouseenter"),this.ensureHighlightVisible()},x.prototype.setClasses=function(){var j=this;this.data.current(function(P){var E=P.map(function(U){return U.id.toString()});j.$results.find(".select2-results__option--selectable").each(function(){var U=k(this),q=_.GetData(this,"data"),G=""+q.id;q.element!=null&&q.element.selected||q.element==null&&-1<E.indexOf(G)?(this.classList.add("select2-results__option--selected"),U.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),U.attr("aria-selected","false"))})})},x.prototype.showLoading=function(j){this.hideLoading(),j={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(j)},j=this.option(j),j.className+=" loading-results",this.$results.prepend(j)},x.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},x.prototype.option=function(j){var P=document.createElement("li");P.classList.add("select2-results__option"),P.classList.add("select2-results__option--selectable");var E,U={role:"option"},q=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(E in(j.element!=null&&q.call(j.element,":disabled")||j.element==null&&j.disabled)&&(U["aria-disabled"]="true",P.classList.remove("select2-results__option--selectable"),P.classList.add("select2-results__option--disabled")),j.id==null&&P.classList.remove("select2-results__option--selectable"),j._resultId!=null&&(P.id=j._resultId),j.title&&(P.title=j.title),j.children&&(U.role="group",U["aria-label"]=j.text,P.classList.remove("select2-results__option--selectable"),P.classList.add("select2-results__option--group")),U){var G=U[E];P.setAttribute(E,G)}if(j.children){var V=k(P),ee=document.createElement("strong");ee.className="select2-results__group",this.template(j,ee);for(var le=[],Z=0;Z<j.children.length;Z++){var M=j.children[Z],M=this.option(M);le.push(M)}q=k("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"}),q.append(le),V.append(ee),V.append(q)}else this.template(j,P);return _.StoreData(P,"data",j),P},x.prototype.bind=function(j,P){var E=this,U=j.id+"-results";this.$results.attr("id",U),j.on("results:all",function(q){E.clear(),E.append(q.data),j.isOpen()&&(E.setClasses(),E.highlightFirstItem())}),j.on("results:append",function(q){E.append(q.data),j.isOpen()&&E.setClasses()}),j.on("query",function(q){E.hideMessages(),E.showLoading(q)}),j.on("select",function(){j.isOpen()&&(E.setClasses(),E.options.get("scrollAfterSelect")&&E.highlightFirstItem())}),j.on("unselect",function(){j.isOpen()&&(E.setClasses(),E.options.get("scrollAfterSelect")&&E.highlightFirstItem())}),j.on("open",function(){E.$results.attr("aria-expanded","true"),E.$results.attr("aria-hidden","false"),E.setClasses(),E.ensureHighlightVisible()}),j.on("close",function(){E.$results.attr("aria-expanded","false"),E.$results.attr("aria-hidden","true"),E.$results.removeAttr("aria-activedescendant")}),j.on("results:toggle",function(){var q=E.getHighlightedResults();q.length!==0&&q.trigger("mouseup")}),j.on("results:select",function(){var q,G=E.getHighlightedResults();G.length!==0&&(q=_.GetData(G[0],"data"),G.hasClass("select2-results__option--selected")?E.trigger("close",{}):E.trigger("select",{data:q}))}),j.on("results:previous",function(){var q,G=E.getHighlightedResults(),V=E.$results.find(".select2-results__option--selectable"),ee=V.index(G);ee<=0||(q=ee-1,G.length===0&&(q=0),(ee=V.eq(q)).trigger("mouseenter"),G=E.$results.offset().top,V=ee.offset().top,ee=E.$results.scrollTop()+(V-G),q===0?E.$results.scrollTop(0):V-G<0&&E.$results.scrollTop(ee))}),j.on("results:next",function(){var q,G=E.getHighlightedResults(),V=E.$results.find(".select2-results__option--selectable"),ee=V.index(G)+1;ee>=V.length||((q=V.eq(ee)).trigger("mouseenter"),G=E.$results.offset().top+E.$results.outerHeight(!1),V=q.offset().top+q.outerHeight(!1),q=E.$results.scrollTop()+V-G,ee===0?E.$results.scrollTop(0):G<V&&E.$results.scrollTop(q))}),j.on("results:focus",function(q){q.element[0].classList.add("select2-results__option--highlighted"),q.element[0].setAttribute("aria-selected","true")}),j.on("results:message",function(q){E.displayMessage(q)}),k.fn.mousewheel&&this.$results.on("mousewheel",function(q){var G=E.$results.scrollTop(),V=E.$results.get(0).scrollHeight-G+q.deltaY,G=0<q.deltaY&&G-q.deltaY<=0,V=q.deltaY<0&&V<=E.$results.height();G?(E.$results.scrollTop(0),q.preventDefault(),q.stopPropagation()):V&&(E.$results.scrollTop(E.$results.get(0).scrollHeight-E.$results.height()),q.preventDefault(),q.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(q){var G=k(this),V=_.GetData(this,"data");G.hasClass("select2-results__option--selected")?E.options.get("multiple")?E.trigger("unselect",{originalEvent:q,data:V}):E.trigger("close",{}):E.trigger("select",{originalEvent:q,data:V})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(q){var G=_.GetData(this,"data");E.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),E.trigger("results:focus",{data:G,element:k(this)})})},x.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},x.prototype.destroy=function(){this.$results.remove()},x.prototype.ensureHighlightVisible=function(){var j,P,E,U,q=this.getHighlightedResults();q.length!==0&&(j=this.$results.find(".select2-results__option--selectable").index(q),U=this.$results.offset().top,P=q.offset().top,E=this.$results.scrollTop()+(P-U),U=P-U,E-=2*q.outerHeight(!1),j<=2?this.$results.scrollTop(0):(U>this.$results.outerHeight()||U<0)&&this.$results.scrollTop(E))},x.prototype.template=function(q,P){var E=this.options.get("templateResult"),U=this.options.get("escapeMarkup"),q=E(q,P);q==null?P.style.display="none":typeof q=="string"?P.innerHTML=U(q):k(P).append(q)},x}),I.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),I.define("select2/selection/base",["jquery","../utils","../keys"],function(k,_,x){function j(P,E){this.$element=P,this.options=E,j.__super__.constructor.call(this)}return _.Extend(j,_.Observable),j.prototype.render=function(){var P=k('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,_.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=_.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),P.attr("title",this.$element.attr("title")),P.attr("tabindex",this._tabindex),P.attr("aria-disabled","false"),this.$selection=P},j.prototype.bind=function(P,E){var U=this,q=P.id+"-results";this.container=P,this.$selection.on("focus",function(G){U.trigger("focus",G)}),this.$selection.on("blur",function(G){U._handleBlur(G)}),this.$selection.on("keydown",function(G){U.trigger("keypress",G),G.which===x.SPACE&&G.preventDefault()}),P.on("results:focus",function(G){U.$selection.attr("aria-activedescendant",G.data._resultId)}),P.on("selection:update",function(G){U.update(G.data)}),P.on("open",function(){U.$selection.attr("aria-expanded","true"),U.$selection.attr("aria-owns",q),U._attachCloseHandler(P)}),P.on("close",function(){U.$selection.attr("aria-expanded","false"),U.$selection.removeAttr("aria-activedescendant"),U.$selection.removeAttr("aria-owns"),U.$selection.trigger("focus"),U._detachCloseHandler(P)}),P.on("enable",function(){U.$selection.attr("tabindex",U._tabindex),U.$selection.attr("aria-disabled","false")}),P.on("disable",function(){U.$selection.attr("tabindex","-1"),U.$selection.attr("aria-disabled","true")})},j.prototype._handleBlur=function(P){var E=this;window.setTimeout(function(){document.activeElement==E.$selection[0]||k.contains(E.$selection[0],document.activeElement)||E.trigger("blur",P)},1)},j.prototype._attachCloseHandler=function(P){k(document.body).on("mousedown.select2."+P.id,function(E){var U=k(E.target).closest(".select2");k(".select2.select2-container--open").each(function(){this!=U[0]&&_.GetData(this,"element").select2("close")})})},j.prototype._detachCloseHandler=function(P){k(document.body).off("mousedown.select2."+P.id)},j.prototype.position=function(P,E){E.find(".selection").append(P)},j.prototype.destroy=function(){this._detachCloseHandler(this.container)},j.prototype.update=function(P){throw new Error("The `update` method must be defined in child classes.")},j.prototype.isEnabled=function(){return!this.isDisabled()},j.prototype.isDisabled=function(){return this.options.get("disabled")},j}),I.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(k,_,x,j){function P(){P.__super__.constructor.apply(this,arguments)}return x.Extend(P,_),P.prototype.render=function(){var E=P.__super__.render.call(this);return E[0].classList.add("select2-selection--single"),E.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),E},P.prototype.bind=function(E,U){var q=this;P.__super__.bind.apply(this,arguments);var G=E.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",G).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",G),this.$selection.attr("aria-controls",G),this.$selection.on("mousedown",function(V){V.which===1&&q.trigger("toggle",{originalEvent:V})}),this.$selection.on("focus",function(V){}),this.$selection.on("blur",function(V){}),E.on("focus",function(V){E.isOpen()||q.$selection.trigger("focus")})},P.prototype.clear=function(){var E=this.$selection.find(".select2-selection__rendered");E.empty(),E.removeAttr("title")},P.prototype.display=function(E,U){var q=this.options.get("templateSelection");return this.options.get("escapeMarkup")(q(E,U))},P.prototype.selectionContainer=function(){return k("<span></span>")},P.prototype.update=function(E){var U,q;E.length!==0?(q=E[0],U=this.$selection.find(".select2-selection__rendered"),E=this.display(q,U),U.empty().append(E),(q=q.title||q.text)?U.attr("title",q):U.removeAttr("title")):this.clear()},P}),I.define("select2/selection/multiple",["jquery","./base","../utils"],function(k,_,x){function j(P,E){j.__super__.constructor.apply(this,arguments)}return x.Extend(j,_),j.prototype.render=function(){var P=j.__super__.render.call(this);return P[0].classList.add("select2-selection--multiple"),P.html('<ul class="select2-selection__rendered"></ul>'),P},j.prototype.bind=function(P,E){var U=this;j.__super__.bind.apply(this,arguments);var q=P.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",q),this.$selection.on("click",function(G){U.trigger("toggle",{originalEvent:G})}),this.$selection.on("click",".select2-selection__choice__remove",function(G){var V;U.isDisabled()||(V=k(this).parent(),V=x.GetData(V[0],"data"),U.trigger("unselect",{originalEvent:G,data:V}))}),this.$selection.on("keydown",".select2-selection__choice__remove",function(G){U.isDisabled()||G.stopPropagation()})},j.prototype.clear=function(){var P=this.$selection.find(".select2-selection__rendered");P.empty(),P.removeAttr("title")},j.prototype.display=function(P,E){var U=this.options.get("templateSelection");return this.options.get("escapeMarkup")(U(P,E))},j.prototype.selectionContainer=function(){return k('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},j.prototype.update=function(P){if(this.clear(),P.length!==0){for(var E=[],U=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",q=0;q<P.length;q++){var G=P[q],V=this.selectionContainer(),ee=this.display(G,V),le=U+x.generateChars(4)+"-";G.id?le+=G.id:le+=x.generateChars(4),V.find(".select2-selection__choice__display").append(ee).attr("id",le);var Z=G.title||G.text;Z&&V.attr("title",Z),ee=this.options.get("translations").get("removeItem"),Z=V.find(".select2-selection__choice__remove"),Z.attr("title",ee()),Z.attr("aria-label",ee()),Z.attr("aria-describedby",le),x.StoreData(V[0],"data",G),E.push(V)}this.$selection.find(".select2-selection__rendered").append(E)}},j}),I.define("select2/selection/placeholder",[],function(){function k(_,x,j){this.placeholder=this.normalizePlaceholder(j.get("placeholder")),_.call(this,x,j)}return k.prototype.normalizePlaceholder=function(_,x){return x=typeof x=="string"?{id:"",text:x}:x},k.prototype.createPlaceholder=function(_,x){var j=this.selectionContainer();return j.html(this.display(x)),j[0].classList.add("select2-selection__placeholder"),j[0].classList.remove("select2-selection__choice"),x=x.title||x.text||j.text(),this.$selection.find(".select2-selection__rendered").attr("title",x),j},k.prototype.update=function(_,x){var j=x.length==1&&x[0].id!=this.placeholder.id;if(1<x.length||j)return _.call(this,x);this.clear(),x=this.createPlaceholder(this.placeholder),this.$selection.find(".select2-selection__rendered").append(x)},k}),I.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(k,_,x){function j(){}return j.prototype.bind=function(P,E,U){var q=this;P.call(this,E,U),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(G){q._handleClear(G)}),E.on("keypress",function(G){q._handleKeyboardClear(G,E)})},j.prototype._handleClear=function(P,E){if(!this.isDisabled()){var U=this.$selection.find(".select2-selection__clear");if(U.length!==0){E.stopPropagation();var q=x.GetData(U[0],"data"),G=this.$element.val();this.$element.val(this.placeholder.id);var V={data:q};if(this.trigger("clear",V),V.prevented)this.$element.val(G);else{for(var ee=0;ee<q.length;ee++)if(V={data:q[ee]},this.trigger("unselect",V),V.prevented)return void this.$element.val(G);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},j.prototype._handleKeyboardClear=function(P,E,U){U.isOpen()||E.which!=_.DELETE&&E.which!=_.BACKSPACE||this._handleClear(E)},j.prototype.update=function(P,E){var U,q;P.call(this,E),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),0<this.$selection.find(".select2-selection__placeholder").length||E.length===0||(U=this.$selection.find(".select2-selection__rendered").attr("id"),q=this.options.get("translations").get("removeAllItems"),(P=k('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title",q()),P.attr("aria-label",q()),P.attr("aria-describedby",U),x.StoreData(P[0],"data",E),this.$selection.prepend(P),this.$selection[0].classList.add("select2-selection--clearable"))},j}),I.define("select2/selection/search",["jquery","../utils","../keys"],function(k,_,x){function j(P,E,U){P.call(this,E,U)}return j.prototype.render=function(P){var E=this.options.get("translations").get("search"),U=k('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');return this.$searchContainer=U,this.$search=U.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",E()),P=P.call(this),this._transferTabIndex(),P.append(this.$searchContainer),P},j.prototype.bind=function(P,ee,U){var q=this,G=ee.id+"-results",V=ee.id+"-container";P.call(this,ee,U),q.$search.attr("aria-describedby",V),ee.on("open",function(){q.$search.attr("aria-controls",G),q.$search.trigger("focus")}),ee.on("close",function(){q.$search.val(""),q.resizeSearch(),q.$search.removeAttr("aria-controls"),q.$search.removeAttr("aria-activedescendant"),q.$search.trigger("focus")}),ee.on("enable",function(){q.$search.prop("disabled",!1),q._transferTabIndex()}),ee.on("disable",function(){q.$search.prop("disabled",!0)}),ee.on("focus",function(Z){q.$search.trigger("focus")}),ee.on("results:focus",function(Z){Z.data._resultId?q.$search.attr("aria-activedescendant",Z.data._resultId):q.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(Z){q.trigger("focus",Z)}),this.$selection.on("focusout",".select2-search--inline",function(Z){q._handleBlur(Z)}),this.$selection.on("keydown",".select2-search--inline",function(Z){var M;Z.stopPropagation(),q.trigger("keypress",Z),q._keyUpPrevented=Z.isDefaultPrevented(),Z.which!==x.BACKSPACE||q.$search.val()!==""||0<(M=q.$selection.find(".select2-selection__choice").last()).length&&(M=_.GetData(M[0],"data"),q.searchRemoveChoice(M),Z.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(Z){q.$search.val()&&Z.stopPropagation()});var ee=document.documentMode,le=ee&&ee<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(Z){le?q.$selection.off("input.search input.searchcheck"):q.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(Z){var M;le&&Z.type==="input"?q.$selection.off("input.search input.searchcheck"):(M=Z.which)!=x.SHIFT&&M!=x.CTRL&&M!=x.ALT&&M!=x.TAB&&q.handleSearch(Z)})},j.prototype._transferTabIndex=function(P){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},j.prototype.createPlaceholder=function(P,E){this.$search.attr("placeholder",E.text)},j.prototype.update=function(P,E){var U=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),P.call(this,E),this.resizeSearch(),U&&this.$search.trigger("focus")},j.prototype.handleSearch=function(){var P;this.resizeSearch(),this._keyUpPrevented||(P=this.$search.val(),this.trigger("query",{term:P})),this._keyUpPrevented=!1},j.prototype.searchRemoveChoice=function(P,E){this.trigger("unselect",{data:E}),this.$search.val(E.text),this.handleSearch()},j.prototype.resizeSearch=function(){this.$search.css("width","25px");var P="100%";this.$search.attr("placeholder")===""&&(P=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",P)},j}),I.define("select2/selection/selectionCss",["../utils"],function(k){function _(){}return _.prototype.render=function(P){var j=P.call(this),P=this.options.get("selectionCssClass")||"";return P.indexOf(":all:")!==-1&&(P=P.replace(":all:",""),k.copyNonInternalCssClasses(j[0],this.$element[0])),j.addClass(P),j},_}),I.define("select2/selection/eventRelay",["jquery"],function(k){function _(){}return _.prototype.bind=function(x,j,P){var E=this,U=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],q=["opening","closing","selecting","unselecting","clearing"];x.call(this,j,P),j.on("*",function(G,V){var ee;U.indexOf(G)!==-1&&(V=V||{},ee=k.Event("select2:"+G,{params:V}),E.$element.trigger(ee),q.indexOf(G)!==-1&&(V.prevented=ee.isDefaultPrevented()))})},_}),I.define("select2/translation",["jquery","require"],function(k,_){function x(j){this.dict=j||{}}return x.prototype.all=function(){return this.dict},x.prototype.get=function(j){return this.dict[j]},x.prototype.extend=function(j){this.dict=k.extend({},j.all(),this.dict)},x._cache={},x.loadPath=function(j){var P;return j in x._cache||(P=_(j),x._cache[j]=P),new x(x._cache[j])},x}),I.define("select2/diacritics",[],function(){return{"":"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A","":"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B",:"B",:"B",:"B",:"B","":"B",:"B",:"B","":"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C","":"C","":"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D","":"D",:"DZ",:"DZ",:"Dz",:"Dz","":"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"F",:"F",:"F",:"F","":"F","":"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G","":"G","":"G","":"G","":"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H","":"H","":"H","":"H","":"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"J",:"J",:"J","":"J","":"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K","":"K","":"K","":"K","":"K","":"K","":"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L",:"LJ",:"Lj","":"M",:"M",:"M",:"M",:"M","":"M",:"M","":"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N","":"N","":"N",:"NJ",:"Nj","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"OE",:"OI","":"OO",:"OU","":"P",:"P",:"P",:"P",:"P","":"P","":"P","":"P","":"P","":"Q",:"Q","":"Q","":"Q","":"Q","":"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"R","":"R","":"R","":"S",:"S","":"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S","":"S","":"S","":"S","":"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T","":"T","":"T","":"TZ","":"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"U","":"V",:"V",:"V",:"V",:"V","":"V","":"V","":"VY","":"W",:"W",:"W",:"W",:"W",:"W",:"W",:"W","":"W","":"X",:"X",:"X",:"X","":"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y","":"Y","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z","":"Z","":"Z","":"Z","":"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay","":"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b","":"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c","":"c","":"c","":"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d","":"d",:"dz",:"dz","":"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e",:"e","":"f",:"f",:"f",:"f","":"f","":"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g","":"g","":"g","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h","":"h","":"h",:"h",:"hv","":"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"j",:"j",:"j",:"j","":"j","":"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k","":"k","":"k","":"k","":"k","":"k","":"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l","":"l","":"l","":"l","":"l",:"lj","":"m",:"m",:"m",:"m",:"m",:"m",:"m","":"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"nj","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o",:"o",:"oe",:"oi",:"ou","":"oo","":"p",:"p",:"p",:"p",:"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q","":"q","":"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r","":"r","":"r","":"r","":"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"s","":"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t","":"t","":"t","":"tz","":"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"v",:"v",:"v",:"v",:"v","":"v",:"v","":"vy","":"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w","":"w","":"x",:"x",:"x",:"x","":"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y","":"y","":"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z","":"z","":"z","":"z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","":"'"}}),I.define("select2/data/base",["../utils"],function(k){function _(x,j){_.__super__.constructor.call(this)}return k.Extend(_,k.Observable),_.prototype.current=function(x){throw new Error("The `current` method must be defined in child classes.")},_.prototype.query=function(x,j){throw new Error("The `query` method must be defined in child classes.")},_.prototype.bind=function(x,j){},_.prototype.destroy=function(){},_.prototype.generateResultId=function(x,j){return x=x.id+"-result-",x+=k.generateChars(4),j.id!=null?x+="-"+j.id.toString():x+="-"+k.generateChars(4),x},_}),I.define("select2/data/select",["./base","../utils","jquery"],function(k,_,x){function j(P,E){this.$element=P,this.options=E,j.__super__.constructor.call(this)}return _.Extend(j,k),j.prototype.current=function(P){var E=this;P(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(U){return E.item(x(U))}))},j.prototype.select=function(P){var E,U=this;if(P.selected=!0,P.element!=null&&P.element.tagName.toLowerCase()==="option")return P.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(q){var G=[];(P=[P]).push.apply(P,q);for(var V=0;V<P.length;V++){var ee=P[V].id;G.indexOf(ee)===-1&&G.push(ee)}U.$element.val(G),U.$element.trigger("input").trigger("change")}):(E=P.id,this.$element.val(E),this.$element.trigger("input").trigger("change"))},j.prototype.unselect=function(P){var E=this;if(this.$element.prop("multiple")){if(P.selected=!1,P.element!=null&&P.element.tagName.toLowerCase()==="option")return P.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(U){for(var q=[],G=0;G<U.length;G++){var V=U[G].id;V!==P.id&&q.indexOf(V)===-1&&q.push(V)}E.$element.val(q),E.$element.trigger("input").trigger("change")})}},j.prototype.bind=function(P,E){var U=this;(this.container=P).on("select",function(q){U.select(q.data)}),P.on("unselect",function(q){U.unselect(q.data)})},j.prototype.destroy=function(){this.$element.find("*").each(function(){_.RemoveData(this)})},j.prototype.query=function(P,E){var U=[],q=this;this.$element.children().each(function(){var G;this.tagName.toLowerCase()!=="option"&&this.tagName.toLowerCase()!=="optgroup"||(G=x(this),G=q.item(G),(G=q.matches(P,G))!==null&&U.push(G))}),E({results:U})},j.prototype.addOptions=function(P){this.$element.append(P)},j.prototype.option=function(P){var E;return P.children?(E=document.createElement("optgroup")).label=P.text:(E=document.createElement("option")).textContent!==void 0?E.textContent=P.text:E.innerText=P.text,P.id!==void 0&&(E.value=P.id),P.disabled&&(E.disabled=!0),P.selected&&(E.selected=!0),P.title&&(E.title=P.title),P=this._normalizeItem(P),P.element=E,_.StoreData(E,"data",P),x(E)},j.prototype.item=function(P){var E={};if((E=_.GetData(P[0],"data"))!=null)return E;var U=P[0];if(U.tagName.toLowerCase()==="option")E={id:P.val(),text:P.text(),disabled:P.prop("disabled"),selected:P.prop("selected"),title:P.prop("title")};else if(U.tagName.toLowerCase()==="optgroup"){E={text:P.prop("label"),children:[],title:P.prop("title")};for(var q=P.children("option"),G=[],V=0;V<q.length;V++){var ee=x(q[V]),ee=this.item(ee);G.push(ee)}E.children=G}return(E=this._normalizeItem(E)).element=P[0],_.StoreData(P[0],"data",E),E},j.prototype._normalizeItem=function(P){return P!==Object(P)&&(P={id:P,text:P}),(P=x.extend({},{text:""},P)).id!=null&&(P.id=P.id.toString()),P.text!=null&&(P.text=P.text.toString()),P._resultId==null&&P.id&&this.container!=null&&(P._resultId=this.generateResultId(this.container,P)),x.extend({},{selected:!1,disabled:!1},P)},j.prototype.matches=function(P,E){return this.options.get("matcher")(P,E)},j}),I.define("select2/data/array",["./select","../utils","jquery"],function(k,_,x){function j(P,E){this._dataToConvert=E.get("data")||[],j.__super__.constructor.call(this,P,E)}return _.Extend(j,k),j.prototype.bind=function(P,E){j.__super__.bind.call(this,P,E),this.addOptions(this.convertToOptions(this._dataToConvert))},j.prototype.select=function(P){var E=this.$element.find("option").filter(function(U,q){return q.value==P.id.toString()});E.length===0&&(E=this.option(P),this.addOptions(E)),j.__super__.select.call(this,P)},j.prototype.convertToOptions=function(P){for(var E=this,U=this.$element.find("option"),q=U.map(function(){return E.item(x(this)).id}).get(),G=[],V=0;V<P.length;V++){var ee,le,Z=this._normalizeItem(P[V]);0<=q.indexOf(Z.id)?(ee=U.filter(function(M){return function(){return x(this).val()==M.id}}(Z)),le=this.item(ee),le=x.extend(!0,{},Z,le),le=this.option(le),ee.replaceWith(le)):(le=this.option(Z),Z.children&&(Z=this.convertToOptions(Z.children),le.append(Z)),G.push(le))}return G},j}),I.define("select2/data/ajax",["./array","../utils","jquery"],function(k,_,x){function j(P,E){this.ajaxOptions=this._applyDefaults(E.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),j.__super__.constructor.call(this,P,E)}return _.Extend(j,k),j.prototype._applyDefaults=function(P){var E={data:function(U){return x.extend({},U,{q:U.term})},transport:function(U,q,G){return U=x.ajax(U),U.then(q),U.fail(G),U}};return x.extend({},E,P,!0)},j.prototype.processResults=function(P){return P},j.prototype.query=function(P,E){var U=this;this._request!=null&&(typeof this._request.abort=="function"&&this._request.abort(),this._request=null);var q=x.extend({type:"GET"},this.ajaxOptions);function G(){var V=q.transport(q,function(ee){ee=U.processResults(ee,P),U.options.get("debug")&&window.console&&console.error&&(ee&&ee.results&&Array.isArray(ee.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),E(ee)},function(){"status"in V&&(V.status===0||V.status==="0")||U.trigger("results:message",{message:"errorLoading"})});U._request=V}typeof q.url=="function"&&(q.url=q.url.call(this.$element,P)),typeof q.data=="function"&&(q.data=q.data.call(this.$element,P)),this.ajaxOptions.delay&&P.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(G,this.ajaxOptions.delay)):G()},j}),I.define("select2/data/tags",["jquery"],function(k){function _(x,j,P){var E=P.get("tags"),U=P.get("createTag");if(U!==void 0&&(this.createTag=U),U=P.get("insertTag"),U!==void 0&&(this.insertTag=U),x.call(this,j,P),Array.isArray(E))for(var q=0;q<E.length;q++){var G=E[q],G=this._normalizeItem(G),G=this.option(G);this.$element.append(G)}}return _.prototype.query=function(x,j,P){var E=this;this._removeOldTags(),j.term!=null&&j.page==null?x.call(this,j,function U(q,G){for(var V=q.results,ee=0;ee<V.length;ee++){var le=V[ee],Z=le.children!=null&&!U({results:le.children},!0);if((le.text||"").toUpperCase()===(j.term||"").toUpperCase()||Z)return!G&&(q.data=V,void P(q))}if(G)return!0;var M,J=E.createTag(j);J!=null&&((M=E.option(J)).attr("data-select2-tag","true"),E.addOptions([M]),E.insertTag(V,J)),q.results=V,P(q)}):x.call(this,j,P)},_.prototype.createTag=function(x,j){return j.term==null?null:(j=j.term.trim(),j===""?null:{id:j,text:j})},_.prototype.insertTag=function(x,j,P){j.unshift(P)},_.prototype._removeOldTags=function(x){this.$element.find("option[data-select2-tag]").each(function(){this.selected||k(this).remove()})},_}),I.define("select2/data/tokenizer",["jquery"],function(k){function _(x,j,P){var E=P.get("tokenizer");E!==void 0&&(this.tokenizer=E),x.call(this,j,P)}return _.prototype.bind=function(x,j,P){x.call(this,j,P),this.$search=j.dropdown.$search||j.selection.$search||P.find(".select2-search__field")},_.prototype.query=function(x,j,P){var E=this;j.term=j.term||"";var U=this.tokenizer(j,this.options,function(q){var G,V=E._normalizeItem(q);E.$element.find("option").filter(function(){return k(this).val()===V.id}).length||((G=E.option(V)).attr("data-select2-tag",!0),E._removeOldTags(),E.addOptions([G])),G=V,E.trigger("select",{data:G})});U.term!==j.term&&(this.$search.length&&(this.$search.val(U.term),this.$search.trigger("focus")),j.term=U.term),x.call(this,j,P)},_.prototype.tokenizer=function(x,j,P,E){for(var U=P.get("tokenSeparators")||[],q=j.term,G=0,V=this.createTag||function(le){return{id:le.term,text:le.term}};G<q.length;){var ee=q[G];U.indexOf(ee)!==-1?(ee=q.substr(0,G),(ee=V(k.extend({},j,{term:ee})))!=null?(E(ee),q=q.substr(G+1)||"",G=0):G++):G++}return{term:q}},_}),I.define("select2/data/minimumInputLength",[],function(){function k(_,x,j){this.minimumInputLength=j.get("minimumInputLength"),_.call(this,x,j)}return k.prototype.query=function(_,x,j){x.term=x.term||"",x.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:x.term,params:x}}):_.call(this,x,j)},k}),I.define("select2/data/maximumInputLength",[],function(){function k(_,x,j){this.maximumInputLength=j.get("maximumInputLength"),_.call(this,x,j)}return k.prototype.query=function(_,x,j){x.term=x.term||"",0<this.maximumInputLength&&x.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:x.term,params:x}}):_.call(this,x,j)},k}),I.define("select2/data/maximumSelectionLength",[],function(){function k(_,x,j){this.maximumSelectionLength=j.get("maximumSelectionLength"),_.call(this,x,j)}return k.prototype.bind=function(_,x,j){var P=this;_.call(this,x,j),x.on("select",function(){P._checkIfMaximumSelected()})},k.prototype.query=function(_,x,j){var P=this;this._checkIfMaximumSelected(function(){_.call(P,x,j)})},k.prototype._checkIfMaximumSelected=function(_,x){var j=this;this.current(function(P){P=P!=null?P.length:0,0<j.maximumSelectionLength&&P>=j.maximumSelectionLength?j.trigger("results:message",{message:"maximumSelected",args:{maximum:j.maximumSelectionLength}}):x&&x()})},k}),I.define("select2/dropdown",["jquery","./utils"],function(k,_){function x(j,P){this.$element=j,this.options=P,x.__super__.constructor.call(this)}return _.Extend(x,_.Observable),x.prototype.render=function(){var j=k('<span class="select2-dropdown"><span class="select2-results"></span></span>');return j.attr("dir",this.options.get("dir")),this.$dropdown=j},x.prototype.bind=function(){},x.prototype.position=function(j,P){},x.prototype.destroy=function(){this.$dropdown.remove()},x}),I.define("select2/dropdown/search",["jquery"],function(k){function _(){}return _.prototype.render=function(E){var j=E.call(this),P=this.options.get("translations").get("search"),E=k('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=E,this.$search=E.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",P()),j.prepend(E),j},_.prototype.bind=function(x,j,P){var E=this,U=j.id+"-results";x.call(this,j,P),this.$search.on("keydown",function(q){E.trigger("keypress",q),E._keyUpPrevented=q.isDefaultPrevented()}),this.$search.on("input",function(q){k(this).off("keyup")}),this.$search.on("keyup input",function(q){E.handleSearch(q)}),j.on("open",function(){E.$search.attr("tabindex",0),E.$search.attr("aria-controls",U),E.$search.trigger("focus"),window.setTimeout(function(){E.$search.trigger("focus")},0)}),j.on("close",function(){E.$search.attr("tabindex",-1),E.$search.removeAttr("aria-controls"),E.$search.removeAttr("aria-activedescendant"),E.$search.val(""),E.$search.trigger("blur")}),j.on("focus",function(){j.isOpen()||E.$search.trigger("focus")}),j.on("results:all",function(q){q.query.term!=null&&q.query.term!==""||(E.showSearch(q)?E.$searchContainer[0].classList.remove("select2-search--hide"):E.$searchContainer[0].classList.add("select2-search--hide"))}),j.on("results:focus",function(q){q.data._resultId?E.$search.attr("aria-activedescendant",q.data._resultId):E.$search.removeAttr("aria-activedescendant")})},_.prototype.handleSearch=function(x){var j;this._keyUpPrevented||(j=this.$search.val(),this.trigger("query",{term:j})),this._keyUpPrevented=!1},_.prototype.showSearch=function(x,j){return!0},_}),I.define("select2/dropdown/hidePlaceholder",[],function(){function k(_,x,j,P){this.placeholder=this.normalizePlaceholder(j.get("placeholder")),_.call(this,x,j,P)}return k.prototype.append=function(_,x){x.results=this.removePlaceholder(x.results),_.call(this,x)},k.prototype.normalizePlaceholder=function(_,x){return x=typeof x=="string"?{id:"",text:x}:x},k.prototype.removePlaceholder=function(_,x){for(var j=x.slice(0),P=x.length-1;0<=P;P--){var E=x[P];this.placeholder.id===E.id&&j.splice(P,1)}return j},k}),I.define("select2/dropdown/infiniteScroll",["jquery"],function(k){function _(x,j,P,E){this.lastParams={},x.call(this,j,P,E),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return _.prototype.append=function(x,j){this.$loadingMore.remove(),this.loading=!1,x.call(this,j),this.showLoadingMore(j)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},_.prototype.bind=function(x,j,P){var E=this;x.call(this,j,P),j.on("query",function(U){E.lastParams=U,E.loading=!0}),j.on("query:append",function(U){E.lastParams=U,E.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},_.prototype.loadMoreIfNeeded=function(){var x=k.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&x&&(x=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=x+50&&this.loadMore())},_.prototype.loadMore=function(){this.loading=!0;var x=k.extend({},{page:1},this.lastParams);x.page++,this.trigger("query:append",x)},_.prototype.showLoadingMore=function(x,j){return j.pagination&&j.pagination.more},_.prototype.createLoadingMore=function(){var x=k('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),j=this.options.get("translations").get("loadingMore");return x.html(j(this.lastParams)),x},_}),I.define("select2/dropdown/attachBody",["jquery","../utils"],function(k,_){function x(j,P,E){this.$dropdownParent=k(E.get("dropdownParent")||document.body),j.call(this,P,E)}return x.prototype.bind=function(j,P,E){var U=this;j.call(this,P,E),P.on("open",function(){U._showDropdown(),U._attachPositioningHandler(P),U._bindContainerResultHandlers(P)}),P.on("close",function(){U._hideDropdown(),U._detachPositioningHandler(P)}),this.$dropdownContainer.on("mousedown",function(q){q.stopPropagation()})},x.prototype.destroy=function(j){j.call(this),this.$dropdownContainer.remove()},x.prototype.position=function(j,P,E){P.attr("class",E.attr("class")),P[0].classList.remove("select2"),P[0].classList.add("select2-container--open"),P.css({position:"absolute",top:-999999}),this.$container=E},x.prototype.render=function(E){var P=k("<span></span>"),E=E.call(this);return P.append(E),this.$dropdownContainer=P},x.prototype._hideDropdown=function(j){this.$dropdownContainer.detach()},x.prototype._bindContainerResultHandlers=function(j,P){var E;this._containerResultsHandlersBound||(E=this,P.on("results:all",function(){E._positionDropdown(),E._resizeDropdown()}),P.on("results:append",function(){E._positionDropdown(),E._resizeDropdown()}),P.on("results:message",function(){E._positionDropdown(),E._resizeDropdown()}),P.on("select",function(){E._positionDropdown(),E._resizeDropdown()}),P.on("unselect",function(){E._positionDropdown(),E._resizeDropdown()}),this._containerResultsHandlersBound=!0)},x.prototype._attachPositioningHandler=function(j,V){var E=this,U="scroll.select2."+V.id,q="resize.select2."+V.id,G="orientationchange.select2."+V.id,V=this.$container.parents().filter(_.hasScroll);V.each(function(){_.StoreData(this,"select2-scroll-position",{x:k(this).scrollLeft(),y:k(this).scrollTop()})}),V.on(U,function(ee){var le=_.GetData(this,"select2-scroll-position");k(this).scrollTop(le.y)}),k(window).on(U+" "+q+" "+G,function(ee){E._positionDropdown(),E._resizeDropdown()})},x.prototype._detachPositioningHandler=function(j,q){var E="scroll.select2."+q.id,U="resize.select2."+q.id,q="orientationchange.select2."+q.id;this.$container.parents().filter(_.hasScroll).off(E),k(window).off(E+" "+U+" "+q)},x.prototype._positionDropdown=function(){var ee=k(window),j=this.$dropdown[0].classList.contains("select2-dropdown--above"),P=this.$dropdown[0].classList.contains("select2-dropdown--below"),E=null,U=this.$container.offset();U.bottom=U.top+this.$container.outerHeight(!1);var q={height:this.$container.outerHeight(!1)};q.top=U.top,q.bottom=U.top+q.height;var G=this.$dropdown.outerHeight(!1),le=ee.scrollTop(),Z=ee.scrollTop()+ee.height(),V=le<U.top-G,ee=Z>U.bottom+G,le={left:U.left,top:q.bottom},Z=this.$dropdownParent;Z.css("position")==="static"&&(Z=Z.offsetParent()),U={top:0,left:0},(k.contains(document.body,Z[0])||Z[0].isConnected)&&(U=Z.offset()),le.top-=U.top,le.left-=U.left,j||P||(E="below"),ee||!V||j?!V&&ee&&j&&(E="below"):E="above",(E=="above"||j&&E!=="below")&&(le.top=q.top-U.top-G),E!=null&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+E),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+E)),this.$dropdownContainer.css(le)},x.prototype._resizeDropdown=function(){var j={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(j.minWidth=j.width,j.position="relative",j.width="auto"),this.$dropdown.css(j)},x.prototype._showDropdown=function(j){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},x}),I.define("select2/dropdown/minimumResultsForSearch",[],function(){function k(_,x,j,P){this.minimumResultsForSearch=j.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),_.call(this,x,j,P)}return k.prototype.showSearch=function(_,x){return!(function j(P){for(var E=0,U=0;U<P.length;U++){var q=P[U];q.children?E+=j(q.children):E++}return E}(x.data.results)<this.minimumResultsForSearch)&&_.call(this,x)},k}),I.define("select2/dropdown/selectOnClose",["../utils"],function(k){function _(){}return _.prototype.bind=function(x,j,P){var E=this;x.call(this,j,P),j.on("close",function(U){E._handleSelectOnClose(U)})},_.prototype._handleSelectOnClose=function(x,j){if(j&&j.originalSelect2Event!=null){var P=j.originalSelect2Event;if(P._type==="select"||P._type==="unselect")return}P=this.getHighlightedResults(),P.length<1||(P=k.GetData(P[0],"data")).element!=null&&P.element.selected||P.element==null&&P.selected||this.trigger("select",{data:P})},_}),I.define("select2/dropdown/closeOnSelect",[],function(){function k(){}return k.prototype.bind=function(_,x,j){var P=this;_.call(this,x,j),x.on("select",function(E){P._selectTriggered(E)}),x.on("unselect",function(E){P._selectTriggered(E)})},k.prototype._selectTriggered=function(_,x){var j=x.originalEvent;j&&(j.ctrlKey||j.metaKey)||this.trigger("close",{originalEvent:j,originalSelect2Event:x})},k}),I.define("select2/dropdown/dropdownCss",["../utils"],function(k){function _(){}return _.prototype.render=function(P){var j=P.call(this),P=this.options.get("dropdownCssClass")||"";return P.indexOf(":all:")!==-1&&(P=P.replace(":all:",""),k.copyNonInternalCssClasses(j[0],this.$element[0])),j.addClass(P),j},_}),I.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(k){function _(){}return _.prototype.highlightFirstItem=function(x){var j=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(0<j.length){var P=j.first(),j=k.GetData(P[0],"data").element;if(j&&j.getAttribute&&j.getAttribute("data-select2-tag")==="true")return void P.trigger("mouseenter")}x.call(this)},_}),I.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(x){var _=x.input.length-x.maximum,x="Please delete "+_+" character";return _!=1&&(x+="s"),x},inputTooShort:function(k){return"Please enter "+(k.minimum-k.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(k){var _="You can only select "+k.maximum+" item";return k.maximum!=1&&(_+="s"),_},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),I.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(k,_,x,j,P,E,U,q,G,V,ee,le,Z,M,J,te,de,ie,xe,we,me,Pe,qe,Je,rt,pt,Be,pe,vt,ct,Ze){function et(){this.reset()}return et.prototype.apply=function(se){var ve;(se=k.extend(!0,{},this.defaults,se)).dataAdapter==null&&(se.ajax!=null?se.dataAdapter=J:se.data!=null?se.dataAdapter=M:se.dataAdapter=Z,0<se.minimumInputLength&&(se.dataAdapter=V.Decorate(se.dataAdapter,ie)),0<se.maximumInputLength&&(se.dataAdapter=V.Decorate(se.dataAdapter,xe)),0<se.maximumSelectionLength&&(se.dataAdapter=V.Decorate(se.dataAdapter,we)),se.tags&&(se.dataAdapter=V.Decorate(se.dataAdapter,te)),se.tokenSeparators==null&&se.tokenizer==null||(se.dataAdapter=V.Decorate(se.dataAdapter,de))),se.resultsAdapter==null&&(se.resultsAdapter=_,se.ajax!=null&&(se.resultsAdapter=V.Decorate(se.resultsAdapter,Je)),se.placeholder!=null&&(se.resultsAdapter=V.Decorate(se.resultsAdapter,qe)),se.selectOnClose&&(se.resultsAdapter=V.Decorate(se.resultsAdapter,Be)),se.tags&&(se.resultsAdapter=V.Decorate(se.resultsAdapter,ct))),se.dropdownAdapter==null&&(se.multiple?se.dropdownAdapter=me:(ve=V.Decorate(me,Pe),se.dropdownAdapter=ve),se.minimumResultsForSearch!==0&&(se.dropdownAdapter=V.Decorate(se.dropdownAdapter,pt)),se.closeOnSelect&&(se.dropdownAdapter=V.Decorate(se.dropdownAdapter,pe)),se.dropdownCssClass!=null&&(se.dropdownAdapter=V.Decorate(se.dropdownAdapter,vt)),se.dropdownAdapter=V.Decorate(se.dropdownAdapter,rt)),se.selectionAdapter==null&&(se.multiple?se.selectionAdapter=j:se.selectionAdapter=x,se.placeholder!=null&&(se.selectionAdapter=V.Decorate(se.selectionAdapter,P)),se.allowClear&&(se.selectionAdapter=V.Decorate(se.selectionAdapter,E)),se.multiple&&(se.selectionAdapter=V.Decorate(se.selectionAdapter,U)),se.selectionCssClass!=null&&(se.selectionAdapter=V.Decorate(se.selectionAdapter,q)),se.selectionAdapter=V.Decorate(se.selectionAdapter,G)),se.language=this._resolveLanguage(se.language),se.language.push("en");for(var Ee=[],Qe=0;Qe<se.language.length;Qe++){var Me=se.language[Qe];Ee.indexOf(Me)===-1&&Ee.push(Me)}return se.language=Ee,se.translations=this._processTranslations(se.language,se.debug),se},et.prototype.reset=function(){function se(ve){return ve.replace(/[^\u0000-\u007E]/g,function(Ee){return le[Ee]||Ee})}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:V.escapeMarkup,language:{},matcher:function ve(Ee,Qe){if(Ee.term==null||Ee.term.trim()==="")return Qe;if(Qe.children&&0<Qe.children.length){for(var Me=k.extend(!0,{},Qe),at=Qe.children.length-1;0<=at;at--)ve(Ee,Qe.children[at])==null&&Me.children.splice(at,1);return 0<Me.children.length?Me:ve(Ee,Me)}var Nt=se(Qe.text).toUpperCase(),Rt=se(Ee.term).toUpperCase();return-1<Nt.indexOf(Rt)?Qe:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(ve){return ve},templateResult:function(ve){return ve.text},templateSelection:function(ve){return ve.text},theme:"default",width:"resolve"}},et.prototype.applyFromElement=function(se,at){var Ee=se.language,Qe=this.defaults.language,Me=at.prop("lang"),at=at.closest("[lang]").prop("lang"),at=Array.prototype.concat.call(this._resolveLanguage(Me),this._resolveLanguage(Ee),this._resolveLanguage(Qe),this._resolveLanguage(at));return se.language=at,se},et.prototype._resolveLanguage=function(se){if(!se)return[];if(k.isEmptyObject(se))return[];if(k.isPlainObject(se))return[se];for(var ve,Ee=Array.isArray(se)?se:[se],Qe=[],Me=0;Me<Ee.length;Me++)Qe.push(Ee[Me]),typeof Ee[Me]=="string"&&0<Ee[Me].indexOf("-")&&(ve=Ee[Me].split("-")[0],Qe.push(ve));return Qe},et.prototype._processTranslations=function(se,ve){for(var Ee=new ee,Qe=0;Qe<se.length;Qe++){var Me=new ee,at=se[Qe];if(typeof at=="string")try{Me=ee.loadPath(at)}catch{try{at=this.defaults.amdLanguageBase+at,Me=ee.loadPath(at)}catch{ve&&window.console&&console.warn&&console.warn('Select2: The language file for "'+at+'" could not be automatically loaded. A fallback will be used instead.')}}else Me=k.isPlainObject(at)?new ee(at):at;Ee.extend(Me)}return Ee},et.prototype.set=function(se,ve){var Ee={};Ee[k.camelCase(se)]=ve,Ee=V._convertData(Ee),k.extend(!0,this.defaults,Ee)},new et}),I.define("select2/options",["jquery","./defaults","./utils"],function(k,_,x){function j(P,E){this.options=P,E!=null&&this.fromElement(E),E!=null&&(this.options=_.applyFromElement(this.options,E)),this.options=_.apply(this.options)}return j.prototype.fromElement=function(P){var E=["select2"];this.options.multiple==null&&(this.options.multiple=P.prop("multiple")),this.options.disabled==null&&(this.options.disabled=P.prop("disabled")),this.options.autocomplete==null&&P.prop("autocomplete")&&(this.options.autocomplete=P.prop("autocomplete")),this.options.dir==null&&(P.prop("dir")?this.options.dir=P.prop("dir"):P.closest("[dir]").prop("dir")?this.options.dir=P.closest("[dir]").prop("dir"):this.options.dir="ltr"),P.prop("disabled",this.options.disabled),P.prop("multiple",this.options.multiple),x.GetData(P[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),x.StoreData(P[0],"data",x.GetData(P[0],"select2Tags")),x.StoreData(P[0],"tags",!0)),x.GetData(P[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),P.attr("ajax--url",x.GetData(P[0],"ajaxUrl")),x.StoreData(P[0],"ajax-Url",x.GetData(P[0],"ajaxUrl")));var U={};function q(M,J){return J.toUpperCase()}for(var G=0;G<P[0].attributes.length;G++){var V=P[0].attributes[G].name,ee="data-";V.substr(0,ee.length)==ee&&(V=V.substring(ee.length),ee=x.GetData(P[0],V),U[V.replace(/-([a-z])/g,q)]=ee)}k.fn.jquery&&k.fn.jquery.substr(0,2)=="1."&&P[0].dataset&&(U=k.extend(!0,{},P[0].dataset,U));var le,Z=k.extend(!0,{},x.GetData(P[0]),U);for(le in Z=x._convertData(Z))-1<E.indexOf(le)||(k.isPlainObject(this.options[le])?k.extend(this.options[le],Z[le]):this.options[le]=Z[le]);return this},j.prototype.get=function(P){return this.options[P]},j.prototype.set=function(P,E){this.options[P]=E},j}),I.define("select2/core",["jquery","./options","./utils","./keys"],function(k,_,x,j){var P=function(E,U){x.GetData(E[0],"select2")!=null&&x.GetData(E[0],"select2").destroy(),this.$element=E,this.id=this._generateId(E),U=U||{},this.options=new _(U,E),P.__super__.constructor.call(this);var q=E.attr("tabindex")||0;x.StoreData(E[0],"old-tabindex",q),E.attr("tabindex","-1"),U=this.options.get("dataAdapter"),this.dataAdapter=new U(E,this.options),q=this.render(),this._placeContainer(q),U=this.options.get("selectionAdapter"),this.selection=new U(E,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,q),U=this.options.get("dropdownAdapter"),this.dropdown=new U(E,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,q),q=this.options.get("resultsAdapter"),this.results=new q(E,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var G=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(V){G.trigger("selection:update",{data:V})}),E[0].classList.add("select2-hidden-accessible"),E.attr("aria-hidden","true"),this._syncAttributes(),x.StoreData(E[0],"select2",this),E.data("select2",this)};return x.Extend(P,x.Observable),P.prototype._generateId=function(E){return"select2-"+(E.attr("id")!=null?E.attr("id"):E.attr("name")!=null?E.attr("name")+"-"+x.generateChars(2):x.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},P.prototype._placeContainer=function(E){E.insertAfter(this.$element);var U=this._resolveWidth(this.$element,this.options.get("width"));U!=null&&E.css("width",U)},P.prototype._resolveWidth=function(E,U){var q=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(U=="resolve"){var G=this._resolveWidth(E,"style");return G??this._resolveWidth(E,"element")}if(U=="element")return G=E.outerWidth(!1),G<=0?"auto":G+"px";if(U!="style")return U!="computedstyle"?U:window.getComputedStyle(E[0]).width;if(E=E.attr("style"),typeof E!="string")return null;for(var V=E.split(";"),ee=0,le=V.length;ee<le;ee+=1){var Z=V[ee].replace(/\s/g,"").match(q);if(Z!==null&&1<=Z.length)return Z[1]}return null},P.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},P.prototype._registerDomEvents=function(){var E=this;this.$element.on("change.select2",function(){E.dataAdapter.current(function(U){E.trigger("selection:update",{data:U})})}),this.$element.on("focus.select2",function(U){E.trigger("focus",U)}),this._syncA=x.bind(this._syncAttributes,this),this._syncS=x.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(U){E._syncA(),E._syncS(U)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},P.prototype._registerDataEvents=function(){var E=this;this.dataAdapter.on("*",function(U,q){E.trigger(U,q)})},P.prototype._registerSelectionEvents=function(){var E=this,U=["toggle","focus"];this.selection.on("toggle",function(){E.toggleDropdown()}),this.selection.on("focus",function(q){E.focus(q)}),this.selection.on("*",function(q,G){U.indexOf(q)===-1&&E.trigger(q,G)})},P.prototype._registerDropdownEvents=function(){var E=this;this.dropdown.on("*",function(U,q){E.trigger(U,q)})},P.prototype._registerResultsEvents=function(){var E=this;this.results.on("*",function(U,q){E.trigger(U,q)})},P.prototype._registerEvents=function(){var E=this;this.on("open",function(){E.$container[0].classList.add("select2-container--open")}),this.on("close",function(){E.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){E.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){E.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){E.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(U){E.isOpen()||E.trigger("open",{}),this.dataAdapter.query(U,function(q){E.trigger("results:all",{data:q,query:U})})}),this.on("query:append",function(U){this.dataAdapter.query(U,function(q){E.trigger("results:append",{data:q,query:U})})}),this.on("keypress",function(U){var q=U.which;E.isOpen()?q===j.ESC||q===j.UP&&U.altKey?(E.close(U),U.preventDefault()):q===j.ENTER||q===j.TAB?(E.trigger("results:select",{}),U.preventDefault()):q===j.SPACE&&U.ctrlKey?(E.trigger("results:toggle",{}),U.preventDefault()):q===j.UP?(E.trigger("results:previous",{}),U.preventDefault()):q===j.DOWN&&(E.trigger("results:next",{}),U.preventDefault()):(q===j.ENTER||q===j.SPACE||q===j.DOWN&&U.altKey)&&(E.open(),U.preventDefault())})},P.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},P.prototype._isChangeMutation=function(E){var U=this;if(E.addedNodes&&0<E.addedNodes.length){for(var q=0;q<E.addedNodes.length;q++)if(E.addedNodes[q].selected)return!0}else{if(E.removedNodes&&0<E.removedNodes.length)return!0;if(Array.isArray(E))return E.some(function(G){return U._isChangeMutation(G)})}return!1},P.prototype._syncSubtree=function(U){var U=this._isChangeMutation(U),q=this;U&&this.dataAdapter.current(function(G){q.trigger("selection:update",{data:G})})},P.prototype.trigger=function(E,U){var q=P.__super__.trigger,G={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(U===void 0&&(U={}),E in G){var V=G[E],G={prevented:!1,name:E,args:U};if(q.call(this,V,G),G.prevented)return void(U.prevented=!0)}q.call(this,E,U)},P.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},P.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},P.prototype.close=function(E){this.isOpen()&&this.trigger("close",{originalEvent:E})},P.prototype.isEnabled=function(){return!this.isDisabled()},P.prototype.isDisabled=function(){return this.options.get("disabled")},P.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},P.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},P.prototype.focus=function(E){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},P.prototype.enable=function(E){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),E=!(E=E==null||E.length===0?[!0]:E)[0],this.$element.prop("disabled",E)},P.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var E=[];return this.dataAdapter.current(function(U){E=U}),E},P.prototype.val=function(E){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),E==null||E.length===0)return this.$element.val();E=E[0],Array.isArray(E)&&(E=E.map(function(U){return U.toString()})),this.$element.val(E).trigger("input").trigger("change")},P.prototype.destroy=function(){x.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",x.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),x.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},P.prototype.render=function(){var E=k('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return E.attr("dir",this.options.get("dir")),this.$container=E,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),x.StoreData(E[0],"element",this.$element),E},P}),I.define("select2/dropdown/attachContainer",[],function(){function k(_,x,j){_.call(this,x,j)}return k.prototype.position=function(_,x,j){j.find(".dropdown-wrapper").append(x),x[0].classList.add("select2-dropdown--below"),j[0].classList.add("select2-container--below")},k}),I.define("select2/dropdown/stopPropagation",[],function(){function k(){}return k.prototype.bind=function(_,x,j){_.call(this,x,j),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(P){P.stopPropagation()})},k}),I.define("select2/selection/stopPropagation",[],function(){function k(){}return k.prototype.bind=function(_,x,j){_.call(this,x,j),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(P){P.stopPropagation()})},k}),b=function(k){var _,x,j=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],P="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],E=Array.prototype.slice;if(k.event.fixHooks)for(var U=j.length;U;)k.event.fixHooks[j[--U]]=k.event.mouseHooks;var q=k.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var le=P.length;le;)this.addEventListener(P[--le],G,!1);else this.onmousewheel=G;k.data(this,"mousewheel-line-height",q.getLineHeight(this)),k.data(this,"mousewheel-page-height",q.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var le=P.length;le;)this.removeEventListener(P[--le],G,!1);else this.onmousewheel=null;k.removeData(this,"mousewheel-line-height"),k.removeData(this,"mousewheel-page-height")},getLineHeight:function(M){var Z=k(M),M=Z["offsetParent"in k.fn?"offsetParent":"parent"]();return M.length||(M=k("body")),parseInt(M.css("fontSize"),10)||parseInt(Z.css("fontSize"),10)||16},getPageHeight:function(le){return k(le).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function G(le){var Z,M=le||window.event,J=E.call(arguments,1),te=0,de=0,ie=0,xe=0,we=0,me=0;if(le=k.event.fix(M),le.type="mousewheel","detail"in M&&(ie=-1*M.detail),"wheelDelta"in M&&(ie=M.wheelDelta),"wheelDeltaY"in M&&(ie=M.wheelDeltaY),"wheelDeltaX"in M&&(de=-1*M.wheelDeltaX),"axis"in M&&M.axis===M.HORIZONTAL_AXIS&&(de=-1*ie,ie=0),te=ie===0?de:ie,"deltaY"in M&&(te=ie=-1*M.deltaY),"deltaX"in M&&(de=M.deltaX,ie===0&&(te=-1*de)),ie!==0||de!==0)return M.deltaMode===1?(te*=Z=k.data(this,"mousewheel-line-height"),ie*=Z,de*=Z):M.deltaMode===2&&(te*=Z=k.data(this,"mousewheel-page-height"),ie*=Z,de*=Z),xe=Math.max(Math.abs(ie),Math.abs(de)),(!x||xe<x)&&ee(M,x=xe)&&(x/=40),ee(M,xe)&&(te/=40,de/=40,ie/=40),te=Math[1<=te?"floor":"ceil"](te/x),de=Math[1<=de?"floor":"ceil"](de/x),ie=Math[1<=ie?"floor":"ceil"](ie/x),q.settings.normalizeOffset&&this.getBoundingClientRect&&(xe=this.getBoundingClientRect(),we=le.clientX-xe.left,me=le.clientY-xe.top),le.deltaX=de,le.deltaY=ie,le.deltaFactor=x,le.offsetX=we,le.offsetY=me,le.deltaMode=0,J.unshift(le,te,de,ie),_&&clearTimeout(_),_=setTimeout(V,200),(k.event.dispatch||k.event.handle).apply(this,J)}function V(){x=null}function ee(le,Z){return q.settings.adjustOldDeltas&&le.type==="mousewheel"&&Z%120==0}k.fn.extend({mousewheel:function(le){return le?this.bind("mousewheel",le):this.trigger("mousewheel")},unmousewheel:function(le){return this.unbind("mousewheel",le)}})},typeof I.define=="function"&&I.define.amd?I.define("jquery-mousewheel",["jquery"],b):t.exports=b,I.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(k,_,x,j,P){var E;return k.fn.select2==null&&(E=["open","close","destroy"],k.fn.select2=function(U){if(typeof(U=U||{})=="object")return this.each(function(){var V=k.extend(!0,{},U);new x(k(this),V)}),this;if(typeof U!="string")throw new Error("Invalid arguments for Select2: "+U);var q,G=Array.prototype.slice.call(arguments,1);return this.each(function(){var V=P.GetData(this,"select2");V==null&&window.console&&console.error&&console.error("The select2('"+U+"') method was called on an element that is not using Select2."),q=V[U].apply(V,G)}),-1<E.indexOf(U)?this:q}),k.fn.select2.defaults==null&&(k.fn.select2.defaults=j),x}),{define:I.define,require:I.require});function S(k,_){return w.call(k,_)}function R(k,_){var x,j,P,E,U,q,G,V,ee,le,Z=_&&_.split("/"),M=y.map,J=M&&M["*"]||{};if(k){for(_=(k=k.split("/")).length-1,y.nodeIdCompat&&A.test(k[_])&&(k[_]=k[_].replace(A,"")),k[0].charAt(0)==="."&&Z&&(k=Z.slice(0,Z.length-1).concat(k)),V=0;V<k.length;V++)(le=k[V])==="."?(k.splice(V,1),--V):le===".."&&(V===0||V===1&&k[2]===".."||k[V-1]===".."||0<V&&(k.splice(V-1,2),V-=2));k=k.join("/")}if((Z||J)&&M){for(V=(x=k.split("/")).length;0<V;--V){if(j=x.slice(0,V).join("/"),Z){for(ee=Z.length;0<ee;--ee)if(P=M[Z.slice(0,ee).join("/")],P=P&&P[j]){E=P,U=V;break}}if(E)break;!q&&J&&J[j]&&(q=J[j],G=V)}!E&&q&&(E=q,U=G),E&&(x.splice(0,U,E),k=x.join("/"))}return k}function W(k,_){return function(){var x=v.call(arguments,0);return typeof x[0]!="string"&&x.length===1&&x.push(null),c.apply(o,x.concat([k,_]))}}function z(k){var _;if(S(h,k)&&(_=h[k],delete h[k],m[k]=!0,i.apply(o,_)),!S(u,k)&&!S(m,k))throw new Error("No "+k);return u[k]}function B(k){var _,x=k?k.indexOf("!"):-1;return-1<x&&(_=k.substring(0,x),k=k.substring(x+1,k.length)),[_,k]}function g(k){return k?B(k):[]}var I=b.require("jquery.select2");return r.fn.select2.amd=b,I})})(NV);function SV({isOpen:t,onClose:e,entry:r}){if(!t)return null;const n=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),a=o=>o?new Date(o).toLocaleDateString("pt-BR"):"-";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-xl w-full max-w-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-secondary-200 dark:border-secondary-700 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-secondary-900 dark:text-white",children:"Detalhes do Lanamento"}),s.jsx("button",{onClick:e,className:"text-secondary-500 hover:text-secondary-700 dark:text-secondary-400 dark:hover:text-secondary-300 rounded-full p-1 hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors",children:s.jsx(Wt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 pb-4 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:r.description}),s.jsxs("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm",children:["ID: ",r.id]})]}),s.jsx("div",{className:`text-xl font-bold ${r.value<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:n(r.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Md,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Data do Lanamento"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:a(r.date)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Md,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Data de Competncia"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:a(r.competenceDate)})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Dv,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Valor"}),s.jsx("p",{className:`font-medium ${r.value<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:n(r.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(m4,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"CNPJ"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.cnpj||"-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(um,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Conta Bancria"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.bankAccount||"-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(_l,{className:"h-5 w-5 text-primary-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300",children:"Categoria"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.category||"-"})]})]})]})]}),s.jsxs("div",{className:"pt-2 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Beneficirio/Cliente"}),s.jsx("p",{className:"text-secondary-900 dark:text-white",children:r.beneficiary||"-"})]}),r.attachments&&r.attachments.length>0&&s.jsxs("div",{className:"pt-2 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("p",{className:"text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-2",children:"Anexos"}),s.jsx("div",{className:"space-y-2",children:r.attachments.map((o,i)=>s.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-2 bg-secondary-50 dark:bg-secondary-700 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(_l,{className:"h-5 w-5 text-primary-500 mr-2"}),s.jsxs("span",{className:"text-secondary-900 dark:text-white text-sm",children:["Anexo ",i+1]})]},i))})]})]}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-secondary-200 dark:border-secondary-700 flex justify-end",children:s.jsx("button",{onClick:e,className:"px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:"Fechar"})})]})})}function Er(t){"@babel/helpers - typeof";return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(t)}var ba=Uint8Array,us=Uint16Array,Iw=Int32Array,tg=new ba([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rg=new ba([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mb=new ba([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XC=function(t,e){for(var r=new us(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new Iw(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)a[o]=o-r[n]<<5|n;return{b:r,r:a}},QC=XC(tg,2),ZC=QC.b,gb=QC.r;ZC[28]=258,gb[258]=28;var e6=XC(rg,0),CV=e6.b,dk=e6.r,yb=new us(32768);for(var Kr=0;Kr<32768;++Kr){var Xi=(Kr&43690)>>1|(Kr&21845)<<1;Xi=(Xi&52428)>>2|(Xi&13107)<<2,Xi=(Xi&61680)>>4|(Xi&3855)<<4,yb[Kr]=((Xi&65280)>>8|(Xi&255)<<8)>>1}var Uo=function(t,e,r){for(var n=t.length,a=0,o=new us(e);a<n;++a)t[a]&&++o[t[a]-1];var i=new us(e);for(a=1;a<e;++a)i[a]=i[a-1]+o[a-1]<<1;var c;if(r){c=new us(1<<e);var l=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=i[t[a]-1]++<<u,y=h|(1<<u)-1;h<=y;++h)c[yb[h]>>l]=d}else for(c=new us(n),a=0;a<n;++a)t[a]&&(c[a]=yb[i[t[a]-1]++]>>15-t[a]);return c},El=new ba(288);for(var Kr=0;Kr<144;++Kr)El[Kr]=8;for(var Kr=144;Kr<256;++Kr)El[Kr]=9;for(var Kr=256;Kr<280;++Kr)El[Kr]=7;for(var Kr=280;Kr<288;++Kr)El[Kr]=8;var Hf=new ba(32);for(var Kr=0;Kr<32;++Kr)Hf[Kr]=5;var _V=Uo(El,9,0),EV=Uo(El,9,1),AV=Uo(Hf,5,0),PV=Uo(Hf,5,1),Sy=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},eo=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Cy=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Rw=function(t){return(t+7)/8|0},t6=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ba(t.subarray(e,r))},LV=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],no=function(t,e,r){var n=new Error(e||LV[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,no),!r)throw n;return n},DV=function(t,e,r,n){var a=t.length,o=0;if(!a||e.f&&!e.l)return r||new ba(0);var i=!r,c=i||e.i!=2,l=e.i;i&&(r=new ba(a*3));var d=function(qe){var Je=r.length;if(qe>Je){var rt=new ba(Math.max(Je*2,qe));rt.set(r),r=rt}},u=e.f||0,h=e.p||0,y=e.b||0,m=e.l,w=e.d,v=e.m,A=e.n,b=a*8;do{if(!m){u=eo(t,h,1);var S=eo(t,h+1,3);if(h+=3,S)if(S==1)m=EV,w=PV,v=9,A=5;else if(S==2){var B=eo(t,h,31)+257,g=eo(t,h+10,15)+4,I=B+eo(t,h+5,31)+1;h+=14;for(var k=new ba(I),_=new ba(19),x=0;x<g;++x)_[mb[x]]=eo(t,h+x*3,7);h+=g*3;for(var j=Sy(_),P=(1<<j)-1,E=Uo(_,j,1),x=0;x<I;){var U=E[eo(t,h,P)];h+=U&15;var R=U>>4;if(R<16)k[x++]=R;else{var q=0,G=0;for(R==16?(G=3+eo(t,h,3),h+=2,q=k[x-1]):R==17?(G=3+eo(t,h,7),h+=3):R==18&&(G=11+eo(t,h,127),h+=7);G--;)k[x++]=q}}var V=k.subarray(0,B),ee=k.subarray(B);v=Sy(V),A=Sy(ee),m=Uo(V,v,1),w=Uo(ee,A,1)}else no(1);else{var R=Rw(h)+4,W=t[R-4]|t[R-3]<<8,z=R+W;if(z>a){l&&no(0);break}c&&d(y+W),r.set(t.subarray(R,z),y),e.b=y+=W,e.p=h=z*8,e.f=u;continue}if(h>b){l&&no(0);break}}c&&d(y+131072);for(var le=(1<<v)-1,Z=(1<<A)-1,M=h;;M=h){var q=m[Cy(t,h)&le],J=q>>4;if(h+=q&15,h>b){l&&no(0);break}if(q||no(2),J<256)r[y++]=J;else if(J==256){M=h,m=null;break}else{var te=J-254;if(J>264){var x=J-257,de=tg[x];te=eo(t,h,(1<<de)-1)+ZC[x],h+=de}var ie=w[Cy(t,h)&Z],xe=ie>>4;ie||no(3),h+=ie&15;var ee=CV[xe];if(xe>3){var de=rg[xe];ee+=Cy(t,h)&(1<<de)-1,h+=de}if(h>b){l&&no(0);break}c&&d(y+131072);var we=y+te;if(y<ee){var me=o-ee,Pe=Math.min(ee,we);for(me+y<0&&no(3);y<Pe;++y)r[y]=n[me+y]}for(;y<we;++y)r[y]=r[y-ee]}}e.l=m,e.p=M,e.b=y,e.f=u,m&&(u=1,e.m=v,e.d=w,e.n=A)}while(!u);return y!=r.length&&i?t6(r,0,y):r.subarray(0,y)},si=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},zu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},_y=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,o=r.slice();if(!a)return{t:n6,l:0};if(a==1){var i=new ba(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(z,B){return z.f-B.f}),r.push({s:-1,f:25001});var c=r[0],l=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:c.f+l.f,l:c,r:l};u!=a-1;)c=r[r[d].f<r[h].f?d++:h++],l=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:c.f+l.f,l:c,r:l};for(var y=o[0].s,n=1;n<a;++n)o[n].s>y&&(y=o[n].s);var m=new us(y+1),w=xb(r[u-1],m,0);if(w>e){var n=0,v=0,A=w-e,b=1<<A;for(o.sort(function(B,g){return m[g.s]-m[B.s]||B.f-g.f});n<a;++n){var S=o[n].s;if(m[S]>e)v+=b-(1<<w-m[S]),m[S]=e;else break}for(v>>=A;v>0;){var R=o[n].s;m[R]<e?v-=1<<e-m[R]++-1:++n}for(;n>=0&&v;--n){var W=o[n].s;m[W]==e&&(--m[W],++v)}w=e}return{t:new ba(m),l:w}},xb=function(t,e,r){return t.s==-1?Math.max(xb(t.l,e,r+1),xb(t.r,e,r+1)):e[t.s]=r},uk=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new us(++e),n=0,a=t[0],o=1,i=function(l){r[n++]=l},c=1;c<=e;++c)if(t[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(a),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(a);o=1,a=t[c]}return{c:r.subarray(0,n),n:e}},Vu=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},r6=function(t,e,r){var n=r.length,a=Rw(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var o=0;o<n;++o)t[a+o+4]=r[o];return(a+4+n)*8},fk=function(t,e,r,n,a,o,i,c,l,d,u){si(e,u++,r),++a[256];for(var h=_y(a,15),y=h.t,m=h.l,w=_y(o,15),v=w.t,A=w.l,b=uk(y),S=b.c,R=b.n,W=uk(v),z=W.c,B=W.n,g=new us(19),I=0;I<S.length;++I)++g[S[I]&31];for(var I=0;I<z.length;++I)++g[z[I]&31];for(var k=_y(g,7),_=k.t,x=k.l,j=19;j>4&&!_[mb[j-1]];--j);var P=d+5<<3,E=Vu(a,El)+Vu(o,Hf)+i,U=Vu(a,y)+Vu(o,v)+i+14+3*j+Vu(g,_)+2*g[16]+3*g[17]+7*g[18];if(l>=0&&P<=E&&P<=U)return r6(e,u,t.subarray(l,l+d));var q,G,V,ee;if(si(e,u,1+(U<E)),u+=2,U<E){q=Uo(y,m,0),G=y,V=Uo(v,A,0),ee=v;var le=Uo(_,x,0);si(e,u,R-257),si(e,u+5,B-1),si(e,u+10,j-4),u+=14;for(var I=0;I<j;++I)si(e,u+3*I,_[mb[I]]);u+=3*j;for(var Z=[S,z],M=0;M<2;++M)for(var J=Z[M],I=0;I<J.length;++I){var te=J[I]&31;si(e,u,le[te]),u+=_[te],te>15&&(si(e,u,J[I]>>5&127),u+=J[I]>>12)}}else q=_V,G=El,V=AV,ee=Hf;for(var I=0;I<c;++I){var de=n[I];if(de>255){var te=de>>18&31;zu(e,u,q[te+257]),u+=G[te+257],te>7&&(si(e,u,de>>23&31),u+=tg[te]);var ie=de&31;zu(e,u,V[ie]),u+=ee[ie],ie>3&&(zu(e,u,de>>5&8191),u+=rg[ie])}else zu(e,u,q[de]),u+=G[de]}return zu(e,u,q[256]),u+G[256]},IV=new Iw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),n6=new ba(0),RV=function(t,e,r,n,a,o){var i=o.z||t.length,c=new ba(n+i+5*(1+Math.ceil(i/7e3))+a),l=c.subarray(n,c.length-a),d=o.l,u=(o.r||0)&7;if(e){u&&(l[0]=o.r>>3);for(var h=IV[e-1],y=h>>13,m=h&8191,w=(1<<r)-1,v=o.p||new us(32768),A=o.h||new us(w+1),b=Math.ceil(r/3),S=2*b,R=function(pt){return(t[pt]^t[pt+1]<<b^t[pt+2]<<S)&w},W=new Iw(25e3),z=new us(288),B=new us(32),g=0,I=0,k=o.i||0,_=0,x=o.w||0,j=0;k+2<i;++k){var P=R(k),E=k&32767,U=A[P];if(v[E]=U,A[P]=E,x<=k){var q=i-k;if((g>7e3||_>24576)&&(q>423||!d)){u=fk(t,l,0,W,z,B,I,_,j,k-j,u),_=g=I=0,j=k;for(var G=0;G<286;++G)z[G]=0;for(var G=0;G<30;++G)B[G]=0}var V=2,ee=0,le=m,Z=E-U&32767;if(q>2&&P==R(k-Z))for(var M=Math.min(y,q)-1,J=Math.min(32767,k),te=Math.min(258,q);Z<=J&&--le&&E!=U;){if(t[k+V]==t[k+V-Z]){for(var de=0;de<te&&t[k+de]==t[k+de-Z];++de);if(de>V){if(V=de,ee=Z,de>M)break;for(var ie=Math.min(Z,de-2),xe=0,G=0;G<ie;++G){var we=k-Z+G&32767,me=v[we],Pe=we-me&32767;Pe>xe&&(xe=Pe,U=we)}}}E=U,U=v[E],Z+=E-U&32767}if(ee){W[_++]=268435456|gb[V]<<18|dk[ee];var qe=gb[V]&31,Je=dk[ee]&31;I+=tg[qe]+rg[Je],++z[257+qe],++B[Je],x=k+V,++g}else W[_++]=t[k],++z[t[k]]}}for(k=Math.max(k,x);k<i;++k)W[_++]=t[k],++z[t[k]];u=fk(t,l,d,W,z,B,I,_,j,k-j,u),d||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=A,o.p=v,o.i=k,o.w=x)}else{for(var k=o.w||0;k<i+d;k+=65535){var rt=k+65535;rt>=i&&(l[u/8|0]=d,rt=i),u=r6(l,u+1,t.subarray(k,rt))}o.i=i}return t6(c,0,n+Rw(u)+a)},a6=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,o=r.length|0,i=0;i!=o;){for(var c=Math.min(i+2655,o);i<c;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},TV=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),i=new ba(o.length+t.length);i.set(o),i.set(t,o.length),t=i,a.w=o.length}return RV(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},s6=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},OV=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=a6();a.p(e.dictionary),s6(t,2,a.d())}},MV=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&no(6,"invalid zlib data"),(t[1]>>5&1)==1&&no(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function bb(t,e){e||(e={});var r=a6();r.p(t);var n=TV(t,e,e.dictionary?6:2,4);return OV(n,e),s6(n,n.length-4,r.d()),n}function FV(t,e){return DV(t.subarray(MV(t),-4),{i:2},e,e)}var BV=typeof TextDecoder<"u"&&new TextDecoder,$V=0;try{BV.decode(n6,{stream:!0}),$V=1}catch{}var qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ey(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var Br={log:Ey,warn:function(t){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):Ey.call(null,arguments))},error:function(t){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):Ey(t))}};function Ay(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Yl(n.response,e,r)},n.onerror=function(){Br.error("could not download file")},n.send()}function hk(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var mf,vb,Yl=qt.saveAs||((typeof window>"u"?"undefined":Er(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=qt.URL||qt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?hk(a.href)?Ay(t,e,r):hp(a,a.target="_blank"):hp(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){hp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(hk(t))Ay(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){hp(n)})}else navigator.msSaveOrOpenBlob(function(a,o){return o===void 0?o={autoBom:!1}:Er(o)!=="object"&&(Br.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ay(t,e,r);var a=t.type==="application/octet-stream",o=/constructor/i.test(qt.HTMLElement)||qt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&o)&&(typeof FileReader>"u"?"undefined":Er(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var u=c.result;u=i?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},c.readAsDataURL(t)}else{var l=qt.URL||qt.webkitURL,d=l.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function o6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,o=r[n].process,i=a.exec(t);i&&(e=o(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+c+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Py(t,e){var r=t[0],n=t[1],a=t[2],o=t[3];r=fa(r,n,a,o,e[0],7,-680876936),o=fa(o,r,n,a,e[1],12,-389564586),a=fa(a,o,r,n,e[2],17,606105819),n=fa(n,a,o,r,e[3],22,-1044525330),r=fa(r,n,a,o,e[4],7,-176418897),o=fa(o,r,n,a,e[5],12,1200080426),a=fa(a,o,r,n,e[6],17,-1473231341),n=fa(n,a,o,r,e[7],22,-45705983),r=fa(r,n,a,o,e[8],7,1770035416),o=fa(o,r,n,a,e[9],12,-1958414417),a=fa(a,o,r,n,e[10],17,-42063),n=fa(n,a,o,r,e[11],22,-1990404162),r=fa(r,n,a,o,e[12],7,1804603682),o=fa(o,r,n,a,e[13],12,-40341101),a=fa(a,o,r,n,e[14],17,-1502002290),r=ha(r,n=fa(n,a,o,r,e[15],22,1236535329),a,o,e[1],5,-165796510),o=ha(o,r,n,a,e[6],9,-1069501632),a=ha(a,o,r,n,e[11],14,643717713),n=ha(n,a,o,r,e[0],20,-373897302),r=ha(r,n,a,o,e[5],5,-701558691),o=ha(o,r,n,a,e[10],9,38016083),a=ha(a,o,r,n,e[15],14,-660478335),n=ha(n,a,o,r,e[4],20,-405537848),r=ha(r,n,a,o,e[9],5,568446438),o=ha(o,r,n,a,e[14],9,-1019803690),a=ha(a,o,r,n,e[3],14,-187363961),n=ha(n,a,o,r,e[8],20,1163531501),r=ha(r,n,a,o,e[13],5,-1444681467),o=ha(o,r,n,a,e[2],9,-51403784),a=ha(a,o,r,n,e[7],14,1735328473),r=pa(r,n=ha(n,a,o,r,e[12],20,-1926607734),a,o,e[5],4,-378558),o=pa(o,r,n,a,e[8],11,-2022574463),a=pa(a,o,r,n,e[11],16,1839030562),n=pa(n,a,o,r,e[14],23,-35309556),r=pa(r,n,a,o,e[1],4,-1530992060),o=pa(o,r,n,a,e[4],11,1272893353),a=pa(a,o,r,n,e[7],16,-155497632),n=pa(n,a,o,r,e[10],23,-1094730640),r=pa(r,n,a,o,e[13],4,681279174),o=pa(o,r,n,a,e[0],11,-358537222),a=pa(a,o,r,n,e[3],16,-722521979),n=pa(n,a,o,r,e[6],23,76029189),r=pa(r,n,a,o,e[9],4,-640364487),o=pa(o,r,n,a,e[12],11,-421815835),a=pa(a,o,r,n,e[15],16,530742520),r=ma(r,n=pa(n,a,o,r,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ma(o,r,n,a,e[7],10,1126891415),a=ma(a,o,r,n,e[14],15,-1416354905),n=ma(n,a,o,r,e[5],21,-57434055),r=ma(r,n,a,o,e[12],6,1700485571),o=ma(o,r,n,a,e[3],10,-1894986606),a=ma(a,o,r,n,e[10],15,-1051523),n=ma(n,a,o,r,e[1],21,-2054922799),r=ma(r,n,a,o,e[8],6,1873313359),o=ma(o,r,n,a,e[15],10,-30611744),a=ma(a,o,r,n,e[6],15,-1560198380),n=ma(n,a,o,r,e[13],21,1309151649),r=ma(r,n,a,o,e[4],6,-145523070),o=ma(o,r,n,a,e[11],10,-1120210379),a=ma(a,o,r,n,e[2],15,718787259),n=ma(n,a,o,r,e[9],21,-343485551),t[0]=pl(r,t[0]),t[1]=pl(n,t[1]),t[2]=pl(a,t[2]),t[3]=pl(o,t[3])}function ng(t,e,r,n,a,o){return e=pl(pl(e,t),pl(n,o)),pl(e<<a|e>>>32-a,r)}function fa(t,e,r,n,a,o,i){return ng(e&r|~e&n,t,e,a,o,i)}function ha(t,e,r,n,a,o,i){return ng(e&n|r&~n,t,e,a,o,i)}function pa(t,e,r,n,a,o,i){return ng(e^r^n,t,e,a,o,i)}function ma(t,e,r,n,a,o,i){return ng(r^(e|~n),t,e,a,o,i)}function i6(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Py(n,qV(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Py(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Py(n,a),n}function qV(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}mf=qt.atob.bind(qt),vb=qt.btoa.bind(qt);var pk="0123456789abcdef".split("");function UV(t){for(var e="",r=0;r<4;r++)e+=pk[t>>8*r+4&15]+pk[t>>8*r&15];return e}function zV(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function wb(t){return i6(t).map(zV).join("")}var VV=function(t){for(var e=0;e<t.length;e++)t[e]=UV(t[e]);return t.join("")}(i6("hello"))!="5d41402abc4b2a76b9719d911017c592";function pl(t,e){if(VV){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kb(t,e){var r,n,a,o;if(t!==r){for(var i=(a=t,o=1+(256/t.length>>0),new Array(o+1).join(a)),c=[],l=0;l<256;l++)c[l]=l;var d=0;for(l=0;l<256;l++){var u=c[l];d=(d+u+i.charCodeAt(l))%256,c[l]=c[d],c[d]=u}r=t,n=c}else c=n;var h=e.length,y=0,m=0,w="";for(l=0;l<h;l++)m=(m+(u=c[y=(y+1)%256]))%256,c[y]=c[m],c[m]=u,i=c[(c[y]+c[m])%256],w+=String.fromCharCode(e.charCodeAt(l)^i);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mk={print:4,modify:8,copy:16,"annot-forms":32};function Qc(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(c){if(mk.perm!==void 0)throw new Error("Invalid permission: "+c);a+=mk[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,i),this.P=-(1+(255^a)),this.encryptionKey=wb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=kb(this.encryptionKey,this.padding)}function Zc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function gk(t){if(Er(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!a],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[r]){var i=e[r][o];try{i[0].apply(t,n)}catch(c){qt.console&&Br.error("jsPDF PubSub Error",c.message,c)}i[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function z0(t){if(!(this instanceof z0))return new z0(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function l6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ql(t,e,r,n,a){if(!(this instanceof Ql))return new Ql(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,l6.call(this,n,a)}function fd(t,e,r,n,a){if(!(this instanceof fd))return new fd(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,l6.call(this,n,a)}function Bt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],i=[],c=1,l=16,d="S",u=null;Er(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,o=t.compress||t.compressPdf||o,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),d=t.defaultPathOperation||"S"),i=t.filters||(o===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,y={},m={internal:{},__private__:{}};m.__private__.PubSub=gk;var w="1.3",v=m.__private__.getPdfVersion=function(){return w};m.__private__.setPdfVersion=function(L){w=L};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var b=m.__private__.getPageFormat=function(L){return A[L]};a=a||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},R=S.COMPAT;function W(){this.saveGraphicsState(),pe(new mt(dt,0,0,-dt,0,$t()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),d="n",R=S.ADVANCED}function z(){this.restoreGraphicsState(),d="S",R=S.COMPAT}var B=m.__private__.combineFontStyleAndFontWeight=function(L,X){if(L=="bold"&&X=="normal"||L=="bold"&&X==400||L=="normal"&&X=="italic"||L=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(L=X==400||X==="normal"?L==="italic"?"italic":"normal":X!=700&&X!=="bold"||L!=="normal"?(X==700?"bold":X)+""+L:"bold"),L};m.advancedAPI=function(L){var X=R===S.COMPAT;return X&&W.call(this),typeof L!="function"||(L(this),X&&z.call(this)),this},m.compatAPI=function(L){var X=R===S.ADVANCED;return X&&z.call(this),typeof L!="function"||(L(this),X&&W.call(this)),this},m.isAdvancedAPI=function(){return R===S.ADVANCED};var g,I=function(L){if(R!==S.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=m.roundToPrecision=m.__private__.roundToPrecision=function(L,X){var he=e||X;if(isNaN(L)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(he).replace(/0+$/,"")};g=m.hpf=m.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return k(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return k(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return k(L,16)};var _=m.f2=m.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return k(L,2)},x=m.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return k(L,3)},j=m.scale=m.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return R===S.COMPAT?L*dt:R===S.ADVANCED?L:void 0},P=function(L){return R===S.COMPAT?$t()-L:R===S.ADVANCED?L:void 0},E=function(L){return j(P(L))};m.__private__.setPrecision=m.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var U,q="00000000000000000000000000000000",G=m.__private__.getFileId=function(){return q},V=m.__private__.setFileId=function(L){return q=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Mn=new Qc(u.userPermissions,u.userPassword,u.ownerPassword,q)),q};m.setFileId=function(L){return V(L),this},m.getFileId=function(){return G()};var ee=m.__private__.convertDateToPDFDate=function(L){var X=L.getTimezoneOffset(),he=X<0?"+":"-",ye=Math.floor(Math.abs(X/60)),Ae=Math.abs(X%60),Ie=[he,te(ye),"'",te(Ae),"'"].join("");return["D:",L.getFullYear(),te(L.getMonth()+1),te(L.getDate()),te(L.getHours()),te(L.getMinutes()),te(L.getSeconds()),Ie].join("")},le=m.__private__.convertPDFDateToDate=function(L){var X=parseInt(L.substr(2,4),10),he=parseInt(L.substr(6,2),10)-1,ye=parseInt(L.substr(8,2),10),Ae=parseInt(L.substr(10,2),10),Ie=parseInt(L.substr(12,2),10),Ge=parseInt(L.substr(14,2),10);return new Date(X,he,ye,Ae,Ie,Ge,0)},Z=m.__private__.setCreationDate=function(L){var X;if(L===void 0&&(L=new Date),L instanceof Date)X=ee(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=L}return U=X},M=m.__private__.getCreationDate=function(L){var X=U;return L==="jsDate"&&(X=le(U)),X};m.setCreationDate=function(L){return Z(L),this},m.getCreationDate=function(L){return M(L)};var J,te=m.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},de=m.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ie=0,xe=[],we=[],me=0,Pe=[],qe=[],Je=!1,rt=we,pt=function(){ie=0,me=0,we=[],xe=[],Pe=[],la=Ir(),Za=Ir()};m.__private__.setCustomOutputDestination=function(L){Je=!0,rt=L};var Be=function(L){Je||(rt=L)};m.__private__.resetCustomOutputDestination=function(){Je=!1,rt=we};var pe=m.__private__.out=function(L){return L=L.toString(),me+=L.length+1,rt.push(L),rt},vt=m.__private__.write=function(L){return pe(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},ct=m.__private__.getArrayBuffer=function(L){for(var X=L.length,he=new ArrayBuffer(X),ye=new Uint8Array(he);X--;)ye[X]=L.charCodeAt(X);return he},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ze};var et=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(L){return et=R===S.ADVANCED?L/dt:L,this};var se,ve=m.__private__.getFontSize=m.getFontSize=function(){return R===S.COMPAT?et:et*dt},Ee=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(L){return Ee=L,this},m.__private__.getR2L=m.getR2L=function(){return Ee};var Qe,Me=m.__private__.setZoomMode=function(L){var X=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))se=L;else if(isNaN(L)){if(X.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');se=L}else se=parseInt(L,10)};m.__private__.getZoomMode=function(){return se};var at,Nt=m.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Qe=L};m.__private__.getPageMode=function(){return Qe};var Rt=m.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');at=L};m.__private__.getLayoutMode=function(){return at},m.__private__.setDisplayMode=m.setDisplayMode=function(L,X,he){return Me(L),Rt(X),Nt(he),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(L){if(Object.keys(St).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[L]},m.__private__.getDocumentProperties=function(){return St},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(L){for(var X in St)St.hasOwnProperty(X)&&L[X]&&(St[X]=L[X]);return this},m.__private__.setDocumentProperty=function(L,X){if(Object.keys(St).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[L]=X};var Kt,dt,Gr,Gt,pn,rr={},Sr={},ta=[],sr={},js={},qr={},Sn={},mr=null,tr=0,wt=[],Pt=new gk(m),lr=t.hotfixes||[],cr={},rn={},Cn=[],mt=function L(X,he,ye,Ae,Ie,Ge){if(!(this instanceof L))return new L(X,he,ye,Ae,Ie,Ge);isNaN(X)&&(X=1),isNaN(he)&&(he=0),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=1),isNaN(Ie)&&(Ie=0),isNaN(Ge)&&(Ge=0),this._matrix=[X,he,ye,Ae,Ie,Ge]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(g).join(L)},mt.prototype.multiply=function(L){var X=L.sx*this.sx+L.shy*this.shx,he=L.sx*this.shy+L.shy*this.sy,ye=L.shx*this.sx+L.sy*this.shx,Ae=L.shx*this.shy+L.sy*this.sy,Ie=L.tx*this.sx+L.ty*this.shx+this.tx,Ge=L.tx*this.shy+L.ty*this.sy+this.ty;return new mt(X,he,ye,Ae,Ie,Ge)},mt.prototype.decompose=function(){var L=this.sx,X=this.shy,he=this.shx,ye=this.sy,Ae=this.tx,Ie=this.ty,Ge=Math.sqrt(L*L+X*X),ft=(L/=Ge)*he+(X/=Ge)*ye;he-=L*ft,ye-=X*ft;var jt=Math.sqrt(he*he+ye*ye);return ft/=jt,L*(ye/=jt)<X*(he/=jt)&&(L=-L,X=-X,ft=-ft,Ge=-Ge),{scale:new mt(Ge,0,0,jt,0,0),translate:new mt(1,0,0,1,Ae,Ie),rotate:new mt(L,X,-X,L,0,0),skew:new mt(1,0,ft,1,0,0)}},mt.prototype.toString=function(L){return this.join(" ")},mt.prototype.inversed=function(){var L=this.sx,X=this.shy,he=this.shx,ye=this.sy,Ae=this.tx,Ie=this.ty,Ge=1/(L*ye-X*he),ft=ye*Ge,jt=-X*Ge,At=-he*Ge,Tt=L*Ge;return new mt(ft,jt,At,Tt,-ft*Ae-At*Ie,-jt*Ae-Tt*Ie)},mt.prototype.applyToPoint=function(L){var X=L.x*this.sx+L.y*this.shx+this.tx,he=L.x*this.shy+L.y*this.sy+this.ty;return new ge(X,he)},mt.prototype.applyToRectangle=function(L){var X=this.applyToPoint(L),he=this.applyToPoint(new ge(L.x+L.w,L.y+L.h));return new Se(X.x,X.y,he.x-X.x,he.y-X.y)},mt.prototype.clone=function(){var L=this.sx,X=this.shy,he=this.shx,ye=this.sy,Ae=this.tx,Ie=this.ty;return new mt(L,X,he,ye,Ae,Ie)},m.Matrix=mt;var Mr=m.matrixMult=function(L,X){return X.multiply(L)},Lr=new mt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Lr;var Dr=function(L,X){if(!js[L]){var he=(X instanceof Ql?"Sh":"P")+(Object.keys(sr).length+1).toString(10);X.id=he,js[L]=he,sr[he]=X,Pt.publish("addPattern",X)}};m.ShadingPattern=Ql,m.TilingPattern=fd,m.addShadingPattern=function(L,X){return I("addShadingPattern()"),Dr(L,X),this},m.beginTilingPattern=function(L){I("beginTilingPattern()"),We(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},m.endTilingPattern=function(L,X){I("endTilingPattern()"),X.stream=qe[J].join(`
`),Dr(L,X),Pt.publish("endTilingPattern",X),Cn.pop().restore()};var Nr=m.__private__.newObject=function(){var L=Ir();return Xr(L,!0),L},Ir=m.__private__.newObjectDeferred=function(){return ie++,xe[ie]=function(){return me},ie},Xr=function(L,X){return X=typeof X=="boolean"&&X,xe[L]=me,X&&pe(L+" 0 obj"),L},Ia=m.__private__.newAdditionalObject=function(){var L={objId:Ir(),content:""};return Pe.push(L),L},la=Ir(),Za=Ir(),es=m.__private__.decodeColorString=function(L){var X=L.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length===5&&(X[4]==="k"||X[4]==="K")&&(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var he=parseFloat(X[0]);X=[he,he,he,"r"]}for(var ye="#",Ae=0;Ae<3;Ae++)ye+=("0"+Math.floor(255*parseFloat(X[Ae])).toString(16)).slice(-2);return ye},Ra=m.__private__.encodeColorString=function(L){var X;typeof L=="string"&&(L={ch1:L});var he=L.ch1,ye=L.ch2,Ae=L.ch3,Ie=L.ch4,Ge=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var ft=new o6(he);if(ft.ok)he=ft.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var jt=parseInt(he.substr(1),16);he=jt>>16&255,ye=jt>>8&255,Ae=255&jt}if(ye===void 0||Ie===void 0&&he===ye&&ye===Ae)if(typeof he=="string")X=he+" "+Ge[0];else switch(L.precision){case 2:X=_(he/255)+" "+Ge[0];break;case 3:default:X=x(he/255)+" "+Ge[0]}else if(Ie===void 0||Er(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return X=["1.","1.","1.",Ge[1]].join(" ");if(typeof he=="string")X=[he,ye,Ae,Ge[1]].join(" ");else switch(L.precision){case 2:X=[_(he/255),_(ye/255),_(Ae/255),Ge[1]].join(" ");break;default:case 3:X=[x(he/255),x(ye/255),x(Ae/255),Ge[1]].join(" ")}}else if(typeof he=="string")X=[he,ye,Ae,Ie,Ge[2]].join(" ");else switch(L.precision){case 2:X=[_(he),_(ye),_(Ae),_(Ie),Ge[2]].join(" ");break;case 3:default:X=[x(he),x(ye),x(Ae),x(Ie),Ge[2]].join(" ")}return X},Ns=m.__private__.getFilters=function(){return i},Rn=m.__private__.putStream=function(L){var X=(L=L||{}).data||"",he=L.filters||Ns(),ye=L.alreadyAppliedFilters||[],Ae=L.addLength1||!1,Ie=X.length,Ge=L.objectId,ft=function(_n){return _n};if(u!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ft=Mn.encryptor(Ge,0));var jt={};he===!0&&(he=["FlateEncode"]);var At=L.additionalKeyValues||[],Tt=(jt=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(X,he):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(jt.data.length!==0&&(At.push({key:"Length",value:jt.data.length}),Ae===!0&&At.push({key:"Length1",value:Ie})),Tt.length!=0)if(Tt.split("/").length-1==1)At.push({key:"Filter",value:Tt});else{At.push({key:"Filter",value:"["+Tt+"]"});for(var Ht=0;Ht<At.length;Ht+=1)if(At[Ht].key==="DecodeParms"){for(var gr=[],xr=0;xr<jt.reverseChain.split("/").length-1;xr+=1)gr.push("null");gr.push(At[Ht].value),At[Ht].value="["+gr.join(" ")+"]"}}pe("<<");for(var fr=0;fr<At.length;fr++)pe("/"+At[fr].key+" "+At[fr].value);pe(">>"),jt.data.length!==0&&(pe("stream"),pe(ft(jt.data)),pe("endstream"))},ts=m.__private__.putPage=function(L){var X=L.number,he=L.data,ye=L.objId,Ae=L.contentsObjId;Xr(ye,!0),pe("<</Type /Page"),pe("/Parent "+L.rootDictionaryObjId+" 0 R"),pe("/Resources "+L.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(g(L.mediaBox.bottomLeftX))+" "+parseFloat(g(L.mediaBox.bottomLeftY))+" "+g(L.mediaBox.topRightX)+" "+g(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&pe("/CropBox ["+g(L.cropBox.bottomLeftX)+" "+g(L.cropBox.bottomLeftY)+" "+g(L.cropBox.topRightX)+" "+g(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&pe("/BleedBox ["+g(L.bleedBox.bottomLeftX)+" "+g(L.bleedBox.bottomLeftY)+" "+g(L.bleedBox.topRightX)+" "+g(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&pe("/TrimBox ["+g(L.trimBox.bottomLeftX)+" "+g(L.trimBox.bottomLeftY)+" "+g(L.trimBox.topRightX)+" "+g(L.trimBox.topRightY)+"]"),L.artBox!==null&&pe("/ArtBox ["+g(L.artBox.bottomLeftX)+" "+g(L.artBox.bottomLeftY)+" "+g(L.artBox.topRightX)+" "+g(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&pe("/UserUnit "+L.userUnit),Pt.publish("putPage",{objId:ye,pageContext:wt[X],pageNumber:X,page:he}),pe("/Contents "+Ae+" 0 R"),pe(">>"),pe("endobj");var Ie=he.join(`
`);return R===S.ADVANCED&&(Ie+=`
Q`),Xr(Ae,!0),Rn({data:Ie,filters:Ns(),objectId:Ae}),pe("endobj"),ye},qs=m.__private__.putPages=function(){var L,X,he=[];for(L=1;L<=tr;L++)wt[L].objId=Ir(),wt[L].contentsObjId=Ir();for(L=1;L<=tr;L++)he.push(ts({number:L,data:qe[L],objId:wt[L].objId,contentsObjId:wt[L].contentsObjId,mediaBox:wt[L].mediaBox,cropBox:wt[L].cropBox,bleedBox:wt[L].bleedBox,trimBox:wt[L].trimBox,artBox:wt[L].artBox,userUnit:wt[L].userUnit,rootDictionaryObjId:la,resourceDictionaryObjId:Za}));Xr(la,!0),pe("<</Type /Pages");var ye="/Kids [";for(X=0;X<tr;X++)ye+=he[X]+" 0 R ";pe(ye+"]"),pe("/Count "+tr),pe(">>"),pe("endobj"),Pt.publish("postPutPages")},yo=function(L){Pt.publish("putFont",{font:L,out:pe,newObject:Nr,putStream:Rn}),L.isAlreadyPutted!==!0&&(L.objectNumber=Nr(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Zc(L.postScriptName)),pe("/Subtype /Type1"),typeof L.encoding=="string"&&pe("/Encoding /"+L.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},Us=function(){for(var L in rr)rr.hasOwnProperty(L)&&(h===!1||h===!0&&y.hasOwnProperty(L))&&yo(rr[L])},Jo=function(L){L.objectNumber=Nr();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[g(L.x),g(L.y),g(L.x+L.width),g(L.y+L.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var he=L.pages[1].join(`
`);Rn({data:he,additionalKeyValues:X,objectId:L.objectNumber}),pe("endobj")},Pi=function(){for(var L in cr)cr.hasOwnProperty(L)&&Jo(cr[L])},xo=function(L,X){var he,ye=[],Ae=1/(X-1);for(he=0;he<1;he+=Ae)ye.push(he);if(ye.push(1),L[0].offset!=0){var Ie={offset:0,color:L[0].color};L.unshift(Ie)}if(L[L.length-1].offset!=1){var Ge={offset:1,color:L[L.length-1].color};L.push(Ge)}for(var ft="",jt=0,At=0;At<ye.length;At++){for(he=ye[At];he>L[jt+1].offset;)jt++;var Tt=L[jt].offset,Ht=(he-Tt)/(L[jt+1].offset-Tt),gr=L[jt].color,xr=L[jt+1].color;ft+=de(Math.round((1-Ht)*gr[0]+Ht*xr[0]).toString(16))+de(Math.round((1-Ht)*gr[1]+Ht*xr[1]).toString(16))+de(Math.round((1-Ht)*gr[2]+Ht*xr[2]).toString(16))}return ft.trim()},Sc=function(L,X){X||(X=21);var he=Nr(),ye=xo(L.colors,X),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+X+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rn({data:ye,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),pe("endobj"),L.objectNumber=Nr(),pe("<< /ShadingType "+L.type),pe("/ColorSpace /DeviceRGB");var Ie="/Coords ["+g(parseFloat(L.coords[0]))+" "+g(parseFloat(L.coords[1]))+" ";L.type===2?Ie+=g(parseFloat(L.coords[2]))+" "+g(parseFloat(L.coords[3])):Ie+=g(parseFloat(L.coords[2]))+" "+g(parseFloat(L.coords[3]))+" "+g(parseFloat(L.coords[4]))+" "+g(parseFloat(L.coords[5])),pe(Ie+="]"),L.matrix&&pe("/Matrix ["+L.matrix.toString()+"]"),pe("/Function "+he+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Cc=function(L,X){var he=Ir(),ye=Nr();X.push({resourcesOid:he,objectOid:ye}),L.objectNumber=ye;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+L.boundingBox.map(g).join(" ")+"]"}),Ae.push({key:"XStep",value:g(L.xStep)}),Ae.push({key:"YStep",value:g(L.yStep)}),Ae.push({key:"Resources",value:he+" 0 R"}),L.matrix&&Ae.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Rn({data:L.stream,additionalKeyValues:Ae,objectId:L.objectNumber}),pe("endobj")},Ko=function(L){var X;for(X in sr)sr.hasOwnProperty(X)&&(sr[X]instanceof Ql?Sc(sr[X]):sr[X]instanceof fd&&Cc(sr[X],L))},Ol=function(L){for(var X in L.objectNumber=Nr(),pe("<<"),L)switch(X){case"opacity":pe("/ca "+_(L[X]));break;case"stroke-opacity":pe("/CA "+_(L[X]))}pe(">>"),pe("endobj")},fu=function(){var L;for(L in qr)qr.hasOwnProperty(L)&&Ol(qr[L])},Yo=function(){for(var L in pe("/XObject <<"),cr)cr.hasOwnProperty(L)&&cr[L].objectNumber>=0&&pe("/"+L+" "+cr[L].objectNumber+" 0 R");Pt.publish("putXobjectDict"),pe(">>")},hu=function(){Mn.oid=Nr(),pe("<<"),pe("/Filter /Standard"),pe("/V "+Mn.v),pe("/R "+Mn.r),pe("/U <"+Mn.toHexString(Mn.U)+">"),pe("/O <"+Mn.toHexString(Mn.O)+">"),pe("/P "+Mn.P),pe(">>"),pe("endobj")},_c=function(){for(var L in pe("/Font <<"),rr)rr.hasOwnProperty(L)&&(h===!1||h===!0&&y.hasOwnProperty(L))&&pe("/"+L+" "+rr[L].objectNumber+" 0 R");pe(">>")},Ec=function(){if(Object.keys(sr).length>0){for(var L in pe("/Shading <<"),sr)sr.hasOwnProperty(L)&&sr[L]instanceof Ql&&sr[L].objectNumber>=0&&pe("/"+L+" "+sr[L].objectNumber+" 0 R");Pt.publish("putShadingPatternDict"),pe(">>")}},Xo=function(L){if(Object.keys(sr).length>0){for(var X in pe("/Pattern <<"),sr)sr.hasOwnProperty(X)&&sr[X]instanceof m.TilingPattern&&sr[X].objectNumber>=0&&sr[X].objectNumber<L&&pe("/"+X+" "+sr[X].objectNumber+" 0 R");Pt.publish("putTilingPatternDict"),pe(">>")}},Ml=function(){if(Object.keys(qr).length>0){var L;for(L in pe("/ExtGState <<"),qr)qr.hasOwnProperty(L)&&qr[L].objectNumber>=0&&pe("/"+L+" "+qr[L].objectNumber+" 0 R");Pt.publish("putGStateDict"),pe(">>")}},Qr=function(L){Xr(L.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),_c(),Ec(),Xo(L.objectOid),Ml(),Yo(),pe(">>"),pe("endobj")},Tn=function(){var L=[];Us(),fu(),Pi(),Ko(L),Pt.publish("putResources"),L.forEach(Qr),Qr({resourcesOid:Za,objectOid:Number.MAX_SAFE_INTEGER}),Pt.publish("postPutResources")},zs=function(){Pt.publish("putAdditionalObjects");for(var L=0;L<Pe.length;L++){var X=Pe[L];Xr(X.objId,!0),pe(X.content),pe("endobj")}Pt.publish("postPutAdditionalObjects")},Qo=function(L){Sr[L.fontName]=Sr[L.fontName]||{},Sr[L.fontName][L.fontStyle]=L.id},Fl=function(L,X,he,ye,Ae){var Ie={id:"F"+(Object.keys(rr).length+1).toString(10),postScriptName:L,fontName:X,fontStyle:he,encoding:ye,isStandardFont:Ae||!1,metadata:{}};return Pt.publish("addFont",{font:Ie,instance:this}),rr[Ie.id]=Ie,Qo(Ie),Ie.id},pu=function(L){for(var X=0,he=Ze.length;X<he;X++){var ye=Fl.call(this,L[X][0],L[X][1],L[X][2],Ze[X][3],!0);h===!1&&(y[ye]=!0);var Ae=L[X][0].split("-");Qo({id:ye,fontName:Ae[0],fontStyle:Ae[1]||""})}Pt.publish("addFonts",{fonts:rr,dictionary:Sr})},ka=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(ye){var X=ye.stack||"";~X.indexOf(" at ")&&(X=X.split(" at ")[1]);var he="Error in function "+X.split(`
`)[0].split("<")[0]+": "+ye.message;if(!qt.console)throw new Error(he);qt.console.error(he,ye),qt.alert&&alert(he)}},L.foo.bar=L,L.foo},Zo=function(L,X){var he,ye,Ae,Ie,Ge,ft,jt,At,Tt;if(Ae=(X=X||{}).sourceEncoding||"Unicode",Ge=X.outputEncoding,(X.autoencode||Ge)&&rr[Kt].metadata&&rr[Kt].metadata[Ae]&&rr[Kt].metadata[Ae].encoding&&(Ie=rr[Kt].metadata[Ae].encoding,!Ge&&rr[Kt].encoding&&(Ge=rr[Kt].encoding),!Ge&&Ie.codePages&&(Ge=Ie.codePages[0]),typeof Ge=="string"&&(Ge=Ie[Ge]),Ge)){for(jt=!1,ft=[],he=0,ye=L.length;he<ye;he++)(At=Ge[L.charCodeAt(he)])?ft.push(String.fromCharCode(At)):ft.push(L[he]),ft[he].charCodeAt(0)>>8&&(jt=!0);L=ft.join("")}for(he=L.length;jt===void 0&&he!==0;)L.charCodeAt(he-1)>>8&&(jt=!0),he--;if(!jt)return L;for(ft=X.noBOM?[]:[254,255],he=0,ye=L.length;he<ye;he++){if((Tt=(At=L.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ft.push(Tt),ft.push(At-(Tt<<8))}return String.fromCharCode.apply(void 0,ft)},On=m.__private__.pdfEscape=m.pdfEscape=function(L,X){return Zo(L,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Li=m.__private__.beginPage=function(L){qe[++tr]=[],wt[tr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},ca(tr),Be(qe[J])},Ac=function(L,X){var he,ye,Ae;switch(r=X||r,typeof L=="string"&&(he=b(L.toLowerCase()),Array.isArray(he)&&(ye=he[0],Ae=he[1])),Array.isArray(L)&&(ye=L[0]*dt,Ae=L[1]*dt),isNaN(ye)&&(ye=a[0],Ae=a[1]),(ye>14400||Ae>14400)&&(Br.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Ae=Math.min(14400,Ae)),a=[ye,Ae],r.substr(0,1)){case"l":Ae>ye&&(a=[Ae,ye]);break;case"p":ye>Ae&&(a=[Ae,ye])}Li(a),Tc(Ti),pe(as),Y!==0&&pe(Y+" J"),ne!==0&&pe(ne+" j"),Pt.publish("addPage",{pageNumber:tr})},mu=function(L){L>0&&L<=tr&&(qe.splice(L,1),wt.splice(L,1),tr--,J>tr&&(J=tr),this.setPage(J))},ca=function(L){L>0&&L<=tr&&(J=L)},Pc=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return qe.length-1},bo=function(L,X,he){var ye,Ae=void 0;return he=he||{},L=L!==void 0?L:rr[Kt].fontName,X=X!==void 0?X:rr[Kt].fontStyle,ye=L.toLowerCase(),Sr[ye]!==void 0&&Sr[ye][X]!==void 0?Ae=Sr[ye][X]:Sr[L]!==void 0&&Sr[L][X]!==void 0?Ae=Sr[L][X]:he.disableWarning===!1&&Br.warn("Unable to look up font label for font '"+L+"', '"+X+"'. Refer to getFontList() for available fonts."),Ae||he.noFallback||(Ae=Sr.times[X])==null&&(Ae=Sr.times.normal),Ae},gu=m.__private__.putInfo=function(){var L=Nr(),X=function(ye){return ye};for(var he in u!==null&&(X=Mn.encryptor(L,0)),pe("<<"),pe("/Producer ("+On(X("jsPDF "+Bt.version))+")"),St)St.hasOwnProperty(he)&&St[he]&&pe("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+On(X(St[he]))+")");pe("/CreationDate ("+On(X(U))+")"),pe(">>"),pe("endobj")},Bl=m.__private__.putCatalog=function(L){var X=(L=L||{}).rootDictionaryObjId||la;switch(Nr(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+X+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+se;he.substr(he.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+_(se)+"]")}switch(at||(at="continuous"),at){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Qe&&pe("/PageMode /"+Qe),Pt.publish("putCatalog"),pe(">>"),pe("endobj")},Vs=m.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ie+1)),pe("/Root "+ie+" 0 R"),pe("/Info "+(ie-1)+" 0 R"),u!==null&&pe("/Encrypt "+Mn.oid+" 0 R"),pe("/ID [ <"+q+"> <"+q+"> ]"),pe(">>")},Hs=m.__private__.putHeader=function(){pe("%PDF-"+w),pe("%")},$l=m.__private__.putXRef=function(){var L="0000000000";pe("xref"),pe("0 "+(ie+1)),pe("0000000000 65535 f ");for(var X=1;X<=ie;X++)typeof xe[X]=="function"?pe((L+xe[X]()).slice(-10)+" 00000 n "):xe[X]!==void 0?pe((L+xe[X]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Ws=m.__private__.buildDocument=function(){pt(),Be(we),Pt.publish("buildDocument"),Hs(),qs(),zs(),Tn(),u!==null&&hu(),gu(),Bl();var L=me;return $l(),Vs(),pe("startxref"),pe(""+L),pe("%%EOF"),Be(qe[J]),we.join(`
`)},Ss=m.__private__.getBlob=function(L){return new Blob([ct(L)],{type:"application/pdf"})},ei=m.output=m.__private__.output=ka(function(L,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",L){case void 0:return Ws();case"save":m.save(X.filename);break;case"arraybuffer":return ct(Ws());case"blob":return Ss(Ws());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(Ss(Ws()))||void 0;Br.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ye=Ws();try{he=vb(ye)}catch{he=vb(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+X.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Ae=X.pdfObjectUrl,Ie="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",ft=qt.open();return ft!==null&&ft.document.write(Ge),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',At=qt.open();if(At!==null){At.document.write(jt);var Tt=this;At.document.documentElement.querySelector("#pdfViewer").onload=function(){At.document.title=X.filename,At.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return At}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',gr=qt.open();if(gr!==null&&(gr.document.write(Ht),gr.document.title=X.filename),gr||typeof safari>"u")return gr;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",X);default:return null}}),Di=function(L){return Array.isArray(lr)===!0&&lr.indexOf(L)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=Di("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var Mn=null;Z(),V();var Lc=function(L){return u!==null?Mn.encryptor(L,0):function(X){return X}},Dc=m.__private__.getPageInfo=m.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[L].objId,pageNumber:L,pageContext:wt[L]}},zt=m.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in wt)if(wt[X].objId===L)break;return Dc(X)},yu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:wt[J].objId,pageNumber:J,pageContext:wt[J]}};m.addPage=function(){return Ac.apply(this,arguments),this},m.setPage=function(){return ca.apply(this,arguments),Be.call(this,qe[J]),this},m.insertPage=function(L){return this.addPage(),this.movePage(J,L),this},m.movePage=function(L,X){var he,ye;if(L>X){he=qe[L],ye=wt[L];for(var Ae=L;Ae>X;Ae--)qe[Ae]=qe[Ae-1],wt[Ae]=wt[Ae-1];qe[X]=he,wt[X]=ye,this.setPage(X)}else if(L<X){he=qe[L],ye=wt[L];for(var Ie=L;Ie<X;Ie++)qe[Ie]=qe[Ie+1],wt[Ie]=wt[Ie+1];qe[X]=he,wt[X]=ye,this.setPage(X)}return this},m.deletePage=function(){return mu.apply(this,arguments),this},m.__private__.text=m.text=function(L,X,he,ye,Ae){var Ie,Ge,ft,jt,At,Tt,Ht,gr,xr,fr=(ye=ye||{}).scope||this;if(typeof L=="number"&&typeof X=="number"&&(typeof he=="string"||Array.isArray(he))){var _n=he;he=X,X=L,L=_n}if(arguments[3]instanceof mt?(I("The transform parameter of text() with a Matrix value"),xr=Ae):(ft=arguments[4],jt=arguments[5],Er(Ht=arguments[3])==="object"&&Ht!==null||(typeof ft=="string"&&(jt=ft,ft=null),typeof Ht=="string"&&(jt=Ht,Ht=null),typeof Ht=="number"&&(ft=Ht,Ht=null),ye={flags:Ht,angle:ft,align:jt})),isNaN(X)||isNaN(he)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return fr;var Rr="",mn=!1,ja=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:vo,Cs=fr.internal.scaleFactor;function Fc(Ur){return Ur=Ur.split("	").join(Array(ye.TabLen||9).join(" ")),On(Ur,Ht)}function dr(Ur){for(var zr,yn=Ur.concat(),Bn=[],ti=yn.length;ti--;)typeof(zr=yn.shift())=="string"?Bn.push(zr):Array.isArray(Ur)&&(zr.length===1||zr[1]===void 0&&zr[2]===void 0)?Bn.push(zr[0]):Bn.push([zr[0],zr[1],zr[2]]);return Bn}function No(Ur,zr){var yn;if(typeof Ur=="string")yn=zr(Ur)[0];else if(Array.isArray(Ur)){for(var Bn,ti,ju=Ur.concat(),Bc=[],mh=ju.length;mh--;)typeof(Bn=ju.shift())=="string"?Bc.push(zr(Bn)[0]):Array.isArray(Bn)&&typeof Bn[0]=="string"&&(ti=zr(Bn[0],Bn[1],Bn[2]),Bc.push([ti[0],ti[1],ti[2]]));yn=Bc}return yn}var Vn=!1,_s=!0;if(typeof L=="string")Vn=!0;else if(Array.isArray(L)){var zl=L.concat();Ge=[];for(var Oi,En=zl.length;En--;)(typeof(Oi=zl.shift())!="string"||Array.isArray(Oi)&&typeof Oi[0]!="string")&&(_s=!1);Vn=_s}if(Vn===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Oa=et/fr.internal.scaleFactor,So=Oa*(ja-1);switch(ye.baseline){case"bottom":he-=So;break;case"top":he+=Oa-So;break;case"hanging":he+=Oa-2*So;break;case"middle":he+=Oa/2-So}if((Tt=ye.maxWidth||0)>0&&(typeof L=="string"?L=fr.splitTextToSize(L,Tt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Ur,zr){return Ur.concat(fr.splitTextToSize(zr,Tt))},[]))),Ie={text:L,x:X,y:he,options:ye,mutex:{pdfEscape:On,activeFontKey:Kt,fonts:rr,activeFontSize:et}},Pt.publish("preProcessText",Ie),L=Ie.text,ft=(ye=Ie.options).angle,!(xr instanceof mt)&&ft&&typeof ft=="number"){ft*=Math.PI/180,ye.rotationDirection===0&&(ft=-ft),R===S.ADVANCED&&(ft=-ft);var Na=Math.cos(ft),Mi=Math.sin(ft);xr=new mt(Na,Mi,-Mi,Na,0,0)}else ft&&ft instanceof mt&&(xr=ft);R!==S.ADVANCED||xr||(xr=Lr),(At=ye.charSpace||F)!==void 0&&(Rr+=g(j(At))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gr=ye.horizontalScale)!==void 0&&(Rr+=g(100*gr)+` Tz
`),ye.lang;var An=-1,Fi=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Co=fr.internal.getCurrentPageInfo().pageContext;switch(Fi){case 0:case!1:case"fill":An=0;break;case 1:case!0:case"stroke":An=1;break;case 2:case"fillThenStroke":An=2;break;case 3:case"invisible":An=3;break;case 4:case"fillAndAddForClipping":An=4;break;case 5:case"strokeAndAddPathForClipping":An=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":An=6;break;case 7:case"addToPathForClipping":An=7}var Bi=Co.usedRenderingMode!==void 0?Co.usedRenderingMode:-1;An!==-1?Rr+=An+` Tr
`:Bi!==-1&&(Rr+=`0 Tr
`),An!==-1&&(Co.usedRenderingMode=An),jt=ye.align||"left";var Ma,Ks=et*ja,$i=fr.internal.pageSize.getWidth(),qi=rr[Kt];At=ye.charSpace||F,Tt=ye.maxWidth||0,Ht=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var _o=[],Ys=function(Ur){return fr.getStringUnitWidth(Ur,{font:qi,charSpace:At,fontSize:et,doKerning:!1})*et/Cs};if(Object.prototype.toString.call(L)==="[object Array]"){var ra;Ge=dr(L),jt!=="left"&&(Ma=Ge.map(Ys));var ue,ke=0;if(jt==="right"){X-=Ma[0],L=[],En=Ge.length;for(var Le=0;Le<En;Le++)Le===0?(ue=rs(X),ra=ns(he)):(ue=j(ke-Ma[Le]),ra=-Ks),L.push([Ge[Le],ue,ra]),ke=Ma[Le]}else if(jt==="center"){X-=Ma[0]/2,L=[],En=Ge.length;for(var Fe=0;Fe<En;Fe++)Fe===0?(ue=rs(X),ra=ns(he)):(ue=j((ke-Ma[Fe])/2),ra=-Ks),L.push([Ge[Fe],ue,ra]),ke=Ma[Fe]}else if(jt==="left"){L=[],En=Ge.length;for(var He=0;He<En;He++)L.push(Ge[He])}else if(jt==="justify"&&qi.encoding==="Identity-H"){L=[],En=Ge.length,Tt=Tt!==0?Tt:$i;for(var st=0,ot=0;ot<En;ot++)if(ra=ot===0?ns(he):-Ks,ue=ot===0?rs(X):st,ot<En-1){var yt=j((Tt-Ma[ot])/(Ge[ot].split(" ").length-1)),lt=Ge[ot].split(" ");L.push([lt[0]+" ",ue,ra]),st=0;for(var Ot=1;Ot<lt.length;Ot++){var Ct=(Ys(lt[Ot-1]+" "+lt[Ot])-Ys(lt[Ot]))*Cs+yt;Ot==lt.length-1?L.push([lt[Ot],Ct,0]):L.push([lt[Ot]+" ",Ct,0]),st-=Ct}}else L.push([Ge[ot],ue,ra]);L.push(["",st,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],En=Ge.length,Tt=Tt!==0?Tt:$i,ot=0;ot<En;ot++)ra=ot===0?ns(he):-Ks,ue=ot===0?rs(X):0,ot<En-1?_o.push(g(j((Tt-Ma[ot])/(Ge[ot].split(" ").length-1)))):_o.push(0),L.push([Ge[ot],ue,ra])}}var Mt=typeof ye.R2L=="boolean"?ye.R2L:Ee;Mt===!0&&(L=No(L,function(Ur,zr,yn){return[Ur.split("").reverse().join(""),zr,yn]})),Ie={text:L,x:X,y:he,options:ye,mutex:{pdfEscape:On,activeFontKey:Kt,fonts:rr,activeFontSize:et}},Pt.publish("postProcessText",Ie),L=Ie.text,mn=Ie.mutex.isHex||!1;var Yt=rr[Kt].encoding;Yt!=="WinAnsiEncoding"&&Yt!=="StandardEncoding"||(L=No(L,function(Ur,zr,yn){return[Fc(Ur),zr,yn]})),Ge=dr(L),L=[];for(var kt,ur,an,Zr=0,Fn=1,Hn=Array.isArray(Ge[0])?Fn:Zr,Sa="",gn=function(Ur,zr,yn){var Bn="";return yn instanceof mt?(yn=typeof ye.angle=="number"?Mr(yn,new mt(1,0,0,1,Ur,zr)):Mr(new mt(1,0,0,1,Ur,zr),yn),R===S.ADVANCED&&(yn=Mr(new mt(1,0,0,-1,0,0),yn)),Bn=yn.join(" ")+` Tm
`):Bn=g(Ur)+" "+g(zr)+` Td
`,Bn},Es=0;Es<Ge.length;Es++){switch(Sa="",Hn){case Fn:an=(mn?"<":"(")+Ge[Es][0]+(mn?">":")"),kt=parseFloat(Ge[Es][1]),ur=parseFloat(Ge[Es][2]);break;case Zr:an=(mn?"<":"(")+Ge[Es]+(mn?">":")"),kt=rs(X),ur=ns(he)}_o!==void 0&&_o[Es]!==void 0&&(Sa=_o[Es]+` Tw
`),Es===0?L.push(Sa+gn(kt,ur,xr)+an):Hn===Zr?L.push(Sa+an):Hn===Fn&&L.push(Sa+gn(kt,ur,xr)+an)}L=Hn===Zr?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var As=`BT
/`;return As+=Kt+" "+et+` Tf
`,As+=g(et*ja)+` TL
`,As+=C+`
`,As+=Rr,As+=L,pe(As+="ET"),y[Kt]=!0,fr};var xu=m.__private__.clip=m.clip=function(L){return pe(L==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return xu("evenodd")},m.__private__.discardPath=m.discardPath=function(){return pe("n"),this};var Ta=m.__private__.isValidStyle=function(L){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(X=!0),X};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(L){return Ta(L)&&(d=L),this};var Ic=m.__private__.getStyle=m.getStyle=function(L){var X=d;switch(L){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=L}return X},Rc=m.close=function(){return pe("h"),this};m.stroke=function(){return pe("S"),this},m.fill=function(L){return Ii("f",L),this},m.fillEvenOdd=function(L){return Ii("f*",L),this},m.fillStroke=function(L){return Ii("B",L),this},m.fillStrokeEvenOdd=function(L){return Ii("B*",L),this};var Ii=function(L,X){Er(X)==="object"?vu(X,L):pe(L)},ql=function(L){L===null||R===S.ADVANCED&&L===void 0||(L=Ic(L),pe(L))};function bu(L,X,he,ye,Ae){var Ie=new fd(X||this.boundingBox,he||this.xStep,ye||this.yStep,this.gState,Ae||this.matrix);Ie.stream=this.stream;var Ge=L+"$$"+this.cloneIndex+++"$$";return Dr(Ge,Ie),Ie}var vu=function(L,X){var he=js[L.key],ye=sr[he];if(ye instanceof Ql)pe("q"),pe(wu(X)),ye.gState&&m.setGState(ye.gState),pe(L.matrix.toString()+" cm"),pe("/"+he+" sh"),pe("Q");else if(ye instanceof fd){var Ae=new mt(1,0,0,-1,0,$t());L.matrix&&(Ae=Ae.multiply(L.matrix||Lr),he=bu.call(ye,L.key,L.boundingBox,L.xStep,L.yStep,Ae).id),pe("q"),pe("/Pattern cs"),pe("/"+he+" scn"),ye.gState&&m.setGState(ye.gState),pe(X),pe("Q")}},wu=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ri=m.moveTo=function(L,X){return pe(g(j(L))+" "+g(E(X))+" m"),this},Gs=m.lineTo=function(L,X){return pe(g(j(L))+" "+g(E(X))+" l"),this},Js=m.curveTo=function(L,X,he,ye,Ae,Ie){return pe([g(j(L)),g(E(X)),g(j(he)),g(E(ye)),g(j(Ae)),g(E(Ie)),"c"].join(" ")),this};m.__private__.line=m.line=function(L,X,he,ye,Ae){if(isNaN(L)||isNaN(X)||isNaN(he)||isNaN(ye)||!Ta(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return R===S.COMPAT?this.lines([[he-L,ye-X]],L,X,[1,1],Ae||"S"):this.lines([[he-L,ye-X]],L,X,[1,1]).stroke()},m.__private__.lines=m.lines=function(L,X,he,ye,Ae,Ie){var Ge,ft,jt,At,Tt,Ht,gr,xr,fr,_n,Rr,mn;if(typeof L=="number"&&(mn=he,he=X,X=L,L=mn),ye=ye||[1,1],Ie=Ie||!1,isNaN(X)||isNaN(he)||!Array.isArray(L)||!Array.isArray(ye)||!Ta(Ae)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ri(X,he),Ge=ye[0],ft=ye[1],At=L.length,_n=X,Rr=he,jt=0;jt<At;jt++)(Tt=L[jt]).length===2?(_n=Tt[0]*Ge+_n,Rr=Tt[1]*ft+Rr,Gs(_n,Rr)):(Ht=Tt[0]*Ge+_n,gr=Tt[1]*ft+Rr,xr=Tt[2]*Ge+_n,fr=Tt[3]*ft+Rr,_n=Tt[4]*Ge+_n,Rr=Tt[5]*ft+Rr,Js(Ht,gr,xr,fr,_n,Rr));return Ie&&Rc(),ql(Ae),this},m.path=function(L){for(var X=0;X<L.length;X++){var he=L[X],ye=he.c;switch(he.op){case"m":Ri(ye[0],ye[1]);break;case"l":Gs(ye[0],ye[1]);break;case"c":Js.apply(this,ye);break;case"h":Rc()}}return this},m.__private__.rect=m.rect=function(L,X,he,ye,Ae){if(isNaN(L)||isNaN(X)||isNaN(he)||isNaN(ye)||!Ta(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return R===S.COMPAT&&(ye=-ye),pe([g(j(L)),g(E(X)),g(j(he)),g(j(ye)),"re"].join(" ")),ql(Ae),this},m.__private__.triangle=m.triangle=function(L,X,he,ye,Ae,Ie,Ge){if(isNaN(L)||isNaN(X)||isNaN(he)||isNaN(ye)||isNaN(Ae)||isNaN(Ie)||!Ta(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-L,ye-X],[Ae-he,Ie-ye],[L-Ae,X-Ie]],L,X,[1,1],Ge,!0),this},m.__private__.roundedRect=m.roundedRect=function(L,X,he,ye,Ae,Ie,Ge){if(isNaN(L)||isNaN(X)||isNaN(he)||isNaN(ye)||isNaN(Ae)||isNaN(Ie)||!Ta(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*he),Ie=Math.min(Ie,.5*ye),this.lines([[he-2*Ae,0],[Ae*ft,0,Ae,Ie-Ie*ft,Ae,Ie],[0,ye-2*Ie],[0,Ie*ft,-Ae*ft,Ie,-Ae,Ie],[2*Ae-he,0],[-Ae*ft,0,-Ae,-Ie*ft,-Ae,-Ie],[0,2*Ie-ye],[0,-Ie*ft,Ae*ft,-Ie,Ae,-Ie]],L+Ae,X,[1,1],Ge,!0),this},m.__private__.ellipse=m.ellipse=function(L,X,he,ye,Ae){if(isNaN(L)||isNaN(X)||isNaN(he)||isNaN(ye)||!Ta(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*he,Ge=4/3*(Math.SQRT2-1)*ye;return Ri(L+he,X),Js(L+he,X-Ge,L+Ie,X-ye,L,X-ye),Js(L-Ie,X-ye,L-he,X-Ge,L-he,X),Js(L-he,X+Ge,L-Ie,X+ye,L,X+ye),Js(L+Ie,X+ye,L+he,X+Ge,L+he,X),ql(Ae),this},m.__private__.circle=m.circle=function(L,X,he,ye){if(isNaN(L)||isNaN(X)||isNaN(he)||!Ta(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,X,he,he,ye)},m.setFont=function(L,X,he){return he&&(X=B(X,he)),Kt=bo(L,X,{disableWarning:!1}),this};var Ul=m.__private__.getFont=m.getFont=function(){return rr[bo.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var L,X,he={};for(L in Sr)if(Sr.hasOwnProperty(L))for(X in he[L]=[],Sr[L])Sr[L].hasOwnProperty(X)&&he[L].push(X);return he},m.addFont=function(L,X,he,ye,Ae){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(he=B(he,ye)),Ae=Ae||"Identity-H",Fl.call(this,L,X,he,Ae)};var vo,Ti=t.lineWidth||.200025,wo=m.__private__.getLineWidth=m.getLineWidth=function(){return Ti},Tc=m.__private__.setLineWidth=m.setLineWidth=function(L){return Ti=L,pe(g(j(L))+" w"),this};m.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(L,X){if(L=L||[],X=X||0,isNaN(X)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(he){return g(j(he))}).join(" "),X=g(j(X)),pe("["+L+"] "+X+" d"),this};var Oc=m.__private__.getLineHeight=m.getLineHeight=function(){return et*vo};m.__private__.getLineHeight=m.getLineHeight=function(){return et*vo};var Mc=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(vo=L),this},ko=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return vo};Mc(t.lineHeight);var rs=m.__private__.getHorizontalCoordinate=function(L){return j(L)},ns=m.__private__.getVerticalCoordinate=function(L){return R===S.ADVANCED?L:wt[J].mediaBox.topRightY-wt[J].mediaBox.bottomLeftY-j(L)},ku=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(L){return g(rs(L))},jo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(L){return g(ns(L))},as=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return es(as)},m.__private__.setStrokeColor=m.setDrawColor=function(L,X,he,ye){return as=Ra({ch1:L,ch2:X,ch3:he,ch4:ye,pdfColorType:"draw",precision:2}),pe(as),this};var p=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return es(p)},m.__private__.setFillColor=m.setFillColor=function(L,X,he,ye){return p=Ra({ch1:L,ch2:X,ch3:he,ch4:ye,pdfColorType:"fill",precision:2}),pe(p),this};var C=t.textColor||"0 g",O=m.__private__.getTextColor=m.getTextColor=function(){return es(C)};m.__private__.setTextColor=m.setTextColor=function(L,X,he,ye){return C=Ra({ch1:L,ch2:X,ch3:he,ch4:ye,pdfColorType:"text",precision:3}),this};var F=t.charSpace,K=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(F||0)};m.__private__.setCharSpace=m.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return F=L,this};var Y=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(L){var X=m.CapJoinStyles[L];if(X===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Y=X,pe(X+" J"),this};var ne=0;m.__private__.setLineJoin=m.setLineJoin=function(L){var X=m.CapJoinStyles[L];if(X===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ne=X,pe(X+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(g(j(L))+" M"),this},m.GState=z0,m.setGState=function(L){(L=typeof L=="string"?qr[Sn[L]]:be(null,L)).equals(mr)||(pe("/"+L.id+" gs"),mr=L)};var be=function(L,X){if(!L||!Sn[L]){var he=!1;for(var ye in qr)if(qr.hasOwnProperty(ye)&&qr[ye].equals(X)){he=!0;break}if(he)X=qr[ye];else{var Ae="GS"+(Object.keys(qr).length+1).toString(10);qr[Ae]=X,X.id=Ae}return L&&(Sn[L]=X.id),Pt.publish("addGState",X),X}};m.addGState=function(L,X){return be(L,X),this},m.saveGraphicsState=function(){return pe("q"),ta.push({key:Kt,size:et,color:C}),this},m.restoreGraphicsState=function(){pe("Q");var L=ta.pop();return Kt=L.key,et=L.size,C=L.color,mr=null,this},m.setCurrentTransformationMatrix=function(L){return pe(L.toString()+" cm"),this},m.comment=function(L){return pe("#"+L),this};var ge=function(L,X){var he=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Ie){isNaN(Ie)||(he=parseFloat(Ie))}});var ye=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Ie){isNaN(Ie)||(ye=parseFloat(Ie))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ie){Ae=Ie.toString()}}),this},Se=function(L,X,he,ye){ge.call(this,L,X),this.type="rect";var Ae=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ge){isNaN(Ge)||(Ae=parseFloat(Ge))}});var Ie=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Ge){isNaN(Ge)||(Ie=parseFloat(Ge))}}),this},$e=function(){this.page=tr,this.currentPage=J,this.pages=qe.slice(0),this.pagesContext=wt.slice(0),this.x=Gr,this.y=Gt,this.matrix=pn,this.width=Et(J),this.height=$t(J),this.outputDestination=rt,this.id="",this.objectNumber=-1};$e.prototype.restore=function(){tr=this.page,J=this.currentPage,wt=this.pagesContext,qe=this.pages,Gr=this.x,Gt=this.y,pn=this.matrix,er(J,this.width),nn(J,this.height),rt=this.outputDestination};var We=function(L,X,he,ye,Ae){Cn.push(new $e),tr=J=0,qe=[],Gr=L,Gt=X,pn=Ae,Li([he,ye])},Oe=function(L){if(rn[L])Cn.pop().restore();else{var X=new $e,he="Xo"+(Object.keys(cr).length+1).toString(10);X.id=he,rn[L]=he,cr[he]=X,Pt.publish("addFormObject",X),Cn.pop().restore()}};for(var nt in m.beginFormObject=function(L,X,he,ye,Ae){return We(L,X,he,ye,Ae),this},m.endFormObject=function(L){return Oe(L),this},m.doFormObject=function(L,X){var he=cr[rn[L]];return pe("q"),pe(X.toString()+" cm"),pe("/"+he.id+" Do"),pe("Q"),this},m.getFormObject=function(L){var X=cr[rn[L]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},m.save=function(L,X){return L=L||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Yl(Ss(Ws()),L),typeof Yl.unload=="function"&&qt.setTimeout&&setTimeout(Yl.unload,911),this):new Promise(function(he,ye){try{var Ae=Yl(Ss(Ws()),L);typeof Yl.unload=="function"&&qt.setTimeout&&setTimeout(Yl.unload,911),he(Ae)}catch(Ie){ye(Ie.message)}})},Bt.API)Bt.API.hasOwnProperty(nt)&&(nt==="events"&&Bt.API.events.length?function(L,X){var he,ye,Ae;for(Ae=X.length-1;Ae!==-1;Ae--)he=X[Ae][0],ye=X[Ae][1],L.subscribe.apply(L,[he].concat(typeof ye=="function"?[ye]:ye))}(Pt,Bt.API.events):m[nt]=Bt.API[nt]);var Et=m.getPageWidth=function(L){return(wt[L=L||J].mediaBox.topRightX-wt[L].mediaBox.bottomLeftX)/dt},er=m.setPageWidth=function(L,X){wt[L].mediaBox.topRightX=X*dt+wt[L].mediaBox.bottomLeftX},$t=m.getPageHeight=function(L){return(wt[L=L||J].mediaBox.topRightY-wt[L].mediaBox.bottomLeftY)/dt},nn=m.setPageHeight=function(L,X){wt[L].mediaBox.topRightY=X*dt+wt[L].mediaBox.bottomLeftY};return m.internal={pdfEscape:On,getStyle:Ic,getFont:Ul,getFontSize:ve,getCharSpace:K,getTextColor:O,getLineHeight:Oc,getLineHeightFactor:ko,getLineWidth:wo,write:vt,getHorizontalCoordinate:rs,getVerticalCoordinate:ns,getCoordinateString:ku,getVerticalCoordinateString:jo,collections:{},newObject:Nr,newAdditionalObject:Ia,newObjectDeferred:Ir,newObjectDeferredBegin:Xr,getFilters:Ns,putStream:Rn,events:Pt,scaleFactor:dt,pageSize:{getWidth:function(){return Et(J)},setWidth:function(L){er(J,L)},getHeight:function(){return $t(J)},setHeight:function(L){nn(J,L)}},encryptionOptions:u,encryption:Mn,getEncryptor:Lc,output:ei,getNumberOfPages:Pc,pages:qe,out:pe,f2:_,f3:x,getPageInfo:Dc,getPageInfoByObjId:zt,getCurrentPageInfo:yu,getPDFVersion:v,Point:ge,Rectangle:Se,Matrix:mt,hasHotfix:Di},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Et(J)},set:function(L){er(J,L)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return $t(J)},set:function(L){nn(J,L)},enumerable:!0,configurable:!0}),pu.call(m,Ze),Kt="F1",Ac(a,r),Pt.publish("initialized"),m}Qc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Qc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Qc.prototype.processOwnerPassword=function(t,e){return kb(wb(e).substr(0,5),t)},Qc.prototype.encryptor=function(t,e){var r=wb(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return kb(r,n)}},z0.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Er(t)!==Er(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Bt.API={events:[]},Bt.version="3.0.1";var un=Bt.API,Tw=1,Nc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(t){return t.toFixed(2)},Qi=function(t){return t.toFixed(5)};un.__acroform__={};var Qa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},yk=function(t){return t*Tw},Do=function(t){var e=new d6,r=bt.internal.getHeight(t)||0,n=bt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Jt(n)),Number(Jt(r))],e},HV=un.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},WV=un.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},GV=un.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},vn=un.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GV(t,e-1)},wn=un.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HV(t,e-1)},kn=un.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WV(t,e-1)},JV=un.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],o=t[1],i=t[2],c=t[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(o+c)||0,l.upperRight_X=r(a+i)||0,l.upperRight_Y=n(o)||0,[Number(Jt(l.lowerLeft_X)),Number(Jt(l.lowerLeft_Y)),Number(Jt(l.upperRight_X)),Number(Jt(l.upperRight_Y))]},KV=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=jb(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Jt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Do(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},jb=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(x){return x.split(`
`)}):a.map(function(x){return[x]});var o=r,i=bt.internal.getHeight(t)||0;i=i<0?-i:i;var c=bt.internal.getWidth(t)||0;c=c<0?-c:c;var l=function(x,j,P){if(x+1<a.length){var E=j+" "+a[x+1][0];return pp(E,t,P).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,u,h=pp("3",t,o).height,y=t.multiline?i-o:(i-h)/2,m=y+=2,w=0,v=0,A=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+pp(e,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var b="",S=0,R=0;R<a.length;R++)if(a.hasOwnProperty(R)){var W=!1;if(a[R].length!==1&&A!==a[R].length-1){if((h+2)*(S+2)+2>i)continue e;b+=a[R][A],W=!0,v=R,R--}else{b=(b+=a[R][A]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var z=parseInt(R),B=l(z,b,o),g=R>=a.length-1;if(B&&!g){b+=" ",A=0;continue}if(B||g){if(g)v=z;else if(t.multiline&&(h+2)*(S+2)+2>i)continue e}else{if(!t.multiline||(h+2)*(S+2)+2>i)continue e;v=z}}for(var I="",k=w;k<=v;k++){var _=a[k];if(t.multiline){if(k===v){I+=_[A]+" ",A=(A+1)%_.length;continue}if(k===w){I+=_[_.length-1]+" ";continue}}I+=_[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,u=pp(I,t,o).width,t.textAlign){case"right":d=c-u-2;break;case"center":d=(c-u)/2;break;case"left":default:d=2}e+=Jt(d)+" "+Jt(m)+` Td
`,e+="("+Nc(I)+`) Tj
`,e+=-Jt(d)+` 0 Td
`,m=-(o+2),u=0,w=W?v:v+1,S++,b=""}break}return n.text=e,n.fontSize=o,n},pp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},YV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XV=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},QV=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Er(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},ZV=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(mo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(YV)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Tw=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new u6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&XV(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var o=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var c=n[i],l=[],d=c.Rect;if(c.Rect&&(c.Rect=JV(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=bt.createDefaultAppearanceStream(c),Er(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(l=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var u=KV(c);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(c.appearanceStreamContent){var h="";for(var y in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(y)){var m=c.appearanceStreamContent[y];if(h+="/"+y+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var i in m)if(m.hasOwnProperty(i)){var w=m[i];typeof w=="function"&&(w=w.call(a,c)),h+="/"+i+" "+w+" ",a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w)}}else typeof(w=m)=="function"&&(w=w.call(a,c)),h+="/"+i+" "+w,a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:c.objId}),a.internal.out("endobj")}o&&QV(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},c6=un.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(i){return i};if(Array.isArray(t)){for(var a="[",o=0;o<t.length;o++)switch(o!==0&&(a+=" "),Er(t[o])){case"boolean":case"number":case"object":a+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Nc(n(t[o].toString()))+")"):a+=t[o].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ly=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Nc(n(t))+")"},Fo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fo.prototype.toString=function(){return this.objId+" 0 R"},Fo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Fo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:c6(a,this.objId,this.scope)}):a instanceof Fo?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var d6=function(){Fo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Qa(d6,Fo);var u6=function(){Fo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Nc(r(t))+")"}},set:function(r){t=r}})};Qa(u6,Fo);var mo=function t(){Fo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vn(e,3)},set:function(b){b?this.F=wn(e,3):this.F=kn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof V0)return;o="FieldObject"+t.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Nc(b(o))+")"},set:function(b){o=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(b){o=b}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(b){i=b}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Tw:d},set:function(b){d=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof V0||this instanceof lc))return Ly(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Xn?y:Ly(y,this.objId,this.scope)},set:function(b){b=b.toString(),y=this instanceof Xn?b:b.substr(0,1)==="("?Kc(b.substr(1,b.length-2)):Kc(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Kc(y.substr(1,y.length-1)):y},set:function(b){b=b.toString(),y=this instanceof Xn?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Xn?m:Ly(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof Xn?b:b.substr(0,1)==="("?Kc(b.substr(1,b.length-2)):Kc(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn?Kc(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Xn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(b){b=!!b,v=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(b){w=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,1)},set:function(b){b?this.Ff=wn(this.Ff,1):this.Ff=kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,2)},set:function(b){b?this.Ff=wn(this.Ff,2):this.Ff=kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,3)},set:function(b){b?this.Ff=wn(this.Ff,3):this.Ff=kn(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');A=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(A){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Qa(mo,Fo);var Sd=function(){mo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return c6(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(o,i,c){c||(c=1);for(var l,d=[];l=i.exec(o);)d.push(l[c]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,18)},set:function(r){r?this.Ff=wn(this.Ff,18):this.Ff=kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wn(this.Ff,19):this.Ff=kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,20)},set:function(r){r?(this.Ff=wn(this.Ff,20),e.sort()):this.Ff=kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,22)},set:function(r){r?this.Ff=wn(this.Ff,22):this.Ff=kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(r){r?this.Ff=wn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,27)},set:function(r){r?this.Ff=wn(this.Ff,27):this.Ff=kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Qa(Sd,mo);var Cd=function(){Sd.call(this),this.fontName="helvetica",this.combo=!1};Qa(Cd,Sd);var _d=function(){Cd.call(this),this.combo=!0};Qa(_d,Cd);var $p=function(){_d.call(this),this.edit=!0};Qa($p,_d);var Xn=function(){mo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,15)},set:function(r){r?this.Ff=wn(this.Ff,15):this.Ff=kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,16)},set:function(r){r?this.Ff=wn(this.Ff,16):this.Ff=kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,17)},set:function(r){r?this.Ff=wn(this.Ff,17):this.Ff=kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(r){r?this.Ff=wn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Nc(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Er(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Qa(Xn,mo);var qp=function(){Xn.call(this),this.pushButton=!0};Qa(qp,Xn);var Ed=function(){Xn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qa(Ed,Xn);var V0=function(){var t,e;mo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,i=[];for(o in i.push("<<"),n)i.push("/"+o+" ("+Nc(a(n[o]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Er(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qa(V0,mo),Ed.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ed.prototype.createOption=function(t){var e=new V0;return e.Parent=this,e.optionName=t,this.Kids.push(e),eH.call(this.scope,e),e};var Up=function(){Xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};Qa(Up,Xn);var lc=function(){mo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,13)},set:function(e){e?this.Ff=wn(this.Ff,13):this.Ff=kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,21)},set:function(e){e?this.Ff=wn(this.Ff,21):this.Ff=kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(e){e?this.Ff=wn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,24)},set:function(e){e?this.Ff=wn(this.Ff,24):this.Ff=kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,25)},set:function(e){e?this.Ff=wn(this.Ff,25):this.Ff=kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(e){e?this.Ff=wn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qa(lc,mo);var zp=function(){lc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,14)},set:function(t){t?this.Ff=wn(this.Ff,14):this.Ff=kn(this.Ff,14)}}),this.password=!0};Qa(zp,lc);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),o=jb(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Jt(bt.internal.getWidth(t))+" "+Jt(bt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jt(o.fontSize)+" Tf "+a),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],o=bt.internal.getHeight(t),i=bt.internal.getWidth(t),c=jb(t,t.caption);return a.push("1 g"),a.push("0 0 "+Jt(i)+" "+Jt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Jt(i-1)+" "+Jt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Jt(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(bt.internal.getWidth(t))+" "+Jt(bt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=bt.RadioButton.Circle.YesNormal,e.D[t]=bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var r=[],n=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=bt.internal.Bezier_C,o=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Qi(bt.internal.getWidth(t)/2)+" "+Qi(bt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var r=[],n=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*bt.internal.Bezier_C).toFixed(5)),i=Number((n*bt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Qi(bt.internal.getWidth(t)/2)+" "+Qi(bt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Qi(bt.internal.getWidth(t)/2)+" "+Qi(bt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var r=[],n=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*bt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Qi(bt.internal.getWidth(t)/2)+" "+Qi(bt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=bt.RadioButton.Cross.YesNormal,e.D[t]=bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Do(t);e.scope=t.scope;var r=[],n=bt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Jt(bt.internal.getWidth(t)-2)+" "+Jt(bt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Do(t);e.scope=t.scope;var r=bt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(bt.internal.getWidth(t))+" "+Jt(bt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jt(bt.internal.getWidth(t)-2)+" "+Jt(bt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Do(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(bt.internal.getWidth(t))+" "+Jt(bt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};bt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=bt.internal.getWidth(t),r=bt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},bt.internal.getWidth=function(t){var e=0;return Er(t)==="object"&&(e=yk(t.Rect[2])),e},bt.internal.getHeight=function(t){var e=0;return Er(t)==="object"&&(e=yk(t.Rect[3])),e};var eH=un.addField=function(t){if(ZV(this,t),!(t instanceof mo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};un.AcroFormChoiceField=Sd,un.AcroFormListBox=Cd,un.AcroFormComboBox=_d,un.AcroFormEditBox=$p,un.AcroFormButton=Xn,un.AcroFormPushButton=qp,un.AcroFormRadioButton=Ed,un.AcroFormCheckBox=Up,un.AcroFormTextField=lc,un.AcroFormPasswordField=zp,un.AcroFormAppearance=bt,un.AcroForm={ChoiceField:Sd,ListBox:Cd,ComboBox:_d,EditBox:$p,Button:Xn,PushButton:qp,RadioButton:Ed,CheckBox:Up,TextField:lc,PasswordField:zp,Appearance:bt},Bt.AcroForm={ChoiceField:Sd,ListBox:Cd,ComboBox:_d,EditBox:$p,Button:Xn,PushButton:qp,RadioButton:Ed,CheckBox:Up,TextField:lc,PasswordField:zp,Appearance:bt};Bt.AcroForm;function f6(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(x,j){var P,E,U,q,G,V=e;if((j=j||e)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(B(x))for(G in r)for(U=r[G],P=0;P<U.length;P+=1){for(q=!0,E=0;E<U[P].length;E+=1)if(U[P][E]!==void 0&&U[P][E]!==x[E]){q=!1;break}if(q===!0){V=G;break}}else for(G in r)for(U=r[G],P=0;P<U.length;P+=1){for(q=!0,E=0;E<U[P].length;E+=1)if(U[P][E]!==void 0&&U[P][E]!==x.charCodeAt(E)){q=!1;break}if(q===!0){V=G;break}}return V===e&&j!==e&&(V=j),V},a=function x(j){for(var P=this.internal.write,E=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:j.width}),q.push({key:"Height",value:j.height}),j.colorSpace===A.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===A.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var G="",V=0,ee=j.transparency.length;V<ee;V++)G+=j.transparency[V]+" "+j.transparency[V]+" ";q.push({key:"Mask",value:"["+G+"]"})}j.sMask!==void 0&&q.push({key:"SMask",value:j.objectId+1+" 0 R"});var le=j.filter!==void 0?["/"+j.filter]:void 0;if(E({data:j.data,additionalKeyValues:q,alreadyAppliedFilters:le,objectId:j.objectId}),P("endobj"),"sMask"in j&&j.sMask!==void 0){var Z="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,M={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:Z,data:j.sMask};"filter"in j&&(M.filter=j.filter),x.call(this,M)}if(j.colorSpace===A.INDEXED){var J=this.internal.newObject();E({data:I(new Uint8Array(j.palette)),objectId:J}),P("endobj")}},o=function(){var x=this.internal.collections.addImage_images;for(var j in x)a.call(this,x[j])},i=function(){var x,j=this.internal.collections.addImage_images,P=this.internal.write;for(var E in j)P("/I"+(x=j[E]).index,x.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var x=this.internal.collections.addImage_images;return c.call(this),x},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(x){return typeof t["process"+x.toUpperCase()]=="function"},h=function(x){return Er(x)==="object"&&x.nodeType===1},y=function(x,j){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var P=""+x.getAttribute("src");if(P.indexOf("data:image/")===0)return mf(unescape(P).split("base64,").pop());var E=t.loadFile(P,!0);if(E!==void 0)return E}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var U;switch(j){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return mf(x.toDataURL(U,1).split("base64,").pop())}},m=function(x){var j=this.internal.collections.addImage_images;if(j){for(var P in j)if(x===j[P].alias)return j[P]}},w=function(x,j,P){return x||j||(x=-96,j=-96),x<0&&(x=-1*P.width*72/x/this.internal.scaleFactor),j<0&&(j=-1*P.height*72/j/this.internal.scaleFactor),x===0&&(x=j*P.width/P.height),j===0&&(j=x*P.height/P.width),[x,j]},v=function(x,j,P,E,U,q){var G=w.call(this,P,E,U),V=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,le=l.call(this);if(P=G[0],E=G[1],le[U.index]=U,q){q*=Math.PI/180;var Z=Math.cos(q),M=Math.sin(q),J=function(de){return de.toFixed(4)},te=[J(Z),J(M),J(-1*M),J(Z),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,V(x),ee(j+E),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([V(P),"0","0",V(E),"0","0","cm"].join(" "))):this.internal.write([V(P),"0","0",V(E),V(x),ee(j+E),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(x){var j,P,E=0;if(typeof x=="string")for(P=x.length,j=0;j<P;j++)E=(E<<5)-E+x.charCodeAt(j),E|=0;else if(B(x))for(P=x.byteLength/2,j=0;j<P;j++)E=(E<<5)-E+x[j],E|=0;return E},R=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var j=!0;return x.length===0&&(j=!1),x.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(j=!1),j},W=t.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var j=x.indexOf(",");return j<0?null:x.substring(0,j).trim().endsWith("base64")?x.substring(j+1):null},z=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(x){return z()&&x instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(x){return z()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},g=t.__addimage__.binaryStringToUint8Array=function(x){for(var j=x.length,P=new Uint8Array(j),E=0;E<j;E++)P[E]=x.charCodeAt(E);return P},I=t.__addimage__.arrayBufferToBinaryString=function(x){for(var j="",P=B(x)?x:new Uint8Array(x),E=0;E<P.length;E+=8192)j+=String.fromCharCode.apply(null,P.subarray(E,E+8192));return j};t.addImage=function(){var x,j,P,E,U,q,G,V,ee;if(typeof arguments[1]=="number"?(j=e,P=arguments[1],E=arguments[2],U=arguments[3],q=arguments[4],G=arguments[5],V=arguments[6],ee=arguments[7]):(j=arguments[1],P=arguments[2],E=arguments[3],U=arguments[4],q=arguments[5],G=arguments[6],V=arguments[7],ee=arguments[8]),Er(x=arguments[0])==="object"&&!h(x)&&"imageData"in x){var le=x;x=le.imageData,j=le.format||j||e,P=le.x||P||0,E=le.y||E||0,U=le.w||le.width||U,q=le.h||le.height||q,G=le.alias||G,V=le.compression||V,ee=le.rotation||le.angle||ee}var Z=this.internal.getFilters();if(V===void 0&&Z.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(P)||isNaN(E))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=k.call(this,x,j,G,V);return v.call(this,P,E,U,q,M,ee),this};var k=function(x,j,P,E){var U,q,G;if(typeof x=="string"&&n(x)===e){x=unescape(x);var V=_(x,!1);(V!==""||(V=t.loadFile(x,!0))!==void 0)&&(x=V)}if(h(x)&&(x=y(x,j)),j=n(x,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((G=P)==null||G.length===0)&&(P=function(ee){return typeof ee=="string"||B(ee)?S(ee):B(ee.data)?S(ee.data):null}(x)),(U=m.call(this,P))||(z()&&(x instanceof Uint8Array||j==="RGBA"||(q=x,x=g(x))),U=this["process"+j.toUpperCase()](x,d.call(this),P,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:b.NONE}(E),q)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},_=t.__addimage__.convertBase64ToBinaryString=function(x,j){j=typeof j!="boolean"||j;var P,E="";if(typeof x=="string"){var U;P=(U=W(x))!==null&&U!==void 0?U:x;try{E=mf(P)}catch(q){if(j)throw R(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return E};t.getImageProperties=function(x){var j,P,E="";if(h(x)&&(x=y(x)),typeof x=="string"&&n(x)===e&&((E=_(x,!1))===""&&(E=t.loadFile(x)||""),x=E),P=n(x),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!z()||x instanceof Uint8Array||(x=g(x)),!(j=this["process"+P.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=P,j}})(Bt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Bt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,o,i=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var m=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(v.objId),S=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+m(b(n.contents))+")",o+=" /Popup "+A.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+m(b(S))+") >>",v.content=o;var R=v.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+R,n.open&&(o+=" /Open true"),o+=" >>",A.content=o,this.internal.write(v.objId,"0 R",A.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+c(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var W=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(w(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var z=this.annotations._nameMap[n.options.name];n.options.pageNumber=z.page,n.options.top=z.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var B=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,o,i){var c=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:l(r),y:d(n),w:l(r+a),h:d(n+o)},options:i,type:"link"})},t.textWithLink=function(r,n,a,o){var i,c,l=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var u=this.splitTextToSize(r,c).length;i=Math.ceil(d*u)}else c=l,i=d;return this.text(r,n,a,o),a+=.2*d,o.align==="center"&&(n-=l/2),o.align==="right"&&(n-=l),this.link(n,a-d,c,i,o),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Bt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},i=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},c=t.__arabicParser__.isArabicEndLetter=function(v){return i(v)&&o(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return i(v)&&a.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return i(v)&&o(v)&&e[v.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return i(v)&&o(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return i(v)&&o(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return i(v)&&o(v)&&e[v.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(v){var A=0,b=r,S="",R=0;for(A=0;A<v.length;A+=1)b[v.charCodeAt(A)]!==void 0?(R++,typeof(b=b[v.charCodeAt(A)])=="number"&&(S+=String.fromCharCode(b),b=r,R=0),A===v.length-1&&(b=r,S+=v.charAt(A-(R-1)),A-=R-1,R=0)):(b=r,S+=v.charAt(A-R),A-=R,R=0);return S};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(v,A,b){return i(v)?o(v)===!1?-1:!d(v)||!i(A)&&!i(b)||!i(b)&&c(A)||c(v)&&!i(A)||c(v)&&l(A)||c(v)&&c(A)?0:u(v)&&i(A)&&!c(A)&&i(b)&&d(b)?3:c(v)||!i(b)?1:2:-1},m=function(v){var A=0,b=0,S=0,R="",W="",z="",B=(v=v||"").split("\\s+"),g=[];for(A=0;A<B.length;A+=1){for(g.push(""),b=0;b<B[A].length;b+=1)R=B[A][b],W=B[A][b-1],z=B[A][b+1],i(R)?(S=y(R,W,z),g[A]+=S!==-1?String.fromCharCode(e[R.charCodeAt(0)][S]):R):g[A]+=R;g[A]=h(g[A])}return g.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var v,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(A)){var S=0;for(b=[],S=0;S<A.length;S+=1)Array.isArray(A[S])?b.push([m(A[S][0]),A[S][1],A[S][2]]):b.push([m(A[S])]);v=b}else v=m(A);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",w])}(Bt.API),Bt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(c){i=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Bt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(v){y=v}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(v){w=v}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,m=0,w=0,v=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=d.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(R,W){return R.concat(A.splitTextToSize(W,b))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)m<(v=this.getStringUnitWidth(l[S],{font:h})*u)&&(m=v);return m!==0&&(w=l.length),{w:m/=y,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,m&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,d,u,h,y){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,w,v,A,b=[],S=[],R=[],W={},z={},B=[],g=[],I=(y=y||{}).autoSize||!1,k=y.printHeaders!==!1,_=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,x=y.margins||Object.assign({width:this.getPageWidth()},e),j=typeof y.padding=="number"?y.padding:3,P=y.headerBackgroundColor||"#c8c8c8",E=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=_,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=E,this.setFontSize(_),h==null)S=b=Object.keys(u[0]),R=b.map(function(){return"left"});else if(Array.isArray(h)&&Er(h[0])==="object")for(b=h.map(function(le){return le.name}),S=h.map(function(le){return le.prompt||le.name||""}),R=h.map(function(le){return le.align||"left"}),m=0;m<h.length;m+=1)z[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(S=b=h,R=b.map(function(){return"left"}));if(I||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<b.length;m+=1){for(W[A=b[m]]=u.map(function(le){return le[A]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(S[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=W[A],this.setFont(void 0,"normal"),v=0;v<w.length;v+=1)B.push(this.getTextDimensions(w[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[A]=Math.max.apply(null,B)+j+j,B=[]}if(k){var U={};for(m=0;m<b.length;m+=1)U[b[m]]={},U[b[m]].text=S[m],U[b[m]].align=R[m];var q=c.call(this,U,z);g=b.map(function(le){return new o(l,d,z[le],q,U[le].text,void 0,U[le].align)}),this.setTableHeaderRow(g),this.printHeaderRow(1,!1)}var G=h.reduce(function(le,Z){return le[Z.name]=Z.align,le},{});for(m=0;m<u.length;m+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:m,data:u[m]},this);var V=c.call(this,u[m],z);for(v=0;v<b.length;v+=1){var ee=u[m][b[v]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:m,col:v,data:ee},this),i.call(this,new o(l,d,z[b[v]],V,ee,m+2,G[b[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var c=function(l,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(m){var w=l[m];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/y+u+u},this).reduce(function(m,w){return Math.max(m,w)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,y.push(u)),u.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,u),this.setTextColor(w)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(Bt.API);var h6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},p6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Nb=f6(p6),m6=[100,200,300,400,500,600,700,800,900],tH=f6(m6);function Sb(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return h6[o=o||"normal"]?o:"normal"}(t.style),n=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(o){return typeof Nb[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function xk(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var rH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function nH(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},rH,r.genericFontFamilies||{}),o=null,i=null,c=0;c<e.length;++c)if(a[(o=Sb(e[c])).family]&&(o.family=a[o.family]),t.hasOwnProperty(o.family)){i=t[o.family];break}if(!(i=i||t[n]))throw new Error("Could not find a font-family for the rule '"+vk(o)+"' and default family '"+n+"'.");if(i=function(l,d){if(d[l])return d[l];var u=Nb[l],h=u<=Nb.normal?-1:1,y=xk(d,p6,u,h);if(!y)throw new Error("Could not find a matching font-stretch value for "+l);return y}(o.stretch,i),i=function(l,d){if(d[l])return d[l];for(var u=h6[l],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+l)}(o.style,i),!(i=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var u=tH[l],h=xk(d,m6,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(o.weight,i)))throw new Error("Failed to resolve a font for the rule '"+vk(o)+"'.");return i}function wk(t){return t.trimLeft()}function aH(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function sH(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var mp,kk,jk,Dy=["times"];(function(t){var e,r,n,a,o,i,c,l,d,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new i,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new i,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,i=this.internal.Point,c=this.internal.Rectangle,l=this.internal.Matrix,d=new u}]);var h=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=M;Object.defineProperty(this,"pdf",{get:function(){return J}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Be){te=!!Be}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(Be){de=!!Be}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Be){isNaN(Be)||(ie=Be)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Be){isNaN(Be)||(xe=Be)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Be){var pe;typeof Be=="number"?pe=[Be,Be,Be,Be]:((pe=new Array(4))[0]=Be[0],pe[1]=Be.length>=2?Be[1]:pe[0],pe[2]=Be.length>=3?Be[2]:pe[0],pe[3]=Be.length>=4?Be[3]:pe[1]),d.margin=pe}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Be){we=Be}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Be){me=Be}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(Be){Pe=Be}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Be){Be instanceof u&&(d=Be)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Be){d.path=Be}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(Be){qe=Be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Be){var pe;pe=y(Be),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Be){var pe=y(Be);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Be){["butt","round","square"].indexOf(Be)!==-1&&(this.ctx.lineCap=Be,this.pdf.setLineCap(Be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Be){isNaN(Be)||(this.ctx.lineWidth=Be,this.pdf.setLineWidth(Be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Be){["bevel","round","miter"].indexOf(Be)!==-1&&(this.ctx.lineJoin=Be,this.pdf.setLineJoin(Be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Be){isNaN(Be)||(this.ctx.miterLimit=Be,this.pdf.setMiterLimit(Be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Be){this.ctx.textBaseline=Be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Be){["right","end","center","left","start"].indexOf(Be)!==-1&&(this.ctx.textAlign=Be)}});var Je=null;function rt(Be,pe){if(Je===null){var vt=function(ct){var Ze=[];return Object.keys(ct).forEach(function(et){ct[et].forEach(function(se){var ve=null;switch(se){case"bold":ve={family:et,weight:"bold"};break;case"italic":ve={family:et,style:"italic"};break;case"bolditalic":ve={family:et,weight:"bold",style:"italic"};break;case"":case"normal":ve={family:et}}ve!==null&&(ve.ref={name:et,style:se},Ze.push(ve))})}),Ze}(Be.getFontList());Je=function(ct){for(var Ze={},et=0;et<ct.length;++et){var se=Sb(ct[et]),ve=se.family,Ee=se.stretch,Qe=se.style,Me=se.weight;Ze[ve]=Ze[ve]||{},Ze[ve][Ee]=Ze[ve][Ee]||{},Ze[ve][Ee][Qe]=Ze[ve][Ee][Qe]||{},Ze[ve][Ee][Qe][Me]=se}return Ze}(vt.concat(pe))}return Je}var pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(Be){Je=null,pt=Be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Be){var pe;if(this.ctx.font=Be,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Be))!==null){var vt=pe[1];pe[2];var ct=pe[3],Ze=pe[4];pe[5];var et=pe[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(se==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var ve=function(St){var Kt,dt,Gr=[],Gt=St.trim();if(Gt==="")return Dy;if(Gt in bk)return[bk[Gt]];for(;Gt!=="";){switch(dt=null,Kt=(Gt=wk(Gt)).charAt(0)){case'"':case"'":dt=aH(Gt.substring(1),Kt);break;default:dt=sH(Gt)}if(dt===null||(Gr.push(dt[0]),(Gt=wk(dt[1]))!==""&&Gt.charAt(0)!==","))return Dy;Gt=Gt.replace(/^,/,"")}return Gr}(et);if(this.fontFaces){var Ee=nH(rt(this.pdf,this.fontFaces),ve.map(function(St){return{family:St,stretch:"normal",weight:ct,style:vt}}));this.pdf.setFont(Ee.ref.name,Ee.ref.style)}else{var Qe="";(ct==="bold"||parseInt(ct,10)>=700||vt==="bold")&&(Qe="bold"),vt==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var Me="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<ve.length;Nt++){if(this.pdf.internal.getFont(ve[Nt],Qe,{noFallback:!0,disableWarning:!0})!==void 0){Me=ve[Nt];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(ve[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Me=ve[Nt],Qe="bold";else if(this.pdf.internal.getFont(ve[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Me=ve[Nt],Qe="normal";break}}if(Me===""){for(var Rt=0;Rt<ve.length;Rt++)if(at[ve[Rt]]){Me=at[ve[Rt]];break}}Me=Me===""?"Times":Me,this.pdf.setFont(Me,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Be){this.ctx.globalCompositeOperation=Be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Be){this.ctx.globalAlpha=Be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Be){this.ctx.lineDashOffset=Be,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Be){this.ctx.lineDash=Be,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Be){this.ctx.ignoreClearRect=!!Be}})};h.prototype.setLineDash=function(M){this.lineDash=M},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){W.call(this,"fill",!1)},h.prototype.stroke=function(){W.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(M,J){if(isNaN(M)||isNaN(J))throw Br.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new i(M,J));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new i(M,J)},h.prototype.closePath=function(){var M=new i(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Er(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){M=new i(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(M.x,M.y)},h.prototype.lineTo=function(M,J){if(isNaN(M)||isNaN(J))throw Br.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new i(M,J));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new i(te.x,te.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},h.prototype.quadraticCurveTo=function(M,J,te,de){if(isNaN(te)||isNaN(de)||isNaN(M)||isNaN(J))throw Br.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new i(te,de)),xe=this.ctx.transform.applyToPoint(new i(M,J));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new i(ie.x,ie.y)},h.prototype.bezierCurveTo=function(M,J,te,de,ie,xe){if(isNaN(ie)||isNaN(xe)||isNaN(M)||isNaN(J)||isNaN(te)||isNaN(de))throw Br.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new i(ie,xe)),me=this.ctx.transform.applyToPoint(new i(M,J)),Pe=this.ctx.transform.applyToPoint(new i(te,de));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Pe.x,y2:Pe.y,x:we.x,y:we.y}),this.ctx.lastPoint=new i(we.x,we.y)},h.prototype.arc=function(M,J,te,de,ie,xe){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(de)||isNaN(ie))throw Br.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new i(M,J));M=we.x,J=we.y;var me=this.ctx.transform.applyToPoint(new i(0,te)),Pe=this.ctx.transform.applyToPoint(new i(0,0));te=Math.sqrt(Math.pow(me.x-Pe.x,2)+Math.pow(me.y-Pe.y,2))}Math.abs(ie-de)>=2*Math.PI&&(de=0,ie=2*Math.PI),this.path.push({type:"arc",x:M,y:J,radius:te,startAngle:de,endAngle:ie,counterclockwise:xe})},h.prototype.arcTo=function(M,J,te,de,ie){throw new Error("arcTo not implemented.")},h.prototype.rect=function(M,J,te,de){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(de))throw Br.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,J),this.lineTo(M+te,J),this.lineTo(M+te,J+de),this.lineTo(M,J+de),this.lineTo(M,J),this.lineTo(M+te,J),this.lineTo(M,J)},h.prototype.fillRect=function(M,J,te,de){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(de))throw Br.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,J,te,de),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},h.prototype.strokeRect=function(M,J,te,de){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(de))throw Br.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(M,J,te,de),this.stroke())},h.prototype.clearRect=function(M,J,te,de){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(de))throw Br.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,J,te,de))},h.prototype.save=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},h.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(J),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(M){var J,te,de,ie;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))J=0,te=0,de=0,ie=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(xe!==null)J=parseInt(xe[1]),te=parseInt(xe[2]),de=parseInt(xe[3]),ie=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)J=parseInt(xe[1]),te=parseInt(xe[2]),de=parseInt(xe[3]),ie=parseFloat(xe[4]);else{if(ie=1,typeof M=="string"&&M.charAt(0)!=="#"){var we=new o6(M);M=we.ok?we.toHex():"#000000"}M.length===4?(J=M.substring(1,2),J+=J,te=M.substring(2,3),te+=te,de=M.substring(3,4),de+=de):(J=M.substring(1,3),te=M.substring(3,5),de=M.substring(5,7)),J=parseInt(J,16),te=parseInt(te,16),de=parseInt(de,16)}}return{r:J,g:te,b:de,a:ie,style:M}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(M,J,te,de){if(isNaN(J)||isNaN(te)||typeof M!="string")throw Br.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!m.call(this)){var ie=V(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;j.call(this,{text:M,x:J,y:te,scale:xe,angle:ie,align:this.textAlign,maxWidth:de})}},h.prototype.strokeText=function(M,J,te,de){if(isNaN(J)||isNaN(te)||typeof M!="string")throw Br.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){de=isNaN(de)?void 0:de;var ie=V(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;j.call(this,{text:M,x:J,y:te,scale:xe,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:de})}},h.prototype.measureText=function(M){if(typeof M!="string")throw Br.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,te=this.pdf.internal.scaleFactor,de=J.internal.getFontSize(),ie=J.getStringUnitWidth(M)*de/J.internal.scaleFactor,xe=function(we){var me=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new xe({width:ie*=Math.round(96*te/72*1e4)/1e4})},h.prototype.scale=function(M,J){if(isNaN(M)||isNaN(J))throw Br.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l(M,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.rotate=function(M){if(isNaN(M))throw Br.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(M,J){if(isNaN(M)||isNaN(J))throw Br.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,M,J);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.transform=function(M,J,te,de,ie,xe){if(isNaN(M)||isNaN(J)||isNaN(te)||isNaN(de)||isNaN(ie)||isNaN(xe))throw Br.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(M,J,te,de,ie,xe);this.ctx.transform=this.ctx.transform.multiply(we)},h.prototype.setTransform=function(M,J,te,de,ie,xe){M=isNaN(M)?1:M,J=isNaN(J)?0:J,te=isNaN(te)?0:te,de=isNaN(de)?1:de,ie=isNaN(ie)?0:ie,xe=isNaN(xe)?0:xe,this.ctx.transform=new l(M,J,te,de,ie,xe)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(M,J,te,de,ie,xe,we,me,Pe){var qe=this.pdf.getImageProperties(M),Je=1,rt=1,pt=1,Be=1;de!==void 0&&me!==void 0&&(pt=me/de,Be=Pe/ie,Je=qe.width/de*me/de,rt=qe.height/ie*Pe/ie),xe===void 0&&(xe=J,we=te,J=0,te=0),de!==void 0&&me===void 0&&(me=de,Pe=ie),de===void 0&&me===void 0&&(me=qe.width,Pe=qe.height);for(var pe,vt=this.ctx.transform.decompose(),ct=V(vt.rotate.shx),Ze=new l,et=(Ze=(Ze=(Ze=Ze.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale)).applyToRectangle(new c(xe-J*pt,we-te*Be,de*Je,ie*rt)),se=A.call(this,et),ve=[],Ee=0;Ee<se.length;Ee+=1)ve.indexOf(se[Ee])===-1&&ve.push(se[Ee]);if(R(ve),this.autoPaging)for(var Qe=ve[0],Me=ve[ve.length-1],at=Qe;at<Me+1;at++){this.pdf.setPage(at);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=at===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=at===1?0:St+(at-2)*Kt;if(this.ctx.clip_path.length!==0){var Gr=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(pe,this.posX+this.margin[3],-dt+Rt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Gr}var Gt=JSON.parse(JSON.stringify(et));Gt=S([Gt],this.posX+this.margin[3],-dt+Rt+this.ctx.prevPageLastElemOffset)[0];var pn=(at>Qe||at<Me)&&v.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Kt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,ct),pn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",et.x,et.y,et.w,et.h,null,null,ct)};var A=function(M,J,te){var de=[];J=J||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":de.push(Math.floor((M.y+ie)/te)+1);break;case"arc":de.push(Math.floor((M.y+ie-M.radius)/te)+1),de.push(Math.floor((M.y+ie+M.radius)/te)+1);break;case"qct":var xe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);de.push(Math.floor((xe.y+ie)/te)+1),de.push(Math.floor((xe.y+xe.h+ie)/te)+1);break;case"bct":var we=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);de.push(Math.floor((we.y+ie)/te)+1),de.push(Math.floor((we.y+we.h+ie)/te)+1);break;case"rect":de.push(Math.floor((M.y+ie)/te)+1),de.push(Math.floor((M.y+M.h+ie)/te)+1)}for(var me=0;me<de.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<de[me];)b.call(this);return de},b=function(){var M=this.fillStyle,J=this.strokeStyle,te=this.font,de=this.lineCap,ie=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=J,this.font=te,this.lineCap=de,this.lineWidth=ie,this.lineJoin=xe},S=function(M,J,te){for(var de=0;de<M.length;de++)switch(M[de].type){case"bct":M[de].x2+=J,M[de].y2+=te;case"qct":M[de].x1+=J,M[de].y1+=te;case"mt":case"lt":case"arc":default:M[de].x+=J,M[de].y+=te}return M},R=function(M){return M.sort(function(J,te){return J-te})},W=function(M,J){for(var te,de,ie=this.fillStyle,xe=this.strokeStyle,we=this.lineCap,me=this.lineWidth,Pe=Math.abs(me*this.ctx.transform.scaleX),qe=this.lineJoin,Je=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),pt=[],Be=0;Be<rt.length;Be++)if(rt[Be].x!==void 0)for(var pe=A.call(this,rt[Be]),vt=0;vt<pe.length;vt+=1)pt.indexOf(pe[vt])===-1&&pt.push(pe[vt]);for(var ct=0;ct<pt.length;ct++)for(;this.pdf.internal.getNumberOfPages()<pt[ct];)b.call(this);if(R(pt),this.autoPaging)for(var Ze=pt[0],et=pt[pt.length-1],se=Ze;se<et+1;se++){this.pdf.setPage(se),this.fillStyle=ie,this.strokeStyle=xe,this.lineCap=we,this.lineWidth=Pe,this.lineJoin=qe;var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=se===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=se===1?0:Qe+(se-2)*Me;if(this.ctx.clip_path.length!==0){var Nt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(te,this.posX+this.margin[3],-at+Ee+this.ctx.prevPageLastElemOffset),z.call(this,M,!0),this.path=Nt}if(de=JSON.parse(JSON.stringify(Je)),this.path=S(de,this.posX+this.margin[3],-at+Ee+this.ctx.prevPageLastElemOffset),J===!1||se===0){var Rt=(se>Ze||se<et)&&v.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,Me,null).clip().discardPath()),z.call(this,M,J),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Pe,z.call(this,M,J),this.lineWidth=me;this.path=Je},z=function(M,J){if((M!=="stroke"||J||!w.call(this))&&(M==="stroke"||J||!m.call(this))){for(var te,de,ie=[],xe=this.path,we=0;we<xe.length;we++){var me=xe[we];switch(me.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:me,deltas:[],abs:[]});break;case"lt":var Pe=ie.length;if(xe[we-1]&&!isNaN(xe[we-1].x)&&(te=[me.x-xe[we-1].x,me.y-xe[we-1].y],Pe>0)){for(;Pe>=0;Pe--)if(ie[Pe-1].close!==!0&&ie[Pe-1].begin!==!0){ie[Pe-1].deltas.push(te),ie[Pe-1].abs.push(me);break}}break;case"bct":te=[me.x1-xe[we-1].x,me.y1-xe[we-1].y,me.x2-xe[we-1].x,me.y2-xe[we-1].y,me.x-xe[we-1].x,me.y-xe[we-1].y],ie[ie.length-1].deltas.push(te);break;case"qct":var qe=xe[we-1].x+2/3*(me.x1-xe[we-1].x),Je=xe[we-1].y+2/3*(me.y1-xe[we-1].y),rt=me.x+2/3*(me.x1-me.x),pt=me.y+2/3*(me.y1-me.y),Be=me.x,pe=me.y;te=[qe-xe[we-1].x,Je-xe[we-1].y,rt-xe[we-1].x,pt-xe[we-1].y,Be-xe[we-1].x,pe-xe[we-1].y],ie[ie.length-1].deltas.push(te);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(me)}}de=J?null:M==="stroke"?"stroke":"fill";for(var vt=!1,ct=0;ct<ie.length;ct++)if(ie[ct].arc)for(var Ze=ie[ct].abs,et=0;et<Ze.length;et++){var se=Ze[et];se.type==="arc"?I.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,J,!vt):P.call(this,se.x,se.y),vt=!0}else if(ie[ct].close===!0)this.pdf.internal.out("h"),vt=!1;else if(ie[ct].begin!==!0){var ve=ie[ct].start.x,Ee=ie[ct].start.y;E.call(this,ie[ct].deltas,ve,Ee),vt=!0}de&&k.call(this,de),J&&_.call(this)}},B=function(M){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-te;case"top":return M+J-te;case"hanging":return M+J-2*te;case"middle":return M+J/2-te;case"ideographic":return M;case"alphabetic":default:return M}},g=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(J,te){this.colorStops.push([J,te])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(M,J,te,de,ie,xe,we,me,Pe){for(var qe=q.call(this,te,de,ie,xe),Je=0;Je<qe.length;Je++){var rt=qe[Je];Je===0&&(Pe?x.call(this,rt.x1+M,rt.y1+J):P.call(this,rt.x1+M,rt.y1+J)),U.call(this,M,J,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}me?_.call(this):k.call(this,we)},k=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},_=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(M,J){this.pdf.internal.out(r(M)+" "+n(J)+" m")},j=function(M){var J;switch(M.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var te=this.pdf.getTextDimensions(M.text),de=B.call(this,M.y),ie=g.call(this,de)-te.h,xe=this.ctx.transform.applyToPoint(new i(M.x,de)),we=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Pe,qe,Je,rt=this.ctx.transform.applyToRectangle(new c(M.x,de,te.w,te.h)),pt=me.applyToRectangle(new c(M.x,ie,te.w,te.h)),Be=A.call(this,pt),pe=[],vt=0;vt<Be.length;vt+=1)pe.indexOf(Be[vt])===-1&&pe.push(Be[vt]);if(R(pe),this.autoPaging)for(var ct=pe[0],Ze=pe[pe.length-1],et=ct;et<Ze+1;et++){this.pdf.setPage(et);var se=et===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[2],Qe=Ee-this.margin[0],Me=this.pdf.internal.pageSize.width-this.margin[1],at=Me-this.margin[3],Nt=et===1?0:ve+(et-2)*Qe;if(this.ctx.clip_path.length!==0){var Rt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Pe,this.posX+this.margin[3],-1*Nt+se),z.call(this,"fill",!0),this.path=Rt}var St=S([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-Nt+se+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*M.scale),Je=this.lineWidth,this.lineWidth=Je*M.scale);var Kt=this.autoPaging!=="text";if(Kt||St.y+St.h<=Ee){if(Kt||St.y>=se&&St.x<=Me){var dt=Kt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Me-St.x)[0],Gr=S([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-Nt+se+this.ctx.prevPageLastElemOffset)[0],Gt=Kt&&(et>ct||et<Ze)&&v.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Qe,null).clip().discardPath()),this.pdf.text(dt,Gr.x,Gr.y,{angle:M.angle,align:J,renderingMode:M.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else St.y<Ee&&(this.ctx.prevPageLastElemOffset+=Ee-St.y);M.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=Je)}else M.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*M.scale),Je=this.lineWidth,this.lineWidth=Je*M.scale),this.pdf.text(M.text,xe.x+this.posX,xe.y+this.posY,{angle:M.angle,align:J,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=Je)},P=function(M,J,te,de){te=te||0,de=de||0,this.pdf.internal.out(r(M+te)+" "+n(J+de)+" l")},E=function(M,J,te){return this.pdf.lines(M,J,te,null,null)},U=function(M,J,te,de,ie,xe,we,me){this.pdf.internal.out([e(a(te+M)),e(o(de+J)),e(a(ie+M)),e(o(xe+J)),e(a(we+M)),e(o(me+J)),"c"].join(" "))},q=function(M,J,te,de){for(var ie=2*Math.PI,xe=Math.PI/2;J>te;)J-=ie;var we=Math.abs(te-J);we<ie&&de&&(we=ie-we);for(var me=[],Pe=de?-1:1,qe=J;we>1e-5;){var Je=qe+Pe*Math.min(we,xe);me.push(G.call(this,M,qe,Je)),we-=Math.abs(Je-qe),qe=Je}return me},G=function(M,J,te){var de=(te-J)/2,ie=M*Math.cos(de),xe=M*Math.sin(de),we=ie,me=-xe,Pe=we*we+me*me,qe=Pe+we*ie+me*xe,Je=4/3*(Math.sqrt(2*Pe*qe)-qe)/(we*xe-me*ie),rt=we-Je*me,pt=me+Je*we,Be=rt,pe=-pt,vt=de+J,ct=Math.cos(vt),Ze=Math.sin(vt);return{x1:M*Math.cos(J),y1:M*Math.sin(J),x2:rt*ct-pt*Ze,y2:rt*Ze+pt*ct,x3:Be*ct-pe*Ze,y3:Be*Ze+pe*ct,x4:M*Math.cos(te),y4:M*Math.sin(te)}},V=function(M){return 180*M/Math.PI},ee=function(M,J,te,de,ie,xe){var we=M+.5*(te-M),me=J+.5*(de-J),Pe=ie+.5*(te-ie),qe=xe+.5*(de-xe),Je=Math.min(M,ie,we,Pe),rt=Math.max(M,ie,we,Pe),pt=Math.min(J,xe,me,qe),Be=Math.max(J,xe,me,qe);return new c(Je,pt,rt-Je,Be-pt)},le=function(M,J,te,de,ie,xe,we,me){var Pe,qe,Je,rt,pt,Be,pe,vt,ct,Ze,et,se,ve,Ee,Qe=te-M,Me=de-J,at=ie-te,Nt=xe-de,Rt=we-ie,St=me-xe;for(qe=0;qe<41;qe++)ct=(pe=(Je=M+(Pe=qe/40)*Qe)+Pe*((pt=te+Pe*at)-Je))+Pe*(pt+Pe*(ie+Pe*Rt-pt)-pe),Ze=(vt=(rt=J+Pe*Me)+Pe*((Be=de+Pe*Nt)-rt))+Pe*(Be+Pe*(xe+Pe*St-Be)-vt),qe==0?(et=ct,se=Ze,ve=ct,Ee=Ze):(et=Math.min(et,ct),se=Math.min(se,Ze),ve=Math.max(ve,ct),Ee=Math.max(Ee,Ze));return new c(Math.round(et),Math.round(se),Math.round(ve-et),Math.round(Ee-se))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,J,te=(M=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:J}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Bt.API),function(t){var e=function(o){var i,c,l,d,u,h,y,m,w,v;for(c=[],l=0,d=(o+=i="\0\0\0\0".slice(o.length%4||4)).length;d>l;l+=4)(u=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(v=u%85))/85)-(w=u%85))/85)-(m=u%85))/85)-(y=u%85))/85)%85,c.push(h+33,y+33,m+33,w+33,v+33)):c.push(122);return function(A,b){for(var S=b;S>0;S--)A.pop()}(c,i.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var i,c,l,d,u,h=String,y="length",m=255,w="charCodeAt",v="slice",A="replace";for(o[v](-2),o=o[v](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],d=0,u=(o+=i="uuuuu"[v](o[y]%5||5))[y];u>d;d+=5)c=52200625*(o[w](d)-33)+614125*(o[w](d+1)-33)+7225*(o[w](d+2)-33)+85*(o[w](d+3)-33)+(o[w](d+4)-33),l.push(m&c>>24,m&c>>16,m&c>>8,m&c);return function(b,S){for(var R=S;R>0;R--)b.pop()}(l,i[y]),h.fromCharCode.apply(h,l)},n=function(o){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),i.test(o)===!1)return"";for(var c="",l=0;l<o.length;l+=2)c+=String.fromCharCode("0x"+(o[l]+o[l+1]));return c},a=function(o){for(var i=new Uint8Array(o.length),c=o.length;c--;)i[c]=o.charCodeAt(c);return o=(i=bb(i)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,i){var c=0,l=o||"",d=[];for(typeof(i=i||[])=="string"&&(i=[i]),c=0;c<i.length;c+=1)switch(i[c]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[c]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(Bt.API),function(t){t.loadFile=function(e,r,n){return function(a,o,i){o=o!==!1,i=typeof i=="function"?i:function(){};var c=void 0;try{c=function(l,d,u){var h=new XMLHttpRequest,y=0,m=function(w){var v=w.length,A=[],b=String.fromCharCode;for(y=0;y<v;y+=1)A.push(b(255&w.charCodeAt(y)));return A.join("")};if(h.open("GET",l,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(m(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return m(h.responseText)}(a,o,i)}catch{}return c}(e,r,n)},t.loadImageFile=t.loadFile}(Bt.API),function(t){function e(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):ki(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):ki(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var c=Er(i);return c==="undefined"?"undefined":c==="string"||i instanceof String?"string":c==="number"||i instanceof Number?"number":c==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(i,c){var l=document.createElement(i);for(var d in c.className&&(l.className=c.className),c.innerHTML&&c.dompurify&&(l.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)l.style[d]=c.style[d];return l},o=function i(c){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),d=i.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,i,1,[i])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(i,c){return i.__proto__=c||o.prototype,i},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(i,c){return this.then(function(){switch(c=c||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},o.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function l(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)u!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||h.appendChild(l(y,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(c){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,c(this.prop.container,l)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(c){var l=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var m=d[y],w=m.src.find(function(v){return v.format==="truetype"});w&&l.addFont(w.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(i,c,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,c):this.outputPdf(i,c)},o.prototype.outputPdf=function(i,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,c)})},o.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},o.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(i){if(n(i)!=="object")return this;var c=Object.keys(i||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(i,c){return this.then(function(){var l=i in o.template.prop?this.prop[i]:this.opt[i];return c?c(l):l})},o.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},o.prototype.setPageSize=function(i){function c(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(i=i||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:c(i.inner.width,i.k),height:c(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},o.prototype.setProgress=function(i,c,l,d){return i!=null&&(this.progress.val=i),c!=null&&(this.progress.state=c),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(i,c,l,d){return this.setProgress(i?this.progress.val+i:null,c||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(i,c){var l=this;return this.thenCore(i,c,function(d,u){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,d),h}).then(d,u).then(function(h){return l.updateProgress(1),h})})},o.prototype.thenCore=function(i,c,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=l.call(d,i,c);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(i,c){return Promise.prototype.then.call(this,i,c)},o.prototype.thenList=function(i){var c=this;return i.forEach(function(l){c=c.thenCore(l)}),c},o.prototype.catch=function(i){i&&(i=i.bind(this));var c=Promise.prototype.catch.call(this,i);return o.convert(c,this)},o.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},o.prototype.error=function(i){return this.then(function(){throw new Error(i)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Bt.getPageSize=function(i,c,l){if(Er(i)==="object"){var d=i;i=d.orientation,c=d.unit||c,l=d.format||l}c=c||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+c}var m,w=0,v=0;if(y.hasOwnProperty(h))w=y[h][1]/u,v=y[h][0]/u;else try{w=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",v>w&&(m=v,v=w,w=m);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",w>v&&(m=v,v=w,w=m)}return{width:v,height:w,unit:c,k:u,orientation:i}},t.html=function(i,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Sb):null;var l=new o(c);return c.worker?l:l.from(i).doCallback()}}(Bt.API),Bt.API.addJS=function(t){return jk=t,this.internal.events.subscribe("postPutResources",function(){mp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mp!==void 0&&kk!==void 0&&this.internal.out("/Names <</JavaScript "+mp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),o=0;o<a.length;o++){var i=a[o],c=n.exec(i);if(c!=null){var l=c[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(o=0;o<d;o++){var h=r.internal.newObject();u.push(h);var y=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<u.length;o++)r.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,o){var i={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var i=n.children[o];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var c=this.count=this.count_r({count:0},i);if(c>0&&this.line("/Count "+c),i.options&&i.options.pageNumber){var l=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])}(Bt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,o,i,c){var l,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var y,m=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,v={width:0,height:0,numcomponents:1},A=4;A<w;A+=2){if(A+=m,e.indexOf(h.charCodeAt(A+1))!==-1){y=256*h.charCodeAt(A+5)+h.charCodeAt(A+6),v={width:256*h.charCodeAt(A+7)+h.charCodeAt(A+8),height:y,numcomponents:h.charCodeAt(A+9)};break}m=256*h.charCodeAt(A+2)+h.charCodeAt(A+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(Bt.API);var Yc,gp,Nk,Sk,Ck,oH=function(){var t,e,r;function n(o){var i,c,l,d,u,h,y,m,w,v,A,b,S,R;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),w=(function(){var W,z;for(z=[],W=0;W<4;++W)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,i-=4),o=(h!=null?h.data:void 0)||this.imgData,b=0;0<=i?b<i:b>i;0<=i?++b:--b)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(S=0;0<=v?S<v:S>v;0<=v?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":y=(A=this.read(i)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,y)),this.text[m]=String.fromCharCode.apply(String,A.slice(y+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(R=this.colorType)===4||R===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(o){var i,c;for(c=[],i=0;0<=o?i<o:i>o;0<=o?++i:--i)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(o){var i=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*i),l=0,d=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(h,y,m,w){var v,A,b,S,R,W,z,B,g,I,k,_,x,j,P,E,U,q,G,V,ee,le=Math.ceil((d.width-h)/m),Z=Math.ceil((d.height-y)/w),M=d.width==le&&d.height==Z;for(j=i*le,_=M?c:new Uint8Array(j*Z),W=o.length,x=0,A=0;x<Z&&l<W;){switch(o[l++]){case 0:for(S=U=0;U<j;S=U+=1)_[A++]=o[l++];break;case 1:for(S=q=0;q<j;S=q+=1)v=o[l++],R=S<i?0:_[A-i],_[A++]=(v+R)%256;break;case 2:for(S=G=0;G<j;S=G+=1)v=o[l++],b=(S-S%i)/i,P=x&&_[(x-1)*j+b*i+S%i],_[A++]=(P+v)%256;break;case 3:for(S=V=0;V<j;S=V+=1)v=o[l++],b=(S-S%i)/i,R=S<i?0:_[A-i],P=x&&_[(x-1)*j+b*i+S%i],_[A++]=(v+Math.floor((R+P)/2))%256;break;case 4:for(S=ee=0;ee<j;S=ee+=1)v=o[l++],b=(S-S%i)/i,R=S<i?0:_[A-i],x===0?P=E=0:(P=_[(x-1)*j+b*i+S%i],E=b&&_[(x-1)*j+(b-1)*i+S%i]),z=R+P-E,B=Math.abs(z-R),I=Math.abs(z-P),k=Math.abs(z-E),g=B<=I&&B<=k?R:I<=k?P:E,_[A++]=(v+g)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!M){var J=((y+x*w)*d.width+h)*i,te=x*j;for(S=0;S<le;S+=1){for(var de=0;de<i;de+=1)c[J++]=_[te++];J+=(m-1)*i}}x++}}return o=FV(o),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),c},n.prototype.decodePalette=function(){var o,i,c,l,d,u,h,y,m;for(c=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+c.length),l=0,o=0,i=h=0,y=c.length;h<y;i=h+=3)d[l++]=c[i],d[l++]=c[i+1],d[l++]=c[i+2],d[l++]=(m=u[o++])!=null?m:255;return d},n.prototype.copyToImageData=function(o,i){var c,l,d,u,h,y,m,w,v,A,b;if(l=this.colors,v=null,c=this.hasAlphaChannel,this.palette.length&&(v=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,c=!0),w=(d=o.data||o).length,h=v||i,u=y=0,l===1)for(;u<w;)m=v?4*i[u/4]:y,A=h[m++],d[u++]=A,d[u++]=A,d[u++]=A,d[u++]=c?h[m++]:255,y=m;else for(;u<w;)m=v?4*i[u/4]:y,d[u++]=h[m++],d[u++]=h[m++],d[u++]=h[m++],d[u++]=c?h[m++]:255,y=m},n.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var a=function(){if(Object.prototype.toString.call(qt)==="[object Window]"){try{e=qt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(o){var i;if(a()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(i=new Image).src=e.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(o){var i,c,l,d,u,h,y,m;if(this.animation){for(m=[],c=u=0,h=(y=this.animation.frames).length;u<h;c=++u)i=y[c],l=o.createImageData(i.width,i.height),d=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,d),i.imageData=l,m.push(i.image=t(l));return m}},n.prototype.renderFrame=function(o,i){var c,l,d;return c=(l=this.animation.frames)[i],d=l[i-1],i===0&&o.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?o.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&o.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&o.clearRect(c.xOffset,c.yOffset,c.width,c.height),o.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(o){var i,c,l,d,u,h,y=this;return c=0,h=this.animation,d=h.numFrames,l=h.frames,u=h.numPlays,(i=function(){var m,w;if(m=c++%d,w=l[m],y.renderFrame(o,m),d>1&&c/d<u)return y.animation._timeout=setTimeout(i,w.delay)})()},n.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},n.prototype.render=function(o){var i,c;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,i=o.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(c=i.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),i.putImageData(c,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function iH(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],o=a>>7,i=1<<(7&a)+1;t[e++],t[e++];var c=null,l=null;o&&(c=e,l=i,e+=3*i);var d=!0,u=[],h=0,y=null,m=0,w=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];h=t[e++]|t[e++]<<8,y=t[e++],!(1&v)&&(y=null),m=v>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,W=t[e++],z=W>>6&1,B=1<<(7&W)+1,g=c,I=l,k=!1;W>>7&&(k=!0,g=e,I=B,e+=3*B);var _=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}u.push({x:A,y:b,width:S,height:R,has_local_palette:k,palette_offset:g,palette_size:I,data_offset:_,data_length:e-_,transparent_index:y,interlaced:!!z,delay:h,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,P){var E=this.frameInfo(j),U=E.width*E.height,q=new Uint8Array(U);_k(t,E.data_offset,q,U);var G=E.palette_offset,V=E.transparent_index;V===null&&(V=256);var ee=E.width,le=r-ee,Z=ee,M=4*(E.y*r+E.x),J=4*((E.y+E.height)*r+E.x),te=M,de=4*le;E.interlaced===!0&&(de+=4*r*7);for(var ie=8,xe=0,we=q.length;xe<we;++xe){var me=q[xe];if(Z===0&&(Z=ee,(te+=de)>=J&&(de=4*le+4*r*(ie-1),te=M+(ee+le)*(ie<<1),ie>>=1)),me===V)te+=4;else{var Pe=t[G+3*me],qe=t[G+3*me+1],Je=t[G+3*me+2];P[te++]=Je,P[te++]=qe,P[te++]=Pe,P[te++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(j,P){var E=this.frameInfo(j),U=E.width*E.height,q=new Uint8Array(U);_k(t,E.data_offset,q,U);var G=E.palette_offset,V=E.transparent_index;V===null&&(V=256);var ee=E.width,le=r-ee,Z=ee,M=4*(E.y*r+E.x),J=4*((E.y+E.height)*r+E.x),te=M,de=4*le;E.interlaced===!0&&(de+=4*r*7);for(var ie=8,xe=0,we=q.length;xe<we;++xe){var me=q[xe];if(Z===0&&(Z=ee,(te+=de)>=J&&(de=4*le+4*r*(ie-1),te=M+(ee+le)*(ie<<1),ie>>=1)),me===V)te+=4;else{var Pe=t[G+3*me],qe=t[G+3*me+1],Je=t[G+3*me+2];P[te++]=Pe,P[te++]=qe,P[te++]=Je,P[te++]=255}--Z}}}function _k(t,e,r,n){for(var a=t[e++],o=1<<a,i=o+1,c=i+1,l=a+1,d=(1<<l)-1,u=0,h=0,y=0,m=t[e++],w=new Int32Array(4096),v=null;;){for(;u<16&&m!==0;)h|=t[e++]<<u,u+=8,m===1?m=t[e++]:--m;if(u<l)break;var A=h&d;if(h>>=l,u-=l,A!==o){if(A===i)break;for(var b=A<c?A:v,S=0,R=b;R>o;)R=w[R]>>8,++S;var W=R;if(y+S+(b!==A?1:0)>n)return void Br.log("Warning, gif stream longer than expected.");r[y++]=W;var z=y+=S;for(b!==A&&(r[y++]=W),R=b;S--;)R=w[R],r[--z]=255&R,R>>=8;v!==null&&c<4096&&(w[c++]=v<<8|W,c>=d+1&&l<12&&(++l,d=d<<1|1)),v=A}else c=i+1,d=(1<<(l=a+1))-1,v=null}return y!==n&&Br.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Iy(t){var e,r,n,a,o,i=Math.floor,c=new Array(64),l=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),y=new Array(65535),m=new Array(64),w=new Array(64),v=[],A=0,b=7,S=new Array(64),R=new Array(64),W=new Array(64),z=new Array(256),B=new Array(2048),g=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(M,J){for(var te=0,de=0,ie=new Array,xe=1;xe<=16;xe++){for(var we=1;we<=M[xe];we++)ie[J[de]]=[],ie[J[de]][0]=te,ie[J[de]][1]=xe,de++,te++;te*=2}return ie}function G(M){for(var J=M[0],te=M[1]-1;te>=0;)J&1<<te&&(A|=1<<b),te--,--b<0&&(A==255?(V(255),V(0)):V(A),b=7,A=0)}function V(M){v.push(M)}function ee(M){V(M>>8&255),V(255&M)}function le(M,J,te,de,ie){for(var xe,we=ie[0],me=ie[240],Pe=function(Ze,et){var se,ve,Ee,Qe,Me,at,Nt,Rt,St,Kt,dt=0;for(St=0;St<8;++St){se=Ze[dt],ve=Ze[dt+1],Ee=Ze[dt+2],Qe=Ze[dt+3],Me=Ze[dt+4],at=Ze[dt+5],Nt=Ze[dt+6];var Gr=se+(Rt=Ze[dt+7]),Gt=se-Rt,pn=ve+Nt,rr=ve-Nt,Sr=Ee+at,ta=Ee-at,sr=Qe+Me,js=Qe-Me,qr=Gr+sr,Sn=Gr-sr,mr=pn+Sr,tr=pn-Sr;Ze[dt]=qr+mr,Ze[dt+4]=qr-mr;var wt=.707106781*(tr+Sn);Ze[dt+2]=Sn+wt,Ze[dt+6]=Sn-wt;var Pt=.382683433*((qr=js+ta)-(tr=rr+Gt)),lr=.5411961*qr+Pt,cr=1.306562965*tr+Pt,rn=.707106781*(mr=ta+rr),Cn=Gt+rn,mt=Gt-rn;Ze[dt+5]=mt+lr,Ze[dt+3]=mt-lr,Ze[dt+1]=Cn+cr,Ze[dt+7]=Cn-cr,dt+=8}for(dt=0,St=0;St<8;++St){se=Ze[dt],ve=Ze[dt+8],Ee=Ze[dt+16],Qe=Ze[dt+24],Me=Ze[dt+32],at=Ze[dt+40],Nt=Ze[dt+48];var Mr=se+(Rt=Ze[dt+56]),Lr=se-Rt,Dr=ve+Nt,Nr=ve-Nt,Ir=Ee+at,Xr=Ee-at,Ia=Qe+Me,la=Qe-Me,Za=Mr+Ia,es=Mr-Ia,Ra=Dr+Ir,Ns=Dr-Ir;Ze[dt]=Za+Ra,Ze[dt+32]=Za-Ra;var Rn=.707106781*(Ns+es);Ze[dt+16]=es+Rn,Ze[dt+48]=es-Rn;var ts=.382683433*((Za=la+Xr)-(Ns=Nr+Lr)),qs=.5411961*Za+ts,yo=1.306562965*Ns+ts,Us=.707106781*(Ra=Xr+Nr),Jo=Lr+Us,Pi=Lr-Us;Ze[dt+40]=Pi+qs,Ze[dt+24]=Pi-qs,Ze[dt+8]=Jo+yo,Ze[dt+56]=Jo-yo,dt++}for(St=0;St<64;++St)Kt=Ze[St]*et[St],m[St]=Kt>0?Kt+.5|0:Kt-.5|0;return m}(M,J),qe=0;qe<64;++qe)w[g[qe]]=Pe[qe];var Je=w[0]-te;te=w[0],Je==0?G(de[0]):(G(de[y[xe=32767+Je]]),G(h[xe]));for(var rt=63;rt>0&&w[rt]==0;)rt--;if(rt==0)return G(we),te;for(var pt,Be=1;Be<=rt;){for(var pe=Be;w[Be]==0&&Be<=rt;)++Be;var vt=Be-pe;if(vt>=16){pt=vt>>4;for(var ct=1;ct<=pt;++ct)G(me);vt&=15}xe=32767+w[Be],G(ie[(vt<<4)+y[xe]]),G(h[xe]),Be++}return rt!=63&&G(we),te}function Z(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(J){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var ie=i((te[de]*J+50)/100);ie=Math.min(Math.max(ie,1),255),c[g[de]]=ie}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var me=i((xe[we]*J+50)/100);me=Math.min(Math.max(me,1),255),l[g[we]]=me}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,Je=0;Je<8;Je++)for(var rt=0;rt<8;rt++)d[qe]=1/(c[g[qe]]*Pe[Je]*Pe[rt]*8),u[qe]=1/(l[g[qe]]*Pe[Je]*Pe[rt]*8),qe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,J){J&&Z(J),v=new Array,A=0,b=7,ee(65496),ee(65504),ee(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ee(1),ee(1),V(0),V(0),function(){ee(65499),ee(132),V(0);for(var ve=0;ve<64;ve++)V(c[ve]);V(1);for(var Ee=0;Ee<64;Ee++)V(l[Ee])}(),function(ve,Ee){ee(65472),ee(17),V(8),ee(Ee),ee(ve),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(M.width,M.height),function(){ee(65476),ee(418),V(0);for(var ve=0;ve<16;ve++)V(I[ve+1]);for(var Ee=0;Ee<=11;Ee++)V(k[Ee]);V(16);for(var Qe=0;Qe<16;Qe++)V(_[Qe+1]);for(var Me=0;Me<=161;Me++)V(x[Me]);V(1);for(var at=0;at<16;at++)V(j[at+1]);for(var Nt=0;Nt<=11;Nt++)V(P[Nt]);V(17);for(var Rt=0;Rt<16;Rt++)V(E[Rt+1]);for(var St=0;St<=161;St++)V(U[St])}(),ee(65498),ee(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var te=0,de=0,ie=0;A=0,b=7,this.encode.displayName="_encode_";for(var xe,we,me,Pe,qe,Je,rt,pt,Be,pe=M.data,vt=M.width,ct=M.height,Ze=4*vt,et=0;et<ct;){for(xe=0;xe<Ze;){for(qe=Ze*et+xe,rt=-1,pt=0,Be=0;Be<64;Be++)Je=qe+(pt=Be>>3)*Ze+(rt=4*(7&Be)),et+pt>=ct&&(Je-=Ze*(et+1+pt-ct)),xe+rt>=Ze&&(Je-=xe+rt-Ze+4),we=pe[Je++],me=pe[Je++],Pe=pe[Je++],S[Be]=(B[we]+B[me+256>>0]+B[Pe+512>>0]>>16)-128,R[Be]=(B[we+768>>0]+B[me+1024>>0]+B[Pe+1280>>0]>>16)-128,W[Be]=(B[we+1280>>0]+B[me+1536>>0]+B[Pe+1792>>0]>>16)-128;te=le(S,d,te,e,n),de=le(R,u,de,r,a),ie=le(W,u,ie,r,a),xe+=32}et+=8}if(b>=0){var se=[];se[1]=b+1,se[0]=(1<<b+1)-1,G(se)}return ee(65497),new Uint8Array(v)},t=t||50,function(){for(var M=String.fromCharCode,J=0;J<256;J++)z[J]=M(J)}(),e=q(I,k),r=q(j,P),n=q(_,x),a=q(E,U),function(){for(var M=1,J=2,te=1;te<=15;te++){for(var de=M;de<J;de++)y[32767+de]=te,h[32767+de]=[],h[32767+de][1]=te,h[32767+de][0]=de;for(var ie=-(J-1);ie<=-M;ie++)y[32767+ie]=te,h[32767+ie]=[],h[32767+ie][1]=te,h[32767+ie][0]=J-1+ie;M<<=1,J<<=1}}(),function(){for(var M=0;M<256;M++)B[M]=19595*M,B[M+256>>0]=38470*M,B[M+512>>0]=7471*M+32768,B[M+768>>0]=-11059*M,B[M+1024>>0]=-21709*M,B[M+1280>>0]=32768*M+8421375,B[M+1536>>0]=-27439*M,B[M+1792>>0]=-5329*M}(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function to(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ek(t){function e(I){if(!I)throw Error("assert :P")}function r(I,k,_){for(var x=0;4>x;x++)if(I[k+x]!=_.charCodeAt(x))return!0;return!1}function n(I,k,_,x,j){for(var P=0;P<j;P++)I[k+P]=_[x+P]}function a(I,k,_,x){for(var j=0;j<x;j++)I[k+j]=_}function o(I){return new Int32Array(I)}function i(I,k){for(var _=[],x=0;x<I;x++)_.push(new k);return _}function c(I,k){var _=[];return function x(j,P,E){for(var U=E[P],q=0;q<U&&(j.push(E.length>P+1?[]:new k),!(E.length<P+1));q++)x(j[q],P+1,E)}(_,0,I),_}var l=function(){var I=this;function k(f,N){for(var T=1<<N-1>>>0;f&T;)T>>>=1;return T?(f&T-1)+T:f}function _(f,N,T,H,Q){e(!(H%T));do f[N+(H-=T)]=Q;while(0<H)}function x(f,N,T,H,Q){if(e(2328>=Q),512>=Q)var re=o(512);else if((re=o(Q))==null)return 0;return function(ae,oe,ce,fe,je,Re){var Te,_e,Xe=oe,ze=1<<ce,Ne=o(16),Ce=o(16);for(e(je!=0),e(fe!=null),e(ae!=null),e(0<ce),_e=0;_e<je;++_e){if(15<fe[_e])return 0;++Ne[fe[_e]]}if(Ne[0]==je)return 0;for(Ce[1]=0,Te=1;15>Te;++Te){if(Ne[Te]>1<<Te)return 0;Ce[Te+1]=Ce[Te]+Ne[Te]}for(_e=0;_e<je;++_e)Te=fe[_e],0<fe[_e]&&(Re[Ce[Te]++]=_e);if(Ce[15]==1)return(fe=new j).g=0,fe.value=Re[0],_(ae,Xe,1,ze,fe),ze;var Ke,tt=-1,Ye=ze-1,gt=0,ut=1,Lt=1,ht=1<<ce;for(_e=0,Te=1,je=2;Te<=ce;++Te,je<<=1){if(ut+=Lt<<=1,0>(Lt-=Ne[Te]))return 0;for(;0<Ne[Te];--Ne[Te])(fe=new j).g=Te,fe.value=Re[_e++],_(ae,Xe+gt,je,ht,fe),gt=k(gt,Te)}for(Te=ce+1,je=2;15>=Te;++Te,je<<=1){if(ut+=Lt<<=1,0>(Lt-=Ne[Te]))return 0;for(;0<Ne[Te];--Ne[Te]){if(fe=new j,(gt&Ye)!=tt){for(Xe+=ht,Ke=1<<(tt=Te)-ce;15>tt&&!(0>=(Ke-=Ne[tt]));)++tt,Ke<<=1;ze+=ht=1<<(Ke=tt-ce),ae[oe+(tt=gt&Ye)].g=Ke+ce,ae[oe+tt].value=Xe-oe-tt}fe.g=Te-ce,fe.value=Re[_e++],_(ae,Xe+(gt>>ce),je,ht,fe),gt=k(gt,Te)}}return ut!=2*Ce[15]-1?0:ze}(f,N,T,H,Q,re)}function j(){this.value=this.g=0}function P(){this.value=this.g=0}function E(){this.G=i(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(En,P)}function U(f,N,T,H){e(f!=null),e(N!=null),e(2147483648>H),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=N,f.pa=T,f.Jd=N,f.Yc=T+H,f.Zc=4<=H?T+H-4+1:T,xe(f)}function q(f,N){for(var T=0;0<N--;)T|=me(f,128)<<N;return T}function G(f,N){var T=q(f,N);return we(f)?-T:T}function V(f,N,T,H){var Q,re=0;for(e(f!=null),e(N!=null),e(4294967288>H),f.Sb=H,f.Ra=0,f.u=0,f.h=0,4<H&&(H=4),Q=0;Q<H;++Q)re+=N[T+Q]<<8*Q;f.Ra=re,f.bb=H,f.oa=N,f.pa=T}function ee(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Na-8>>>0,++f.bb,f.u-=8;te(f)&&(f.h=1,f.u=0)}function le(f,N){if(e(0<=N),!f.h&&N<=So){var T=J(f)&Oa[N];return f.u+=N,ee(f),T}return f.h=1,f.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(f){return f.Ra>>>(f.u&Na-1)>>>0}function te(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Na}function de(f,N){f.u=N,f.h=te(f)}function ie(f){f.u>=Mi&&(e(f.u>=Mi),ee(f))}function xe(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function we(f){return q(f,1)}function me(f,N){var T=f.Ca;0>f.b&&xe(f);var H=f.b,Q=T*N>>>8,re=(f.I>>>H>Q)+0;for(re?(T-=Q,f.I-=Q+1<<H>>>0):T=Q+1,H=T,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+An[H],f.b-=H,f.Ca=(T<<H)-1,re}function Pe(f,N,T){f[N+0]=T>>24&255,f[N+1]=T>>16&255,f[N+2]=T>>8&255,f[N+3]=T>>0&255}function qe(f,N){return f[N+0]<<0|f[N+1]<<8}function Je(f,N){return qe(f,N)|f[N+2]<<16}function rt(f,N){return qe(f,N)|qe(f,N+2)<<16}function pt(f,N){var T=1<<N;return e(f!=null),e(0<N),f.X=o(T),f.X==null?0:(f.Mb=32-N,f.Xa=N,1)}function Be(f,N){e(f!=null),e(N!=null),e(f.Xa==N.Xa),n(N.X,0,f.X,0,1<<N.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function vt(f,N,T,H){e(T!=null),e(H!=null);var Q=T[0],re=H[0];return Q==0&&(Q=(f*re+N/2)/N),re==0&&(re=(N*Q+f/2)/f),0>=Q||0>=re?0:(T[0]=Q,H[0]=re,1)}function ct(f,N){return f+(1<<N)-1>>>N}function Ze(f,N){return((4278255360&f)+(4278255360&N)>>>0&4278255360)+((16711935&f)+(16711935&N)>>>0&16711935)>>>0}function et(f,N){I[N]=function(T,H,Q,re,ae,oe,ce){var fe;for(fe=0;fe<ae;++fe){var je=I[f](oe[ce+fe-1],Q,re+fe);oe[ce+fe]=Ze(T[H+fe],je)}}}function se(){this.ud=this.hd=this.jd=0}function ve(f,N){return((4278124286&(f^N))>>>1)+(f&N)>>>0}function Ee(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Qe(f,N){return Ee(f+(f-N+.5>>1))}function Me(f,N,T){return Math.abs(N-T)-Math.abs(f-T)}function at(f,N,T,H,Q,re,ae){for(H=re[ae-1],T=0;T<Q;++T)re[ae+T]=H=Ze(f[N+T],H)}function Nt(f,N,T,H,Q){var re;for(re=0;re<T;++re){var ae=f[N+re],oe=ae>>8&255,ce=16711935&(ce=(ce=16711935&ae)+((oe<<16)+oe));H[Q+re]=(4278255360&ae)+ce>>>0}}function Rt(f,N){N.jd=f>>0&255,N.hd=f>>8&255,N.ud=f>>16&255}function St(f,N,T,H,Q,re){var ae;for(ae=0;ae<H;++ae){var oe=N[T+ae],ce=oe>>>8,fe=oe,je=255&(je=(je=oe>>>16)+((f.jd<<24>>24)*(ce<<24>>24)>>>5));fe=255&(fe=(fe=fe+((f.hd<<24>>24)*(ce<<24>>24)>>>5))+((f.ud<<24>>24)*(je<<24>>24)>>>5)),Q[re+ae]=(4278255360&oe)+(je<<16)+fe}}function Kt(f,N,T,H,Q){I[N]=function(re,ae,oe,ce,fe,je,Re,Te,_e){for(ce=Re;ce<Te;++ce)for(Re=0;Re<_e;++Re)fe[je++]=Q(oe[H(re[ae++])])},I[f]=function(re,ae,oe,ce,fe,je,Re){var Te=8>>re.b,_e=re.Ea,Xe=re.K[0],ze=re.w;if(8>Te)for(re=(1<<re.b)-1,ze=(1<<Te)-1;ae<oe;++ae){var Ne,Ce=0;for(Ne=0;Ne<_e;++Ne)Ne&re||(Ce=H(ce[fe++])),je[Re++]=Q(Xe[Ce&ze]),Ce>>=Te}else I["VP8LMapColor"+T](ce,fe,Xe,ze,je,Re,ae,oe,_e)}}function dt(f,N,T,H,Q){for(T=N+T;N<T;){var re=f[N++];H[Q++]=re>>16&255,H[Q++]=re>>8&255,H[Q++]=re>>0&255}}function Gr(f,N,T,H,Q){for(T=N+T;N<T;){var re=f[N++];H[Q++]=re>>16&255,H[Q++]=re>>8&255,H[Q++]=re>>0&255,H[Q++]=re>>24&255}}function Gt(f,N,T,H,Q){for(T=N+T;N<T;){var re=(ae=f[N++])>>16&240|ae>>12&15,ae=ae>>0&240|ae>>28&15;H[Q++]=re,H[Q++]=ae}}function pn(f,N,T,H,Q){for(T=N+T;N<T;){var re=(ae=f[N++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;H[Q++]=re,H[Q++]=ae}}function rr(f,N,T,H,Q){for(T=N+T;N<T;){var re=f[N++];H[Q++]=re>>0&255,H[Q++]=re>>8&255,H[Q++]=re>>16&255}}function Sr(f,N,T,H,Q,re){if(re==0)for(T=N+T;N<T;)Pe(H,((re=f[N++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),Q+=32;else n(H,Q,f,N,T)}function ta(f,N){I[N][0]=I[f+"0"],I[N][1]=I[f+"1"],I[N][2]=I[f+"2"],I[N][3]=I[f+"3"],I[N][4]=I[f+"4"],I[N][5]=I[f+"5"],I[N][6]=I[f+"6"],I[N][7]=I[f+"7"],I[N][8]=I[f+"8"],I[N][9]=I[f+"9"],I[N][10]=I[f+"10"],I[N][11]=I[f+"11"],I[N][12]=I[f+"12"],I[N][13]=I[f+"13"],I[N][14]=I[f+"0"],I[N][15]=I[f+"0"]}function sr(f){return f==ig||f==lg||f==wh||f==cg}function js(){this.eb=[],this.size=this.A=this.fb=0}function qr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new js,this.f.kb=new qr,this.sd=null}function mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Pt(f,N){var T=f.T,H=N.ba.f.RGBA,Q=H.eb,re=H.fb+f.ka*H.A,ae=Ls[N.ba.S],oe=f.y,ce=f.O,fe=f.f,je=f.N,Re=f.ea,Te=f.W,_e=N.cc,Xe=N.dc,ze=N.Mc,Ne=N.Nc,Ce=f.ka,Ke=f.ka+f.T,tt=f.U,Ye=tt+1>>1;for(Ce==0?ae(oe,ce,null,null,fe,je,Re,Te,fe,je,Re,Te,Q,re,null,null,tt):(ae(N.ec,N.fc,oe,ce,_e,Xe,ze,Ne,fe,je,Re,Te,Q,re-H.A,Q,re,tt),++T);Ce+2<Ke;Ce+=2)_e=fe,Xe=je,ze=Re,Ne=Te,je+=f.Rc,Te+=f.Rc,re+=2*H.A,ae(oe,(ce+=2*f.fa)-f.fa,oe,ce,_e,Xe,ze,Ne,fe,je,Re,Te,Q,re-H.A,Q,re,tt);return ce+=f.fa,f.j+Ke<f.o?(n(N.ec,N.fc,oe,ce,tt),n(N.cc,N.dc,fe,je,Ye),n(N.Mc,N.Nc,Re,Te,Ye),T--):1&Ke||ae(oe,ce,null,null,fe,je,Re,Te,fe,je,Re,Te,Q,re+H.A,null,null,tt),T}function lr(f,N,T){var H=f.F,Q=[f.J];if(H!=null){var re=f.U,ae=N.ba.S,oe=ae==vh||ae==wh;N=N.ba.f.RGBA;var ce=[0],fe=f.ka;ce[0]=f.T,f.Kb&&(fe==0?--ce[0]:(--fe,Q[0]-=f.width),f.j+f.ka+f.T==f.o&&(ce[0]=f.o-f.j-fe));var je=N.eb;fe=N.fb+fe*N.A,f=zr(H,Q[0],f.width,re,ce,je,fe+(oe?0:3),N.A),e(T==ce),f&&sr(ae)&&As(je,fe,oe,re,ce,N.A)}return 0}function cr(f){var N=f.ma,T=N.ba.S,H=11>T,Q=T==xh||T==bh||T==vh||T==og||T==12||sr(T);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!_s(N.Oa,f,Q?11:12))return 0;if(Q&&sr(T)&&Ge(),f.da)alert("todo:use_scaling");else{if(H){if(N.Ib=wt,f.Kb){if(T=f.U+1>>1,N.memory=o(f.U+2*T),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+f.U,N.Mc=N.cc,N.Nc=N.dc+T,N.Ib=Pt,Ge()}}else alert("todo:EmitYUV");Q&&(N.Jb=lr,H&&Ae())}if(H&&!Hw){for(f=0;256>f;++f)J6[f]=89858*(f-128)+jh>>kh,X6[f]=-22014*(f-128)+jh,Y6[f]=-45773*(f-128),K6[f]=113618*(f-128)+jh>>kh;for(f=Su;f<fg;++f)N=76283*(f-16)+jh>>kh,Q6[f-Su]=ja(N,255),Z6[f-Su]=ja(N+8>>4,15);Hw=1}return 1}function rn(f){var N=f.ma,T=f.U,H=f.T;return e(!(1&f.ka)),0>=T||0>=H?0:(T=N.Ib(f,N),N.Jb!=null&&N.Jb(f,N,T),N.Dc+=T,1)}function Cn(f){f.ma.memory=null}function mt(f,N,T,H){return le(f,8)!=47?0:(N[0]=le(f,14)+1,T[0]=le(f,14)+1,H[0]=le(f,1),le(f,3)!=0?0:!f.h)}function Mr(f,N){if(4>f)return f+1;var T=f-2>>1;return(2+(1&f)<<T)+le(N,T)+1}function Lr(f,N){return 120<N?N-120:1<=(T=((T=R6[N-1])>>4)*f+(8-(15&T)))?T:1;var T}function Dr(f,N,T){var H=J(T),Q=f[N+=255&H].g-8;return 0<Q&&(de(T,T.u+8),H=J(T),N+=f[N].value,N+=H&(1<<Q)-1),de(T,T.u+f[N].g),f[N].value}function Nr(f,N,T){return T.g+=f.g,T.value+=f.value<<N>>>0,e(8>=T.g),f.g}function Ir(f,N,T){var H=f.xc;return e((N=H==0?0:f.vc[f.md*(T>>H)+(N>>H)])<f.Wb),f.Ya[N]}function Xr(f,N,T,H){var Q=f.ab,re=f.c*N,ae=f.C;N=ae+N;var oe=T,ce=H;for(H=f.Ta,T=f.Ua;0<Q--;){var fe=f.gc[Q],je=ae,Re=N,Te=oe,_e=ce,Xe=(ce=H,oe=T,fe.Ea);switch(e(je<Re),e(Re<=fe.nc),fe.hc){case 2:Bi(Te,_e,(Re-je)*Xe,ce,oe);break;case 0:var ze=je,Ne=Re,Ce=ce,Ke=oe,tt=(ht=fe).Ea;ze==0&&(Fi(Te,_e,null,null,1,Ce,Ke),at(Te,_e+1,0,0,tt-1,Ce,Ke+1),_e+=tt,Ke+=tt,++ze);for(var Ye=1<<ht.b,gt=Ye-1,ut=ct(tt,ht.b),Lt=ht.K,ht=ht.w+(ze>>ht.b)*ut;ze<Ne;){var br=Lt,Cr=ht,hr=1;for(Co(Te,_e,Ce,Ke-tt,1,Ce,Ke);hr<tt;){var or=(hr&~gt)+Ye;or>tt&&(or=tt),(0,_o[br[Cr++]>>8&15])(Te,_e+ +hr,Ce,Ke+hr-tt,or-hr,Ce,Ke+hr),hr=or}_e+=tt,Ke+=tt,++ze&gt||(ht+=ut)}Re!=fe.nc&&n(ce,oe-Xe,ce,oe+(Re-je-1)*Xe,Xe);break;case 1:for(Xe=Te,Ne=_e,tt=(Te=fe.Ea)-(Ke=Te&~(Ce=(_e=1<<fe.b)-1)),ze=ct(Te,fe.b),Ye=fe.K,fe=fe.w+(je>>fe.b)*ze;je<Re;){for(gt=Ye,ut=fe,Lt=new se,ht=Ne+Ke,br=Ne+Te;Ne<ht;)Rt(gt[ut++],Lt),Ys(Lt,Xe,Ne,_e,ce,oe),Ne+=_e,oe+=_e;Ne<br&&(Rt(gt[ut++],Lt),Ys(Lt,Xe,Ne,tt,ce,oe),Ne+=tt,oe+=tt),++je&Ce||(fe+=ze)}break;case 3:if(Te==ce&&_e==oe&&0<fe.b){for(Ne=ce,Te=Xe=oe+(Re-je)*Xe-(Ke=(Re-je)*ct(fe.Ea,fe.b)),_e=ce,Ce=oe,ze=[],Ke=(tt=Ke)-1;0<=Ke;--Ke)ze[Ke]=_e[Ce+Ke];for(Ke=tt-1;0<=Ke;--Ke)Ne[Te+Ke]=ze[Ke];Ma(fe,je,Re,ce,Xe,ce,oe)}else Ma(fe,je,Re,Te,_e,ce,oe)}oe=H,ce=T}ce!=T&&n(H,T,oe,ce,re)}function Ia(f,N){var T=f.V,H=f.Ba+f.c*f.C,Q=N-f.C;if(e(N<=f.l.o),e(16>=Q),0<Q){var re=f.l,ae=f.Ta,oe=f.Ua,ce=re.width;if(Xr(f,Q,T,H),Q=oe=[oe],e((T=f.C)<(H=N)),e(re.v<re.va),H>re.o&&(H=re.o),T<re.j){var fe=re.j-T;T=re.j,Q[0]+=fe*ce}if(T>=H?T=0:(Q[0]+=4*re.v,re.ka=T-re.j,re.U=re.va-re.v,re.T=H-T,T=1),T){if(oe=oe[0],11>(T=f.ca).S){var je=T.f.RGBA,Re=(H=T.S,Q=re.U,re=re.T,fe=je.eb,je.A),Te=re;for(je=je.fb+f.Ma*je.A;0<Te--;){var _e=ae,Xe=oe,ze=Q,Ne=fe,Ce=je;switch(H){case yh:ra(_e,Xe,ze,Ne,Ce);break;case xh:ue(_e,Xe,ze,Ne,Ce);break;case ig:ue(_e,Xe,ze,Ne,Ce),As(Ne,Ce,0,ze,1,0);break;case Ow:Fe(_e,Xe,ze,Ne,Ce);break;case bh:Sr(_e,Xe,ze,Ne,Ce,1);break;case lg:Sr(_e,Xe,ze,Ne,Ce,1),As(Ne,Ce,0,ze,1,0);break;case vh:Sr(_e,Xe,ze,Ne,Ce,0);break;case wh:Sr(_e,Xe,ze,Ne,Ce,0),As(Ne,Ce,1,ze,1,0);break;case og:ke(_e,Xe,ze,Ne,Ce);break;case cg:ke(_e,Xe,ze,Ne,Ce),Ur(Ne,Ce,ze,1,0);break;case Mw:Le(_e,Xe,ze,Ne,Ce);break;default:e(0)}oe+=ce,je+=Re}f.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=T.height)}}f.C=N,e(f.C<=f.i)}function la(f){var N;if(0<f.ua)return 0;for(N=0;N<f.Wb;++N){var T=f.Ya[N].G,H=f.Ya[N].H;if(0<T[1][H[1]+0].g||0<T[2][H[2]+0].g||0<T[3][H[3]+0].g)return 0}return 1}function Za(f,N,T,H,Q,re){if(f.Z!=0){var ae=f.qd,oe=f.rd;for(e(zi[f.Z]!=null);N<T;++N)zi[f.Z](ae,oe,H,Q,H,Q,re),ae=H,oe=Q,Q+=re;f.qd=ae,f.rd=oe}}function es(f,N){var T=f.l.ma,H=T.Z==0||T.Z==1?f.l.j:f.C;if(H=f.C<H?H:f.C,e(N<=f.l.o),N>H){var Q=f.l.width,re=T.ca,ae=T.tb+Q*H,oe=f.V,ce=f.Ba+f.c*H,fe=f.gc;e(f.ab==1),e(fe[0].hc==3),$i(fe[0],H,N,oe,ce,re,ae),Za(T,H,N,re,ae,Q)}f.C=f.Ma=N}function Ra(f,N,T,H,Q,re,ae){var oe=f.$/H,ce=f.$%H,fe=f.m,je=f.s,Re=T+f.$,Te=Re;Q=T+H*Q;var _e=T+H*re,Xe=280+je.ua,ze=f.Pb?oe:16777216,Ne=0<je.ua?je.Wa:null,Ce=je.wc,Ke=Re<_e?Ir(je,ce,oe):null;e(f.C<re),e(_e<=Q);var tt=!1;e:for(;;){for(;tt||Re<_e;){var Ye=0;if(oe>=ze){var gt=Re-T;e((ze=f).Pb),ze.wd=ze.m,ze.xd=gt,0<ze.s.ua&&Be(ze.s.Wa,ze.s.vb),ze=oe+O6}if(ce&Ce||(Ke=Ir(je,ce,oe)),e(Ke!=null),Ke.Qb&&(N[Re]=Ke.qb,tt=!0),!tt)if(ie(fe),Ke.jc){Ye=fe,gt=N;var ut=Re,Lt=Ke.pd[J(Ye)&En-1];e(Ke.jc),256>Lt.g?(de(Ye,Ye.u+Lt.g),gt[ut]=Lt.value,Ye=0):(de(Ye,Ye.u+Lt.g-256),e(256<=Lt.value),Ye=Lt.value),Ye==0&&(tt=!0)}else Ye=Dr(Ke.G[0],Ke.H[0],fe);if(fe.h)break;if(tt||256>Ye){if(!tt)if(Ke.nd)N[Re]=(Ke.qb|Ye<<8)>>>0;else{if(ie(fe),tt=Dr(Ke.G[1],Ke.H[1],fe),ie(fe),gt=Dr(Ke.G[2],Ke.H[2],fe),ut=Dr(Ke.G[3],Ke.H[3],fe),fe.h)break;N[Re]=(ut<<24|tt<<16|Ye<<8|gt)>>>0}if(tt=!1,++Re,++ce>=H&&(ce=0,++oe,ae!=null&&oe<=re&&!(oe%16)&&ae(f,oe),Ne!=null))for(;Te<Re;)Ye=N[Te++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye}else if(280>Ye){if(Ye=Mr(Ye-256,fe),gt=Dr(Ke.G[4],Ke.H[4],fe),ie(fe),gt=Lr(H,gt=Mr(gt,fe)),fe.h)break;if(Re-T<gt||Q-Re<Ye)break e;for(ut=0;ut<Ye;++ut)N[Re+ut]=N[Re+ut-gt];for(Re+=Ye,ce+=Ye;ce>=H;)ce-=H,++oe,ae!=null&&oe<=re&&!(oe%16)&&ae(f,oe);if(e(Re<=Q),ce&Ce&&(Ke=Ir(je,ce,oe)),Ne!=null)for(;Te<Re;)Ye=N[Te++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye}else{if(!(Ye<Xe))break e;for(tt=Ye-280,e(Ne!=null);Te<Re;)Ye=N[Te++],Ne.X[(506832829*Ye&4294967295)>>>Ne.Mb]=Ye;Ye=Re,e(!(tt>>>(gt=Ne).Xa)),N[Ye]=gt.X[tt],tt=!0}tt||e(fe.h==te(fe))}if(f.Pb&&fe.h&&Re<Q)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Be(f.s.vb,f.s.Wa);else{if(fe.h)break e;ae!=null&&ae(f,oe>re?re:oe),f.a=0,f.$=Re-T}return 1}return f.a=3,0}function Ns(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var N=f.Wa;N!=null&&(N.X=null),f.vb=null,e(f!=null)}function Rn(){var f=new Oe;return f==null?null:(f.a=0,f.xb=$w,ta("Predictor","VP8LPredictors"),ta("Predictor","VP8LPredictors_C"),ta("PredictorAdd","VP8LPredictorsAdd"),ta("PredictorAdd","VP8LPredictorsAdd_C"),Bi=Nt,Ys=St,ra=dt,ue=Gr,ke=Gt,Le=pn,Fe=rr,I.VP8LMapColor32b=Ks,I.VP8LMapColor8b=qi,f)}function ts(f,N,T,H,Q){var re=1,ae=[f],oe=[N],ce=H.m,fe=H.s,je=null,Re=0;e:for(;;){if(T)for(;re&&le(ce,1);){var Te=ae,_e=oe,Xe=H,ze=1,Ne=Xe.m,Ce=Xe.gc[Xe.ab],Ke=le(Ne,2);if(Xe.Oc&1<<Ke)re=0;else{switch(Xe.Oc|=1<<Ke,Ce.hc=Ke,Ce.Ea=Te[0],Ce.nc=_e[0],Ce.K=[null],++Xe.ab,e(4>=Xe.ab),Ke){case 0:case 1:Ce.b=le(Ne,3)+2,ze=ts(ct(Ce.Ea,Ce.b),ct(Ce.nc,Ce.b),0,Xe,Ce.K),Ce.K=Ce.K[0];break;case 3:var tt,Ye=le(Ne,8)+1,gt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(Te[0]=ct(Ce.Ea,gt),Ce.b=gt,tt=ze=ts(Ye,1,0,Xe,Ce.K)){var ut,Lt=Ye,ht=Ce,br=1<<(8>>ht.b),Cr=o(br);if(Cr==null)tt=0;else{var hr=ht.K[0],or=ht.w;for(Cr[0]=ht.K[0][0],ut=1;ut<1*Lt;++ut)Cr[ut]=Ze(hr[or+ut],Cr[ut-1]);for(;ut<4*br;++ut)Cr[ut]=0;ht.K[0]=null,ht.K[0]=Cr,tt=1}}ze=tt;break;case 2:break;default:e(0)}re=ze}}if(ae=ae[0],oe=oe[0],re&&le(ce,1)&&!(re=1<=(Re=le(ce,4))&&11>=Re)){H.a=3;break e}var Fr;if(Fr=re)t:{var Tr,Xt,Pn,Fa=H,Ln=ae,Ba=oe,_r=Re,os=T,is=Fa.m,Wn=Fa.s,na=[null],Ca=1,Ds=0,Eo=T6[_r];r:for(;;){if(os&&le(is,1)){var Gn=le(is,3)+2,ni=ct(Ln,Gn),Vl=ct(Ba,Gn),$c=ni*Vl;if(!ts(ni,Vl,0,Fa,na))break r;for(na=na[0],Wn.xc=Gn,Tr=0;Tr<$c;++Tr){var Vi=na[Tr]>>8&65535;na[Tr]=Vi,Vi>=Ca&&(Ca=Vi+1)}}if(is.h)break r;for(Xt=0;5>Xt;++Xt){var cn=Fw[Xt];!Xt&&0<_r&&(cn+=1<<_r),Ds<cn&&(Ds=cn)}var hg=i(Ca*Eo,j),Jw=Ca,Kw=i(Jw,E);if(Kw==null)var Sh=null;else e(65536>=Jw),Sh=Kw;var Cu=o(Ds);if(Sh==null||Cu==null||hg==null){Fa.a=1;break r}var Ch=hg;for(Tr=Pn=0;Tr<Ca;++Tr){var Qs=Sh[Tr],qc=Qs.G,Uc=Qs.H,Yw=0,_h=1,Xw=0;for(Xt=0;5>Xt;++Xt){cn=Fw[Xt],qc[Xt]=Ch,Uc[Xt]=Pn,!Xt&&0<_r&&(cn+=1<<_r);a:{var Eh,pg=cn,Ah=Fa,_u=Cu,r_=Ch,n_=Pn,mg=0,Hi=Ah.m,a_=le(Hi,1);if(a(_u,0,0,pg),a_){var s_=le(Hi,1)+1,o_=le(Hi,1),Qw=le(Hi,o_==0?1:8);_u[Qw]=1,s_==2&&(_u[Qw=le(Hi,8)]=1);var Ph=1}else{var Zw=o(19),e2=le(Hi,4)+4;if(19<e2){Ah.a=3;var Lh=0;break a}for(Eh=0;Eh<e2;++Eh)Zw[I6[Eh]]=le(Hi,3);var gg=void 0,Eu=void 0,t2=Ah,i_=Zw,Dh=pg,r2=_u,yg=0,Wi=t2.m,n2=8,a2=i(128,j);n:for(;x(a2,0,7,i_,19);){if(le(Wi,1)){var l_=2+2*le(Wi,3);if((gg=2+le(Wi,l_))>Dh)break n}else gg=Dh;for(Eu=0;Eu<Dh&&gg--;){ie(Wi);var s2=a2[0+(127&J(Wi))];de(Wi,Wi.u+s2.g);var zc=s2.value;if(16>zc)r2[Eu++]=zc,zc!=0&&(n2=zc);else{var c_=zc==16,o2=zc-16,d_=L6[o2],i2=le(Wi,P6[o2])+d_;if(Eu+i2>Dh)break n;for(var u_=c_?n2:0;0<i2--;)r2[Eu++]=u_}}yg=1;break n}yg||(t2.a=3),Ph=yg}(Ph=Ph&&!Hi.h)&&(mg=x(r_,n_,8,_u,pg)),Ph&&mg!=0?Lh=mg:(Ah.a=3,Lh=0)}if(Lh==0)break r;if(_h&&D6[Xt]==1&&(_h=Ch[Pn].g==0),Yw+=Ch[Pn].g,Pn+=Lh,3>=Xt){var Au,xg=Cu[0];for(Au=1;Au<cn;++Au)Cu[Au]>xg&&(xg=Cu[Au]);Xw+=xg}}if(Qs.nd=_h,Qs.Qb=0,_h&&(Qs.qb=(qc[3][Uc[3]+0].value<<24|qc[1][Uc[1]+0].value<<16|qc[2][Uc[2]+0].value)>>>0,Yw==0&&256>qc[0][Uc[0]+0].value&&(Qs.Qb=1,Qs.qb+=qc[0][Uc[0]+0].value<<8)),Qs.jc=!Qs.Qb&&6>Xw,Qs.jc){var Ih,ai=Qs;for(Ih=0;Ih<En;++Ih){var Gi=Ih,Ji=ai.pd[Gi],Rh=ai.G[0][ai.H[0]+Gi];256<=Rh.value?(Ji.g=Rh.g+256,Ji.value=Rh.value):(Ji.g=0,Ji.value=0,Gi>>=Nr(Rh,8,Ji),Gi>>=Nr(ai.G[1][ai.H[1]+Gi],16,Ji),Gi>>=Nr(ai.G[2][ai.H[2]+Gi],0,Ji),Nr(ai.G[3][ai.H[3]+Gi],24,Ji))}}}Wn.vc=na,Wn.Wb=Ca,Wn.Ya=Sh,Wn.yc=hg,Fr=1;break t}Fr=0}if(!(re=Fr)){H.a=3;break e}if(0<Re){if(fe.ua=1<<Re,!pt(fe.Wa,Re)){H.a=1,re=0;break e}}else fe.ua=0;var bg=H,l2=ae,f_=oe,vg=bg.s,wg=vg.xc;if(bg.c=l2,bg.i=f_,vg.md=ct(l2,wg),vg.wc=wg==0?-1:(1<<wg)-1,T){H.xb=z6;break e}if((je=o(ae*oe))==null){H.a=1,re=0;break e}re=(re=Ra(H,je,0,ae,oe,oe,null))&&!ce.h;break e}return re?(Q!=null?Q[0]=je:(e(je==null),e(T)),H.$=0,T||Ns(fe)):Ns(fe),re}function qs(f,N){var T=f.c*f.i,H=T+N+16*N;return e(f.c<=N),f.V=o(H),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+T+N,1)}function yo(f,N){var T=f.C,H=N-T,Q=f.V,re=f.Ba+f.c*T;for(e(N<=f.l.o);0<H;){var ae=16<H?16:H,oe=f.l.ma,ce=f.l.width,fe=ce*ae,je=oe.ca,Re=oe.tb+ce*T,Te=f.Ta,_e=f.Ua;Xr(f,ae,Q,re),yn(Te,_e,je,Re,fe),Za(oe,T,T+ae,je,Re,ce),H-=ae,Q+=ae*f.c,T+=ae}e(T==N),f.C=f.Ma=N}function Us(){this.ub=this.yd=this.td=this.Rb=0}function Jo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pi(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function xo(){this.Yb=function(){var f=[];return function N(T,H,Q){for(var re=Q[H],ae=0;ae<re&&(T.push(Q.length>H+1?[]:0),!(Q.length<H+1));ae++)N(T[ae],H+1,Q)}(f,0,[3,11]),f}()}function Sc(){this.jb=o(3),this.Wc=c([4,8],xo),this.Xc=c([4,17],xo)}function Cc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ko(){this.ld=this.La=this.dd=this.tc=0}function Ol(){this.Na=this.la=0}function fu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Yo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ko),this.Y=0,this.ya=Array(new Yo),this.aa=0,this.l=new Xo}function _c(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ec(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new Us,this.Kc=new Jo,this.ed=new Cc,this.Qa=new Pi,this.Ic=this.$c=this.Aa=0,this.D=new hu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,Z),this.ia=0,this.pb=i(4,fu),this.Pa=new Sc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _c),this.Hd=0,this.rb=Array(new Ol),this.sb=0,this.wa=Array(new Ko),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Yo),this.L=this.aa=0,this.gd=c([4,2],Ko),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ml(){var f=new Ec;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Nu||(Nu=Qo)),f}function Qr(f,N,T){return f.a==0&&(f.a=N,f.sc=T,f.cb=0),0}function Tn(f,N,T){return 3<=T&&f[N+0]==157&&f[N+1]==1&&f[N+2]==42}function zs(f,N){if(f==null)return 0;if(f.a=0,f.sc="OK",N==null)return Qr(f,2,"null VP8Io passed to VP8GetHeaders()");var T=N.data,H=N.w,Q=N.ha;if(4>Q)return Qr(f,7,"Truncated header.");var re=T[H+0]|T[H+1]<<8|T[H+2]<<16,ae=f.Od;if(ae.Rb=!(1&re),ae.td=re>>1&7,ae.yd=re>>4&1,ae.ub=re>>5,3<ae.td)return Qr(f,3,"Incorrect keyframe parameters.");if(!ae.yd)return Qr(f,4,"Frame not displayable.");H+=3,Q-=3;var oe=f.Kc;if(ae.Rb){if(7>Q)return Qr(f,7,"cannot parse picture header");if(!Tn(T,H,Q))return Qr(f,3,"Bad code word");oe.c=16383&(T[H+4]<<8|T[H+3]),oe.Td=T[H+4]>>6,oe.i=16383&(T[H+6]<<8|T[H+5]),oe.Ud=T[H+6]>>6,H+=7,Q-=7,f.za=oe.c+15>>4,f.Ub=oe.i+15>>4,N.width=oe.c,N.height=oe.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((re=f.Pa).jb,0,255,re.jb.length),e((re=f.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ae.ub>Q)return Qr(f,7,"bad partition length");U(re=f.m,T,H,ae.ub),H+=ae.ub,Q-=ae.ub,ae.Rb&&(oe.Ld=we(re),oe.Kd=we(re)),oe=f.Qa;var ce,fe=f.Pa;if(e(re!=null),e(oe!=null),oe.Cb=we(re),oe.Cb){if(oe.Bb=we(re),we(re)){for(oe.Fb=we(re),ce=0;4>ce;++ce)oe.Zb[ce]=we(re)?G(re,7):0;for(ce=0;4>ce;++ce)oe.Lb[ce]=we(re)?G(re,6):0}if(oe.Bb)for(ce=0;3>ce;++ce)fe.jb[ce]=we(re)?q(re,8):255}else oe.Bb=0;if(re.Ka)return Qr(f,3,"cannot parse segment header");if((oe=f.ed).zd=we(re),oe.Tb=q(re,6),oe.wb=q(re,3),oe.Pc=we(re),oe.Pc&&we(re)){for(fe=0;4>fe;++fe)we(re)&&(oe.vd[fe]=G(re,6));for(fe=0;4>fe;++fe)we(re)&&(oe.od[fe]=G(re,6))}if(f.L=oe.Tb==0?0:oe.zd?1:2,re.Ka)return Qr(f,3,"cannot parse filter header");var je=Q;if(Q=ce=H,H=ce+je,oe=je,f.Xb=(1<<q(f.m,2))-1,je<3*(fe=f.Xb))T=7;else{for(ce+=3*fe,oe-=3*fe,je=0;je<fe;++je){var Re=T[Q+0]|T[Q+1]<<8|T[Q+2]<<16;Re>oe&&(Re=oe),U(f.Jc[+je],T,ce,Re),ce+=Re,oe-=Re,Q+=3}U(f.Jc[+fe],T,ce,oe),T=ce<H?0:5}if(T!=0)return Qr(f,T,"cannot parse partitions");for(T=q(ce=f.m,7),Q=we(ce)?G(ce,4):0,H=we(ce)?G(ce,4):0,oe=we(ce)?G(ce,4):0,fe=we(ce)?G(ce,4):0,ce=we(ce)?G(ce,4):0,je=f.Qa,Re=0;4>Re;++Re){if(je.Cb){var Te=je.Zb[Re];je.Fb||(Te+=T)}else{if(0<Re){f.pb[Re]=f.pb[0];continue}Te=T}var _e=f.pb[Re];_e.Sc[0]=dg[ja(Te+Q,127)],_e.Sc[1]=ug[ja(Te+0,127)],_e.Eb[0]=2*dg[ja(Te+H,127)],_e.Eb[1]=101581*ug[ja(Te+oe,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=dg[ja(Te+fe,117)],_e.Qc[1]=ug[ja(Te+ce,127)],_e.lc=Te+ce}if(!ae.Rb)return Qr(f,4,"Not a key frame.");for(we(re),ae=f.Pa,T=0;4>T;++T){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(oe=0;11>oe;++oe)fe=me(re,q6[T][Q][H][oe])?q(re,8):B6[T][Q][H][oe],ae.Wc[T][Q].Yb[H][oe]=fe;for(Q=0;17>Q;++Q)ae.Xc[T][Q]=ae.Wc[T][U6[Q]]}return f.kc=we(re),f.kc&&(f.Bd=q(re,8)),f.cb=1}function Qo(f,N,T,H,Q,re,ae){var oe=N[Q].Yb[T];for(T=0;16>Q;++Q){if(!me(f,oe[T+0]))return Q;for(;!me(f,oe[T+1]);)if(oe=N[++Q].Yb[0],T=0,Q==16)return 16;var ce=N[Q+1].Yb;if(me(f,oe[T+2])){var fe=f,je=0;if(me(fe,(Te=oe)[(Re=T)+3]))if(me(fe,Te[Re+6])){for(oe=0,Re=2*(je=me(fe,Te[Re+8]))+(Te=me(fe,Te[Re+9+je])),je=0,Te=M6[Re];Te[oe];++oe)je+=je+me(fe,Te[oe]);je+=3+(8<<Re)}else me(fe,Te[Re+7])?(je=7+2*me(fe,165),je+=me(fe,145)):je=5+me(fe,159);else je=me(fe,Te[Re+4])?3+me(fe,Te[Re+5]):2;oe=ce[2]}else je=1,oe=ce[1];ce=ae+F6[Q],0>(fe=f).b&&xe(fe);var Re,Te=fe.b,_e=(Re=fe.Ca>>1)-(fe.I>>Te)>>31;--fe.b,fe.Ca+=_e,fe.Ca|=1,fe.I-=(Re+1&_e)<<Te,re[ce]=((je^_e)-_e)*H[(0<Q)+0]}return 16}function Fl(f){var N=f.rb[f.sb-1];N.la=0,N.Na=0,a(f.zc,0,0,f.zc.length),f.ja=0}function pu(f,N){if(f==null)return 0;if(N==null)return Qr(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!zs(f,N))return 0;if(e(f.cb),N.ac==null||N.ac(N)){N.ob&&(f.L=0);var T=Nh[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=N.v-T>>4,f.zb=N.j-T>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=N.o+15+T>>4,f.Hb=N.va+15+T>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var H=f.ed;for(T=0;4>T;++T){var Q;if(f.Qa.Cb){var re=f.Qa.Lb[T];f.Qa.Fb||(re+=H.Tb)}else re=H.Tb;for(Q=0;1>=Q;++Q){var ae=f.gd[T][Q],oe=re;if(H.Pc&&(oe+=H.vd[0],Q&&(oe+=H.od[0])),0<(oe=0>oe?0:63<oe?63:oe)){var ce=oe;0<H.wb&&(ce=4<H.wb?ce>>2:ce>>1)>9-H.wb&&(ce=9-H.wb),1>ce&&(ce=1),ae.dd=ce,ae.tc=2*oe+ce,ae.ld=40<=oe?2:15<=oe?1:0}else ae.tc=0;ae.La=Q}}}T=0}else Qr(f,6,"Frame setup failed"),T=f.a;if(T=T==0){if(T){f.$c=0,0<f.Aa||(f.Ic=t_);e:{T=f.Ic,H=4*(ce=f.za);var fe=32*ce,je=ce+1,Re=0<f.L?ce*(0<f.Aa?2:1):0,Te=(f.Aa==2?2:1)*ce;if((ae=H+832+(Q=3*(16*T+Nh[f.L])/2*fe)+(re=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=ae)T=0;else{if(ae>f.Vb){if(f.Vb=0,f.Ec=o(ae),f.Fc=0,f.Ec==null){T=Qr(f,1,"no memory during frame initialization.");break e}f.Vb=ae}ae=f.Ec,oe=f.Fc,f.Ac=ae,f.Bc=oe,oe+=H,f.Gd=i(fe,_c),f.Hd=0,f.rb=i(je+1,Ol),f.sb=1,f.wa=Re?i(Re,Ko):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=ce),e(!0),f.oc=ae,f.pc=oe,oe+=832,f.ya=i(Te,Yo),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=ce),f.R=16*ce,f.B=8*ce,ce=(fe=Nh[f.L])*f.R,fe=fe/2*f.B,f.sa=ae,f.ta=oe+ce,f.qa=f.sa,f.ra=f.ta+16*T*f.R+fe,f.Ha=f.qa,f.Ia=f.ra+8*T*f.B+fe,f.$c=0,oe+=Q,f.mb=re?ae:null,f.nb=re?oe:null,e(oe+re<=f.Fc+f.Vb),Fl(f),a(f.Ac,f.Bc,0,H),T=1}}if(T){if(N.ka=0,N.y=f.sa,N.O=f.ta,N.f=f.qa,N.N=f.ra,N.ea=f.Ha,N.Vd=f.Ia,N.fa=f.R,N.Rc=f.B,N.F=null,N.J=0,!mh){for(T=-255;255>=T;++T)Bn[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)ti[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)ju[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)Bc[255+T]=0>T?0:255<T?255:T;mh=1}He=gu,st=mu,yt=ca,lt=Pc,Ot=bo,ot=Ac,Ct=p,Mt=C,Yt=K,kt=Y,ur=O,an=F,Zr=ne,Fn=be,Hn=ko,Sa=rs,gn=ns,Es=ku,Xs[0]=Ta,Xs[1]=Vs,Xs[2]=yu,Xs[3]=xu,Xs[4]=Ic,Xs[5]=Ii,Xs[6]=Rc,Xs[7]=ql,Xs[8]=vu,Xs[9]=bu,Ui[0]=Di,Ui[1]=$l,Ui[2]=Ws,Ui[3]=Ss,Ui[4]=Mn,Ui[5]=Lc,Ui[6]=Dc,ri[0]=Js,ri[1]=Hs,ri[2]=wu,ri[3]=Ri,ri[4]=vo,ri[5]=Ul,ri[6]=Ti,T=1}else T=0}T&&(T=function(_e,Xe){for(_e.M=0;_e.M<_e.Va;++_e.M){var ze,Ne=_e.Jc[_e.M&_e.Xb],Ce=_e.m,Ke=_e;for(ze=0;ze<Ke.za;++ze){var tt=Ce,Ye=Ke,gt=Ye.Ac,ut=Ye.Bc+4*ze,Lt=Ye.zc,ht=Ye.ya[Ye.aa+ze];if(Ye.Qa.Bb?ht.$b=me(tt,Ye.Pa.jb[0])?2+me(tt,Ye.Pa.jb[2]):me(tt,Ye.Pa.jb[1]):ht.$b=0,Ye.kc&&(ht.Ad=me(tt,Ye.Bd)),ht.Za=!me(tt,145)+0,ht.Za){var br=ht.Ob,Cr=0;for(Ye=0;4>Ye;++Ye){var hr,or=Lt[0+Ye];for(hr=0;4>hr;++hr){or=$6[gt[ut+hr]][or];for(var Fr=Bw[me(tt,or[0])];0<Fr;)Fr=Bw[2*Fr+me(tt,or[Fr])];or=-Fr,gt[ut+hr]=or}n(br,Cr,gt,ut,4),Cr+=4,Lt[0+Ye]=or}}else or=me(tt,156)?me(tt,128)?1:3:me(tt,163)?2:0,ht.Ob[0]=or,a(gt,ut,or,4),a(Lt,0,or,4);ht.Dd=me(tt,142)?me(tt,114)?me(tt,183)?1:3:2:0}if(Ke.m.Ka)return Qr(_e,7,"Premature end-of-partition0 encountered.");for(;_e.ja<_e.za;++_e.ja){if(Ke=Ne,tt=(Ce=_e).rb[Ce.sb-1],gt=Ce.rb[Ce.sb+Ce.ja],ze=Ce.ya[Ce.aa+Ce.ja],ut=Ce.kc?ze.Ad:0)tt.la=gt.la=0,ze.Za||(tt.Na=gt.Na=0),ze.Hc=0,ze.Gc=0,ze.ia=0;else{var Tr,Xt;if(tt=gt,gt=Ke,ut=Ce.Pa.Xc,Lt=Ce.ya[Ce.aa+Ce.ja],ht=Ce.pb[Lt.$b],Ye=Lt.ad,br=0,Cr=Ce.rb[Ce.sb-1],or=hr=0,a(Ye,br,0,384),Lt.Za)var Pn=0,Fa=ut[3];else{Fr=o(16);var Ln=tt.Na+Cr.Na;if(Ln=Nu(gt,ut[1],Ln,ht.Eb,0,Fr,0),tt.Na=Cr.Na=(0<Ln)+0,1<Ln)He(Fr,0,Ye,br);else{var Ba=Fr[0]+3>>3;for(Fr=0;256>Fr;Fr+=16)Ye[br+Fr]=Ba}Pn=1,Fa=ut[0]}var _r=15&tt.la,os=15&Cr.la;for(Fr=0;4>Fr;++Fr){var is=1&os;for(Ba=Xt=0;4>Ba;++Ba)_r=_r>>1|(is=(Ln=Nu(gt,Fa,Ln=is+(1&_r),ht.Sc,Pn,Ye,br))>Pn)<<7,Xt=Xt<<2|(3<Ln?3:1<Ln?2:Ye[br+0]!=0),br+=16;_r>>=4,os=os>>1|is<<7,hr=(hr<<8|Xt)>>>0}for(Fa=_r,Pn=os>>4,Tr=0;4>Tr;Tr+=2){for(Xt=0,_r=tt.la>>4+Tr,os=Cr.la>>4+Tr,Fr=0;2>Fr;++Fr){for(is=1&os,Ba=0;2>Ba;++Ba)Ln=is+(1&_r),_r=_r>>1|(is=0<(Ln=Nu(gt,ut[2],Ln,ht.Qc,0,Ye,br)))<<3,Xt=Xt<<2|(3<Ln?3:1<Ln?2:Ye[br+0]!=0),br+=16;_r>>=2,os=os>>1|is<<5}or|=Xt<<4*Tr,Fa|=_r<<4<<Tr,Pn|=(240&os)<<Tr}tt.la=Fa,Cr.la=Pn,Lt.Hc=hr,Lt.Gc=or,Lt.ia=43690&or?0:ht.ia,ut=!(hr|or)}if(0<Ce.L&&(Ce.wa[Ce.Y+Ce.ja]=Ce.gd[ze.$b][ze.Za],Ce.wa[Ce.Y+Ce.ja].La|=!ut),Ke.Ka)return Qr(_e,7,"Premature end-of-file encountered.")}if(Fl(_e),Ce=Xe,Ke=1,ze=(Ne=_e).D,tt=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(ze.M=Ne.M,ze.uc=tt,No(Ne,ze),Ke=1,ze=(Xt=Ne.D).Nb,tt=(or=Nh[Ne.L])*Ne.R,gt=or/2*Ne.B,Fr=16*ze*Ne.R,Ba=8*ze*Ne.B,ut=Ne.sa,Lt=Ne.ta-tt+Fr,ht=Ne.qa,Ye=Ne.ra-gt+Ba,br=Ne.Ha,Cr=Ne.Ia-gt+Ba,os=(_r=Xt.M)==0,hr=_r>=Ne.Va-1,Ne.Aa==2&&No(Ne,Xt),Xt.uc)for(is=(Ln=Ne).D.M,e(Ln.D.uc),Xt=Ln.yb;Xt<Ln.Hb;++Xt){Pn=Xt,Fa=is;var Wn=(na=(cn=Ln).D).Nb;Tr=cn.R;var na=na.wa[na.Y+Pn],Ca=cn.sa,Ds=cn.ta+16*Wn*Tr+16*Pn,Eo=na.dd,Gn=na.tc;if(Gn!=0)if(e(3<=Gn),cn.L==1)0<Pn&&Sa(Ca,Ds,Tr,Gn+4),na.La&&Es(Ca,Ds,Tr,Gn),0<Fa&&Hn(Ca,Ds,Tr,Gn+4),na.La&&gn(Ca,Ds,Tr,Gn);else{var ni=cn.B,Vl=cn.qa,$c=cn.ra+8*Wn*ni+8*Pn,Vi=cn.Ha,cn=cn.Ia+8*Wn*ni+8*Pn;Wn=na.ld,0<Pn&&(Mt(Ca,Ds,Tr,Gn+4,Eo,Wn),kt(Vl,$c,Vi,cn,ni,Gn+4,Eo,Wn)),na.La&&(an(Ca,Ds,Tr,Gn,Eo,Wn),Fn(Vl,$c,Vi,cn,ni,Gn,Eo,Wn)),0<Fa&&(Ct(Ca,Ds,Tr,Gn+4,Eo,Wn),Yt(Vl,$c,Vi,cn,ni,Gn+4,Eo,Wn)),na.La&&(ur(Ca,Ds,Tr,Gn,Eo,Wn),Zr(Vl,$c,Vi,cn,ni,Gn,Eo,Wn))}}if(Ne.ia&&alert("todo:DitherRow"),Ce.put!=null){if(Xt=16*_r,_r=16*(_r+1),os?(Ce.y=Ne.sa,Ce.O=Ne.ta+Fr,Ce.f=Ne.qa,Ce.N=Ne.ra+Ba,Ce.ea=Ne.Ha,Ce.W=Ne.Ia+Ba):(Xt-=or,Ce.y=ut,Ce.O=Lt,Ce.f=ht,Ce.N=Ye,Ce.ea=br,Ce.W=Cr),hr||(_r-=or),_r>Ce.o&&(_r=Ce.o),Ce.F=null,Ce.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Xt<_r&&(Ce.J=nn(Ne,Ce,Xt,_r-Xt),Ce.F=Ne.mb,Ce.F==null&&Ce.F.length==0)){Ke=Qr(Ne,3,"Could not decode alpha data.");break e}Xt<Ce.j&&(or=Ce.j-Xt,Xt=Ce.j,e(!(1&or)),Ce.O+=Ne.R*or,Ce.N+=Ne.B*(or>>1),Ce.W+=Ne.B*(or>>1),Ce.F!=null&&(Ce.J+=Ce.width*or)),Xt<_r&&(Ce.O+=Ce.v,Ce.N+=Ce.v>>1,Ce.W+=Ce.v>>1,Ce.F!=null&&(Ce.J+=Ce.v),Ce.ka=Xt-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=_r-Xt,Ke=Ce.put(Ce))}ze+1!=Ne.Ic||hr||(n(Ne.sa,Ne.ta-tt,ut,Lt+16*Ne.R,tt),n(Ne.qa,Ne.ra-gt,ht,Ye+8*Ne.B,gt),n(Ne.Ha,Ne.Ia-gt,br,Cr+8*Ne.B,gt))}if(!Ke)return Qr(_e,6,"Output aborted.")}return 1}(f,N)),N.bc!=null&&N.bc(N),T&=1}return T?(f.cb=0,T):0}function ka(f,N,T,H,Q){Q=f[N+T+32*H]+(Q>>3),f[N+T+32*H]=-256&Q?0>Q?0:255:Q}function Zo(f,N,T,H,Q,re){ka(f,N,0,T,H+Q),ka(f,N,1,T,H+re),ka(f,N,2,T,H-re),ka(f,N,3,T,H-Q)}function On(f){return(20091*f>>16)+f}function Li(f,N,T,H){var Q,re=0,ae=o(16);for(Q=0;4>Q;++Q){var oe=f[N+0]+f[N+8],ce=f[N+0]-f[N+8],fe=(35468*f[N+4]>>16)-On(f[N+12]),je=On(f[N+4])+(35468*f[N+12]>>16);ae[re+0]=oe+je,ae[re+1]=ce+fe,ae[re+2]=ce-fe,ae[re+3]=oe-je,re+=4,N++}for(Q=re=0;4>Q;++Q)oe=(f=ae[re+0]+4)+ae[re+8],ce=f-ae[re+8],fe=(35468*ae[re+4]>>16)-On(ae[re+12]),ka(T,H,0,0,oe+(je=On(ae[re+4])+(35468*ae[re+12]>>16))),ka(T,H,1,0,ce+fe),ka(T,H,2,0,ce-fe),ka(T,H,3,0,oe-je),re++,H+=32}function Ac(f,N,T,H){var Q=f[N+0]+4,re=35468*f[N+4]>>16,ae=On(f[N+4]),oe=35468*f[N+1]>>16;Zo(T,H,0,Q+ae,f=On(f[N+1]),oe),Zo(T,H,1,Q+re,f,oe),Zo(T,H,2,Q-re,f,oe),Zo(T,H,3,Q-ae,f,oe)}function mu(f,N,T,H,Q){Li(f,N,T,H),Q&&Li(f,N+16,T,H+4)}function ca(f,N,T,H){st(f,N+0,T,H,1),st(f,N+32,T,H+128,1)}function Pc(f,N,T,H){var Q;for(f=f[N+0]+4,Q=0;4>Q;++Q)for(N=0;4>N;++N)ka(T,H,N,Q,f)}function bo(f,N,T,H){f[N+0]&&lt(f,N+0,T,H),f[N+16]&&lt(f,N+16,T,H+4),f[N+32]&&lt(f,N+32,T,H+128),f[N+48]&&lt(f,N+48,T,H+128+4)}function gu(f,N,T,H){var Q,re=o(16);for(Q=0;4>Q;++Q){var ae=f[N+0+Q]+f[N+12+Q],oe=f[N+4+Q]+f[N+8+Q],ce=f[N+4+Q]-f[N+8+Q],fe=f[N+0+Q]-f[N+12+Q];re[0+Q]=ae+oe,re[8+Q]=ae-oe,re[4+Q]=fe+ce,re[12+Q]=fe-ce}for(Q=0;4>Q;++Q)ae=(f=re[0+4*Q]+3)+re[3+4*Q],oe=re[1+4*Q]+re[2+4*Q],ce=re[1+4*Q]-re[2+4*Q],fe=f-re[3+4*Q],T[H+0]=ae+oe>>3,T[H+16]=fe+ce>>3,T[H+32]=ae-oe>>3,T[H+48]=fe-ce>>3,H+=64}function Bl(f,N,T){var H,Q=N-32,re=ss,ae=255-f[Q-1];for(H=0;H<T;++H){var oe,ce=re,fe=ae+f[N-1];for(oe=0;oe<T;++oe)f[N+oe]=ce[fe+f[Q+oe]];N+=32}}function Vs(f,N){Bl(f,N,4)}function Hs(f,N){Bl(f,N,8)}function $l(f,N){Bl(f,N,16)}function Ws(f,N){var T;for(T=0;16>T;++T)n(f,N+32*T,f,N-32,16)}function Ss(f,N){var T;for(T=16;0<T;--T)a(f,N,f[N-1],16),N+=32}function ei(f,N,T){var H;for(H=0;16>H;++H)a(N,T+32*H,f,16)}function Di(f,N){var T,H=16;for(T=0;16>T;++T)H+=f[N-1+32*T]+f[N+T-32];ei(H>>5,f,N)}function Mn(f,N){var T,H=8;for(T=0;16>T;++T)H+=f[N-1+32*T];ei(H>>4,f,N)}function Lc(f,N){var T,H=8;for(T=0;16>T;++T)H+=f[N+T-32];ei(H>>4,f,N)}function Dc(f,N){ei(128,f,N)}function zt(f,N,T){return f+2*N+T+2>>2}function yu(f,N){var T,H=N-32;for(H=new Uint8Array([zt(f[H-1],f[H+0],f[H+1]),zt(f[H+0],f[H+1],f[H+2]),zt(f[H+1],f[H+2],f[H+3]),zt(f[H+2],f[H+3],f[H+4])]),T=0;4>T;++T)n(f,N+32*T,H,0,H.length)}function xu(f,N){var T=f[N-1],H=f[N-1+32],Q=f[N-1+64],re=f[N-1+96];Pe(f,N+0,16843009*zt(f[N-1-32],T,H)),Pe(f,N+32,16843009*zt(T,H,Q)),Pe(f,N+64,16843009*zt(H,Q,re)),Pe(f,N+96,16843009*zt(Q,re,re))}function Ta(f,N){var T,H=4;for(T=0;4>T;++T)H+=f[N+T-32]+f[N-1+32*T];for(H>>=3,T=0;4>T;++T)a(f,N+32*T,H,4)}function Ic(f,N){var T=f[N-1+0],H=f[N-1+32],Q=f[N-1+64],re=f[N-1-32],ae=f[N+0-32],oe=f[N+1-32],ce=f[N+2-32],fe=f[N+3-32];f[N+0+96]=zt(H,Q,f[N-1+96]),f[N+1+96]=f[N+0+64]=zt(T,H,Q),f[N+2+96]=f[N+1+64]=f[N+0+32]=zt(re,T,H),f[N+3+96]=f[N+2+64]=f[N+1+32]=f[N+0+0]=zt(ae,re,T),f[N+3+64]=f[N+2+32]=f[N+1+0]=zt(oe,ae,re),f[N+3+32]=f[N+2+0]=zt(ce,oe,ae),f[N+3+0]=zt(fe,ce,oe)}function Rc(f,N){var T=f[N+1-32],H=f[N+2-32],Q=f[N+3-32],re=f[N+4-32],ae=f[N+5-32],oe=f[N+6-32],ce=f[N+7-32];f[N+0+0]=zt(f[N+0-32],T,H),f[N+1+0]=f[N+0+32]=zt(T,H,Q),f[N+2+0]=f[N+1+32]=f[N+0+64]=zt(H,Q,re),f[N+3+0]=f[N+2+32]=f[N+1+64]=f[N+0+96]=zt(Q,re,ae),f[N+3+32]=f[N+2+64]=f[N+1+96]=zt(re,ae,oe),f[N+3+64]=f[N+2+96]=zt(ae,oe,ce),f[N+3+96]=zt(oe,ce,ce)}function Ii(f,N){var T=f[N-1+0],H=f[N-1+32],Q=f[N-1+64],re=f[N-1-32],ae=f[N+0-32],oe=f[N+1-32],ce=f[N+2-32],fe=f[N+3-32];f[N+0+0]=f[N+1+64]=re+ae+1>>1,f[N+1+0]=f[N+2+64]=ae+oe+1>>1,f[N+2+0]=f[N+3+64]=oe+ce+1>>1,f[N+3+0]=ce+fe+1>>1,f[N+0+96]=zt(Q,H,T),f[N+0+64]=zt(H,T,re),f[N+0+32]=f[N+1+96]=zt(T,re,ae),f[N+1+32]=f[N+2+96]=zt(re,ae,oe),f[N+2+32]=f[N+3+96]=zt(ae,oe,ce),f[N+3+32]=zt(oe,ce,fe)}function ql(f,N){var T=f[N+0-32],H=f[N+1-32],Q=f[N+2-32],re=f[N+3-32],ae=f[N+4-32],oe=f[N+5-32],ce=f[N+6-32],fe=f[N+7-32];f[N+0+0]=T+H+1>>1,f[N+1+0]=f[N+0+64]=H+Q+1>>1,f[N+2+0]=f[N+1+64]=Q+re+1>>1,f[N+3+0]=f[N+2+64]=re+ae+1>>1,f[N+0+32]=zt(T,H,Q),f[N+1+32]=f[N+0+96]=zt(H,Q,re),f[N+2+32]=f[N+1+96]=zt(Q,re,ae),f[N+3+32]=f[N+2+96]=zt(re,ae,oe),f[N+3+64]=zt(ae,oe,ce),f[N+3+96]=zt(oe,ce,fe)}function bu(f,N){var T=f[N-1+0],H=f[N-1+32],Q=f[N-1+64],re=f[N-1+96];f[N+0+0]=T+H+1>>1,f[N+2+0]=f[N+0+32]=H+Q+1>>1,f[N+2+32]=f[N+0+64]=Q+re+1>>1,f[N+1+0]=zt(T,H,Q),f[N+3+0]=f[N+1+32]=zt(H,Q,re),f[N+3+32]=f[N+1+64]=zt(Q,re,re),f[N+3+64]=f[N+2+64]=f[N+0+96]=f[N+1+96]=f[N+2+96]=f[N+3+96]=re}function vu(f,N){var T=f[N-1+0],H=f[N-1+32],Q=f[N-1+64],re=f[N-1+96],ae=f[N-1-32],oe=f[N+0-32],ce=f[N+1-32],fe=f[N+2-32];f[N+0+0]=f[N+2+32]=T+ae+1>>1,f[N+0+32]=f[N+2+64]=H+T+1>>1,f[N+0+64]=f[N+2+96]=Q+H+1>>1,f[N+0+96]=re+Q+1>>1,f[N+3+0]=zt(oe,ce,fe),f[N+2+0]=zt(ae,oe,ce),f[N+1+0]=f[N+3+32]=zt(T,ae,oe),f[N+1+32]=f[N+3+64]=zt(H,T,ae),f[N+1+64]=f[N+3+96]=zt(Q,H,T),f[N+1+96]=zt(re,Q,H)}function wu(f,N){var T;for(T=0;8>T;++T)n(f,N+32*T,f,N-32,8)}function Ri(f,N){var T;for(T=0;8>T;++T)a(f,N,f[N-1],8),N+=32}function Gs(f,N,T){var H;for(H=0;8>H;++H)a(N,T+32*H,f,8)}function Js(f,N){var T,H=8;for(T=0;8>T;++T)H+=f[N+T-32]+f[N-1+32*T];Gs(H>>4,f,N)}function Ul(f,N){var T,H=4;for(T=0;8>T;++T)H+=f[N+T-32];Gs(H>>3,f,N)}function vo(f,N){var T,H=4;for(T=0;8>T;++T)H+=f[N-1+32*T];Gs(H>>3,f,N)}function Ti(f,N){Gs(128,f,N)}function wo(f,N,T){var H=f[N-T],Q=f[N+0],re=3*(Q-H)+sg[1020+f[N-2*T]-f[N+T]],ae=gh[112+(re+4>>3)];f[N-T]=ss[255+H+gh[112+(re+3>>3)]],f[N+0]=ss[255+Q-ae]}function Tc(f,N,T,H){var Q=f[N+0],re=f[N+T];return Ps[255+f[N-2*T]-f[N-T]]>H||Ps[255+re-Q]>H}function Oc(f,N,T,H){return 4*Ps[255+f[N-T]-f[N+0]]+Ps[255+f[N-2*T]-f[N+T]]<=H}function Mc(f,N,T,H,Q){var re=f[N-3*T],ae=f[N-2*T],oe=f[N-T],ce=f[N+0],fe=f[N+T],je=f[N+2*T],Re=f[N+3*T];return 4*Ps[255+oe-ce]+Ps[255+ae-fe]>H?0:Ps[255+f[N-4*T]-re]<=Q&&Ps[255+re-ae]<=Q&&Ps[255+ae-oe]<=Q&&Ps[255+Re-je]<=Q&&Ps[255+je-fe]<=Q&&Ps[255+fe-ce]<=Q}function ko(f,N,T,H){var Q=2*H+1;for(H=0;16>H;++H)Oc(f,N+H,T,Q)&&wo(f,N+H,T)}function rs(f,N,T,H){var Q=2*H+1;for(H=0;16>H;++H)Oc(f,N+H*T,1,Q)&&wo(f,N+H*T,1)}function ns(f,N,T,H){var Q;for(Q=3;0<Q;--Q)ko(f,N+=4*T,T,H)}function ku(f,N,T,H){var Q;for(Q=3;0<Q;--Q)rs(f,N+=4,T,H)}function jo(f,N,T,H,Q,re,ae,oe){for(re=2*re+1;0<Q--;){if(Mc(f,N,T,re,ae))if(Tc(f,N,T,oe))wo(f,N,T);else{var ce=f,fe=N,je=T,Re=ce[fe-2*je],Te=ce[fe-je],_e=ce[fe+0],Xe=ce[fe+je],ze=ce[fe+2*je],Ne=27*(Ke=sg[1020+3*(_e-Te)+sg[1020+Re-Xe]])+63>>7,Ce=18*Ke+63>>7,Ke=9*Ke+63>>7;ce[fe-3*je]=ss[255+ce[fe-3*je]+Ke],ce[fe-2*je]=ss[255+Re+Ce],ce[fe-je]=ss[255+Te+Ne],ce[fe+0]=ss[255+_e-Ne],ce[fe+je]=ss[255+Xe-Ce],ce[fe+2*je]=ss[255+ze-Ke]}N+=H}}function as(f,N,T,H,Q,re,ae,oe){for(re=2*re+1;0<Q--;){if(Mc(f,N,T,re,ae))if(Tc(f,N,T,oe))wo(f,N,T);else{var ce=f,fe=N,je=T,Re=ce[fe-je],Te=ce[fe+0],_e=ce[fe+je],Xe=gh[112+((ze=3*(Te-Re))+4>>3)],ze=gh[112+(ze+3>>3)],Ne=Xe+1>>1;ce[fe-2*je]=ss[255+ce[fe-2*je]+Ne],ce[fe-je]=ss[255+Re+ze],ce[fe+0]=ss[255+Te-Xe],ce[fe+je]=ss[255+_e-Ne]}N+=H}}function p(f,N,T,H,Q,re){jo(f,N,T,1,16,H,Q,re)}function C(f,N,T,H,Q,re){jo(f,N,1,T,16,H,Q,re)}function O(f,N,T,H,Q,re){var ae;for(ae=3;0<ae;--ae)as(f,N+=4*T,T,1,16,H,Q,re)}function F(f,N,T,H,Q,re){var ae;for(ae=3;0<ae;--ae)as(f,N+=4,1,T,16,H,Q,re)}function K(f,N,T,H,Q,re,ae,oe){jo(f,N,Q,1,8,re,ae,oe),jo(T,H,Q,1,8,re,ae,oe)}function Y(f,N,T,H,Q,re,ae,oe){jo(f,N,1,Q,8,re,ae,oe),jo(T,H,1,Q,8,re,ae,oe)}function ne(f,N,T,H,Q,re,ae,oe){as(f,N+4*Q,Q,1,8,re,ae,oe),as(T,H+4*Q,Q,1,8,re,ae,oe)}function be(f,N,T,H,Q,re,ae,oe){as(f,N+4,1,Q,8,re,ae,oe),as(T,H+4,1,Q,8,re,ae,oe)}function ge(){this.ba=new Sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $e(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function We(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new E,this.yc=new j}function Oe(){this.xb=this.a=0,this.l=new Xo,this.ca=new Sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new We,this.ab=0,this.gc=i(4,$e),this.Oc=0}function nt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Et(f,N,T,H,Q,re,ae){for(f=f==null?0:f[N+0],N=0;N<ae;++N)Q[re+N]=f+T[H+N]&255,f=Q[re+N]}function er(f,N,T,H,Q,re,ae){var oe;if(f==null)Et(null,null,T,H,Q,re,ae);else for(oe=0;oe<ae;++oe)Q[re+oe]=f[N+oe]+T[H+oe]&255}function $t(f,N,T,H,Q,re,ae){if(f==null)Et(null,null,T,H,Q,re,ae);else{var oe,ce=f[N+0],fe=ce,je=ce;for(oe=0;oe<ae;++oe)fe=je+(ce=f[N+oe])-fe,je=T[H+oe]+(-256&fe?0>fe?0:255:fe)&255,fe=ce,Q[re+oe]=je}}function nn(f,N,T,H){var Q=N.width,re=N.o;if(e(f!=null&&N!=null),0>T||0>=H||T+H>re)return null;if(!f.Cc){if(f.ga==null){var ae;if(f.ga=new nt,(ae=f.ga==null)||(ae=N.width*N.o,e(f.Gb.length==0),f.Gb=o(ae),f.Uc=0,f.Gb==null?ae=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,ae=1),ae=!ae),!ae){ae=f.ga;var oe=f.Fa,ce=f.P,fe=f.qc,je=f.mb,Re=f.nb,Te=ce+1,_e=fe-1,Xe=ae.l;if(e(oe!=null&&je!=null&&N!=null),zi[0]=null,zi[1]=Et,zi[2]=er,zi[3]=$t,ae.ca=je,ae.tb=Re,ae.c=N.width,ae.i=N.height,e(0<ae.c&&0<ae.i),1>=fe)N=0;else if(ae.$a=oe[ce+0]>>0&3,ae.Z=oe[ce+0]>>2&3,ae.Lc=oe[ce+0]>>4&3,ce=oe[ce+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ce)N=0;else if(Xe.put=rn,Xe.ac=cr,Xe.bc=Cn,Xe.ma=ae,Xe.width=N.width,Xe.height=N.height,Xe.Da=N.Da,Xe.v=N.v,Xe.va=N.va,Xe.j=N.j,Xe.o=N.o,ae.$a)e:{e(ae.$a==1),N=Rn();t:for(;;){if(N==null){N=0;break e}if(e(ae!=null),ae.mc=N,N.c=ae.c,N.i=ae.i,N.l=ae.l,N.l.ma=ae,N.l.width=ae.c,N.l.height=ae.i,N.a=0,V(N.m,oe,Te,_e),!ts(ae.c,ae.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&la(N.s)?(ae.ic=1,oe=N.c*N.i,N.Ta=null,N.Ua=0,N.V=o(oe),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ae.ic=0,N=qs(N,ae.c)),!N))break t;N=1;break e}ae.mc=null,N=0}else N=_e>=ae.c*ae.i;ae=!N}if(ae)return null;f.ga.Lc!=1?f.Ga=0:H=re-T}e(f.ga!=null),e(T+H<=re);e:{if(N=(oe=f.ga).c,re=oe.l.o,oe.$a==0){if(Te=f.rc,_e=f.Vc,Xe=f.Fa,ce=f.P+1+T*N,fe=f.mb,je=f.nb+T*N,e(ce<=f.P+f.qc),oe.Z!=0)for(e(zi[oe.Z]!=null),ae=0;ae<H;++ae)zi[oe.Z](Te,_e,Xe,ce,fe,je,N),Te=fe,_e=je,je+=N,ce+=N;else for(ae=0;ae<H;++ae)n(fe,je,Xe,ce,N),Te=fe,_e=je,je+=N,ce+=N;f.rc=Te,f.Vc=_e}else{if(e(oe.mc!=null),N=T+H,e((ae=oe.mc)!=null),e(N<=ae.i),ae.C>=N)N=1;else if(oe.ic||Ae(),oe.ic){oe=ae.V,Te=ae.Ba,_e=ae.c;var ze=ae.i,Ne=(Xe=1,ce=ae.$/_e,fe=ae.$%_e,je=ae.m,Re=ae.s,ae.$),Ce=_e*ze,Ke=_e*N,tt=Re.wc,Ye=Ne<Ke?Ir(Re,fe,ce):null;e(Ne<=Ce),e(N<=ze),e(la(Re));t:for(;;){for(;!je.h&&Ne<Ke;){if(fe&tt||(Ye=Ir(Re,fe,ce)),e(Ye!=null),ie(je),256>(ze=Dr(Ye.G[0],Ye.H[0],je)))oe[Te+Ne]=ze,++Ne,++fe>=_e&&(fe=0,++ce<=N&&!(ce%16)&&es(ae,ce));else{if(!(280>ze)){Xe=0;break t}ze=Mr(ze-256,je);var gt,ut=Dr(Ye.G[4],Ye.H[4],je);if(ie(je),!(Ne>=(ut=Lr(_e,ut=Mr(ut,je)))&&Ce-Ne>=ze)){Xe=0;break t}for(gt=0;gt<ze;++gt)oe[Te+Ne+gt]=oe[Te+Ne+gt-ut];for(Ne+=ze,fe+=ze;fe>=_e;)fe-=_e,++ce<=N&&!(ce%16)&&es(ae,ce);Ne<Ke&&fe&tt&&(Ye=Ir(Re,fe,ce))}e(je.h==te(je))}es(ae,ce>N?N:ce);break t}!Xe||je.h&&Ne<Ce?(Xe=0,ae.a=je.h?5:3):ae.$=Ne,N=Xe}else N=Ra(ae,ae.V,ae.Ba,ae.c,ae.i,N,yo);if(!N){H=0;break e}}T+H>=re&&(f.Cc=1),H=1}if(!H)return null;if(f.Cc&&((H=f.ga)!=null&&(H.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+T*Q}function L(f,N,T,H,Q,re){for(;0<Q--;){var ae,oe=f,ce=N+(T?1:0),fe=f,je=N+(T?0:3);for(ae=0;ae<H;++ae){var Re=fe[je+4*ae];Re!=255&&(Re*=32897,oe[ce+4*ae+0]=oe[ce+4*ae+0]*Re>>23,oe[ce+4*ae+1]=oe[ce+4*ae+1]*Re>>23,oe[ce+4*ae+2]=oe[ce+4*ae+2]*Re>>23)}N+=re}}function X(f,N,T,H,Q){for(;0<H--;){var re;for(re=0;re<T;++re){var ae=f[N+2*re+0],oe=15&(fe=f[N+2*re+1]),ce=4369*oe,fe=(240&fe|fe>>4)*ce>>16;f[N+2*re+0]=(240&ae|ae>>4)*ce>>16&240|(15&ae|ae<<4)*ce>>16>>4&15,f[N+2*re+1]=240&fe|oe}N+=Q}}function he(f,N,T,H,Q,re,ae,oe){var ce,fe,je=255;for(fe=0;fe<Q;++fe){for(ce=0;ce<H;++ce){var Re=f[N+ce];re[ae+4*ce]=Re,je&=Re}N+=T,ae+=oe}return je!=255}function ye(f,N,T,H,Q){var re;for(re=0;re<Q;++re)T[H+re]=f[N+re]>>8}function Ae(){As=L,Ur=X,zr=he,yn=ye}function Ie(f,N,T){I[f]=function(H,Q,re,ae,oe,ce,fe,je,Re,Te,_e,Xe,ze,Ne,Ce,Ke,tt){var Ye,gt=tt-1>>1,ut=oe[ce+0]|fe[je+0]<<16,Lt=Re[Te+0]|_e[Xe+0]<<16;e(H!=null);var ht=3*ut+Lt+131074>>2;for(N(H[Q+0],255&ht,ht>>16,ze,Ne),re!=null&&(ht=3*Lt+ut+131074>>2,N(re[ae+0],255&ht,ht>>16,Ce,Ke)),Ye=1;Ye<=gt;++Ye){var br=oe[ce+Ye]|fe[je+Ye]<<16,Cr=Re[Te+Ye]|_e[Xe+Ye]<<16,hr=ut+br+Lt+Cr+524296,or=hr+2*(br+Lt)>>3;ht=or+ut>>1,ut=(hr=hr+2*(ut+Cr)>>3)+br>>1,N(H[Q+2*Ye-1],255&ht,ht>>16,ze,Ne+(2*Ye-1)*T),N(H[Q+2*Ye-0],255&ut,ut>>16,ze,Ne+(2*Ye-0)*T),re!=null&&(ht=hr+Lt>>1,ut=or+Cr>>1,N(re[ae+2*Ye-1],255&ht,ht>>16,Ce,Ke+(2*Ye-1)*T),N(re[ae+2*Ye+0],255&ut,ut>>16,Ce,Ke+(2*Ye+0)*T)),ut=br,Lt=Cr}1&tt||(ht=3*ut+Lt+131074>>2,N(H[Q+tt-1],255&ht,ht>>16,ze,Ne+(tt-1)*T),re!=null&&(ht=3*Lt+ut+131074>>2,N(re[ae+tt-1],255&ht,ht>>16,Ce,Ke+(tt-1)*T)))}}function Ge(){Ls[yh]=V6,Ls[xh]=qw,Ls[Ow]=H6,Ls[bh]=Uw,Ls[vh]=zw,Ls[og]=Vw,Ls[Mw]=W6,Ls[ig]=qw,Ls[lg]=Uw,Ls[wh]=zw,Ls[cg]=Vw}function ft(f){return f&-16384?0>f?0:255:f>>G6}function jt(f,N){return ft((19077*f>>8)+(26149*N>>8)-14234)}function At(f,N,T){return ft((19077*f>>8)-(6419*N>>8)-(13320*T>>8)+8708)}function Tt(f,N){return ft((19077*f>>8)+(33050*N>>8)-17685)}function Ht(f,N,T,H,Q){H[Q+0]=jt(f,T),H[Q+1]=At(f,N,T),H[Q+2]=Tt(f,N)}function gr(f,N,T,H,Q){H[Q+0]=Tt(f,N),H[Q+1]=At(f,N,T),H[Q+2]=jt(f,T)}function xr(f,N,T,H,Q){var re=At(f,N,T);N=re<<3&224|Tt(f,N)>>3,H[Q+0]=248&jt(f,T)|re>>5,H[Q+1]=N}function fr(f,N,T,H,Q){var re=240&Tt(f,N)|15;H[Q+0]=240&jt(f,T)|At(f,N,T)>>4,H[Q+1]=re}function _n(f,N,T,H,Q){H[Q+0]=255,Ht(f,N,T,H,Q+1)}function Rr(f,N,T,H,Q){gr(f,N,T,H,Q),H[Q+3]=255}function mn(f,N,T,H,Q){Ht(f,N,T,H,Q),H[Q+3]=255}function ja(f,N){return 0>f?0:f>N?N:f}function Cs(f,N,T){I[f]=function(H,Q,re,ae,oe,ce,fe,je,Re){for(var Te=je+(-2&Re)*T;je!=Te;)N(H[Q+0],re[ae+0],oe[ce+0],fe,je),N(H[Q+1],re[ae+0],oe[ce+0],fe,je+T),Q+=2,++ae,++ce,je+=2*T;1&Re&&N(H[Q+0],re[ae+0],oe[ce+0],fe,je)}}function Fc(f,N,T){return T==0?f==0?N==0?6:5:N==0?4:0:T}function dr(f,N,T,H,Q){switch(f>>>30){case 3:st(N,T,H,Q,0);break;case 2:ot(N,T,H,Q);break;case 1:lt(N,T,H,Q)}}function No(f,N){var T,H,Q=N.M,re=N.Nb,ae=f.oc,oe=f.pc+40,ce=f.oc,fe=f.pc+584,je=f.oc,Re=f.pc+600;for(T=0;16>T;++T)ae[oe+32*T-1]=129;for(T=0;8>T;++T)ce[fe+32*T-1]=129,je[Re+32*T-1]=129;for(0<Q?ae[oe-1-32]=ce[fe-1-32]=je[Re-1-32]=129:(a(ae,oe-32-1,127,21),a(ce,fe-32-1,127,9),a(je,Re-32-1,127,9)),H=0;H<f.za;++H){var Te=N.ya[N.aa+H];if(0<H){for(T=-1;16>T;++T)n(ae,oe+32*T-4,ae,oe+32*T+12,4);for(T=-1;8>T;++T)n(ce,fe+32*T-4,ce,fe+32*T+4,4),n(je,Re+32*T-4,je,Re+32*T+4,4)}var _e=f.Gd,Xe=f.Hd+H,ze=Te.ad,Ne=Te.Hc;if(0<Q&&(n(ae,oe-32,_e[Xe].y,0,16),n(ce,fe-32,_e[Xe].f,0,8),n(je,Re-32,_e[Xe].ea,0,8)),Te.Za){var Ce=ae,Ke=oe-32+16;for(0<Q&&(H>=f.za-1?a(Ce,Ke,_e[Xe].y[15],4):n(Ce,Ke,_e[Xe+1].y,0,4)),T=0;4>T;T++)Ce[Ke+128+T]=Ce[Ke+256+T]=Ce[Ke+384+T]=Ce[Ke+0+T];for(T=0;16>T;++T,Ne<<=2)Ce=ae,Ke=oe+Ww[T],Xs[Te.Ob[T]](Ce,Ke),dr(Ne,ze,16*+T,Ce,Ke)}else if(Ce=Fc(H,Q,Te.Ob[0]),Ui[Ce](ae,oe),Ne!=0)for(T=0;16>T;++T,Ne<<=2)dr(Ne,ze,16*+T,ae,oe+Ww[T]);for(T=Te.Gc,Ce=Fc(H,Q,Te.Dd),ri[Ce](ce,fe),ri[Ce](je,Re),Ne=ze,Ce=ce,Ke=fe,255&(Te=T>>0)&&(170&Te?yt(Ne,256,Ce,Ke):Ot(Ne,256,Ce,Ke)),Te=je,Ne=Re,255&(T>>=8)&&(170&T?yt(ze,320,Te,Ne):Ot(ze,320,Te,Ne)),Q<f.Ub-1&&(n(_e[Xe].y,0,ae,oe+480,16),n(_e[Xe].f,0,ce,fe+224,8),n(_e[Xe].ea,0,je,Re+224,8)),T=8*re*f.B,_e=f.sa,Xe=f.ta+16*H+16*re*f.R,ze=f.qa,Te=f.ra+8*H+T,Ne=f.Ha,Ce=f.Ia+8*H+T,T=0;16>T;++T)n(_e,Xe+T*f.R,ae,oe+32*T,16);for(T=0;8>T;++T)n(ze,Te+T*f.B,ce,fe+32*T,8),n(Ne,Ce+T*f.B,je,Re+32*T,8)}}function Vn(f,N,T,H,Q,re,ae,oe,ce){var fe=[0],je=[0],Re=0,Te=ce!=null?ce.kd:0,_e=ce??new Se;if(f==null||12>T)return 7;_e.data=f,_e.w=N,_e.ha=T,N=[N],T=[T],_e.gb=[_e.gb];e:{var Xe=N,ze=T,Ne=_e.gb;if(e(f!=null),e(ze!=null),e(Ne!=null),Ne[0]=0,12<=ze[0]&&!r(f,Xe[0],"RIFF")){if(r(f,Xe[0]+8,"WEBP")){Ne=3;break e}var Ce=rt(f,Xe[0]+4);if(12>Ce||4294967286<Ce){Ne=3;break e}if(Te&&Ce>ze[0]-8){Ne=7;break e}Ne[0]=Ce,Xe[0]+=12,ze[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ce=0<_e.gb[0],T=T[0];;){e:{var Ke=f;ze=N,Ne=T;var tt=fe,Ye=je,gt=Xe=[0];if((ht=Re=[Re])[0]=0,8>Ne[0])Ne=7;else{if(!r(Ke,ze[0],"VP8X")){if(rt(Ke,ze[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ut=rt(Ke,ze[0]+8),Lt=1+Je(Ke,ze[0]+12);if(2147483648<=Lt*(Ke=1+Je(Ke,ze[0]+15))){Ne=3;break e}gt!=null&&(gt[0]=ut),tt!=null&&(tt[0]=Lt),Ye!=null&&(Ye[0]=Ke),ze[0]+=18,Ne[0]-=18,ht[0]=1}Ne=0}}if(Re=Re[0],Xe=Xe[0],Ne!=0)return Ne;if(ze=!!(2&Xe),!Ce&&Re)return 3;if(re!=null&&(re[0]=!!(16&Xe)),ae!=null&&(ae[0]=ze),oe!=null&&(oe[0]=0),ae=fe[0],Xe=je[0],Re&&ze&&ce==null){Ne=0;break}if(4>T){Ne=7;break}if(Ce&&Re||!Ce&&!Re&&!r(f,N[0],"ALPH")){T=[T],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{ut=f,Ne=N,Ce=T;var ht=_e.gb;tt=_e.na,Ye=_e.P,gt=_e.Sa,Lt=22,e(ut!=null),e(Ce!=null),Ke=Ne[0];var br=Ce[0];for(e(tt!=null),e(gt!=null),tt[0]=null,Ye[0]=null,gt[0]=0;;){if(Ne[0]=Ke,Ce[0]=br,8>br){Ne=7;break e}var Cr=rt(ut,Ke+4);if(4294967286<Cr){Ne=3;break e}var hr=8+Cr+1&-2;if(Lt+=hr,0<ht&&Lt>ht){Ne=3;break e}if(!r(ut,Ke,"VP8 ")||!r(ut,Ke,"VP8L")){Ne=0;break e}if(br[0]<hr){Ne=7;break e}r(ut,Ke,"ALPH")||(tt[0]=ut,Ye[0]=Ke+8,gt[0]=Cr),Ke+=hr,br-=hr}}if(T=T[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Ne!=0)break}T=[T],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(ht=f,Ne=N,Ce=T,tt=_e.gb[0],Ye=_e.Ja,gt=_e.xa,ut=Ne[0],Ke=!r(ht,ut,"VP8 "),Lt=!r(ht,ut,"VP8L"),e(ht!=null),e(Ce!=null),e(Ye!=null),e(gt!=null),8>Ce[0])Ne=7;else{if(Ke||Lt){if(ht=rt(ht,ut+4),12<=tt&&ht>tt-12){Ne=3;break e}if(Te&&ht>Ce[0]-8){Ne=7;break e}Ye[0]=ht,Ne[0]+=8,Ce[0]-=8,gt[0]=Lt}else gt[0]=5<=Ce[0]&&ht[ut+0]==47&&!(ht[ut+4]>>5),Ye[0]=Ce[0];Ne=0}if(T=T[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],N=N[0],Ne!=0)break;if(4294967286<_e.Ja)return 3;if(oe==null||ze||(oe[0]=_e.xa?2:1),ae=[ae],Xe=[Xe],_e.xa){if(5>T){Ne=7;break}oe=ae,Te=Xe,ze=re,f==null||5>T?f=0:5<=T&&f[N+0]==47&&!(f[N+4]>>5)?(Ce=[0],ht=[0],tt=[0],V(Ye=new M,f,N,T),mt(Ye,Ce,ht,tt)?(oe!=null&&(oe[0]=Ce[0]),Te!=null&&(Te[0]=ht[0]),ze!=null&&(ze[0]=tt[0]),f=1):f=0):f=0}else{if(10>T){Ne=7;break}oe=Xe,f==null||10>T||!Tn(f,N+3,T-3)?f=0:(Te=f[N+0]|f[N+1]<<8|f[N+2]<<16,ze=16383&(f[N+7]<<8|f[N+6]),f=16383&(f[N+9]<<8|f[N+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=_e.Ja||!ze||!f?f=0:(ae&&(ae[0]=ze),oe&&(oe[0]=f),f=1))}if(!f||(ae=ae[0],Xe=Xe[0],Re&&(fe[0]!=ae||je[0]!=Xe)))return 3;ce!=null&&(ce[0]=_e,ce.offset=N-ce.w,e(4294967286>N-ce.w),e(ce.offset==ce.ha-T));break}return Ne==0||Ne==7&&Re&&ce==null?(re!=null&&(re[0]|=_e.na!=null&&0<_e.na.length),H!=null&&(H[0]=ae),Q!=null&&(Q[0]=Xe),0):Ne}function _s(f,N,T){var H=N.width,Q=N.height,re=0,ae=0,oe=H,ce=Q;if(N.Da=f!=null&&0<f.Da,N.Da&&(oe=f.cd,ce=f.bd,re=f.v,ae=f.j,11>T||(re&=-2,ae&=-2),0>re||0>ae||0>=oe||0>=ce||re+oe>H||ae+ce>Q))return 0;if(N.v=re,N.j=ae,N.va=re+oe,N.o=ae+ce,N.U=oe,N.T=ce,N.da=f!=null&&0<f.da,N.da){if(!vt(oe,ce,T=[f.ib],re=[f.hb]))return 0;N.ib=T[0],N.hb=re[0]}return N.ob=f!=null&&f.ob,N.Kb=f==null||!f.Sd,N.da&&(N.ob=N.ib<3*H/4&&N.hb<3*Q/4,N.Kb=0),1}function zl(f){if(f==null)return 2;if(11>f.S){var N=f.f.RGBA;N.fb+=(f.height-1)*N.A,N.A=-N.A}else N=f.f.kb,f=f.height,N.O+=(f-1)*N.fa,N.fa=-N.fa,N.N+=(f-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(f-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(f-1)*N.lb,N.lb=-N.lb);return 0}function Oi(f,N,T,H){if(H==null||0>=f||0>=N)return 2;if(T!=null){if(T.Da){var Q=T.cd,re=T.bd,ae=-2&T.v,oe=-2&T.j;if(0>ae||0>oe||0>=Q||0>=re||ae+Q>f||oe+re>N)return 2;f=Q,N=re}if(T.da){if(!vt(f,N,Q=[T.ib],re=[T.hb]))return 2;f=Q[0],N=re[0]}}H.width=f,H.height=N;e:{var ce=H.width,fe=H.height;if(f=H.S,0>=ce||0>=fe||!(f>=yh&&13>f))f=2;else{if(0>=H.Rd&&H.sd==null){ae=re=Q=N=0;var je=(oe=ce*Gw[f])*fe;if(11>f||(re=(fe+1)/2*(N=(ce+1)/2),f==12&&(ae=(Q=ce)*fe)),(fe=o(je+2*re+ae))==null){f=1;break e}H.sd=fe,11>f?((ce=H.f.RGBA).eb=fe,ce.fb=0,ce.A=oe,ce.size=je):((ce=H.f.kb).y=fe,ce.O=0,ce.fa=oe,ce.Fd=je,ce.f=fe,ce.N=0+je,ce.Ab=N,ce.Cd=re,ce.ea=fe,ce.W=0+je+re,ce.Db=N,ce.Ed=re,f==12&&(ce.F=fe,ce.J=0+je+2*re),ce.Tc=ae,ce.lb=Q)}if(N=1,Q=H.S,re=H.width,ae=H.height,Q>=yh&&13>Q)if(11>Q)f=H.f.RGBA,N&=(oe=Math.abs(f.A))*(ae-1)+re<=f.size,N&=oe>=re*Gw[Q],N&=f.eb!=null;else{f=H.f.kb,oe=(re+1)/2,je=(ae+1)/2,ce=Math.abs(f.fa),fe=Math.abs(f.Ab);var Re=Math.abs(f.Db),Te=Math.abs(f.lb),_e=Te*(ae-1)+re;N&=ce*(ae-1)+re<=f.Fd,N&=fe*(je-1)+oe<=f.Cd,N=(N&=Re*(je-1)+oe<=f.Ed)&ce>=re&fe>=oe&Re>=oe,N&=f.y!=null,N&=f.f!=null,N&=f.ea!=null,Q==12&&(N&=Te>=re,N&=_e<=f.Tc,N&=f.F!=null)}else N=0;f=N?0:2}}return f!=0||T!=null&&T.fd&&(f=zl(H)),f}var En=64,Oa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],So=24,Na=32,Mi=8,An=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(f){return f},I.Predictor2=function(f,N,T){return N[T+0]},I.Predictor3=function(f,N,T){return N[T+1]},I.Predictor4=function(f,N,T){return N[T-1]},I.Predictor5=function(f,N,T){return ve(ve(f,N[T+1]),N[T+0])},I.Predictor6=function(f,N,T){return ve(f,N[T-1])},I.Predictor7=function(f,N,T){return ve(f,N[T+0])},I.Predictor8=function(f,N,T){return ve(N[T-1],N[T+0])},I.Predictor9=function(f,N,T){return ve(N[T+0],N[T+1])},I.Predictor10=function(f,N,T){return ve(ve(f,N[T-1]),ve(N[T+0],N[T+1]))},I.Predictor11=function(f,N,T){var H=N[T+0];return 0>=Me(H>>24&255,f>>24&255,(N=N[T-1])>>24&255)+Me(H>>16&255,f>>16&255,N>>16&255)+Me(H>>8&255,f>>8&255,N>>8&255)+Me(255&H,255&f,255&N)?H:f},I.Predictor12=function(f,N,T){var H=N[T+0];return(Ee((f>>24&255)+(H>>24&255)-((N=N[T-1])>>24&255))<<24|Ee((f>>16&255)+(H>>16&255)-(N>>16&255))<<16|Ee((f>>8&255)+(H>>8&255)-(N>>8&255))<<8|Ee((255&f)+(255&H)-(255&N)))>>>0},I.Predictor13=function(f,N,T){var H=N[T-1];return(Qe((f=ve(f,N[T+0]))>>24&255,H>>24&255)<<24|Qe(f>>16&255,H>>16&255)<<16|Qe(f>>8&255,H>>8&255)<<8|Qe(f>>0&255,H>>0&255))>>>0};var Fi=I.PredictorAdd0;I.PredictorAdd1=at,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Co=I.PredictorAdd2;Kt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Bi,Ma=I.ColorIndexInverseTransform,Ks=I.MapARGB,$i=I.VP8LColorIndexInverseTransformAlpha,qi=I.MapAlpha,_o=I.VP8LPredictorsAdd=[];_o.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Ys,ra,ue,ke,Le,Fe,He,st,ot,yt,lt,Ot,Ct,Mt,Yt,kt,ur,an,Zr,Fn,Hn,Sa,gn,Es,As,Ur,zr,yn,Bn=o(511),ti=o(2041),ju=o(225),Bc=o(767),mh=0,sg=ti,gh=ju,ss=Bc,Ps=Bn,yh=0,xh=1,Ow=2,bh=3,vh=4,og=5,Mw=6,ig=7,lg=8,wh=9,cg=10,P6=[2,3,7],L6=[3,3,11],Fw=[280,256,256,256,40],D6=[0,1,1,1,0],I6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],R6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],T6=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],O6=8,dg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ug=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nu=null,M6=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],F6=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],B6=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],q6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],U6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ui=[],Xs=[],ri=[],z6=1,$w=2,zi=[],Ls=[];Ie("UpsampleRgbLinePair",Ht,3),Ie("UpsampleBgrLinePair",gr,3),Ie("UpsampleRgbaLinePair",mn,4),Ie("UpsampleBgraLinePair",Rr,4),Ie("UpsampleArgbLinePair",_n,4),Ie("UpsampleRgba4444LinePair",fr,2),Ie("UpsampleRgb565LinePair",xr,2);var V6=I.UpsampleRgbLinePair,H6=I.UpsampleBgrLinePair,qw=I.UpsampleRgbaLinePair,Uw=I.UpsampleBgraLinePair,zw=I.UpsampleArgbLinePair,Vw=I.UpsampleRgba4444LinePair,W6=I.UpsampleRgb565LinePair,kh=16,jh=1<<kh-1,Su=-227,fg=482,G6=6,Hw=0,J6=o(256),K6=o(256),Y6=o(256),X6=o(256),Q6=o(fg-Su),Z6=o(fg-Su);Cs("YuvToRgbRow",Ht,3),Cs("YuvToBgrRow",gr,3),Cs("YuvToRgbaRow",mn,4),Cs("YuvToBgraRow",Rr,4),Cs("YuvToArgbRow",_n,4),Cs("YuvToRgba4444Row",fr,2),Cs("YuvToRgb565Row",xr,2);var Ww=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nh=[0,2,8],e_=[8,7,6,4,4,2,2,2,1,1,1,1],t_=1;this.WebPDecodeRGBA=function(f,N,T,H,Q){var re=xh,ae=new ge,oe=new Sn;ae.ba=oe,oe.S=re,oe.width=[oe.width],oe.height=[oe.height];var ce=oe.width,fe=oe.height,je=new mr;if(je==null||f==null)var Re=2;else e(je!=null),Re=Vn(f,N,T,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Re!=0?ce=0:(ce!=null&&(ce[0]=je.width[0]),fe!=null&&(fe[0]=je.height[0]),ce=1),ce){oe.width=oe.width[0],oe.height=oe.height[0],H!=null&&(H[0]=oe.width),Q!=null&&(Q[0]=oe.height);e:{if(H=new Xo,(Q=new Se).data=f,Q.w=N,Q.ha=T,Q.kd=1,N=[0],e(Q!=null),((f=Vn(Q.data,Q.w,Q.ha,null,null,null,N,null,Q))==0||f==7)&&N[0]&&(f=4),(N=f)==0){if(e(ae!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=rn,H.ac=cr,H.bc=Cn,H.ma=ae,Q.xa){if((f=Rn())==null){ae=1;break e}if(function(Te,_e){var Xe=[0],ze=[0],Ne=[0];t:for(;;){if(Te==null)return 0;if(_e==null)return Te.a=2,0;if(Te.l=_e,Te.a=0,V(Te.m,_e.data,_e.w,_e.ha),!mt(Te.m,Xe,ze,Ne)){Te.a=3;break t}if(Te.xb=$w,_e.width=Xe[0],_e.height=ze[0],!ts(Xe[0],ze[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(f,H)){if(H=(N=Oi(H.width,H.height,ae.Oa,ae.ba))==0){t:{H=f;r:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((T=H.l)!=null),e((Q=T.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,e(H.ca!=null),!_s(Q.Oa,T,bh)){H.a=2;break r}if(!qs(H,T.width)||T.da)break r;if((T.da||sr(H.ca.S))&&Ae(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ae()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!pt(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!Ra(H,H.V,H.Ba,H.c,H.i,T.o,Ia))break r;Q.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(N=f.a)}else N=f.a}else{if((f=new Ml)==null){ae=1;break e}if(f.Fa=Q.na,f.P=Q.P,f.qc=Q.Sa,zs(f,H)){if((N=Oi(H.width,H.height,ae.Oa,ae.ba))==0){if(f.Aa=0,T=ae.Oa,e((Q=f)!=null),T!=null){if(0<(ce=0>(ce=T.Md)?0:100<ce?255:255*ce/100)){for(fe=je=0;4>fe;++fe)12>(Re=Q.pb[fe]).lc&&(Re.ia=ce*e_[0>Re.lc?0:Re.lc]>>3),je|=Re.ia;je&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=T.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}pu(f,H)||(N=f.a)}}else N=f.a}N==0&&ae.Oa!=null&&ae.Oa.fd&&(N=zl(ae.ba))}ae=N}re=ae!=0?null:11>re?oe.f.RGBA.eb:oe.f.kb.y}else re=null;return re};var Gw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,k){for(var _="",x=0;x<4;x++)_+=String.fromCharCode(I[k++]);return _}function u(I,k){return(I[k+0]<<0|I[k+1]<<8|I[k+2]<<16)>>>0}function h(I,k){return(I[k+0]<<0|I[k+1]<<8|I[k+2]<<16|I[k+3]<<24)>>>0}new l;var y=[0],m=[0],w=[],v=new l,A=t,b=function(I,k){var _={},x=0,j=!1,P=0,E=0;if(_.frames=[],!function(J,te,de,ie){for(var xe=0;xe<ie;xe++)if(J[te+xe]!=de.charCodeAt(xe))return!0;return!1}(I,k,"RIFF",4)){for(h(I,k+=4),k+=8;k<I.length;){var U=d(I,k),q=h(I,k+=4);k+=4;var G=q+(1&q);switch(U){case"VP8 ":case"VP8L":_.frames[x]===void 0&&(_.frames[x]={}),(le=_.frames[x]).src_off=j?E:k-8,le.src_size=P+q+8,x++,j&&(j=!1,P=0,E=0);break;case"VP8X":(le=_.header={}).feature_flags=I[k];var V=k+4;le.canvas_width=1+u(I,V),V+=3,le.canvas_height=1+u(I,V),V+=3;break;case"ALPH":j=!0,P=G+8,E=k-8;break;case"ANIM":(le=_.header).bgcolor=h(I,k),V=k+4,le.loop_count=(Z=I)[(M=V)+0]<<0|Z[M+1]<<8,V+=2;break;case"ANMF":var ee,le;(le=_.frames[x]={}).offset_x=2*u(I,k),k+=3,le.offset_y=2*u(I,k),k+=3,le.width=1+u(I,k),k+=3,le.height=1+u(I,k),k+=3,le.duration=u(I,k),k+=3,ee=I[k++],le.dispose=1&ee,le.blend=ee>>1&1}U!="ANMF"&&(k+=G)}var Z,M;return _}}(A,0);b.response=A,b.rgbaoutput=!0,b.dataurl=!1;var S=b.header?b.header:null,R=b.frames?b.frames:null;if(S){S.loop_counter=S.loop_count,y=[S.canvas_height],m=[S.canvas_width];for(var W=0;W<R.length&&R[W].blend!=0;W++);}var z=R[0],B=v.WebPDecodeRGBA(A,z.src_off,z.src_size,m,y);z.rgba=B,z.imgwidth=m[0],z.imgheight=y[0];for(var g=0;g<m[0]*y[0]*4;g++)w[g]=B[g];return this.width=m,this.height=y,this.data=w,this}(function(t){var e=function(){return typeof bb=="function"},r=function(y,m,w,v){var A=4,b=i;switch(v){case t.image_compression.FAST:A=1,b=o;break;case t.image_compression.MEDIUM:A=6,b=c;break;case t.image_compression.SLOW:A=9,b=l}y=n(y,m,w,b);var S=bb(y,{level:A});return t.__addimage__.arrayBufferToBinaryString(S)},n=function(y,m,w,v){for(var A,b,S,R=y.length/m,W=new Uint8Array(y.length+R),z=u(),B=0;B<R;B+=1){if(S=B*m,A=y.subarray(S,S+m),v)W.set(v(A,w,b),S+B);else{for(var g,I=z.length,k=[];g<I;g+=1)k[g]=z[g](A,w,b);var _=h(k.concat());W.set(k[_],S+B)}b=A}return W},a=function(y){var m=Array.apply([],y);return m.unshift(0),m},o=function(y,m){var w,v=[],A=y.length;v[0]=1;for(var b=0;b<A;b+=1)w=y[b-m]||0,v[b+1]=y[b]-w+256&255;return v},i=function(y,m,w){var v,A=[],b=y.length;A[0]=2;for(var S=0;S<b;S+=1)v=w&&w[S]||0,A[S+1]=y[S]-v+256&255;return A},c=function(y,m,w){var v,A,b=[],S=y.length;b[0]=3;for(var R=0;R<S;R+=1)v=y[R-m]||0,A=w&&w[R]||0,b[R+1]=y[R]+256-(v+A>>>1)&255;return b},l=function(y,m,w){var v,A,b,S,R=[],W=y.length;R[0]=4;for(var z=0;z<W;z+=1)v=y[z-m]||0,A=w&&w[z]||0,b=w&&w[z-m]||0,S=d(v,A,b),R[z+1]=y[z]-S+256&255;return R},d=function(y,m,w){if(y===m&&m===w)return y;var v=Math.abs(m-w),A=Math.abs(y-w),b=Math.abs(y+m-w-w);return v<=A&&v<=b?y:A<=b?m:w},u=function(){return[a,o,i,c,l]},h=function(y){var m=y.map(function(w){return w.reduce(function(v,A){return v+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(y,m,w,v){var A,b,S,R,W,z,B,g,I,k,_,x,j,P,E,U=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(S=new oH(y)).imgData,b=S.bits,A=S.colorSpace,W=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){I=(g=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,_=new Uint8Array(I*S.colors),k=new Uint8Array(I);var G,V=S.pixelBitlength-S.bits;for(P=0,E=0;P<I;P++){for(j=g[P],G=0;G<V;)_[E++]=j>>>G&255,G+=S.bits;k[P]=j>>>G&255}}if(S.bits===16){I=(g=new Uint32Array(S.decodePixels().buffer)).length,_=new Uint8Array(I*(32/S.pixelBitlength)*S.colors),k=new Uint8Array(I*(32/S.pixelBitlength)),x=S.colors>1,P=0,E=0;for(var ee=0;P<I;)j=g[P++],_[E++]=j>>>0&255,x&&(_[E++]=j>>>16&255,j=g[P++],_[E++]=j>>>0&255),k[ee++]=j>>>16&255;b=8}v!==t.image_compression.NONE&&e()?(y=r(_,S.width*S.colors,S.colors,v),B=r(k,S.width,1,v)):(y=_,B=k,U=void 0)}if(S.colorType===3&&(A=this.color_spaces.INDEXED,z=S.palette,S.transparency.indexed)){var le=S.transparency.indexed,Z=0;for(P=0,I=le.length;P<I;++P)Z+=le[P];if((Z/=255)===I-1&&le.indexOf(0)!==-1)R=[le.indexOf(0)];else if(Z!==I){for(g=S.decodePixels(),k=new Uint8Array(g.length),P=0,I=g.length;P<I;P++)k[P]=le[g[P]];B=r(k,S.width,1)}}var M=function(J){var te;switch(J){case t.image_compression.FAST:te=11;break;case t.image_compression.MEDIUM:te=13;break;case t.image_compression.SLOW:te=14;break;default:te=12}return te}(v);return U===this.decode.FLATE_DECODE&&(q="/Predictor "+M+" "),q+="/Colors "+W+" /BitsPerComponent "+b+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:w,data:y,index:m,filter:U,decodeParameters:q,transparency:R,palette:z,sMask:B,predictor:M,width:S.width,height:S.height,bitsPerComponent:b,colorSpace:A}}}})(Bt.API),function(t){t.processGIF89A=function(e,r,n,a){var o=new iH(e),i=o.width,c=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:i,height:c},u=new Iy(100).encode(d,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A}(Bt.API),to.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},to.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Br.log("bit decode error:"+r)}},to.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var l=this.palette[o>>7-c&1];this.data[i+4*c]=l.blue,this.data[i+4*c+1]=l.green,this.data[i+4*c+2]=l.red,this.data[i+4*c+3]=255}r!==0&&(this.pos+=4-r)}},to.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,c=o>>4,l=15&o,d=this.palette[c];if(this.data[i]=d.blue,this.data[i+1]=d.green,this.data[i+2]=d.red,this.data[i+3]=255,2*a+1>=this.width)break;d=this.palette[l],this.data[i+4]=d.blue,this.data[i+4+1]=d.green,this.data[i+4+2]=d.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},to.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[o]=i.red,this.data[o+1]=i.green,this.data[o+2]=i.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},to.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,d=o>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=c,this.data[u+2]=i,this.data[u+3]=d}this.pos+=t}},to.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(i&e)/e*255|0,l=(i>>5&r)/r*255|0,d=(i>>11)/e*255|0,u=a*this.width*4+4*o;this.data[u]=d,this.data[u+1]=l,this.data[u+2]=c,this.data[u+3]=255}this.pos+=t}},to.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*r;this.data[i]=o,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},to.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=i}},to.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var o=new to(e,!1),i=o.width,c=o.height,l={data:o.getData(),width:i,height:c},d=new Iy(100).encode(l,100);return t.processJPEG.call(this,d,r,n,a)}}(Bt.API),Ek.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var o=new Ek(e),i=o.width,c=o.height,l={data:o.getData(),width:i,height:c},d=new Iy(100).encode(l,100);return t.processJPEG.call(this,d,r,n,a)}}(Bt.API),Bt.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,o=new Uint8Array(a/4*3),i=new Uint8Array(a/4),c=0,l=0,d=0;d<a;d+=4){var u=n[d],h=n[d+1],y=n[d+2],m=n[d+3];o[c++]=u,o[c++]=h,o[c++]=y,i[l++]=m}var w=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Bt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yc=Bt.API,gp=Yc.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,l=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,y=0,m=t.length,w=0,v=c[0]||l,A=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?A.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/o)||0)/1e3):(y=h&&Er(d[n])==="object"&&!isNaN(parseInt(d[n][w],10))?d[n][w]/u:0,A.push((c[n]||v)/l+y)),w=n;return A},Nk=Yc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Yc.processArabic&&(t=Yc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:gp.apply(this,arguments).reduce(function(o,i){return o+i},0)},Sk=function(t,e,r,n){for(var a=[],o=0,i=t.length,c=0;o!==i&&c+e[o]<r;)c+=e[o],o++;a.push(t.slice(0,o));var l=o;for(c=0;o!==i;)c+e[o]>n&&(a.push(t.slice(l,o)),c=0,l=o),c+=e[o],o++;return l!==o&&a.push(t.slice(l,o)),a},Ck=function(t,e,r){r||(r={});var n,a,o,i,c,l,d,u=[],h=[u],y=r.textIndent||0,m=0,w=0,v=t.split(" "),A=gp.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var b=Array(l).join(" "),S=[];v.map(function(W){(W=W.split(/\s*\n/)).length>1?S=S.concat(W.map(function(z,B){return(B&&z.length?`
`:"")+z})):S.push(W[0])}),v=S,l=Nk.apply(this,[b,r])}for(o=0,i=v.length;o<i;o++){var R=0;if(n=v[o],l&&n[0]==`
`&&(n=n.substr(1),R=1),y+m+(w=(a=gp.apply(this,[n,r])).reduce(function(W,z){return W+z},0))>e||R){if(w>e){for(c=Sk.apply(this,[n,a,e-(y+m),e]),u.push(c.shift()),u=[c.pop()];c.length;)h.push([c.shift()]);w=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(W,z){return W+z},0)}else u=[n];h.push(u),y=w+l,m=A}else u.push(n),y+=m+w,m=A}return d=l?function(W,z){return(z?b:"")+W.join(" ")}:function(W){return W.join(" ")},h.map(d)},Yc.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=r.lineIndent;var c,l,d=[];for(c=0,l=n.length;c<l;c++)d=d.concat(Ck.apply(this,[n[c],i,o]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var o=function(h){return"0x"+parseInt(h,10).toString(16)},i=t.__fontmetrics__.compress=function(h){var y,m,w,v,A=["{"];for(var b in h){if(y=h[b],isNaN(parseInt(b,10))?m="'"+b+"'":(b=parseInt(b,10),m=(m=o(b).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof y=="number")y<0?(w=o(y).slice(3),v="-"):(w=o(y).slice(2),v=""),w=v+w.slice(0,-1)+n[w.slice(-1)];else{if(Er(y)!=="object")throw new Error("Don't know what to do with value type "+Er(y)+".");w=i(y)}A.push(m+w)}return A.push("}"),A.join("")},c=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,m,w,v,A={},b=1,S=A,R=[],W="",z="",B=h.length-1,g=1;g<B;g+=1)(v=h[g])=="'"?y?(w=y.join(""),y=void 0):y=[]:y?y.push(v):v=="{"?(R.push([S,w]),S={},w=void 0):v=="}"?((m=R.pop())[0][m[1]]=S,w=void 0,S=m[0]):v=="-"?b=-1:w===void 0?r.hasOwnProperty(v)?(W+=r[v],w=parseInt(W,16)*b,b=1,W=""):W+=v:r.hasOwnProperty(v)?(z+=r[v],S[w]=parseInt(z,16)*b,b=1,w=void 0,z=""):z+=v;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var y=h.font,m=u.Unicode[y.postScriptName];m&&(y.metadata.Unicode={},y.metadata.Unicode.widths=m.widths,y.metadata.Unicode.kerning=m.kerning);var w=d.Unicode[y.postScriptName];w&&(y.metadata.Unicode.encoding=w,y.encoding=w.codePages[0])}])}(Bt.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=r.charCodeAt(o);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(mf(c)),i.metadata=t.API.TTFFont.open(c),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(Bt),function(t){function e(){return(qt.canvg?Promise.resolve(qt.canvg):ki(()=>import("./index.es-DgmqIGFg.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Bt.API.addSvgAsImage=function(r,n,a,o,i,c,l,d){if(isNaN(n)||isNaN(a))throw Br.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(i))throw Br.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(w){return w.fromString(h,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(y)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),n,a,o,i,l,d)})}}(),Bt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Bt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,o,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(i),l=[],d=0,u=0,h=0;function y(w,v){var A,b=!1;for(A=0;A<w.length;A+=1)w[A]===v&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=c.length;for(h=0;h<m;h+=1)r[c[h]].value=r[c[h]].defaultValue,r[c[h]].explicitSet=!1}if(Er(t)==="object"){for(a in t)if(o=t[a],y(c,a)&&o!==void 0){if(r[a].type==="boolean"&&typeof o=="boolean")r[a].value=o;else if(r[a].type==="name"&&y(r[a].valueSet,o))r[a].value=o;else if(r[a].type==="integer"&&Number.isInteger(o))r[a].value=o;else if(r[a].type==="array"){for(d=0;d<o.length;d+=1)if(n=!0,o[d].length===1&&typeof o[d][0]=="number")l.push(String(o[d]-1));else if(o[d].length>1){for(u=0;u<o[d].length;u+=1)typeof o[d][u]!="number"&&(n=!1);n===!0&&l.push([o[d][0]-1,o[d][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,v=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?v.push("/"+w+" /"+r[w].value):v.push("/"+w+" "+r[w].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+i.length+c.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+i+c+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Bt.API),function(t){var e=t.API,r=e.pdfEscape16=function(o,i){for(var c,l=i.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,y=o.length;h<y;++h){if(c=i.metadata.characterToGlyph(o.charCodeAt(h)),i.metadata.glyIdsUsed.push(c),i.metadata.toUnicode[c]=o.charCodeAt(h),l.indexOf(c)==-1&&(l.push(c),l.push([parseInt(i.metadata.widthOfGlyph(c),10)])),c=="0")return u.join("");c=c.toString(16),u.push(d[4-c.length],c)}return u.join("")},n=function(o){var i,c,l,d,u,h,y;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,y=(c=Object.keys(o).sort(function(m,w){return m-w})).length;h<y;h++)i=c[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[i]!==void 0&&o[i]!==null&&typeof o[i].toString=="function"&&(d=("0000"+o[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+d+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(i){var c=i.font,l=i.out,d=i.newObject,u=i.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var h=c.metadata.Unicode.widths,y=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),m="",w=0;w<y.length;w++)m+=String.fromCharCode(y[w]);var v=d();u({data:m,addLength1:!0,objectId:v}),l("endobj");var A=d();u({data:n(c.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var b=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Zc(c.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),l("/Flags "+c.metadata.flags),l("/StemV "+c.metadata.stemV),l("/ItalicAngle "+c.metadata.italicAngle),l("/Ascent "+c.metadata.ascender),l("/Descent "+c.metadata.decender),l("/CapHeight "+c.metadata.capHeight),l(">>"),l("endobj");var S=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+Zc(c.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+c.encoding+")"),l(">>"),l(">>"),l("endobj"),c.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Zc(c.fontName)),l("/Encoding /"+c.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(i){var c=i.font,l=i.out,d=i.newObject,u=i.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var h=c.metadata.rawData,y="",m=0;m<h.length;m++)y+=String.fromCharCode(h[m]);var w=d();u({data:y,addLength1:!0,objectId:w}),l("endobj");var v=d();u({data:n(c.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var A=d();l("<<"),l("/Descent "+c.metadata.decender),l("/CapHeight "+c.metadata.capHeight),l("/StemV "+c.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),l("/FontName /"+Zc(c.fontName)),l("/ItalicAngle "+c.metadata.italicAngle),l("/Ascent "+c.metadata.ascender),l(">>"),l("endobj"),c.objectNumber=d();for(var b=0;b<c.metadata.hmtx.widths.length;b++)c.metadata.hmtx.widths[b]=parseInt(c.metadata.hmtx.widths[b]*(1e3/c.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Zc(c.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),l("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var i,c=o.text||"",l=o.x,d=o.y,u=o.options||{},h=o.mutex||{},y=h.pdfEscape,m=h.activeFontKey,w=h.fonts,v=m,A="",b=0,S="",R=w[v].encoding;if(w[v].encoding!=="Identity-H")return{text:c,x:l,y:d,options:u,mutex:h};for(S=c,v=m,Array.isArray(c)&&(S=c[0]),b=0;b<S.length;b+=1)w[v].metadata.hasOwnProperty("cmap")&&(i=w[v].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),i||S[b].charCodeAt(0)<256&&w[v].metadata.hasOwnProperty("Unicode")?A+=S[b]:A+="";var W="";return parseInt(v.slice(1))<14||R==="WinAnsiEncoding"?W=y(A,v).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(W=r(A,w[v])),h.isHex=!0,{text:W,x:l,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(o){var i=o.text||"",c=[],l={text:i,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(i)){var d=0;for(d=0;d<i.length;d+=1)Array.isArray(i[d])&&i[d].length===3?c.push([a(Object.assign({},l,{text:i[d][0]})).text,i[d][1],i[d][2]]):c.push(a(Object.assign({},l,{text:i[d]})).text);o.text=c}else o.text=a(Object.assign({},l,{text:i})).text}])}(Bt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Bt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,o,i,c,l,d,u,h=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,R=0;this.__bidiEngine__={};var W=function(x){var j=x.charCodeAt(),P=j>>8,E=v[P];return E!==void 0?h[256*E+(255&j)]:P===252||P===253?"AL":b.test(P)?"L":P===8?"R":"N"},z=function(x){for(var j,P=0;P<x.length;P++){if((j=W(x.charAt(P)))==="L")return!1;if(j==="R")return!0}return!1},B=function(x,j,P,E){var U,q,G,V,ee=j[E];switch(ee){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(ee="AN");break;case"AL":S=!0,ee="R";break;case"WS":ee="N";break;case"CS":E<1||E+1>=j.length||(U=P[E-1])!=="EN"&&U!=="AN"||(q=j[E+1])!=="EN"&&q!=="AN"?ee="N":S&&(q="AN"),ee=q===U?q:"N";break;case"ES":ee=(U=E>0?P[E-1]:"B")==="EN"&&E+1<j.length&&j[E+1]==="EN"?"EN":"N";break;case"ET":if(E>0&&P[E-1]==="EN"){ee="EN";break}if(S){ee="N";break}for(G=E+1,V=j.length;G<V&&j[G]==="ET";)G++;ee=G<V&&j[G]==="EN"?"EN":"N";break;case"NSM":if(i&&!c){for(V=j.length,G=E+1;G<V&&j[G]==="NSM";)G++;if(G<V){var le=x[E],Z=le>=1425&&le<=2303||le===64286;if(U=j[G],Z&&(U==="R"||U==="AL")){ee="R";break}}}ee=E<1||(U=j[E-1])==="B"?"N":P[E-1];break;case"B":S=!1,a=!0,ee=R;break;case"S":o=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":ee="N"}return ee},g=function(x,j,P){var E=x.split("");return P&&I(E,P,{hiLevel:R}),E.reverse(),j&&j.reverse(),E.join("")},I=function(x,j,P){var E,U,q,G,V,ee=-1,le=x.length,Z=0,M=[],J=R?m:y,te=[];for(S=!1,a=!1,o=!1,U=0;U<le;U++)te[U]=W(x[U]);for(q=0;q<le;q++){if(V=Z,M[q]=B(x,te,M,q),E=240&(Z=J[V][w[M[q]]]),Z&=15,j[q]=G=J[Z][5],E>0)if(E===16){for(U=ee;U<q;U++)j[U]=1;ee=-1}else ee=-1;if(J[Z][6])ee===-1&&(ee=q);else if(ee>-1){for(U=ee;U<q;U++)j[U]=G;ee=-1}te[q]==="B"&&(j[q]=0),P.hiLevel|=G}o&&function(de,ie,xe){for(var we=0;we<xe;we++)if(de[we]==="S"){ie[we]=R;for(var me=we-1;me>=0&&de[me]==="WS";me--)ie[me]=R}}(te,j,le)},k=function(x,j,P,E,U){if(!(U.hiLevel<x)){if(x===1&&R===1&&!a)return j.reverse(),void(P&&P.reverse());for(var q,G,V,ee,le=j.length,Z=0;Z<le;){if(E[Z]>=x){for(V=Z+1;V<le&&E[V]>=x;)V++;for(ee=Z,G=V-1;ee<G;ee++,G--)q=j[ee],j[ee]=j[G],j[G]=q,P&&(q=P[ee],P[ee]=P[G],P[G]=q);Z=V}Z++}}},_=function(x,j,P){var E=x.split(""),U={hiLevel:R};return P||(P=[]),I(E,P,U),function(q,G,V){if(V.hiLevel!==0&&u)for(var ee,le=0;le<q.length;le++)G[le]===1&&(ee=A.indexOf(q[le]))>=0&&(q[le]=A[ee+1])}(E,P,U),k(2,E,j,P,U),k(1,E,j,P,U),E.join("")};return this.__bidiEngine__.doBidiReorder=function(x,j,P){if(function(U,q){if(q)for(var G=0;G<U.length;G++)q[G]=G;c===void 0&&(c=z(U)),d===void 0&&(d=z(U))}(x,j),i||!l||d)if(i&&l&&c^d)R=c?1:0,x=g(x,j,P);else if(!i&&l&&d)R=c?1:0,x=_(x,j,P),x=g(x,j);else if(!i||c||l||d){if(i&&!l&&c^d)x=g(x,j),c?(R=0,x=_(x,j,P)):(R=1,x=_(x,j,P),x=g(x,j));else if(i&&c&&!l&&d)R=1,x=_(x,j,P),x=g(x,j);else if(!i&&!l&&c^d){var E=u;c?(R=1,x=_(x,j,P),R=0,u=!1,x=_(x,j,P),u=E):(R=0,x=_(x,j,P),x=g(x,j),R=1,u=!1,x=_(x,j,P),u=E,x=g(x,j))}}else R=0,x=_(x,j,P);else R=c?1:0,x=_(x,j,P);return x},this.__bidiEngine__.setOptions=function(x){x&&(i=x.isInputVisual,l=x.isOutputVisual,c=x.isInputRtl,d=x.isOutputRtl,u=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var i=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(i=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?i.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):i.push([r.doBidiReorder(a[c])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Bt),Bt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Al(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kH(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new lH(this.contents),this.head=new dH(this),this.name=new mH(this),this.cmap=new g6(this),this.toUnicode={},this.hhea=new uH(this),this.maxp=new gH(this),this.hmtx=new yH(this),this.post=new hH(this),this.os2=new fH(this),this.loca=new wH(this),this.glyf=new xH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,c,l,d;for(d=[],i=0,c=(l=this.bbox).length;i<c;i++)e=l[i],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,o,i,c;for(i=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var go,Al=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,o,i,c,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),i=this.readByte(),c=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^i)+256*(255^c)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*o+65536*i+256*c+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)r=e[n],o.push(this.writeByte(r));return o},t}(),lH=function(){var t;function e(r){var n,a,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,o,i,c,l,d,u,h,y,m,w,v;for(v in m=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(m)/l),i=Math.floor(h/l),u=16*m-h,(a=new Al).writeInt(this.scalarType),a.writeShort(m),a.writeShort(h),a.writeShort(i),a.writeShort(u),o=16*m,d=a.pos+o,c=null,w=[],r)for(y=r[v],a.writeString(v),a.writeInt(t(y)),a.writeInt(d),a.writeInt(y.length),w=w.concat(y),v==="head"&&(c=d),d+=y.length;d%4;)w.push(0),d++;return a.write(w),n=2981146554-t(a.data),a.pos=c+8,a.writeUInt32(n),a.data},t=function(r){var n,a,o,i;for(r=y6.call(r);r.length%4;)r.push(0);for(o=new Al(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=o.readUInt32();return 4294967295&a},e}(),cH={}.hasOwnProperty,Go=function(t,e){for(var r in e)cH.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};go=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var dH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Al).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),Ak=function(){function t(e,r){var n,a,o,i,c,l,d,u,h,y,m,w,v,A,b,S,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),y=m/2,e.pos+=6,o=function(){var W,z;for(z=[],l=W=0;0<=y?W<y:W>y;l=0<=y?++W:--W)z.push(e.readUInt16());return z}(),e.pos+=2,v=function(){var W,z;for(z=[],l=W=0;0<=y?W<y:W>y;l=0<=y?++W:--W)z.push(e.readUInt16());return z}(),d=function(){var W,z;for(z=[],l=W=0;0<=y?W<y:W>y;l=0<=y?++W:--W)z.push(e.readUInt16());return z}(),u=function(){var W,z;for(z=[],l=W=0;0<=y?W<y:W>y;l=0<=y?++W:--W)z.push(e.readUInt16());return z}(),a=(this.length-e.pos+this.offset)/2,c=function(){var W,z;for(z=[],l=W=0;0<=a?W<a:W>a;l=0<=a?++W:--W)z.push(e.readUInt16());return z}(),l=b=0,R=o.length;b<R;l=++b)for(A=o[l],n=S=w=v[l];w<=A?S<=A:S>=A;n=w<=A?++S:--S)u[l]===0?i=n+d[l]:(i=c[u[l]/2+(n-w)-(y-l)]||0)!==0&&(i+=d[l]),this.codeMap[n]=65535&i}e.pos=h}return t.encode=function(e,r){var n,a,o,i,c,l,d,u,h,y,m,w,v,A,b,S,R,W,z,B,g,I,k,_,x,j,P,E,U,q,G,V,ee,le,Z,M,J,te,de,ie,xe,we,me,Pe,qe,Je;switch(E=new Al,i=Object.keys(e).sort(function(rt,pt){return rt-pt}),r){case"macroman":for(v=0,A=function(){var rt=[];for(w=0;w<256;++w)rt.push(0);return rt}(),S={0:0},o={},U=0,ee=i.length;U<ee;U++)S[me=e[a=i[U]]]==null&&(S[me]=++v),o[a]={old:e[a],new:S[e[a]]},A[a]=S[e[a]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(A),{charMap:o,subtable:E.data,maxGlyphID:v+1};case"unicode":for(j=[],h=[],R=0,S={},n={},b=d=null,q=0,le=i.length;q<le;q++)S[z=e[a=i[q]]]==null&&(S[z]=++R),n[a]={old:z,new:S[z]},c=S[z]-a,b!=null&&c===d||(b&&h.push(b),j.push(a),d=c),b=a;for(b&&h.push(b),h.push(65535),j.push(65535),_=2*(k=j.length),I=2*Math.pow(Math.log(k)/Math.LN2,2),y=Math.log(I/2)/Math.LN2,g=2*k-I,l=[],B=[],m=[],w=G=0,Z=j.length;G<Z;w=++G){if(x=j[w],u=h[w],x===65535){l.push(0),B.push(0);break}if(x-(P=n[x].new)>=32768)for(l.push(0),B.push(2*(m.length+k-w)),a=V=x;x<=u?V<=u:V>=u;a=x<=u?++V:--V)m.push(n[a].new);else l.push(P-x),B.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*k+2*m.length),E.writeUInt16(0),E.writeUInt16(_),E.writeUInt16(I),E.writeUInt16(y),E.writeUInt16(g),xe=0,M=h.length;xe<M;xe++)a=h[xe],E.writeUInt16(a);for(E.writeUInt16(0),we=0,J=j.length;we<J;we++)a=j[we],E.writeUInt16(a);for(Pe=0,te=l.length;Pe<te;Pe++)c=l[Pe],E.writeUInt16(c);for(qe=0,de=B.length;qe<de;qe++)W=B[qe],E.writeUInt16(W);for(Je=0,ie=m.length;Je<ie;Je++)v=m[Je],E.writeUInt16(v);return{charMap:n,subtable:E.data,maxGlyphID:R+1}}},t}(),g6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)n=new Ak(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,o;return n==null&&(n="macroman"),a=Ak.encode(r,n),(o=new Al).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},e}(),uH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),fH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),hH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)n=r.readByte(),o.push(this.names.push(r.readString(n)));return o;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var c,l,d;for(d=[],i=c=0,l=this.file.maxp.numGlyphs;0<=l?c<l:c>l;i=0<=l?++c:--c)d.push(r.readUInt32());return d}).call(this)}},e}(),pH=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,o,i,c,l,d,u,h,y,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(d={},i=h=0,y=a.length;h<y;i=++h)o=a[i],r.pos=o.offset,u=r.readString(o.length),c=new pH(u,o),d[m=o.nameID]==null&&(d[m]=[]),d[o.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),gH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),yH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,o,i,c,l,d;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)h.push(r.readInt16());return h}(),this.widths=(function(){var u,h,y,m;for(m=[],u=0,h=(y=this.metrics).length;u<h;u++)i=y[u],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],d=[],n=c=0;0<=o?c<o:c>o;n=0<=o?++c:--c)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),y6=[].slice,xH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,o,i,c,l,d,u,h,y;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(o=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,c=(l=new Al(n.read(o))).readShort(),u=l.readShort(),y=l.readShort(),d=l.readShort(),h=l.readShort(),this.cache[r]=c===-1?new vH(l,u,y,d,h):new bH(l,c,u,y,d,h),this.cache[r]))},e.prototype.encode=function(r,n,a){var o,i,c,l,d;for(c=[],i=[],l=0,d=n.length;l<d;l++)o=r[n[l]],i.push(c.length),o&&(c=c.concat(o.encode(a)));return i.push(c.length),{table:c,offsets:i}},e}(),bH=function(){function t(e,r,n,a,o,i){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=i,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),vH=function(){function t(e,r,n,a,o){var i,c;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;c=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&c;)i.pos+=1&c?4:2,128&c?i.pos+=8:64&c?i.pos+=4:8&c&&(i.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Al(y6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),wH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Go(e,go),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,i;for(i=[],a=0,o=this.length;a<o;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var o,i;for(i=[],a=0,o=this.length;a<o;a+=4)i.push(r.readUInt32());return i}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),o=0,i=0,c=0;c<a.length;++c)if(a[c]=o,i<n.length&&n[i]==c){++i,a[c]=o;var l=this.offsets[c],d=this.offsets[c+1]-l;d>0&&(o+=d)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e}(),kH=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,o;for(r in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,o,i,c,l;for(a={},i=0,c=e.length;i<c;i++)a[o=e[i]]=this.font.glyf.glyphFor(o);for(o in r=[],a)(n=a[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in l=this.glyphsFor(r))n=l[o],a[o]=n;return a},t.prototype.encode=function(e,r){var n,a,o,i,c,l,d,u,h,y,m,w,v,A,b;for(a in n=g6.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),m={0:0},b=n.charMap)m[(l=b[a]).old]=l.new;for(w in y=n.maxGlyphID,i)w in m||(m[w]=y++);return u=function(S){var R,W;for(R in W={},S)W[S[R]]=R;return W}(m),h=Object.keys(u).sort(function(S,R){return S-R}),v=function(){var S,R,W;for(W=[],S=0,R=h.length;S<R;S++)c=h[S],W.push(u[c]);return W}(),o=this.font.glyf.encode(i,v,m),d=this.font.loca.encode(o.offsets,v),A={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();Bt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,o,i;if(Array.isArray(r))return"["+function(){var c,l,d;for(d=[],c=0,l=r.length;c<l;c++)n=r[c],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in o=["<<"],r)i=r[a],o.push("/"+a+" "+e.convert(i));return o.push(">>"),o.join(`
`)}return""+r},e}();function x6(t,e,r,n,a){n=n||{};var o=1.15,i=a.internal.scaleFactor,c=a.internal.getFontSize()/i,l=a.getLineHeightFactor?a.getLineHeightFactor():o,d=c*l,u=/\r\n|\r|\n/g,h="",y=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof t=="string"?t.split(u):t,y=h.length||1),r+=c*(2-o),n.valign==="middle"?r-=y/2*d:n.valign==="bottom"&&(r-=y*d),n.halign==="center"||n.halign==="right"){var m=c;if(n.halign==="center"&&(m*=.5),h&&y>=1){for(var w=0;w<h.length;w++)a.text(h[w],e-a.getStringUnitWidth(h[w])*m,r),r+=d;return a}e-=a.getStringUnitWidth(t)*m}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var Pk={},Ad=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Pk=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,o;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var i=this.jsPDFDocument.internal.getFont(),c=i.fontStyle,l=i.fontName;if(e.font&&(l=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[l];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(l,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=t.unifyColor(e.lineColor),u&&(o=this.jsPDFDocument).setDrawColor.apply(o,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,o){return this.jsPDFDocument.rect(e,r,n,a,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Pk||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Cb=function(t,e){return Cb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Cb(t,e)};function b6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var v6=function(t){b6(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function jH(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function NH(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function H0(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(o){return r.getTextWidth(o)}).reduce(function(o,i){return Math.max(o,i)},0);return a}function w6(t,e,r,n){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:o});var i=k6(a,!1);i&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,i)}function k6(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function ag(t,e){var r,n,a,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function j6(t,e){var r=ag(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function SH(t,e,r,n,a){var o={},i=1.3333333333333333,c=Ry(e,function(R){return a.getComputedStyle(R).backgroundColor});c!=null&&(o.fillColor=c);var l=Ry(e,function(R){return a.getComputedStyle(R).color});l!=null&&(o.textColor=l);var d=_H(n,r);d&&(o.cellPadding=d);var u="borderTopColor",h=i*r,y=n.borderTopWidth;if(n.borderBottomWidth===y&&n.borderRightWidth===y&&n.borderLeftWidth===y){var m=(parseFloat(y)||0)/h;m&&(o.lineWidth=m)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},o.lineWidth.top||(o.lineWidth.right?u="borderRightColor":o.lineWidth.bottom?u="borderBottomColor":o.lineWidth.left&&(u="borderLeftColor"));var w=Ry(e,function(R){return a.getComputedStyle(R)[u]});w!=null&&(o.lineColor=w);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var A=parseInt(n.fontSize||"");isNaN(A)||(o.fontSize=A/i);var b=CH(n);b&&(o.fontStyle=b);var S=(n.fontFamily||"").toLowerCase();return t.indexOf(S)!==-1&&(o.font=S),o}function CH(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Ry(t,e){var r=N6(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function N6(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:N6(t.parentElement,e):r}function _H(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=r.map(function(c){return parseInt(c||"0")/n}),i=ag(o,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function S6(t,e,r,n,a){var o,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var c;typeof e=="string"?c=r.document.querySelector(e):c=e;var l=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],h=[],y=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:u,body:h,foot:y};for(var m=0;m<c.rows.length;m++){var w=c.rows[m],v=(i=(o=w==null?void 0:w.parentElement)===null||o===void 0?void 0:o.tagName)===null||i===void 0?void 0:i.toLowerCase(),A=EH(l,d,r,w,n,a);A&&(v==="thead"?u.push(A):v==="tfoot"?y.push(A):h.push(A))}return{head:u,body:h,foot:y}}function EH(t,e,r,n,a,o){for(var i=new v6(n),c=0;c<n.cells.length;c++){var l=n.cells[c],d=r.getComputedStyle(l);if(a||d.display!=="none"){var u=void 0;o&&(u=SH(t,l,e,d,r)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:AH(l)})}}var h=r.getComputedStyle(n);if(i.length>0&&(a||h.display!=="none"))return i}function AH(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function PH(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var o=a[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function ui(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var c=arguments[i];if(c!=null)for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(o[l]=c[l])}return o}function LH(t,e){var r=new Ad(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();PH(a,n,e);var o=ui({},a,n,e),i;typeof window<"u"&&(i=window);var c=DH(a,n,e),l=IH(a,n,e),d=RH(r,o),u=OH(r,o,i);return{id:e.tableId,content:u,hooks:l,styles:c,settings:d}}function DH(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var d=t[l],u=e[l],h=r[l];n.columnStyles=ui({},d,u,h)}else{var y=[t,e,r],m=y.map(function(w){return w[l]||{}});n[l]=ui({},m[0],m[1],m[2])}},o=0,i=Object.keys(n);o<i.length;o++){var c=i[o];a(c)}return n}function IH(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,i=n;o<i.length;o++){var c=i[o];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function RH(t,e){var r,n,a,o,i,c,l,d,u,h,y,m,w=ag(e.margin,40/t.scaleFactor()),v=(r=TH(t,e.startY))!==null&&r!==void 0?r:w.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var b;e.showHead===!0?b="everyPage":e.showHead===!1?b="never":b=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var S=(o=e.useCss)!==null&&o!==void 0?o:!1,R=e.theme||(S?"plain":"striped"),W=!!e.horizontalPageBreak,z=(i=e.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:S,theme:R,startY:v,margin:w,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:b,showFoot:A,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:W,horizontalPageBreakRepeat:z,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function TH(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),o=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;o=i===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function OH(t,e,r){var n=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var i=e.includeHiddenHtml;if(r){var c=S6(t,e.html,r,i,e.useCss)||{};n=c.head||n,a=c.body||n,o=c.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||MH(n,a,o);return{columns:l,head:n,body:a,foot:o}}function MH(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var i=1,c;Array.isArray(n)?c=n[parseInt(o)]:c=n[o],typeof c=="object"&&!Array.isArray(c)&&(i=(c==null?void 0:c.colSpan)||1);for(var l=0;l<i;l++){var d=void 0;Array.isArray(n)?d=a.length:d=o+(l>0?"_".concat(l):"");var u={dataKey:d};a.push(u)}}),a}var _b=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),FH=function(t){b6(e,t);function e(r,n,a,o,i,c){var l=t.call(this,r,n,c)||this;return l.cell=a,l.row=o,l.column=i,l.section=o.section,l}return e}(_b),BH=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,o,i){for(var c=0,l=r;c<l.length;c++){var d=l[c],u=new FH(e,this,n,a,o,i),h=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var o=a[n];o(new _b(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var o=a[n];o(new _b(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),C6=function(){function t(e,r,n,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof v6&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var o;return Math.max(n,((o=r.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,o){var i=n.cells[o.index];if(!i)return 0;var c=r.getLineHeight(i.styles.fontSize),l=i.padding("vertical"),d=l+c;return d>a?d:a},0)},t}(),_6=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var i=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=i.split(c)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,o=n*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=ag(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),$H=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var o=a[n],i=o.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},t}();function qH(t,e){UH(t,e);var r=[],n=0;e.columns.forEach(function(o){var i=o.getMaxCustomCellWidth(e);i?o.width=i:(o.width=o.wrappedWidth,r.push(o)),n+=o.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=Eb(r,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=Eb(r,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),VH(e),HH(e,t),zH(e)}function UH(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=j6(t,e);e.allRows().forEach(function(o){for(var i=0,c=e.columns;i<c.length;i++){var l=c[i],d=o.cells[l.index];if(d){var u=e.hooks.didParseCell;e.callCellHooks(t,u,d,o,l,null);var h=d.padding("horizontal");d.contentWidth=H0(d.text,d.styles,t)+h;var y=H0(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=y+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/r;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var i=0,c=e.columns;i<c.length;i++){var l=c[i],d=o.cells[l.index];if(d&&d.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,d.wrappedWidth),l.minWidth=Math.max(l.minWidth,d.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,d.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}d&&(d.colSpan>1&&!l.minWidth&&(l.minWidth=d.minWidth),d.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=d.minWidth))}})}function Eb(t,e,r){for(var n=e,a=t.reduce(function(m,w){return m+w.wrappedWidth},0),o=0;o<t.length;o++){var i=t[o],c=i.wrappedWidth/a,l=n*c,d=i.width+l,u=r(i),h=d<u?u:d;e-=h-i.width,i.width=h}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(m){return e<0?m.width>r(m):!0});y.length&&(e=Eb(y,e,r))}return e}function zH(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var o=n[a],i=0,c=t.columns;i<c.length;i++){var l=c[i],d=e[l.index];if(r>1)r--,delete o.cells[l.index];else if(d)d.cell.height+=o.height,r=d.cell.colSpan,delete o.cells[l.index],d.left--,d.left<=1&&delete e[l.index];else{var u=o.cells[l.index];if(!u)continue;if(u.height=o.height,u.rowSpan>1){var h=n.length-a,y=u.rowSpan>h?h:u.rowSpan;e[l.index]={cell:u,left:y,row:o}}}}}function VH(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,o=0,i=0,c=0;c<t.columns.length;c++){var l=t.columns[c];if(i-=1,i>1&&t.columns[c+1])o+=l.width,delete n.cells[l.index];else if(a){var d=a;delete n.cells[l.index],a=null,d.width=l.width+o}else{var d=n.cells[l.index];if(!d)continue;if(i=d.colSpan,o=0,d.colSpan>1){a=d,o+=l.width;continue}d.width=l.width+o}}}function HH(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var o=a[n],i=0,c=t.columns;i<c.length;i++){var l=c[i],d=o.cells[l.index];if(d){e.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,u+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Lk(d.text,u,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Lk(d.text,u,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,u);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<y*d.rowSpan?r={height:y,count:d.rowSpan}:r&&r.count>0&&r.height>y&&(y=r.height),y>o.height&&(o.height=y)}}r.count--}}function Lk(t,e,r,n,a){return t.map(function(o){return WH(o,e,r,n,a)})}function WH(t,e,r,n,a){var o=1e4*n.scaleFactor();if(e=Math.ceil(e*o)/o,e>=H0(t,r,n))return t;for(;e<H0(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function GH(t,e){var r=new Ad(t),n=JH(e,r.scaleFactor()),a=new BH(e,n);return qH(r,a),r.applyStyles(r.userStyles),a}function JH(t,e){var r=t.content,n=YH(r.columns);if(r.head.length===0){var a=Dk(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Dk(n,"foot");a&&r.foot.push(a)}var o=t.settings.theme,i=t.styles;return{columns:n,head:Ty("head",r.head,n,i,o,e),body:Ty("body",r.body,n,i,o,e),foot:Ty("foot",r.foot,n,i,o,e)}}function Ty(t,e,r,n,a,o){var i={},c=e.map(function(l,d){for(var u=0,h={},y=0,m=0,w=0,v=r;w<v.length;w++){var A=v[w];if(i[A.index]==null||i[A.index].left===0)if(m===0){var b=void 0;Array.isArray(l)?b=l[A.index-y-u]:b=l[A.dataKey];var S={};typeof b=="object"&&!Array.isArray(b)&&(S=(b==null?void 0:b.styles)||{});var R=XH(t,A,d,a,n,o,S),W=new _6(b,R,t);h[A.dataKey]=W,h[A.index]=W,m=W.colSpan-1,i[A.index]={left:W.rowSpan-1,times:m}}else m--,y++;else i[A.index].left--,m=i[A.index].times,u++}return new C6(l,d,t,h)});return c}function Dk(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=KH(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function KH(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function YH(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new $H(a,e,r)})}function XH(t,e,r,n,a,o,i){var c=NH(n),l;t==="head"?l=a.headStyles:t==="body"?l=a.bodyStyles:t==="foot"&&(l=a.footStyles);var d=ui({},c.table,c[t],a.styles,l),u=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},h=t==="body"?u:{},y=t==="body"&&r%2===0?ui({},c.alternateRow,a.alternateRowStyles):{},m=jH(o),w=ui({},m,d,y,h);return ui(w,i)}function QH(t,e,r){var n;r===void 0&&(r={});var a=j6(t,e),o=new Map,i=[],c=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(y){var m=e.columns.find(function(w){return w.dataKey===y||w.index===y});m&&!o.has(m.index)&&(o.set(m.index,!0),i.push(m.index),c.push(e.columns[m.index]),a-=m.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(o.has(u)){u++;continue}var h=e.columns[u].wrappedWidth;if(d||a>=h)d=!1,i.push(u),c.push(e.columns[u]),a-=h;else break;u++}return{colIndexes:i,columns:c,lastIndex:u-1}}function ZH(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=QH(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function eW(t,e){var r=e.settings,n=r.startY,a=r.margin,o={x:a.left,y:n},i=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=n+a.bottom+i;if(r.pageBreak==="avoid"){var l=e.body,d=l.reduce(function(y,m){return y+m.height},0);c+=d}var u=new Ad(t);(r.pageBreak==="always"||r.startY!=null&&c>u.pageSize().height)&&(A6(u),o.y=a.top),e.callWillDrawPageHooks(u,o);var h=ui({},o);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?tW(u,e,h,o):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(y){return Ni(u,e,y,o,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(y,m){var w=m===e.body.length-1;W0(u,e,y,w,h,o,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(y){return Ni(u,e,y,o,e.columns)})),w6(u,e,h,o),e.callEndPageHooks(u,o),e.finalY=o.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function tW(t,e,r,n){var a=ZH(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?gf(t,e,r,n,d.columns,!0):Ik(t,e,n,d.columns),rW(t,e,r,n,d.columns),Oy(t,e,n,d.columns)});else for(var i=-1,c=a[0],l=function(){var d=i;if(c){t.applyStyles(t.userStyles);var u=c.columns;i>=0?gf(t,e,r,n,u,!0):Ik(t,e,n,u),d=Rk(t,e,i+1,n,u),Oy(t,e,n,u)}var h=d-i;a.slice(1).forEach(function(y){t.applyStyles(t.userStyles),gf(t,e,r,n,y.columns,!0),Rk(t,e,i+1,n,y.columns,h),Oy(t,e,n,y.columns)}),i=d};i<e.body.length-1;)l()}function Ik(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return Ni(t,e,o,r,n)})}function rW(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(o,i){var c=i===e.body.length-1;W0(t,e,o,c,r,n,a)})}function Rk(t,e,r,n,a,o){t.applyStyles(t.userStyles),o=o??e.body.length;var i=Math.min(r+o,e.body.length),c=-1;return e.body.slice(r,i).forEach(function(l,d){var u=r+d===e.body.length-1,h=E6(t,e,u,n);l.canEntireRowFit(h,a)&&(Ni(t,e,l,n,a),c=r+d)}),c}function Oy(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return Ni(t,e,o,r,n)})}function nW(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),o=Math.floor((e-a)/n);return Math.max(0,o)}function aW(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var o=0,i=0,c=r.columns;i<c.length;i++){var l=c[i],d=t.cells[l.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new _6(d.raw,d.styles,d.section);u=ui(u,d),u.text=[];var h=nW(d,e,n);d.text.length>h&&(u.text=d.text.splice(h,d.text.length));var y=n.scaleFactor(),m=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(y,m),d.contentHeight>=e&&(d.contentHeight=e,u.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(y,m),u.contentHeight>o&&(o=u.contentHeight),a[l.index]=u}}var w=new C6(t.raw,-1,t.section,a,!0);w.height=o;for(var v=0,A=r.columns;v<A.length;v++){var l=A[v],u=w.cells[l.index];u&&(u.height=w.height);var d=t.cells[l.index];d&&(d.height=t.height)}return w}function sW(t,e,r,n){var a=t.pageSize().height,o=n.settings.margin,i=o.top+o.bottom,c=a-i;e.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),d=l<r;if(l>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=e.hasRowSpan(n.columns),h=e.getMaxCellHeight(n.columns)>c;return h?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function W0(t,e,r,n,a,o,i){var c=E6(t,e,n,o);if(r.canEntireRowFit(c,i))Ni(t,e,r,o,i);else if(sW(t,r,c,e)){var l=aW(r,c,e,t);Ni(t,e,r,o,i),gf(t,e,a,o,i),W0(t,e,l,n,a,o,i)}else gf(t,e,a,o,i),W0(t,e,r,n,a,o,i)}function Ni(t,e,r,n,a){n.x=e.settings.margin.left;for(var o=0,i=a;o<i.length;o++){var c=i[o],l=r.cells[c.index];if(!l){n.x+=c.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,l,r,c,n);if(d===!1){n.x+=c.width;continue}oW(t,l,n);var u=l.getTextPos();x6(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,c,n),n.x+=c.width}n.y+=r.height}function oW(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=k6(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),iW(t,e,r,n.lineWidth))}function iW(t,e,r,n){var a,o,i,c;n.top&&(a=r.x,o=r.y,i=r.x+e.width,c=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,o,i,c)),n.bottom&&(a=r.x,o=r.y+e.height,i=r.x+e.width,c=r.y+e.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,o,i,c)),n.left&&(a=r.x,o=r.y,i=r.x,c=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(c+=.5*n.bottom),l(n.left,a,o,i,c)),n.right&&(a=r.x+e.width,o=r.y,i=r.x+e.width,c=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(c+=.5*n.bottom),l(n.right,a,o,i,c));function l(d,u,h,y,m){t.getDocument().setLineWidth(d),t.getDocument().line(u,h,y,m,"S")}}function E6(t,e,r,n){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function gf(t,e,r,n,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return Ni(t,e,c,n,a)}),e.callEndPageHooks(t,n);var i=e.settings.margin;w6(t,e,r,n),A6(t),e.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Ni(t,e,c,n,a)}),t.applyStyles(t.userStyles))}function A6(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function lW(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=LH(this,n),o=GH(this,a);return eW(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){x6(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Ad.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Ad.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Ad(this),o=S6(a,e,window,r,!1),i=o.head,c=o.body,l=((n=i[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:l,rows:c,data:c}}}var My;try{if(typeof window<"u"&&window){var Tk=window,Ok=Tk.jsPDF||((My=Tk.jspdf)===null||My===void 0?void 0:My.jsPDF);Ok&&lW(Ok)}}catch(t){console.error("Could not apply autoTable plugin",t)}async function cW(t,e,r){const n=new Bt({orientation:"portrait",unit:"mm",format:"a4"});n.setFont("helvetica"),await dW(n,r),n.setFontSize(16),n.setFont("helvetica","bold"),n.text("DEMONSTRATIVO DE RESULTADOS DO EXERCCIO (DRE)",105,40,{align:"center"}),n.setFontSize(10),n.setFont("helvetica","normal");const a=new Date(e.startDate).toLocaleDateString("pt-BR"),o=new Date(e.endDate).toLocaleDateString("pt-BR");n.text(`Perodo: ${a} a ${o}`,105,46,{align:"center"});let i=55;for(const l of t)i=uW(n,l,i),i>270&&(n.addPage(),i=20);const c=n.getNumberOfPages();for(let l=1;l<=c;l++)n.setPage(l),n.setFontSize(8),n.text(`Pgina ${l} de ${c}`,105,290,{align:"center"});n.save("DRE_Report.pdf")}async function dW(t,e){let r=!1;if(e.logo)try{const n=new Image;await new Promise(a=>{n.onload=()=>{try{n.width>0&&n.height>0&&(t.addImage(n,"PNG",15,10,30,20),r=!0)}catch(o){console.error("Error adding logo to PDF:",o)}a()},n.onerror=()=>{console.error("Error loading company logo"),a()},n.crossOrigin="anonymous",n.src=e.logo})}catch(n){console.error("Error in logo loading process:",n)}t.setFontSize(16),t.setFont("helvetica","bold"),t.text(e.name,r?50:15,15),t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`CNPJ: ${e.cnpj}`,r?50:15,22),t.setDrawColor(200,200,200),t.line(15,30,195,30)}function uW(t,e,r){const n=["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(e.title),a=e.categories.reduce((c,l)=>c+l.total,0);t.setFillColor(n?230:240,n?230:240,n?230:240),t.rect(15,r,180,8,"F"),t.setFontSize(11),t.setFont("helvetica",n?"bold":"normal"),t.text(e.title,20,r+5);const o=Fy(a);t.setTextColor(a<0?255:0,0,0),t.text(o,190,r+5,{align:"right"}),t.setTextColor(0,0,0);let i=r+10;if(!n)for(const c of e.categories){t.setFontSize(10),t.setFont("helvetica","normal"),t.text(c.name,25,i+5);const l=Fy(c.total);t.setTextColor(c.total<0?255:0,0,0),t.text(l,190,i+5,{align:"right"}),t.setTextColor(0,0,0),i+=8;for(const d of c.subcategories){i>270&&(t.addPage(),i=20),t.setFontSize(9),t.text(d.name,30,i+4);const u=Fy(d.total);t.setTextColor(d.total<0?255:0,0,0),t.text(u,190,i+4,{align:"right"}),t.setTextColor(0,0,0),i+=6}i+=2}return i+=5,t.setDrawColor(200,200,200),t.line(15,i-2,195,i-2),i}function Fy(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}async function fW(t,e,r){const n=hW(t,e,r),a=await pW(n);mW(a,"DRE_Report.xlsx")}function hW(t,e,r){const n=new Date(e.startDate).toLocaleDateString("pt-BR"),a=new Date(e.endDate).toLocaleDateString("pt-BR"),o=[["DEMONSTRATIVO DE RESULTADOS DO EXERCCIO (DRE)"],[`${r.name} - ${r.cnpj}`],[`Perodo: ${n} a ${a}`],[""]],i=[["Descrio","Valor (R$)"]],c=[];t.forEach(u=>{const h=["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(u.title),y=u.categories.reduce((m,w)=>m+w.total,0);c.push([u.title,y]),h||u.categories.forEach(m=>{c.push([`    ${m.name}`,m.total]),m.subcategories.forEach(w=>{c.push([`        ${w.name}`,w.total])})})});const l=yW(t);return c.push(["RESULTADO LQUIDO DO EXERCCIO",l]),{sheets:[{name:"DRE",data:[...o,...i,...c]}]}}async function pW(t){const e=t.sheets[0].data;let r="";return e.forEach(a=>{const o=a.map(i=>typeof i=="number"?gW(i):typeof i=="string"?`"${i.replace(/"/g,'""')}"`:i);r+=o.join(",")+`\r
`}),new TextEncoder().encode(r).buffer}function mW(t,e){const r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(n)},0)}function gW(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function yW(t){return t.reduce((e,r)=>{const n=r.categories.reduce((a,o)=>a+o.total,0);return r.title.includes("Receita")||r.title==="Outras Receitas"||r.title.includes("Lucro")||r.title.includes("Resultado")?e+n:r.title.includes("Despesa")||r.title==="Outras Despesas"||r.title.includes("Custo")||r.title.includes("Deduo")||r.title.includes("IR/CSLL")?e-Math.abs(n):e},0)}const Zi=t=>["Receita Operacional Bruta","Receita Lquida","Lucro Bruto","Resultado Operacional","Resultado Antes dos Tributos","IR/CSLL","Resultado Lquido"].includes(t),Mk=t=>({COST_OF_SALES:"Custos",OPERATIONAL_REVENUE:"Receita Operacional",OPERATING_EXPENSES:"Despesas Operacionais",FINANCIAL_REVENUE:"Receitas Financeiras",FINANCIAL_EXPENSES:"Despesas Financeiras",GROSS_REVENUE:"Receita Bruta",NET_REVENUE:"Receita Lquida",TAX_EXPENSES:"IR/CSLL",NET_PROFIT:"Resultado Lquido"})[t]||t;function xW(){const[t,e]=D.useState(!1),[r,n]=D.useState(null),[a,o]=D.useState({cnpjId:"",startDate:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[i,c]=D.useState([]),[l,d]=D.useState([]),[u,h]=D.useState([]),[y,m]=D.useState(null),[w,v]=D.useState(!1),A=[{id:"1",name:"Empresa Principal",cnpj:"12.345.678/0001-90"},{id:"2",name:"Filial SP",cnpj:"98.765.432/0001-10"},{id:"3",name:"Filial RJ",cnpj:"45.678.901/0001-23"}],b=async()=>{e(!0),n(null);try{const{data:_,error:x}=await De.functions.invoke("get-dre",{body:{start_date_param:a.startDate,end_date_param:a.endDate}});if(x)throw x;c(_)}catch(_){console.error("Erro ao buscar DRE:",_),n("Erro ao carregar dados do DRE. Por favor, tente novamente.")}finally{e(!1)}},S=async()=>{e(!0);try{const _=i.map(E=>E.title),x=i.flatMap(E=>E.categories.map(U=>U.id));d(_),h(x);const j=a.cnpjId?A.find(E=>E.id===a.cnpjId):{name:"Todas as Empresas",cnpj:"Consolidado"},P={name:(j==null?void 0:j.name)||"Empresa",cnpj:(j==null?void 0:j.cnpj)||"",logo:"https://via.placeholder.com/150x50?text=Logo"};await cW(i,a,P)}catch(_){console.error("Error exporting DRE as PDF:",_),n("Erro ao exportar DRE como PDF. Por favor, tente novamente.")}finally{e(!1)}},R=async()=>{e(!0);try{const _=i.map(E=>E.title),x=i.flatMap(E=>E.categories.map(U=>U.id));d(_),h(x);const j=a.cnpjId?A.find(E=>E.id===a.cnpjId):{name:"Todas as Empresas",cnpj:"Consolidado"},P={name:(j==null?void 0:j.name)||"Empresa",cnpj:(j==null?void 0:j.cnpj)||"",logo:"https://via.placeholder.com/150x50?text=Logo"};await fW(i,a,P)}catch(_){console.error("Error exporting DRE as Excel:",_),n("Erro ao exportar DRE como Excel. Por favor, tente novamente.")}finally{e(!1)}},W=_=>{d(x=>x.includes(_)?x.filter(j=>j!==_):[...x,_])},z=_=>{h(x=>x.includes(_)?x.filter(j=>j!==_):[...x,_])},B=_=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_),g=_=>_.categories.reduce((x,j)=>x+j.total,0),I=_=>_>0?"text-green-600 dark:text-green-400":_<0?"text-red-600 dark:text-red-400 font-bold":"text-secondary-600 dark:text-secondary-400",k=_=>{const x={..._,date:"2024-01-15",competenceDate:"2024-01-01",beneficiary:"Fornecedor XYZ Ltda",bankAccount:"Banco do Brasil - Ag. 1234 / CC 56789-0",cnpj:"Empresa Principal - 12.345.678/0001-90",category:"Despesas Operacionais > Despesas Administrativas > Pessoal",attachments:["https://example.com/attachment1.pdf","https://example.com/attachment2.pdf"]};m(x),v(!0)};return s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-secondary-900 dark:text-white",children:"DRE  Demonstrativo de Resultados"}),s.jsx("p",{className:"mt-1 text-secondary-500 dark:text-secondary-400",children:"Visualize o desempenho financeiro da empresa"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:S,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(_l,{className:"h-5 w-5"}),s.jsx("span",{children:"PDF"})]}),s.jsxs("button",{onClick:R,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-secondary-100 dark:bg-secondary-700 text-secondary-700 dark:text-secondary-300 rounded-lg hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors",children:[s.jsx(y4,{className:"h-5 w-5"}),s.jsx("span",{children:"Excel"})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"CNPJ"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:a.cnpjId,onChange:_=>o({...a,cnpjId:_.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",children:[s.jsx("option",{value:"",children:"Todos os CNPJs"}),A.map(_=>s.jsxs("option",{value:_.id,children:[_.name," - ",_.cnpj]},_.id))]}),s.jsx(jn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsxs("div",{className:"flex-1 sm:flex-none sm:w-48",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Incio"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:a.startDate,onChange:_=>o({...a,startDate:_.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10"}),s.jsx(Md,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsxs("div",{className:"flex-1 sm:flex-none sm:w-48",children:[s.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-300 mb-1",children:"Data Fim"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"date",value:a.endDate,onChange:_=>o({...a,endDate:_.target.value}),className:"w-full px-4 py-2 border border-secondary-200 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-900 text-secondary-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10"}),s.jsx(Md,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-400"})]})]}),s.jsx("div",{className:"flex-none self-end",children:s.jsxs("button",{onClick:b,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors h-10",children:[s.jsx(vc,{className:"h-5 w-5"}),s.jsx("span",{children:"Filtrar"})]})})]})}),r&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg",children:r}),s.jsxs("div",{className:"bg-white dark:bg-secondary-800 rounded-lg shadow-sm border border-secondary-200 dark:border-secondary-700 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("h2",{className:"text-lg font-medium text-secondary-900 dark:text-white",children:"Demonstrativo de Resultados"}),s.jsxs("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:["Perodo: ",new Date(a.startDate).toLocaleDateString("pt-BR")," a ",new Date(a.endDate).toLocaleDateString("pt-BR")]})]}),t?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary-500"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-b border-secondary-200 dark:border-secondary-700",children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider w-3/4",children:"Descrio"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 dark:text-secondary-400 uppercase tracking-wider w-1/4",children:"Valor (R$)"})]})}),s.jsxs("tbody",{className:"divide-y divide-secondary-200 dark:divide-secondary-700",children:[i.map(_=>s.jsxs($r.Fragment,{children:[s.jsxs("tr",{className:`
          ${Zi(_.title)?"bg-secondary-100 dark:bg-secondary-700 font-semibold":"bg-secondary-50 dark:bg-secondary-800 cursor-pointer hover:bg-secondary-100 dark:hover:bg-secondary-700"} transition-colors
        `,onClick:()=>!Zi(_.title)&&W(_.title),children:[s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center",children:[Zi(_.title)?null:l.includes(_.title)?s.jsx(_1,{className:"h-5 w-5 text-secondary-500 mr-2"}):s.jsx(Ix,{className:"h-5 w-5 text-secondary-500 mr-2"}),Mk(_.title)]})}),s.jsx("td",{className:`px-6 py-3 text-sm ${Zi(_.title)?"font-bold text-lg":"font-semibold"} text-right`,children:s.jsx("span",{className:I(g(_)),children:B(g(_))})})]}),(l.includes(_.title)||Zi(_.title))&&_.categories.map(x=>s.jsxs($r.Fragment,{children:[!Zi(_.title)&&s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors cursor-pointer",onClick:()=>z(x.id),children:[s.jsx("td",{className:"px-6 py-3 text-sm text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center pl-6",children:[x.subcategories.length>0&&(u.includes(x.id)?s.jsx(_1,{className:"h-4 w-4 text-secondary-500 mr-2"}):s.jsx(Ix,{className:"h-4 w-4 text-secondary-500 mr-2"})),x.name]})}),s.jsx("td",{className:"px-6 py-3 text-sm text-right",children:s.jsx("span",{className:I(x.total??0),children:B(x.total??0)})})]}),!Zi(_.title)&&u.includes(x.id)&&x.subcategories.map(j=>s.jsxs("tr",{className:"hover:bg-secondary-50 dark:hover:bg-secondary-800 transition-colors cursor-pointer",onClick:()=>k(j),children:[s.jsx("td",{className:"px-6 py-2 text-sm text-secondary-700 dark:text-secondary-300",children:s.jsx("div",{className:"pl-12",children:j.name})}),s.jsx("td",{className:"px-6 py-2 text-sm text-right",children:s.jsx("span",{className:I(j.total??0),children:B(j.total??0)})})]},j.id))]},x.id)),!Zi(_.title)&&l.includes(_.title)&&s.jsxs("tr",{className:"bg-secondary-50 dark:bg-secondary-800 border-t border-secondary-200 dark:border-secondary-700",children:[s.jsx("td",{className:"px-6 py-2 text-sm font-medium text-secondary-900 dark:text-white",children:s.jsxs("div",{className:"pl-6",children:["Total ",Mk(_.title)]})}),s.jsx("td",{className:"px-6 py-2 text-sm font-medium text-right",children:s.jsx("span",{className:I(g(_)),children:B(g(_))})})]})]},_.title)),s.jsxs("tr",{className:"bg-secondary-100 dark:bg-secondary-700 font-bold",children:[s.jsx("td",{className:"px-6 py-4 text-secondary-900 dark:text-white",children:"RESULTADO LQUIDO DO EXERCCIO"}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:`text-xl ${Fk(i)<0?"text-red-600 dark:text-red-400 font-bold":"text-green-600 dark:text-green-400"}`,children:B(Fk(i))})})]})]})]})})]}),y&&s.jsx(SV,{isOpen:w,onClose:()=>v(!1),entry:y})]})}function Fk(t){return t.reduce((e,r)=>{const n=r.categories.reduce((i,c)=>i+(c.total||0),0),a=["OPERATIONAL_REVENUE","GROSS_REVENUE","FINANCIAL_REVENUE","NET_REVENUE"],o=["COST_OF_SALES","OPERATING_EXPENSES","FINANCIAL_EXPENSES","TAX_EXPENSES"];return a.includes(r.title)?e+n:o.includes(r.title)?e-Math.abs(n):e},0)}window.$=YC;window.jQuery=YC;const bW=[{path:"dashboard",permission:"dashboard"},{path:"payment-center",permission:"payment-center"},{path:"payment-requests",permission:"payment-requests"},{path:"receivables-center",permission:"receivables-center"},{path:"payment-approvals",permission:"payment-approvals"},{path:"bank-statement",permission:"bank-statement"},{path:"bank-reconciliation",permission:"bank-reconciliation"},{path:"credit-card-reconciliation",permission:"credit-card-reconciliation"},{path:"refund-requests",permission:"refund-requests"},{path:"refund-reasons",permission:"refund-reasons"},{path:"refund-responsibles",permission:"refund-responsibles"},{path:"asset-depreciation",permission:"asset-depreciation"},{path:"passives",permission:"passives"},{path:"equity",permission:"equity"},{path:"income-statement",permission:"income-statement"},{path:"cash-flow",permission:"cash-flow"},{path:"accounting-export",permission:"accounting-export"},{path:"cnpjs",permission:"cnpjs"},{path:"users",permission:"users"},{path:"permissions",permission:"permissions"},{path:"financial-categories",permission:"financial-categories"},{path:"payment-methods",permission:"payment-methods"},{path:"bank-accounts",permission:"bank-accounts"},{path:"email-config",permission:"email-config"},{path:"dda-config",permission:"dda-config"},{path:"alerts",permission:"alerts"}];function vW(){return s.jsx(uL,{children:s.jsx(wW,{})})}function wW(){const t=_v(),[e,r]=D.useState(()=>!!localStorage.getItem("userId")),[n,a]=D.useState(()=>{const w=localStorage.getItem("theme");return w||"light"}),[o,i]=D.useState("");D.useEffect(()=>{n==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const[c,l]=D.useState("dashboard"),d=w=>{w==="logout"?m():(t(`/${w}`),l(w))},u=()=>{const w=n==="light"?"dark":"light";a(w),localStorage.setItem("theme",w)},h=()=>{const w=JSON.parse(localStorage.getItem("userPermissions")||"[]");console.log(w);const v=bW.find(A=>w.includes(A.permission));return v?v.path:"unauthorized"},y=()=>{r(!0);const w=h();console.log(w),i(w),t(`/${w}`)},m=()=>{r(!1),localStorage.clear(),t("/login")};return s.jsx("div",{className:n==="dark"?"dark":"",children:s.jsxs("div",{className:"min-h-screen bg-secondary-50 dark:bg-secondary-900",children:[e&&s.jsx(zL,{onPageChange:d,currentPage:c}),s.jsxs("div",{className:`relative ${e?"md:ml-16":""}`,children:[e&&s.jsx(VL,{theme:n,onThemeToggle:u}),s.jsx("main",{className:`${e?"pt-16":""}`,children:s.jsxs(qP,{children:[s.jsx(Or,{path:"/",element:e?s.jsx(Ku,{to:`/${h()}`,replace:!0}):s.jsx(Ku,{to:"/login",replace:!0})}),s.jsx(Or,{path:"/login",element:s.jsx(kV,{onLogin:y})}),e?s.jsxs(s.Fragment,{children:[s.jsx(Or,{path:"/unauthorized",element:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"You don't have permission to access any pages. Please contact your administrator."})]})}),s.jsx(Or,{path:"/dashboard",element:s.jsx(dn,{requiredPermission:"dashboard",children:s.jsx(wV,{})})}),s.jsx(Or,{path:"/users",element:s.jsx(dn,{requiredPermission:"users",children:s.jsx(D8,{})})}),s.jsx(Or,{path:"/permissions",element:s.jsx(dn,{requiredPermission:"permissions",children:s.jsx($8,{})})}),s.jsx(Or,{path:"/cnpjs",element:s.jsx(dn,{requiredPermission:"cnpjs",children:s.jsx(k8,{})})}),s.jsx(Or,{path:"/payment-methods",element:s.jsx(dn,{requiredPermission:"payment-methods",children:s.jsx(K8,{})})}),s.jsx(Or,{path:"/bank-accounts",element:s.jsx(dn,{requiredPermission:"bank-accounts",children:s.jsx(Z8,{})})}),s.jsx(Or,{path:"/financial-categories",element:s.jsx(dn,{requiredPermission:"financial-categories",children:s.jsx($O,{})})}),s.jsx(Or,{path:"/payment-requests",element:s.jsx(dn,{requiredPermission:"payment-requests",children:s.jsx(AF,{})})}),s.jsx(Or,{path:"/payment-center",element:s.jsx(dn,{requiredPermission:"payment-center",children:s.jsx(NB,{})})}),s.jsx(Or,{path:"/receivables-center",element:s.jsx(dn,{requiredPermission:"receivables-center",children:s.jsx($B,{})})}),s.jsx(Or,{path:"/payment-approvals",element:s.jsx(dn,{requiredPermission:"payment-approvals",children:s.jsx(VB,{})})}),s.jsx(Or,{path:"/email-config",element:s.jsx(dn,{requiredPermission:"email-config",children:s.jsx(YB,{})})}),s.jsx(Or,{path:"/dda-config",element:s.jsx(dn,{requiredPermission:"dda-config",children:s.jsx(QB,{})})}),s.jsx(Or,{path:"/refund-requests",element:s.jsx(dn,{requiredPermission:"refund-requests",children:s.jsx(i$,{})})}),s.jsx(Or,{path:"/refund-reasons",element:s.jsx(dn,{requiredPermission:"refund-reasons",children:s.jsx(t$,{})})}),s.jsx(Or,{path:"/refund-responsibles",element:s.jsx(dn,{requiredPermission:"refund-responsibles",children:s.jsx(a$,{})})}),s.jsx(Or,{path:"/asset-depreciation",element:s.jsx(dn,{requiredPermission:"asset-depreciation",children:s.jsx(u$,{})})}),s.jsx(Or,{path:"/passives",element:s.jsx(dn,{requiredPermission:"passives",children:s.jsx(g$,{})})}),s.jsx(Or,{path:"/bank-statement",element:s.jsx(dn,{requiredPermission:"bank-statement",children:s.jsx(yV,{})})}),s.jsx(Or,{path:"/bank-reconciliation",element:s.jsx(dn,{requiredPermission:"bank-reconciliation",children:s.jsx(xV,{})})}),s.jsx(Or,{path:"/credit-card-reconciliation",element:s.jsx(dn,{requiredPermission:"credit-card-reconciliation",children:s.jsx(vV,{})})}),s.jsx(Or,{path:"/income-statement",element:s.jsx(dn,{requiredPermission:"income-statement",children:s.jsx(xW,{})})}),s.jsx(Or,{path:"*",element:s.jsx(Ku,{to:`/${o}`,replace:!0})})]}):s.jsx(Or,{path:"*",element:s.jsx(Ku,{to:"/login",replace:!0})})]})})]})]})})}QN(document.getElementById("root")).render(s.jsx(D.StrictMode,{children:s.jsx(vW,{})}));export{Xu as _,ps as c,Bk as g};
